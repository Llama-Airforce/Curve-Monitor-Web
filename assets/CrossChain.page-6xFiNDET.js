import{_ as V,a as H}from"./TabItem.vue_vue_type_script_setup_true_lang-GKF7Wwd8.js";import{d as f,e as h,o as l,w as d,b as _,u as t,f as a,j as $,i as n,Q as m,g as R,a7 as A,_ as k,a as S,a2 as Q,V as q}from"./index-CuzgYi1R.js";import{_ as x}from"./Table-C0dQYGmy.js";import{_ as E}from"./ChainIcon-5YfYDiO_.js";import{t as F,g as K,f as L}from"./timestamp-C4C6eGnP.js";import{u as j}from"./useQuery-Dp48GBZO.js";import{u as D}from"./UseRelativeTime-C8QD789p.js";import{u as J}from"./UseTabNavigation-C_9k26ss.js";import"./index-xjawguY8.js";const P=c=>({lastRecordedBlock:c.last_recorded_block,oracles:c.oracles.map(({block_header:e,...o})=>({chain:o.chain,address:o.address,lastConfirmedBlockNumber:o.last_confirmed_block_number,blockHeader:{hashBlock:e.block_hash,hashParent:e.parent_hash,stateRoot:e.state_root,blockNumber:e.block_number,timestamp:F(e.timestamp)}}))});async function U(c){const e=K(c),o=await L(`${e}/v1/oracles/all`);return P(o)}function z(){return j({queryKey:["oracles-all"],queryFn:()=>U()})}const G={class:"icon"},M=["onClick"],W={class:"end"},X=["onClick"],Y=["onClick"],Z=["onClick"],ee={class:"end"},se=f({__name:"TableOracles",setup(c){const{isFetching:e,data:o}=z(),{relativeTime:v}=D();async function r(s){A({text:`Copied ${s}`,type:"success",duration:5e3}),await navigator.clipboard.writeText(s)}return(s,b)=>{const u=E,w=x,O=R;return l(),h(O,{title:"Oracles",loading:t(e)},{actions:d(()=>{var i;return[$(" Last Recorded Block: "+n((i=t(o))==null?void 0:i.lastRecordedBlock),1)]}),default:d(()=>{var i;return[_(w,{loading:t(e),rows:((i=t(o))==null?void 0:i.oracles)??[],columns:["Chain","Address",{label:"Last Block",align:"end"},"Block Hash","Parent Hash","State Root",{label:"Time",align:"end"}]},{row:d(({item:{chain:g,address:C,lastConfirmedBlockNumber:N,blockHeader:{hashBlock:T,hashParent:B,stateRoot:y,timestamp:I}}})=>[a("div",G,[_(u,{chain:g},null,8,["chain"]),$(" "+n(g),1)]),a("div",null,[a("a",{onClick:p=>r(C)},n(("addressShort"in s?s.addressShort:t(m))(C,12)),9,M)]),a("div",W,n(N),1),a("div",null,[a("a",{onClick:p=>r(T)},n(("addressShort"in s?s.addressShort:t(m))(T,12)),9,X)]),a("div",null,[a("a",{onClick:p=>r(B)},n(("addressShort"in s?s.addressShort:t(m))(B,12)),9,Y)]),a("div",null,[a("a",{onClick:p=>r(y)},n(("addressShort"in s?s.addressShort:t(m))(y,12)),9,Z)]),a("div",ee,n(t(v)(I.getTime())),1)]),_:1},8,["loading","rows"])]}),_:1},8,["loading"])}}}),oe=k(se,[["__scopeId","data-v-73433d40"]]),ae={class:"dashboard-grid"},te=f({__name:"BlockOracles",setup(c){return(e,o)=>(l(),S("div",ae,[_(oe,{style:{"grid-area":"oracles"}})]))}}),ne=k(te,[["__scopeId","data-v-bf881f2d"]]),ce={class:"dashboard"},re=f({__name:"CrossChain.page",setup(c){const{tabActive:e,tabActiveIndex:o}=J(["block-oracles"],"cross-chain");return(v,r)=>{const s=V,b=H;return l(),S("div",ce,[_(b,{active:t(o),onTab:r[0]||(r[0]=u=>o.value=u.index)},{default:d(()=>[_(s,{header:"Block Oracles"},{default:d(()=>[(l(),h(Q,null,[t(e)==="block-oracles"?(l(),h(ne,{key:0})):q("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),ke=k(re,[["__scopeId","data-v-f7c09895"]]);export{ke as default};

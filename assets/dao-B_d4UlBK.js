import{ai as s,ak as o,aj as r,ae as n,z as l,u as i}from"./index-BYnNAfSP.js";const p=e=>({day:s(e.day),amount:BigInt(e.amount)}),y=e=>({timestamp:s(e.dt),amount:BigInt(Math.round(parseFloat(e.amount))),unlockTime:s(e.unlock_time),lockType:e.lock_type,lockedBalance:BigInt(Math.round(parseFloat(e.locked_balance))),txHash:e.transaction_hash}),d=e=>({timestamp:s(e.dt),veCrvTotal:BigInt(e.total_vecrv),crvEscrowed:BigInt(e.escrowed_crv),crvSupply:BigInt(e.crv_supply),circulatingSupply:BigInt(e.circulating_supply),lockedSupplyDetails:e.locked_supply_details.map(a=>({address:a.address,label:a.label,locked:BigInt(a.locked)})),blockNumber:e.block_number,txHash:e.transaction_hash}),k=e=>({user:e.user,locked:BigInt(Math.round(parseFloat(e.locked))),weight:BigInt(Math.round(parseFloat(e.weight))),weightRatio:parseFloat(e.weight_ratio.slice(0,-1)),unlockTime:s(e.unlock_time)});async function m(e,a){const t=r(a);return(await o(`${t}/v1/dao/locks/daily/${e}`)).locks.map(p)}async function g(e,a){const t=r(a);return(await o(`${t}/v1/dao/locks/${e}`)).locks.map(y)}async function h(e,a){const t=r(a);return(await o(`${t}/v1/dao/lockers/${e}`)).users.map(k)}async function v(e,a){const t=r(a);return(await o(`${t}/v1/dao/supply/${e}`)).supply.map(d)}function c(){return{initialData:[],initialDataUpdatedAt:0}}function f(e=30){return n({queryKey:["dao-locks-daily",e],queryFn:()=>m(e),...c()})}function B(e){return n({queryKey:["dao-locks-user",l(()=>e.value)],queryFn:({queryKey:[,a]})=>g(a),enabled:l(()=>!!e.value),...c()})}function w(e=20){return n({queryKey:["dao-lockers",e],queryFn:()=>h(e),...c()})}function I(e=30){const a=l(()=>i(e));return n({queryKey:["dao-supply",a],queryFn:()=>v(a.value),...c()})}export{I as a,f as b,w as c,B as u};

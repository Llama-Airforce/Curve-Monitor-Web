import{p as fn,f as gn,l as z,I as ft,C as gt,L as Wt,d as k,r as P,c as C,w as T,t as x,o as b,a as D,b as y,e as _,g as w,h as ce,i as qt,n as F,j as W,k as V,F as se,T as bn,u as n,m as Ae,q as yn,s as $n,v as wn,W as kn,x as Cn,y as Sn,z as K,A as c,B as Do,D as Ht,E as xn,G as B,H as me,J as te,K as ae,M as je,N as xe,O as q,P as Mo,Q as To,R as An,S as Fe,U as Ke,V as ia,X as In,Y as Ln,Z as bt,_ as ue,$ as Nt,a0 as Gt,a1 as Vo,a2 as Pn,a3 as Dn,a4 as Mn,a5 as lt,a6 as ne,a7 as Ue,a8 as Tn,a9 as Vn,aa as Mt,ab as zn,ac as he,ad as Bn,ae as On,af as Rn,ag as Fn,ah as Un,ai as be,aj as Qt,ak as zo,al as Yt,am as En,an as Wn,ao as qn,ap as Hn,aq as Nn,ar as Gn,as as Qn,at as Yn}from"./vendor-6dcc3284.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function jn(o){return o!=null}function Ie(o,e){const t=new Date(o.valueOf());return t.setUTCDate(t.getUTCDate()+e),t}function Jn(o){function e(h){return h<10?"0"+h.toString():h.toString()}const t=o.getTime()-new Date().getTime();if(t<=0)return"00:00:00:00";const a=1e3,s=a*60,l=s*60,u=l*24,p=Math.floor(t/u),i=Math.floor(t%u/l),d=Math.floor(t%l/s),v=Math.floor(t%s/a);return e(p)+":"+e(i)+":"+e(d)+":"+e(v)}function Ve(o,e=0,t=".",a=","){const s=isFinite(+o)?+o:0,l=isFinite(+e)?Math.abs(e):0,u=typeof a>"u"?",":a,p=typeof t>"u"?".":t,i=function(v,h){const g=Math.pow(10,h);return Math.round(v*g)/g},d=(l?i(s,l):Math.round(s)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(d[1]||"").length<l&&(d[1]=d[1]||"",d[1]+=new Array(l-d[1].length+1).join("0")),d.join(p)}function j(o,e){const t=Math.abs(o);return e==="percentage"?"%":e==="dollar"?t>=1*10**12?"t":t>=1*10**9?"b":t>=1*10**6?"m":t>=1*10**3?"k":"":""}function J(o,e,t){const a=Math.abs(o);return t==="percentage"?Ve(o,e):t==="dollar"?a>=1*10**12?Ve(o/10**12,e):a>=1*10**9?Ve(o/10**9,e):a>=1*10**6?Ve(o/10**6,e):a>=1*10**3?Ve(o/10**3,e):Ve(o,e):o.toString()}function ze(o){return Number(o.toFixed(o>100?0:2)).toLocaleString()}function ot(o,e){return parseFloat(gn(o,e))}function Kn(o,e){return fn(o.toFixed(Number(e)),Number(e)).toBigInt()}async function Bo(o,e=0,t=1e3){const a=await o(e,t),s=await(a.length>=t?Bo(o,e+1,t):Promise.resolve([]));return a.concat(s)}const Oo={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},St={steth:"steth","Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: MIM-UST":"mim",tricrypto2:"tricrypto2","3pool":"3pool",ib:"cream",usdn:"usdn",ren:"ren",alusd:"alusd",frax:"frax",ironbank:"ironbank",pbtc:"pbtc",bbtc:"bbtc",sbtc:"sbtc",obtc:"obtc",compound:"comp",ankreth:"ankreth",saave:"aave",aeth:"aeth",tbtc:"tbtc",usdp:"usdp","Curve.fi Factory Plain Pool: cvxCRV":"crv",eurs:"eurs",lusd:"lusd",seth:"seth",hbtc:"hbtc",aave:"aave",link:"link",susd:"susd",eurt:"eurt",busdv2:"busd",reth:"reth","Curve.fi Factory Plain Pool: ibCHF-sCHF":"chf",gusd:"gusd","Curve.fi Factory Plain Pool: ibGBP-sGBP":"gbp",tricrypto:"tricrypto",busd:"busd",y:"yfi","Curve.fi Factory Plain Pool: ibJPY-sJPY":"jpy","Curve.fi Factory Plain Pool: ibAUD-sAUD":"aud","Curve.fi Factory Plain Pool: ibEUR-sEUR":"eur","Curve.fi Factory Plain Pool: ibKRW-sKRW":"krw",tusd:"tusd",dusd:"dusd",ust:"ust",rsv:"rsv",musd:"musd",husd:"husd",usdt:"usdt",usdk:"usdk",pax:"pax","Curve.fi Factory Pool: alETH":"alusd","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eur","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eurs","Curve EURT-3Crv":"eurt","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"ust","Curve.fi Factory BTC Metapool: ibBTC":"ibbtc","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-usdp","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve T-ETH":"t","Curve.fi Factory Crypto Pool: YFI-ETH":"yfi","Curve SPELL-ETH":"spell","Curve.fi Factory Crypto Pool: FXS-ETH":"fxs","Curve.fi Factory USD Metapool: FEI Metapool":"fei"},Zn={"f-ustw":"ust","f-d3pool":"d3pool",eursusd:"stasis","crv-eth":"crv","ust-wormhole":"ust","fixedforex:chf":"chf","fixedforex:gbp":"gbp","fixedforex:jpy":"jpy","fixedforex:aud":"aud","fixedforex:eur":"eur","fixedforex:krw":"krw",rai:"rai",cvxeth:"cvx","3eur":"3eur-pool",teth:"t","f-fei":"fei",cvxfxs:"fxs","avalanche-f-3pool":"3pool","fantom-f-4POOL":"3pool"},Xn={"f-cadcusdc":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xcadc0acd4b445166f12d2c07eac6e2544fbe2eef.png","f-pwrd":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xf0a93d4994b3d98fb5e3a2f90dbc2d69073cb86b.png","f-lfteth":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xb620be8a1949aa9532e6a3510132864ef9bc3f82.png"};function Ce(o){const e=Oo[o];return e||o}function Ro(o){const e=z.invert(Oo)[o];return e||o}function jt(o,e=!0){let t=St[o]??St[Ce(o)]??St[Ro(o)]??Zn[o]??"";return t=t?`/pool-icons.svg#${t}`:Xn[o],t||(e?"/why.png":"empty.png")}async function vt(o,e=250){const t=new Promise(s=>setTimeout(()=>{s(null)},e)),[,a]=await Promise.all([t,o]);return a}function Tt(o,e){return(Array.isArray(o)?o:[o]).some(a=>e.path.startsWith(a))}const Jt="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",el="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",tl="0x657ce046d98d163ef4f846210f25919fa7b31944",Fo="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Uo="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",al="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",Vt=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];class Eo{static createInterface(){return new ft(Vt)}static connect(e,t){return new gt(e,Vt,t)}}Eo.abi=Vt;const zt=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}];class Wo{static createInterface(){return new ft(zt)}static connect(e,t){return new gt(e,zt,t)}}Wo.abi=zt;const Bt=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}];class qo{static createInterface(){return new ft(Bt)}static connect(e,t){return new gt(e,Bt,t)}}qo.abi=Bt;const Ot=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}];class Ho{static createInterface(){return new ft(Ot)}static connect(e,t){return new gt(e,Ot,t)}}Ho.abi=Ot;const ol="https://api.llama.airforce/";async function sl(o,e,t){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:t}).then(a=>{if(a.ok)return a;throw new Error(`Fetch error ${a.status} for URL: ${o}`)})}async function nl(o,e,t){return await(await sl(o,e,t)).json()}class $e{constructor(e){this.host=e}async fetch(e,t,a){return nl(e,t,a)}}async function ll(o){try{return await o()}catch(e){e instanceof Error&&Wt({text:e.message,type:"error"});return}}const rl="|/-\\",O=k({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,t=0;const a=P("|"),s=C(()=>o.value?J(o.value,typeof o.precision=="function"?o.precision(o.value):o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?a.value:"?"),l=C(()=>!o.value||!o.type||!z.isFinite(o.value)?o.showUnit&&o.type?j(0,o.type):"":j(o.value,o.type));return T(()=>o.value,u=>{if(clearInterval(t),e=0,u)return;const p=()=>{e=(e+1)%4,a.value=rl[e]};t=window.setInterval(p,250)},{immediate:!0}),(u,p)=>x(u.showSymbol&&u.type==="dollar"?"$":"")+x(s.value)+x(u.showUnit?l.value:"")}}),il={key:0,class:"fas fa-chevron-right"},cl=k({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const t=s=>{var l;return o.active?o.active.id===s.id:((l=o.crumbs.at(-1))==null?void 0:l.id)===s.id},a=s=>{var l;return((l=o.crumbs.at(-1))==null?void 0:l.id)===s.id};return(s,l)=>(b(),D(n(Y),null,{default:y(()=>[_(bn,{name:"fade",tag:"ul"},{default:y(()=>[(b(!0),w(se,null,ce(s.crumbs,u=>(b(),w("li",{key:u.id},[(b(),D(qt(t(u)?"span":"a"),{class:F({active:t(u)}),onClick:p=>e("crumb",u)},{default:y(()=>[W(x(u.label),1)]),_:2},1032,["class","onClick"])),!a(u)||s.crumbs.length===1?(b(),w("i",il)):V("",!0)]))),128))]),_:1})]),_:1}))}});const S=(o,e)=>{const t=o.__vccOpts||o;for(const[a,s]of e)t[a]=s;return t},No=S(cl,[["__scopeId","data-v-997741c8"]]);function ul(){return!1}const Go=Ae({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),dl=yn(),pl=$n({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),_l=Cn({darkMode:!0}),ml=Sn();let ke=null;function vl(){const o=wn({wallets:[dl,pl,_l,ml],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let Rt=null;async function Qo(o=!1){ke||(ke=vl());let[e]=ke.state.get().wallets;if(!e){const t=window.localStorage.getItem("connectedWallet");t?[e]=await ke.connectWallet({autoSelect:{label:t,disableModals:!0}}):o&&([e]=await(ke==null?void 0:ke.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}Rt=e||null}function Be(){return Rt?new kn(Rt.provider):void 0}async function hl(){if(!ke)return;const[o]=ke.state.get().wallets;await ke.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Yo(o){if(!o)return!1;try{const t=await o.getSigner().getAddress();return!0}catch{return!1}}async function jo(o){if(!o)return!1;try{const{name:e,chainId:t}=await o.getNetwork();return e==="homestead"&&t===1}catch{return!1}}async function fl(o){return await o.getSigner().getAddress()}function Se(o,e=6){if(!o)return"0x000...000";const t=e/2+2,a=o.length-e/2;return`${o.substring(0,t)}...${o.substring(a)}`}const gl=k({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=async a=>{if(a.stopImmediatePropagation(),o.web3&&ul()){const s=Be();if(!s)return;await jo(s)||(await s.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}e("click")};return(a,s)=>(b(),w("button",{class:F({primary:a.primary}),onClick:t},[K(a.$slots,"default",{},()=>[a.icon?(b(),w("i",{key:0,class:F(["icon",[a.icon,{noValue:!!a.value}]])},null,2)):V("",!0),W(" "+x(a.value),1)],!0)],2))}});const Z=S(gl,[["__scopeId","data-v-b051a687"]]),bl=k({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const t=()=>{e("update:modelValue",!o.modelValue)};return(a,s)=>(b(),w("button",{class:F({toggled:a.modelValue}),onClick:t},[K(a.$slots,"default",{},()=>[a.icon?(b(),w("i",{key:0,class:F(["icon",a.icon])},null,2)):V("",!0),W(" "+x(a.value),1)],!0)],2))}});const Me=S(bl,[["__scopeId","data-v-a2cabc6a"]]),yl={class:"card"},$l={class:"text"},wl=k({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,t)=>(b(),w("div",yl,[e.loading?(b(),D(n(rt),{key:0,class:"loader"})):V("",!0),c("div",{class:F(["card-container",{loading:e.loading}])},[e.title?(b(),w("div",{key:0,class:F(["card-header",{collapsible:e.collapsible}])},[c("div",$l,[e.icon?(b(),w("i",{key:0,class:F(["icon",e.icon])},null,2)):V("",!0),W(" "+x(e.title),1)]),K(e.$slots,"actions",{},void 0,!0)],2)):(b(),w("div",{key:1,class:F(["card-no-header",{compact:e.compact}])},null,2)),c("div",{class:F(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[K(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const Y=S(wl,[["__scopeId","data-v-317ddfe2"]]),kl=k({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,t)=>(b(),D(n(Y),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[_(n(yt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),K(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ve=S(kl,[["__scopeId","data-v-4e0fd9b7"]]),Cl={class:"chip"},Sl={class:"label"},xl=k({__name:"Chip",props:{label:{default:""}},setup(o){return(e,t)=>(b(),w("div",Cl,[c("div",Sl,x(e.label),1)]))}});const Al=S(xl,[["__scopeId","data-v-1eb2caf8"]]),Il=k({__name:"Code",props:{lang:{},code:{}},setup(o){const e=Do.component,t=Ht(),a=C(function(){return t.default?t.default()[0].children:o.code??""});return(s,l)=>(b(),w(se,null,[_(n(e),{language:s.lang,code:a.value},null,8,["language","code"]),V("",!0)],64))}});const U=S(Il,[["__scopeId","data-v-4da5765d"]]),Ll={class:"collapsible-inside"},Pl=k({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,t)=>(b(),w("div",{class:F(["collapsible-outside",{expanded:e.expanded}])},[c("div",Ll,[K(e.$slots,"default",{},void 0,!0)])],2))}});const Oe=S(Pl,[["__scopeId","data-v-25b74378"]]),Dl={key:1,class:"header"},Ml={key:0,class:"header-icon"},Tl={class:"header-actions"},Vl={key:2,class:"list"},zl=["onClick"],Bl={key:0,class:"sorting-arrows"},Ol={key:0,class:"sorting-arrow fa fa-caret-up"},Rl={key:1,class:"sorting-arrow fa fa-caret-down"},Fl={key:2,class:"sorting-arrow"},Ul={class:"rows"},El={key:3,class:"no-data"},Kt=k({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const t=P(""),a=P(ge.Ascending),s=C(()=>`grid-template-columns: ${o.columnsHeader}`),l=C(()=>{if(o.rowsMin===null)return[];const r=Math.max(0,o.rowsMin-o.rows.length);return new Array(r)});xn(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(a.value=o.sortingDefaultDir===ge.Ascending?ge.Ascending:ge.Descending)});const u=r=>{e("selected",r)},{t:p}=B(),i=r=>{const f=r+1;return!!(o.rows[r+1]&&o.rows.findIndex(I=>I===o.selectedRow)===f)},d=r=>o.expanded.includes(r),v=r=>{const f=o.sortingColumns[r];return o.sortingColumnsEnabled.includes(f)},h=r=>t.value===o.sortingColumns[r]&&a.value==="Ascending",g=r=>t.value===o.sortingColumns[r]&&a.value==="Descending",m=r=>{if(!o.sorting||!o.sortingColumns||!v(r))return;const f=o.sortingColumns[r];f===t.value?a.value=a.value===ge.Ascending?ge.Descending:ge.Ascending:a.value=ge.Ascending,t.value=f,e("sortColumn",t.value,a.value)};return(r,f)=>(b(),w("div",{class:F(["datatable",{loading:r.loading}])},[r.loading?(b(),D(n(rt),{key:0,class:"loader"})):V("",!0),r.header?(b(),w("div",Dl,[r.icon?(b(),w("div",Ml,[c("i",{class:F(r.icon)},null,2)])):V("",!0),c("div",{class:"header-title",style:me(s.value)},[K(r.$slots,"header-title",{},void 0,!0)],4),c("div",Tl,[K(r.$slots,"header-actions",{},void 0,!0)])])):V("",!0),r.rowsMin||r.rows&&r.rows.length>0?(b(),w("div",Vl,[c("div",{class:F(["row-data",[r.columnsData,{"selected-below":i(-1)}]])},[K(r.$slots,"column-headers",{},()=>[(b(!0),w(se,null,ce(r.columns,($,A)=>(b(),w("div",{key:$,class:F(["column-header",{"sortable-header":r.sorting&&v(A),"current-sort":t.value==r.sortingColumns[A]}]),onClick:I=>m(A)},[W(x($)+" ",1),r.sorting&&v(A)?(b(),w("div",Bl,[h(A)?(b(),w("i",Ol)):g(A)?(b(),w("i",Rl)):(b(),w("span",Fl," — "))])):V("",!0)],10,zl))),128))],!0)],2),c("div",Ul,[(b(!0),w(se,null,ce(r.rows,($,A)=>(b(),D(n(xt),{key:$,data:$,class:F({"selected-below":i(A)}),columns:r.columnsData,selected:r.selectedRow===$,expanded:d($),onClick:u},{row:y(()=>[K(r.$slots,"row",{item:$},void 0,!0)]),"row-details":y(()=>[K(r.$slots,"row-details",{item:$},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(b(!0),w(se,null,ce(l.value,$=>(b(),D(n(xt),{key:$}))),128)),r.$slots["row-aggregation"]?(b(),D(n(xt),{key:0,class:"aggregation",columns:r.columnsData},{row:y(()=>[K(r.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])):!r.rowsMin&&!r.loading?(b(),w("div",El,[K(r.$slots,"no-data",{},()=>[W(x(n(p)("no-data")),1)],!0)])):V("",!0)],2))}});function ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":t=>{const{normalize:a}=t;return a(["No data :("])}}})}function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":t=>{const{normalize:a}=t;return a(["没有数据 :("])}}})}typeof ca=="function"&&ca(Kt);typeof ua=="function"&&ua(Kt);const ye=S(Kt,[["__scopeId","data-v-50e85b9c"]]),Wl=o=>(te("data-v-45ff862c"),o=o(),ae(),o),ql=Wl(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),Hl=[ql],Nl={class:"row-details"},Gl=k({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=Ht(),a=C(()=>{var u;const l=t["row-details"];if(l){const p=(u=l()[0])==null?void 0:u.children;if(p)return p.length>0}return!1}),s=()=>{e("click",o.data)};return(l,u)=>(b(),w("div",{class:F(["row",{expanded:l.expanded}])},[c("div",{class:F(["row-data item",[l.columns,{active:l.selected,expandable:a.value}]]),onClick:s},[K(l.$slots,"row",{},void 0,!0),a.value?(b(),w("div",{key:0,class:F(["expander",{expanded:l.expanded}])},Hl,2)):V("",!0)],2),_(n(Oe),{expanded:l.expanded},{default:y(()=>[c("div",Nl,[K(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const xt=S(Gl,[["__scopeId","data-v-45ff862c"]]),Ql=k({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,t)=>{const a=je("apexchart");return b(),D(a,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const yt=S(Ql,[["__scopeId","data-v-3e2879ed"]]),Yl=["min","max","value"],jl=k({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(b(),w("input",{type:"number",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Yl))}});const Zt=S(jl,[["__scopeId","data-v-097889a4"]]),Jl=o=>(te("data-v-a7ae5e73"),o=o(),ae(),o),Kl={class:"input-text"},Zl={key:0,class:"icon"},Xl=Jl(()=>c("i",{class:"fas fa-search"},null,-1)),er=[Xl],tr=["type","value","placeholder","onInput"],ar=["onClick"],or=k({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const t=C(()=>{const s=o.options.filter(u=>o.filter(o.modelValue,u));return o.sort?[...s].sort(o.sort):s}),a=s=>{const l=s.target.value;e("update:modelValue",l),e("input",l)};return(s,l)=>(b(),w("div",Kl,[s.search?(b(),w("span",Zl,er)):V("",!0),c("input",{type:s.search?"search":"text",value:s.modelValue,placeholder:s.placeholder,onInput:xe(a,["stop"]),onSelect:l[0]||(l[0]=xe(()=>{},["stop"]))},null,40,tr),s.options&&s.autoComplete?(b(),w("div",{key:1,class:F(["items",{selectHide:!s.autoComplete}])},[(b(!0),w(se,null,ce(t.value,(u,p)=>(b(),w("div",{key:p,onClick:i=>e("select",u)},[K(s.$slots,"item",{item:u,idx:p},()=>[W(x(u),1)],!0)],8,ar))),128))],2)):V("",!0)]))}});const pe=S(or,[["__scopeId","data-v-a7ae5e73"]]),sr={key:0,class:"value"},nr={key:1,class:"value"},lr=["innerHTML"],rr={key:0,class:"value"},ir={key:1,class:"value"},cr=["innerHTML"],ur={class:"labels"},dr={class:"label"},pr={class:"label-second"},_r=k({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,t)=>(b(),w("div",{class:F(["kpi",{disabled:!e.hasValue}])},[c("div",{class:F(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[K(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(b(),D(n(Te),{key:0},{item:y(()=>[e.hasValue?(b(),w("span",sr,x(e.value),1)):(b(),w("span",nr," ? "))]),default:y(()=>[K(e.$slots,"tooltip",{},()=>[c("span",{innerHTML:e.tooltip},null,8,lr)],!0)]),_:3})):(b(),w(se,{key:1},[e.hasValue?(b(),w("span",rr,x(e.value),1)):(b(),w("span",ir," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(b(),D(n(Te),{key:0},{default:y(()=>[c("span",{innerHTML:e.tooltip},null,8,cr)]),_:1})):V("",!0)],2),c("div",ur,[K(e.$slots,"label",{},()=>[c("div",dr,x(e.label),1)],!0),K(e.$slots,"label-second",{},()=>[c("div",pr,x(e.labelSecond),1)],!0)])],2))}});const Pe=S(_r,[["__scopeId","data-v-0123c061"]]),mr={key:0,class:"modal"},vr={class:"modal-popup"},hr=k({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){return T(()=>o.show,t=>{document.body.style.overflow=t?"hidden":""}),(t,a)=>t.show?(b(),w("div",mr,[c("div",{class:"modal-mask",onClick:a[0]||(a[0]=s=>e("close"))}),c("div",vr,[K(t.$slots,"default",{},void 0,!0)])])):V("",!0)}});const fr=S(hr,[["__scopeId","data-v-5f9f89df"]]),gr={class:"buttons"},br={key:1,class:"not-ready"},Xt=k({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(b(),D(n(fr),{show:a.show},{default:y(()=>[_(n(Y),{title:a.title},{default:y(()=>[K(a.$slots,"default",{},void 0,!0),c("div",gr,[_(n(Z),{class:"no",value:n(t)("no"),onClick:s[0]||(s[0]=l=>e("no"))},null,8,["value"]),a.ready?(b(),D(n(Z),{key:0,class:"yes",value:n(t)("yes"),onClick:s[1]||(s[1]=l=>e("yes"))},null,8,["value"])):(b(),w("div",br,x(a.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:t=>{const{normalize:a}=t;return a(["Yes"])},no:t=>{const{normalize:a}=t;return a(["No"])}}})}function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:t=>{const{normalize:a}=t;return a(["是的"])},no:t=>{const{normalize:a}=t;return a(["不是"])}}})}typeof da=="function"&&da(Xt);typeof pa=="function"&&pa(Xt);const yr=S(Xt,[["__scopeId","data-v-825b7c02"]]),ea=o=>(te("data-v-6ab859e6"),o=o(),ae(),o),$r=ea(()=>c("button",null,"1",-1)),wr=[$r],kr=ea(()=>c("button",null,[c("i",{class:"fas fa-chevron-left"})],-1)),Cr=[kr],Sr=["onClick"],xr=ea(()=>c("button",null,[c("i",{class:"fas fa-chevron-right"})],-1)),Ar=[xr],Ir=k({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const t=C(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),a=C(()=>{const v=[...Array(12).keys()].map($=>$-6+o.page).filter($=>$>=1&&$<=t.value),h=v.findIndex($=>$===o.page),g=[],m=[],r=o.page!==1&&o.page!==t.value?[o.page]:[];let f=1;for(;;){const $=v[h-f];if($&&$!==1&&g.unshift($),g.length+m.length+r.length>=5||f>v.length)break;const A=v[h+f];if(A&&A!==t.value&&m.push(A),f++,g.length+m.length+r.length>=5||f>v.length)break}return[...g,...r,...m]}),s=(i,d,v)=>Math.min(Math.max(i,d),v),l=()=>e("page",s(o.page-1,1,t.value)),u=()=>e("page",s(o.page+1,1,t.value)),p=i=>e("page",s(i,1,t.value));return(i,d)=>(b(),w("ul",null,[c("li",{class:F({active:i.page===1}),onClick:d[0]||(d[0]=v=>p(1))},wr,2),t.value>2?(b(),w("li",{key:0,onClick:l},Cr)):V("",!0),(b(!0),w(se,null,ce(a.value,v=>(b(),w("li",{key:v,class:F({active:v===i.page}),onClick:h=>p(v)},[c("button",null,x(v),1)],10,Sr))),128)),t.value>2?(b(),w("li",{key:1,onClick:u},Ar)):V("",!0),t.value>1?(b(),w("li",{key:2,class:F({active:i.page===t.value}),onClick:d[1]||(d[1]=v=>p(t.value))},[c("button",null,x(t.value),1)],2)):V("",!0)]))}});const Je=S(Ir,[["__scopeId","data-v-6ab859e6"]]),Lr=o=>(te("data-v-8e55132f"),o=o(),ae(),o),Pr={class:"select"},Dr={class:"item"},Mr={key:0,class:"label"},Tr=["onClick"],Vr=Lr(()=>c("div",{class:"chevrons"},[c("i",{class:"fas fa-chevron-up"}),c("i",{class:"fas fa-chevron-down"})],-1)),zr=k({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){return(t,a)=>(b(),w("div",{class:"select-container",tabindex:"0",onClick:a[0]||(a[0]=xe(s=>e("open"),["stop"])),onBlur:a[1]||(a[1]=s=>e("close"))},[c("div",Pr,[c("div",{class:F(["selected",{open:t.open}])},[K(t.$slots,"item",{item:t.selected},()=>[c("div",Dr,x(t.selected),1)],!0),t.label?(b(),w("div",Mr,x(t.label),1)):V("",!0)],2),c("div",{class:F(["items",{selectHide:!t.open}])},[(b(!0),w(se,null,ce(t.options,(s,l)=>(b(),w("div",{key:l,onClick:u=>e("input",s)},[K(t.$slots,"item",{item:s},()=>[W(x(s),1)],!0)],8,Tr))),128))],2)]),Vr],32))}});const Re=S(zr,[["__scopeId","data-v-8e55132f"]]),Br={class:"item"},Or={class:"label"},_a="locale",Jo=k({__name:"SelectLanguage",props:{locales:{default:()=>Fr},direction:{default:"up"}},setup(o){const{t:e}=B(),{locale:t}=B({useScope:"global"}),a=P("en"),s=P(!1);q(()=>{const p=localStorage.getItem(_a);p&&o.locales.some(i=>i===p)&&u(p)});const l=()=>{s.value=!s.value},u=p=>{a.value=p,t.value=a.value,localStorage.setItem(_a,a.value)};return(p,i)=>(b(),D(n(Re),{class:F(["select",{"direction-up":p.direction==="up"}]),options:p.locales.map(d=>d),selected:a.value,open:s.value,onOpen:l,onClose:i[0]||(i[0]=d=>s.value=!1),onInput:u},{item:y(d=>[c("div",Br,[c("div",Or,x(n(e)(d.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:t=>{const{normalize:a}=t;return a(["English"])},zh:t=>{const{normalize:a}=t;return a(["中文"])},fr:t=>{const{normalize:a}=t;return a(["Français"])}}})}typeof ma=="function"&&ma(Jo);const Rr=S(Jo,[["__scopeId","data-v-8b3337a5"]]),Fr=["en","zh","fr"],Ur=["min","max","value"],Er=k({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(b(),w("input",{type:"range",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Ur))}});const Wr=S(Er,[["__scopeId","data-v-d52b357b"]]);var ge=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(ge||{});const qr={},Ko=o=>(te("data-v-ad2adcec"),o=o(),ae(),o),Hr={class:"lds-ripple"},Nr=Ko(()=>c("div",null,null,-1)),Gr=Ko(()=>c("div",null,null,-1)),Qr=[Nr,Gr];function Yr(o,e){return b(),w("div",Hr,Qr)}const rt=S(qr,[["render",Yr],["__scopeId","data-v-ad2adcec"]]),le=k({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,t)=>K(e.$slots,"default")}}),jr={class:"tab-view"},Jr={class:"tab-headers"},Kr=["onClick"],Zr={class:"tabs"},Xr=k({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const t=P(null),a=Ht(),s=C(()=>a!=null&&a.default?a.default():[]);T(()=>o.active,u=>{t.value=u,e("tab",{tab:s.value[u],index:t.value})},{immediate:!0});const l=(u,p)=>{u.props.disabled||(t.value=p,e("tab",{tab:s.value[p],index:t.value}))};return(u,p)=>(b(),w("div",jr,[c("ul",Jr,[(b(!0),w(se,null,ce(s.value,(i,d)=>(b(),w("li",{key:d,class:F(["tab-header",{active:t.value===d,disabled:i.props.disabled}]),onClick:v=>l(i,d)},x(i.props.header),11,Kr))),128))]),c("div",Zr,[(b(!0),w(se,null,ce(s.value,(i,d)=>Mo((b(),w("div",{key:d,class:"tab"},[(b(),D(qt(i)))])),[[To,t.value===d]])),128))])]))}});const Ze=S(Xr,[["__scopeId","data-v-4a99a489"]]),ei="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",ti={key:1,src:ei},ai=k({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=P(!1);return(t,a)=>(b(),D(n(An),{class:"tooltip",show:e.value},{content:y(()=>[K(t.$slots,"default",{},void 0,!0)]),default:y(()=>[c("div",{onMouseover:a[0]||(a[0]=s=>e.value=!0),onMouseleave:a[1]||(a[1]=s=>e.value=!1)},[K(t.$slots,"item",{},()=>[t.icon?(b(),w("i",{key:0,class:F(t.icon)},null,2)):(b(),w("img",ti))],!0)],32)]),_:3},8,["show"]))}});const Te=S(ai,[["__scopeId","data-v-2158cb4b"]]);function oe(o,e){const t=P(!1),a=P(e);return{loading:t,data:a,loadData:()=>(t.value=!0,ll(async()=>{a.value=await o(),t.value=!1}))}}function Zo(){const o=P([]);return{expanded:o,toggleExpansion:t=>o.value.includes(t)?(o.value=o.value.filter(a=>a!==t),!1):(o.value.push(t),!0)}}const oi={class:"legend"},si=["onClick"],ni={class:"label"},li=k({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const t=a=>o.colors[a];return(a,s)=>(b(),w("div",oi,[(b(!0),w(se,null,ce(a.items,(l,u)=>(b(),w("div",{key:l,class:F(["item",{clickable:a.clickable,disabled:a.disabled.includes(l)}]),onClick:p=>{a.clickable&&e("click",l)}},[c("div",{class:"color",style:me({"background-color":t(u)})},null,4),c("div",ni,x(l),1)],10,si))),128))]))}});const Ee=S(li,[["__scopeId","data-v-b0a9ca48"]]);function At(o){return(o==null?void 0:o.children)!==void 0}function va(o){return(o==null?void 0:o.to)!==void 0}const ri={key:0},ii={class:"nav-link-container"},ci={class:"nav-link-container"},ui={class:"left"},di={class:"right"},pi=k({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const t=Fe(),a=P(!0),s=C(()=>va(o.item)?[o.item]:At(o.item)?o.item.children:[]),l=()=>{At(o.item)&&o.item.children.filter(i=>Tt(i.to,t)).length>0&&(a.value=!0)};T(()=>o.item,()=>{l()},{immediate:!0}),T(()=>t.fullPath,()=>{l()},{immediate:!0});const u=()=>{a.value=!a.value};return(p,i)=>{const d=je("router-link");return b(),w(se,null,[n(At)(p.item)?(b(),w("li",ri,[c("a",{class:"nav-link node",onClick:u},[c("div",ii,[W(x(p.item.label)+" ",1),c("i",{class:F(["expander fas fa-chevron-up",{expanded:a.value}])},null,2)])])])):V("",!0),_(n(Oe),{class:"items",expanded:a.value},{default:y(()=>[c("ul",null,[(b(!0),w(se,null,ce(s.value,v=>(b(),w("li",{key:v.label},[n(va)(v)?(b(),D(d,{key:0,to:v.to,class:F(["nav-link leaf",{"router-link-active":n(Tt)(v.to,n(t))}]),onClick:i[0]||(i[0]=h=>e("navigated"))},{default:y(()=>[c("div",ci,[c("div",ui,x(v.label),1),c("div",di,[v.tag==="beta"?(b(),D(n(Al),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const _i=S(pi,[["__scopeId","data-v-d8ba8816"]]),mi=k({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const t=Fe(),a=C(()=>o.pages.find(l=>Tt(l.titleRoute,t))),s=C(()=>{var l;return((l=a.value)==null?void 0:l.menuItems)??[]});return(l,u)=>(b(),w("nav",null,[(b(!0),w(se,null,ce(s.value,p=>(b(),w("ul",{key:p.label},[_(_i,{item:p,onNavigated:u[0]||(u[0]=i=>e("navigated"))},null,8,["item"])]))),128))]))}});const vi=S(mi,[["__scopeId","data-v-59493144"]]),hi="/assets/crv-ca6314ed.png",fi="/assets/hat-80c6c9b1.png";const gi={},Xo=o=>(te("data-v-20a1bb61"),o=o(),ae(),o),bi={class:"logo"},yi=Xo(()=>c("div",{class:"visual"},[c("img",{src:hi}),c("img",{src:fi})],-1)),$i=Xo(()=>c("span",null,"curve.monitor",-1)),wi=[yi,$i];function ki(o,e){return b(),w("div",bi,wi)}const Ci=S(gi,[["render",ki],["__scopeId","data-v-20a1bb61"]]),Si={class:"header"},xi={class:"buttons"},Ai=k({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){return(t,a)=>{const s=je("router-link");return b(),w("div",Si,[_(s,{class:"logo",to:"/",onClick:a[0]||(a[0]=l=>e("navigated"))},{default:y(()=>[_(Ci,{class:"logo"})]),_:1}),c("div",xi,[_(n(Z),{icon:"fas fa-bars",onClick:a[1]||(a[1]=l=>e("toggle-expansion"))})])])}}});const Ii=S(Ai,[["__scopeId","data-v-02982544"]]),Li="data:image/gif;base64,R0lGODdhbwEWANUAAAAAAP/vAP/3AO/WAL2tAP/3rf/3nP/3MbWlAO/eAMa1APfnAAgAAN7OAEpCABAQAJycnCEYAK2trSkpAIx7AFpSAEI5AIR7ADExMdbGAJSEAJyMADk5APfnMXNjAKWUAK2cAGNaAHtzAHNrADk5OSkpKWNSAJycraWlnP//nMa1CMa9nN7WrVpaMYSEhOfWMb21GO/nrUpCMb21MbWtMZyUMca9ra2lCN7WnIR7MVpaWkpCEJyUGCkhCM7GnAAAACwAAAAAbwEWAAAG/0CIcEgsClGGpHK5TBlQRqOPSVWmcNWsdsvter/gsHhMLpvP3KgasnJyV+shspuCHyX4vD5/YhX+gIGCNid7e4WCiYExEoqOj5CRkpOUlZaXmJmam5yRhp8SiJIshaB4fZOMEhAnOiUYsLGyGCU1Bx0Hube6vAc5r7OyJS24usW5xwcvMiXHyca90bzPvdS70NPS1dnXyNrc29LW3t/k0dbU48nr4OXu4+3Y3yTBwcO4ztEzwPW0GDTtji17BUECCQAIEypEOGFAgIcQI0bcsLAigAcKJGqEuMABAAYSFwwYObLBQ5EkA5BM+XClypUOBywISTKBTJcBUJLUubGnyv8GI39KHNCgqEaYDnPibFkU6MuXM2GifOly5MyIQGG2ZImV6FaUOq2KRaqxqUmJWYOeXPqQgcWFGAX4fNggwluFFeZGNJGw4MG7CDPqfajALWAAH+QODuABIQPFD0HAVSBAMkINAfgmZEBAQIMJDANQUMjZggMNCSASMIyQAOjWohdmQMiBQtK5Cjx+uBDhgoO8LSk8cFDYAgiInxVGSCBAwQOEISB+mPCAQIUHJiZ0fu4ABGsNjQEMqKCw+0UHGyAOsKvwgoABzwE4iAhiAgMFFSxQ4ACCAMINISQ0QWEAjPABXBlAlAFfIlBUgWABKLDQfAKMhtAHEh12IWQ+eXT/WEOLUdSXQYddsFgAdWkoAodzabCZRAKIoFB6D8noQUseImTBAs09EEEGAnS0WQMgcHcWYwohMMAFzxHwEAcKDfCBYRzcttEFbnkwk4sAADcAaAw0UCFCIij4GkIjPOSiA6khyQACASTQ2AMICPDcBgT+txoACWRwpgMDyIgQcBEqxMFDAiDAwARnCQlAeuNduFpD5DHUQGM3BugYhg8R8BwHM3n0wHGRxYdQnQuQl6ZErL214mCCAsYZixs5p5BfgHHQpl4JWKChA1fplWirMB6YkJMtxRWAZ+xtKIADI8gV45ABQCnfTGMmBIIAAhwI57MKJbCAr2TS+hACxyIq/yNwHj7A7Z6IIWoZQnEJEEGdhQLAgWICeDDrAxMIAO+jAgQoLrnXJrCZYAon5AC/Fpj4UHgRmMStrx9ImFiOEySgsAcCcHkRZSiyF222GKmrHI8ZLKdRqxUBO5ixh1FgbkgII4TrW8oOpilgFd8ckQAtkwajiKdClMADQCI6gkIdPyuxAE87ZhLCdWZ7KrcLTJB1juI52qVP1gKAbJwMVJBoQu4KbJjLOYGttr2dTfsfj0QDUOcD0Q68gQAUeVw2mw1fJlcD5UHmAAXLFg1ABANIu9oH/kVe6eMOTWBCyAvLVTUAIAtwQULRxQmfQja3vCtEMCt3pE+OAybzYJ+P+P+XRa/CquGsi325EEhDi6y30kxL+0F9CoHsQJkTU1t2dFrrHTJq2II9QAI5glwra2cHUMHDl7c9sJNUD8zAtvfK9bN8H0SuAZAPup2QBp4B22tCOw6w2bYqJQ7R4tyyEAAYxZEIfCADWgoAxyJHAZsJ8D5BMtXJRueY1AxAAzR7XFEgp5G7vEloLSnbXYI2mHndikQWscCJvKMhmy0mVRUBHkQAp5CzwSdByxKBB/zDtgRUgHn9ohbCdhQ9BCwgAidbFtgORi+SwUh43WsAZUwlPoWsSAD8oSBtjlg3ASYkAvTjl8BmJK33DG4BhetYS/z3EAB674tiQlQGmiaXyzH/ilvLEmBc8gQ6bmlRel3LTfJU97K3uGcwl/NgZwaTAVOd8HaGspJPknMYQg0GaQs5WpKIR0cR7CiRFdgAZpb1uTBVSyFi8iIBoBQtRFmvSAOEEIwS2T1unY5e72JNCLjFgQsk4EwA0MAF8NUAR5JuaH6LyP0Q4oAGULACcUQRGxVos3HBcWgcyhEHIfJAyqArIaH7498CyUe9heB1y2qdfAbDuRaC8CTAfGQMu+cTsd0FROws54uGhkk4PWRpJBPdwzLQKgQIJohWC0DOUlnD0bRSiQohKAAs8AHmbARc6RraLS+SS9JdzGaY/NFBbVWRvyFqYPRTGsIcgIDnVMCf/2t0mOIYl4CyEbAnArDjkbRWnbUlZIJkPCJl1kccSQagddvEjTEtMru5FOwuO7PiO5t3mJ7phZIxfGINiRfHGM0nAH+0wK5KaZKyMYA5XqyTBZKIUYQkAF4TaBqM1kfPh1DxXe1ZVm3kkrPS5WQBDQiBMSsQLEUlxKT/PKPIZoc4mf6vmghL6kYWGJFuNkchQE0IqiJAmRRpi1YxdKJPfPeh1flEA+rUGQoTcqipCu8uKR3MAHL2O01qVj1MQ5RvlvVLhXAKSQlFGGGL2BwCJMBiSxTbLjVSGe5FBI05ZZtcxvdRbvFRWSLYHNFE0CyxnnRGERnAGQtHsP45to02Q/+oBiGzgGC9kSFW0iNljghOP24mNULllvAm4N62LMSFelnfW3401W9CdbUfkSVOB3YX7S0mPHexbdJask2BYiuDUyPrKf8TwCRxC4vptZ7YLPlcU3WPApsz8AOWBS+XYXFqEP6g95bzYcf5VX6XmeEyJ+oxhaRUf+dVKIZwfNOHhOC3ba3YDB9Yt8+FMyHAESpEyvYAo7aKxD157VsSI9tmvSWqAADwXGJ3Fzad6I8WkaG8nJvHgKkLVFNOCONI6TxmYkt4WTsQ49rKpxETwKiiS8hBP5NSconPMOnhZe4GYJhZPRXAAiAX/1jMGi6fZKUiaU8DPNashy1LAXFVjIf/SCiw3ELEjrdp58gOZ5iTCZAyAkhABBYZAAPDLSKsaQgIS62h5Q4GbF9ebVMn6eW35GWqsTnMY0LysxC0VwM9S87ZZoMQFw4gR2GCJZsUsz4EOPM5KRVhRiD8AFNuRDPOXgAIIkAo3z1ATBTMnaeKLCLeBYgBGpjJugFwSIhg8gLB8hNrG2BNx4i1W/EhIAGQyK8GWCs9CRBObFUSWQgtIMak4jWcPXI+xYzOzEZGiGQfwjbR9gSr9+xvT9Ac7L9w9p0FB4yuF9PS3fUEecFkEr5yUqkqQyQ8Jgo02wjwGxDwqFOtco2chf7F45LrXnP5AJQ2wCSA61g4xHmAcZDz/xoV8tZXH+zXbwp0IAvAlDBe7njcFpIXBbCHA3RUgGYc4CmrX90uuYF6RGo3wKu8lsCNC5AIXBQ/Spfr03a59UmewwDE1hPYFrGqTzylIQDg6uWDgfBderoYz2roonJZgAIIfnSOiMu0HkMUGk+P32VJxGOrj/XpTwL72R8uA6UHfZyKEjkY5SQry2Iv7Ge4eo7wiCjHdf0M41R7cZkejdBf1gIygM7QNwD3qaFVkICSAYs+t/ltCtLpiz/DWGcFj0qDPr/IL5Hn+HUuLLfIxEcrQsD4hQHdvx5SiDISL94F4DZBElmRFkRBWx4UgEhhEx6zfwx4PQg4Egr4gBKof/8BWIE1cYEQ+IACeD2bBoEOuH8IqIEYqH8fiIEKCBMd+IEnSIIsSIEeuIItCBMV6DEWWBMhWIMwyII0OIIaGIFIUUwP0D4rMYBEsQAZVGY72IADIGCAgQIu0AMbQABSiAAIQABUaIVSqACxIjsKUIVXWIVSOIVSGE+HgYVeaIVnCIZpaIZmmIZrSIVfiIZtyIZw6IZvKIdgGIZi6IVu2IZx+IZnSId4OIh7KIh8OIeAWIeGiIWGeIh3+IV9aId2uIiOSABFQndyqIdZuAGppRz9UYhryHeH4QIFogAEYIqoeIp6uAFLVRHaoYqqaIqxeIqJVHmzeIsKkIqzKIu6mIpRvBiLvYiLsOiLWTiMwiiLxfiLyAiLx5iMzMiMwaiMxiiN0niLWUiMzViMYYiN0TiNzmiNzViNKnADO8ADMKAC5/iMXUiGFnEBuRiOrFh5CREEADs=",Pi=o=>(te("data-v-2a3f89a0"),o=o(),ae(),o),Di={class:"buttons"},Mi=Pi(()=>c("i",{class:"fas fa-trash"},null,-1)),Ti=["innerHTML"],ta=k({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t}=B(),a=Go(),s=async()=>{await Qo(!0);const u=Be(),p=await Yo(u);a.connected=p,p&&e("connected")},l=()=>{window.localStorage.removeItem("connectedWallet")};return(u,p)=>(b(),w("div",Di,[_(n(Z),{class:"button",primary:!0,onClick:s},{default:y(()=>[W(x(n(t)("connect-your-wallet")),1)]),_:1}),_(n(Te),{class:"tooltip"},{item:y(()=>[_(n(Z),{class:"button clear",onClick:l},{default:y(()=>[Mi]),_:1})]),default:y(()=>[c("div",{class:"ping",innerHTML:n(t)("clear-cache")},null,8,Ti)]),_:1})]))}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["Connect Wallet"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["连接你的钱包"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof ha=="function"&&ha(ta);typeof fa=="function"&&fa(ta);const Vi=S(ta,[["__scopeId","data-v-2a3f89a0"]]),zi={class:"wallet"},Bi={key:0,class:"connected"},Oi={key:0,class:"incorrectNetwork"},Ri={class:"info"},Fi={key:1,class:"notConnected"},Ui={key:0,class:"info"},es=k({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=B(),t=Go(),a=C(()=>t.connected),s=C(()=>t.correctNetwork),l=C(()=>Se(t.address));q(async()=>{await Qo();const i=Be(),d=await Yo(i);t.connected=d;const v=await jo(i);t.correctNetwork=v}),T(()=>t.connected,async i=>{const d=Be(),v=d&&i?await fl(d):void 0;t.setAddress(v)},{immediate:!0});const u=async()=>{const i=Be();i&&(await i.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},p=async()=>{await hl(),t.connected=!1};return(i,d)=>(b(),w("div",zi,[a.value?(b(),w("div",Bi,[s.value?V("",!0):(b(),w("div",Oi,[_(n(Z),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:u}),c("span",Ri,x(n(e)("incorrect-network")),1)])),_(n(Z),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:p},null,8,["value"])])):(b(),w("div",Fi,[_(Vi),i.labelPleaseConnect?(b(),w("span",Ui,x(i.labelPleaseConnect),1)):V("",!0)]))]))}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":t=>{const{normalize:a}=t;return a(["You are not on the correct network; should be Ethereum"])}}})}typeof ga=="function"&&ga(es);const Ei=S(es,[["__scopeId","data-v-7d2ec4f7"]]),Ne={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Wi=[Ne.blue,Ne.yellow,Ne.green,Ne.red,Ne.purple],Ge={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},qi=[Ge.blue,Ge.yellow,Ge.green,Ge.red,Ge.purple],Qe={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},Hi=[Qe.blue,Qe.yellow,Qe.green,Qe.red,Qe.purple];function E(o){return o==="chad"?Qe:o==="light"?Ge:Ne}function X(o){return o==="chad"?Hi:o==="light"?qi:Wi}const N=Ae({id:"settingsStore",state:()=>({theme:"light"})}),Ni={class:"theme"},Gi={class:"label"},Qi={class:"colors"},Yi=k({__name:"SelectTheme",setup(o){const e=[{id:"chad",colors:E("chad")},{id:"dark",colors:E("dark")},{id:"light",colors:E("light")}],t=N(),a=P(e[0]),s=P(!1);q(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,i=localStorage.getItem("theme");if(!i&&p)u(e.find(d=>d.id==="dark"));else{const d=e.find(v=>v.id===i)??e.find(v=>v.id==="light")??e[0];u(d)}});const l=()=>{s.value=!s.value},u=p=>{a.value=p,window.document.documentElement.setAttribute("data-theme",a.value.id),t.theme=a.value.id,localStorage.setItem("theme",a.value.id)};return(p,i)=>(b(),D(n(Re),{class:"select direction-up",options:e.map(d=>d),selected:a.value,open:s.value,onOpen:l,onClose:i[0]||(i[0]=d=>s.value=!1),onInput:u},{item:y(d=>[c("div",Ni,[c("div",Gi,x(d.item.id),1),c("div",Qi,[c("div",{class:"color",style:me({"background-color":d.item.colors.backgroundColor})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.level1})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.level2})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.blue})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.yellow})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.green})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.red})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const ji=S(Yi,[["__scopeId","data-v-e1d0d9c3"]]),Ji=o=>(te("data-v-2aa2a20b"),o=o(),ae(),o),Ki={class:"bottom"},Zi=Ji(()=>c("div",{class:"wip"},[c("img",{src:Li}),W(" for real though issa WIP ")],-1)),Xi={class:"buttons"},ec={href:"https://twitter.com/0xAlunara",target:"_blank"},tc={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},ac={class:"selectors"},oc=k({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(a,s)=>{const l=je("router-link");return b(),w("div",Ki,[Zi,c("div",Xi,[_(n(Z),{class:"copy",icon:"fas fa-link",onClick:t}),c("a",ec,[_(n(Z),{icon:"fab fa-twitter"})]),c("a",tc,[_(n(Z),{icon:"fab fa-github"})]),_(l,{to:"/code"},{default:y(()=>[_(n(Z),{icon:"fas fa-code",onClick:s[0]||(s[0]=u=>e("navigated"))})]),_:1})]),c("div",ac,[_(ji,{class:"themes"}),_(n(Rr),{class:"langs",locales:["en"]})]),_(Ei)])}}});const sc=S(oc,[["__scopeId","data-v-2aa2a20b"]]),aa=Ae({id:"pageStore",state:()=>({pages:[]})}),nc=k({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const t=aa(),a=P(!1),s=()=>{a.value=!1,e("navigated")};return(l,u)=>(b(),w("div",{class:F(["menu-desktop",{expanded:a.value}])},[_(Ii,{onToggleExpansion:u[0]||(u[0]=p=>a.value=!a.value),onNavigated:s}),_(n(Oe),{class:"menu-content",expanded:a.value},{default:y(()=>[_(n(vi),{pages:n(t).pages,onNavigated:s},null,8,["pages"]),_(sc,{onNavigated:s})]),_:1},8,["expanded"])],2))}});const lc=S(nc,[["__scopeId","data-v-138f47e8"]]),oa=Ae({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),rc={class:"root"},ic={class:"main"},cc={class:"content"},uc=k({__name:"App",setup(o){const e=oa(),t=Fe(),a=Ke();T(()=>t.fullPath,l=>{l.includes("crvusd")||(e.show=!1)});const s=async l=>{l.pathName&&await a.push({name:l.pathName})};return(l,u)=>{const p=je("notifications"),i=je("router-view");return b(),w("div",rc,[_(p,{width:600,duration:-1}),_(lc,{class:"navigation"}),c("main",ic,[_(ia,{name:"fade",mode:"out-in"},{default:y(()=>[n(e).show?(b(),D(n(No),{key:0,class:"breadcrumb",crumbs:n(e).crumbs,onCrumb:s},null,8,["crumbs"])):V("",!0)]),_:1}),c("div",cc,[_(i,null,{default:y(({Component:d})=>[_(ia,{name:"fade",mode:"out-in"},{default:y(()=>[(b(),D(qt(d)))]),_:2},1024)]),_:1})])])])}}});const dc=S(uc,[["__scopeId","data-v-04f4b2f7"]]),pc="/assets/404-3a4df870.png",_c=o=>(te("data-v-c157f3ee"),o=o(),ae(),o),mc={class:"not-found"},vc={class:"not-found-container"},hc=_c(()=>c("img",{src:pc},null,-1)),ts=k({__name:"NotFound",setup(o){const{t:e}=B();return(t,a)=>(b(),w("div",mc,[c("div",vc,[_(n(Y),null,{default:y(()=>[W(x(n(e)("404")),1)]),_:1}),hc])]))}});function ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:t=>{const{normalize:a}=t;return a(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof ba=="function"&&ba(ts);const fc=S(ts,[["__scopeId","data-v-c157f3ee"]]),gc={class:"contracts"},bc={class:"row"},yc=["href"],$c=["href"],as=k({__name:"Code",setup(o){const{t:e}=B(),s=[{name:"Llama Airforce",contracts:[{contract:Jt,description:"multisig",gnosis:!0},{contract:el,description:"treasury",gnosis:!0},{contract:tl,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:Fo,description:"gauge-factory"},{contract:Uo,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],u=p=>{switch(p.network){case"arbitrum":return p.gnosis?`https://app.safe.global/arb1:${p.contract}`:`https://arbiscan.io/address/${p.contract}`;case"ethereum":default:return p.gnosis?`https://app.safe.global/eth:${p.contract}`:`https://etherscan.io/address/${p.contract}`}};return(p,i)=>(b(),w("div",gc,[c("div",bc,[_(n(ye),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[n(e)("repository"),n(e)("description")]},{"header-title":y(()=>[c("div",null,x(n(e)("repositories")),1)]),row:y(d=>[c("div",null,[c("a",{href:d.item.url,target:"_blank"},x(d.item.name),9,yc)]),c("div",null,x(n(e)(d.item.description)),1)]),_:1},8,["columns"])]),(b(),w(se,null,ce(s,(d,v)=>_(n(ye),{key:v,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:d.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-title":y(()=>[c("div",null,x(n(e)(d.name)),1)]),row:y(h=>[c("div",null,[c("a",{href:u(h.item),target:"_blank"},x(h.item.contract),9,$c)]),c("div",null,x(n(e)(h.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:t=>{const{normalize:a}=t;return a(["Repositories"])},repository:t=>{const{normalize:a}=t;return a(["Repository"])},description:t=>{const{normalize:a}=t;return a(["Description"])},contract:t=>{const{normalize:a}=t;return a(["Contract"])},other:t=>{const{normalize:a}=t;return a(["Other"])},"repo-laf":t=>{const{normalize:a}=t;return a(["This website's front-end, excluding the Union"])},"repo-graphs":t=>{const{normalize:a}=t;return a(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:t=>{const{normalize:a}=t;return a(["Multisig"])},treasury:t=>{const{normalize:a}=t;return a(["Treasury"])},"treasury-arbitrum":t=>{const{normalize:a}=t;return a(["Treasury Arbitrum"])},"gauge-factory":t=>{const{normalize:a}=t;return a(["Gauge Factory"])},"gauge-controller":t=>{const{normalize:a}=t;return a(["Gauge Controller"])}}})}typeof ya=="function"&&ya(as);const wc=S(as,[["__scopeId","data-v-1ccda060"]]);function kc(){const o=aa(),e=[{path:"/code",component:wc},...o.pages.flatMap(a=>a.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:fc}];return In({history:Ln(),routes:e})}const ie={blue:"rgb(32, 129, 240)",yellow:"rgb(255, 204, 0)",green:"rgb(126, 217, 87)",red:"rgb(255, 87, 87)",purple:"rgb(140, 82, 255)",backgroundColor:"#212124",level1:"#212124",level2:"#27272a",level3:"#303034",level4:"#35353b",level5:"#71717a",level6:"#aea8af",text:"#fafafa"},Cc=[ie.blue,ie.yellow,ie.green,ie.red,ie.purple],Sc=o=>(te("data-v-fa8a7ca8"),o=o(),ae(),o),xc={class:"colors"},Ac={class:"dashboard"},Ic=Sc(()=>c("div",null,"Colors",-1)),Lc=k({__name:"Colors",setup(o){const e=[{variable:"var(--c-lvl0)",value:ie.backgroundColor},{variable:"var(--c-lvl1)",value:ie.level1},{variable:"var(--c-lvl2)",value:ie.level2},{variable:"var(--c-lvl3)",value:ie.level3},{variable:"var(--c-lvl4)",value:ie.level4},{variable:"var(--c-lvl5)",value:ie.level5},{variable:"var(--c-lvl6)",value:ie.level6},{variable:"var(--c-text)",value:ie.text},{variable:"var(--c-red)",value:ie.red},{variable:"var(--c-green)",value:ie.green},{variable:"var(--c-blue)",value:ie.blue},{variable:"var(--c-yellow)",value:ie.yellow},{variable:"var(--c-purple)",value:ie.purple}];return(t,a)=>(b(),w("div",xc,[c("div",Ac,[_(n(ye),{class:"datatable-colors","columns-header":"1fr","columns-data":"colors-columns-data",rows:e,columns:["Variable","Value","Preview"]},{"header-title":y(()=>[Ic]),row:y(s=>[c("div",null,x(s.item.variable),1),c("div",null,x(s.item.value),1),c("div",{class:"preview",style:me({"background-color":s.item.value})},null,4)]),_:1})])]))}});const Pc=S(Lc,[["__scopeId","data-v-fa8a7ca8"]]),Dc={class:"item"},Mc={class:"title"},Tc=k({__name:"Recipe",props:{title:{}},setup(o){return(e,t)=>(b(),w("div",Dc,[K(e.$slots,"example",{},void 0,!0),c("div",Mc,x(e.title),1),K(e.$slots,"snippets",{},void 0,!0)]))}});const G=S(Tc,[["__scopeId","data-v-e6b1c9ca"]]),Vc={class:"dashboard-root"},zc={class:"dashboard"},Bc=`<template>
  <div class="dashboard-root">
    <div class="dashboard">
      Content goes here
    </div>
  </div>
</template>`,Oc=`<script setup lang="ts">
<\/script>`,Rc=`@import "@/Styles/Variables.scss";

@include dashboard("dashboard-root");
`,Fc=k({__name:"Dashboard",setup(o){return(e,t)=>(b(),w("div",Vc,[c("div",zc,[_(G,{title:"Dashboard.vue"},{snippets:y(()=>[_(n(U),{lang:"xml",code:Bc}),_(n(U),{lang:"typescript",code:Oc}),W(' <style lang="scss" scoped> '),_(n(U),{lang:"scss",code:Rc}),W(" </style> ")]),_:1})])]))}});const Uc=S(Fc,[["__scopeId","data-v-f8a64e67"]]),Ec={class:"socket"},Wc={class:"dashboard"},qc={class:"connect"},Hc=k({__name:"Socket",setup(o){let e=null;const t=P("https://ws.llama.airforce:2053"),a=P(!1),s=()=>{e=bt(`${t.value}`,{autoConnect:!1,reconnection:!1,secure:!0}),e.on("connect_error",u=>console.log(u)),e.on("message",u=>{console.log(u),a.value=!0}),e.connect()},l=()=>{e==null||e.close(),e=null,a.value=!1};return(u,p)=>(b(),w("div",Ec,[c("div",Wc,[c("div",qc,[_(n(pe),{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=i=>t.value=i)},null,8,["modelValue"]),a.value?(b(),D(n(Z),{key:1,value:"Disconnect",onClick:l})):(b(),D(n(Z),{key:0,value:"Connect",onClick:s}))])])]))}});const Nc=S(Hc,[["__scopeId","data-v-3014baa1"]]),Gc={class:"async-value"},Qc={class:"dashboard"},Yc=`<AsyncValue
  :value="50000">
</AsyncValue>`,jc=`<AsyncValue
  :value="50000"
  type="dollar"
></AsyncValue>`,Jc=`<AsyncValue
  :value="50000"
  type="percentage"
></AsyncValue>`,Kc=`<AsyncValue
  :value="null">
</AsyncValue>`,Zc=`<AsyncValue
  :value="0">
</AsyncValue>`,Xc=` <AsyncValue
  :value="0"
  :show-zero="true"
></AsyncValue>`,eu=`<AsyncValue
  :value="50000"
  :precision="5"
  type="dollar"
></AsyncValue>`,tu=`<AsyncValue
  :value="50000"
  :show-symbol="false"
  type="dollar"
></AsyncValue>`,au=`<AsyncValue
  :value="50000"
  :show-unit="false"
  type="dollar"
></AsyncValue>`,ou=k({__name:"AsyncValue",setup(o){return(e,t)=>(b(),w("div",Gc,[c("div",Qc,[_(G,{title:"AsyncValue"},{example:y(()=>[_(n(O),{value:5e4})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Yc})]),_:1}),_(G,{title:"Dollar"},{example:y(()=>[_(n(O),{value:5e4,type:"dollar"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:jc})]),_:1}),_(G,{title:"Percentage"},{example:y(()=>[_(n(O),{value:5e4,type:"percentage"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Jc})]),_:1}),_(G,{title:"Loading"},{example:y(()=>[_(n(O),{value:null})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Kc})]),_:1}),_(G,{title:"Unknown"},{example:y(()=>[_(n(O),{value:0})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Zc})]),_:1}),_(G,{title:"Zero"},{example:y(()=>[_(n(O),{value:0,"show-zero":!0})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Xc})]),_:1}),_(G,{title:"Precision"},{example:y(()=>[_(n(O),{value:5e4,precision:5,type:"dollar"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:eu})]),_:1}),_(G,{title:"No Symbol"},{example:y(()=>[_(n(O),{value:5e4,"show-symbol":!1,type:"dollar"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:tu})]),_:1}),_(G,{title:"No Unit"},{example:y(()=>[_(n(O),{value:5e4,"show-unit":!1,type:"dollar"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:au})]),_:1})])]))}});const su=S(ou,[["__scopeId","data-v-dd805ddd"]]),nu={class:"breadcrumb"},lu={class:"dashboard"},ru=`<Breadcrumb
  :crumbs="crumbs"
  :active="crumbActive"
  @crumb="onCrumb"
></Breadcrumb>`,iu=`const crumbs: Crumb[] = [
  { id: "home", label: "Home" },
  { id: "crvusd", label: "crvUSD" },
  { id: "market", label: "Market" },
];

const crumbActive = ref({ id: "market", label: "Market" });

const onCrumb = (crumb: Crumb) => {
  crumbActive.value = crumb;
};`,cu=k({__name:"Breadcrumb",setup(o){const e=[{id:"home",label:"Home"},{id:"crvusd",label:"crvUSD"},{id:"market",label:"Market"}],t=P({id:"market",label:"Market"}),a=s=>{t.value=s};return(s,l)=>(b(),w("div",nu,[c("div",lu,[_(G,{title:"Breadcrumb"},{example:y(()=>[_(n(No),{crumbs:e,active:t.value,onCrumb:a},null,8,["active"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:ru}),_(n(U),{lang:"typescript",code:iu})]),_:1})])]))}});const uu=S(cu,[["__scopeId","data-v-1b8b0f32"]]),os=o=>(te("data-v-75776ef5"),o=o(),ae(),o),du={class:"button"},pu={class:"dashboard"},_u=os(()=>c("div",{style:{"margin-right":"1rem"}},"Content goes here",-1)),mu=os(()=>c("i",{class:"fas fa-plane"},null,-1)),vu=`<Button
  value="Value"
  :primary="true"
></Button>`,hu=`<Button
  value="Value"
  :primary="false"
></Button>`,fu=`<Button
  value="Value"
  :disabled="true"
></Button>`,gu=`<Button
  value="Value"
  :web3="true"
></Button>`,bu=`<Button
  value="Value"
  icon="fas fa-plane"
></Button>`,yu=`<Button>
  <div style="margin-right: 1rem">Content goes here</div>
  <i class="fas fa-plane"></i>
</Button>`,$u=`<Button
  value="Click me!"
  @click="showAlert('You clicked me!')"
></Button>`,wu="const showAlert = (msg: string) => alert(msg);",ku=k({__name:"Button",setup(o){const e=t=>alert(t);return(t,a)=>(b(),w("div",du,[c("div",pu,[_(G,{title:"Primary"},{example:y(()=>[_(n(Z),{value:"Value",primary:!0})]),snippets:y(()=>[_(n(U),{lang:"xml",code:vu})]),_:1}),_(G,{title:"Not Primary"},{example:y(()=>[_(n(Z),{value:"Value",primary:!1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:hu})]),_:1}),_(G,{title:"Disabled"},{example:y(()=>[_(n(Z),{value:"Value",disabled:!0})]),snippets:y(()=>[_(n(U),{lang:"xml",code:fu})]),_:1}),_(G,{title:"Web3"},{example:y(()=>[_(n(Z),{value:"Value",web3:!0})]),snippets:y(()=>[_(n(U),{lang:"xml",code:gu})]),_:1}),_(G,{title:"Icon"},{example:y(()=>[_(n(Z),{value:"Value",icon:"fas fa-plane"})]),snippets:y(()=>[_(n(U),{lang:"xml",code:bu})]),_:1}),_(G,{title:"Slot",style:{"grid-column":"2 / span 3"}},{example:y(()=>[_(n(Z),null,{default:y(()=>[_u,mu]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:yu})]),_:1}),_(G,{title:"Event - Click",style:{"grid-column":"1 / span 4"}},{example:y(()=>[_(n(Z),{value:"Click me!",onClick:a[0]||(a[0]=s=>e("You clicked me!"))})]),snippets:y(()=>[_(n(U),{lang:"xml",code:$u}),_(n(U),{lang:"typescript",code:wu})]),_:1})])]))}});const Cu=S(ku,[["__scopeId","data-v-75776ef5"]]),Su={class:"button-toggle"},xu={class:"dashboard"},Au=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,Iu=k({__name:"ButtonToggle",setup(o){const e=P(!1);return(t,a)=>(b(),w("div",Su,[c("div",xu,[_(G,{title:"Toggle"},{example:y(()=>[_(n(Me),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),value:"Value",icon:"fas fa-plane"},null,8,["modelValue"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:Au})]),_:1})])]))}});const Lu=S(Iu,[["__scopeId","data-v-f3d50318"]]),Pu={class:"card-root"},Du={class:"dashboard"},Mu=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,Tu=`<Card
  title="Card Title"
  icon="fas fa-plane"
>
  Content goes here
</Card>`,Vu=`<Card
  title="Card Loading"
  icon="fas fa-plane"
  :loading="true"
>
  Content goes here
</Card>`,zu=`<Card
  title="Card Title"
  icon="fas fa-plane"
  :collapsible="true"
  :collapsed="collapsed"
  @click="collapsed = !collapsed"
>
  <template #actions>
    <i
      class="expander fas fa-chevron-up"
      :class="{ expanded: collapsed }"
    ></i>
  </template>

  <Collapsible :expanded="!collapsed"> Content goes here </Collapsible>
</Card>`,Bu=`import { ref } from "vue";

const collapsed = ref(false);
`,Ou=`::v-deep(.card-header) {
  .expander {
    transition: transform 125ms cubic-bezier(0.65, 0.05, 0.36, 1);
    transform: rotate(90deg);

    &.expanded {
      transform: rotate(180deg);
    }
  }
}`,Ru=k({__name:"Card",setup(o){const e=P(!1);return(t,a)=>(b(),w("div",Pu,[c("div",Du,[_(G,{title:"Card"},{example:y(()=>[_(n(Y),{title:"Card Title",icon:"fas fa-plane"},{default:y(()=>[W(" Content goes here ")]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Mu})]),_:1}),_(G,{title:"Compact / no padding"},{example:y(()=>[_(n(Y),{compact:!0},{default:y(()=>[W(" Content goes here ")]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Tu})]),_:1}),_(G,{title:"Collapsible"},{example:y(()=>[_(n(Y),{title:"Card Title",icon:"fas fa-plane",collapsible:!0,collapsed:e.value,onClick:a[0]||(a[0]=s=>e.value=!e.value)},{actions:y(()=>[c("i",{class:F(["expander fas fa-chevron-up",{expanded:e.value}])},null,2)]),default:y(()=>[_(n(Oe),{expanded:!e.value},{default:y(()=>[W(" Content goes here ")]),_:1},8,["expanded"])]),_:1},8,["collapsed"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:zu}),_(n(U),{lang:"typescript",code:Bu}),_(n(U),{lang:"scss",code:Ou})]),_:1}),_(G,{title:"Loading"},{example:y(()=>[_(n(Y),{title:"Card Loading",icon:"fas fa-plane",loading:!0},{default:y(()=>[W(" Content goes here ")]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:Vu})]),_:1})])]))}});const Fu=S(Ru,[["__scopeId","data-v-fde7f6d4"]]),ss=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function Uu(o){const e=ss({colors:ie,colorsArray:Cc}),t=(a,s)=>{if(typeof s=="object"){z.mergeWith(a,s,t);return}else return a||s};return z.mergeWith(o,e,t)}function de(o,e){const t=ss(o),a=(s,l)=>{if(typeof l=="object"){z.mergeWith(s,l,a);return}else return s||l};return z.mergeWith(e,t,a)}const Eu={class:"card-graph"},Wu={class:"dashboard"},qu=`<CardGraph
  class="chart"
  title="LineChart"
  :options="options"
  :series="series"
></CardGraph>`,Hu=`import { computed } from "vue";
import { CardGraph } from "@/Framework";
import createChartStyles from "@/Styles/ChartStyles";
import { round, unit, type DataPoint, addDays } from "@/Util";

type Serie = {
  name: string;
  type: string;
  data: { x: number; y: number }[];
};

const optionsLineChart = computed((): unknown => {
  return createChartStyles({
    chart: {
      animations: {
        enabled: false,
      },
      toolbar: {
        tools: {
          download: true,
        },
      },
    },
    xaxis: {
      type: "datetime",
    },
    yaxis: [
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterEmissions(y),
        },
        min: 0,
        max: 10,
      },
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterFees(y),
        },
        show: false,
        min: 0,
        max: 10,
      },
    ],
    plotOptions: {
      bar: {
        distributed: false,
        dataLabels: {
          position: "top",
          hideOverflowingLabels: false,
        },
      },
    },
    tooltip: {
      followCursor: false,
      enabled: true,
      intersect: false,
      custom: (x: DataPoint<SerieLineChart>) => {
        const emissions = x.w.globals.initialSeries[0].data[x.dataPointIndex].y;

        const fees = x.w.globals.initialSeries[1].data[x.dataPointIndex]
          ? x.w.globals.initialSeries[1].data[x.dataPointIndex].y
          : 0;

        const data = [
          \`<div><b>Emissions</b>:</div><div>\${formatterEmissions(
            emissions
          )}</div>\`,
          \`<div><b>Fees</b>:</div><div>\${formatterFees(fees)}</div>\`,
        ];

        return data.join("");
      },
    },
    dataLabels: {
      enabled: false,
    },
    csv: {
      filename: "emissions.csv",
      columnDelimiter: ",",
      headerCategory: "category",
      headerValue: "value",
      dateFormatter(timestamp: number) {
        return timestamp;
      },
    },
  });
});

const series = computed((): Serie[] => {
  return [
    {
      name: "Emissions",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 1 },
        { x: addDays(new Date(), 1).getTime(), y: 5 },
        { x: addDays(new Date(), 2).getTime(), y: 7 },
        { x: addDays(new Date(), 3).getTime(), y: 3 },
        { x: addDays(new Date(), 4).getTime(), y: 9 },
      ],
    },
    {
      name: "Fees",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 5 },
        { x: addDays(new Date(), 1).getTime(), y: 0 },
        { x: addDays(new Date(), 2).getTime(), y: 3 },
        { x: addDays(new Date(), 3).getTime(), y: 9 },
        { x: addDays(new Date(), 4).getTime(), y: 2 },
      ],
    },
  ];
});

// Methods
const formatterEmissions = (x: number): string => {
  return \`$\${round(Math.abs(x), 1, "dollar")}\${unit(x, "dollar")}\`;
};

const formatterFees = (x: number): string => {
  return \`$\${round(x, 1, "dollar")}\${unit(x, "dollar")}\`;
};`,Nu=`.chart {
  height: 400px;

  ::v-deep(.card-body) {
    .apexcharts-tooltip {
      grid-template-rows: auto auto;
      grid-template-columns: 1fr auto;
    }
  }
}`,Gu=k({__name:"CardGraph",setup(o){const e=C(()=>Uu({chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>a(l)},min:0,max:10},{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>s(l)},show:!1,min:0,max:10}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:l=>{const u=l.w.globals.initialSeries[0].data[l.dataPointIndex].y,p=l.w.globals.initialSeries[1].data[l.dataPointIndex]?l.w.globals.initialSeries[1].data[l.dataPointIndex].y:0;return[`<div><b>Emissions</b>:</div><div>${a(u)}</div>`,`<div><b>Fees</b>:</div><div>${s(p)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(l){return l}}})),t=C(()=>[{name:"Emissions",type:"line",data:[{x:new Date().getTime(),y:1},{x:Ie(new Date,1).getTime(),y:5},{x:Ie(new Date,2).getTime(),y:7},{x:Ie(new Date,3).getTime(),y:3},{x:Ie(new Date,4).getTime(),y:9}]},{name:"Fees",type:"line",data:[{x:new Date().getTime(),y:5},{x:Ie(new Date,1).getTime(),y:0},{x:Ie(new Date,2).getTime(),y:3},{x:Ie(new Date,3).getTime(),y:9},{x:Ie(new Date,4).getTime(),y:2}]}]),a=l=>`$${J(Math.abs(l),1,"dollar")}${j(l,"dollar")}`,s=l=>`$${J(l,1,"dollar")}${j(l,"dollar")}`;return(l,u)=>(b(),w("div",Eu,[c("div",Wu,[_(G,{title:"Line Chart"},{example:y(()=>[_(n(ve),{class:"chart",title:"Line Chart",options:e.value,series:t.value},null,8,["options","series"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:qu}),_(n(U),{lang:"typescript",code:Hu}),_(n(U),{lang:"scss",code:Nu})]),_:1})])]))}});const Qu=S(Gu,[["__scopeId","data-v-da7df299"]]),$t=o=>(te("data-v-d414c8c0"),o=o(),ae(),o),Yu={class:"data-table"},ju={class:"dashboard"},Ju=$t(()=>c("div",null,"All Rounds",-1)),Ku={class:"vote-link"},Zu={class:"number"},Xu={class:"number"},ed=$t(()=>c("div",null,null,-1)),td=$t(()=>c("div",null,null,-1)),ad=$t(()=>c("div",null,null,-1)),od={class:"number"},sd=`<DataTable
  class="datatable-example"
  columns-header="1fr"
  columns-data="example-columns-data"
  :rows="rows"
  :columns="['', 'Deadline', '$/vlCVX', 'Total']"
  :sorting="true"
  :sorting-columns="['', 'deadline', 'vlasset', 'total']"
  :sorting-columns-enabled="['deadline', 'vlasset', 'total']"
  sorting-default-column="deadline"
  sorting-default-dir="Descending"
  @sort-column="onSort"
  @selected="onSelected"
>
  <template #header-title>
    <div>All Rounds</div>
  </template>

  <template #header-actions>
    <Tooltip>Tooltip data goes here</Tooltip>
  </template>

  <template #row="props: { item: Round }">
    <div
      class="round-number"
      @click.stop
    >
      <a class="vote-link">
        {{ props.item.round }}
      </a>
    </div>
    <div>
      {{ new Date(Date.now()).toLocaleDateString() }}
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value"
        :precision="5"
        type="dollar"
      />
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value * 10000"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>

  <template #row-aggregation>
    <div></div>
    <div></div>
    <div></div>
    <div class="number">
      <AsyncValue
        :value="rows.reduce((acc, x) => acc + x.value * 10000, 0)"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>
</DataTable>`,nd=`import { ref, computed } from "vue";
import { orderBy } from "lodash";
import { AsyncValue, DataTable, Tooltip, SortOrder } from "@/Framework";

type Round = {
  round: number;
  value: number;
};

let sortColumn = ref<"deadline" | "vlasset" | "total">("deadline");
let sortOrder = ref(SortOrder.Descending);

const data: Round[] = [
  { round: 1, value: 1 * Math.random() },
  { round: 2, value: 7 * Math.random() },
  { round: 3, value: 5 * Math.random() },
  { round: 4, value: 2 * Math.random() },
  { round: 5, value: 3 * Math.random() },
];

const rows = computed((): Round[] => {
  return orderBy(
    data ?? [],
    (row: Round) => {
      switch (sortColumn.value) {
        case "deadline":
          return row.round;
        case "vlasset":
          return row.value;
        case "total":
          return row.value;
        default:
          return row.round;
      }
    },
    sortOrder.value === SortOrder.Descending ? "desc" : "asc"
  );
});

// Events
const onSort = (columnName: string, order: SortOrder): void => {
  sortColumn.value = columnName as "deadline" | "vlasset" | "total";
  sortOrder.value = order;
};

const onSelected = (data: unknown): void => {
  const epoch = data as Round;
  console.log(epoch.round);
};`,ld=`.datatable-example {
  .round-number {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  ::v-deep(.example-columns-data) {
    display: grid;
    grid-template-columns: 1.5rem 1fr 1fr 1fr;

    // Right adjust number columns.
    div:nth-child(3),
    div:nth-child(4) {
      justify-content: end;
    }

    .vote-link {
      width: 1.5rem;
      text-align: center;
    }
  }
}`,rd=k({__name:"DataTable",setup(o){const e=P("deadline"),t=P(ge.Descending),a=[{round:1,value:1*Math.random()},{round:2,value:7*Math.random()},{round:3,value:5*Math.random()},{round:4,value:2*Math.random()},{round:5,value:3*Math.random()}],s=C(()=>z.orderBy(a??[],p=>{switch(e.value){case"deadline":return p.round;case"vlasset":return p.value;case"total":return p.value;default:return p.round}},t.value===ge.Descending?"desc":"asc")),l=(p,i)=>{e.value=p,t.value=i},u=p=>{console.log(p.round)};return(p,i)=>(b(),w("div",Yu,[c("div",ju,[_(G,{title:"DataTable",class:"recipe"},{example:y(()=>[_(n(ye),{class:"datatable-example","columns-header":"1fr","columns-data":"example-columns-data",rows:s.value,columns:["","Deadline","$/vlCVX","Total"],sorting:!0,"sorting-columns":["","deadline","vlasset","total"],"sorting-columns-enabled":["deadline","vlasset","total"],"sorting-default-column":"deadline","sorting-default-dir":"Descending",onSortColumn:l,onSelected:u},{"header-title":y(()=>[Ju]),"header-actions":y(()=>[_(n(Te),null,{default:y(()=>[W("Tooltip data goes here")]),_:1})]),row:y(d=>[c("div",{class:"round-number",onClick:i[0]||(i[0]=xe(()=>{},["stop"]))},[c("a",Ku,x(d.item.round),1)]),c("div",null,x(new Date(Date.now()).toLocaleDateString()),1),c("div",Zu,[_(n(O),{value:d.item.value,precision:5,type:"dollar"},null,8,["value"])]),c("div",Xu,[_(n(O),{value:d.item.value*1e4,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[ed,td,ad,c("div",od,[_(n(O),{value:s.value.reduce((d,v)=>d+v.value*1e4,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:sd}),_(n(U),{lang:"typescript",code:nd}),_(n(U),{lang:"scss",code:ld})]),_:1})])]))}});const id=S(rd,[["__scopeId","data-v-d414c8c0"]]),cd="/why.png",ud=o=>(te("data-v-8e184075"),o=o(),ae(),o),dd={class:"input-text"},pd={class:"dashboard"},_d={key:0,class:"search-item"},md=ud(()=>c("img",{src:cd},null,-1)),vd={class:"label"},hd={key:0,class:"description"},fd={class:"volume"},gd=`<InputText
  v-model="text1"
  placeholder="Placeholder goes here"
></InputText>`,bd=`<InputText
  v-model="pool"
  placeholder="Search for a pool: enter a space here"
  :search="true"
  :auto-complete="autoComplete"
  :options="pools"
  :filter="filter"
  :sort="sort"
  @input="onInput"
  @select="onSelect"
>
  <template #item="props: { item: Pool, idx: number }">
    <div
      v-if="props.item"
      class="search-item"
    >
      <img src="/why.png" />
      <div class="label">{{ props.item.name }}</div>
      <div
        v-if="props.idx === 0"
        class="description"
      >
        Volume
      </div>
      <div class="volume">
        <AsyncValue
          :value="props.item.volume"
          :precision="2"
          type="dollar"
        />
      </div>
    </div>
  </template>
</InputText>`,yd=`import { ref } from "vue";
import { InputText, AsyncValue } from "@/Framework";

const pool = ref("");
const autoComplete = ref(false);

type Pool = {
  name: string;
  volume: number;
};

const pools: Pool[] = [
  {
    name: "Pool A",
    volume: 10,
  },
  {
    name: "Pool B",
    volume: 1337,
  },
  {
    name: "Pool C",
    volume: 42,
  },
];

// Methods
const filter = (input: string, option: unknown) =>
  (option as Pool).name.toLocaleLowerCase().includes(input.toLocaleLowerCase());

const sort = (a: unknown, b: unknown) =>
  (b as Pool).volume - (a as Pool).volume;

// Events
const onInput = (input: string): void => {
  autoComplete.value = !!input;
};

const toggleExpansion = (newPool: Pool): void => {
  pool.value = newPool.name;
  autoComplete.value = false;
};

const onSelect = (option: unknown): void => {
  const pool = option as Pool;
  toggleExpansion(pool);
};`,$d=`.search-item {
  display: flex;
  align-items: center;

  img {
    width: 20px;
    height: 20px;
    object-fit: scale-down;
  }

  > .label {
    flex-grow: 1;
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .volume,
  > .description {
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .description {
    color: var(--c-lvl5);
  }
}`,wd=k({__name:"InputText",setup(o){const e=P(""),t=P(""),a=P(!1),s=[{name:"Pool A",volume:10},{name:"Pool B",volume:1337},{name:"Pool C",volume:42}],l=(v,h)=>h.name.toLocaleLowerCase().includes(v.toLocaleLowerCase()),u=(v,h)=>h.volume-v.volume,p=v=>{a.value=!!v},i=v=>{t.value=v.name,a.value=!1},d=v=>{i(v)};return(v,h)=>(b(),w("div",dd,[c("div",pd,[_(G,{title:"InputText with placeholder"},{example:y(()=>[_(n(pe),{modelValue:e.value,"onUpdate:modelValue":h[0]||(h[0]=g=>e.value=g),placeholder:"Placeholder goes here"},null,8,["modelValue"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:gd})]),_:1}),_(G,{title:"InputText with search, options, filter, sorting and slot"},{example:y(()=>[_(n(pe),{modelValue:t.value,"onUpdate:modelValue":h[1]||(h[1]=g=>t.value=g),placeholder:"Search for a pool: enter a space here",search:!0,"auto-complete":a.value,options:s,filter:l,sort:u,onInput:p,onSelect:d},{item:y(g=>[g.item?(b(),w("div",_d,[md,c("div",vd,x(g.item.name),1),g.idx===0?(b(),w("div",hd," Volume ")):V("",!0),c("div",fd,[_(n(O),{value:g.item.volume,precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["modelValue","auto-complete"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:bd}),_(n(U),{lang:"typescript",code:yd}),_(n(U),{lang:"scss",code:$d})]),_:1})])]))}});const kd=S(wd,[["__scopeId","data-v-8e184075"]]),Cd={class:"input-number"},Sd={class:"dashboard"},xd=`<InputNumber
  v-model="value"
  placeholder="Number goes here"
  :min="-5"
  :max="Infinity"
></InputNumber>`,Ad=k({__name:"InputNumber",setup(o){const e=P(0);return(t,a)=>(b(),w("div",Cd,[c("div",Sd,[_(G,{title:"InputNumber"},{example:y(()=>[_(n(Zt),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),placeholder:"Number goes here",min:-5,max:1/0},null,8,["modelValue"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:xd})]),_:1})])]))}});const Id=S(Ad,[["__scopeId","data-v-196ca807"]]),Ld=o=>(te("data-v-bbac04e1"),o=o(),ae(),o),Pd={class:"modal"},Dd={class:"dashboard"},Md=Ld(()=>c("div",{class:"content"},"Content goes here",-1)),Td=`<ModalYesNo
  class="my-modal"
  title="Modal title"
  :show="openModal"
  @close="openModal = false"
  @no="openModal = false"
  @yes="onYes"
>
  <div class="content">Content goes here</div>
</ModalYesNo>`,Vd=`import { ref } from "vue";

const openModal = ref(false);

const onYes = () => {
  alert("You clicked yes!");
  openModal.value = false;
};`,zd=`.my-modal {
  ::v-deep(.content) {
    width: 40rem;
  }
}`,Bd=k({__name:"Modal",setup(o){const e=P(!1),t=()=>{alert("You clicked yes!"),e.value=!1};return(a,s)=>(b(),w("div",Pd,[c("div",Dd,[_(G,{title:"ModalYesNo"},{example:y(()=>[_(n(Z),{onClick:s[0]||(s[0]=l=>e.value=!0)},{default:y(()=>[W("Open Modal")]),_:1}),_(n(yr),{class:"my-modal",title:"Modal title",show:e.value,onClose:s[1]||(s[1]=l=>e.value=!1),onNo:s[2]||(s[2]=l=>e.value=!1),onYes:t},{default:y(()=>[Md]),_:1},8,["show"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:Td}),_(n(U),{lang:"typescript",code:Vd}),_(n(U),{lang:"scss",code:zd})]),_:1})])]))}});const Od=S(Bd,[["__scopeId","data-v-bbac04e1"]]),Rd={class:"pagination"},Fd={class:"dashboard"},Ud=`<Pagination
  :items-count="96"
  :items-per-page="10"
  :page="page"
  @page="onPage"
></Pagination>`,Ed=k({__name:"Pagination",setup(o){const e=P(1),t=a=>{e.value=a};return(a,s)=>(b(),w("div",Rd,[c("div",Fd,[_(G,{title:"Pagination"},{example:y(()=>[_(n(Je),{"items-count":96,"items-per-page":10,page:e.value,onPage:t},null,8,["page"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:Ud})]),_:1})])]))}});const Wd=S(Ed,[["__scopeId","data-v-25aea555"]]),qd={class:"select"},Hd={class:"dashboard"},Nd={key:0,class:"item"},Gd=["src"],Qd={class:"label"},Yd=`<Select
  class="select-component"
  :options="options"
  :selected="selected"
  :open="selectOpen"
  @open="onSelectOpen"
  @close="selectOpen = false"
  @input="onSelect"
>
  <template #item="props: { item: SelectItem }">
    <div
      v-if="props.item"
      class="item"
    >
      <img :src="props.item.logo" />
      <div class="label">{{ props.item.label }}</div>
    </div>
  </template>
</Select>`,jd=`import { ref, onMounted } from "vue";
import { Select } from "@/Framework";

type SelectItem = {
  label: string;
  logo: string;
};

const options: SelectItem[] = [
  {
    label: "Option 1",
    logo: "/why.png",
  },
  {
    label: "Option 2",
    logo: "/why.png",
  },
  {
    label: "Option 3",
    logo: "/why.png",
  },
];

const selectOpen = ref(false);
const selected = ref<SelectItem | null>;

// Hooks
onMounted((): void => {
  onSelect(options[0]);
});

// Events
const onSelectOpen = (): void => {
  selectOpen.value = !selectOpen.value;
};

const onSelect = (option: unknown): void => {
  const item = option as SelectItem;
  selected.value = item;
};`,Jd=`::v-deep(.select-component) {
  width: 20rem;

  .item {
    display: flex;
    align-items: center;

    img {
      width: 20px;
      height: 20px;
      object-fit: scale-down;
    }

    > .label {
      font-size: 0.875rem;
      margin-left: 0.75rem;
    }
  }
}`,Kd=k({__name:"Select",setup(o){const e=[{label:"Option 1",logo:"/why.png"},{label:"Option 2",logo:"/why.png"},{label:"Option 3",logo:"/why.png"}],t=P(!1),a=P(null);q(()=>{l(e[0])});const s=()=>{t.value=!t.value},l=u=>{const p=u;a.value=p};return(u,p)=>(b(),w("div",qd,[c("div",Hd,[_(G,{title:"Select"},{example:y(()=>[_(n(Re),{class:"select-component",options:e,selected:a.value,open:t.value,onOpen:s,onClose:p[0]||(p[0]=i=>t.value=!1),onInput:l},{item:y(i=>[i.item?(b(),w("div",Nd,[c("img",{src:i.item.logo},null,8,Gd),c("div",Qd,x(i.item.label),1)])):V("",!0)]),_:1},8,["selected","open"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:Yd}),_(n(U),{lang:"typescript",code:jd}),_(n(U),{lang:"scss",code:Jd})]),_:1})])]))}});const Zd=S(Kd,[["__scopeId","data-v-4bbec1e3"]]),Xd={class:"slider"},ep={class:"dashboard"},tp={class:"value"},ap=`<Slider
  :min="0"
  :max="5"
  :step="0.1"
  :model-value="value"
  @update:model-value="onInput"
></Slider>`,op=`import { ref } from "vue";
import { Slider } from "@/Framework";

const value = ref(0);

// Events
const onInput = (newVal: string) => {
  value.value = parseFloat(newVal);
};`,sp=k({__name:"Slider",setup(o){const e=P(0),t=a=>{e.value=parseFloat(a)};return(a,s)=>(b(),w("div",Xd,[c("div",ep,[_(G,{title:"Slider"},{example:y(()=>[c("div",tp,x(e.value),1),_(n(Wr),{min:0,max:5,step:.1,"model-value":e.value,"onUpdate:modelValue":t},null,8,["model-value"])]),snippets:y(()=>[_(n(U),{lang:"xml",code:ap}),_(n(U),{lang:"typescript",code:op})]),_:1})])]))}});const np=S(sp,[["__scopeId","data-v-4f5b3c15"]]),lp={class:"spinner"},rp={class:"dashboard"},ip="<Spinner></Spinner>",cp=k({__name:"Spinner",setup(o){return(e,t)=>(b(),w("div",lp,[c("div",rp,[_(G,{title:"Spinner"},{example:y(()=>[_(n(rt))]),snippets:y(()=>[_(n(U),{lang:"xml",code:ip})]),_:1})])]))}});const up=S(cp,[["__scopeId","data-v-716781f5"]]),dp={class:"tabs"},pp={class:"dashboard"},_p={class:"active"},mp=`<TabView @tab="tabActive = $event.index">
  <TabItem header="Tab One"> Tab 1 content goes here </TabItem>
  <TabItem header="Tab Two"> Tab 2 content goes here </TabItem>
  <TabItem header="Tab Three"> Tab 3 content goes here </TabItem>
</TabView>`,vp=`import { TabView, TabItem } from "@/Framework";

const tabActive = ref(0);
`,hp=k({__name:"Tabs",setup(o){const e=P(0);return(t,a)=>(b(),w("div",dp,[c("div",pp,[_(G,{title:"Tabs"},{example:y(()=>[c("div",_p,"Active tab is index "+x(e.value),1),_(n(Ze),{onTab:a[0]||(a[0]=s=>e.value=s.index)},{default:y(()=>[_(n(le),{header:"Tab One"},{default:y(()=>[W(" Tab 1 content goes here ")]),_:1}),_(n(le),{header:"Tab Two"},{default:y(()=>[W(" Tab 2 content goes here ")]),_:1}),_(n(le),{header:"Tab Three"},{default:y(()=>[W(" Tab 3 content goes here ")]),_:1})]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:mp}),_(n(U),{lang:"typescript",code:vp})]),_:1})])]))}});const fp=S(hp,[["__scopeId","data-v-06c4a326"]]),ns=o=>(te("data-v-2ccadc32"),o=o(),ae(),o),gp={class:"tooltip"},bp={class:"dashboard"},yp=ns(()=>c("div",null,"Hover over me!",-1)),$p=ns(()=>c("div",null,"Tooltip content goes here",-1)),wp=`<Tooltip>
  <template #item>
    <div>Hover over me!</div>
  </template>

  <div>Tooltip content goes here</div>
</Tooltip>`,kp=k({__name:"Tooltip",setup(o){return(e,t)=>(b(),w("div",gp,[c("div",bp,[_(G,{title:"Tooltip"},{example:y(()=>[_(n(Te),null,{item:y(()=>[yp]),default:y(()=>[$p]),_:1})]),snippets:y(()=>[_(n(U),{lang:"xml",code:wp})]),_:1})])]))}});const Cp=S(kp,[["__scopeId","data-v-2ccadc32"]]),Sp={titleRoute:"/cookbook",routes:[{path:"/cookbook",redirect:{name:"button"}},{path:"/cookbook/colors",name:"colors",component:Pc},{path:"/cookbook/dashboard",name:"dashboard",component:Uc},{path:"/cookbook/socket",name:"socket",component:Nc},{path:"/cookbook/async-value",name:"async-value",component:su},{path:"/cookbook/breadcrumb",name:"breadcrumb",component:uu},{path:"/cookbook/button",name:"button",component:Cu},{path:"/cookbook/toggle-button",name:"toggle-button",component:Lu},{path:"/cookbook/card",name:"card",component:Fu},{path:"/cookbook/graph-card",name:"graph-card",component:Qu},{path:"/cookbook/data-table",name:"data-table",component:id},{path:"/cookbook/input-text",name:"input-text",component:kd},{path:"/cookbook/input-number",name:"input-number",component:Id},{path:"/cookbook/modal",name:"modal",component:Od},{path:"/cookbook/pagination",name:"pagination",component:Wd},{path:"/cookbook/select",name:"select",component:Zd},{path:"/cookbook/slider",name:"slider",component:np},{path:"/cookbook/spinner",name:"spinner",component:up},{path:"/cookbook/tabs",name:"tabs",component:fp},{path:"/cookbook/tooltip",name:"tooltip",component:Cp}],menuItems:[{to:"/cookbook/colors",label:"Colors"},{to:"/cookbook/dashboard",label:"Dashboard"},{to:"/cookbook/socket",label:"Socket.IO"},{label:"Framework",children:[{to:"/cookbook/async-value",label:"AsyncValue"},{to:"/cookbook/breadcrumb",label:"Breadcrumb"},{to:"/cookbook/button",label:"Button"},{to:"/cookbook/toggle-button",label:"ButtonToggle"},{to:"/cookbook/card",label:"Card"},{to:"/cookbook/graph-card",label:"CardGraph"},{to:"/cookbook/data-table",label:"DataTable"},{to:"/cookbook/input-text",label:"InputText"},{to:"/cookbook/input-number",label:"InputNumber"},{to:"/cookbook/modal",label:"Modal"},{to:"/cookbook/pagination",label:"Pagination"},{to:"/cookbook/select",label:"Select"},{to:"/cookbook/slider",label:"Slider"},{to:"/cookbook/spinner",label:"Spinner"},{to:"/cookbook/tabs",label:"Tabs"},{to:"/cookbook/tooltip",label:"Tooltip"}]}]};function H(){return ol}class xp extends $e{async getPrice(e){const t=`ethereum:${e}`;return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins[t])}async getPrices(e){const t=e.map(a=>`ethereum:${a}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins)}async getData(e){return this.fetch(`https://api.llama.fi/updatedProtocol/${e}`)}}const Ap="https://prices.curve.fi/v1";class Ip extends $e{async getChain(){return this.fetch(`${Ap}/chains/ethereum?page=1&per_page=0`)}}const Lp={class:"kpis"},Pp=k({__name:"KPIs",setup(o){const e=new xp(H()),t=new Ip(H()),a=P(null),s=P(null),l=P(null),u=P(null);return q(async()=>{const p=t.getChain();try{s.value=await e.getData("curve-finance").then(i=>i.mcap),a.value=await e.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(i=>i.price)}catch{[a.value,s.value]=[0,0]}try{const i=await p;l.value=i.total.total_tvl,u.value=i.total.trading_volume_24h}catch{l.value=0,u.value=0}}),(p,i)=>(b(),w("div",Lp,[_(n(Pe),{label:"CRV price","has-value":!!a.value},{default:y(()=>[_(n(O),{value:a.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"CRV market cap","has-value":!!s.value},{default:y(()=>[_(n(O),{value:s.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"Total Value Locked","has-value":!!l.value},{default:y(()=>[_(n(O),{value:l.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"7-day Volume","has-value":!!u.value},{default:y(()=>[_(n(O),{value:u.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])]))}});const Dp=S(Pp,[["__scopeId","data-v-929ba135"]]),Le="https://api-py.llama.airforce/curve/v1";let wt=class extends $e{async getLiquidityTop(){return this.fetch(`${Le}/protocol/liquidity/top`)}async getTradesLarge(){return this.fetch(`${Le}/protocol/size/trades`)}async getTvlGainers(){return this.fetch(`${Le}/protocol/tvl/gainers`)}async getTvlLosers(){return this.fetch(`${Le}/protocol/tvl/losers`)}async getTvlBreakdownType(){return this.fetch(`${Le}/protocol/tvl/type_breakdown`)}async getTvlBreakdownChain(){return this.fetch(`${Le}/protocol/tvl/chain_breakdown`)}async getVolumeBreakdownType(){return this.fetch(`${Le}/protocol/volume/type_breakdown`)}async getVolumeBreakdownChain(){return this.fetch(`${Le}/protocol/volume/chain_breakdown`)}};const Mp=k({__name:"ChartChainType",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getTvlBreakdownChain().then(d=>d.tvl_breakdown_chain.sort((v,h)=>h.tvl-v.tvl)),[]),u=C(()=>{const d=E(t.theme),v=X(t.theme);return de({colors:d,colorsArray:v},{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const g=p.value[h.seriesIndex].name,m=h.series[h.seriesIndex][h.dataPointIndex];return[`<div><b>${g}</b>:</div><div>${i(m[0])}</div>`].join("")}}})}),p=C(()=>[...s.value.map(d=>({name:d.chain,data:[d.tvl,d.tvl]}))]);q(()=>void l());const i=d=>`$${J(Math.abs(d),1,"dollar")}${j(d,"dollar")}`;return(d,v)=>(b(),D(n(ve),{class:"chart",title:"TVL & Volume per Chain",loading:n(a),options:u.value,series:p.value},null,8,["loading","options","series"]))}});const Tp=S(Mp,[["__scopeId","data-v-7fa9aa1a"]]),Vp=k({__name:"ChartLiquidityTop",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getLiquidityTop().then(h=>h.liquidity_use.sort((g,m)=>m.liq_use-g.liq_use)),[]),u=C(()=>{const h=E(t.theme),g=X(t.theme);return de({colors:h,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:p.value,labels:{formatter:d}},yaxis:{labels:{formatter:v}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:m=>{var I;const r=p.value[m.dataPointIndex],f=m.series[0][m.dataPointIndex],$=(I=s.value.find(L=>L.name===r))==null?void 0:I.chain;return`
            <div><b>${r}</b>:</div>
            <div>${d(f)}</div>
            <div>${$}<div>`}}})}),p=C(()=>s.value.map(h=>h.name)),i=C(()=>[{data:s.value.map(h=>h.liq_use)}]);q(()=>void l());const d=h=>`${J(Math.abs(h),2,"dollar")}`,v=h=>h.toString().substring(0,12);return(h,g)=>(b(),D(n(ve),{class:"chart",title:"Liquidity Usage",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const zp=S(Vp,[["__scopeId","data-v-6fc5faef"]]),Bp=k({__name:"ChartRanking",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(async()=>{const h=e.getTvlGainers(),g=e.getTvlLosers(),[m,r]=[await h,await g];return[...m.tvl_gainers,...r.tvl_losers].sort((f,$)=>$.tvl_growth-f.tvl_growth)},[]),u=C(()=>{const h=E(t.theme),g=X(t.theme);return de({colors:h,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},colors:[m=>m.value<0?h.red:h.green],xaxis:{categories:p.value,labels:{formatter:d}},yaxis:{labels:{formatter:v}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:m=>{var I;const r=p.value[m.dataPointIndex],f=m.series[0][m.dataPointIndex],$=(I=s.value.find(L=>L.name===r))==null?void 0:I.chain;return`
            <div><b>${r}</b>:</div>
            <div>${v(f)}</div>
            <div>${$}<div>`}}})}),p=C(()=>s.value.map(h=>h.name)),i=C(()=>[{data:s.value.map(h=>h.tvl_growth)}]);q(()=>void l());const d=h=>h.toString().substring(0,12),v=h=>`${J(h,0,"dollar")}${j(h,"percentage")}`;return(h,g)=>(b(),D(n(ve),{class:"chart",title:"TVL Gainers & Losers",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const Op=S(Bp,[["__scopeId","data-v-5479e52c"]]),Rp=o=>(te("data-v-2294fc8f"),o=o(),ae(),o),Fp=Rp(()=>c("div",null,"Largest Trades",-1)),Up=["href"],Ep={class:"number"},Wp=k({__name:"TableTrades",setup(o){const e=new wt(H()),{data:t,loadData:a}=oe(()=>e.getTradesLarge().then(s=>s.large_trades.sort((l,u)=>u.value-l.value)).then(s=>s.slice(0,10)),[]);return q(()=>void a()),(s,l)=>(b(),D(n(ye),{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:n(t),columns:["Tx","Name","Value"]},{"header-title":y(()=>[Fp]),row:y(u=>[c("div",{onClick:l[0]||(l[0]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${u.item.tx}`,target:"_blank"},x(n(Se)(u.item.tx)),9,Up)]),c("div",null,x(u.item.name),1),c("div",Ep,[_(n(O),{value:u.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"]))}});const qp=S(Wp,[["__scopeId","data-v-2294fc8f"]]),Hp={class:"home"},Np={class:"controls-container"},Gp={class:"data-1"},Qp={class:"data-2"},Yp=k({__name:"Home",setup(o){const e=P("");return(t,a)=>(b(),w("div",Hp,[c("div",Np,[_(n(pe),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),c("div",Gp,[_(Dp),_(Tp),_(zp)]),c("div",Qp,[_(qp),_(Op)])]))}});const jp=S(Yp,[["__scopeId","data-v-c903325c"]]),Xe=Ae({id:"curvePoolsStore",state:()=>({pools:[],poolsLoading:!1,poolsLoadingError:!1,candles:{},reserves:{},volumes:{}}),actions:{setCandles(o,e){this.candles[o]=e},setReserves(o,e){this.reserves[o]=e},setVolumes(o,e){this.volumes[o]=e}}});function Jp(o,e){const t=o.toLocaleLowerCase(),a=Ce(e.name).toLocaleLowerCase().includes(t),s=e.symbol.toLocaleLowerCase().includes(t),l=t.startsWith("0x")&&e.address.toLocaleLowerCase().includes(t);return a||s||l}const Kp={key:0,class:"item"},Zp=["src"],Xp={class:"label"},e_={key:0,class:"description"},t_={class:"volume"},ls=k({__name:"SearchPool",props:{modelValue:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=Xe(),s=P(!1),l=P(t("search-placeholder")),u=C(()=>a.pools),p=(m,r)=>Jp(m,r),i=(m,r)=>d(r)-d(m),d=m=>m.cumulativeVolumeUSD,v=m=>{const r=Ce(m.name);return r.startsWith("Curve.fi ")?r.slice(9):r},h=m=>{s.value=!!m},g=m=>{const r=m;s.value=!1,e("select",r)};return T([()=>a.poolsLoading,()=>a.poolsLoadingError],([m,r])=>{r?l.value=t("search-error"):m?l.value=t("search-loading"):l.value=t("search-placeholder")}),(m,r)=>(b(),D(n(pe),{class:"select-pool","model-value":m.modelValue,placeholder:l.value,search:!0,"auto-complete":s.value,options:u.value,filter:p,sort:i,"onUpdate:modelValue":r[0]||(r[0]=f=>e("update:modelValue",f)),onInput:h,onSelect:g},{item:y(f=>[f.item?(b(),w("div",Kp,[c("img",{src:n(jt)(f.item.name,!1)},null,8,Zp),c("div",Xp,x(v(f.item)),1),f.idx===0?(b(),w("div",e_,x(n(t)("search-description")),1)):V("",!0),c("div",t_,[_(n(O),{value:d(f.item),precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function $a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])},"search-description":t=>{const{normalize:a}=t;return a(["Cumulative Volume"])}}})}typeof $a=="function"&&$a(ls);const a_=S(ls,[["__scopeId","data-v-0c13035c"]]),rs=k({__name:"Balances",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),l=C(()=>{var g,m,r;return o.poolSelected?(r=(m=(g=t.reserves[o.poolSelected.address])==null?void 0:g[0])==null?void 0:m.reservesUSD)==null?void 0:r.length:0}),u=C(()=>{const g=E(a.theme),m=X(a.theme);return de({colors:g,colorsArray:m},{chart:{id:"balances",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:[...Array(l.value).keys()].map(r=>d(r)),dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>[...Array(l.value).keys()].map(A=>r.w.globals.initialSeries[A].data[r.dataPointIndex].y).map((A,I)=>`<div><b>${i(I).substring(0,10)}</b>:</div><div>${h(A)}</div>`).join("")}})}),p=C(()=>[...Array(l.value).keys()].map(g=>v(g))),i=g=>{var m,r;return((r=(m=o.poolSelected)==null?void 0:m.coins)==null?void 0:r[g])??"0x?"},d=g=>({seriesName:i(g),tickAmount:4,labels:{formatter:m=>h(m)},min:0,max:100,show:g===0}),v=g=>({name:i(g),type:"line",data:s.value.map(m=>({x:m.timestamp*1e3,y:m.reservesUSD[g]/m.reservesUSD.reduce((r,f)=>r+f,0)*100}))}),h=g=>`${J(g,2,"percentage")}${j(g,"percentage")}`;return(g,m)=>(b(),D(n(ve),{class:"balances",title:n(e)("title"),options:u.value,series:p.value},null,8,["title","options","series"]))}});function wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof wa=="function"&&wa(rs);const o_=S(rs,[["__scopeId","data-v-4c361370"]]),is=k({__name:"Reserves",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),l=C(()=>{const i=E(a.theme),d=X(a.theme);return de({colors:i,colorsArray:d},{chart:{id:"reserves",type:"area",animations:{enabled:!1}},colors:d,xaxis:{type:"datetime"},yaxis:{labels:{formatter:v=>p(v)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:v=>{const h=v.w.globals.initialSeries[v.seriesIndex].data[v.dataPointIndex].y;return`<div><b>${e("tvl")}</b>:</div><div>${p(h)}</div>`}}})}),u=C(()=>[{name:"reserves",data:s.value.map(i=>({x:i.timestamp*1e3,y:i.reservesUSD.reduce((d,v)=>d+v,0)}))}]),p=i=>`$${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(ve),{class:"reserves",title:n(e)("title"),options:l.value,series:u.value},null,8,["title","options","series"]))}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Reserves"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof ka=="function"&&ka(is);const s_=S(is,[["__scopeId","data-v-d65b80df"]]),n_={class:"buttons"},cs=k({__name:"Candles",props:{poolSelected:{}},setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=Xe(),i=N(),d=P(null),v=P(!1);q(()=>{if(!d.value)return;const r=E(i.theme);t=ue(d.value,{width:d.value.clientWidth,height:d.value.clientHeight,layout:{background:{type:Nt.Solid,color:r.backgroundColor},textColor:r.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:r.level2,style:Gt.Dashed}},crosshair:{mode:Vo.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:f=>m(f)}}),a=t.addCandlestickSeries({upColor:r.green,borderUpColor:r.green,wickUpColor:r.green,downColor:r.red,borderDownColor:r.red,wickDownColor:r.red,priceFormat:{type:"price",precision:6,minMove:1e-6}}),s=t.addHistogramSeries({color:r.blue,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left"})});const h=C(()=>{var f;const r=(f=o.poolSelected)==null?void 0:f.address;return r?p.candles[r]??[]:[]});T(h,r=>{g(r,v.value)}),T(v,r=>{g(h.value,r)});const g=(r,f)=>{if(!t||!a||!s||!o.poolSelected)return;let $=o.poolSelected.coins[0].toLocaleLowerCase()===al?-1:1;$=$*(f?-1:1);const A=z.chain(r).map(M=>({time:M.timestamp,open:Math.pow(M.open,$),high:Math.pow(M.high,$),low:Math.pow(M.low,$),close:Math.pow(M.close,$)})).uniqWith((M,R)=>M.time===R.time).orderBy(M=>M.time,"asc").value(),I=E(i.theme),L=z.chain(r).map(M=>({time:M.timestamp,value:M.token0TotalAmount,color:I.blue})).uniqWith((M,R)=>M.time===R.time).orderBy(M=>M.time,"asc").value();A.length>0&&L.length>0&&(a.setData(A),s.setData(L),t.timeScale().fitContent(),u=Math.min(...A.map(M=>M.low)),l=Math.max(...A.map(M=>M.high)))},m=r=>{const f=l-u,$=f>1?f-Math.floor(f):f,A=-Math.floor(Math.log10($)+1)+2;return`${J(r,A,"dollar")}${j(r,"dollar")}`};return(r,f)=>(b(),D(n(Y),{class:"candles",title:n(e)("title")},{default:y(()=>[c("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512),c("div",n_,[_(n(Me),{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=$=>v.value=$)},{default:y(()=>[W(x(n(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof Ca=="function"&&Ca(cs);const l_=S(cs,[["__scopeId","data-v-48222cbd"]]),us=k({__name:"Volume",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.volumes[o.poolSelected.address]??[]:[]),l=C(()=>{const i=E(a.theme),d=X(a.theme);return de({colors:i,colorsArray:d},{chart:{id:"volumes",type:"area",animations:{enabled:!1}},colors:d,xaxis:{type:"datetime"},yaxis:{seriesName:"volume",tickAmount:4,labels:{formatter:v=>p(v)},min:Math.min(...s.value.map(v=>v.volumeUSD)),max:Math.max(...s.value.map(v=>v.volumeUSD))},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:v=>{const h=v.w.globals.initialSeries[0].data[v.dataPointIndex].y;return[`<div><b>${e("volume")}</b>:</div><div>${p(h)}</div>`].join("")}}})}),u=C(()=>[{name:e("volume"),data:s.value.map(i=>({x:i.timestamp*1e3,y:i.volumeUSD}))}]),p=i=>`$${J(Math.abs(i),1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(ve),{class:"volumes",title:n(e)("volume"),options:l.value,series:u.value},null,8,["title","options","series"]))}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{volume:t=>{const{normalize:a}=t;return a(["Volume"])}}})}typeof Sa=="function"&&Sa(us);const r_=S(us,[["__scopeId","data-v-edb08b4b"]]),i_="https://api-py.llama.airforce/curve/v1";let c_=class extends $e{async get(){return this.fetch(`${i_}/pools/mainnet/all`)}};const u_="https://api.thegraph.com/subgraphs/name/convex-community/volume-mainnet";class d_ extends $e{async get(e){let t=0;return Bo(async(s,l)=>{const u=`{
        candles(
          where: {
            pool: "${e.address}"
            period: 3600
            timestamp_gte: ${t}
          }
          first: ${l}
        ) {
          timestamp
          open
          close
          low
          high
          token0TotalAmount
        }
      }`,p=await this.fetch(u_,{query:u}).then(i=>i.data.candles.map(d=>({timestamp:parseInt(d.timestamp,10),open:parseFloat(d.open),high:parseFloat(d.high),low:parseFloat(d.low),close:parseFloat(d.close),token0TotalAmount:parseFloat(d.token0TotalAmount)})));return t=Math.max(...p.map(i=>i.timestamp)),p})}}const p_="https://api-py.llama.airforce/curve/v1";class __ extends $e{async get(e){return this.fetch(`${p_}/pools/mainnet/reserves/${e.address}`)}}const m_="https://api-py.llama.airforce/curve/v1";let v_=class extends $e{async get(e){return this.fetch(`${m_}/pools/mainnet/volume/${e.address}`)}};async function h_(o,e){if(o.pools.length>0||o.poolsLoading)return;o.poolsLoading=!0;const{pools:t}=await e.get();o.pools=t,o.poolsLoading=!1}async function f_(o,e,t){if(t&&!o.reserves[t.name]){o.poolsLoading=!0;try{const{reserves:a}=await e.get(t);o.setReserves(t.address,a)}finally{o.poolsLoading=!1}}}async function g_(o,e,t){if(t&&!o.candles[t.name]){o.poolsLoading=!0;try{const a=await e.get(t);a&&o.setCandles(t.address,a)}finally{o.poolsLoading=!1}}}async function b_(o,e,t){if(t&&!o.volumes[t.name]){o.poolsLoading=!0;try{const{volume:a}=await e.get(t);o.setVolumes(t.address,a)}finally{o.poolsLoading=!1}}}const y_={class:"pools"},$_=k({__name:"Pools",setup(o){const e=new c_(H()),t=new __(H()),a=new d_(H()),s=new v_(H()),l=Xe(),u=P(""),p=P(null);q(async()=>{await h_(l,e)});const i=d=>{const v=d;u.value=Ce(v.name),p.value=v,g_(l,a,v),f_(l,t,v),b_(l,s,v)};return(d,v)=>(b(),w("div",y_,[_(a_,{modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=h=>u.value=h),onSelect:i},null,8,["modelValue"]),c("div",{class:F(["data",{loading:n(l).poolsLoading}])},[p.value?(b(),D(l_,{key:0,class:"candles","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(b(),D(s_,{key:1,class:"reserves","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(b(),D(r_,{key:2,class:"volumes","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(b(),D(o_,{key:3,class:"balances","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),n(l).poolsLoading?(b(),D(n(rt),{key:4,class:"spinner"})):V("",!0)],2)]))}});const w_=S($_,[["__scopeId","data-v-24a1f43e"]]),We=Ae({id:"curveStore",state:()=>({gauges:[],emissions:{},fees:{},breakdown:[],chainRevenues:[],selectedChain:"mainnet",topPools:{}}),actions:{setEmissions(o,e){this.emissions[o]=e},setFees(o,e){this.fees[o]=e},setTopPools(o,e){this.topPools[o]=e}}});function He(o){const e=o.reduce((t,{timeStamp:a,value:s})=>t.set(a,(t.get(a)??0)+s),new Map);return Array.from(e).map(t=>({timeStamp:t[0],value:t[1]}))}const ds=k({__name:"GraphEmissions",props:{gaugeSelected:{}},setup(o){const{t:e}=B(),t=We(),a=N(),s=C(()=>{let r=e("title");return o.gaugeSelected&&(r+=` - ${Ce(o.gaugeSelected.name)}`),r}),l=C(()=>o.gaugeSelected?t.emissions[o.gaugeSelected.name]??[]:[]),u=C(()=>o.gaugeSelected?t.fees[o.gaugeSelected.name]??[]:[]),p=C(()=>Math.min(...He(l.value).map(r=>r.value).concat(He(u.value).map(r=>r.value)))),i=C(()=>Math.max(...He(l.value).map(r=>r.value).concat(He(u.value).map(r=>r.value)).map(r=>Math.abs(r)))),d=C(()=>{const r=E(a.theme),f=X(a.theme);return de({colors:r,colorsArray:f},{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:$=>h($)},min:p,max:i},{seriesName:"emissions",tickAmount:4,labels:{formatter:$=>g($)},show:!1,min:p,max:i}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:$=>{const A=$.w.globals.initialSeries[0].data[$.dataPointIndex].y,I=$.w.globals.initialSeries[1].data[$.dataPointIndex]?$.w.globals.initialSeries[1].data[$.dataPointIndex].y:0;return[`<div><b>${e("emissions")}</b>:</div><div>${h(A)}</div>`,`<div><b>${e("fees")}</b>:</div><div>${g(I)}</div>`,`<div><b>${e("ratio")}</b>:</div><div>${m(I/A)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter($){return $}}})}),v=C(()=>{const r=He(l.value),f=He(u.value),$=Object.assign({},...f.map(A=>({[A.timeStamp]:A.value})));return[{name:e("emissions"),type:"line",data:r.map(A=>({x:A.timeStamp*1e3,y:A.value}))},{name:e("fees"),type:"line",data:r.map(A=>({x:A.timeStamp*1e3,y:$[A.timeStamp]?Math.abs($[A.timeStamp]):0}))}]}),h=r=>`$${J(Math.abs(r),1,"dollar")}${j(r,"dollar")}`,g=r=>`$${J(r,1,"dollar")}${j(r,"dollar")}`,m=r=>`${Ve(r,2)}`;return(r,f)=>(b(),D(n(ve),{class:"emissions",title:s.value,options:d.value,series:v.value},null,8,["title","options","series"]))}});function xa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Emissions & Revenues"])},emissions:t=>{const{normalize:a}=t;return a(["Emissions"])},fees:t=>{const{normalize:a}=t;return a(["Fees"])},ratio:t=>{const{normalize:a}=t;return a(["Ratio"])}}})}typeof xa=="function"&&xa(ds);const k_=S(ds,[["__scopeId","data-v-09c5de16"]]),C_={class:"logo"},S_=["src"],x_={class:"number"},A_={key:0,class:"graphs"},I_={key:1},ps=k({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(o){const{t:e}=B(),t=We(),a=P("tvl"),s=P(ge.Descending),l=C(()=>z.orderBy(t.gauges,p=>{switch(a.value){case"name":return Ce(p.name);case"tvl":return p.tvl;default:return p.tvl}},s.value===ge.Descending?"desc":"asc")),u=(p,i)=>{a.value=p,s.value=i};return(p,i)=>(b(),D(n(ye),{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:l.value,columns:["",n(e)("name"),n(e)("tvl")],sorting:!0,"sorting-columns":["","name","tvl"],"sorting-columns-enabled":["name","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:p.expanded,onSortColumn:u},{"header-title":y(()=>[c("div",null,x(n(e)("title")),1)]),row:y(d=>[c("div",C_,[c("img",{class:"logo-img",src:n(jt)(d.item.name,!1)},null,8,S_)]),c("div",null,x(n(Ce)(d.item.name)),1),c("div",x_,[_(n(O),{value:d.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":y(d=>[p.expanded.includes(d.item)?(b(),w("div",A_,[_(k_,{class:"fees-and-emissions","gauge-selected":d.item},null,8,["gauge-selected"])])):(b(),w("span",I_))]),_:1},8,["rows","columns","expanded"]))}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{name:t=>{const{normalize:a}=t;return a(["Name"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])},title:t=>{const{normalize:a}=t;return a(["Curve Pools"])}}})}typeof Aa=="function"&&Aa(ps);const L_=S(ps,[["__scopeId","data-v-50570fdd"]]);class P_ extends $e{async get(){return this.fetch(`${this.host}/curvepool`)}}class D_ extends $e{async get(e){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:e.name})}}const M_={class:"gauges"},T_=k({__name:"Gauges",setup(o){let e=!1;const t=new P_(H()),a=new D_(H()),s=We(),l=Fe(),u=Ke(),{expanded:p,toggleExpansion:i}=Zo();q(async()=>{e=!0;const g=await vt(t.get());if(g){const m=g.pools;if(m.sort((f,$)=>$.tvl-f.tvl),s.gauges=m,!e)return;const r=l.params.gauge;r&&typeof r=="string"&&v(r)}}),Pn(()=>{e=!1});const d=async g=>{if(!g||s.fees[g.name]&&s.emissions[g.name])return;const m=await vt(a.get(g),500);if(m){const r=m.data.feeSnapshots,f=m.data.emissionSnapshots;s.setFees(g.name,r),s.setEmissions(g.name,f)}},v=g=>{const m=Ro(g),r=s.gauges.find(f=>f.name===m);r&&i(r)&&d(r)},h=async g=>{i(g)&&(d(g),await u.push({name:"curvegauges",params:{gauge:Ce(g.name)}}))};return(g,m)=>(b(),w("div",M_,[_(L_,{class:"datatable-gauges",expanded:n(p),onSelected:h},null,8,["expanded"])]))}});const V_=S(T_,[["__scopeId","data-v-d1c3b3aa"]]),z_="https://api-py.llama.airforce/curve/v1/protocol/revenue/historical/breakdown?from=1686750777",B_="https://api-py.llama.airforce/curve/v1/protocol/revenue/chains";class _s extends $e{async getBreakdown(e){return this.fetch(z_,void 0,e).then(t=>t.revenue)}async getByChain(e){return this.fetch(B_,void 0,e).then(t=>t.revenue)}async getTopPools(e,t=10){const a=`https://api-py.llama.airforce/curve/v1/protocol/revenue/${e}/toppools/${t}`;return this.fetch(a).then(s=>s.revenue)}}const O_=k({__name:"GraphRevenueBreakdown",setup(o){const e=We(),t=N(),a=C(()=>e.breakdown??[]),s=C(()=>{const g=E(t.theme);let m=X(t.theme);return m=[m[0],h(m[0],10),h(m[0],20),m[1],h(m[1],10)],de({colors:g,colorsArray:m},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:u.value,labels:{formatter:d,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),l=C(()=>z.chain(a.value).groupBy(g=>g.week).map(g=>({week:g[0].week,numLabels:g.length})).orderBy(g=>g.week,"asc").dropWhile(g=>g.numLabels<3).map(g=>g.week).value()),u=C(()=>z.chain(l.value).map(g=>new Date(g*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),p=C(()=>z.chain(a.value).groupBy(g=>g.label).map((g,m)=>({name:m,data:z.chain(l.value).map(r=>({week:r,breakdown:g.find(f=>f.week===r)})).map(r=>{var f;return{x:new Date(r.week*1e3).toLocaleDateString(),y:((f=r.breakdown)==null?void 0:f.total_fees)??0}}).value()})).value()),i=C(()=>{let g=0;for(let m=0;m<l.value.length;m++)g=Math.max(g,p.value.map(r=>r.data[m].y).reduce((r,f)=>r+f,0));return g*1.1}),d=g=>g,v=g=>`$${J(g,0,"dollar")}${j(g,"dollar")}`,h=(g,m)=>{let[r,f,$]=[g.slice(1,3),g.slice(3,5),g.slice(5,7)].map(I=>parseInt(I,16));const A=(I,L)=>Math.min(255,Math.max(0,L+Math.round(2.55*I)));return r=A(m,r),f=A(m,f),$=A(m,$),`#${r.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${$.toString(16).padStart(2,"0")}`};return(g,m)=>(b(),D(n(ve),{class:"graph",options:s.value,series:p.value},null,8,["options","series"]))}});const R_=S(O_,[["__scopeId","data-v-07cdddf5"]]),F_=k({__name:"GraphRevenueChain",setup(o){const e=We(),t=N(),a=C(()=>z.orderBy(e.chainRevenues??[],p=>p.totalDailyFeesUSD,"asc")),s=C(()=>{const p=E(t.theme),i=X(t.theme);return de({colors:p,colorsArray:i},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const v=d.w.globals.labels[d.seriesIndex],h=d.series[d.seriesIndex][0];return[`<div><b>${v}</b>:</div><div>${u(h)}</div>`].join("")}},labels:a.value.map(d=>d.chain)})}),l=C(()=>a.value.map(p=>p.totalDailyFeesUSD)),u=p=>`$${J(Math.abs(p),1,"dollar")}${j(p,"dollar")}`;return(p,i)=>(b(),D(n(ve),{class:"graph",options:s.value,series:l.value},null,8,["options","series"]))}});const U_=S(F_,[["__scopeId","data-v-88256624"]]);function ht(o){return o==="all"?"":`icons/chains/${(t=>{switch(t){case"mainnet":return"mainnet.svg";case"avalanche":return"avalanche.svg";case"arbitrum":return"arbitrum.png";case"fantom":return"fantom.svg";case"xdai":return"xdai.png";case"harmony":return"harmony.svg";case"moonbeam":return"moonbeam.png";case"matic":return"matic.svg";case"optimism":return"optimism.png";default:return""}})(o)}`}const E_={key:0,class:"item"},W_=["src"],q_={key:1,class:"empty"},H_={class:"label"},N_=k({__name:"SelectChain",props:{chain:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(o,{emit:e}){const t=P(!1),a=[...o.all?[{chain:"all",label:"All"}]:[],{chain:"mainnet",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"}],s=C(()=>a.find(i=>i.chain===o.chain)??null);q(()=>{p(a[0])});const l=i=>i.label,u=()=>{t.value=!t.value},p=i=>{const{chain:d}=i;e("select-chain",d)};return(i,d)=>(b(),D(n(Re),{class:"select",options:a,selected:s.value,open:t.value,onOpen:u,onClose:d[0]||(d[0]=v=>t.value=!1),onInput:p},{item:y(v=>[v.item?(b(),w("div",E_,[n(ht)(v.item.chain)?(b(),w("img",{key:0,src:n(ht)(v.item.chain)},null,8,W_)):(b(),w("div",q_)),c("div",H_,x(l(v.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const ms=S(N_,[["__scopeId","data-v-7d200270"]]),G_=k({__name:"GraphRevenueTopPools",setup(o){const e=new _s(H()),t=We(),a=N(),s=P(!1),l=C(()=>t.selectedChain),u=C(()=>l.value?t.topPools[l.value]??[]:[]),p=C(()=>{const g=E(a.theme),m=X(a.theme);return de({colors:g,colorsArray:m},{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:u.value.map(r=>r.name),labels:{formatter:d}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:d,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}})});q(()=>{h("mainnet")});const i=C(()=>[{data:u.value.map(g=>g.totalDailyFeesUSD)}]),d=g=>`$${J(Math.abs(g),1,"dollar")}${j(g,"dollar")}`,v=async g=>{if(g&&!t.topPools[g]){s.value=!0;try{const m=await vt(e.getTopPools(g),500);m&&t.setTopPools(g,m)}finally{s.value=!1}}},h=g=>{g!=="all"&&(t.selectedChain=g,v(g))};return(g,m)=>(b(),D(n(ve),{class:"graph",options:p.value,series:i.value,loading:s.value},{default:y(()=>[c("div",{class:F(["selector",{loading:s.value}])},[_(ms,{chain:n(t).selectedChain,onSelectChain:h},null,8,["chain"])],2)]),_:1},8,["options","series","loading"]))}});const Q_=S(G_,[["__scopeId","data-v-f8dfa23c"]]),Y_={class:"revenue-charts"},vs=k({__name:"Dashboard",setup(o){const e=new _s(H()),{t}=B(),a=We(),s=P(!1),l=P(!1),u=P(!1),p=new AbortController;return Dn(()=>{a.chainRevenues.length>0||(s.value=!0,l.value=!0,u.value=!0,e.getByChain(p.signal).then(i=>{i&&(a.chainRevenues=i,s.value=!1)}),e.getBreakdown(p.signal).then(i=>{i&&(a.breakdown=i,u.value=!1)}))}),Mn(()=>{p.abort()}),(i,d)=>(b(),w("div",Y_,[_(U_,{class:"chain-revenues",title:n(t)("revenue-charts"),loading:s.value},null,8,["title","loading"]),_(Q_,{class:"chain-top-pools",title:n(t)("chain-top-pools")},null,8,["title"]),_(R_,{class:"breakdown",title:n(t)("breakdown"),loading:u.value},null,8,["title","loading"])]))}});function Ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"revenue-charts":t=>{const{normalize:a}=t;return a(["Total revenue by chain"])},"chain-top-pools":t=>{const{normalize:a}=t;return a(["Top 10 pools by revenue (last 7 days)"])},breakdown:t=>{const{normalize:a}=t;return a(["Revenue breakdown by source"])}}})}typeof Ia=="function"&&Ia(vs);const j_=S(vs,[["__scopeId","data-v-7205e1b5"]]),J_="https://api-py.llama.airforce/curve/v1";class K_ extends $e{async getCushions(){return this.fetch(`${J_}/protocol/couch/cushions`)}}const sa=o=>(te("data-v-8285b015"),o=o(),ae(),o),Z_={class:"chain"},X_=["src"],em={class:"label"},tm={class:"number"},am=sa(()=>c("div",null,null,-1)),om=sa(()=>c("div",null,null,-1)),sm=sa(()=>c("div",null,null,-1)),nm={class:"number"},hs=k({__name:"TableCushions",setup(o){const{t:e}=B(),t=new K_(H()),a=P(""),s=P("all"),l=C(()=>z.chain(p.value).filter(d=>d.totalUSD>100).filter(d=>{const v=a.value.toLocaleLowerCase().split(" "),h=m=>v.some(r=>m.toLocaleLowerCase().includes(r)),g=s.value==="all"?!0:s.value===d.chain;return(h(d.pool)||h(d.address)||h(d.chain)||h(d.coins.join(" ")))&&g}).value()),{loading:u,data:p,loadData:i}=oe(()=>t.getCushions().then(d=>d.cushions.sort((v,h)=>h.totalUSD-v.totalUSD)),[]);return q(()=>void i()),(d,v)=>(b(),D(n(ye),{class:"datatable-cushions","columns-header":"1fr 12rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:n(u),rows:l.value,columns:["Name","Coins","Chain","Fees ($)"]},{"header-title":y(()=>[c("div",null,x(n(e)("title")),1),_(ms,{class:"chain-select",chain:s.value,all:!0,onSelectChain:v[0]||(v[0]=h=>s.value=h)},null,8,["chain"]),_(n(pe),{modelValue:a.value,"onUpdate:modelValue":v[1]||(v[1]=h=>a.value=h),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(h=>[c("div",null,x(h.item.pool),1),c("div",null,x(h.item.coinNames.join(" / ")),1),c("div",Z_,[n(ht)(h.item.chain)?(b(),w("img",{key:0,src:n(ht)(h.item.chain)},null,8,X_)):V("",!0),c("span",em,x(h.item.chain),1)]),c("div",tm,[_(n(O),{value:h.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[am,om,sm,c("div",nm,[_(n(O),{value:l.value.reduce((h,g)=>h+g.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows","columns"]))}});function La(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Cushions"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof La=="function"&&La(hs);const lm=S(hs,[["__scopeId","data-v-8285b015"]]),rm={class:"cushions"},im=k({__name:"Cushions",setup(o){return(e,t)=>(b(),w("div",rm,[_(lm)]))}});const cm=S(im,[["__scopeId","data-v-fc9c8adf"]]),um={class:"revenue"},dm=k({__name:"Revenue",setup(o){const e=Fe(),t=Ke(),a=P(0);return q(()=>{const s=e.params.tab;s&&typeof s=="string"&&s==="cushions"&&(a.value=1)}),T(a,async s=>{s===0?await t.push({name:"revenue",params:{tab:""}}):s===1&&await t.push({name:"revenue",params:{tab:"cushions"}})}),(s,l)=>(b(),w("div",um,[_(n(Ze),{active:a.value,onTab:l[0]||(l[0]=u=>a.value=u.index)},{default:y(()=>[_(n(le),{header:"Revenue"},{default:y(()=>[(b(),D(lt,null,[a.value===0?(b(),D(j_,{key:0})):V("",!0)],1024))]),_:1}),_(n(le),{header:"Cushions"},{default:y(()=>[(b(),D(lt,null,[a.value===1?(b(),D(cm,{key:0})):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const pm=S(dm,[["__scopeId","data-v-282c427f"]]),fs=Ae({id:"curveUsdStore",state:()=>({market:null})}),ee="https://api-py.llama.airforce/curve/v1";class re extends $e{async getMarkets(){return this.fetch(`${ee}/crvusd/markets`)}async getMarketVolume(e){return this.fetch(`${ee}/crvusd/markets/${e}/volume`)}async getMarketLoans(e){return this.fetch(`${ee}/crvusd/markets/${e}/loans`)}async getMarketRates(e){return this.fetch(`${ee}/crvusd/markets/${e}/rate/daily`)}async getMarketUserStates(e,t,a){return this.fetch(`${ee}/crvusd/markets/${e}/users/states?offset=${t}&limit=${a}`)}async getPoolStats(){return this.fetch(`${ee}/crvusd/pools/stats`)}async getPoolPrices(){return this.fetch(`${ee}/crvusd/prices`)}async getCrvUsdPriceHistogram(){return this.fetch(`${ee}/crvusd/prices/hist`)}async getCrvUsdSupply(){return this.fetch(`${ee}/crvusd/supply`)}async getFees(){return this.fetch(`${ee}/crvusd/fees`)}async getFeesBreakdown(){return this.fetch(`${ee}/crvusd/fees/breakdown`)}async getKeepersDebt(){return this.fetch(`${ee}/crvusd/keepers/debt`)}async getKeepersProfit(){return this.fetch(`${ee}/crvusd/keepers/profit`)}async getYield(){return this.fetch(`${ee}/crvusd/yield`)}async getHistoricalSoftLiquidations(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/soft`)}async getHistoricalMedianLoss(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/median`)}async getHistoricalAverageHealth(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/health/historical`)}async getHealthDeciles(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/health`)}async getProportionLosers(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/proportions`)}async getHistoricalLiquidations(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/historical`)}async getTopLiquidators(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/liquidators`)}async getMarketStateHealth(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/state`)}async getMarketAvailableCap(e){return this.fetch(`${ee}/crvusd/markets/${e}/available`)}async getLiquidatorRevenue(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/liquidators/revenue`)}async getHistoricalCollateralRatio(e){return this.fetch(`${ee}/crvusd/markets/${e}/collateral_ratio`)}}const et=o=>(te("data-v-697d5e8a"),o=o(),ae(),o),_m={class:"number"},mm={class:"number"},vm={class:"number"},hm={class:"premia"},fm={class:"best"},gm=et(()=>c("em",null,"Premia",-1)),bm={class:"top"},ym={class:"yields"},$m={class:"number"},wm={class:"number"},km={class:"number"},Cm={class:"number"},Sm=et(()=>c("div",null,null,-1)),xm={class:"number"},Am=et(()=>c("div",null,null,-1)),Im=et(()=>c("div",null,null,-1)),Lm=et(()=>c("div",null,null,-1)),Pm={class:"number"},Dm=et(()=>c("div",null,null,-1)),Mm={class:"number"},Tm={class:"number"},Vm={class:"number"},gs=k({__name:"TableMarkets",setup(o){const{t:e}=B(),t=new re(H()),a=P(!0),s=P([]),l=P(""),u=P([]),p=C(()=>z.chain(u.value).maxBy(g=>g.apy).value()??null),i=C(()=>z.chain(u.value).orderBy(g=>g.apy,"desc").take(5).value()),d=C(()=>z.chain(s.value).filter(g=>{const m=l.value.toLocaleLowerCase().split(" "),r=f=>m.some($=>f.toLocaleLowerCase().includes($));return r(g.name)||r(g.address)}).value());q(async()=>{a.value=!0;const{markets:g}=await t.getMarkets(),{pending:m,collected:r}=await t.getFeesBreakdown();u.value=await t.getYield().then(f=>f.yields),s.value=g.map(f=>{const $={fees:{pending:m.find(A=>A.market===f.address),collected:r.find(A=>A.market===f.address)}};return{...f,...$}}).sort((f,$)=>$.totalCollateral-f.totalCollateral),a.value=!1});const v=g=>g?g.adminBorrowingFees+g.collateralAdminFeesUsd+g.crvUsdAdminFees:0,h=g=>g>=1e6?2:0;return(g,m)=>(b(),D(n(ye),{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data",loading:a.value,rows:d.value,columns:["Name","Loans","Rate","Δ 24h","Premia","Borrowed","Δ 24h","Collateral","Fees Pending","Fees Collected"]},{"header-title":y(()=>[c("div",null,x(n(e)("title")),1),_(n(pe),{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=r=>l.value=r),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(r=>[c("div",null,x(r.item.name),1),c("div",_m,x(r.item.loans),1),c("div",mm,[_(n(O),{value:r.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),c("div",{class:F(["number delta",{negative:r.item.rateAbsDelta<0}])},[r.item.rateAbsDelta?(b(),D(n(O),{key:0,value:r.item.rateAbsDelta*100,precision:2,"show-unit":!1,type:"percentage"},null,8,["value"])):V("",!0)],2),c("div",vm,[p.value?(b(),D(n(Te),{key:0},{item:y(()=>[c("span",{class:F(["number delta",{negative:p.value.apy-r.item.rate*100<0}])},[_(n(O),{value:p.value.apy-r.item.rate*100,precision:2,type:"percentage"},null,8,["value"])],2)]),default:y(()=>[c("div",hm,[c("span",fm,[gm,W(" for "),c("strong",null,x(r.item.name),1),W(" is max yield ("),_(n(O),{value:p.value.apy,precision:2,type:"percentage"},null,8,["value"]),W(") from "),c("strong",null,x(p.value.pool),1),W(" farmed on "),c("strong",null,x(p.value.platform),1),W(" minus the borrow rate ("),_(n(O),{value:r.item.rate*100,precision:2,type:"percentage"},null,8,["value"]),W(") ")]),c("div",bm,[c("strong",null,"Top "+x(i.value.length)+" yields: ",1),c("div",ym,[(b(!0),w(se,null,ce(i.value,(f,$)=>(b(),w(se,{key:$},[c("div",null,x(f.platform),1),c("div",null,x(f.pool.replace("Curve.fi","").replace("Factory Plain Pool: ","")),1),c("div",null,[_(n(O),{value:f.apy,precision:2,type:"percentage"},null,8,["value"])])],64))),128))])])])]),_:2},1024)):V("",!0)]),c("div",$m,[_(n(O),{value:r.item.borrowed,precision:h,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",{class:F(["number delta",{negative:r.item.borrowedDelta<0}])},[r.item.borrowedDelta?(b(),D(n(O),{key:0,value:r.item.borrowedDelta*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)],2),c("div",wm,[_(n(O),{value:r.item.totalCollateral,precision:h,type:"dollar"},null,8,["value"])]),c("div",km,[_(n(O),{value:v(r.item.fees.pending),precision:h,type:"dollar"},null,8,["value"])]),c("div",Cm,[_(n(O),{value:v(r.item.fees.collected),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[Sm,c("div",xm,x(d.value.reduce((r,f)=>r+f.loans,0)),1),Am,Im,Lm,c("div",Pm,[_(n(O),{value:d.value.reduce((r,f)=>r+f.borrowed,0),precision:h,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Dm,c("div",Mm,[_(n(O),{value:d.value.reduce((r,f)=>r+f.totalCollateral,0),precision:h,type:"dollar"},null,8,["value"])]),c("div",Tm,[_(n(O),{value:d.value.reduce((r,f)=>r+v(f.fees.pending),0),precision:h,type:"dollar"},null,8,["value"])]),c("div",Vm,[_(n(O),{value:d.value.reduce((r,f)=>r+v(f.fees.collected),0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":y(()=>[W("   ")]),_:1},8,["loading","rows"]))}});function Pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Markets"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Pa=="function"&&Pa(gs);const zm=S(gs,[["__scopeId","data-v-697d5e8a"]]),Bm=o=>(te("data-v-01b94e2a"),o=o(),ae(),o),Om={class:"number"},Rm={class:"number"},Fm={class:"number"},Um={class:"number"},Em=Bm(()=>c("div",null,null,-1)),Wm={class:"number"},qm={class:"number"},Hm={class:"number"},Nm={class:"number"},bs=k({__name:"TablePegkeepers",setup(o){const{t:e}=B(),t=new re(H()),a=P(!0),s=P([]),l=P(""),u=C(()=>z.chain(s.value).filter(i=>{const d=l.value.toLocaleLowerCase().split(" "),v=h=>d.some(g=>h.toLocaleLowerCase().includes(g));return v(i.name)||v(i.address)}).value());q(async()=>{a.value=!0;const i=await t.getPoolStats(),d=await t.getKeepersDebt(),v=await t.getKeepersProfit();s.value=i.stats.map(h=>{const g=d.keepers.find(r=>r.pool===h.address),m=v.profit.find(r=>r.pool===h.address);if(!(!g||!m))return{...h,...g,...m}}).filter(jn).sort((h,g)=>g.tvl-h.tvl),a.value=!1});const p=i=>i>=1e6?2:0;return(i,d)=>(b(),D(n(ye),{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:a.value,rows:u.value,columns:["Name","Debt","TVL","Volume","Fees"]},{"header-title":y(()=>[c("div",null,x(n(e)("title")),1),_(n(pe),{modelValue:l.value,"onUpdate:modelValue":d[0]||(d[0]=v=>l.value=v),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(v=>[c("div",null,x(v.item.name),1),c("div",Om,[_(n(O),{value:v.item.debt,precision:p,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Rm,[_(n(O),{value:v.item.tvl,precision:p,type:"dollar"},null,8,["value"])]),c("div",Fm,[_(n(O),{value:v.item.volumeUSD,precision:p,type:"dollar"},null,8,["value"])]),c("div",Um,[_(n(O),{value:v.item.profit,precision:p,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[Em,c("div",Wm,[_(n(O),{value:u.value.reduce((v,h)=>v+h.debt,0),precision:p,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",qm,[_(n(O),{value:u.value.reduce((v,h)=>v+h.tvl,0),precision:p,type:"dollar"},null,8,["value"])]),c("div",Hm,[_(n(O),{value:u.value.reduce((v,h)=>v+h.volumeUSD,0),precision:p,type:"dollar"},null,8,["value"])]),c("div",Nm,[_(n(O),{value:u.value.reduce((v,h)=>v+h.profit,0),precision:p,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Pegkeepers"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Da=="function"&&Da(bs);const Gm=S(bs,[["__scopeId","data-v-01b94e2a"]]),Qm=(o,e)=>{const t=E(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:Nt.Solid,color:t.backgroundColor},textColor:t.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:t.level4,style:Gt.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function _e(o,e,t){const a=Qm(o,e),s=(l,u)=>{if(typeof u=="object"){z.mergeWith(l,u,s);return}else return l||u};return z.mergeWith(t,a,s)}const ys=k({__name:"ChartPoolPrices",setup(o){const{t:e}=B(),t=new re(H());let a,s=[];const l=N(),u=P(null),p=P([]),i=["USDC","USDT","TUSD","USDP"],d=C(()=>Object.keys(h.value[0]).filter(L=>L!=="timestamp"&&L!=="USD"&&i.includes(L))),{loading:v,data:h,loadData:g}=oe(()=>t.getPoolPrices().then(L=>L.prices),[{timestamp:0}]);q(async()=>{u.value&&(a=ue(u.value,m(u.value,l.theme)),await g(),f(),$(h.value))}),T(h,L=>{f(),$(L)}),T(p,()=>{f(),$(h.value)}),T(()=>l.theme,L=>{if(u.value){a.applyOptions(m(u.value,L));for(const[M,R]of s.entries())R.applyOptions(r(M,l.theme))}});const m=(L,M)=>_e(L,M,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:A}}),r=(L,M)=>{const R=X(M);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:R[L],lastValueVisible:!1,priceLineVisible:!1}},f=()=>{if(a){for(const L of s)a.removeSeries(L);s=[];for(let L=0;L<d.value.length;L++){const M=a.addLineSeries(r(L,l.theme));s.push(M)}}},$=L=>{if(!(!a||s.length<0)){for(const[M,R]of d.value.entries()){if(p.value.includes(R)){s[M].setData([]);continue}const Q=z.chain(L).map(fe=>({time:fe.timestamp,value:fe[R]})).uniqWith((fe,qe)=>fe.time===qe.time).orderBy(fe=>fe.time,"asc").value();Q.length>0&&s[M].setData(Q)}a.timeScale().fitContent()}},A=L=>`${J(L,3,"dollar")}${j(L,"dollar")}`,I=L=>{if(p.value.includes(L)){const M=new Set(p.value);M.delete(L),p.value=Array.from(M)}else p.value=Array.from(new Set([L,...p.value]))};return(L,M)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(v)},{default:y(()=>[_(n(Ee),{items:d.value,disabled:p.value,clickable:!0,colors:n(X)(n(l).theme),onClick:I},null,8,["items","disabled","colors"]),c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Stablecoin Prices of Pegkeepers"])}}})}typeof Ma=="function"&&Ma(ys);const Ym=S(ys,[["__scopeId","data-v-08017247"]]),jm=k({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(o){let e,t,a;const s=N(),l=P(null);q(()=>{l.value&&(e=ue(l.value,u(l.value,s.theme)),t=e.addAreaSeries(p(s.theme)),a=e.addLineSeries(i(s.theme)),d(o.data))}),T(()=>s.theme,h=>{l.value&&(e.applyOptions(u(l.value,h)),t.applyOptions(p(h)),a.applyOptions(i(h)))}),T(()=>o.data,h=>{d(h)});const u=(h,g)=>_e(h,g,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:m=>v(m)}}),p=h=>{const g=E(h);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=h=>{const g=E(h);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:g.yellow,lastValueVisible:!1,priceLineVisible:!1}},d=h=>{if(!e||!t)return;const g=z.chain(h).groupBy(r=>r.timestamp).mapValues(r=>({time:r[0].timestamp,value:r.reduce((f,$)=>f+$.totalSupply,0),debt:r[0].totalSupply})).entries().map(r=>r[1]).uniqWith((r,f)=>r.time===f.time).orderBy(r=>r.time,"asc").value(),m=g.map(r=>({time:r.time,value:r.value-r.debt}));g.length>0&&t.setData(g),m.length>0&&a.setData(m),e.timeScale().fitContent()},v=h=>`${J(h,1,"dollar")}${j(h,"dollar")}`;return(h,g)=>(b(),w("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});const Jm=S(jm,[["__scopeId","data-v-c5d0e5c8"]]),Km=k({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=E(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>z.chain(o.data).groupBy(i=>i.name).map((i,d)=>({name:d,data:z.chain(i).orderBy(v=>v.timestamp,"asc").map(v=>({x:new Date(v.timestamp*1e3).toLocaleDateString(),y:v.totalSupply})).value()})).value()),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,v)=>d+v.totalSupply,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Zm=S(Km,[["__scopeId","data-v-6c28710c"]]),Xm={class:"actions"},ev={class:"chart-types"},$s=k({__name:"ChartCrvUsdSupply",setup(o){const{t:e}=B(),t=new re(H()),a=N(),s=P("line"),{loading:l,data:u,loadData:p}=oe(()=>t.getCrvUsdSupply().then(d=>d.supply),[]);q(()=>void p());const i=d=>{s.value!==d&&(s.value=d)};return(d,v)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(l)},{actions:y(()=>[c("div",Xm,[s.value==="line"?(b(),D(n(Ee),{key:0,items:["Supply","Borrowed"],colors:n(X)(n(a).theme)},null,8,["colors"])):V("",!0),c("div",ev,[_(n(Me),{value:"Line","model-value":s.value==="line",onClick:v[0]||(v[0]=h=>i("line"))},null,8,["model-value"]),_(n(Me),{value:"Breakdown","model-value":s.value==="breakdown",onClick:v[1]||(v[1]=h=>i("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[s.value==="line"?(b(),D(Jm,{key:0,data:n(u)},null,8,["data"])):(b(),D(Zm,{key:1,data:n(u)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["crvUSD Supply"])}}})}typeof Ta=="function"&&Ta($s);const tv=S($s,[["__scopeId","data-v-98df8efe"]]),av=k({__name:"ChartCrvUsdPriceHistogram",setup(o){const e=new re(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getCrvUsdPriceHistogram(),{x:[],y:[]}),u=C(()=>{const h=E(t.theme),g=X(t.theme);return de({colors:h,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:p.value,labels:{formatter:d},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:m=>{const r=p.value[m.dataPointIndex],f=m.series[0][m.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${v(f)}</div>`].join("")}}})}),p=C(()=>s.value.x.map(h=>h.toString())),i=C(()=>[{data:s.value.y}]);q(()=>void l());const d=h=>{const g=h-1;return g<0?`-$${g.toString().substring(2,7)}`:`$${g.toString().substring(1,6)}`},v=h=>{var r,f;const g=((f=(r=i.value[0])==null?void 0:r.data)==null?void 0:f.reduce(($,A)=>$+A,0))??1,m=h/g*100;return`${J(m,0,"dollar")}${j(m,"percentage")}`};return(h,g)=>(b(),D(n(ve),{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const ov=S(av,[["__scopeId","data-v-02db1a9a"]]),sv={class:"crvusd"},nv={class:"col"},lv={class:"col"},rv=k({__name:"CrvUsd",setup(o){const e=Ke(),t=oa(),a=fs();q(()=>{t.show=!0,t.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"}]});const s=async l=>{a.market=l,await e.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,u)=>(b(),w("div",sv,[_(zm,{style:{"grid-column":"1 / -1"},onSelected:s}),c("div",nv,[_(Gm),_(Ym)]),c("div",lv,[_(tv),_(ov,{class:"price"})])]))}});const iv=S(rv,[["__scopeId","data-v-760b16fe"]]),ws=k({__name:"ChartMarketVolume",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getMarketVolume(o.market.address).then(r=>r.volumes):Promise.resolve([]),[]);q(()=>{u.value&&(a=ue(u.value,v(u.value,l.theme)),s=a.addAreaSeries(h(l.theme)),g(i.value))}),T(()=>o.market,d,{immediate:!0}),T(()=>l.theme,r=>{u.value&&(a.applyOptions(v(u.value,r)),s.applyOptions(h(r)))}),T(i,r=>{g(r)});const v=(r,f)=>_e(r,f,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$=>m($)}}),h=r=>{const f=E(r);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:f.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=r=>{if(!a||!s)return;const f=z.chain(r).map($=>({time:$.timestamp,value:$.swapVolumeUsd})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();f.length>0&&s.setData(f),a.timeScale().fitContent()},m=r=>`$${J(r,1,"dollar")}${j(r,"dollar")}`;return(r,f)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Volume"])}}})}typeof Va=="function"&&Va(ws);const cv=S(ws,[["__scopeId","data-v-37be5db0"]]),ks=k({__name:"ChartMarketLoans",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getMarketLoans(o.market.address).then(r=>r.loans):Promise.resolve([]),[]);q(()=>{u.value&&(a=ue(u.value,v(u.value,l.theme)),s=a.addHistogramSeries(h(l.theme)),g(i.value))}),T(()=>o.market,d,{immediate:!0}),T(()=>l.theme,r=>{u.value&&(a.applyOptions(v(u.value,r)),s.applyOptions(h(r)))}),T(i,r=>{g(r)});const v=(r,f)=>_e(r,f,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:m}}),h=r=>({color:E(r).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}),g=r=>{if(!a||!s)return;const f=z.chain(r).map($=>({time:$.timestamp,value:$.nLoans})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();if(f.length>0){s.setData(f);const $=f[0].time,A=f[f.length-1].time;a.timeScale().setVisibleRange({from:$,to:A})}},m=r=>Math.round(r).toString();return(r,f)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Loans"])}}})}typeof za=="function"&&za(ks);const uv=S(ks,[["__scopeId","data-v-9f2d43ea"]]),dv={class:"actions"},Cs=k({__name:"ChartMarketRates",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),i=P(null),{loading:d,data:v,loadData:h}=oe(()=>o.market?t.getMarketRates(o.market.address).then(I=>I.rates):Promise.resolve([]),[]);q(()=>{p.value&&(a=ue(p.value,g(p.value,u.theme)),s=a.addAreaSeries(m(u.theme)),l=a.addLineSeries(r(u.theme)),f(v.value))}),T(()=>o.market,h,{immediate:!0}),T(()=>u.theme,I=>{p.value&&(a.applyOptions(g(p.value,I)),s.applyOptions(m(I)),l.applyOptions(r(I)))}),T(v,I=>{f(I)}),T(i,()=>{f(v.value)});const g=(I,L)=>_e(I,L,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:M=>$(M)}}),m=I=>{const L=E(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:L.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=I=>{const L=E(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:L.yellow,lastValueVisible:!1,priceLineVisible:!1}},f=I=>{if(!a||!s)return;const L=z.chain(I).map(Q=>({time:Q.timestamp,value:Q.rate})).uniqWith((Q,fe)=>Q.time===fe.time).orderBy(Q=>Q.time,"asc").value(),M=A(L.map(Q=>Q.value),i.value??31),R=z.chain(M).zip(L).map(Q=>({time:Q[1].time,value:Q[0]})).value();if(R.length>0&&l.setData(R),L.length>0){s.setData(L);const Q=L[0].time,fe=L[L.length-1].time;a.timeScale().setVisibleRange({from:Q,to:fe})}},$=I=>`${J(I*100,2,"percentage")}${j(I,"percentage")}`,A=(I,L=7)=>I.map((M,R)=>{const Q=Math.max(R-(L-1),0),fe=R+1,qe=I.slice(Q,fe);return qe.reduce((ra,Ct)=>ra+Ct,0)/qe.length});return(I,L)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(d)},{actions:y(()=>[c("div",dv,[_(n(Zt),{modelValue:i.value,"onUpdate:modelValue":L[0]||(L[0]=M=>i.value=M),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Rates"])}}})}typeof Ba=="function"&&Ba(Cs);const pv=S(Cs,[["__scopeId","data-v-6d5204ad"]]),_v={class:"actions"},Ss=k({__name:"ChartMarketAvailableCap",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:v}=oe(()=>o.market?t.getMarketAvailableCap(o.market.address).then($=>$.available):Promise.resolve([]),[]);q(()=>{p.value&&(a=ue(p.value,h(p.value,u.theme)),s=a.addAreaSeries(g(u.theme)),l=a.addAreaSeries(m(u.theme)),r(d.value))}),T(()=>o.market,v,{immediate:!0}),T(()=>u.theme,$=>{p.value&&(a.applyOptions(h(p.value,$)),s.applyOptions(g($)),l.applyOptions(m($)))}),T(d,$=>{r($)});const h=($,A)=>_e($,A,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I=>f(I)}}),g=$=>{const A=E($);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:A.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=$=>{const A=E($);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:A.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=$=>{if(!a||!s)return;const A=z.chain($).map(L=>({time:L.timestamp,value:L.borrowable})).uniqWith((L,M)=>L.time===M.time).orderBy(L=>L.time,"asc").value();A.length>0&&s.setData(A);const I=z.chain($).map(L=>({time:L.timestamp,value:L.ceiling})).uniqWith((L,M)=>L.time===M.time).orderBy(L=>L.time,"asc").value();I.length>0&&l.setData(I),a.timeScale().fitContent()},f=$=>`$${J($,1,"dollar")}${j($,"dollar")}`;return($,A)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[c("div",_v,[_(n(Ee),{items:["Borrowable","Debt ceiling"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Borrowable & Debt Ceiling"])}}})}typeof Oa=="function"&&Oa(Ss);const mv=S(Ss,[["__scopeId","data-v-1797633d"]]),vv={class:"market"},hv=k({__name:"MarketOverview",props:{market:{}},setup(o){return(e,t)=>(b(),w("div",vv,[_(pv,{market:e.market},null,8,["market"]),_(mv,{market:e.market},null,8,["market"]),_(uv,{market:e.market},null,8,["market"]),_(cv,{market:e.market},null,8,["market"])]))}});const fv=S(hv,[["__scopeId","data-v-cc800382"]]),tt=o=>(te("data-v-3c4087c8"),o=o(),ae(),o),gv={key:0},bv=tt(()=>c("span",{class:"text"},"Users in soft liquidation: ",-1)),yv=tt(()=>c("span",{class:"text"},"Median health:",-1)),$v=tt(()=>c("span",{class:"text"},"Collaterization ratio:",-1)),wv=tt(()=>c("span",{class:"text"},"Liquidatable positions:",-1)),kv=tt(()=>c("span",{class:"text"},"Liquidatable positions' debt:",-1)),Cv=tt(()=>c("span",{class:"text"},"Liquidatable assets:",-1)),xs=k({__name:"CardLiquidationOverview",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C(()=>l.value),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getMarketStateHealth(o.market.address).then(i=>i.health):Promise.resolve(null),null);T(()=>o.market,u,{immediate:!0});const p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(Y),{title:n(e)("title"),loading:n(s),content:a.value},{default:y(()=>[a.value?(b(),w("div",gv,[c("div",null,[bv,W(" "+x(a.value.softLiqUsers)+" ("+x((a.value.softLiqRatio*100).toFixed(2))+"%) ",1)]),c("div",null,[yv,W(" "+x(a.value.medianHealth.toFixed(6)),1)]),c("div",null,[$v,W(" "+x((a.value.collatRatio*100).toFixed(2))+"% ",1)]),c("div",null,[wv,W(" "+x(a.value.liqablePositions),1)]),c("div",null,[kv,W(" $"+x(p(a.value.liqableDebt)),1)]),c("div",null,[Cv,W(" $"+x(p(a.value.liqableCollatUsd+a.value.liqableStable))+" (C: $"+x(p(a.value.liqableCollatUsd))+", S: $"+x(p(a.value.liqableStable))+") ",1)])])):V("",!0)]),_:1},8,["title","loading","content"]))}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["General Health Metrics"])}}})}typeof Ra=="function"&&Ra(xs);const Sv=S(xs,[["__scopeId","data-v-3c4087c8"]]),xv={class:"actions"},As=k({__name:"ChartLiquidationSoftLiquidation",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:v}=oe(()=>o.market?t.getHistoricalSoftLiquidations(o.market.address).then(f=>f.losses):Promise.resolve([]),[]);q(async()=>{p.value&&(await Ue(),a=ue(p.value,h(p.value,u.theme)),s=a.addAreaSeries(m(u.theme)),l=a.addAreaSeries(g(u.theme)),r(d.value))}),T(()=>o.market,v,{immediate:!0}),T(()=>u.theme,f=>{p.value&&(a.applyOptions(h(p.value,f)),s.applyOptions(m(f)),l.applyOptions(g(f)))}),T(d,f=>{r(f)});const h=(f,$)=>_e(f,$,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),g=f=>{const $=E(f);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ne.WithSteps,lineColor:$.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=f=>{const $=E(f);return{priceFormat:{type:"percent",precision:2,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:$.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=f=>{if(!a||!s)return;const $=z.chain(f).map(I=>({time:I.timestamp,value:I.proportion})).uniqWith((I,L)=>I.time===L.time).orderBy(I=>I.time,"asc").value(),A=z.chain(f).map(I=>({time:I.timestamp,value:I.collateralPrice})).uniqWith((I,L)=>I.time===L.time).orderBy(I=>I.time,"asc").value();A.length>0&&l.setData(A),$.length>0&&s.setData($),a.timeScale().fitContent()};return(f,$)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[c("div",xv,[_(n(Ee),{items:["% of loans in soft liquidation","Collateral price"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Soft Liquidations"])}}})}typeof Fa=="function"&&Fa(As);const Av=S(As,[["__scopeId","data-v-25aa1166"]]),Is=k({__name:"ChartLiquidationMedianLoss",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getHistoricalMedianLoss(o.market.address).then(m=>m.losses):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,v(u.value,l.theme)),s=a.addAreaSeries(h(l.theme)),g(i.value))}),T(()=>o.market,d,{immediate:!0}),T(()=>l.theme,m=>{u.value&&(a.applyOptions(v(u.value,m)),s.applyOptions(h(m)))}),T(i,m=>{g(m)});const v=(m,r)=>_e(m,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=m=>{const r=E(m);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=m=>{if(!a||!s)return;const r=z.chain(m).map(f=>({time:f.timestamp,value:f.lossPct})).uniqWith((f,$)=>f.time===$.time).orderBy(f=>f.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(m,r)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Median Loss % Among Loans with Losses"])}}})}typeof Ua=="function"&&Ua(Is);const Iv=S(Is,[["__scopeId","data-v-8b980e5f"]]),Lv={class:"actions"},Ls=k({__name:"ChartLiquidationAverageHealth",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l,u;const p=N(),i=P(null),{loading:d,data:v,loadData:h}=oe(()=>o.market?t.getHistoricalAverageHealth(o.market.address).then(A=>A.health):Promise.resolve([]),[]);q(async()=>{i.value&&(await Ue(),a=ue(i.value,g(i.value,p.theme)),s=a.addAreaSeries(m(p.theme)),l=a.addAreaSeries(r(p.theme)),u=a.addAreaSeries(f(p.theme)),$(v.value))}),T(()=>o.market,h,{immediate:!0}),T(()=>p.theme,A=>{i.value&&(a.applyOptions(g(i.value,A)),l.applyOptions(m(A)),s.applyOptions(m(A)),u.applyOptions(m(A)))}),T(v,A=>{$(A)});const g=(A,I)=>_e(A,I,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=A=>{const I=E(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:I.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=A=>{const I=E(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:I.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=A=>{const I=E(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:I.green,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},$=A=>{if(!a||!s||!l||!u)return;const I=z.chain(A).map(R=>({time:R.timestamp,value:R.quartiles[2]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value(),L=z.chain(A).map(R=>({time:R.timestamp,value:R.quartiles[1]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value(),M=z.chain(A).map(R=>({time:R.timestamp,value:R.quartiles[3]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value();L.length>0&&l.setData(L),I.length>0&&s.setData(I),M.length>0&&u.setData(M),a.timeScale().fitContent()};return(A,I)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(d)},{actions:y(()=>[c("div",Lv,[_(n(Ee),{items:["1st Quartile","Median","3rd Quartile"],colors:n(X)(n(p).theme)},null,8,["colors"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Historical Health Distribution"])}}})}typeof Ea=="function"&&Ea(Ls);const Pv=S(Ls,[["__scopeId","data-v-e907d5b6"]]),Dv=k({__name:"ChartLiquidationHealthDeciles",props:{market:{default:null}},setup(o){const e=new re(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>o.market?e.getHealthDeciles(o.market.address).then(h=>h.health):Promise.resolve([]),[]),u=C(()=>{const h=E(t.theme),g=X(t.theme);return de({colors:h,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:d,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:v}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:m=>{const r=m.series[0][m.dataPointIndex],f=m.series[1][m.dataPointIndex],$=m.series[2][m.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${v(f)}</div>`,`<div><b>Debt</b>: ${v(r)}</div>`,`<div><b>Stablecoin</b>: ${v($)}</div>`].join("")}}})}),p=C(()=>s.value.map(h=>h.decile)),i=C(()=>[{name:"Debt",data:Object.values(s.value).map(h=>h.debt)},{name:"Collateral",data:Object.values(s.value).map(h=>h.collateralUsdValue)},{name:"Stablecoin",data:Object.values(s.value).map(h=>h.stablecoin)}]);T(()=>o.market,l,{immediate:!0});const d=h=>h,v=h=>`$${J(h,0,"dollar")}${j(h,"dollar")}`;return(h,g)=>(b(),D(n(ve),{class:"chart",title:"Debt & Assets per Health Deciles",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const Mv=S(Dv,[["__scopeId","data-v-c1448a56"]]),Ps=k({__name:"ChartLiquidationProportionLosers",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getProportionLosers(o.market.address).then(m=>m.losses):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,v(u.value,l.theme)),s=a.addAreaSeries(h(l.theme)),g(i.value))}),T(()=>o.market,d,{immediate:!0}),T(()=>l.theme,m=>{u.value&&(a.applyOptions(v(u.value,m)),s.applyOptions(h(m)))}),T(i,m=>{g(m)});const v=(m,r)=>_e(m,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=m=>{const r=E(m);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=m=>{if(!a||!s)return;const r=z.chain(m).map(f=>({time:f.timestamp,value:f.losers})).uniqWith((f,$)=>f.time===$.time).orderBy(f=>f.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(m,r)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Proportion of Loans with Losses"])}}})}typeof Wa=="function"&&Wa(Ps);const Tv=S(Ps,[["__scopeId","data-v-231fe919"]]),Vv=k({__name:"ChartLiquidationHistoricalValue",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=E(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>[{name:"Self liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfValue}))},{name:"Hard liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardValue}))}]),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,v)=>d+v.selfValue+v.hardValue,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const zv=S(Vv,[["__scopeId","data-v-5dc3f15d"]]),Bv=k({__name:"ChartLiquidationHistoricalCount",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=E(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>[{name:"Self liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfCount}))},{name:"Hard liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardCount}))}]),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,v)=>d+v.selfCount+v.hardCount,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(b(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Ov=S(Bv,[["__scopeId","data-v-6f575e58"]]),Rv={class:"actions"},Fv={class:"chart-types"},Ds=k({__name:"ChartLiquidationHistorical",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=P("count"),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getHistoricalLiquidations(o.market.address).then(i=>i.liquidations):Promise.resolve([]),[]);T(()=>o.market,u,{immediate:!0});const p=i=>{a.value!==i&&(a.value=i)};return(i,d)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(s)},{actions:y(()=>[c("div",Rv,[c("div",Fv,[_(n(Me),{value:"Count","model-value":a.value==="count",onClick:d[0]||(d[0]=v=>p("count"))},null,8,["model-value"]),_(n(Me),{value:"Value","model-value":a.value==="value",onClick:d[1]||(d[1]=v=>p("value"))},null,8,["model-value"])])])]),default:y(()=>[a.value==="count"?(b(),D(Ov,{key:0,data:n(l)},null,8,["data"])):(b(),D(zv,{key:1,data:n(l)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Self & Hard Liquidations"])}}})}typeof qa=="function"&&qa(Ds);const Uv=S(Ds,[["__scopeId","data-v-4bf8efe6"]]),Ev={class:"address"},Wv=["href"],qv={class:"number"},Hv={class:"number"},Ms=k({__name:"TableLiquidationLiquidators",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C(()=>z.chain(l.value).map(p=>p).value()),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getTopLiquidators(o.market.address).then(p=>p.liquidations):Promise.resolve([]),[]);return T(()=>o.market,u,{immediate:!0}),(p,i)=>(b(),D(n(ye),{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",loading:n(s),rows:a.value,columns:["Address","Count","Value"]},{"header-title":y(()=>[c("div",null,x(n(e)("title")),1)]),row:y(d=>[c("div",Ev,[c("a",{href:`https://etherscan.io/address/${d.item.address}`,target:"_blank"},x(n(Se)(d.item.address,8)),9,Wv)]),c("div",qv,[_(n(O),{value:d.item.count,precision:0,"show-zero":!0},null,8,["value"])]),c("div",Hv,[_(n(O),{value:d.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Top Liquidators"])}}})}typeof Ha=="function"&&Ha(Ms);const Nv=S(Ms,[["__scopeId","data-v-e1ea04bd"]]),Gv={class:"actions"},Ts=k({__name:"ChartLiquidationLiquidatorRevenue",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:v}=oe(()=>o.market?t.getLiquidatorRevenue(o.market.address).then(f=>f.revenue):Promise.resolve([]),[]);q(async()=>{p.value&&(await Ue(),a=ue(p.value,h(p.value,u.theme)),s=a.addAreaSeries(m(u.theme)),l=a.addAreaSeries(g(u.theme)),r(d.value))}),T(()=>o.market,v,{immediate:!0}),T(()=>u.theme,f=>{p.value&&(a.applyOptions(h(p.value,f)),s.applyOptions(m(f)),l.applyOptions(g(f)))}),T(d,f=>{r(f)});const h=(f,$)=>_e(f,$,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),g=f=>{const $=E(f);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ne.WithSteps,lineColor:$.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},m=f=>{const $=E(f);return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:$.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=f=>{if(!a||!s)return;const $=z.chain(f).map(I=>({time:I.timestamp,value:I.discount*100})).uniqWith((I,L)=>I.time===L.time).orderBy(I=>I.time,"asc").value(),A=z.chain(f).map(I=>({time:I.timestamp,value:I.amount})).uniqWith((I,L)=>I.time===L.time).orderBy(I=>I.time,"asc").value();A.length>0&&l.setData(A),$.length>0&&s.setData($),a.timeScale().fitContent()};return(f,$)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:y(()=>[c("div",Gv,[_(n(Ee),{items:["Liquidator Revenue","Discount"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:y(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Liquidator Revenue"])}}})}typeof Na=="function"&&Na(Ts);const Qv=S(Ts,[["__scopeId","data-v-d27e32b1"]]),Vs=k({__name:"ChartLiquidationCollateralRatio",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getHistoricalCollateralRatio(o.market.address).then(m=>m.ratios):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,v(u.value,l.theme)),s=a.addAreaSeries(h(l.theme)),g(i.value))}),T(()=>o.market,d,{immediate:!0}),T(()=>l.theme,m=>{u.value&&(a.applyOptions(v(u.value,m)),s.applyOptions(h(m)))}),T(i,m=>{g(m)});const v=(m,r)=>_e(m,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=m=>{const r=E(m);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=m=>{if(!a||!s)return;const r=z.chain(m).map(f=>({time:f.timestamp,value:f.ratio*100})).uniqWith((f,$)=>f.time===$.time).orderBy(f=>f.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(m,r)=>(b(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Collateral Ratio"])}}})}typeof Ga=="function"&&Ga(Vs);const Yv=S(Vs,[["__scopeId","data-v-aefe7d10"]]),jv={class:"liquidations"},Jv=k({__name:"Liquidations",props:{market:{}},setup(o){return(e,t)=>(b(),w("div",jv,[_(Sv,{market:e.market},null,8,["market"]),_(Av,{market:e.market},null,8,["market"]),_(Iv,{market:e.market},null,8,["market"]),_(Tv,{market:e.market},null,8,["market"]),_(Pv,{market:e.market},null,8,["market"]),_(Mv,{market:e.market},null,8,["market"]),_(Yv,{market:e.market},null,8,["market"]),_(Uv,{market:e.market},null,8,["market"]),_(Nv,{market:e.market},null,8,["market"]),_(Qv,{market:e.market},null,8,["market"])]))}});const Kv=S(Jv,[["__scopeId","data-v-a5bcb767"]]);class Ye{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return Ye.instance||(Ye.instance=new Ye),Ye.instance}connect(e){this.ws||(this.ws=new WebSocket(e),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(e),1e3)},this.ws.onmessage=t=>{try{const s=JSON.parse(t.data).channel.slice(0,-6);if(this.listeners[s])for(const l of this.listeners[s])l(t.data);else this.messageQueue.push(t.data)}catch(a){console.error("WSManager error parsing message: ",a)}})}registerListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const a=this.messageQueue.filter(s=>JSON.parse(s).channel===e);for(const s of a)t(s);this.messageQueue=this.messageQueue.filter(s=>!a.includes(s))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var Ft=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(Ft||{}),Ut=(o=>(o.update="update",o.snapshot="snapshot",o))(Ut||{});class Qa{constructor(e,t,a,s,l,u){this.url=e,this.llamma=t,this.chain=a,this.interval=s,this.start=l,this.end=u,this.currentOHLCData=[],this.wsManager=Ye.getInstance(),this.wsManager.connect(e),this.dataSubject=new Tn,this.data$=this.dataSubject.pipe(Vn((p,i)=>this.reconcileData(p,i),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",p=>{try{const i=JSON.parse(p);this.dataSubject.next(i)}catch(i){console.error("Error parsing WebSocket message:",i,"Raw data:",p)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const e={action:Ft.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(e)}subscribeToUpdates(){const e={action:Ft.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(e)}reconcileData(e,t){return t.type===Ut.snapshot?t.payload:t.type===Ut.update?(t.payload.forEach(a=>{const s=e.findIndex(l=>l.time===a.time);s!==-1?e[s]=a:e.push(a)}),[...e]):e}send(e){this.wsManager.send(JSON.stringify(e))}}const Zv={class:"buttons"},Ya="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",ja="ethereum",Ja=86400,zs=k({__name:"ChartLlammaCandles",props:{market:{}},setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=N(),i=P([]);let d;const v=P(null),h=P(!1),g=C(()=>o.market?`Daily candles ${h.value?`crvUSD/${o.market.name}`:`${o.market.name}/crvUSD`}`:e("title"));q(async()=>{if(!v.value||!o.market)return;await Ue();const f=Mt.getAddress(o.market.llamma),$=Date.now(),A=15*24*60*60*1e3,I=Math.floor($/1e3),L=Math.floor(($-A)/1e3);t=new Qa(Ya,f,ja,Ja,L,I);const M=E(p.theme);d=t.data$.subscribe(R=>{i.value=R,m(R,h.value)}),a=ue(v.value,{width:v.value.clientWidth,height:v.value.clientHeight,layout:{background:{type:Nt.Solid,color:M.backgroundColor},textColor:M.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:M.level2,style:Gt.Dashed}},crosshair:{mode:Vo.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:R=>r(R)}}),s=a.addCandlestickSeries({upColor:M.green,borderUpColor:M.green,wickUpColor:M.green,downColor:M.red,borderDownColor:M.red,wickDownColor:M.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),zn(()=>{d.unsubscribe()}),T(i,f=>{m(f,h.value)}),T(h,f=>{m(i.value,f)}),T(()=>o.market,(f,$)=>{if(f&&f!==$){d.unsubscribe();const A=Mt.getAddress(f.llamma),I=Date.now(),L=15*24*60*60*1e3,M=Math.floor(I/1e3),R=Math.floor((I-L)/1e3);t=new Qa(Ya,A,ja,Ja,R,M),d=t.data$.subscribe(Q=>{i.value=Q,m(Q,h.value)})}});const m=(f,$)=>{if(!a||!s||!f)return;const A=$?-1:1,I=z.chain(f).map(L=>({time:L.time,open:Math.pow(L.open,A),high:Math.pow(L.high,A),low:Math.pow(L.low,A),close:Math.pow(L.close,A)})).uniqWith((L,M)=>L.time===M.time).orderBy(L=>L.time,"asc").value();I.length>0&&(s.setData(I),a.timeScale().fitContent(),u=Math.min(...I.map(L=>L.low)),l=Math.max(...I.map(L=>L.high)))},r=f=>{const $=l-u,A=$>1?$-Math.floor($):$,I=-Math.floor(Math.log10(A)+1)+2;return`${J(f,I,"dollar")}${j(f,"dollar")}`};return(f,$)=>(b(),D(n(Y),{class:"candles",title:g.value},{default:y(()=>[c("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512),c("div",Zv,[_(n(Me),{modelValue:h.value,"onUpdate:modelValue":$[0]||($[0]=A=>h.value=A)},{default:y(()=>[W(x(n(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function Ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof Ka=="function"&&Ka(zs);const Xv=S(zs,[["__scopeId","data-v-b6897e91"]]),eh={class:"llamma"},th=k({__name:"Llamma",props:{market:{}},setup(o){return(e,t)=>(b(),w("div",eh,[_(Xv,{market:e.market},null,8,["market"])]))}});const ah=S(th,[["__scopeId","data-v-6c55aae5"]]),oh={class:"market-overview"},sh=k({__name:"Market",setup(o){const e=new re(H()),t=Fe(),a=Ke(),s=oa(),l=fs(),u=P(0),p=C(()=>t.params.marketAddr),i=C(()=>l.market);return q(async()=>{var v,h;const d=t.params.tab;if(d&&typeof d=="string"&&(d==="liquidations"?u.value=1:d==="llamma"&&(u.value=2)),((v=l.market)==null?void 0:v.address)!==p.value){const{markets:g}=await e.getMarkets(),m=g.find(r=>r.address===p.value);m&&(l.market=m)}s.show=!0,s.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${((h=i.value)==null?void 0:h.name)??"?"}`}]}),T(u,async d=>{d===0?await a.push({name:"crvusdmarket",params:{tab:"",marketAddr:p.value}}):d===1?await a.push({name:"crvusdmarket",params:{tab:"liquidations",marketAddr:p.value}}):d===2&&await a.push({name:"crvusdmarket",params:{tab:"llamma",marketAddr:p.value}})}),(d,v)=>(b(),w("div",oh,[_(n(Ze),{active:u.value,onTab:v[0]||(v[0]=h=>u.value=h.index)},{default:y(()=>[_(n(le),{header:"Overview"},{default:y(()=>[(b(),D(lt,null,[u.value===0?(b(),D(fv,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1}),_(n(le),{header:"Liquidations"},{default:y(()=>[(b(),D(lt,null,[u.value===1&&i.value?(b(),D(Kv,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1}),_(n(le),{header:"Llamma"},{default:y(()=>[(b(),D(lt,null,[u.value===2&&i.value?(b(),D(ah,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const nh=S(sh,[["__scopeId","data-v-f964467a"]]);class lh{constructor(e){this.get$=new he(t=>{let a=1/0,s=!1;const l=()=>{t.next(Date.now()-a),s=!1};e.on("pong",l);const u=Bn({}).pipe(On(()=>{if(s){t.next(1/0);return}s=!0,a=Date.now(),e.emit("ping")}),Rn(5e3),Fn()).subscribe();return()=>{u.unsubscribe(),e.off("pong",l)}}).pipe(Un({refCount:!0,bufferSize:1}))}}class rh{constructor(e){this.socket=e}get(e){const t=new Promise(a=>{this.socket.once("search_res",s=>{const l=Object.entries(s).map(([u,p])=>({id:u.toLocaleLowerCase(),name:p}));a(l)})});return this.socket.emit("search",e),t}}class ih{constructor(e){this.get$=new he(t=>{const a=s=>{const l=ch(s);t.next(l)};return e.on("token names inside pool",a),()=>{e.off("token names inside pool",a)}}).pipe(be())}}function ch(o){return o.map(e=>({name:e}))}class Bs{constructor(e){this.socket=e,this.update$=new he(t=>{const a=s=>{t.next(s)};return e.on("price_chart_combination",a),()=>{e.off("price_chart_combination",a)}}).pipe(be())}update(e,t){this.socket.emit("new combination",[e,t[0],t[1]])}}class uh{constructor(e){this.socket=e}update(e){this.socket.emit(e)}}const we=Ae({id:"monitorStore",state:()=>({socket:null,socketPool:null,pool:null,pools:[],poolsLoadingError:!1,prices:[],balances:[],volumes:[],transactions:[],tvl:[],bonding:{curve:[],balanceCoin0:0,balanceCoin1:0},coins:[],pair:null,timeRange:"month"})});class dh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>Za(u));t.next(l)};return e.on("price_chart",a),()=>{e.off("price_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=Za(s);t.next(l)};return e.on("Update Price-Chart",a),()=>{e.off("Update Price-Chart",a)}}).pipe(be())}}function Za(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,value:a}}class ph{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>Xa(u));t.next(l)};return e.on("balances_chart",a),()=>{e.off("balances_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=Xa(s);t.next(l)};return e.on("Update Balance-Chart",a),()=>{e.off("Update Balance-Chart",a)}}).pipe(be())}}function Xa(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,balances:a}}class _h{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>eo(u));t.next(l)};return e.on("volume_chart",a),()=>{e.off("volume_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=eo(s);t.next(l)};return e.on("Update Volume-Chart",a),()=>{e.off("Update Volume-Chart",a)}}).pipe(be())}}function eo(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,volume:a}}class mh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>to(u)).flat(1);t.next(l)};return e.on("table_all",a),()=>{e.off("table_all",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=to(s);for(const u of l)t.next(u)};return e.on("Update Table-ALL",a),()=>{e.off("Update Table-ALL",a)}}).pipe(be())}}function to(o){let e;if(o.type==="swap")e="swap";else if(o.type==="deposit")e="deposit";else if(o.type==="remove")e="withdraw";else return[];const t=o.txHash.toLocaleLowerCase(),a=o.blockNumber,s=o.trader.toLocaleLowerCase(),l=o.unixtime;let u;if(e==="swap"){const p=o;return u=[{type:e,txHash:t,blockNumber:a,trader:s,timestamp:l,fee:p.tradeDetails.feeUSD,value:p.tradeDetails.valueUSD,amountIn:p.tradeDetails.amountIn,amountOut:p.tradeDetails.amountOut,tokenIn:p.tradeDetails.nameIn,tokenOut:p.tradeDetails.nameOut}],u}else e==="deposit"?u=o.tradeDetails.map(i=>({type:"deposit",txHash:t,blockNumber:a,trader:s,timestamp:l,value:i.valueUSD,amountIn:i.amountIn,tokenIn:i.nameIn})):u=o.tradeDetails.map(i=>({type:"withdraw",txHash:t,blockNumber:a,trader:s,timestamp:l,value:i.valueUSD,amountOut:i.amountOut,tokenOut:i.nameOut}));return u}class vh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>ao(u));t.next(l)};return e.on("tvl_chart",a),()=>{e.off("tvl_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=ao(s);t.next(l)};return e.on("Update TVL-Chart",a),()=>{e.off("Update TVL-Chart",a)}}).pipe(be())}}function ao(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,tvl:a}}class hh{constructor(e){this.get$=new he(t=>{const a=s=>{const l=fh(s);t.next(l)};return e.on("bonding_curve",a),()=>{e.off("bonding_curve",a)}}).pipe(be())}}function fh(o){return{curve:z.zipWith(o.x,o.y,(t,a)=>({x:t,y:a})),balanceCoin0:o.balance0,balanceCoin1:o.balance1}}function gh(o){return bt(`${o}/`,{autoConnect:!1,secure:!0})}function bh(o,e){return bt(`${o}/${e}`,{autoConnect:!1,secure:!0})}function yh(o){return bt(`${o}/main`,{autoConnect:!1,secure:!0})}function $h(o,e,t){const a=bh(e,t),s=new _h(a),l=new dh(a),u=new mh(a),p=new ph(a),i=new vh(a),d=new hh(a),v=new ih(a),h=new Bs(a);return Ah(o,u),Sh(o,l),kh(o,p),Ch(o,i),xh(o,s),Ih(o,d),Lh(o,v),Ph(o,h),a.connect(),a}async function wh(o,e,t){const a=await e.get(t);a?o.pools=a:o.poolsLoadingError=!0}let it=null;function kh(o,e){it&&it.unsubscribe();try{it=e.init$.subscribe({next:t=>{o.balances=t},error:t=>console.error(t)}),it.add(e.update$.subscribe({next:t=>{o.balances.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ct=null;function Ch(o,e){ct&&ct.unsubscribe();try{ct=e.init$.subscribe({next:t=>{o.tvl=t},error:t=>console.error(t)}),ct.add(e.update$.subscribe({next:t=>{o.tvl.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ut=null;function Sh(o,e){ut&&ut.unsubscribe();try{ut=e.init$.subscribe({next:t=>{o.prices=t},error:t=>console.error(t)}),ut.add(e.update$.subscribe({next:t=>{o.prices.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let dt=null;function xh(o,e){dt&&dt.unsubscribe();try{dt=e.init$.subscribe({next:t=>{o.volumes=t},error:t=>console.error(t)}),dt.add(e.update$.subscribe({next:t=>{o.volumes.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let pt=null;function Ah(o,e){pt&&pt.unsubscribe();try{pt=e.init$.subscribe({next:t=>{o.transactions=t},error:t=>console.error(t)}),pt.add(e.update$.subscribe({next:t=>{o.transactions.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let It=null;function Ih(o,e){It&&It.unsubscribe();try{It=e.get$.subscribe({next:t=>{o.bonding=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let Lt=null;function Lh(o,e){Lt&&Lt.unsubscribe();try{Lt=e.get$.subscribe({next:t=>{o.coins=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let Pt=null;function Ph(o,e){Pt&&Pt.unsubscribe();try{Pt=e.update$.subscribe({next:t=>{o.pair=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}const Dh={key:0,class:"item"},Mh=["src"],Th={class:"label"},Os=k({__name:"SearchPool",props:{modelValue:{},poolService:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=we(),s=P(!1),l=P(t("search-placeholder")),u=C(()=>a.pools),p=h=>{const g=Ce(h.name);return g.startsWith("Curve.fi ")?g.slice(9):g},i=z.debounce(wh,200,{maxWait:1e3}),d=h=>{i(a,o.poolService,h),s.value=!!h},v=h=>{const g=h;s.value=!1,e("select",g)};return T(()=>a.poolsLoadingError,h=>{h?l.value=t("search-error"):l.value=t("search-placeholder")}),(h,g)=>(b(),D(n(pe),{class:"select-pool","model-value":h.modelValue,placeholder:l.value,search:!0,"auto-complete":s.value,options:u.value,"onUpdate:modelValue":g[0]||(g[0]=m=>e("update:modelValue",m)),onInput:d,onSelect:v},{item:y(m=>[m.item?(b(),w("div",Dh,[c("img",{src:n(jt)(m.item.name,!1)},null,8,Mh),c("div",Th,x(p(m.item)),1)])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function oo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])}}})}typeof oo=="function"&&oo(Os);const Vh=S(Os,[["__scopeId","data-v-d87077ae"]]),zh={class:"status"},Bh={class:"ping"},Oh=k({__name:"Status",setup(o){const e=we(),t=P(1/0),a=P("bad");return T(()=>e.socket,s=>{if(!s)return;new lh(s).get$.subscribe(u=>{t.value=u,a.value=u<=50?"good":u<=500?"meh":"bad"})},{immediate:!0}),(s,l)=>(b(),w("div",zh,[_(n(Te),{class:"tooltip"},{item:y(()=>[c("div",{class:F(["indicator",a.value])},null,2)]),default:y(()=>[c("div",Bh,"Ping: "+x(t.value===1/0?"?":t.value)+"ms",1)]),_:1})]))}});const Rh=S(Oh,[["__scopeId","data-v-30181aee"]]),Fh=o=>(te("data-v-193d2201"),o=o(),ae(),o),Uh={class:"header"},Eh={class:"header-content"},Wh=Fh(()=>c("div",{class:"title"},"Live monitor",-1)),qh={class:"controls"},Hh=k({__name:"Header",props:{poolService:{}},setup(o){const e=we(),t=P(""),a=s=>{const l=s;t.value=Ce(l.name),e.pool=l};return(s,l)=>(b(),w("div",Uh,[_(n(Y),null,{default:y(()=>[c("div",Eh,[Wh,c("div",qh,[_(Vh,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u),class:"search","pool-service":s.poolService,onSelect:a},null,8,["modelValue","pool-service"]),_(Rh)])])]),_:1})]))}});const Nh=S(Hh,[["__scopeId","data-v-193d2201"]]),Gh={class:"pair"},Qh={class:"item"},Yh=["src"],jh={class:"label"},Jh={class:"item"},Kh=["src"],Zh={class:"label"},Xh=k({__name:"SelectorPair",setup(o){const e=we(),t=P([!1,!1]),a=P([null,null]),s=C(()=>e.coins.map(v=>({label:v.name}))),l=C(()=>e.pair?[{label:e.pair[0]},{label:e.pair[1]}]:null),u=v=>v!=null&&v.logo?`${v.logo}`:"",p=v=>v?`${v.label}`:"?",i=v=>{t.value[v]=!t.value[v]},d=(v,h,g)=>{var $,A;const m=v===0?1:0,r=a.value[v],f=h;(r==null?void 0:r.label)!==f.label&&(a.value[v]=f,(($=a.value[v])==null?void 0:$.label)===((A=a.value[m])==null?void 0:A.label)&&(a.value[m]=r),g&&e.socketPool&&a.value[0]&&a.value[1]&&new Bs(e.socketPool).update(e.timeRange,[a.value[0].label,a.value[1].label]))};return T(l,()=>{d(0,l.value?l.value[0]:null,!1),d(1,l.value?l.value[1]:null,!1)}),(v,h)=>(b(),w("div",Gh,[_(n(Re),{class:"select",options:s.value,selected:a.value[0],open:t.value[0],onOpen:h[0]||(h[0]=g=>i(0)),onClose:h[1]||(h[1]=g=>t.value[0]=!1),onInput:h[2]||(h[2]=g=>d(0,g,!0))},{item:y(g=>{var m;return[c("div",Qh,[(m=g.item)!=null&&m.logo?(b(),w("img",{key:0,src:u(g.item)},null,8,Yh)):V("",!0),c("div",jh,x(p(g.item)),1)])]}),_:1},8,["options","selected","open"]),_(n(Re),{class:"select",options:s.value,selected:a.value[1],open:t.value[1],onOpen:h[3]||(h[3]=g=>i(1)),onClose:h[4]||(h[4]=g=>t.value[1]=!1),onInput:h[5]||(h[5]=g=>d(1,g,!0))},{item:y(g=>{var m;return[c("div",Jh,[(m=g.item)!=null&&m.logo?(b(),w("img",{key:0,src:u(g.item)},null,8,Kh)):V("",!0),c("div",Zh,x(p(g.item)),1)])]}),_:1},8,["options","selected","open"])]))}});const ef=S(Xh,[["__scopeId","data-v-50c3fa55"]]),tf=["day","week","month"],af={class:"ranges"},Rs=k({__name:"SelectorRange",setup(o){const{t:e}=B(),t=we(),a=s=>{t.timeRange!==s&&(t.timeRange=s,t.pair&&new uh(t.socketPool).update(s))};return(s,l)=>(b(),w("div",af,[(b(!0),w(se,null,ce(n(tf),u=>(b(),D(n(Me),{key:u,"model-value":n(t).timeRange===u,value:n(e)(u),onClick:p=>a(u)},null,8,["model-value","value","onClick"]))),128))]))}});function so(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{day:t=>{const{normalize:a}=t;return a(["Day"])},week:t=>{const{normalize:a}=t;return a(["Week"])},month:t=>{const{normalize:a}=t;return a(["Month"])}}})}typeof so=="function"&&so(Rs);const of=S(Rs,[["__scopeId","data-v-60686ec1"]]),Fs=o=>(te("data-v-10ded877"),o=o(),ae(),o),sf={class:"controls"},nf=Fs(()=>c("div",{class:"gutter"},null,-1)),lf={class:"rows"},rf=Fs(()=>c("div",{class:"title"},"Charts",-1)),cf={class:"items"},uf=k({__name:"Controls",setup(o){return(e,t)=>(b(),w("div",sf,[nf,c("div",lf,[rf,c("div",cf,[_(ef),_(of)])])]))}});const df=S(uf,[["__scopeId","data-v-10ded877"]]);function pf(o){return o.type==="swap"}function _f(o){return o.type==="deposit"}function mf(o){return o.type==="withdraw"}function na(o,e){const a=Math.round(o.value/1e3)-e;return a<60?`${Math.round(a)} seconds ago`:a<60*60?`${Math.round(a/60)} minutes ago`:a<60*60*24?`${Math.round(a/(60*60))} hours ago`:`${Math.round(a/(60*60*24))} days ago`}const vf={class:"title"},hf={key:0,class:"fas fa-arrow-up"},ff={key:1,class:"fas fa-arrow-down"},gf={key:2,class:"fas fa-exchange-alt"},bf={key:0,class:"number"},yf=["href"],$f=["href"],wf=["href"],kf=["innerHTML"],Cf={key:0},Sf={key:1,class:"number"},_t=10,Us=k({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=we(),a=P(""),s=P(["swap","deposit","withdraw"]),l=P(1),u=P(Date.now()),p=C(()=>o.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=C(()=>z.chain(o.txs?o.txs:t.transactions).filter(r=>s.value.includes(r.type)).filter(r=>{const f=a.value.toLocaleLowerCase().split(" "),$=A=>f.some(I=>A.toLocaleLowerCase().includes(I));return $(r.blockNumber.toString())||$(r.trader)||$(r.txHash)}).reverse().value()),d=C(()=>z.chain(i.value).drop((l.value-1)*_t).take(_t).value());q(()=>{setInterval(()=>{u.value=Date.now()})});const v=r=>na(u,r),h=r=>{if(pf(r)){const f=r.amountIn.toLocaleString(),$=r.amountOut.toLocaleString(),A=`<span>${f} ${r.tokenIn}</span>`,I="<i class='fas fa-arrow-right'></i>",L=`<span style='justify-self: end;'>${$} ${r.tokenOut}</span>`;return`${A}${I}${L}`}else{if(_f(r))return`${r.amountIn.toLocaleString()} ${r.tokenIn}`;if(mf(r))return`${r.amountOut.toLocaleString()} ${r.tokenOut}`}return"???"},g=r=>{l.value=r},m=r=>{r===0?s.value=["swap","deposit","withdraw"]:r===1?s.value=["swap"]:r===2?s.value=["deposit"]:r===3?s.value=["withdraw"]:s.value=[]};return T(d,r=>{r.length===0&&(l.value=Math.max(1,Math.ceil(i.value.length/_t)))}),(r,f)=>(b(),D(n(ye),{class:F(["datatable-trades",{compact:r.compact,time:r.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:d.value,columns:p.value},Qt({row:y($=>[c("div",{class:F(["type",{deposit:$.item.type==="deposit",withdraw:$.item.type==="withdraw",swap:$.item.type==="swap"}])},[$.item.type==="deposit"?(b(),w("i",hf)):$.item.type==="withdraw"?(b(),w("i",ff)):(b(),w("i",gf)),W(" "+x(n(e)($.item.type)),1)],2),r.time?(b(),w("div",bf,[c("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.blockNumber}`,target:"_blank"},x($.item.blockNumber),9,yf)])):V("",!0),c("div",{onClick:f[2]||(f[2]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.txHash}`,target:"_blank"},x(n(Se)($.item.txHash)),9,$f)]),c("div",{onClick:f[3]||(f[3]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank"},x(n(Se)($.item.trader)),9,wf)]),c("div",{class:F(["assets",{swap:$.item.type==="swap"}]),innerHTML:h($.item)},null,10,kf),c("div",{class:F({number:r.time})},[$.item.type==="swap"?(b(),w("span",Cf," $"+x(n(z.round)($.item.fee).toLocaleString()),1)):V("",!0)],2),r.time?(b(),w("div",Sf,x(v($.item.timestamp)),1)):V("",!0)]),_:2},[r.header?{name:"header-title",fn:y(()=>[c("div",vf,x(n(e)("title")),1),_(n(Ze),{class:"types",onTab:f[0]||(f[0]=$=>m($.index))},{default:y(()=>[_(n(le),{header:"All"}),_(n(le),{header:"Swaps"}),_(n(le),{header:"Deposits"}),_(n(le),{header:"Withdrawals"})]),_:1}),_(n(pe),{modelValue:a.value,"onUpdate:modelValue":f[1]||(f[1]=$=>a.value=$),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,r.header?{name:"header-actions",fn:y(()=>[_(n(Je),{class:"pagination","items-count":i.value.length,"items-per-page":_t,page:l.value,onPage:g},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns"]))}});function no(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},withdraw:t=>{const{normalize:a}=t;return a(["Withdraw"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof no=="function"&&no(Us);const xf=S(Us,[["__scopeId","data-v-1f133632"]]),Es=k({__name:"TVL",setup(o){const{t:e}=B();let t,a;const s=we(),l=N(),u=P(null),p=C(()=>s.tvl);q(()=>{u.value&&(t=ue(u.value,i(u.value,l.theme)),a=t.addAreaSeries(d(l.theme)),v(p.value))}),T(p,g=>{v(g)}),T(()=>l.theme,g=>{u.value&&(t.applyOptions(i(u.value,g)),a.applyOptions(d(g)))});const i=(g,m)=>_e(g,m,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:r=>h(r)}}),d=g=>{const m=E(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:m.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=g=>{if(!t||!a)return;const m=z.chain(g).map(r=>({time:r.timestamp,value:r.tvl})).uniqWith((r,f)=>r.time===f.time).orderBy(r=>r.time,"asc").value();m.length>0&&a.setData(m),t.timeScale().fitContent()},h=g=>`$${J(g,1,"dollar")}${j(g,"dollar")}`;return(g,m)=>(b(),D(n(Y),{class:"tvl",title:n(e)("title")},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof lo=="function"&&lo(Es);const Af=S(Es,[["__scopeId","data-v-10835709"]]),Ws=k({__name:"Bonding",setup(o){const{t:e}=B();let t,a;const s=we(),l=N(),u=P(null),p=C(()=>s.bonding);q(()=>{u.value&&(t=ue(u.value,i(u.value,l.theme)),a=t.addLineSeries(d(l.theme)),h(p.value))}),T(p,m=>{h(m)}),T(()=>l.theme,m=>{u.value&&(t.applyOptions(i(u.value,m)),a.applyOptions(d(m)),v(m))});const i=(m,r)=>_e(m,r,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:f=>g(f)},localization:{priceFormatter:f=>g(f),timeFormatter:f=>g(f)}}),d=m=>{const r=E(m);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:r.blue,lastValueVisible:!1,priceLineVisible:!1}},v=m=>{const r=E(m),f=[{time:p.value.balanceCoin1,position:"inBar",color:r.yellow,shape:"circle"}];a.setMarkers(f)},h=m=>{if(!t||!a)return;const r=z.chain(m.curve).map(f=>({time:f.x,value:f.y})).value();r.length>0&&(a.setData(r),v(l.theme)),t.timeScale().fitContent()},g=m=>m<0?"":`${J(Math.abs(m),0,"dollar")}${j(m,"dollar")}`;return(m,r)=>(b(),D(n(Y),{class:"bondings",title:n(e)("title")},{default:y(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function ro(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Bonding Curve"])}}})}typeof ro=="function"&&ro(Ws);const If=S(Ws,[["__scopeId","data-v-7db05945"]]),qs=k({__name:"Balances",setup(o){const{t:e}=B();let t,a=[];const s=we(),l=N(),u=P(null),p=C(()=>s.balances),i=C(()=>{var r,f;return((f=(r=s.balances[0])==null?void 0:r.balances)==null?void 0:f.length)??0});q(()=>{u.value&&(t=ue(u.value,d(u.value,l.theme)),h(),g(p.value))}),T(p,r=>{h(),g(r)}),T(()=>l.theme,r=>{if(u.value){t.applyOptions(d(u.value,r));for(const[f,$]of a.entries())$.applyOptions(v(f,l.theme))}});const d=(r,f)=>_e(r,f,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$=>m($)}}),v=(r,f)=>{const $=X(f);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:$[r],lastValueVisible:!1,priceLineVisible:!1}},h=()=>{if(t){for(const r of a)t.removeSeries(r);a=[];for(let r=0;r<i.value;r++){const f=t.addLineSeries(v(r,l.theme));a.push(f)}}},g=r=>{if(!(!t||a.length<0)){for(let f=0;f<i.value;f++){const $=z.chain(r).map(A=>({time:A.timestamp,value:A.balances[f]})).uniqWith((A,I)=>A.time===I.time).orderBy(A=>A.time,"asc").value();$.length>0&&a[f].setData($)}t.timeScale().fitContent()}},m=r=>`${J(r,1,"dollar")}${j(r,"dollar")}`;return(r,f)=>(b(),D(n(Y),{class:"balances",title:n(e)("title")},{default:y(()=>[_(n(Ee),{items:n(s).coins.map($=>$.name),colors:n(X)(n(l).theme)},null,8,["items","colors"]),c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function io(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof io=="function"&&io(qs);const Lf=S(qs,[["__scopeId","data-v-9efb7ba6"]]),Hs=k({__name:"Prices",setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=we(),i=N(),d=P(null),v=C(()=>p.prices),h=C(()=>p.volumes);q(()=>{d.value&&(t=ue(d.value,g(d.value,i.theme)),a=t.addAreaSeries(m(i.theme)),s=t.addHistogramSeries(r(i.theme)),f(v.value),$(h.value))}),T(v,I=>{f(I)}),T(h,I=>{$(I)}),T(()=>i.theme,I=>{d.value&&(t.applyOptions(g(d.value,I)),a.applyOptions(m(I)),s.applyOptions(r(I)))});const g=(I,L)=>_e(I,L,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:M=>A(M)}}),m=I=>{const L=E(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:L.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=I=>({color:E(I).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),f=I=>{if(!t||!a)return;const L=z.chain(I).map(M=>({time:M.timestamp,value:M.value})).uniqWith((M,R)=>M.time===R.time).orderBy(M=>M.time,"asc").value();if(L.length>0){a.setData(L);const M=L[0].time,R=L[L.length-1].time;t.timeScale().setVisibleRange({from:M,to:R}),u=Math.min(...L.map(Q=>Q.value)),l=Math.max(...L.map(Q=>Q.value))}},$=I=>{if(!t||!s)return;const L=z.chain(I).map(M=>({time:M.timestamp,value:M.volume})).uniqWith((M,R)=>M.time===R.time).orderBy(M=>M.time,"asc").value();L.length>0&&s.setData(L)},A=I=>{const L=l-u,M=L>1?L-Math.floor(L):L,R=-Math.floor(Math.log10(M)+1)+2;return`${J(I,R,"dollar")}${j(I,"dollar")}`};return(I,L)=>(b(),D(n(Y),{class:"prices",title:n(e)("title")},{default:y(()=>[c("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"]))}});function co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])}}})}typeof co=="function"&&co(Hs);const Pf=S(Hs,[["__scopeId","data-v-4a0b4d21"]]),Df={class:"curve-monitor"},Mf={key:0,class:"data"},uo="https://ws.llama.airforce:2053",Tf=k({__name:"Monitor",setup(o){const e=gh(uo),t=new rh(e),a=Fe(),s=Ke(),l=we();l.socket=e;const u=C(()=>l.pool!==null);let p="";q(async()=>{const v=a.params.pool;await d(v),e.connect()});const i=async(v,h)=>{var m;p!==v.id&&(l.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(m=l.socketPool)==null||m.close(),l.socketPool=$h(l,uo,l.pool.id),p=l.pool.id,h&&await s.push({name:"curvemonitor",params:{pool:l.pool.id}}))},d=async v=>{v&&typeof v=="string"&&await i({id:v,name:"???"},!1)};return T(()=>l.pool,async v=>{await i(v,!0)}),T(()=>a.params,async v=>{const h=v.pool;await d(h)}),(v,h)=>(b(),w("div",Df,[_(Nh,{class:"header","pool-service":n(t)},null,8,["pool-service"]),u.value?(b(),w("div",Mf,[_(df,{class:"controls"}),_(Pf,{class:"prices"}),_(xf,{class:"transactions"}),_(Lf,{class:"balances"}),_(Af,{class:"tvl"}),_(If,{class:"bonding"})])):V("",!0)]))}});const Vf=S(Tf,[["__scopeId","data-v-da95628e"]]);class Ns{constructor(e){this.socket=e}search(e){const t=new Promise(a=>{this.socket.once("userSearchResult",s=>{a(s)})});return this.socket.emit("getUserSearchResult",e),t}getSandwichLabelOccurrences(){const e=new Promise(t=>{this.socket.once("sandwichLabelOccurrences",a=>{t(a)})});return this.socket.emit("getSandwichLabelOccurrences"),e}getAbsoluteLabelsRanking(){const e=new Promise(t=>{this.socket.once("absoluteLabelsRanking",a=>{t(a)})});return this.socket.emit("getAbsoluteLabelsRanking"),e}getSandwiches(e=1){const t=new Promise(a=>{this.socket.once("fullSandwichTableContent",({data:s,totalPages:l})=>{a({sandwiches:s,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",e),t}}const kt=Ae({id:"mevStore",state:()=>({socket:null,sandwiches:[],sandwichesPage:{cur:0,total:0},labelRankingShort:[],labelRankingExtended:[]})}),zf=k({__name:"LabelsWorstRelative",setup(o){const e=kt(),t=N(),a=i=>i.filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,v)=>v.ratio-d.ratio).slice(0,10),s=C(()=>a(e.labelRankingExtended).map(i=>i.label)),l=C(()=>a(e.labelRankingExtended).map(i=>i.ratio)),u=C(()=>{const i=E(t.theme),d=X(t.theme);return de({colors:i,colorsArray:d},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:v=>{const h=v.w.globals.labels[v.seriesIndex],g=v.series[v.seriesIndex];return[`<div><b>${h}</b>:</div><div>Ratio: ${p(g)}</div>`].join("")}},labels:s.value})}),p=i=>`${i}%`;return(i,d)=>(b(),D(n(ve),{class:"mevLabels",title:"Worst relative offenders",options:u.value,series:l.value},null,8,["options","series"]))}});const Bf=S(zf,[["__scopeId","data-v-8dc7cde4"]]),Of=k({__name:"LabelsWorstAbsolute",setup(o){const e=kt(),t=N(),a=i=>i.filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,v)=>v.occurrences-d.occurrences).slice(0,10),s=C(()=>a(e.labelRankingExtended).map(i=>i.label)),l=C(()=>a(e.labelRankingExtended).map(i=>i.occurrences)),u=C(()=>{const i=E(t.theme),d=X(t.theme);return de({colors:i,colorsArray:d},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:v=>{const h=v.w.globals.labels[v.seriesIndex],g=v.series[v.seriesIndex];return[`<div><b>${h}</b>:</div><div>Occurences: ${p(g)}</div>`].join("")}},labels:s.value})}),p=i=>`${i}`;return(i,d)=>(b(),D(n(ve),{class:"mevLabels",title:"Worst absolute offenders",options:u.value,series:l.value},null,8,["options","series"]))}});const Rf=S(Of,[["__scopeId","data-v-38c6209e"]]),Ff={class:"title"},Uf={key:0,class:"fas fa-arrow-up"},Ef={key:1,class:"fas fa-arrow-down"},Wf={key:2,class:"fas fa-exchange-alt"},qf={key:0,class:"number"},Hf=["href"],Nf=["href"],Gf=["href"],Qf=["innerHTML"],Yf={key:1,class:"number"},mt=10,Gs=k({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=P(""),a=P(["swap","deposit","remove"]),s=P(1),l=P(Date.now()),u=C(()=>o.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),p=C(()=>z.chain(o.txs).filter(m=>a.value.includes(m.transaction_type)).filter(m=>{const r=t.value.toLocaleLowerCase().split(" "),f=$=>r.some(A=>$.toLocaleLowerCase().includes(A));return f(m.block_number.toString())||f(m.trader)||f(m.tx_hash)}).value()),i=C(()=>z.chain(p.value).drop((s.value-1)*mt).take(mt).value());q(()=>{setInterval(()=>{l.value=Date.now()})});const d=m=>na(l,m),v=m=>{if(m.transaction_type==="swap"){const r=m.coins_leaving_wallet[0],f=m.coins_entering_wallet[0],$=ze(parseFloat(r.amount)),A=ze(parseFloat(f.amount)),I=`<span>${$} ${r.name}</span>`,L="<i class='fas fa-arrow-right'></i>",M=`<span style='justify-self: end;'>${A} ${f.name}</span>`;return`${I}${L}${M}`}else if(m.transaction_type==="deposit"){const r=m.coins_entering_wallet[0];return`${ze(parseFloat(r.amount))} ${r.name}`}else if(m.transaction_type==="remove"){const r=m.coins_leaving_wallet[0];return`${ze(parseFloat(r.amount))} ${r.name}`}return"???"},h=m=>{s.value=m},g=m=>{m===0?a.value=["swap","deposit","remove"]:m===1?a.value=["swap"]:m===2?a.value=["deposit"]:m===3?a.value=["remove"]:a.value=[]};return T(i,m=>{m.length===0&&(s.value=Math.max(1,Math.ceil(p.value.length/mt)))}),(m,r)=>(b(),D(n(ye),{class:F(["datatable-trades",{compact:m.compact,time:m.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:i.value,columns:u.value,header:m.header},Qt({row:y(f=>[c("div",{class:F(["type",{deposit:f.item.transaction_type==="deposit",remove:f.item.transaction_type==="remove",swap:f.item.transaction_type==="swap"}])},[f.item.transaction_type==="deposit"?(b(),w("i",Uf)):f.item.transaction_type==="remove"?(b(),w("i",Ef)):(b(),w("i",Wf)),W(" "+x(n(e)(f.item.transaction_type)),1)],2),m.time?(b(),w("div",qf,[c("a",{class:"vote-link",href:`https://etherscan.io/block/${f.item.block_number}`,target:"_blank"},x(f.item.block_number),9,Hf)])):V("",!0),c("div",{onClick:r[2]||(r[2]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${f.item.tx_hash}`,target:"_blank"},x(n(Se)(f.item.tx_hash)),9,Nf)]),c("div",{onClick:r[3]||(r[3]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/address/${f.item.trader}`,target:"_blank"},x(n(Se)(f.item.trader)),9,Gf)]),c("div",{class:F(["assets",{swap:f.item.transaction_type==="swap"}]),innerHTML:v(f.item)},null,10,Qf),m.time?(b(),w("div",Yf,x(d(f.item.block_unixtime)),1)):V("",!0)]),_:2},[m.header?{name:"header-title",fn:y(()=>[c("div",Ff,x(n(e)("title")),1),_(n(Ze),{class:"types",onTab:r[0]||(r[0]=f=>g(f.index))},{default:y(()=>[_(n(le),{header:"All"}),_(n(le),{header:"Swaps"}),_(n(le),{header:"Deposits"}),_(n(le),{header:"Removals"})]),_:1}),_(n(pe),{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=f=>t.value=f),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,m.header?{name:"header-actions",fn:y(()=>[_(n(Je),{class:"pagination","items-count":p.value.length,"items-per-page":mt,page:s.value,onPage:h},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns","header"]))}});function po(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},remove:t=>{const{normalize:a}=t;return a(["Remove"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof po=="function"&&po(Gs);const jf=S(Gs,[["__scopeId","data-v-ec01a97f"]]),Jf={class:"title"},Kf=["href"],Zf={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Xf=["href"],eg={class:"number"},Dt=10,Qs=k({__name:"Sandwiches",setup(o){const{t:e}=B(),t=kt(),{expanded:a,toggleExpansion:s}=Zo(),l=P(""),u=P(Date.now()),p=C(()=>t.sandwichesPage.cur),i=C(()=>t.sandwichesPage.total*Dt),d=C(()=>z.chain(t.sandwiches).filter(m=>{const r=l.value.toLocaleLowerCase().split(" "),f=$=>r.some(A=>$.toLocaleLowerCase().includes(A));return f(m.poolName.toString())||f(m.poolAddress.toString())||f(m.label.toString())}).orderBy([m=>m.frontrun.block_unixtime,m=>m.frontrun.tx_position],"desc").value());q(()=>{setInterval(()=>{u.value=Date.now()})});const v=m=>na(u,m),h=m=>z.orderBy([m.frontrun,...m.center,m.backrun],[r=>r.block_unixtime,r=>r.tx_position]),g=async m=>{if(!t.socket)return;const r=new Ns(t.socket),{sandwiches:f,totalPages:$}=await r.getSandwiches(m);t.sandwiches=f,t.sandwichesPage={cur:m,total:$}};return(m,r)=>(b(),D(n(ye),{class:"datatable-sandwiches","columns-header":"auto 1fr auto","columns-data":"sandwiches-columns-data",rows:d.value,columns:["Pool","Action","Affected Contract","Time"],expanded:n(a),onSelected:r[1]||(r[1]=f=>n(s)(f))},Qt({"header-title":y(()=>[c("div",Jf,x(n(e)("title")),1),_(n(pe),{modelValue:l.value,"onUpdate:modelValue":r[0]||(r[0]=f=>l.value=f),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(f=>[c("div",null,[c("a",{class:"vote-link",href:`https://etherscan.io/address/${f.item.poolAddress}`,target:"_blank"},x(f.item.poolName),9,Kf)]),c("div",null,[c("div",Zf,[c("a",{class:"vote-link",style:{"font-family":"monospace"},target:"_blank",href:`https://etherscan.io/address/${f.item.center[0].trader}`},x(n(Se)(f.item.center[0].trader)),9,Xf),c("span",null," lost "+x(n(ze)(f.item.user_losses_details.reduce(($,A)=>$+A.amount,0)))+" "+x(f.item.user_losses_details[0].unit),1),c("span",null,x(n(ze)(-f.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+x(n(ze)(f.item.lossInUsd)),1)])]),c("div",null,x(f.item.label),1),c("div",eg,x(v(f.item.frontrun.block_unixtime)),1)]),"row-details":y(f=>[_(jf,{class:"transactions",txs:h(f.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:2},[i.value>Dt?{name:"header-actions",fn:y(()=>[_(n(Je),{class:"pagination","items-count":i.value,"items-per-page":Dt,page:p.value,onPage:g},null,8,["items-count","page"])]),key:"0"}:void 0]),1032,["rows","expanded"]))}});function _o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Sandwiches"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof _o=="function"&&_o(Qs);const tg=S(Qs,[["__scopeId","data-v-5e2ab039"]]),ag={class:"mev"},og="wss://api.curvemonitor.com",sg=k({__name:"MEV",setup(o){const e=yh(og),t=new Ns(e),a=kt();return a.socket=e,q(()=>{e.connect(),t.getSandwichLabelOccurrences().then(s=>{a.labelRankingExtended=s}),t.getSandwiches().then(s=>{a.sandwiches=s.sandwiches,a.sandwichesPage={cur:1,total:s.totalPages}})}),(s,l)=>(b(),w("div",ag,[_(Bf,{style:{"grid-row":"1","grid-column":"1"}}),_(Rf,{style:{"grid-row":"1","grid-column":"2"}}),_(tg,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const ng=S(sg,[["__scopeId","data-v-25cc261e"]]);function De(o){return o.executed?"executed":o.end>new Date().getTime()/1e3?"active":Js(o)&&js(o)&&Ys(o)?"passed":"denied"}function Ys(o){return o.votesFor>o.support*o.quorum*o.totalSupply}function js(o){return o.votesFor+o.votesAgainst>o.quorum*o.totalSupply}function Js(o){return o.votesFor>o.votesAgainst}const Ks=k({__name:"Status",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>{if(De(o.proposal)==="denied")if(js(o.proposal))if(Js(o.proposal)){if(!Ys(o.proposal))return e("no-support")}else return e("no-win");else return e("no-quorum");return""}),a=C(()=>{switch(De(o.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,l)=>(b(),D(n(Pe),{class:"status","tooltip-type":"underline",label:n(e)("status"),"has-value":!0,tooltip:t.value},{default:y(()=>[t.value?(b(),D(n(Te),{key:0},{item:y(()=>[c("span",{class:F(["status-value",n(De)(s.proposal)])},x(a.value),3)]),default:y(()=>[W(" "+x(t.value),1)]),_:1})):(b(),w("span",{key:1,class:F(["status-value",n(De)(s.proposal)])},x(a.value),3))]),_:1},8,["label","tooltip"]))}});function mo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:t=>{const{normalize:a}=t;return a(["Status"])},active:t=>{const{normalize:a}=t;return a(["Active"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])},"no-quorum":t=>{const{normalize:a}=t;return a(["Quorum was not reached"])},"no-support":t=>{const{normalize:a}=t;return a(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":t=>{const{normalize:a}=t;return a(["More 'against' votes than 'for' votes"])}}})}typeof mo=="function"&&mo(Ks);const lg=S(Ks,[["__scopeId","data-v-00fa2be1"]]),Zs=k({__name:"Type",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>{switch(o.proposal.type){case"gauge":return e("gauge");case"parameter":return e("parameter");case"other":return e("other");default:return"Unk. Type"}});return(a,s)=>(b(),D(n(Pe),{class:"type",label:n(e)("type"),value:t.value,"has-value":!0},null,8,["label","value"]))}});function vo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{type:t=>{const{normalize:a}=t;return a(["Type"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof vo=="function"&&vo(Zs);const rg=["href"],Xs=k({__name:"Proposer",props:{proposal:{}},setup(o){const{t:e}=B();return(t,a)=>(b(),D(n(Pe),{class:"proposer",label:n(e)("proposer"),"has-value":!0},{default:y(()=>[c("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},x(n(Se)(t.proposal.proposer)),9,rg)]),_:1},8,["label"]))}});function ho(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:t=>{const{normalize:a}=t;return a(["Proposer"])}}})}typeof ho=="function"&&ho(Xs);const Et=k({__name:"Date",props:{proposal:{},type:{}},setup(o){const{t:e}=B();let t;const a=P(""),s=C(()=>{switch(o.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),l=C(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString();case"end":{const i=new Date(o.proposal.end*1e3);return i>new Date?a.value:i.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=C(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString()+" "+new Date(o.proposal.start*1e3).toTimeString();case"end":return new Date(o.proposal.end*1e3).toLocaleDateString()+" "+new Date(o.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});q(()=>{p()});const p=()=>{const i=new Date(o.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=Jn(i)})};return(i,d)=>(b(),D(n(Pe),{class:"date","tooltip-type":"underline",label:s.value,value:l.value,"has-value":!0,tooltip:u.value},null,8,["label","value","tooltip"]))}});function fo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:t=>{const{normalize:a}=t;return a(["Start"])},end:t=>{const{normalize:a}=t;return a(["End"])}}})}typeof fo=="function"&&fo(Et);const ig=o=>(te("data-v-6bb4b64e"),o=o(),ae(),o),cg={class:"id"},ug={class:"metadata"},dg={class:"row"},pg=ig(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),_g=[pg],en=k({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(b(),w("div",{class:"proposal-summary",onClick:s[0]||(s[0]=l=>e("toggleExpand"))},[c("div",{class:F(["title",{"no-title":!a.proposal.metadata}])},[c("div",cg,x(a.proposal.id),1),c("div",ug,x(a.proposal.metadata||n(t)("no-title")),1)],2),c("div",dg,[_(lg,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Zs,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Xs,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Et,{class:"item",proposal:a.proposal,type:"start"},null,8,["proposal"]),_(Et,{class:"item",proposal:a.proposal,type:"end"},null,8,["proposal"]),c("div",{class:F(["item expander",{expanded:a.expanded}])},_g,2)])]))}});function go(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":t=>{const{normalize:a}=t;return a(["< No Title >"])}}})}typeof go=="function"&&go(en);const mg=S(en,[["__scopeId","data-v-6bb4b64e"]]),at=o=>(te("data-v-96bba83b"),o=o(),ae(),o),vg={class:"results"},hg={class:"heading"},fg={class:"choice"},gg={class:"label"},bg={class:"amount"},yg={class:"left"},$g=at(()=>c("span",null," veCRV",-1)),wg={class:"right"},kg=at(()=>c("span",null,"(",-1)),Cg=at(()=>c("span",null,")",-1)),Sg={class:"choice"},xg={class:"label"},Ag={class:"amount"},Ig={class:"left"},Lg=at(()=>c("span",null," veCRV",-1)),Pg={class:"right"},Dg=at(()=>c("span",null,"(",-1)),Mg=at(()=>c("span",null,")",-1)),bo=4,tn=k({__name:"VotingResults",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=C(()=>o.proposal.votesFor/t.value*100),s=C(()=>o.proposal.votesAgainst/t.value*100);return(l,u)=>(b(),w("div",vg,[c("div",hg,x(n(e)("results")),1),c("div",fg,[c("div",gg,x(n(e)("for")),1),c("div",bg,[c("div",yg,[_(n(O),{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),$g]),c("div",wg,[kg,_(n(O),{value:a.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Cg])]),c("div",{class:"bar",style:me({width:`${Math.max(bo,a.value)}%`})},null,4)]),c("div",Sg,[c("div",xg,x(n(e)("against")),1),c("div",Ag,[c("div",Ig,[_(n(O),{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Lg]),c("div",Pg,[Dg,_(n(O),{value:s.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Mg])]),c("div",{class:"bar",style:me({width:`${Math.max(bo,s.value)}%`})},null,4)])]))}});function yo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{results:t=>{const{normalize:a}=t;return a(["Results"])},for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof yo=="function"&&yo(tn);const Tg=S(tn,[["__scopeId","data-v-96bba83b"]]),Vg=o=>(te("data-v-566e4086"),o=o(),ae(),o),zg={class:"quorum"},Bg={class:"heading"},Og={class:"amount"},Rg={class:"bar"},Fg={class:"percentages"},Ug=Vg(()=>c("div",{class:"zero"},"0%",-1)),Eg={class:"quorum"},an=k({__name:"VotingQuorum",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=C(()=>o.proposal.quorum*o.proposal.totalSupply),s=C(()=>t.value/a.value*100);return(l,u)=>(b(),w("div",zg,[c("div",Bg,x(n(e)("quorum")),1),c("div",Og,[_(n(O),{value:t.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),W(" / "),_(n(O),{value:a.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),W(" veCRV ")]),c("div",Rg,[c("div",{class:"support",style:me({width:`${s.value}%`})},null,4),c("div",{class:"quorum",style:me({width:`${100-s.value}%`})},null,4)]),c("div",Fg,[Ug,c("div",Eg,[_(n(O),{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])]))}});function $o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:t=>{const{normalize:a}=t;return a(["Quorum"])}}})}typeof $o=="function"&&$o(an);const Wg=S(an,[["__scopeId","data-v-566e4086"]]),qg={class:"buttons"},Hg={class:"heading"},Ng={class:"buttons"},on=k({__name:"VotingButtons",setup(o){const{t:e}=B();return(t,a)=>(b(),w("div",qg,[c("div",Hg,x(n(e)("voting")),1),c("div",Ng,[_(n(Z),{value:n(e)("view-discussion"),primary:!1,disabled:!0},null,8,["value"]),_(n(Z),{value:n(e)("vote-vecrv"),primary:!0,disabled:!0},null,8,["value"]),_(n(Z),{value:n(e)("vote-cvx"),primary:!0,disabled:!0},null,8,["value"])])]))}});function wo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{voting:t=>{const{normalize:a}=t;return a(["Voting"])},"view-discussion":t=>{const{normalize:a}=t;return a(["View Discussion"])},"vote-vecrv":t=>{const{normalize:a}=t;return a(["Vote with veCRV"])},"vote-cvx":t=>{const{normalize:a}=t;return a(["Vote with CVX"])}}})}typeof wo=="function"&&wo(on);const Gg=S(on,[["__scopeId","data-v-b88ba085"]]),Qg={class:"voting"},Yg=k({__name:"Voting",props:{proposal:{}},setup(o){return(e,t)=>(b(),w("div",Qg,[Mo(_(Gg,null,null,512),[[To,!1]]),_(Wg,{proposal:e.proposal},null,8,["proposal"]),_(Tg,{proposal:e.proposal},null,8,["proposal"])]))}});const jg=S(Yg,[["__scopeId","data-v-3e562905"]]),Jg={class:"voters"},Kg={class:"for"},Zg={class:"title"},Xg={class:"address"},eb=["href"],tb={class:"amount"},ab={class:"percentage"},ob={class:"against"},sb={class:"title"},nb={class:"percentage"},lb={class:"amount"},rb={class:"address"},ib=["href"],sn=k({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(u=>u.supports).orderBy(u=>u.stake,"desc").value():null),a=C(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(u=>!u.supports).orderBy(u=>u.stake,"desc").value():null),s=u=>u==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":u==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":u==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Se(u,12),l=u=>u/(o.proposal.votesFor+o.proposal.votesAgainst)*100;return(u,p)=>(b(),w("div",Jg,[c("div",Kg,[c("div",Zg,x(n(e)("for")),1),(b(!0),w(se,null,ce(t.value,i=>(b(),w("div",{key:i.voter,class:"vote"},[c("div",Xg,[c("a",{href:`https://etherscan.io/address/${i.voter}`,target:"_blank"},x(s(i.voter)),9,eb)]),c("div",tb,[_(n(O),{value:i.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",ab,[_(n(O),{value:l(i.stake),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),c("div",ob,[c("div",sb,x(n(e)("against")),1),(b(!0),w(se,null,ce(a.value,i=>(b(),w("div",{key:i.voter,class:"vote"},[c("div",nb,[_(n(O),{value:l(i.stake),precision:0,type:"percentage"},null,8,["value"])]),c("div",lb,[_(n(O),{value:i.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",rb,[c("a",{href:`https://etherscan.io/address/${i.voter}`,target:"_blank"},x(s(i.voter)),9,ib)])]))),128))])]))}});function ko(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof ko=="function"&&ko(sn);const cb=S(sn,[["__scopeId","data-v-7477ea0f"]]),ub="https://api-py.llama.airforce/curve/v1/dao/proposals",db="https://api-py.llama.airforce/curve/v1/dao/proposals/ownership/",pb="https://api-py.llama.airforce/curve/v1/dao/proposals/parameter/",_b=o=>{const e=o.voteId,t=o.voteType==="PARAMETER"?"parameter":"gauge",a=o.metadata,s=o.creator,l=parseInt(o.startDate,10),u=l+604800,p=ot(BigInt(o.minAcceptQuorum),18n),i=ot(BigInt(o.supportRequired),18n),d=parseInt(o.voteCount,10),v=ot(BigInt(o.votesFor),18n),h=ot(BigInt(o.votesAgainst),18n),g=o.executed,m=ot(BigInt(o.totalSupply),18n);return{id:e,type:t,metadata:a,proposer:s,start:l,end:u,quorum:p,support:i,votes:d,votesFor:v,votesAgainst:h,executed:g,totalSupply:m}},mb=o=>{const e=o.script,t=o.votes.map(a=>({voter:a.voter,supports:a.supports,stake:a.stake/Math.pow(10,18)}));return{script:e,votes:t}};class nn extends $e{async getProposals(){return(await this.fetch(ub)).proposals.map(_b)}async getProposalDetails(e){const t=e.type==="gauge"?db:pb,a=await this.fetch(`${t}${e.id}`);return mb(a)}}const vb={class:"technicals"},hb={class:"technical"},fb={class:"heading"},gb={class:"description"},bb={class:"technical"},yb={class:"technical"},$b=["innerHTML"],ln=k({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){const{t:e}=B(),t=new nn(H()),a=P(null),s=P(!0),l=P(o.proposal.votes>0),u=C(()=>a.value?a.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,p=>/[A-F]/g.test(p)&&Mt.isAddress(p)?`<a href='https://etherscan.io/address/${p}'>${p}</a>`:p):null);return T(()=>o.expanded,async p=>{p&&a.value===null&&(a.value=await t.getProposalDetails(o.proposal))},{immediate:!0}),(p,i)=>(b(),w("div",vb,[c("div",hb,[c("div",fb,x(n(e)("description")),1),c("div",gb,x(p.proposal.metadata),1)]),c("div",bb,[c("div",{class:"heading",onClick:i[0]||(i[0]=d=>l.value=!l.value)},[W(x(n(e)("voters"))+" ("+x(p.proposal.votes)+") ",1),c("i",{class:F(["fas fa-chevron-up expander",{expandedVoters:l.value}])},null,2)]),_(n(Oe),{expanded:l.value},{default:y(()=>[a.value?(b(),D(cb,{key:0,class:"voters",proposal:p.proposal,"proposal-details":a.value},null,8,["proposal","proposal-details"])):V("",!0)]),_:1},8,["expanded"])]),c("div",yb,[c("div",{class:"heading",onClick:i[1]||(i[1]=d=>s.value=!s.value)},[W(x(n(e)("calldata"))+" ",1),c("i",{class:F(["fas fa-chevron-up expander",{expandedCallData:s.value}])},null,2)]),_(n(Oe),{expanded:s.value},{default:y(()=>[a.value?(b(),w("div",{key:0,class:"calldata",innerHTML:u.value},null,8,$b)):V("",!0)]),_:1},8,["expanded"])])]))}});function Co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:t=>{const{normalize:a}=t;return a(["Description"])},calldata:t=>{const{normalize:a}=t;return a(["Calldata"])},voters:t=>{const{normalize:a}=t;return a(["Voters"])}}})}typeof Co=="function"&&Co(ln);const wb=S(ln,[["__scopeId","data-v-59fbdfd4"]]),kb={class:"proposal-details"},Cb={class:"proposal-details-container"},Sb=k({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){return(e,t)=>(b(),w("div",kb,[c("div",Cb,[_(wb,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),_(jg,{proposal:e.proposal},null,8,["proposal"])])]))}});const xb=S(Sb,[["__scopeId","data-v-71d3377a"]]),Ab=k({__name:"Proposal",props:{proposal:{}},setup(o){const e=P(!1);return(t,a)=>(b(),D(n(Y),{class:"proposal",compact:!0},{default:y(()=>[_(mg,{proposal:t.proposal,expanded:e.value,onToggleExpand:a[0]||(a[0]=s=>e.value=!e.value)},null,8,["proposal","expanded"]),_(n(Oe),{class:"proposal-details-collapsible",expanded:e.value},{default:y(()=>[_(xb,{proposal:t.proposal,expanded:e.value},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1}))}});const Ib=S(Ab,[["__scopeId","data-v-df8bfdec"]]),Lb=["gauge","parameter","other"],Pb={class:"item"},Db={class:"label"},rn=k({__name:"ProposalTypeSelect",emits:["select"],setup(o,{emit:e}){const{t}=B(),a=["all",...Lb],s=P(!1),l=P("all"),u=()=>{s.value=!s.value},p=i=>{l.value=i,e("select",l.value)};return(i,d)=>(b(),D(n(Re),{class:"select",options:a.map(v=>v),selected:l.value,open:s.value,onOpen:u,onClose:d[0]||(d[0]=v=>s.value=!1),onInput:p},{item:y(v=>[c("div",Pb,[c("div",Db,x(n(t)(v.item)),1)])]),_:1},8,["options","selected","open"]))}});function So(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof So=="function"&&So(rn);const Mb=S(rn,[["__scopeId","data-v-9a121ace"]]),Tb={class:"proposals-tab"},Vb={class:"filters"},zb={key:1},st=10,cn=k({__name:"ProposalsTab",props:{proposals:{}},setup(o){const{t:e}=B(),t=P(1),a=P(""),s=P(e("search-placeholder")),l=P("all"),u=C(()=>{const v=a.value.toLocaleLowerCase(),h=l.value==="all"?()=>!0:g=>g.type===l.value;return z.chain(o.proposals).filter(h).filter(g=>g.metadata.toLocaleLowerCase().includes(v)).value()}),p=C(()=>z.chain(u.value).drop((t.value-1)*st).take(st).value()),i=v=>{l.value=v},d=v=>{t.value=v};return T(p,v=>{v.length===0&&(t.value=Math.max(1,Math.ceil(u.value.length/st)))}),(v,h)=>(b(),w("div",Tb,[c("div",Vb,[_(n(pe),{modelValue:a.value,"onUpdate:modelValue":h[0]||(h[0]=g=>a.value=g),class:"search",placeholder:s.value,search:!0},null,8,["modelValue","placeholder"]),_(Mb,{onSelect:i}),u.value.length>0?(b(),D(n(Je),{key:0,class:"pagination","items-count":u.value.length,"items-per-page":st,page:t.value,onPage:d},null,8,["items-count","page"])):V("",!0)]),(b(!0),w(se,null,ce(p.value,g=>(b(),D(Ib,{key:g.id,proposal:g},null,8,["proposal"]))),128)),u.value.length>0?(b(),D(n(Je),{key:0,class:"pagination","items-count":u.value.length,"items-per-page":st,page:t.value,onPage:d},null,8,["items-count","page"])):V("",!0),u.value.length===0?(b(),w("div",zb,x(n(e)("no-proposals")),1)):V("",!0)]))}});function xo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve proposals"])},"no-proposals":t=>{const{normalize:a}=t;return a(["No proposals could be found."])}}})}typeof xo=="function"&&xo(cn);const nt=S(cn,[["__scopeId","data-v-2f239d56"]]),Bb={class:"proposals"},un=k({__name:"Proposals",setup(o){const{t:e}=B(),t=new nn(H()),a=P(0),{loading:s,data:l,loadData:u}=oe(()=>vt(t.getProposals().then(h=>h.sort((g,m)=>m.start-g.start)),1e3),[]),p=C(()=>l.value.filter(h=>De(h)==="active")),i=C(()=>l.value.filter(h=>De(h)==="passed")),d=C(()=>l.value.filter(h=>De(h)==="denied")),v=C(()=>l.value.filter(h=>De(h)==="executed"));return q(()=>void u()),(h,g)=>(b(),w("div",Bb,[n(s)?(b(),D(n(rt),{key:1,class:"spinner"})):(b(),D(n(Ze),{key:0,onTab:g[0]||(g[0]=m=>a.value=m.index)},{default:y(()=>[_(n(le),{header:n(e)("all")},{default:y(()=>[a.value===0?(b(),D(nt,{key:0,proposals:n(l)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("active")},{default:y(()=>[a.value===1?(b(),D(nt,{key:0,proposals:p.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("passed")},{default:y(()=>[a.value===2?(b(),D(nt,{key:0,proposals:i.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("denied")},{default:y(()=>[a.value===3?(b(),D(nt,{key:0,proposals:d.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("executed")},{default:y(()=>[a.value===4?(b(),D(nt,{key:0,proposals:v.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"])]),_:1}))]))}});function Ao(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},active:t=>{const{normalize:a}=t;return a(["Active"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])}}})}typeof Ao=="function"&&Ao(un);const Ob=S(un,[["__scopeId","data-v-b878a294"]]),Rb={class:"form"},Fb={class:"field"},Ub={class:"label"},Eb={class:"value"},Wb={class:"field"},qb={class:"label"},Hb={class:"value"},dn=k({__name:"DeployGauge",emits:["gauge"],setup(o,{emit:e}){const{t}=B(),a=P(!1),s=P(""),l=P(0),u=C(()=>Jt),p=C(()=>zo(s.value.toLocaleLowerCase())&&l.value>0),i=async()=>{const d=Be();if(!d||!s.value||!l.value)return;const v=d.getSigner(),h=Ho.connect(Fo,v);a.value=!0,typeof l.value=="string"&&(l.value=parseFloat(l.value));const g=Kn(l.value,18n);try{const m=await h.deploy_gauge(s.value.toLocaleLowerCase(),g);e("gauge",m)}catch(m){m instanceof Error&&Wt({text:m.message,type:"error"})}finally{a.value=!1}};return(d,v)=>(b(),D(n(Y),{class:"add-new",title:"Gauge Creation"},{default:y(()=>[c("div",Rb,[c("div",Fb,[c("div",Ub,x(n(t)("receiver"))+":",1),c("div",Eb,[_(n(pe),{modelValue:s.value,"onUpdate:modelValue":v[0]||(v[0]=h=>s.value=h),placeholder:u.value},null,8,["modelValue","placeholder"])])]),c("div",Wb,[c("div",qb,x(n(t)("amount"))+":",1),c("div",Hb,[_(n(Zt),{modelValue:l.value,"onUpdate:modelValue":v[1]||(v[1]=h=>l.value=h),min:1,max:3303030299},null,8,["modelValue"])])])]),_(n(Z),{class:"action-button request",value:n(t)("submit"),disabled:!p.value||a.value,primary:!0,web3:!0,onClick:i},null,8,["value","disabled"])]),_:1}))}});function Io(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{receiver:t=>{const{normalize:a}=t;return a(["Receiver"])},amount:t=>{const{normalize:a}=t;return a(["CRV Amount (Max)"])},submit:t=>{const{normalize:a}=t;return a(["Create Fundraising Gauge"])}}})}typeof Io=="function"&&Io(dn);const Nb=S(dn,[["__scopeId","data-v-af82160d"]]),Gb={class:"form"},Qb={class:"field"},Yb={class:"label"},jb={class:"value"},Jb={class:"field"},Kb={class:"label"},Zb={class:"value"},pn=k({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(o,{emit:e}){const{t}=B(),a=P(!1),s=P(""),l=P(t("placeholder")),u=C(()=>Jt),p=C(()=>zo(s.value)&&!!l.value),i=C(()=>p.value&&!a.value);T(()=>o.gauge,h=>{s.value=h.toLocaleLowerCase()});const d=async()=>{const h=Be();if(!h||!s.value)return;const g=h.getSigner();a.value=!0;try{await v(g),e("request")}catch(m){m instanceof Error&&Wt({text:m.message,type:"error"})}finally{a.value=!1}},v=async h=>{const g="0xe478de485ad2fe566d49342cbd03e49ed7db3356",m="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",r=(vn,hn)=>String(vn).padStart(hn,"0"),f=qo.createInterface(),$=Eo.createInterface(),A="10",I=f.encodeFunctionData("add_gauge",[s.value,A,0]);let L="0x00000001";const M=$.encodeFunctionData("execute",[Uo,0,I]).substring(2),R=r((Math.floor(M.length)/2).toString(16),8);L=`${L}${m.substring(2)}${R}${M}`;const Q=new FormData,qe={text:l.value.replace(/(\r\n|\n|\r)/gm,"")};Q.append("file",JSON.stringify(qe));const Ct=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:Q})).json()).Hash;await Wo.connect(g,h).newVote(L,`ipfs:${Ct}`,!1,!1,{gasLimit:1e6})};return(h,g)=>(b(),D(n(Y),{class:"add-new",title:"Gauge Addition Vote"},{default:y(()=>[c("div",Gb,[c("div",Qb,[c("div",Yb,x(n(t)("gauge"))+":",1),c("div",jb,[_(n(pe),{modelValue:s.value,"onUpdate:modelValue":g[0]||(g[0]=m=>s.value=m),placeholder:u.value},null,8,["modelValue","placeholder"])])]),c("div",Jb,[c("div",Kb,x(n(t)("description"))+":",1),c("div",Zb,[_(n(pe),{modelValue:l.value,"onUpdate:modelValue":g[1]||(g[1]=m=>l.value=m)},null,8,["modelValue"])])])]),_(n(Z),{class:"action-button request",value:n(t)("submit"),disabled:!i.value,primary:!0,web3:!0,onClick:d},null,8,["value","disabled"])]),_:1}))}});function Lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{gauge:t=>{const{normalize:a}=t;return a(["Gauge Address"])},description:t=>{const{normalize:a}=t;return a(["Vote Description"])},placeholder:t=>{const{normalize:a}=t;return a(["Add a grant gauge: "])},submit:t=>{const{normalize:a}=t;return a(["Create Gauge Addition Vote"])}}})}typeof Lo=="function"&&Lo(pn);const Xb=S(pn,[["__scopeId","data-v-2e6343b9"]]),ey={class:"ve-funder"},ty={class:"explanation"},ay={class:"step-one"},oy=["innerHTML"],sy=["innerHTML"],ny={class:"step-two"},ly=["innerHTML"],ry={href:"https://gov.curve.fi/",target:"_blank"},iy={class:"forms"},_n=k({__name:"VeFunder",setup(o){const{t:e}=B(),t=P(""),a=s=>{t.value=s};return(s,l)=>(b(),w("div",ey,[c("div",ty,[_(n(Y),null,{default:y(()=>[c("div",ay,[c("span",{innerHTML:n(e)("process")},null,8,oy),c("ol",null,[c("li",null,x(n(e)("process-1")),1),c("li",{innerHTML:n(e)("process-2")},null,8,sy)])]),c("div",ny,[c("span",{innerHTML:n(e)("requirements")},null,8,ly),c("ol",null,[c("li",null,[W(x(n(e)("requirements-1a"))+" ",1),c("a",ry,x(n(e)("requirements-1b")),1)]),c("li",null,x(n(e)("requirements-2")),1)])])]),_:1})]),c("div",iy,[_(Nb,{onGauge:a}),_(Xb,{gauge:t.value},null,8,["gauge"])])]))}});function Po(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{process:t=>{const{normalize:a}=t;return a(["<strong>veFunder</strong> process:"])},"process-1":t=>{const{normalize:a}=t;return a(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":t=>{const{normalize:a}=t;return a(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:t=>{const{normalize:a}=t;return a(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":t=>{const{normalize:a}=t;return a(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":t=>{const{normalize:a}=t;return a(["at this address"])},"requirements-2":t=>{const{normalize:a}=t;return a(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Po=="function"&&Po(_n);const cy=S(_n,[["__scopeId","data-v-9fe06474"]]),uy={titleRoute:"/",routes:[{path:"/",component:jp},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/pools",component:w_},{path:"/platform/gauges",component:V_},{path:"/platform/revenue/:tab?",name:"revenue",component:pm},{path:"/platform/crvusd",name:"crvusd",component:iv},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:nh},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Vf},{path:"/pool/mev",component:ng},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:Ob},{path:"/dao/vefunder",component:cy}],menuItems:[{label:"Platform",children:[{to:"/platform/pools",label:"Pools"},{to:"/platform/gauges",label:"Gauges"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"}]},{label:"Pool",children:[{to:"/pool/monitor",label:"Live Monitor",tag:"beta"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};Yt.registerLanguage("xml",En);Yt.registerLanguage("scss",Wn);Yt.registerLanguage("typescript",qn);const la=Hn(dc),dy=Nn({legacy:!1,locale:"en",fallbackLocale:"en"});la.use(dy);const py=Gn();la.use(py);const _y=[Sp,uy],my=aa();my.pages=_y;const vy=kc();la.use(vy).use(Qn).use(Yn).use(Do).mount("#app");

import{_ as B}from"./KPI-Cjqd74Yi.js";import{_ as I}from"./AsyncValue-BoTp0lmc.js";import{_ as R}from"./SelectChain-CPwGoV-U.js";import{_ as U}from"./InputText-W81d_Oro.js";import{u as x}from"./chains-YkBsA6T6.js";import{u as z}from"./pools-B3VwJ2fl.js";import{d as A,f as S,h as T,o as b,w as d,b as e,u as o,a as c,c as L,F as N,l as D,t as q,_ as E,e as $,r as Q,a5 as K,a6 as O,$ as j,O as G}from"./index-OoCaSk_-.js";import{_ as H}from"./Table-KVWlDBXT.js";import{_ as J}from"./TokenIcon-BG3KzRIa.js";import{_ as M}from"./IconExpander-DSuYg5DV.js";import{u as W,_ as X}from"./UsePagination-xTAAkWFr.js";import{u as Y}from"./UseSort-BxlhOZaZ.js";import{a as Z}from"./index-BHuweXIS.js";import"./Number-BQpy3RI5.js";import"./ChainIcon-CLYGWCwm.js";import"./timestamp-DkvXAN4c.js";import"./useQuery-CpgIOpez.js";import"./timestamp-X9wFVw8g.js";import"./UseHost-BhfmJ_yK.js";const ee={class:"tokens"},oe={class:"end"},ae={class:"end"},se={class:"end"},te={class:"end"},ne={class:"end"},k=20,le=A({__name:"TablePools",props:{chain:{},pools:{}},emits:["select"],setup(F,{emit:y}){const v=y,l=["","",{id:"name",label:"Name",sort:!0},{id:"baseApr",label:"Base APR",sort:!0,align:"end"},{id:"fees",label:"Fees (24h)",sort:!0,align:"end"},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:r,onSort:p}=Y("tvl"),m=S(()=>F.pools.orderBy(a=>{switch(r.value.column){case"name":return a.name;case"baseApr":return a.baseDailyApr;case"fees":return a.tradingFee24h;case"volume":return a.tradingVolume24h;case"tvl":return a.tvlUsd;case"util":return g(a)}},r.value.order)),{page:P,rowsPage:w,onPage:V}=W(m,k);function g(a){return a.tvlUsd!==0?100*a.tradingVolume24h/a.tvlUsd:0}return(a,f)=>{const t=X,i=M,_=J,n=I,u=H,h=E;return b(),T(h,{title:"Pools"},{actions:d(()=>[e(t,{"items-count":a.pools.length,"items-per-page":k,page:o(P),onPage:o(V)},null,8,["items-count","page","onPage"])]),default:d(()=>[e(u,{class:"pools-table",rows:o(w),columns:l,sorting:o(r),onSortColumn:o(p),onSelect:f[0]||(f[0]=s=>v("select",s))},{row:d(({item:s})=>[e(i),c("div",ee,[(b(!0),L(N,null,D(s.coins,C=>(b(),T(_,{key:C.address,chain:a.chain,address:C.address},null,8,["chain","address"]))),128))]),c("div",null,q(s.name),1),c("div",oe,[e(n,{"show-zero":"",type:"percentage",value:s.baseDailyApr*100,precision:2},null,8,["value"])]),c("div",ae,[e(n,{"show-zero":"",type:"dollar",value:s.tradingFee24h,precision:2},null,8,["value"])]),c("div",se,[e(n,{"show-zero":"",type:"dollar",value:s.tradingVolume24h,precision:2},null,8,["value"])]),c("div",te,[e(n,{"show-zero":"",type:"dollar",value:s.tvlUsd,precision:2},null,8,["value"])]),c("div",ne,[e(n,{"show-zero":"",type:"percentage",value:g(s),precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),re=$(le,[["__scopeId","data-v-38260346"]]),ie={class:"dashboard"},ue={class:"toolbar"},ce=A({__name:"Pools.page",setup(F){const y=["ethereum","arbitrum"],v=Z("chain"),l=S({get(){return v.value?v.value:"ethereum"},set(t){v.value=t}}),r=Q(""),{isFetching:p,data:m}=x(l),{isFetching:P,data:w}=z(l),V=S(()=>(w.value?.pools??[]).filter(t=>{const i=r.value.toLocaleLowerCase().split(" "),_=n=>i.some(u=>n.toLocaleLowerCase().includes(u));return _(t.name)||_(t.address)})),{crumbs:g}=K(O());g.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}];const a=j(),f=async t=>{await a.push({name:"poolspool",params:{tab:"",chain:l.value,poolAddr:t.address}})};return(t,i)=>{const _=U,n=R,u=I,h=B;return b(),L("div",ie,[c("div",ue,[e(_,{modelValue:o(r),"onUpdate:modelValue":i[0]||(i[0]=s=>G(r)?r.value=s:null),search:"",placeholder:"Search for..."},null,8,["modelValue"]),e(n,{class:"chain-select",chain:o(l),chains:y,onSelectChain:i[1]||(i[1]=s=>l.value=s==="all"?"ethereum":s)},null,8,["chain"])]),e(h,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(p)},{default:d(()=>[e(u,{type:"dollar",value:o(m)?.total.tvl??0},null,8,["value"])]),_:1},8,["has-value"]),e(h,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(p)},{default:d(()=>[e(u,{type:"dollar",value:o(m)?.total.tradingVolume24h??0},null,8,["value"])]),_:1},8,["has-value"]),e(h,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(p)},{default:d(()=>[e(u,{type:"dollar",value:o(m)?.total.tradingFee24h??0},null,8,["value"])]),_:1},8,["has-value"]),e(h,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(p)},{default:d(()=>[e(u,{type:"dollar",value:o(m)?.total.liquidityFee24h??0},null,8,["value"])]),_:1},8,["has-value"]),e(re,{style:{"grid-area":"pools"},chain:o(l),pools:o(V),loading:o(P),onSelect:f},null,8,["chain","pools","loading"])])}}}),Ae=$(ce,[["__scopeId","data-v-de200a3b"]]);export{Ae as default};

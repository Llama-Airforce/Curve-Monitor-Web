import{d as F,z as S,h as T,o as b,w as d,a,u as o,b as m,c as L,F as R,r as U,t as x,V as $,_ as z,g as B,I as N,ab as A,ac as q,ad as E,a1 as Q,L as D,aa as K}from"./index-BYnNAfSP.js";import{_ as j}from"./SelectChain-JCHea49Q.js";import{_ as G}from"./InputText-B41kNJQc.js";import{u as H}from"./pools-D9I0ZJpp.js";import{_ as J}from"./Table-CkrHHA0S.js";import{_ as M}from"./TokenIcon-CTWhTb_X.js";import{_ as O}from"./IconExpander-Cg0RjqCc.js";import{u as W,_ as X}from"./UsePagination-6my4nle6.js";import{u as Y}from"./UseSort-BgHBlkv6.js";import{a as Z}from"./index-CQR0y8Z1.js";import"./Chain-DEbNFSfB.js";const ee={class:"tokens"},oe={class:"end"},ae={class:"end"},se={class:"end"},k=20,ne=F({__name:"TablePools",props:{chain:{},pools:{}},emits:["select"],setup(C,{emit:y}){const h=y,l=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:r,onSort:_}=Y("tvl"),p=S(()=>C.pools.orderBy(s=>{switch(r.value.column){case"name":return s.name;case"volume":return s.tradingVolume24h;case"tvl":return s.tvlUsd;case"util":return v(s)}},r.value.order)),{page:P,rowsPage:V,onPage:w}=W(p,k);function v(s){return s.tvlUsd!==0?100*s.tradingVolume24h/s.tvlUsd:0}return(s,f)=>{const n=X,t=O,g=M,u=$,i=J,c=z;return b(),T(c,{title:"Pools"},{actions:d(()=>[a(n,{"items-count":s.pools.length,"items-per-page":k,page:o(P),onPage:o(w)},null,8,["items-count","page","onPage"])]),default:d(()=>[a(i,{class:"pools-table",rows:o(V),columns:l,sorting:o(r),onSortColumn:o(_),onSelect:f[0]||(f[0]=e=>h("select",e))},{row:d(({item:e})=>[a(t),m("div",ee,[(b(!0),L(R,null,U(e.coins,I=>(b(),T(g,{key:I.address,chain:s.chain,address:I.address},null,8,["chain","address"]))),128))]),m("div",null,x(e.name),1),m("div",oe,[a(u,{"show-zero":"",type:"dollar",value:e.tradingVolume24h,precision:2},null,8,["value"])]),m("div",ae,[a(u,{"show-zero":"",type:"dollar",value:e.tvlUsd,precision:2},null,8,["value"])]),m("div",se,[a(u,{"show-zero":"",type:"percentage",value:v(e),precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),te=B(ne,[["__scopeId","data-v-9c02ce04"]]),le={class:"dashboard"},re={class:"toolbar"},ue=F({__name:"Pools.page",setup(C){const y=["ethereum","arbitrum"],h=Z("chain"),l=S({get(){return h.value?h.value:"ethereum"},set(n){h.value=n}}),r=N(""),{isFetching:_,data:p}=A(l),{isFetching:P,data:V}=H(l),w=S(()=>{var n;return(((n=V.value)==null?void 0:n.pools)??[]).filter(t=>{const g=r.value.toLocaleLowerCase().split(" "),u=i=>g.some(c=>i.toLocaleLowerCase().includes(c));return u(t.name)||u(t.address)})}),{crumbs:v}=q(E());v.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}];const s=Q(),f=async n=>{await s.push({name:"poolspool",params:{tab:"",chain:l.value,poolAddr:n.address}})};return(n,t)=>{const g=G,u=j,i=$,c=K;return b(),L("div",le,[m("div",re,[a(g,{modelValue:o(r),"onUpdate:modelValue":t[0]||(t[0]=e=>D(r)?r.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"]),a(u,{class:"chain-select",chain:o(l),chains:y,onSelectChain:t[1]||(t[1]=e=>l.value=e==="all"?"ethereum":e)},null,8,["chain"])]),a(c,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(_)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tvl)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(_)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tradingVolume24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(_)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tradingFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(_)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.liquidityFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(te,{style:{"grid-area":"pools"},chain:o(l),pools:o(w),loading:o(P),onSelect:f},null,8,["chain","pools","loading"])])}}}),ye=B(ue,[["__scopeId","data-v-163e5236"]]);export{ye as default};

import{_ as R}from"./KPI-DJo4Go3U.js";import{_ as I}from"./AsyncValue-DZNACt7t.js";import{_ as U}from"./SelectChain-CPKR47bH.js";import{_ as x}from"./InputText-C413H2_0.js";import{u as z}from"./chains-CJE-tLYb.js";import{u as N}from"./pools-DEQIMXMA.js";import{d as L,f as S,h as T,o as b,w as m,b as a,u as o,a as d,c as $,F as A,l as q,t as E,_ as Q,e as B,r as D,a5 as K,a6 as O,$ as j,O as G}from"./index-BRHGtWW5.js";import{_ as H}from"./Table-cwMxYDg5.js";import{_ as J}from"./TokenIcon-KT8hicP-.js";import{_ as M}from"./IconExpander-CGVxuSwr.js";import{u as W,_ as X}from"./UsePagination-BTOc5j1K.js";import{u as Y}from"./UseSort-T4mXCu1u.js";import{a as Z}from"./index-DYfLpxFS.js";import"./Number-DOcbo0kk.js";import"./ChainIcon-CNU7GrUs.js";import"./timestamp-CoE2HNXc.js";import"./useQuery-Dyjqso2z.js";import"./fetch-bVCl_krR.js";import"./UseHost-CH7KUCyY.js";const ee={class:"tokens"},oe={class:"end"},ae={class:"end"},se={class:"end"},te={class:"end"},k=20,ne=L({__name:"TablePools",props:{chain:{},pools:{}},emits:["select"],setup(F,{emit:y}){const h=y,r=["","",{id:"name",label:"Name",sort:!0},{id:"fees",label:"Fees (24h)",sort:!0,align:"end"},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:i,onSort:p}=Y("tvl"),_=S(()=>F.pools.orderBy(s=>{switch(i.value.column){case"name":return s.name;case"fees":return s.tradingFee24h;case"volume":return s.tradingVolume24h;case"tvl":return s.tvlUsd;case"util":return g(s)}},i.value.order)),{page:P,rowsPage:w,onPage:V}=W(_,k);function g(s){return s.tvlUsd!==0?100*s.tradingVolume24h/s.tvlUsd:0}return(s,f)=>{const t=X,n=M,v=J,l=I,u=H,c=Q;return b(),T(c,{title:"Pools"},{actions:m(()=>[a(t,{"items-count":s.pools.length,"items-per-page":k,page:o(P),onPage:o(V)},null,8,["items-count","page","onPage"])]),default:m(()=>[a(u,{class:"pools-table",rows:o(w),columns:r,sorting:o(i),onSortColumn:o(p),onSelect:f[0]||(f[0]=e=>h("select",e))},{row:m(({item:e})=>[a(n),d("div",ee,[(b(!0),$(A,null,q(e.coins,C=>(b(),T(v,{key:C.address,chain:s.chain,address:C.address},null,8,["chain","address"]))),128))]),d("div",null,E(e.name),1),d("div",oe,[a(l,{"show-zero":"",type:"dollar",value:e.tradingFee24h,precision:2},null,8,["value"])]),d("div",ae,[a(l,{"show-zero":"",type:"dollar",value:e.tradingVolume24h,precision:2},null,8,["value"])]),d("div",se,[a(l,{"show-zero":"",type:"dollar",value:e.tvlUsd,precision:2},null,8,["value"])]),d("div",te,[a(l,{"show-zero":"",type:"percentage",value:g(e),precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),le=B(ne,[["__scopeId","data-v-95f3524a"]]),re={class:"dashboard"},ie={class:"toolbar"},ue=L({__name:"Pools.page",setup(F){const y=["ethereum","arbitrum"],h=Z("chain"),r=S({get(){return h.value?h.value:"ethereum"},set(t){h.value=t}}),i=D(""),{isFetching:p,data:_}=z(r),{isFetching:P,data:w}=N(r),V=S(()=>{var t;return(((t=w.value)==null?void 0:t.pools)??[]).filter(n=>{const v=i.value.toLocaleLowerCase().split(" "),l=u=>v.some(c=>u.toLocaleLowerCase().includes(c));return l(n.name)||l(n.address)})}),{crumbs:g}=K(O());g.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}];const s=j(),f=async t=>{await s.push({name:"poolspool",params:{tab:"",chain:r.value,poolAddr:t.address}})};return(t,n)=>{const v=x,l=U,u=I,c=R;return b(),$("div",re,[d("div",ie,[a(v,{modelValue:o(i),"onUpdate:modelValue":n[0]||(n[0]=e=>G(i)?i.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"]),a(l,{class:"chain-select",chain:o(r),chains:y,onSelectChain:n[1]||(n[1]=e=>r.value=e==="all"?"ethereum":e)},null,8,["chain"])]),a(c,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(p)},{default:m(()=>{var e;return[a(u,{type:"dollar",value:((e=o(_))==null?void 0:e.total.tvl)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(p)},{default:m(()=>{var e;return[a(u,{type:"dollar",value:((e=o(_))==null?void 0:e.total.tradingVolume24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(p)},{default:m(()=>{var e;return[a(u,{type:"dollar",value:((e=o(_))==null?void 0:e.total.tradingFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(p)},{default:m(()=>{var e;return[a(u,{type:"dollar",value:((e=o(_))==null?void 0:e.total.liquidityFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(le,{style:{"grid-area":"pools"},chain:o(r),pools:o(V),loading:o(P),onSelect:f},null,8,["chain","pools","loading"])])}}}),Ie=B(ue,[["__scopeId","data-v-de200a3b"]]);export{Ie as default};

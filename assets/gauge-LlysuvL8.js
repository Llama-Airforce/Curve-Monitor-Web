import{t as r,f as o,g as u}from"./timestamp-CoE2HNXc.js";import{u as i}from"./useQuery-D63AZpyD.js";import{f as s}from"./index-D9HG0aMx.js";const d=e=>({address:e.address,type:e.gauge_type,name:e.name??void 0,version:e.version??void 0,lpToken:e.lp_token?e.lp_token:void 0,pool:e.pool?{address:e.pool.address,name:e.pool.name,chain:e.pool.chain,tvlUsd:e.pool.tvl_usd,tradingVolume24h:e.pool.trading_volume_24h}:void 0,tokens:(e.tokens??[]).map(t=>({symbol:t.symbol,address:t.address,precision:t.precision})),market:e.market?{name:e.market.name,chain:e.market.chain}:void 0,killed:e.is_killed,emissions:e.emissions,weight:BigInt(e.gauge_weight),weightDelta7d:e.gauge_weight_7d_delta?e.gauge_weight_7d_delta:void 0,weightDelta60d:e.gauge_weight_60d_delta?e.gauge_weight_60d_delta:void 0,weightRelative:e.gauge_relative_weight,weightRelativeDelta7d:e.gauge_relative_weight_7d_delta?e.gauge_relative_weight_7d_delta:void 0,weightRelativeDelta60d:e.gauge_relative_weight_60d_delta?e.gauge_relative_weight_60d_delta:void 0,creationTx:e.creation_tx,creationDate:r(e.creation_date),lastVoteTx:e.last_vote_tx??void 0,lastVoteDate:e.last_vote_date?r(e.last_vote_date):void 0}),l=e=>({user:e.user,weight:e.weight,blockNumber:e.block_number,timestamp:r(e.timestamp),tx:e.transaction}),c=e=>({killed:e.is_killed,weight:parseFloat(e.gauge_weight),weightRelative:parseFloat(e.gauge_relative_weight),emissions:parseFloat(e.emissions),epoch:e.epoch}),m=e=>({addressFrom:e.from_address,addressTo:e.to_address??void 0,calldata:e.calldata,calldataDecoded:e.decoded_calldata??void 0,blockNumber:e.block_number,timestamp:r(e.dt)}),_=e=>({gauge:e.gauge,gaugeName:e.gauge_name,weight:e.weight,blockNumber:e.block_number,timestamp:r(e.timestamp),txHash:e.transaction});async function y(e){const t=u(e);return(await o(`${t}/v1/dao/gauges/overview`)).gauges.map(d)}async function p(e,t){const a=u(t),n=await o(`${a}/v1/dao/gauges/${e}/metadata`);return d(n)}async function h(e,t){const a=u(t);return(await o(`${a}/v1/dao/gauges/${e}/votes`)).votes.map(l)}async function v(e,t){const a=u(t);return(await o(`${a}/v1/dao/gauges/${e}/weight_history`)).data.map(c)}async function w(e,t){const a=u(t),n=await o(`${a}/v1/dao/gauges/${e}/deployment`);return m(n)}async function f(e,t){const a=u(t);return(await o(`${a}/v1/dao/gauges/votes/user/${e}`)).votes.map(_)}function g(){return{initialData:[],initialDataUpdatedAt:0}}function D(){return i({queryKey:["gauge-overview"],queryFn:()=>y(),...g()})}function K(e){return i({queryKey:["gauge-metadata",s(()=>e.value)],queryFn:({queryKey:[,t]})=>p(t),enabled:s(()=>!!e.value)})}function $(e){return i({queryKey:["gauge-votes",s(()=>e.value)],queryFn:({queryKey:[,t]})=>h(t),enabled:s(()=>!!e.value),...g()})}function F(e){return i({queryKey:["gauge-weight-history",s(()=>e.value)],queryFn:({queryKey:[,t]})=>v(t),enabled:s(()=>!!e.value),...g()})}function V(e){return i({queryKey:["gauge-deployment",s(()=>e.value)],queryFn:({queryKey:[,t]})=>w(t),enabled:s(()=>!!e.value)})}function G(e){return i({queryKey:["gauge-user-votes",s(()=>e.value)],queryFn:({queryKey:[,t]})=>f(t),enabled:s(()=>!!e.value),...g()})}export{D as a,F as b,V as c,$ as d,K as e,G as u};

import{_ as te,a as le}from"./TabItem.vue_vue_type_script_setup_true_lang-B_O_p1Ga.js";import{d as q,T as M,U as I,f as y,V as E,h as $,o as w,_ as W,w as h,a as _,b as t,j as O,u as e,g as L,r as V,c as F,e as U,t as S,W as P,S as x,a5 as se,a6 as ne,N as oe,R as ie,a3 as Y}from"./index-BQLunFHs.js";import{e as D,c as re}from"./llamalend-BC1rIK82.js";import{c as ce,d as de,b as ue,a as me,f as pe,e as he,T as ve,_ as _e,g as ge,h as fe,i as ye,k as ke,l as be,m as we,j as Le,u as $e,n as Ce,o as Te,C as qe,p as Be,q as Ve}from"./TableTrades-CjIUOIat.js";import"./ChartStylesApex-Cjzcvasd.js";import{a as Ae,_ as j}from"./KPI-DZsIdWbR.js";import{_ as G}from"./AsyncValue-zD0lFhv8.js";import{u as z,a as Q,_ as N,b as K}from"./UseLightweightChart-BmE4U9L3.js";import{r as R,u as H}from"./Number-BynZIa1V.js";import{t as Se}from"./util-M70Hx2OY.js";import{u as J,_ as X}from"./UseLegend-BoA2RrHS.js";import{_ as Fe}from"./ButtonToggle-STZetdPl.js";import{_ as ee,a as We}from"./Table-grbj9OGM.js";import{L as ae}from"./link-BwYxgpLC.js";import{_ as Ue}from"./TokenIcon-DMvelSua.js";import{a as Z}from"./index-CWBUWG3-.js";import{u as De}from"./UseTabNavigation-CEZpaUlH.js";import"./timestamp-Dfir0V72.js";import"./useQuery-DIn02iD8.js";import"./UsePagination-ioVJPNW3.js";import"./UseRelativeTime-CPj9MdVH.js";import"./Object-DOSYkgA0.js";const Pe={style:{display:"flex","align-items":"center"}},Oe={ref:"chartRef",class:"chart"},Re=q({__name:"ChartEquity",props:{equity:{}},setup(o){const u=M(),g=I("card"),{chart:v,series:r}=z({createChartOptions:Q(),series:{type:"Baseline",name:"equity",options:y(()=>{const{colors:s}=u.value;return{priceFormat:{type:"custom",formatter:l=>`$${R(l,0,"dollar")}${H(l)}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:s.green,bottomLineColor:s.red,lastValueVisible:!1,priceLineVisible:!1}})}});E(a);function a(){if(!v.value||!r.equity)return;const s=o.equity.map(l=>({time:l.timestamp.getUTCTimestamp(),value:l.equity})).uniqWith((l,i)=>l.time===i.time).orderBy(l=>l.time,"asc");s.length>0&&r.equity.setData(s),v.value.timeScale().fitContent()}return(s,l)=>{const i=Ae,n=N,c=K,d=W;return w(),$(d,{ref_key:"card",ref:g,title:"Equity"},{actions:h(()=>[_("div",Pe,[t(i,{style:{"margin-right":"1rem"}},{default:h(()=>l[0]||(l[0]=[_("span",null,[O(" This chart shows the difference between the value of the collateral and the debt."),_("br"),_("br"),O(" Positive values indicate net equity (collateral exceeds debt),"),_("br"),O(" while negative values indicate a deficit (debt exceeds collateral, also known as bad debt). ")],-1)])),_:1}),t(n,{filename:"equity",series:e(r)},null,8,["series"]),t(c,{chart:e(v),target:e(g)},null,8,["chart","target"])])]),default:h(()=>[_("div",Oe,null,512)]),_:1},512)}}}),Me={class:"dashboard-grid"},Ie=q({__name:"Liquidations",props:{market:{},chain:{}},setup(o){const u=y(()=>{var B;return(B=o.market)==null?void 0:B.controller}),{isFetching:g,data:v}=D(L(()=>o.market),L(()=>o.chain)),r=y(()=>v.value.map(({timestamp:B,priceOracle:A})=>({timestamp:B,priceOracle:A}))),a=y(()=>v.value.map(({timestamp:B,discountLiquidation:A})=>({timestamp:B,discount:A}))),{isFetching:s,data:l}=ce(V("lending"),L(()=>o.chain),u),{isFetching:i,data:n}=de(V("lending"),L(()=>o.chain),u),{isFetching:c,data:d}=ue(V("lending"),L(()=>o.chain),u),m=y(()=>d.value.map(({timestamp:B,proportion:A})=>({timestamp:B,proportion:A*100}))),{isFetching:f,data:p}=me(V("lending"),L(()=>o.chain),u),{isFetching:b,data:k}=pe(V("lending"),L(()=>o.chain),u),{isFetching:C,data:T}=he(V("lending"),L(()=>o.chain),u);return(B,A)=>(w(),F("div",Me,[t(e(ve),{overview:e(p),loading:e(f)},null,8,["overview","loading"]),t(e(_e),{ratios:e(m),"prices-oracle":e(r),loading:e(c)||e(g)},null,8,["ratios","prices-oracle","loading"]),t(e(ge),{losses:e(k),loading:e(b)},null,8,["losses","loading"]),t(e(fe),{losses:e(k),loading:e(b)},null,8,["losses","loading"]),t(e(ye),{deciles:e(T),loading:e(C)},null,8,["deciles","loading"]),t(e(ke),{liqs:e(l),loading:e(s)},null,8,["liqs","loading"]),t(e(be),{liqs:e(n),loading:e(i)},null,8,["liqs","loading"]),t(e(we),{discounts:e(a),liqs:e(n),loading:e(g)||e(i)},null,8,["discounts","liqs","loading"])]))}}),Ee=U(Ie,[["__scopeId","data-v-d3d09c2f"]]),ze={style:{display:"flex"}},Qe={ref:"chartRef",class:"chart"},Ne=q({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(o){const u=M(),{items:g,toggles:v,disabled:r}=J(()=>{const{blue:d,yellow:m,purple:f}=u.value.colors;return[{id:"supply",label:"Supply",color:d},{id:"debt",label:"Debt",color:m},{id:"util",label:"Util %",color:f,togglable:!0}]}),{isFetching:a,data:s}=D(L(()=>o.market),L(()=>o.chain)),l=I("card"),{chart:i,series:n}=z({createChartOptions:Q(y(()=>({leftPriceScale:{visible:v.util.value}}))),series:[{type:"Line",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${R(d,0,"dollar")}${H(d)}`,minMove:.01},lineWidth:2,color:u.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${R(d,0,"dollar")}${H(d)}`,minMove:.01},lineWidth:2,color:u.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`${Math.round(d*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:u.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});E(c);function c(){if(!i.value||!n.supply||!n.debt||!n.util)return;const d=s.value.map(p=>({time:p.timestamp.getUTCTimestamp(),value:p.totalAssetsUsd})).uniqWith((p,b)=>p.time===b.time).orderBy(p=>p.time,"asc"),m=s.value.map(p=>({time:p.timestamp.getUTCTimestamp(),value:p.totalDebtUsd})).uniqWith((p,b)=>p.time===b.time).orderBy(p=>p.time,"asc"),f=d.zip(m).map(([p,b])=>({time:b.time,value:p.value>0?b.value/p.value:0})).uniqWith((p,b)=>p.time===b.time).orderBy(p=>p.time,"asc");n.supply.setData(d),n.debt.setData(m),n.util.setData(f),n.util.applyOptions({visible:v.util.value}),i.value.timeScale().fitContent()}return(d,m)=>{const f=N,p=K,b=X,k=W;return w(),$(k,{ref_key:"card",ref:l,title:"Supply & Debt",loading:e(a)},{actions:h(()=>[_("div",ze,[t(f,{filename:"supply_debt_util",series:e(n)},null,8,["series"]),t(p,{chart:e(i),target:e(l)},null,8,["chart","target"])])]),"actions-secondary":h(()=>[t(b,{items:e(g),disabled:e(r),onToggle:m[0]||(m[0]=C=>e(v)[C].value=!e(v)[C].value)},null,8,["items","disabled"])]),default:h(()=>[_("div",Qe,null,512)]),_:1},8,["loading"])}}}),Ke={style:{display:"flex"}},He={ref:"chartRef",class:"chart"},Ye=q({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(o){const{isFetching:u,data:g}=D(L(()=>o.market),L(()=>o.chain)),v=M(),r=y(()=>o.market?o.market.collateralToken.symbol:"?"),a=y(()=>o.market?o.market.borrowedToken.symbol:"?"),{items:s}=J(()=>[{id:r.value,label:r.value,color:v.value.colors.blue},{id:a.value,label:a.value,color:v.value.colors.yellow}]),l=V(!0),i=I("card"),{chart:n,series:c}=z({createChartOptions:Q(),series:[{type:"Line",name:"collateral",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:v.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:v.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});E(d);function d(){if(!n.value||!c.collateral||!c.borrowed)return;const f=l.value,p=g.value.map(k=>({time:k.timestamp.getUTCTimestamp(),value:f?k.collateralBalanceUsd:k.collateralBalance})).uniqWith((k,C)=>k.time===C.time).orderBy(k=>k.time,"asc"),b=g.value.map(k=>({time:k.timestamp.getUTCTimestamp(),value:f?k.borrowedBalanceUsd:k.borrowedBalance})).uniqWith((k,C)=>k.time===C.time).orderBy(k=>k.time,"asc");p.length>0&&c.collateral.setData(p),b.length>0&&c.borrowed.setData(b),(p.length>0||b.length>0)&&n.value.timeScale().fitContent()}function m(f){return`${l.value?"$":""}${R(f,0,"dollar")}${H(f)}`}return(f,p)=>{const b=Fe,k=N,C=K,T=X,B=W;return w(),$(B,{ref_key:"card",ref:i,title:"Collateral",loading:e(u)},{actions:h(()=>[_("div",Ke,[t(b,{style:{"margin-right":"1rem"},"model-value":e(l),onClick:p[0]||(p[0]=A=>l.value=!e(l))},{default:h(()=>p[1]||(p[1]=[O(" Dollars ")])),_:1},8,["model-value"]),t(k,{filename:"collateral",series:e(c)},null,8,["series"]),t(C,{chart:e(n),target:e(i)},null,8,["chart","target"])])]),"actions-secondary":h(()=>[t(T,{items:e(s)},null,8,["items"])]),default:h(()=>[_("div",He,null,512)]),_:1},8,["loading"])}}}),je={style:{display:"flex"}},Ge={ref:"chartRef",class:"chart"},Je=q({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(o){const{isFetching:u,data:g}=D(L(()=>o.market),L(()=>o.chain)),v=M(),r=I("card"),{chart:a,series:s}=z({createChartOptions:Q(),series:{type:"Histogram",name:"loans",options:y(()=>({color:v.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});E(l);function l(){if(!a.value||!s.loans)return;const i=g.value.map(n=>({time:n.timestamp.getUTCTimestamp(),value:n.numLoans})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");i.length>0&&(s.loans.setData(i),a.value.timeScale().fitContent())}return(i,n)=>{const c=N,d=K,m=W;return w(),$(m,{ref_key:"card",ref:r,title:"Loans",loading:e(u)},{actions:h(()=>[_("div",je,[t(c,{filename:"loans",series:e(s)},null,8,["series"]),t(d,{chart:e(a),target:e(r)},null,8,["chart","target"])])]),default:h(()=>[_("div",Ge,null,512)]),_:1},8,["loading"])}}}),Xe={style:{display:"flex"}},Ze={ref:"chartRef",class:"chart"},xe=q({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(o){const u=M(),{items:g}=J(()=>[{id:"borrow",label:"Borrow APY",color:u.value.colors.red},{id:"lend",label:"Lend APY",color:u.value.colors.green}]),{isFetching:v,data:r}=D(L(()=>o.market),L(()=>o.chain)),a=I("card"),{chart:s,series:l}=z({createChartOptions:Q({localization:{priceFormatter:c=>n(c)}}),series:[{type:"Line",name:"borrowApy",options:y(()=>({priceFormat:{type:"custom",formatter:n},lineWidth:2,color:u.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:y(()=>({priceFormat:{type:"custom",formatter:n},lineWidth:2,color:u.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});E(i);function i(){if(!s.value||!l.borrowApy||!l.lendApy)return;const c=r.value.map(m=>({time:m.timestamp.getUTCTimestamp(),value:m.borrowApy})).uniqWith((m,f)=>m.time===f.time).orderBy(m=>m.time,"asc"),d=r.value.map(m=>({time:m.timestamp.getUTCTimestamp(),value:m.lendApy})).uniqWith((m,f)=>m.time===f.time).orderBy(m=>m.time,"asc");c.length>0&&l.borrowApy.setData(c),d.length>0&&l.lendApy.setData(d),(c.length>0||d.length>0)&&s.value.timeScale().fitContent()}function n(c){return`${R(c*100,0,"percentage")}%`}return(c,d)=>{const m=N,f=K,p=X,b=W;return w(),$(b,{ref_key:"card",ref:a,title:"Rates",loading:e(v)},{actions:h(()=>[_("div",Xe,[t(m,{filename:"rates",series:e(l)},null,8,["series"]),t(f,{chart:e(s),target:e(a)},null,8,["chart","target"])])]),"actions-secondary":h(()=>[t(p,{items:e(g)},null,8,["items"])]),default:h(()=>[_("div",Ze,null,512)]),_:1},8,["loading"])}}}),ea=["href"],aa={key:1},ta=q({__name:"Addresses",props:{market:{}},setup(o){const u=y(()=>{var r,a,s,l,i;return[{description:"Controller",address:(r=o.market)==null?void 0:r.controller},{description:"Vault",address:(a=o.market)==null?void 0:a.vault},{description:"Llamma",address:(s=o.market)==null?void 0:s.llamma},{description:"Policy",address:(l=o.market)==null?void 0:l.policy},{description:"Oracle",address:(i=o.market)==null?void 0:i.oracle}]}),g=r=>`https://etherscan.io/address/${r}`,v=async r=>{await navigator.clipboard.writeText(r)};return(r,a)=>{const s=ae,l=x,i=ee,n=W;return w(),$(n,{title:"Addresses",class:"addresses"},{default:h(()=>[t(i,{class:"addresses-table",rows:e(u)},{row:h(({item:{description:c,address:d}})=>[_("div",null,S(c),1),_("div",null,[d?(w(),F("a",{key:0,class:"font-mono",target:"_blank",href:g(d)},S(d),9,ea)):(w(),F("span",aa,"?"))]),_("div",null,[d?(w(),$(l,{key:0,onClick:m=>v(d)},{default:h(()=>[t(s)]),_:2},1032,["onClick"])):P("",!0)])]),_:1},8,["rows"])]),_:1})}}}),la=U(ta,[["__scopeId","data-v-f805545c"]]),sa={class:"usage"},na={class:"two-sides"},oa={class:"collateral"},ia={class:"two-sides"},ra={class:"two-sides"},ca=q({__name:"KPIUsage",props:{market:{}},setup(o){const u=y(()=>{var r,a;return(((r=o.market)==null?void 0:r.collateralBalanceUsd)??0)+(((a=o.market)==null?void 0:a.borrowedBalanceUsd)??0)}),g=y(()=>{var l,i;const r="Collateral",a=((l=o.market)==null?void 0:l.collateralToken.symbol)??"?",s=((i=o.market)==null?void 0:i.borrowedToken.symbol)??"?";return`${r} (${a} / ${s})`}),v=y(()=>o.market?o.market.totalAssetsUsd===0?0:o.market.totalDebtUsd/o.market.totalAssetsUsd:0);return(r,a)=>{var i,n;const s=G,l=j;return w(),F("div",sa,[t(l,{style:{"grid-area":"kpi1"},label:e(g),"has-value":!!r.market},{default:h(()=>{var c,d;return[_("div",na,[_("div",oa,[t(s,{"show-zero":"",type:"dollar",value:(c=r.market)==null?void 0:c.collateralBalance,"show-symbol":!1},null,8,["value"]),a[0]||(a[0]=_("span",{style:{color:"var(--c-lvl5)"}},"/",-1)),t(s,{"show-zero":"",type:"dollar",value:(d=r.market)==null?void 0:d.borrowedBalance,"show-symbol":!1},null,8,["value"])]),t(s,{"show-zero":"",type:"dollar",value:e(u)},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(l,{style:{"grid-area":"kpi2"},label:`Borrowed (${((i=r.market)==null?void 0:i.borrowedToken.symbol)??"?"})`,"has-value":!!r.market},{default:h(()=>{var c,d;return[_("div",ia,[t(s,{"show-zero":"",type:"dollar",value:(c=r.market)==null?void 0:c.totalDebt,"show-symbol":!1},null,8,["value"]),t(s,{"show-zero":"",type:"dollar",value:(d=r.market)==null?void 0:d.totalDebtUsd},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(l,{style:{"grid-area":"kpi3"},label:`Supplied (${((n=r.market)==null?void 0:n.collateralToken.symbol)??"?"})`,"has-value":!!r.market},{default:h(()=>{var c,d;return[_("div",ra,[t(s,{"show-zero":"",type:"dollar",value:(c=r.market)==null?void 0:c.totalAssets,"show-symbol":!1},null,8,["value"]),t(s,{"show-zero":"",type:"dollar",value:(d=r.market)==null?void 0:d.totalAssetsUsd},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(l,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:"Utilization Rate",tooltip:"Utilization rate is total supplied divided by total borrowed","has-value":!!r.market},{default:h(()=>[t(s,{"show-zero":"",type:"percentage",value:e(v)*100},null,8,["value"])]),_:1},8,["has-value"])])}}}),da=U(ca,[["__scopeId","data-v-09943df6"]]),ua={class:"token-info"},ma=["href"],pa={class:"token-info"},ha=["href"],va=q({__name:"Properties",props:{market:{},chain:{}},setup(o){const u=y(()=>{var a,s,l,i;return{type:"token",symbol:((s=(a=o.market)==null?void 0:a.collateralToken)==null?void 0:s.symbol)??"?",address:((i=(l=o.market)==null?void 0:l.collateralToken)==null?void 0:i.address)??"?"}}),g=y(()=>{var a,s,l,i;return{type:"token",symbol:((s=(a=o.market)==null?void 0:a.borrowedToken)==null?void 0:s.symbol)??"?",address:((i=(l=o.market)==null?void 0:l.borrowedToken)==null?void 0:i.address)??"?"}}),v=a=>`https://etherscan.io/address/${a}`,r=async a=>{await navigator.clipboard.writeText(a)};return(a,s)=>{const l=Ue,i=ae,n=x,c=We,d=ee,m=W;return w(),$(m,{class:"properties",title:"Properties"},{default:h(()=>[t(d,{class:"properties-table"},{default:h(()=>[t(c,null,{default:h(()=>[s[2]||(s[2]=_("div",null,"Collateral",-1)),_("div",ua,[t(l,{chain:a.chain,address:e(u).address},null,8,["chain","address"]),_("div",null,S(e(u).symbol),1),_("div",null,[_("a",{class:"font-mono",target:"_blank",href:v(e(u).address)},S(e(u).address),9,ma)]),_("div",null,[t(n,{onClick:s[0]||(s[0]=f=>r(e(u).address))},{default:h(()=>[t(i)]),_:1})])])]),_:1}),t(c,null,{default:h(()=>[s[3]||(s[3]=_("div",null,"Borrowed",-1)),_("div",pa,[t(l,{chain:a.chain,address:e(g).address},null,8,["chain","address"]),_("div",null,S(e(g).symbol),1),_("div",null,[_("a",{class:"font-mono",target:"_blank",href:v(e(g).address)},S(e(g).address),9,ha)]),_("div",null,[t(n,{onClick:s[1]||(s[1]=f=>r(e(g).address))},{default:h(()=>[t(i)]),_:1})])])]),_:1})]),_:1})]),_:1})}}}),_a=U(va,[["__scopeId","data-v-fc596782"]]),ga={class:"dashboard-grid"},fa=q({__name:"MarketOverview",props:{market:{},chain:{}},setup(o){const{isFetching:u,data:g}=D(L(()=>o.market),L(()=>o.chain)),v=y(()=>g.value.map(({timestamp:a,collateralBalanceUsd:s,borrowedBalanceUsd:l,totalDebtUsd:i})=>({timestamp:a,ratio:i>0?(s+l)/i:0}))),r=y(()=>g.value.map(({timestamp:a,collateralBalanceUsd:s,borrowedBalanceUsd:l,totalDebtUsd:i})=>({timestamp:a,equity:s+l-i})));return(a,s)=>{const l=G,i=j;return w(),F("div",ga,[t(i,{style:{"grid-area":"kpi1"},label:"Borrow APY","has-value":!!a.market},{default:h(()=>{var n;return[t(l,{type:"percentage",value:(n=a.market)==null?void 0:n.apyBorrow},null,8,["value"])]}),_:1},8,["has-value"]),t(i,{style:{"grid-area":"kpi2"},label:"Lend APY","has-value":!!a.market},{default:h(()=>{var n;return[t(l,{type:"percentage",value:(n=a.market)==null?void 0:n.apyLend},null,8,["value"])]}),_:1},8,["has-value"]),t(i,{style:{"grid-area":"kpi3"},label:"Loans","has-value":!!a.market},{default:h(()=>{var n;return[O(S(((n=a.market)==null?void 0:n.nLoans)??0),1)]}),_:1},8,["has-value"]),t(i,{style:{"grid-area":"kpi4"},label:"TVL","has-value":!!a.market},{default:h(()=>[t(l,{type:"dollar",value:e(Se)(a.market)},null,8,["value"])]),_:1},8,["has-value"]),t(e(Ne),{style:{"grid-area":"supply"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(Ye),{style:{"grid-area":"collateral"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(Le),{style:{"grid-area":"colratio"},ratios:e(v),loading:e(u)},null,8,["ratios","loading"]),t(e(Re),{style:{"grid-area":"equity"},equity:e(r),loading:e(u)},null,8,["equity","loading"]),t(e(xe),{style:{"grid-area":"rates"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(Je),{style:{"grid-area":"loans"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(la),{style:{"grid-area":"addresses"},market:a.market},null,8,["market"]),t(e(_a),{style:{"grid-area":"properties"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(da),{style:{"grid-area":"usage"},market:a.market},null,8,["market"])])}}}),ya=U(fa,[["__scopeId","data-v-c4af7549"]]),ka={class:"dashboard-grid"},ba=q({__name:"Trading",props:{market:{},chain:{}},setup(o){const u=y(()=>{var c;return(c=o.market)==null?void 0:c.llamma}),{isFetching:g,data:v}=$e("lending",u,L(()=>o.chain)),r=V(1),{isFetching:a,data:s}=Ce("lending",u,L(()=>o.chain),r),l=V(1),{isFetching:i,data:n}=Te("lending",u,L(()=>o.chain),l);return(c,d)=>{var p,b,k,C;const m=G,f=j;return w(),F("div",ka,[t(f,{style:{"grid-area":"oracle"},label:"Oracle Price","has-value":!!c.market},{default:h(()=>{var T;return[t(m,{type:"dollar",value:(T=c.market)==null?void 0:T.priceOracle},null,8,["value"])]}),_:1},8,["has-value"]),t(f,{style:{"grid-area":"amm"},label:"AMM Price","has-value":!!c.market},{default:h(()=>{var T;return[t(m,{type:"dollar",value:(T=c.market)==null?void 0:T.ammPrice},null,8,["value"])]}),_:1},8,["has-value"]),t(e(qe),{style:{"grid-area":"ohlc"},ohlc:e(v)??[],loading:e(g)},null,8,["ohlc","loading"]),t(e(Be),{style:{"grid-area":"trades"},trades:((p=e(s))==null?void 0:p.trades)??[],count:((b=e(s))==null?void 0:b.count)??0,chain:c.chain,loading:e(a),onPage:d[0]||(d[0]=T=>r.value=T)},null,8,["trades","count","chain","loading"]),t(e(Ve),{style:{"grid-area":"events"},events:((k=e(n))==null?void 0:k.events)??[],count:((C=e(n))==null?void 0:C.count)??0,loading:e(i),onPage:d[1]||(d[1]=T=>l.value=T)},null,8,["events","count","loading"])])}}}),wa=U(ba,[["__scopeId","data-v-ae2f31ac"]]),La={class:"dashboard"},$a=q({__name:"Market.page",setup(o){const u=Z("chain"),g=Z("marketAddr"),{isFetching:v,data:r}=re(u),a=y(()=>{var n;return(n=r.value)==null?void 0:n.find(c=>c.controller===g.value)}),{crumbs:s}=se(ne());oe(a,n=>{s.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:u.value})},{id:"market",label:`Market: ${(n==null?void 0:n.name)??"?"}`}]},{immediate:!0});const{tabActive:l,tabActiveIndex:i}=De(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:u.value,marketAddr:g.value}));return(n,c)=>{const d=ie,m=te,f=le;return w(),F("div",La,[t(d,{loading:e(v)},null,8,["loading"]),!e(v)&&e(a)?(w(),$(f,{key:0,active:e(i),onTab:c[0]||(c[0]=p=>i.value=p.index)},{default:h(()=>[t(m,{header:"Overview"},{default:h(()=>[(w(),$(Y,null,[e(l)==="overview"?(w(),$(ya,{key:0,market:e(a),chain:e(u)},null,8,["market","chain"])):P("",!0)],1024))]),_:1}),t(m,{header:"Trading"},{default:h(()=>[(w(),$(Y,null,[e(l)==="trading"?(w(),$(wa,{key:0,market:e(a),chain:e(u)},null,8,["market","chain"])):P("",!0)],1024))]),_:1}),t(m,{header:"Liquidations"},{default:h(()=>[(w(),$(Y,null,[e(l)==="liquidations"?(w(),$(Ee,{key:0,market:e(a),chain:e(u)},null,8,["market","chain"])):P("",!0)],1024))]),_:1})]),_:1},8,["active"])):P("",!0)])}}}),Ya=U($a,[["__scopeId","data-v-319230a0"]]);export{Ya as default};

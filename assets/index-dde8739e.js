import{d0 as af,d1 as uf,d2 as Sc,K as Ec,p as le,h as Mn,d3 as cf,e as Dr,d4 as xc,cs as Xt,d5 as lf,d6 as hf,a5 as ff}from"./index-52cb6942-302b6965.js";function df(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var ia={},Yn={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});ts.walletLogo=void 0;const pf=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};ts.walletLogo=pf;var rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.ScopedLocalStorage=void 0;class yf{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}rs.ScopedLocalStorage=yf;var ve={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=af,r=uf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=F,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const p=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(p,l),p.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');const l=new Uint8Array(p);return Object.setPrototypeOf(l,a.prototype),l}function a(p,l,h){if(typeof p=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return C(p)}return f(p,l,h)}a.poolSize=8192;function f(p,l,h){if(typeof p=="string")return x(p,l);if(ArrayBuffer.isView(p))return N(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(ht(p,ArrayBuffer)||p&&ht(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ht(p,SharedArrayBuffer)||p&&ht(p.buffer,SharedArrayBuffer)))return H(p,l,h);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=p.valueOf&&p.valueOf();if(v!=null&&v!==p)return a.from(v,l,h);const k=$(p);if(k)return k;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return a.from(p[Symbol.toPrimitive]("string"),l,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}a.from=function(p,l,h){return f(p,l,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function b(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function g(p,l,h){return b(p),p<=0?o(p):l!==void 0?typeof h=="string"?o(p).fill(l,h):o(p).fill(l):o(p)}a.alloc=function(p,l,h){return g(p,l,h)};function C(p){return b(p),o(p<0?0:P(p)|0)}a.allocUnsafe=function(p){return C(p)},a.allocUnsafeSlow=function(p){return C(p)};function x(p,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const h=U(p,l)|0;let v=o(h);const k=v.write(p,l);return k!==h&&(v=v.slice(0,k)),v}function I(p){const l=p.length<0?0:P(p.length)|0,h=o(l);for(let v=0;v<l;v+=1)h[v]=p[v]&255;return h}function N(p){if(ht(p,Uint8Array)){const l=new Uint8Array(p);return H(l.buffer,l.byteOffset,l.byteLength)}return I(p)}function H(p,l,h){if(l<0||p.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<l+(h||0))throw new RangeError('"length" is outside of buffer bounds');let v;return l===void 0&&h===void 0?v=new Uint8Array(p):h===void 0?v=new Uint8Array(p,l):v=new Uint8Array(p,l,h),Object.setPrototypeOf(v,a.prototype),v}function $(p){if(a.isBuffer(p)){const l=P(p.length)|0,h=o(l);return h.length===0||p.copy(h,0,0,l),h}if(p.length!==void 0)return typeof p.length!="number"||Ie(p.length)?o(0):I(p);if(p.type==="Buffer"&&Array.isArray(p.data))return I(p.data)}function P(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function F(p){return+p!=p&&(p=0),a.alloc(+p)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,h){if(ht(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),ht(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(l)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===h)return 0;let v=l.length,k=h.length;for(let A=0,O=Math.min(v,k);A<O;++A)if(l[A]!==h[A]){v=l[A],k=h[A];break}return v<k?-1:k<v?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,h){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let v;if(h===void 0)for(h=0,v=0;v<l.length;++v)h+=l[v].length;const k=a.allocUnsafe(h);let A=0;for(v=0;v<l.length;++v){let O=l[v];if(ht(O,Uint8Array))A+O.length>k.length?(a.isBuffer(O)||(O=a.from(O)),O.copy(k,A)):Uint8Array.prototype.set.call(k,O,A);else if(a.isBuffer(O))O.copy(k,A);else throw new TypeError('"list" argument must be an Array of Buffers');A+=O.length}return k};function U(p,l){if(a.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||ht(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);const h=p.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&h===0)return 0;let k=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ee(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return ke(p).length;default:if(k)return v?-1:Ee(p).length;l=(""+l).toLowerCase(),k=!0}}a.byteLength=U;function V(p,l,h){let v=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,l>>>=0,h<=l))return"";for(p||(p="utf8");;)switch(p){case"hex":return M(this,l,h);case"utf8":case"utf-8":return u(this,l,h);case"ascii":return _(this,l,h);case"latin1":case"binary":return S(this,l,h);case"base64":return E(this,l,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,l,h);default:if(v)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),v=!0}}a.prototype._isBuffer=!0;function ee(p,l,h){const v=p[l];p[l]=p[h],p[h]=v}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<l;h+=2)ee(this,h,h+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<l;h+=4)ee(this,h,h+3),ee(this,h+1,h+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<l;h+=8)ee(this,h,h+7),ee(this,h+1,h+6),ee(this,h+2,h+5),ee(this,h+3,h+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):V.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const h=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,h,v,k,A){if(ht(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(h===void 0&&(h=0),v===void 0&&(v=l?l.length:0),k===void 0&&(k=0),A===void 0&&(A=this.length),h<0||v>l.length||k<0||A>this.length)throw new RangeError("out of range index");if(k>=A&&h>=v)return 0;if(k>=A)return-1;if(h>=v)return 1;if(h>>>=0,v>>>=0,k>>>=0,A>>>=0,this===l)return 0;let O=A-k,ie=v-h;const re=Math.min(O,ie),J=this.slice(k,A),Me=l.slice(h,v);for(let Q=0;Q<re;++Q)if(J[Q]!==Me[Q]){O=J[Q],ie=Me[Q];break}return O<ie?-1:ie<O?1:0};function K(p,l,h,v,k){if(p.length===0)return-1;if(typeof h=="string"?(v=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Ie(h)&&(h=k?0:p.length-1),h<0&&(h=p.length+h),h>=p.length){if(k)return-1;h=p.length-1}else if(h<0)if(k)h=0;else return-1;if(typeof l=="string"&&(l=a.from(l,v)),a.isBuffer(l))return l.length===0?-1:te(p,l,h,v,k);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?k?Uint8Array.prototype.indexOf.call(p,l,h):Uint8Array.prototype.lastIndexOf.call(p,l,h):te(p,[l],h,v,k);throw new TypeError("val must be string, number or Buffer")}function te(p,l,h,v,k){let A=1,O=p.length,ie=l.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(p.length<2||l.length<2)return-1;A=2,O/=2,ie/=2,h/=2}function re(Me,Q){return A===1?Me[Q]:Me.readUInt16BE(Q*A)}let J;if(k){let Me=-1;for(J=h;J<O;J++)if(re(p,J)===re(l,Me===-1?0:J-Me)){if(Me===-1&&(Me=J),J-Me+1===ie)return Me*A}else Me!==-1&&(J-=J-Me),Me=-1}else for(h+ie>O&&(h=O-ie),J=h;J>=0;J--){let Me=!0;for(let Q=0;Q<ie;Q++)if(re(p,J+Q)!==re(l,Q)){Me=!1;break}if(Me)return J}return-1}a.prototype.includes=function(l,h,v){return this.indexOf(l,h,v)!==-1},a.prototype.indexOf=function(l,h,v){return K(this,l,h,v,!0)},a.prototype.lastIndexOf=function(l,h,v){return K(this,l,h,v,!1)};function fe(p,l,h,v){h=Number(h)||0;const k=p.length-h;v?(v=Number(v),v>k&&(v=k)):v=k;const A=l.length;v>A/2&&(v=A/2);let O;for(O=0;O<v;++O){const ie=parseInt(l.substr(O*2,2),16);if(Ie(ie))return O;p[h+O]=ie}return O}function de(p,l,h,v){return xe(Ee(l,p.length-h),p,h,v)}function we(p,l,h,v){return xe(Ce(l),p,h,v)}function Y(p,l,h,v){return xe(ke(l),p,h,v)}function ne(p,l,h,v){return xe(B(l,p.length-h),p,h,v)}a.prototype.write=function(l,h,v,k){if(h===void 0)k="utf8",v=this.length,h=0;else if(v===void 0&&typeof h=="string")k=h,v=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(v)?(v=v>>>0,k===void 0&&(k="utf8")):(k=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const A=this.length-h;if((v===void 0||v>A)&&(v=A),l.length>0&&(v<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");k||(k="utf8");let O=!1;for(;;)switch(k){case"hex":return fe(this,l,h,v);case"utf8":case"utf-8":return de(this,l,h,v);case"ascii":case"latin1":case"binary":return we(this,l,h,v);case"base64":return Y(this,l,h,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,l,h,v);default:if(O)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase(),O=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(p,l,h){return l===0&&h===p.length?e.fromByteArray(p):e.fromByteArray(p.slice(l,h))}function u(p,l,h){h=Math.min(p.length,h);const v=[];let k=l;for(;k<h;){const A=p[k];let O=null,ie=A>239?4:A>223?3:A>191?2:1;if(k+ie<=h){let re,J,Me,Q;switch(ie){case 1:A<128&&(O=A);break;case 2:re=p[k+1],(re&192)===128&&(Q=(A&31)<<6|re&63,Q>127&&(O=Q));break;case 3:re=p[k+1],J=p[k+2],(re&192)===128&&(J&192)===128&&(Q=(A&15)<<12|(re&63)<<6|J&63,Q>2047&&(Q<55296||Q>57343)&&(O=Q));break;case 4:re=p[k+1],J=p[k+2],Me=p[k+3],(re&192)===128&&(J&192)===128&&(Me&192)===128&&(Q=(A&15)<<18|(re&63)<<12|(J&63)<<6|Me&63,Q>65535&&Q<1114112&&(O=Q))}}O===null?(O=65533,ie=1):O>65535&&(O-=65536,v.push(O>>>10&1023|55296),O=56320|O&1023),v.push(O),k+=ie}return m(v)}const d=4096;function m(p){const l=p.length;if(l<=d)return String.fromCharCode.apply(String,p);let h="",v=0;for(;v<l;)h+=String.fromCharCode.apply(String,p.slice(v,v+=d));return h}function _(p,l,h){let v="";h=Math.min(p.length,h);for(let k=l;k<h;++k)v+=String.fromCharCode(p[k]&127);return v}function S(p,l,h){let v="";h=Math.min(p.length,h);for(let k=l;k<h;++k)v+=String.fromCharCode(p[k]);return v}function M(p,l,h){const v=p.length;(!l||l<0)&&(l=0),(!h||h<0||h>v)&&(h=v);let k="";for(let A=l;A<h;++A)k+=Ae[p[A]];return k}function T(p,l,h){const v=p.slice(l,h);let k="";for(let A=0;A<v.length-1;A+=2)k+=String.fromCharCode(v[A]+v[A+1]*256);return k}a.prototype.slice=function(l,h){const v=this.length;l=~~l,h=h===void 0?v:~~h,l<0?(l+=v,l<0&&(l=0)):l>v&&(l=v),h<0?(h+=v,h<0&&(h=0)):h>v&&(h=v),h<l&&(h=l);const k=this.subarray(l,h);return Object.setPrototypeOf(k,a.prototype),k};function w(p,l,h){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+l>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,h,v){l=l>>>0,h=h>>>0,v||w(l,h,this.length);let k=this[l],A=1,O=0;for(;++O<h&&(A*=256);)k+=this[l+O]*A;return k},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,h,v){l=l>>>0,h=h>>>0,v||w(l,h,this.length);let k=this[l+--h],A=1;for(;h>0&&(A*=256);)k+=this[l+--h]*A;return k},a.prototype.readUint8=a.prototype.readUInt8=function(l,h){return l=l>>>0,h||w(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,h){return l=l>>>0,h||w(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,h){return l=l>>>0,h||w(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,h){return l=l>>>0,h||w(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,h){return l=l>>>0,h||w(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=wt(function(l){l=l>>>0,ut(l,"offset");const h=this[l],v=this[l+7];(h===void 0||v===void 0)&&ye(l,this.length-8);const k=h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,A=this[++l]+this[++l]*2**8+this[++l]*2**16+v*2**24;return BigInt(k)+(BigInt(A)<<BigInt(32))}),a.prototype.readBigUInt64BE=wt(function(l){l=l>>>0,ut(l,"offset");const h=this[l],v=this[l+7];(h===void 0||v===void 0)&&ye(l,this.length-8);const k=h*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],A=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+v;return(BigInt(k)<<BigInt(32))+BigInt(A)}),a.prototype.readIntLE=function(l,h,v){l=l>>>0,h=h>>>0,v||w(l,h,this.length);let k=this[l],A=1,O=0;for(;++O<h&&(A*=256);)k+=this[l+O]*A;return A*=128,k>=A&&(k-=Math.pow(2,8*h)),k},a.prototype.readIntBE=function(l,h,v){l=l>>>0,h=h>>>0,v||w(l,h,this.length);let k=h,A=1,O=this[l+--k];for(;k>0&&(A*=256);)O+=this[l+--k]*A;return A*=128,O>=A&&(O-=Math.pow(2,8*h)),O},a.prototype.readInt8=function(l,h){return l=l>>>0,h||w(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,h){l=l>>>0,h||w(l,2,this.length);const v=this[l]|this[l+1]<<8;return v&32768?v|4294901760:v},a.prototype.readInt16BE=function(l,h){l=l>>>0,h||w(l,2,this.length);const v=this[l+1]|this[l]<<8;return v&32768?v|4294901760:v},a.prototype.readInt32LE=function(l,h){return l=l>>>0,h||w(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,h){return l=l>>>0,h||w(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=wt(function(l){l=l>>>0,ut(l,"offset");const h=this[l],v=this[l+7];(h===void 0||v===void 0)&&ye(l,this.length-8);const k=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(v<<24);return(BigInt(k)<<BigInt(32))+BigInt(h+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=wt(function(l){l=l>>>0,ut(l,"offset");const h=this[l],v=this[l+7];(h===void 0||v===void 0)&&ye(l,this.length-8);const k=(h<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(k)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+v)}),a.prototype.readFloatLE=function(l,h){return l=l>>>0,h||w(l,4,this.length),r.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,h){return l=l>>>0,h||w(l,4,this.length),r.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,h){return l=l>>>0,h||w(l,8,this.length),r.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,h){return l=l>>>0,h||w(l,8,this.length),r.read(this,l,!1,52,8)};function c(p,l,h,v,k,A){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>k||l<A)throw new RangeError('"value" argument is out of bounds');if(h+v>p.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,h,v,k){if(l=+l,h=h>>>0,v=v>>>0,!k){const ie=Math.pow(2,8*v)-1;c(this,l,h,v,ie,0)}let A=1,O=0;for(this[h]=l&255;++O<v&&(A*=256);)this[h+O]=l/A&255;return h+v},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,h,v,k){if(l=+l,h=h>>>0,v=v>>>0,!k){const ie=Math.pow(2,8*v)-1;c(this,l,h,v,ie,0)}let A=v-1,O=1;for(this[h+A]=l&255;--A>=0&&(O*=256);)this[h+A]=l/O&255;return h+v},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,1,255,0),this[h]=l&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,2,65535,0),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,2,65535,0),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,4,4294967295,0),this[h+3]=l>>>24,this[h+2]=l>>>16,this[h+1]=l>>>8,this[h]=l&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,4,4294967295,0),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4};function y(p,l,h,v,k){me(l,v,k,p,h,7);let A=Number(l&BigInt(4294967295));p[h++]=A,A=A>>8,p[h++]=A,A=A>>8,p[h++]=A,A=A>>8,p[h++]=A;let O=Number(l>>BigInt(32)&BigInt(4294967295));return p[h++]=O,O=O>>8,p[h++]=O,O=O>>8,p[h++]=O,O=O>>8,p[h++]=O,h}function R(p,l,h,v,k){me(l,v,k,p,h,7);let A=Number(l&BigInt(4294967295));p[h+7]=A,A=A>>8,p[h+6]=A,A=A>>8,p[h+5]=A,A=A>>8,p[h+4]=A;let O=Number(l>>BigInt(32)&BigInt(4294967295));return p[h+3]=O,O=O>>8,p[h+2]=O,O=O>>8,p[h+1]=O,O=O>>8,p[h]=O,h+8}a.prototype.writeBigUInt64LE=wt(function(l,h=0){return y(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=wt(function(l,h=0){return R(this,l,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,h,v,k){if(l=+l,h=h>>>0,!k){const re=Math.pow(2,8*v-1);c(this,l,h,v,re-1,-re)}let A=0,O=1,ie=0;for(this[h]=l&255;++A<v&&(O*=256);)l<0&&ie===0&&this[h+A-1]!==0&&(ie=1),this[h+A]=(l/O>>0)-ie&255;return h+v},a.prototype.writeIntBE=function(l,h,v,k){if(l=+l,h=h>>>0,!k){const re=Math.pow(2,8*v-1);c(this,l,h,v,re-1,-re)}let A=v-1,O=1,ie=0;for(this[h+A]=l&255;--A>=0&&(O*=256);)l<0&&ie===0&&this[h+A+1]!==0&&(ie=1),this[h+A]=(l/O>>0)-ie&255;return h+v},a.prototype.writeInt8=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,1,127,-128),l<0&&(l=255+l+1),this[h]=l&255,h+1},a.prototype.writeInt16LE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,2,32767,-32768),this[h]=l&255,this[h+1]=l>>>8,h+2},a.prototype.writeInt16BE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,2,32767,-32768),this[h]=l>>>8,this[h+1]=l&255,h+2},a.prototype.writeInt32LE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,4,2147483647,-2147483648),this[h]=l&255,this[h+1]=l>>>8,this[h+2]=l>>>16,this[h+3]=l>>>24,h+4},a.prototype.writeInt32BE=function(l,h,v){return l=+l,h=h>>>0,v||c(this,l,h,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[h]=l>>>24,this[h+1]=l>>>16,this[h+2]=l>>>8,this[h+3]=l&255,h+4},a.prototype.writeBigInt64LE=wt(function(l,h=0){return y(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=wt(function(l,h=0){return R(this,l,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function D(p,l,h,v,k,A){if(h+v>p.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function j(p,l,h,v,k){return l=+l,h=h>>>0,k||D(p,l,h,4),r.write(p,l,h,v,23,4),h+4}a.prototype.writeFloatLE=function(l,h,v){return j(this,l,h,!0,v)},a.prototype.writeFloatBE=function(l,h,v){return j(this,l,h,!1,v)};function Z(p,l,h,v,k){return l=+l,h=h>>>0,k||D(p,l,h,8),r.write(p,l,h,v,52,8),h+8}a.prototype.writeDoubleLE=function(l,h,v){return Z(this,l,h,!0,v)},a.prototype.writeDoubleBE=function(l,h,v){return Z(this,l,h,!1,v)},a.prototype.copy=function(l,h,v,k){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(v||(v=0),!k&&k!==0&&(k=this.length),h>=l.length&&(h=l.length),h||(h=0),k>0&&k<v&&(k=v),k===v||l.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("sourceEnd out of bounds");k>this.length&&(k=this.length),l.length-h<k-v&&(k=l.length-h+v);const A=k-v;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,v,k):Uint8Array.prototype.set.call(l,this.subarray(v,k),h),A},a.prototype.fill=function(l,h,v,k){if(typeof l=="string"){if(typeof h=="string"?(k=h,h=0,v=this.length):typeof v=="string"&&(k=v,v=this.length),k!==void 0&&typeof k!="string")throw new TypeError("encoding must be a string");if(typeof k=="string"&&!a.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(l.length===1){const O=l.charCodeAt(0);(k==="utf8"&&O<128||k==="latin1")&&(l=O)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(h<0||this.length<h||this.length<v)throw new RangeError("Out of range index");if(v<=h)return this;h=h>>>0,v=v===void 0?this.length:v>>>0,l||(l=0);let A;if(typeof l=="number")for(A=h;A<v;++A)this[A]=l;else{const O=a.isBuffer(l)?l:a.from(l,k),ie=O.length;if(ie===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(A=0;A<v-h;++A)this[A+h]=O[A%ie]}return this};const W={};function z(p,l,h){W[p]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${p}]`,this.stack,delete this.name}get code(){return p}set code(k){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:k,writable:!0})}toString(){return`${this.name} [${p}]: ${this.message}`}}}z("ERR_BUFFER_OUT_OF_BOUNDS",function(p){return p?`${p} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),z("ERR_INVALID_ARG_TYPE",function(p,l){return`The "${p}" argument must be of type number. Received type ${typeof l}`},TypeError),z("ERR_OUT_OF_RANGE",function(p,l,h){let v=`The value of "${p}" is out of range.`,k=h;return Number.isInteger(h)&&Math.abs(h)>2**32?k=pe(String(h)):typeof h=="bigint"&&(k=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(k=pe(k)),k+="n"),v+=` It must be ${l}. Received ${k}`,v},RangeError);function pe(p){let l="",h=p.length;const v=p[0]==="-"?1:0;for(;h>=v+4;h-=3)l=`_${p.slice(h-3,h)}${l}`;return`${p.slice(0,h)}${l}`}function ae(p,l,h){ut(l,"offset"),(p[l]===void 0||p[l+h]===void 0)&&ye(l,p.length-(h+1))}function me(p,l,h,v,k,A){if(p>h||p<l){const O=typeof l=="bigint"?"n":"";let ie;throw A>3?l===0||l===BigInt(0)?ie=`>= 0${O} and < 2${O} ** ${(A+1)*8}${O}`:ie=`>= -(2${O} ** ${(A+1)*8-1}${O}) and < 2 ** ${(A+1)*8-1}${O}`:ie=`>= ${l}${O} and <= ${h}${O}`,new W.ERR_OUT_OF_RANGE("value",ie,p)}ae(v,k,A)}function ut(p,l){if(typeof p!="number")throw new W.ERR_INVALID_ARG_TYPE(l,"number",p)}function ye(p,l,h){throw Math.floor(p)!==p?(ut(p,h),new W.ERR_OUT_OF_RANGE(h||"offset","an integer",p)):l<0?new W.ERR_BUFFER_OUT_OF_BOUNDS:new W.ERR_OUT_OF_RANGE(h||"offset",`>= ${h?1:0} and <= ${l}`,p)}const _e=/[^+/0-9A-Za-z-_]/g;function Dt(p){if(p=p.split("=")[0],p=p.trim().replace(_e,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function Ee(p,l){l=l||1/0;let h;const v=p.length;let k=null;const A=[];for(let O=0;O<v;++O){if(h=p.charCodeAt(O),h>55295&&h<57344){if(!k){if(h>56319){(l-=3)>-1&&A.push(239,191,189);continue}else if(O+1===v){(l-=3)>-1&&A.push(239,191,189);continue}k=h;continue}if(h<56320){(l-=3)>-1&&A.push(239,191,189),k=h;continue}h=(k-55296<<10|h-56320)+65536}else k&&(l-=3)>-1&&A.push(239,191,189);if(k=null,h<128){if((l-=1)<0)break;A.push(h)}else if(h<2048){if((l-=2)<0)break;A.push(h>>6|192,h&63|128)}else if(h<65536){if((l-=3)<0)break;A.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((l-=4)<0)break;A.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return A}function Ce(p){const l=[];for(let h=0;h<p.length;++h)l.push(p.charCodeAt(h)&255);return l}function B(p,l){let h,v,k;const A=[];for(let O=0;O<p.length&&!((l-=2)<0);++O)h=p.charCodeAt(O),v=h>>8,k=h%256,A.push(k),A.push(v);return A}function ke(p){return e.toByteArray(Dt(p))}function xe(p,l,h,v){let k;for(k=0;k<v&&!(k+h>=l.length||k>=p.length);++k)l[k+h]=p[k];return k}function ht(p,l){return p instanceof l||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===l.name}function Ie(p){return p!==p}const Ae=function(){const p="0123456789abcdef",l=new Array(256);for(let h=0;h<16;++h){const v=h*16;for(let k=0;k<16;++k)l[v+k]=p[h]+p[k]}return l}();function wt(p){return typeof BigInt>"u"?Te:p}function Te(){throw new Error("BigInt not supported")}})(ve);var fn={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});const gf=Sc;function Qa(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function bf(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let mf=class extends gf.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")Qa(s,this,r);else{const o=s.length,a=bf(s);for(let f=0;f<o;f+=1)Qa(a[f],this,r)}return!0}};kn.default=mf;var dn={},vf={get exports(){return dn},set exports(t){dn=t}};(function(t){(function(e,r){function n(E,u){if(!E)throw new Error(u||"Assertion failed")}function i(E,u){E.super_=u;var d=function(){};d.prototype=u.prototype,E.prototype=new d,E.prototype.constructor=E}function s(E,u,d){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((u==="le"||u==="be")&&(d=u,u=10),this._init(E||0,u||10,d||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Ec.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,d){return u.cmp(d)>0?u:d},s.min=function(u,d){return u.cmp(d)<0?u:d},s.prototype._init=function(u,d,m){if(typeof u=="number")return this._initNumber(u,d,m);if(typeof u=="object")return this._initArray(u,d,m);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),u=u.toString().replace(/\s+/g,"");var _=0;u[0]==="-"&&(_++,this.negative=1),_<u.length&&(d===16?this._parseHex(u,_,m):(this._parseBase(u,d,_),m==="le"&&this._initArray(this.toArray(),d,m)))},s.prototype._initNumber=function(u,d,m){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),d,m)},s.prototype._initArray=function(u,d,m){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S,M,T=0;if(m==="be")for(_=u.length-1,S=0;_>=0;_-=3)M=u[_]|u[_-1]<<8|u[_-2]<<16,this.words[S]|=M<<T&67108863,this.words[S+1]=M>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);else if(m==="le")for(_=0,S=0;_<u.length;_+=3)M=u[_]|u[_+1]<<8|u[_+2]<<16,this.words[S]|=M<<T&67108863,this.words[S+1]=M>>>26-T&67108863,T+=24,T>=26&&(T-=26,S++);return this._strip()};function a(E,u){var d=E.charCodeAt(u);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+E)}function f(E,u,d){var m=a(E,d);return d-1>=u&&(m|=a(E,d-1)<<4),m}s.prototype._parseHex=function(u,d,m){this.length=Math.ceil((u.length-d)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var S=0,M=0,T;if(m==="be")for(_=u.length-1;_>=d;_-=2)T=f(u,d,_)<<S,this.words[M]|=T&67108863,S>=18?(S-=18,M+=1,this.words[M]|=T>>>26):S+=8;else{var w=u.length-d;for(_=w%2===0?d+1:d;_<u.length;_+=2)T=f(u,d,_)<<S,this.words[M]|=T&67108863,S>=18?(S-=18,M+=1,this.words[M]|=T>>>26):S+=8}this._strip()};function b(E,u,d,m){for(var _=0,S=0,M=Math.min(E.length,d),T=u;T<M;T++){var w=E.charCodeAt(T)-48;_*=m,w>=49?S=w-49+10:w>=17?S=w-17+10:S=w,n(w>=0&&S<m,"Invalid character"),_+=S}return _}s.prototype._parseBase=function(u,d,m){this.words=[0],this.length=1;for(var _=0,S=1;S<=67108863;S*=d)_++;_--,S=S/d|0;for(var M=u.length-m,T=M%_,w=Math.min(M,M-T)+m,c=0,y=m;y<w;y+=_)c=b(u,y,y+_,d),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(T!==0){var R=1;for(c=b(u,y,u.length,d),y=0;y<T;y++)R*=d;this.imuln(R),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var d=0;d<this.length;d++)u.words[d]=this.words[d];u.length=this.length,u.negative=this.negative,u.red=this.red};function g(E,u){E.words=u.words,E.length=u.length,E.negative=u.negative,E.red=u.red}if(s.prototype._move=function(u){g(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{s.prototype.inspect=C}else s.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,d){u=u||10,d=d|0||1;var m;if(u===16||u==="hex"){m="";for(var _=0,S=0,M=0;M<this.length;M++){var T=this.words[M],w=((T<<_|S)&16777215).toString(16);S=T>>>24-_&16777215,_+=2,_>=26&&(_-=26,M--),S!==0||M!==this.length-1?m=x[6-w.length]+w+m:m=w+m}for(S!==0&&(m=S.toString(16)+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(u===(u|0)&&u>=2&&u<=36){var c=I[u],y=N[u];m="";var R=this.clone();for(R.negative=0;!R.isZero();){var D=R.modrn(y).toString(u);R=R.idivn(y),R.isZero()?m=D+m:m=x[c-D.length]+D+m}for(this.isZero()&&(m="0"+m);m.length%d!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,d){return this.toArrayLike(o,u,d)}),s.prototype.toArray=function(u,d){return this.toArrayLike(Array,u,d)};var H=function(u,d){return u.allocUnsafe?u.allocUnsafe(d):new u(d)};s.prototype.toArrayLike=function(u,d,m){this._strip();var _=this.byteLength(),S=m||Math.max(1,_);n(_<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var M=H(u,S),T=d==="le"?"LE":"BE";return this["_toArrayLike"+T](M,_),M},s.prototype._toArrayLikeLE=function(u,d){for(var m=0,_=0,S=0,M=0;S<this.length;S++){var T=this.words[S]<<M|_;u[m++]=T&255,m<u.length&&(u[m++]=T>>8&255),m<u.length&&(u[m++]=T>>16&255),M===6?(m<u.length&&(u[m++]=T>>24&255),_=0,M=0):(_=T>>>24,M+=2)}if(m<u.length)for(u[m++]=_;m<u.length;)u[m++]=0},s.prototype._toArrayLikeBE=function(u,d){for(var m=u.length-1,_=0,S=0,M=0;S<this.length;S++){var T=this.words[S]<<M|_;u[m--]=T&255,m>=0&&(u[m--]=T>>8&255),m>=0&&(u[m--]=T>>16&255),M===6?(m>=0&&(u[m--]=T>>24&255),_=0,M=0):(_=T>>>24,M+=2)}if(m>=0)for(u[m--]=_;m>=0;)u[m--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var d=u,m=0;return d>=4096&&(m+=13,d>>>=13),d>=64&&(m+=7,d>>>=7),d>=8&&(m+=4,d>>>=4),d>=2&&(m+=2,d>>>=2),m+d},s.prototype._zeroBits=function(u){if(u===0)return 26;var d=u,m=0;return d&8191||(m+=13,d>>>=13),d&127||(m+=7,d>>>=7),d&15||(m+=4,d>>>=4),d&3||(m+=2,d>>>=2),d&1||m++,m},s.prototype.bitLength=function(){var u=this.words[this.length-1],d=this._countBits(u);return(this.length-1)*26+d};function $(E){for(var u=new Array(E.bitLength()),d=0;d<u.length;d++){var m=d/26|0,_=d%26;u[d]=E.words[m]>>>_&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,d=0;d<this.length;d++){var m=this._zeroBits(this.words[d]);if(u+=m,m!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var d=0;d<u.length;d++)this.words[d]=this.words[d]|u.words[d];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var d;this.length>u.length?d=u:d=this;for(var m=0;m<d.length;m++)this.words[m]=this.words[m]&u.words[m];return this.length=d.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var d,m;this.length>u.length?(d=this,m=u):(d=u,m=this);for(var _=0;_<m.length;_++)this.words[_]=d.words[_]^m.words[_];if(this!==d)for(;_<d.length;_++)this.words[_]=d.words[_];return this.length=d.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var d=Math.ceil(u/26)|0,m=u%26;this._expand(d),m>0&&d--;for(var _=0;_<d;_++)this.words[_]=~this.words[_]&67108863;return m>0&&(this.words[_]=~this.words[_]&67108863>>26-m),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,d){n(typeof u=="number"&&u>=0);var m=u/26|0,_=u%26;return this._expand(m+1),d?this.words[m]=this.words[m]|1<<_:this.words[m]=this.words[m]&~(1<<_),this._strip()},s.prototype.iadd=function(u){var d;if(this.negative!==0&&u.negative===0)return this.negative=0,d=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,d=this.isub(u),u.negative=1,d._normSign();var m,_;this.length>u.length?(m=this,_=u):(m=u,_=this);for(var S=0,M=0;M<_.length;M++)d=(m.words[M]|0)+(_.words[M]|0)+S,this.words[M]=d&67108863,S=d>>>26;for(;S!==0&&M<m.length;M++)d=(m.words[M]|0)+S,this.words[M]=d&67108863,S=d>>>26;if(this.length=m.length,S!==0)this.words[this.length]=S,this.length++;else if(m!==this)for(;M<m.length;M++)this.words[M]=m.words[M];return this},s.prototype.add=function(u){var d;return u.negative!==0&&this.negative===0?(u.negative=0,d=this.sub(u),u.negative^=1,d):u.negative===0&&this.negative!==0?(this.negative=0,d=u.sub(this),this.negative=1,d):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var d=this.iadd(u);return u.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var m=this.cmp(u);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,S;m>0?(_=this,S=u):(_=u,S=this);for(var M=0,T=0;T<S.length;T++)d=(_.words[T]|0)-(S.words[T]|0)+M,M=d>>26,this.words[T]=d&67108863;for(;M!==0&&T<_.length;T++)d=(_.words[T]|0)+M,M=d>>26,this.words[T]=d&67108863;if(M===0&&T<_.length&&_!==this)for(;T<_.length;T++)this.words[T]=_.words[T];return this.length=Math.max(this.length,T),_!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function P(E,u,d){d.negative=u.negative^E.negative;var m=E.length+u.length|0;d.length=m,m=m-1|0;var _=E.words[0]|0,S=u.words[0]|0,M=_*S,T=M&67108863,w=M/67108864|0;d.words[0]=T;for(var c=1;c<m;c++){for(var y=w>>>26,R=w&67108863,D=Math.min(c,u.length-1),j=Math.max(0,c-E.length+1);j<=D;j++){var Z=c-j|0;_=E.words[Z]|0,S=u.words[j]|0,M=_*S+R,y+=M/67108864|0,R=M&67108863}d.words[c]=R|0,w=y|0}return w!==0?d.words[c]=w|0:d.length--,d._strip()}var F=function(u,d,m){var _=u.words,S=d.words,M=m.words,T=0,w,c,y,R=_[0]|0,D=R&8191,j=R>>>13,Z=_[1]|0,W=Z&8191,z=Z>>>13,pe=_[2]|0,ae=pe&8191,me=pe>>>13,ut=_[3]|0,ye=ut&8191,_e=ut>>>13,Dt=_[4]|0,Ee=Dt&8191,Ce=Dt>>>13,B=_[5]|0,ke=B&8191,xe=B>>>13,ht=_[6]|0,Ie=ht&8191,Ae=ht>>>13,wt=_[7]|0,Te=wt&8191,p=wt>>>13,l=_[8]|0,h=l&8191,v=l>>>13,k=_[9]|0,A=k&8191,O=k>>>13,ie=S[0]|0,re=ie&8191,J=ie>>>13,Me=S[1]|0,Q=Me&8191,Re=Me>>>13,Vr=S[2]|0,Ne=Vr&8191,Be=Vr>>>13,qr=S[3]|0,Le=qr&8191,De=qr>>>13,Gr=S[4]|0,Pe=Gr&8191,je=Gr>>>13,Zr=S[5]|0,Fe=Zr&8191,$e=Zr>>>13,Qr=S[6]|0,Ue=Qr&8191,We=Qr>>>13,Yr=S[7]|0,He=Yr&8191,ze=Yr>>>13,Kr=S[8]|0,Ve=Kr&8191,qe=Kr>>>13,Jr=S[9]|0,Ge=Jr&8191,Ze=Jr>>>13;m.negative=u.negative^d.negative,m.length=19,w=Math.imul(D,re),c=Math.imul(D,J),c=c+Math.imul(j,re)|0,y=Math.imul(j,J);var yr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(yr>>>26)|0,yr&=67108863,w=Math.imul(W,re),c=Math.imul(W,J),c=c+Math.imul(z,re)|0,y=Math.imul(z,J),w=w+Math.imul(D,Q)|0,c=c+Math.imul(D,Re)|0,c=c+Math.imul(j,Q)|0,y=y+Math.imul(j,Re)|0;var gr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(gr>>>26)|0,gr&=67108863,w=Math.imul(ae,re),c=Math.imul(ae,J),c=c+Math.imul(me,re)|0,y=Math.imul(me,J),w=w+Math.imul(W,Q)|0,c=c+Math.imul(W,Re)|0,c=c+Math.imul(z,Q)|0,y=y+Math.imul(z,Re)|0,w=w+Math.imul(D,Ne)|0,c=c+Math.imul(D,Be)|0,c=c+Math.imul(j,Ne)|0,y=y+Math.imul(j,Be)|0;var br=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(br>>>26)|0,br&=67108863,w=Math.imul(ye,re),c=Math.imul(ye,J),c=c+Math.imul(_e,re)|0,y=Math.imul(_e,J),w=w+Math.imul(ae,Q)|0,c=c+Math.imul(ae,Re)|0,c=c+Math.imul(me,Q)|0,y=y+Math.imul(me,Re)|0,w=w+Math.imul(W,Ne)|0,c=c+Math.imul(W,Be)|0,c=c+Math.imul(z,Ne)|0,y=y+Math.imul(z,Be)|0,w=w+Math.imul(D,Le)|0,c=c+Math.imul(D,De)|0,c=c+Math.imul(j,Le)|0,y=y+Math.imul(j,De)|0;var mr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(mr>>>26)|0,mr&=67108863,w=Math.imul(Ee,re),c=Math.imul(Ee,J),c=c+Math.imul(Ce,re)|0,y=Math.imul(Ce,J),w=w+Math.imul(ye,Q)|0,c=c+Math.imul(ye,Re)|0,c=c+Math.imul(_e,Q)|0,y=y+Math.imul(_e,Re)|0,w=w+Math.imul(ae,Ne)|0,c=c+Math.imul(ae,Be)|0,c=c+Math.imul(me,Ne)|0,y=y+Math.imul(me,Be)|0,w=w+Math.imul(W,Le)|0,c=c+Math.imul(W,De)|0,c=c+Math.imul(z,Le)|0,y=y+Math.imul(z,De)|0,w=w+Math.imul(D,Pe)|0,c=c+Math.imul(D,je)|0,c=c+Math.imul(j,Pe)|0,y=y+Math.imul(j,je)|0;var vr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(vr>>>26)|0,vr&=67108863,w=Math.imul(ke,re),c=Math.imul(ke,J),c=c+Math.imul(xe,re)|0,y=Math.imul(xe,J),w=w+Math.imul(Ee,Q)|0,c=c+Math.imul(Ee,Re)|0,c=c+Math.imul(Ce,Q)|0,y=y+Math.imul(Ce,Re)|0,w=w+Math.imul(ye,Ne)|0,c=c+Math.imul(ye,Be)|0,c=c+Math.imul(_e,Ne)|0,y=y+Math.imul(_e,Be)|0,w=w+Math.imul(ae,Le)|0,c=c+Math.imul(ae,De)|0,c=c+Math.imul(me,Le)|0,y=y+Math.imul(me,De)|0,w=w+Math.imul(W,Pe)|0,c=c+Math.imul(W,je)|0,c=c+Math.imul(z,Pe)|0,y=y+Math.imul(z,je)|0,w=w+Math.imul(D,Fe)|0,c=c+Math.imul(D,$e)|0,c=c+Math.imul(j,Fe)|0,y=y+Math.imul(j,$e)|0;var wr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,w=Math.imul(Ie,re),c=Math.imul(Ie,J),c=c+Math.imul(Ae,re)|0,y=Math.imul(Ae,J),w=w+Math.imul(ke,Q)|0,c=c+Math.imul(ke,Re)|0,c=c+Math.imul(xe,Q)|0,y=y+Math.imul(xe,Re)|0,w=w+Math.imul(Ee,Ne)|0,c=c+Math.imul(Ee,Be)|0,c=c+Math.imul(Ce,Ne)|0,y=y+Math.imul(Ce,Be)|0,w=w+Math.imul(ye,Le)|0,c=c+Math.imul(ye,De)|0,c=c+Math.imul(_e,Le)|0,y=y+Math.imul(_e,De)|0,w=w+Math.imul(ae,Pe)|0,c=c+Math.imul(ae,je)|0,c=c+Math.imul(me,Pe)|0,y=y+Math.imul(me,je)|0,w=w+Math.imul(W,Fe)|0,c=c+Math.imul(W,$e)|0,c=c+Math.imul(z,Fe)|0,y=y+Math.imul(z,$e)|0,w=w+Math.imul(D,Ue)|0,c=c+Math.imul(D,We)|0,c=c+Math.imul(j,Ue)|0,y=y+Math.imul(j,We)|0;var _r=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(_r>>>26)|0,_r&=67108863,w=Math.imul(Te,re),c=Math.imul(Te,J),c=c+Math.imul(p,re)|0,y=Math.imul(p,J),w=w+Math.imul(Ie,Q)|0,c=c+Math.imul(Ie,Re)|0,c=c+Math.imul(Ae,Q)|0,y=y+Math.imul(Ae,Re)|0,w=w+Math.imul(ke,Ne)|0,c=c+Math.imul(ke,Be)|0,c=c+Math.imul(xe,Ne)|0,y=y+Math.imul(xe,Be)|0,w=w+Math.imul(Ee,Le)|0,c=c+Math.imul(Ee,De)|0,c=c+Math.imul(Ce,Le)|0,y=y+Math.imul(Ce,De)|0,w=w+Math.imul(ye,Pe)|0,c=c+Math.imul(ye,je)|0,c=c+Math.imul(_e,Pe)|0,y=y+Math.imul(_e,je)|0,w=w+Math.imul(ae,Fe)|0,c=c+Math.imul(ae,$e)|0,c=c+Math.imul(me,Fe)|0,y=y+Math.imul(me,$e)|0,w=w+Math.imul(W,Ue)|0,c=c+Math.imul(W,We)|0,c=c+Math.imul(z,Ue)|0,y=y+Math.imul(z,We)|0,w=w+Math.imul(D,He)|0,c=c+Math.imul(D,ze)|0,c=c+Math.imul(j,He)|0,y=y+Math.imul(j,ze)|0;var Sr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,w=Math.imul(h,re),c=Math.imul(h,J),c=c+Math.imul(v,re)|0,y=Math.imul(v,J),w=w+Math.imul(Te,Q)|0,c=c+Math.imul(Te,Re)|0,c=c+Math.imul(p,Q)|0,y=y+Math.imul(p,Re)|0,w=w+Math.imul(Ie,Ne)|0,c=c+Math.imul(Ie,Be)|0,c=c+Math.imul(Ae,Ne)|0,y=y+Math.imul(Ae,Be)|0,w=w+Math.imul(ke,Le)|0,c=c+Math.imul(ke,De)|0,c=c+Math.imul(xe,Le)|0,y=y+Math.imul(xe,De)|0,w=w+Math.imul(Ee,Pe)|0,c=c+Math.imul(Ee,je)|0,c=c+Math.imul(Ce,Pe)|0,y=y+Math.imul(Ce,je)|0,w=w+Math.imul(ye,Fe)|0,c=c+Math.imul(ye,$e)|0,c=c+Math.imul(_e,Fe)|0,y=y+Math.imul(_e,$e)|0,w=w+Math.imul(ae,Ue)|0,c=c+Math.imul(ae,We)|0,c=c+Math.imul(me,Ue)|0,y=y+Math.imul(me,We)|0,w=w+Math.imul(W,He)|0,c=c+Math.imul(W,ze)|0,c=c+Math.imul(z,He)|0,y=y+Math.imul(z,ze)|0,w=w+Math.imul(D,Ve)|0,c=c+Math.imul(D,qe)|0,c=c+Math.imul(j,Ve)|0,y=y+Math.imul(j,qe)|0;var Er=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,w=Math.imul(A,re),c=Math.imul(A,J),c=c+Math.imul(O,re)|0,y=Math.imul(O,J),w=w+Math.imul(h,Q)|0,c=c+Math.imul(h,Re)|0,c=c+Math.imul(v,Q)|0,y=y+Math.imul(v,Re)|0,w=w+Math.imul(Te,Ne)|0,c=c+Math.imul(Te,Be)|0,c=c+Math.imul(p,Ne)|0,y=y+Math.imul(p,Be)|0,w=w+Math.imul(Ie,Le)|0,c=c+Math.imul(Ie,De)|0,c=c+Math.imul(Ae,Le)|0,y=y+Math.imul(Ae,De)|0,w=w+Math.imul(ke,Pe)|0,c=c+Math.imul(ke,je)|0,c=c+Math.imul(xe,Pe)|0,y=y+Math.imul(xe,je)|0,w=w+Math.imul(Ee,Fe)|0,c=c+Math.imul(Ee,$e)|0,c=c+Math.imul(Ce,Fe)|0,y=y+Math.imul(Ce,$e)|0,w=w+Math.imul(ye,Ue)|0,c=c+Math.imul(ye,We)|0,c=c+Math.imul(_e,Ue)|0,y=y+Math.imul(_e,We)|0,w=w+Math.imul(ae,He)|0,c=c+Math.imul(ae,ze)|0,c=c+Math.imul(me,He)|0,y=y+Math.imul(me,ze)|0,w=w+Math.imul(W,Ve)|0,c=c+Math.imul(W,qe)|0,c=c+Math.imul(z,Ve)|0,y=y+Math.imul(z,qe)|0,w=w+Math.imul(D,Ge)|0,c=c+Math.imul(D,Ze)|0,c=c+Math.imul(j,Ge)|0,y=y+Math.imul(j,Ze)|0;var xr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,w=Math.imul(A,Q),c=Math.imul(A,Re),c=c+Math.imul(O,Q)|0,y=Math.imul(O,Re),w=w+Math.imul(h,Ne)|0,c=c+Math.imul(h,Be)|0,c=c+Math.imul(v,Ne)|0,y=y+Math.imul(v,Be)|0,w=w+Math.imul(Te,Le)|0,c=c+Math.imul(Te,De)|0,c=c+Math.imul(p,Le)|0,y=y+Math.imul(p,De)|0,w=w+Math.imul(Ie,Pe)|0,c=c+Math.imul(Ie,je)|0,c=c+Math.imul(Ae,Pe)|0,y=y+Math.imul(Ae,je)|0,w=w+Math.imul(ke,Fe)|0,c=c+Math.imul(ke,$e)|0,c=c+Math.imul(xe,Fe)|0,y=y+Math.imul(xe,$e)|0,w=w+Math.imul(Ee,Ue)|0,c=c+Math.imul(Ee,We)|0,c=c+Math.imul(Ce,Ue)|0,y=y+Math.imul(Ce,We)|0,w=w+Math.imul(ye,He)|0,c=c+Math.imul(ye,ze)|0,c=c+Math.imul(_e,He)|0,y=y+Math.imul(_e,ze)|0,w=w+Math.imul(ae,Ve)|0,c=c+Math.imul(ae,qe)|0,c=c+Math.imul(me,Ve)|0,y=y+Math.imul(me,qe)|0,w=w+Math.imul(W,Ge)|0,c=c+Math.imul(W,Ze)|0,c=c+Math.imul(z,Ge)|0,y=y+Math.imul(z,Ze)|0;var Mr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,w=Math.imul(A,Ne),c=Math.imul(A,Be),c=c+Math.imul(O,Ne)|0,y=Math.imul(O,Be),w=w+Math.imul(h,Le)|0,c=c+Math.imul(h,De)|0,c=c+Math.imul(v,Le)|0,y=y+Math.imul(v,De)|0,w=w+Math.imul(Te,Pe)|0,c=c+Math.imul(Te,je)|0,c=c+Math.imul(p,Pe)|0,y=y+Math.imul(p,je)|0,w=w+Math.imul(Ie,Fe)|0,c=c+Math.imul(Ie,$e)|0,c=c+Math.imul(Ae,Fe)|0,y=y+Math.imul(Ae,$e)|0,w=w+Math.imul(ke,Ue)|0,c=c+Math.imul(ke,We)|0,c=c+Math.imul(xe,Ue)|0,y=y+Math.imul(xe,We)|0,w=w+Math.imul(Ee,He)|0,c=c+Math.imul(Ee,ze)|0,c=c+Math.imul(Ce,He)|0,y=y+Math.imul(Ce,ze)|0,w=w+Math.imul(ye,Ve)|0,c=c+Math.imul(ye,qe)|0,c=c+Math.imul(_e,Ve)|0,y=y+Math.imul(_e,qe)|0,w=w+Math.imul(ae,Ge)|0,c=c+Math.imul(ae,Ze)|0,c=c+Math.imul(me,Ge)|0,y=y+Math.imul(me,Ze)|0;var kr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(A,Le),c=Math.imul(A,De),c=c+Math.imul(O,Le)|0,y=Math.imul(O,De),w=w+Math.imul(h,Pe)|0,c=c+Math.imul(h,je)|0,c=c+Math.imul(v,Pe)|0,y=y+Math.imul(v,je)|0,w=w+Math.imul(Te,Fe)|0,c=c+Math.imul(Te,$e)|0,c=c+Math.imul(p,Fe)|0,y=y+Math.imul(p,$e)|0,w=w+Math.imul(Ie,Ue)|0,c=c+Math.imul(Ie,We)|0,c=c+Math.imul(Ae,Ue)|0,y=y+Math.imul(Ae,We)|0,w=w+Math.imul(ke,He)|0,c=c+Math.imul(ke,ze)|0,c=c+Math.imul(xe,He)|0,y=y+Math.imul(xe,ze)|0,w=w+Math.imul(Ee,Ve)|0,c=c+Math.imul(Ee,qe)|0,c=c+Math.imul(Ce,Ve)|0,y=y+Math.imul(Ce,qe)|0,w=w+Math.imul(ye,Ge)|0,c=c+Math.imul(ye,Ze)|0,c=c+Math.imul(_e,Ge)|0,y=y+Math.imul(_e,Ze)|0;var Cr=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,w=Math.imul(A,Pe),c=Math.imul(A,je),c=c+Math.imul(O,Pe)|0,y=Math.imul(O,je),w=w+Math.imul(h,Fe)|0,c=c+Math.imul(h,$e)|0,c=c+Math.imul(v,Fe)|0,y=y+Math.imul(v,$e)|0,w=w+Math.imul(Te,Ue)|0,c=c+Math.imul(Te,We)|0,c=c+Math.imul(p,Ue)|0,y=y+Math.imul(p,We)|0,w=w+Math.imul(Ie,He)|0,c=c+Math.imul(Ie,ze)|0,c=c+Math.imul(Ae,He)|0,y=y+Math.imul(Ae,ze)|0,w=w+Math.imul(ke,Ve)|0,c=c+Math.imul(ke,qe)|0,c=c+Math.imul(xe,Ve)|0,y=y+Math.imul(xe,qe)|0,w=w+Math.imul(Ee,Ge)|0,c=c+Math.imul(Ee,Ze)|0,c=c+Math.imul(Ce,Ge)|0,y=y+Math.imul(Ce,Ze)|0;var Ir=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,w=Math.imul(A,Fe),c=Math.imul(A,$e),c=c+Math.imul(O,Fe)|0,y=Math.imul(O,$e),w=w+Math.imul(h,Ue)|0,c=c+Math.imul(h,We)|0,c=c+Math.imul(v,Ue)|0,y=y+Math.imul(v,We)|0,w=w+Math.imul(Te,He)|0,c=c+Math.imul(Te,ze)|0,c=c+Math.imul(p,He)|0,y=y+Math.imul(p,ze)|0,w=w+Math.imul(Ie,Ve)|0,c=c+Math.imul(Ie,qe)|0,c=c+Math.imul(Ae,Ve)|0,y=y+Math.imul(Ae,qe)|0,w=w+Math.imul(ke,Ge)|0,c=c+Math.imul(ke,Ze)|0,c=c+Math.imul(xe,Ge)|0,y=y+Math.imul(xe,Ze)|0;var qs=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(qs>>>26)|0,qs&=67108863,w=Math.imul(A,Ue),c=Math.imul(A,We),c=c+Math.imul(O,Ue)|0,y=Math.imul(O,We),w=w+Math.imul(h,He)|0,c=c+Math.imul(h,ze)|0,c=c+Math.imul(v,He)|0,y=y+Math.imul(v,ze)|0,w=w+Math.imul(Te,Ve)|0,c=c+Math.imul(Te,qe)|0,c=c+Math.imul(p,Ve)|0,y=y+Math.imul(p,qe)|0,w=w+Math.imul(Ie,Ge)|0,c=c+Math.imul(Ie,Ze)|0,c=c+Math.imul(Ae,Ge)|0,y=y+Math.imul(Ae,Ze)|0;var Gs=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Gs>>>26)|0,Gs&=67108863,w=Math.imul(A,He),c=Math.imul(A,ze),c=c+Math.imul(O,He)|0,y=Math.imul(O,ze),w=w+Math.imul(h,Ve)|0,c=c+Math.imul(h,qe)|0,c=c+Math.imul(v,Ve)|0,y=y+Math.imul(v,qe)|0,w=w+Math.imul(Te,Ge)|0,c=c+Math.imul(Te,Ze)|0,c=c+Math.imul(p,Ge)|0,y=y+Math.imul(p,Ze)|0;var Zs=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Zs>>>26)|0,Zs&=67108863,w=Math.imul(A,Ve),c=Math.imul(A,qe),c=c+Math.imul(O,Ve)|0,y=Math.imul(O,qe),w=w+Math.imul(h,Ge)|0,c=c+Math.imul(h,Ze)|0,c=c+Math.imul(v,Ge)|0,y=y+Math.imul(v,Ze)|0;var Qs=(T+w|0)+((c&8191)<<13)|0;T=(y+(c>>>13)|0)+(Qs>>>26)|0,Qs&=67108863,w=Math.imul(A,Ge),c=Math.imul(A,Ze),c=c+Math.imul(O,Ge)|0,y=Math.imul(O,Ze);var Ys=(T+w|0)+((c&8191)<<13)|0;return T=(y+(c>>>13)|0)+(Ys>>>26)|0,Ys&=67108863,M[0]=yr,M[1]=gr,M[2]=br,M[3]=mr,M[4]=vr,M[5]=wr,M[6]=_r,M[7]=Sr,M[8]=Er,M[9]=xr,M[10]=Mr,M[11]=kr,M[12]=Cr,M[13]=Ir,M[14]=qs,M[15]=Gs,M[16]=Zs,M[17]=Qs,M[18]=Ys,T!==0&&(M[19]=T,m.length++),m};Math.imul||(F=P);function U(E,u,d){d.negative=u.negative^E.negative,d.length=E.length+u.length;for(var m=0,_=0,S=0;S<d.length-1;S++){var M=_;_=0;for(var T=m&67108863,w=Math.min(S,u.length-1),c=Math.max(0,S-E.length+1);c<=w;c++){var y=S-c,R=E.words[y]|0,D=u.words[c]|0,j=R*D,Z=j&67108863;M=M+(j/67108864|0)|0,Z=Z+T|0,T=Z&67108863,M=M+(Z>>>26)|0,_+=M>>>26,M&=67108863}d.words[S]=T,m=M,M=_}return m!==0?d.words[S]=m:d.length--,d._strip()}function V(E,u,d){return U(E,u,d)}s.prototype.mulTo=function(u,d){var m,_=this.length+u.length;return this.length===10&&u.length===10?m=F(this,u,d):_<63?m=P(this,u,d):_<1024?m=U(this,u,d):m=V(this,u,d),m},s.prototype.mul=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),this.mulTo(u,d)},s.prototype.mulf=function(u){var d=new s(null);return d.words=new Array(this.length+u.length),V(this,u,d)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var d=u<0;d&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var m=0,_=0;_<this.length;_++){var S=(this.words[_]|0)*u,M=(S&67108863)+(m&67108863);m>>=26,m+=S/67108864|0,m+=M>>>26,this.words[_]=M&67108863}return m!==0&&(this.words[_]=m,this.length++),d?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var d=$(u);if(d.length===0)return new s(1);for(var m=this,_=0;_<d.length&&d[_]===0;_++,m=m.sqr());if(++_<d.length)for(var S=m.sqr();_<d.length;_++,S=S.sqr())d[_]!==0&&(m=m.mul(S));return m},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,_=67108863>>>26-d<<26-d,S;if(d!==0){var M=0;for(S=0;S<this.length;S++){var T=this.words[S]&_,w=(this.words[S]|0)-T<<d;this.words[S]=w|M,M=T>>>26-d}M&&(this.words[S]=M,this.length++)}if(m!==0){for(S=this.length-1;S>=0;S--)this.words[S+m]=this.words[S];for(S=0;S<m;S++)this.words[S]=0;this.length+=m}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,d,m){n(typeof u=="number"&&u>=0);var _;d?_=(d-d%26)/26:_=0;var S=u%26,M=Math.min((u-S)/26,this.length),T=67108863^67108863>>>S<<S,w=m;if(_-=M,_=Math.max(0,_),w){for(var c=0;c<M;c++)w.words[c]=this.words[c];w.length=M}if(M!==0)if(this.length>M)for(this.length-=M,c=0;c<this.length;c++)this.words[c]=this.words[c+M];else this.words[0]=0,this.length=1;var y=0;for(c=this.length-1;c>=0&&(y!==0||c>=_);c--){var R=this.words[c]|0;this.words[c]=y<<26-S|R>>>S,y=R&T}return w&&y!==0&&(w.words[w.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,d,m){return n(this.negative===0),this.iushrn(u,d,m)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26,_=1<<d;if(this.length<=m)return!1;var S=this.words[m];return!!(S&_)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var d=u%26,m=(u-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(d!==0&&m++,this.length=Math.min(m,this.length),d!==0){var _=67108863^67108863>>>d<<d;this.words[this.length-1]&=_}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,d,m){var _=u.length+m,S;this._expand(_);var M,T=0;for(S=0;S<u.length;S++){M=(this.words[S+m]|0)+T;var w=(u.words[S]|0)*d;M-=w&67108863,T=(M>>26)-(w/67108864|0),this.words[S+m]=M&67108863}for(;S<this.length-m;S++)M=(this.words[S+m]|0)+T,T=M>>26,this.words[S+m]=M&67108863;if(T===0)return this._strip();for(n(T===-1),T=0,S=0;S<this.length;S++)M=-(this.words[S]|0)+T,T=M>>26,this.words[S]=M&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,d){var m=this.length-u.length,_=this.clone(),S=u,M=S.words[S.length-1]|0,T=this._countBits(M);m=26-T,m!==0&&(S=S.ushln(m),_.iushln(m),M=S.words[S.length-1]|0);var w=_.length-S.length,c;if(d!=="mod"){c=new s(null),c.length=w+1,c.words=new Array(c.length);for(var y=0;y<c.length;y++)c.words[y]=0}var R=_.clone()._ishlnsubmul(S,1,w);R.negative===0&&(_=R,c&&(c.words[w]=1));for(var D=w-1;D>=0;D--){var j=(_.words[S.length+D]|0)*67108864+(_.words[S.length+D-1]|0);for(j=Math.min(j/M|0,67108863),_._ishlnsubmul(S,j,D);_.negative!==0;)j--,_.negative=0,_._ishlnsubmul(S,1,D),_.isZero()||(_.negative^=1);c&&(c.words[D]=j)}return c&&c._strip(),_._strip(),d!=="div"&&m!==0&&_.iushrn(m),{div:c||null,mod:_}},s.prototype.divmod=function(u,d,m){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var _,S,M;return this.negative!==0&&u.negative===0?(M=this.neg().divmod(u,d),d!=="mod"&&(_=M.div.neg()),d!=="div"&&(S=M.mod.neg(),m&&S.negative!==0&&S.iadd(u)),{div:_,mod:S}):this.negative===0&&u.negative!==0?(M=this.divmod(u.neg(),d),d!=="mod"&&(_=M.div.neg()),{div:_,mod:M.mod}):this.negative&u.negative?(M=this.neg().divmod(u.neg(),d),d!=="div"&&(S=M.mod.neg(),m&&S.negative!==0&&S.isub(u)),{div:M.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?d==="div"?{div:this.divn(u.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,d)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var d=this.divmod(u);if(d.mod.isZero())return d.div;var m=d.div.negative!==0?d.mod.isub(u):d.mod,_=u.ushrn(1),S=u.andln(1),M=m.cmp(_);return M<0||S===1&&M===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=(1<<26)%u,_=0,S=this.length-1;S>=0;S--)_=(m*_+(this.words[S]|0))%u;return d?-_:_},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var d=u<0;d&&(u=-u),n(u<=67108863);for(var m=0,_=this.length-1;_>=0;_--){var S=(this.words[_]|0)+m*67108864;this.words[_]=S/u|0,m=S%u}return this._strip(),d?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var _=new s(1),S=new s(0),M=new s(0),T=new s(1),w=0;d.isEven()&&m.isEven();)d.iushrn(1),m.iushrn(1),++w;for(var c=m.clone(),y=d.clone();!d.isZero();){for(var R=0,D=1;!(d.words[0]&D)&&R<26;++R,D<<=1);if(R>0)for(d.iushrn(R);R-- >0;)(_.isOdd()||S.isOdd())&&(_.iadd(c),S.isub(y)),_.iushrn(1),S.iushrn(1);for(var j=0,Z=1;!(m.words[0]&Z)&&j<26;++j,Z<<=1);if(j>0)for(m.iushrn(j);j-- >0;)(M.isOdd()||T.isOdd())&&(M.iadd(c),T.isub(y)),M.iushrn(1),T.iushrn(1);d.cmp(m)>=0?(d.isub(m),_.isub(M),S.isub(T)):(m.isub(d),M.isub(_),T.isub(S))}return{a:M,b:T,gcd:m.iushln(w)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var d=this,m=u.clone();d.negative!==0?d=d.umod(u):d=d.clone();for(var _=new s(1),S=new s(0),M=m.clone();d.cmpn(1)>0&&m.cmpn(1)>0;){for(var T=0,w=1;!(d.words[0]&w)&&T<26;++T,w<<=1);if(T>0)for(d.iushrn(T);T-- >0;)_.isOdd()&&_.iadd(M),_.iushrn(1);for(var c=0,y=1;!(m.words[0]&y)&&c<26;++c,y<<=1);if(c>0)for(m.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(M),S.iushrn(1);d.cmp(m)>=0?(d.isub(m),_.isub(S)):(m.isub(d),S.isub(_))}var R;return d.cmpn(1)===0?R=_:R=S,R.cmpn(0)<0&&R.iadd(u),R},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var d=this.clone(),m=u.clone();d.negative=0,m.negative=0;for(var _=0;d.isEven()&&m.isEven();_++)d.iushrn(1),m.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;m.isEven();)m.iushrn(1);var S=d.cmp(m);if(S<0){var M=d;d=m,m=M}else if(S===0||m.cmpn(1)===0)break;d.isub(m)}while(!0);return m.iushln(_)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var d=u%26,m=(u-d)/26,_=1<<d;if(this.length<=m)return this._expand(m+1),this.words[m]|=_,this;for(var S=_,M=m;S!==0&&M<this.length;M++){var T=this.words[M]|0;T+=S,S=T>>>26,T&=67108863,this.words[M]=T}return S!==0&&(this.words[M]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var d=u<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var m;if(this.length>1)m=1;else{d&&(u=-u),n(u<=67108863,"Number is too big");var _=this.words[0]|0;m=_===u?0:_<u?-1:1}return this.negative!==0?-m|0:m},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var d=this.ucmp(u);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var d=0,m=this.length-1;m>=0;m--){var _=this.words[m]|0,S=u.words[m]|0;if(_!==S){_<S?d=-1:_>S&&(d=1);break}}return d},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new Y(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var ee={k256:null,p224:null,p192:null,p25519:null};function K(E,u){this.name=E,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},K.prototype.ireduce=function(u){var d=u,m;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),m=d.bitLength();while(m>this.n);var _=m<this.n?-1:d.ucmp(this.p);return _===0?(d.words[0]=0,d.length=1):_>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},K.prototype.split=function(u,d){u.iushrn(this.n,0,d)},K.prototype.imulK=function(u){return u.imul(this.k)};function te(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(te,K),te.prototype.split=function(u,d){for(var m=4194303,_=Math.min(u.length,9),S=0;S<_;S++)d.words[S]=u.words[S];if(d.length=_,u.length<=9){u.words[0]=0,u.length=1;return}var M=u.words[9];for(d.words[d.length++]=M&m,S=10;S<u.length;S++){var T=u.words[S]|0;u.words[S-10]=(T&m)<<4|M>>>22,M=T}M>>>=22,u.words[S-10]=M,M===0&&u.length>10?u.length-=10:u.length-=9},te.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var d=0,m=0;m<u.length;m++){var _=u.words[m]|0;d+=_*977,u.words[m]=d&67108863,d=_*64+(d/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function fe(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(fe,K);function de(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(de,K);function we(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(we,K),we.prototype.imulK=function(u){for(var d=0,m=0;m<u.length;m++){var _=(u.words[m]|0)*19+d,S=_&67108863;_>>>=26,u.words[m]=S,d=_}return d!==0&&(u.words[u.length++]=d),u},s._prime=function(u){if(ee[u])return ee[u];var d;if(u==="k256")d=new te;else if(u==="p224")d=new fe;else if(u==="p192")d=new de;else if(u==="p25519")d=new we;else throw new Error("Unknown prime "+u);return ee[u]=d,d};function Y(E){if(typeof E=="string"){var u=s._prime(E);this.m=u.p,this.prime=u}else n(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}Y.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},Y.prototype._verify2=function(u,d){n((u.negative|d.negative)===0,"red works only with positives"),n(u.red&&u.red===d.red,"red works only with red numbers")},Y.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(g(u,u.umod(this.m)._forceRed(this)),u)},Y.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},Y.prototype.add=function(u,d){this._verify2(u,d);var m=u.add(d);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},Y.prototype.iadd=function(u,d){this._verify2(u,d);var m=u.iadd(d);return m.cmp(this.m)>=0&&m.isub(this.m),m},Y.prototype.sub=function(u,d){this._verify2(u,d);var m=u.sub(d);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},Y.prototype.isub=function(u,d){this._verify2(u,d);var m=u.isub(d);return m.cmpn(0)<0&&m.iadd(this.m),m},Y.prototype.shl=function(u,d){return this._verify1(u),this.imod(u.ushln(d))},Y.prototype.imul=function(u,d){return this._verify2(u,d),this.imod(u.imul(d))},Y.prototype.mul=function(u,d){return this._verify2(u,d),this.imod(u.mul(d))},Y.prototype.isqr=function(u){return this.imul(u,u.clone())},Y.prototype.sqr=function(u){return this.mul(u,u)},Y.prototype.sqrt=function(u){if(u.isZero())return u.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var m=this.m.add(new s(1)).iushrn(2);return this.pow(u,m)}for(var _=this.m.subn(1),S=0;!_.isZero()&&_.andln(1)===0;)S++,_.iushrn(1);n(!_.isZero());var M=new s(1).toRed(this),T=M.redNeg(),w=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,w).cmp(T)!==0;)c.redIAdd(T);for(var y=this.pow(c,_),R=this.pow(u,_.addn(1).iushrn(1)),D=this.pow(u,_),j=S;D.cmp(M)!==0;){for(var Z=D,W=0;Z.cmp(M)!==0;W++)Z=Z.redSqr();n(W<j);var z=this.pow(y,new s(1).iushln(j-W-1));R=R.redMul(z),y=z.redSqr(),D=D.redMul(y),j=W}return R},Y.prototype.invm=function(u){var d=u._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Y.prototype.pow=function(u,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return u.clone();var m=4,_=new Array(1<<m);_[0]=new s(1).toRed(this),_[1]=u;for(var S=2;S<_.length;S++)_[S]=this.mul(_[S-1],u);var M=_[0],T=0,w=0,c=d.bitLength()%26;for(c===0&&(c=26),S=d.length-1;S>=0;S--){for(var y=d.words[S],R=c-1;R>=0;R--){var D=y>>R&1;if(M!==_[0]&&(M=this.sqr(M)),D===0&&T===0){w=0;continue}T<<=1,T|=D,w++,!(w!==m&&(S!==0||R!==0))&&(M=this.mul(M,_[T]),w=0,T=0)}c=26}return M},Y.prototype.convertTo=function(u){var d=u.umod(this.m);return d===u?d.clone():d},Y.prototype.convertFrom=function(u){var d=u.clone();return d.red=null,d},s.mont=function(u){return new ne(u)};function ne(E){Y.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ne,Y),ne.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ne.prototype.convertFrom=function(u){var d=this.imod(u.mul(this.rinv));return d.red=null,d},ne.prototype.imul=function(u,d){if(u.isZero()||d.isZero())return u.words[0]=0,u.length=1,u;var m=u.imul(d),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(_).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},ne.prototype.mul=function(u,d){if(u.isZero()||d.isZero())return new s(0)._forceRed(this);var m=u.mul(d),_=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=m.isub(_).iushrn(this.shift),M=S;return S.cmp(this.m)>=0?M=S.isub(this.m):S.cmpn(0)<0&&(M=S.iadd(this.m)),M._forceRed(this)},ne.prototype.invm=function(u){var d=this.imod(u._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(t,le)})(vf);var ni={},ur={},wf=Kn;Kn.default=Kn;Kn.stable=Cc;Kn.stableStringify=Cc;var Fi="[...]",Mc="[Circular]",Fr=[],Br=[];function kc(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function Kn(t,e,r,n){typeof n>"u"&&(n=kc()),No(t,"",0,[],void 0,0,n);var i;try{Br.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,Ic(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Fr.length!==0;){var s=Fr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function un(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),Fr.push([n,r,e,i])):Br.push([e,r,t]):(n[r]=t,Fr.push([n,r,e]))}function No(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){un(Mc,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){un(Fi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){un(Fi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)No(t[a],a,a,n,t,s,o);else{var f=Object.keys(t);for(a=0;a<f.length;a++){var b=f[a];No(t[b],b,a,n,t,s,o)}}n.pop()}}function _f(t,e){return t<e?-1:t>e?1:0}function Cc(t,e,r,n){typeof n>"u"&&(n=kc());var i=Bo(t,"",0,[],void 0,0,n)||t,s;try{Br.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,Ic(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Fr.length!==0;){var o=Fr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function Bo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){un(Mc,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){un(Fi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){un(Fi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Bo(t[a],a,a,n,t,s,o);else{var f={},b=Object.keys(t).sort(_f);for(a=0;a<b.length;a++){var g=b[a];Bo(t[g],g,a,n,t,s,o),f[g]=t[g]}if(typeof i<"u")Fr.push([i,e,t]),i[e]=f;else return f}n.pop()}}function Ic(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Br.length>0)for(var n=0;n<Br.length;n++){var i=Br[n];if(i[1]===e&&i[0]===r){r=i[2],Br.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(ur,"__esModule",{value:!0});ur.EthereumProviderError=ur.EthereumRpcError=void 0;const Sf=wf;class Ac extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return Sf.default(this.serialize(),Mf,2)}}ur.EthereumRpcError=Ac;class Ef extends Ac{constructor(e,r,n){if(!xf(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}ur.EthereumProviderError=Ef;function xf(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function Mf(t,e){if(e!=="[Circular]")return e}var sa={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.errorValues=cr.errorCodes=void 0;cr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};cr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=cr,r=ur,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(x,I=i){if(Number.isInteger(x)){const N=x.toString();if(C(e.errorValues,N))return e.errorValues[N].message;if(b(x))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return I}t.getMessageFromCode=o;function a(x){if(!Number.isInteger(x))return!1;const I=x.toString();return!!(e.errorValues[I]||b(x))}t.isValidCode=a;function f(x,{fallbackError:I=s,shouldIncludeStack:N=!1}={}){var H,$;if(!I||!Number.isInteger(I.code)||typeof I.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(x instanceof r.EthereumRpcError)return x.serialize();const P={};if(x&&typeof x=="object"&&!Array.isArray(x)&&C(x,"code")&&a(x.code)){const U=x;P.code=U.code,U.message&&typeof U.message=="string"?(P.message=U.message,C(U,"data")&&(P.data=U.data)):(P.message=o(P.code),P.data={originalError:g(x)})}else{P.code=I.code;const U=(H=x)===null||H===void 0?void 0:H.message;P.message=U&&typeof U=="string"?U:I.message,P.data={originalError:g(x)}}const F=($=x)===null||$===void 0?void 0:$.stack;return N&&x&&F&&typeof F=="string"&&(P.stack=F),P}t.serializeError=f;function b(x){return x>=-32099&&x<=-32e3}function g(x){return x&&typeof x=="object"&&!Array.isArray(x)?Object.assign({},x):x}function C(x,I){return Object.prototype.hasOwnProperty.call(x,I)}})(sa);var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.ethErrors=void 0;const oa=ur,Tc=sa,ft=cr;ns.ethErrors={rpc:{parse:t=>Mt(ft.errorCodes.rpc.parse,t),invalidRequest:t=>Mt(ft.errorCodes.rpc.invalidRequest,t),invalidParams:t=>Mt(ft.errorCodes.rpc.invalidParams,t),methodNotFound:t=>Mt(ft.errorCodes.rpc.methodNotFound,t),internal:t=>Mt(ft.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Mt(e,t)},invalidInput:t=>Mt(ft.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>Mt(ft.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>Mt(ft.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>Mt(ft.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>Mt(ft.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>Mt(ft.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Dn(ft.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Dn(ft.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Dn(ft.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Dn(ft.errorCodes.provider.disconnected,t),chainDisconnected:t=>Dn(ft.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new oa.EthereumProviderError(e,r,n)}}};function Mt(t,e){const[r,n]=Oc(e);return new oa.EthereumRpcError(t,r||Tc.getMessageFromCode(t),n)}function Dn(t,e){const[r,n]=Oc(e);return new oa.EthereumProviderError(t,r||Tc.getMessageFromCode(t),n)}function Oc(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=ur;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=sa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ns;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=cr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(ni);var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.EVENTS=void 0;Cn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var In={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Lo=function(t,e){return Lo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Lo(t,e)};function L(t,e){Lo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function pn(t){return typeof t=="function"}var Ya=!1,Ct={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}Ya=t},get useDeprecatedSynchronousErrorHandling(){return Ya}};function sn(t){setTimeout(function(){throw t},0)}var $i={closed:!0,next:function(t){},error:function(t){if(Ct.useDeprecatedSynchronousErrorHandling)throw t;sn(t)},complete:function(){}},mt=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function aa(t){return t!==null&&typeof t=="object"}var kf=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Wn=kf,Je=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var f=n[a];f.remove(this)}if(pn(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(C){e=C instanceof Wn?Ka(C.errors):[C]}}if(mt(o))for(var a=-1,b=o.length;++a<b;){var g=o[a];if(aa(g))try{g.unsubscribe()}catch(x){e=e||[],x instanceof Wn?e=e.concat(Ka(x.errors)):e.push(x)}}if(e)throw new Wn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function Ka(t){return t.reduce(function(e,r){return e.concat(r instanceof Wn?r.errors:r)},[])}var Ui=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),G=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=$i;break;case 1:if(!r){s.destination=$i;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new Ja(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new Ja(s,r,n,i);break}return s}return e.prototype[Ui]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Je),Ja=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,f=o;return pn(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==$i&&(f=Object.create(n),pn(f.unsubscribe)&&o.add(f.unsubscribe.bind(f)),f.unsubscribe=o.unsubscribe.bind(o))),o._context=f,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Ct.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Ct.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):sn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;sn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Ct.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Ct.useDeprecatedSynchronousErrorHandling)throw i;sn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Ct.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Ct.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(sn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(G);function ua(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof G?t=n:t=null}return!0}function Cf(t,e,r){if(t){if(t instanceof G)return t;if(t[Ui])return t[Ui]()}return!t&&!e&&!r?new G($i):new G(t,e,r)}var An=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function lr(t){return t}function Do(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rc(t)}function Rc(t){return t.length===0?lr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var ce=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=Cf(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Ct.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Ct.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Ct.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),ua(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Xa(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(f){s(f),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[An]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:Rc(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Xa(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function Xa(t){if(t||(t=Ct.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var If=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),ir=If,Nc=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Je),Bc=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(G),at=function(t){L(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Ui]=function(){return new Bc(this)},e.prototype.lift=function(r){var n=new eu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new ir;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new ir;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ir;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new ir;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new ir;return this.hasError?(r.error(this.thrownError),Je.EMPTY):this.isStopped?(r.complete(),Je.EMPTY):(this.observers.push(r),new Nc(this,r))},e.prototype.asObservable=function(){var r=new ce;return r.source=this,r},e.create=function(r,n){return new eu(r,n)},e}(ce),eu=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Je.EMPTY},e}(at);function ca(){return function(e){return e.lift(new Af(e))}}var Af=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new Tf(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),Tf=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(G),Lc=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Je,r.add(this.source.subscribe(new Rf(this.getSubject(),this))),r.closed&&(this._connection=null,r=Je.EMPTY)),r},e.prototype.refCount=function(){return ca()(this)},e}(ce),Of=function(){var t=Lc.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),Rf=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(Bc);function Nf(t,e,r,n){return function(i){return i.lift(new Bf(t,e,r,n))}}var Bf=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new Lf(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),Lf=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(b){this.error(b)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new at,i.set(n,s);var a=new Po(n,s,this);if(this.destination.next(a),this.durationSelector){var f=void 0;try{f=this.durationSelector(new Po(n,s))}catch(b){this.error(b);return}this.add(f.subscribe(new Df(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(G),Df=function(t){L(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(G),Po=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Je,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new Pf(s)),n.add(o.subscribe(r)),n},e}(ce),Pf=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Je),Dc=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ir;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(at),jf=function(t){L(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Je),ii=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(jf),Ff=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(ii),jo=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),si=function(t){L(e,t);function e(r,n){n===void 0&&(n=jo.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(jo),$f=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(si),Pc=new $f(Ff),jc=Pc,yn=new ce(function(t){return t.complete()});function Tn(t){return t?Uf(t):yn}function Uf(t){return new ce(function(e){return t.schedule(function(){return e.complete()})})}function Et(t){return t&&typeof t.schedule=="function"}var Fc=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function la(t,e){return new ce(function(r){var n=new Je,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function oi(t,e){return e?la(t,e):new ce(Fc(t))}function is(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Et(r)?(t.pop(),la(t,r)):oi(t)}function ha(t,e){return e?new ce(function(r){return e.schedule(Wf,0,{error:t,subscriber:r})}):new ce(function(r){return r.error(t)})}function Wf(t){var e=t.error,r=t.subscriber;r.error(e)}var Fo;Fo||(Fo={});var Yt=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return is(this.value);case"E":return ha(this.error);case"C":return Tn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Hf(t,e){return e===void 0&&(e=0),function(n){return n.lift(new zf(t,e))}}var zf=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new $c(e,this.scheduler,this.delay))},t}(),$c=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Vf(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(Yt.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(Yt.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Yt.createComplete()),this.unsubscribe()},e}(G),Vf=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),fa=function(t){L(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new qf(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new ir;if(this.isStopped||this.hasError?a=Je.EMPTY:(this.observers.push(r),a=new Nc(this,r)),s&&r.add(r=new $c(r,s)),n)for(var f=0;f<o&&!r.closed;f++)r.next(i[f]);else for(var f=0;f<o&&!r.closed;f++)r.next(i[f].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||jc).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(at),qf=function(){function t(e,r){this.time=e,this.value=r}return t}(),On=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Je.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Je.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(at),Gf=1,Zf=function(){return Promise.resolve()}(),$o={};function tu(t){return t in $o?(delete $o[t],!0):!1}var ru={setImmediate:function(t){var e=Gf++;return $o[e]=!0,Zf.then(function(){return tu(e)&&t()}),e},clearImmediate:function(t){tu(t)}},Qf=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=ru.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(ru.clearImmediate(n),r.scheduled=void 0)},e}(ii),Yf=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(si),Uc=new Yf(Qf),Oi=Uc,Wc=new si(ii),vt=Wc,Kf=function(t){L(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(ii),Jf=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(si),Hc=new Jf(Kf),Xf=Hc,ed=function(t){L(e,t);function e(r,n){r===void 0&&(r=zc),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(si),zc=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(ii);function Ft(){}function td(t){return!!t&&(t instanceof ce||typeof t.lift=="function"&&typeof t.subscribe=="function")}var rd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),gn=rd,nd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),ai=nd,id=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Vc=id;function Ot(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new sd(t,e))}}var sd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new od(e,this.project,this.thisArg))},t}(),od=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(G);function qc(t,e,r){if(e)if(Et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return qc(t,r).apply(void 0,n).pipe(Ot(function(s){return mt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new ce(function(f){if(r){var g={args:n,subscriber:f,params:a};return r.schedule(ad,0,g)}else{if(!o){o=new On;var b=function(){for(var C=[],x=0;x<arguments.length;x++)C[x]=arguments[x];o.next(C.length<=1?C[0]:C),o.complete()};try{t.apply(s,n.concat([b]))}catch(C){ua(o)?o.error(C):console.warn(C)}}return o.subscribe(f)}})}}function ad(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,f=i.subject;if(!f){f=i.subject=new On;var b=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];var x=g.length<=1?g[0]:g;e.add(a.schedule(ud,0,{value:x,subject:f}))};try{s.apply(o,r.concat([b]))}catch(g){f.error(g)}}this.add(f.subscribe(n))}function ud(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Gc(t,e,r){if(e)if(Et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Gc(t,r).apply(void 0,n).pipe(Ot(function(s){return mt(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new ce(function(o){var a=s.context,f=s.subject;if(r)return r.schedule(cd,0,{params:s,subscriber:o,context:a});if(!f){f=s.subject=new On;var b=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];var x=g.shift();if(x){f.error(x);return}f.next(g.length<=1?g[0]:g),f.complete()};try{t.apply(a,n.concat([b]))}catch(g){ua(f)?f.error(g):console.warn(g)}}return f.subscribe(o)})}}function cd(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,f=r.subject;if(!f){f=r.subject=new On;var b=function(){for(var g=[],C=0;C<arguments.length;C++)g[C]=arguments[C];var x=g.shift();if(x)e.add(a.schedule(nu,0,{err:x,subject:f}));else{var I=g.length<=1?g[0]:g;e.add(a.schedule(ld,0,{value:I,subject:f}))}};try{s.apply(i,o.concat([b]))}catch(g){this.add(a.schedule(nu,0,{err:g,subject:f}))}}this.add(f.subscribe(n))}function ld(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function nu(t){var e=t.err,r=t.subject;r.error(e)}var Hr=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(G),hd=function(t){L(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(G),fd=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,sn),e}};function dd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hr=dd(),pd=function(t){return function(e){var r=t[hr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},yd=function(t){return function(e){var r=t[An]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Zc=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function Qc(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var Jn=function(t){if(t&&typeof t[An]=="function")return yd(t);if(Zc(t))return Fc(t);if(Qc(t))return fd(t);if(t&&typeof t[hr]=="function")return pd(t);var e=aa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function Kt(t,e,r,n,i){if(i===void 0&&(i=new hd(t,r,n)),!i.closed)return e instanceof ce?e.subscribe(i):Jn(e)(i)}var iu={};function gd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Et(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&mt(t[0])&&(t=t[0]),oi(t,n).lift(new da(r))}var da=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new bd(e,this.resultSelector))},t}(),bd=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(iu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(Kt(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===iu?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Hr);function md(t,e){return new ce(function(r){var n=new Je;return n.add(e.schedule(function(){var i=t[An]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function vd(t,e){return new ce(function(r){var n=new Je;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function wd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(function(r){var n=new Je,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[hr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(f){r.error(f);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function _d(t){return t&&typeof t[An]=="function"}function Sd(t){return t&&typeof t[hr]=="function"}function Yc(t,e){if(t!=null){if(_d(t))return md(t,e);if(Qc(t))return vd(t,e);if(Zc(t))return la(t,e);if(Sd(t)||typeof t=="string")return wd(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function Jt(t,e){return e?Yc(t,e):t instanceof ce?t:new ce(Jn(t))}var Xe=function(t){L(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(G),et=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(G);function tt(t,e){if(!e.closed){if(t instanceof ce)return t.subscribe(e);var r;try{r=Jn(t)(e)}catch(n){e.error(n)}return r}}function $r(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe($r(function(i,s){return Jt(t(i,s)).pipe(Ot(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new Ed(t,r))})}var Ed=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new xd(e,this.project,this.concurrent))},t}(),xd=function(t){L(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(et),Md=$r;function pa(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),$r(lr,t)}function Kc(){return pa(1)}function Xn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kc()(is.apply(void 0,t))}function ya(t){return new ce(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?Jt(r):Tn();return n.subscribe(e)})}function kd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(mt(r))return wi(r,null);if(aa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return wi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&mt(t[0])?t[0]:t,wi(t,null).pipe(Ot(function(s){return i.apply(void 0,s)}))}return wi(t,null)}function wi(t,e){return new ce(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(b){var g=Jt(t[b]),C=!1;r.add(g.subscribe({next:function(x){C||(C=!0,o++),i[b]=x},error:function(x){return r.error(x)},complete:function(){s++,(s===n||!C)&&(o===n&&r.next(e?e.reduce(function(x,I,N){return x[I]=i[N],x},{}):i),r.complete())}}))},f=0;f<n;f++)a(f)})}function Jc(t,e,r,n){return pn(r)&&(n=r,r=void 0),n?Jc(t,e,r).pipe(Ot(function(i){return mt(i)?n.apply(void 0,i):n(i)})):new ce(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Xc(t,e,s,i,r)})}function Xc(t,e,r,n,i){var s;if(Ad(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(Id(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(Cd(t)){var f=t;t.addListener(e,r),s=function(){return f.removeListener(e,r)}}else if(t&&t.length)for(var b=0,g=t.length;b<g;b++)Xc(t[b],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function Cd(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function Id(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function Ad(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function el(t,e,r){return r?el(t,e).pipe(Ot(function(n){return mt(n)?r.apply(void 0,n):r(n)})):new ce(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(pn(e))return function(){return e(i,s)}})}function Td(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||lr,i=a.scheduler}else n===void 0||Et(n)?(o=t,s=lr,i=n):(o=t,s=n);return new ce(function(f){var b=o;if(i)return i.schedule(Od,0,{subscriber:f,iterate:r,condition:e,resultSelector:s,state:b});do{if(e){var g=void 0;try{g=e(b)}catch(x){f.error(x);return}if(!g){f.complete();break}}var C=void 0;try{C=s(b)}catch(x){f.error(x);return}if(f.next(C),f.closed)break;try{b=r(b)}catch(x){f.error(x);return}}while(!0)})}function Od(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function Rd(t,e,r){return e===void 0&&(e=yn),r===void 0&&(r=yn),ya(function(){return t()?e:r})}function bn(t){return!mt(t)&&t-parseFloat(t)+1>=0}function Nd(t,e){return t===void 0&&(t=0),e===void 0&&(e=vt),(!bn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=vt),new ce(function(r){return r.add(e.schedule(Bd,t,{subscriber:r,counter:0,period:t})),r})}function Bd(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Et(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof ce?t[0]:pa(r)(oi(t,n))}var rl=new ce(Ft);function Ld(){return rl}function Uo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return yn;var r=t[0],n=t.slice(1);return t.length===1&&mt(r)?Uo.apply(void 0,r):new ce(function(i){var s=function(){return i.add(Uo.apply(void 0,n).subscribe(i))};return Jt(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function Dd(t,e){return e?new ce(function(r){var n=Object.keys(t),i=new Je;return i.add(e.schedule(Pd,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new ce(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function Pd(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function nl(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function fr(t,e){return function(n){return n.lift(new jd(t,e))}}var jd=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new Fd(e,this.predicate,this.thisArg))},t}(),Fd=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(G);function $d(t,e,r){return[fr(e,r)(new ce(Jn(t))),fr(nl(e,r))(new ce(Jn(t)))]}function il(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(mt(t[0]))t=t[0];else return t[0];return oi(t,void 0).lift(new Ud)}var Ud=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Wd(e))},t}(),Wd=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=Kt(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Hr);function Hd(t,e,r){return t===void 0&&(t=0),new ce(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(zd,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function zd(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function sl(t,e,r){t===void 0&&(t=0);var n=-1;return bn(e)?n=Number(e)<1&&1||Number(e):Et(e)&&(r=e),Et(r)||(r=vt),new ce(function(i){var s=bn(t)?t:+t-r.now();return r.schedule(Vd,s,{index:0,period:n,subscriber:i})})}function Vd(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function qd(t,e){return new ce(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?Jt(i):yn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function ol(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),oi(t,void 0).lift(new al(r))}var al=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Gd(e,this.resultSelector))},t}(),Gd=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;mt(r)?n.push(new Qd(r)):typeof r[hr]=="function"?n.push(new Zd(r[hr]())):n.push(new Yd(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,f=[],s=0;s<n;s++){var o=r[s],b=o.next();if(o.hasCompleted()&&(a=!0),b.done){i.complete();return}f.push(b.value)}this.resultSelector?this._tryresultSelector(f):i.next(f),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(G),Zd=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),Qd=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[hr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Yd=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[hr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return tt(this.observable,new Xe(this))},e}(et);const Kd=Object.freeze(Object.defineProperty({__proto__:null,ArgumentOutOfRangeError:gn,AsyncSubject:On,BehaviorSubject:Dc,ConnectableObservable:Lc,EMPTY:yn,EmptyError:ai,GroupedObservable:Po,NEVER:rl,Notification:Yt,get NotificationKind(){return Fo},ObjectUnsubscribedError:ir,Observable:ce,ReplaySubject:fa,Scheduler:jo,Subject:at,Subscriber:G,Subscription:Je,TimeoutError:Vc,UnsubscriptionError:Wn,VirtualAction:zc,VirtualTimeScheduler:ed,animationFrame:Xf,animationFrameScheduler:Hc,asap:Oi,asapScheduler:Uc,async:vt,asyncScheduler:Wc,bindCallback:qc,bindNodeCallback:Gc,combineLatest:gd,concat:Xn,config:Ct,defer:ya,empty:Tn,forkJoin:kd,from:Jt,fromEvent:Jc,fromEventPattern:el,generate:Td,identity:lr,iif:Rd,interval:Nd,isObservable:td,merge:tl,never:Ld,noop:Ft,observable:An,of:is,onErrorResumeNext:Uo,pairs:Dd,partition:$d,pipe:Do,queue:jc,queueScheduler:Pc,race:il,range:Hd,scheduled:Yc,throwError:ha,timer:sl,using:qd,zip:ol},Symbol.toStringTag,{value:"Module"})),Rn=Mn(Kd);function ul(t){return function(r){return r.lift(new Jd(t))}}var Jd=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Xd(e,this.durationSelector))},t}(),Xd=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=tt(n,new Xe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(et);function ep(t,e){return e===void 0&&(e=vt),ul(function(){return sl(t,e)})}function tp(t){return function(r){return r.lift(new rp(t))}}var rp=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new np(e,this.closingNotifier))},t}(),np=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(tt(n,new Xe(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(et);function ip(t,e){return e===void 0&&(e=null),function(n){return n.lift(new sp(t,e))}}var sp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=op:this.subscriberClass=ap}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),op=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(G),ap=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var f=o.length;f--;){var b=o[f];b.push(r),b.length===i&&(o.splice(f,1),this.destination.next(b))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(G);function up(t){var e=arguments.length,r=vt;Et(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new cp(t,n,i,r))}}var cp=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new hp(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),lp=function(){function t(){this.buffer=[]}return t}(),hp=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var f=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var b={subscriber:a,context:f,bufferTimeSpan:n};a.add(f.closeAction=o.schedule(su,n,b))}else{var g={subscriber:a,context:f},C={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(f.closeAction=o.schedule(cl,n,g)),a.add(o.schedule(fp,i,C))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],f=a.buffer;f.push(r),f.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(su,i,s))}},e.prototype.openContext=function(){var r=new lp;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(G);function su(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function fp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(cl,r,{subscriber:n,context:s})),o.schedule(t,e))}function cl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function dp(t,e){return function(n){return n.lift(new pp(t,e))}}var pp=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new yp(e,this.openings,this.closingSelector))},t}(),yp=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(Kt(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Je,o={buffer:i,subscription:s};n.push(o);var a=Kt(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Hr);function gp(t){return function(e){return e.lift(new bp(t))}}var bp=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new mp(e,this.closingSelector))},t}(),mp=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Je,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(tt(i,new Xe(this))),this.subscribing=!1},e}(et);function vp(t){return function(r){var n=new wp(t),i=r.lift(n);return n.caught=i}}var wp=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new _p(e,this.selector,this.caught))},t}(),_p=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Xe(this);this.add(i);var s=tt(n,i);s!==i&&this.add(s)}},e}(et);function Sp(t){return function(e){return e.lift(new da(t))}}function Ep(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&mt(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(Jt([n].concat(t)),new da(r))}}function xp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Xn.apply(void 0,[r].concat(t)))}}function ll(t,e){return $r(t,e,1)}function Mp(t,e){return ll(function(){return t},e)}function kp(t){return function(e){return e.lift(new Cp(t,e))}}var Cp=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Ip(e,this.predicate,this.source))},t}(),Ip=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(G);function Ap(t){return function(e){return e.lift(new Tp(t))}}var Tp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Op(e,this.durationSelector))},t}(),Op=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=tt(n,new Xe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(et);function Rp(t,e){return e===void 0&&(e=vt),function(r){return r.lift(new Np(t,e))}}var Np=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Bp(e,this.dueTime,this.scheduler))},t}(),Bp=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Lp,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(G);function Lp(t){t.debouncedNext()}function ui(t){return t===void 0&&(t=null),function(e){return e.lift(new Dp(t))}}var Dp=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new Pp(e,this.defaultValue))},t}(),Pp=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(G);function hl(t){return t instanceof Date&&!isNaN(+t)}function jp(t,e){e===void 0&&(e=vt);var r=hl(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new Fp(n,e))}}var Fp=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new $p(e,this.delay,this.scheduler))},t}(),$p=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new Up(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(Yt.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Yt.createComplete()),this.unsubscribe()},e}(G),Up=function(){function t(e,r){this.time=e,this.notification=r}return t}();function Wp(t,e){return e?function(r){return new zp(r,e).lift(new ou(t))}:function(r){return r.lift(new ou(t))}}var ou=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Hp(e,this.delayDurationSelector))},t}(),Hp=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=Kt(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Hr),zp=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new Vp(r,this.source))},e}(ce),Vp=function(t){L(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(G);function qp(){return function(e){return e.lift(new Gp)}}var Gp=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Zp(e))},t}(),Zp=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(G);function Qp(t,e){return function(r){return r.lift(new Yp(t,e))}}var Yp=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new Kp(e,this.keySelector,this.flushes))},t}(),Kp=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(tt(i,new Xe(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(et);function fl(t,e){return function(r){return r.lift(new Jp(t,e))}}var Jp=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Xp(e,this.compare,this.keySelector))},t}(),Xp=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(G);function e0(t,e){return fl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function ss(t){return t===void 0&&(t=n0),function(e){return e.lift(new t0(t))}}var t0=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new r0(e,this.errorFactory))},t}(),r0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(G);function n0(){return new ai}function ga(t){return function(e){return t===0?Tn():e.lift(new i0(t))}}var i0=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new s0(e,this.total))},t}(),s0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(G);function o0(t,e){if(t<0)throw new gn;var r=arguments.length>=2;return function(n){return n.pipe(fr(function(i,s){return s===t}),ga(1),r?ui(e):ss(function(){return new gn}))}}function a0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return Xn(r,is.apply(void 0,t))}}function u0(t,e){return function(r){return r.lift(new c0(t,e,r))}}var c0=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new l0(e,this.predicate,this.thisArg,this.source))},t}(),l0=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(G);function h0(){return function(t){return t.lift(new f0)}}var f0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new d0(e))},t}(),d0=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(tt(r,new Xe(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function dl(t,e){return e?function(r){return r.pipe(dl(function(n,i){return Jt(t(n,i)).pipe(Ot(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new p0(t))}}var p0=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new y0(e,this.project))},t}(),y0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function g0(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new b0(t,e,r))}}var b0=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new m0(e,this.project,this.concurrent,this.scheduler))},t}(),m0=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},f=this.destination;f.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(b){n.error(b)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(tt(r,new Xe(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(et);function v0(t){return function(e){return e.lift(new w0(t))}}var w0=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new _0(e,this.callback))},t}(),_0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Je(n)),i}return e}(G);function S0(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new pl(t,r,!1,e))}}var pl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new E0(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),E0=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(f){this.destination.error(f)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(G);function x0(t,e){return function(r){return r.lift(new pl(t,r,!0,e))}}function M0(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?fr(function(i,s){return t(i,s,n)}):lr,ga(1),r?ui(e):ss(function(){return new ai}))}}function k0(){return function(e){return e.lift(new C0)}}var C0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new I0(e))},t}(),I0=function(t){L(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(G);function A0(){return function(t){return t.lift(new T0)}}var T0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new O0(e))},t}(),O0=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(G);function Wi(t){return function(r){return t===0?Tn():r.lift(new R0(t))}}var R0=function(){function t(e){if(this.total=e,this.total<0)throw new gn}return t.prototype.call=function(e,r){return r.subscribe(new N0(e,this.total))},t}(),N0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(G);function B0(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?fr(function(i,s){return t(i,s,n)}):lr,Wi(1),r?ui(e):ss(function(){return new ai}))}}function L0(t){return function(e){return e.lift(new D0(t))}}var D0=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new P0(e,this.value))},t}(),P0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(G);function j0(){return function(e){return e.lift(new F0)}}var F0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new $0(e))},t}(),$0=function(t){L(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(Yt.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(Yt.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(Yt.createComplete()),r.complete()},e}(G);function Hi(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new U0(t,e,r))}}var U0=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new W0(e,this.accumulator,this.seed,this.hasSeed))},t}(),W0=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(G);function os(t,e){return arguments.length>=2?function(n){return Do(Hi(t,e),Wi(1),ui(e))(n)}:function(n){return Do(Hi(function(i,s,o){return t(i,s,o+1)}),Wi(1))(n)}}function H0(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return os(e)}function z0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(tl.apply(void 0,[r].concat(t)))}}function V0(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?$r(function(){return t},e,r):(typeof e=="number"&&(r=e),$r(function(){return t},r))}function q0(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new G0(t,e,r))}}var G0=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Z0(e,this.accumulator,this.seed,this.concurrent))},t}(),Z0=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(et);function Q0(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return os(e)}function Ur(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Y0(i,e));var s=Object.create(n,Of);return s.source=n,s.subjectFactory=i,s}}var Y0=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function K0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&mt(t[0])&&(t=t[0]),function(r){return r.lift(new J0(t))}}var J0=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new X0(e,this.nextSources))},t}(),X0=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(et);function ey(){return function(t){return t.lift(new ty)}}var ty=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ry(e))},t}(),ry=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(G);function ny(t,e){return function(r){return[fr(t,e)(r),fr(nl(t,e))(r)]}}function iy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Ot(sy(t,r))(n)}}function sy(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function oy(t){return t?Ur(function(){return new at},t):Ur(new at)}function ay(t){return function(e){return Ur(new Dc(t))(e)}}function uy(){return function(t){return Ur(new On)(t)}}function cy(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new fa(t,e,n);return function(o){return Ur(function(){return s},i)(o)}}function ly(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&mt(t[0])&&(t=t[0]),n.lift.call(il.apply(void 0,[n].concat(t)))}}function hy(t){return t===void 0&&(t=-1),function(e){return t===0?Tn():t<0?e.lift(new au(-1,e)):e.lift(new au(t-1,e))}}var au=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new fy(e,this.count,this.source))},t}(),fy=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(G);function dy(t){return function(e){return e.lift(new py(t))}}var py=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new yy(e,this.notifier,r))},t}(),yy=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new at;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=tt(r,new Xe(this))},e}(et);function gy(t){return t===void 0&&(t=-1),function(e){return e.lift(new by(t,e))}}var by=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new my(e,this.count,this.source))},t}(),my=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(G);function vy(t){return function(e){return e.lift(new wy(t,e))}}var wy=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new _y(e,this.notifier,this.source))},t}(),_y=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new at;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=tt(i,new Xe(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(et);function Sy(t){return function(e){return e.lift(new Ey(t))}}var Ey=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new xy(e),i=r.subscribe(n);return i.add(tt(this.notifier,new Xe(n))),i},t}(),xy=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(et);function My(t,e){return e===void 0&&(e=vt),function(r){return r.lift(new ky(t,e))}}var ky=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new Cy(e,this.period,this.scheduler))},t}(),Cy=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(Iy,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(G);function Iy(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function Ay(t,e){return function(r){return r.lift(new Ty(t,e))}}var Ty=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new Oy(e,this.compareTo,this.comparator))},t}(),Oy=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new Ry(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),f=!1;try{f=s?s(o,a):o===a}catch(b){this.destination.error(b)}f||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(G),Ry=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(G);function Ny(){return new at}function By(){return function(t){return ca()(Ur(Ny)(t))}}function Ly(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(Dy(n))}}function Dy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,f=0,b,g=!1,C=!1;return function(I){f++;var N;!a||g?(g=!1,a=new fa(r,i,o),N=a.subscribe(this),b=I.subscribe({next:function(H){a.next(H)},error:function(H){g=!0,a.error(H)},complete:function(){C=!0,b=void 0,a.complete()}}),C&&(b=void 0)):N=a.subscribe(this),this.add(function(){f--,N.unsubscribe(),N=void 0,b&&!C&&s&&f===0&&(b.unsubscribe(),b=void 0,a=void 0)})}}function Py(t){return function(e){return e.lift(new jy(t,e))}}var jy=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Fy(e,this.predicate,this.source))},t}(),Fy=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new ai)},e}(G);function $y(t){return function(e){return e.lift(new Uy(t))}}var Uy=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new Wy(e,this.total))},t}(),Wy=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(G);function Hy(t){return function(e){return e.lift(new zy(t))}}var zy=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new gn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new G(e)):r.subscribe(new Vy(e,this._skipCount))},t}(),Vy=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(G);function qy(t){return function(e){return e.lift(new Gy(t))}}var Gy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Zy(e,this.notifier))},t}(),Zy=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Xe(i);i.add(s),i.innerSubscription=s;var o=tt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(et);function Qy(t){return function(e){return e.lift(new Yy(t))}}var Yy=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Ky(e,this.predicate))},t}(),Ky=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(G);function Jy(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Et(r)?(t.pop(),function(n){return Xn(t,n,r)}):function(n){return Xn(t,n)}}var Xy=function(t){L(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=Oi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!bn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=Oi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=Oi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(ce);function eg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new tg(t,e))}}var tg=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Xy(r,this.delay,this.scheduler).subscribe(e)},t}();function ei(t,e){return typeof e=="function"?function(r){return r.pipe(ei(function(n,i){return Jt(t(n,i)).pipe(Ot(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new rg(t))}}var rg=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new ng(e,this.project))},t}(),ng=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Xe(this),s=this.destination;s.add(i),this.innerSubscription=tt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(et);function ig(){return ei(lr)}function sg(t,e){return e?ei(function(){return t},e):ei(function(){return t})}function og(t){return function(e){return e.lift(new ag(t))}}var ag=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new ug(e),i=tt(this.notifier,new Xe(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),ug=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(et);function cg(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new lg(t,e))}}var lg=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new hg(e,this.predicate,this.inclusive))},t}(),hg=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(G);function fg(t,e,r){return function(i){return i.lift(new dg(t,e,r))}}var dg=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new pg(e,this.nextOrObserver,this.error,this.complete))},t}(),pg=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Ft,o._tapError=Ft,o._tapComplete=Ft,o._tapError=i||Ft,o._tapComplete=s||Ft,pn(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Ft,o._tapError=n.error||Ft,o._tapComplete=n.complete||Ft),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(G),yl={leading:!0,trailing:!1};function yg(t,e){return e===void 0&&(e=yl),function(r){return r.lift(new gg(t,!!e.leading,!!e.trailing))}}var gg=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new bg(e,this.durationSelector,this.leading,this.trailing))},t}(),bg=function(t){L(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=tt(n,new Xe(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(et);function mg(t,e,r){return e===void 0&&(e=vt),r===void 0&&(r=yl),function(n){return n.lift(new vg(t,e,r.leading,r.trailing))}}var vg=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new wg(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),wg=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(_g,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(G);function _g(t){var e=t.subscriber;e.clearThrottle()}function Sg(t){return t===void 0&&(t=vt),function(e){return ya(function(){return e.pipe(Hi(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Ot(function(r){var n=r.current,i=r.last,s=r.value;return new Eg(s,n-i)}))})}}var Eg=function(){function t(e,r){this.value=e,this.interval=r}return t}();function gl(t,e,r){return r===void 0&&(r=vt),function(n){var i=hl(t),s=i?+t-r.now():Math.abs(t);return n.lift(new xg(s,i,e,r))}}var xg=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new Mg(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Mg=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(tt(n,new Xe(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(et);function kg(t,e){return e===void 0&&(e=vt),gl(t,ha(new Vc),e)}function Cg(t){return t===void 0&&(t=vt),Ot(function(e){return new Ig(e,t.now())})}var Ig=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function Ag(t,e,r){return r===0?[e]:(t.push(e),t)}function Tg(){return os(Ag,[])}function Og(t){return function(r){return r.lift(new Rg(t))}}var Rg=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new Ng(e),i=r.subscribe(n);return i.closed||n.add(tt(this.windowBoundaries,new Xe(n))),i},t}(),Ng=function(t){L(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new at,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new at;n.next(i)},e}(et);function Bg(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Lg(t,e))}}var Lg=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new Dg(e,this.windowSize,this.startWindowEvery))},t}(),Dg=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new at],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,f=0;f<a&&!this.closed;f++)o[f].next(r);var b=this.count-s+1;if(b>=0&&b%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var g=new at;o.push(g),i.next(g)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(G);function Pg(t){var e=vt,r=null,n=Number.POSITIVE_INFINITY;return Et(arguments[3])&&(e=arguments[3]),Et(arguments[2])?e=arguments[2]:bn(arguments[2])&&(n=Number(arguments[2])),Et(arguments[1])?e=arguments[1]:bn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new jg(t,r,n,e))}}var jg=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new $g(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),Fg=function(t){L(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(at),$g=function(t){L(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var f=a.openWindow();if(i!==null&&i>=0){var b={subscriber:a,window:f,context:null},g={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(bl,n,b)),a.add(o.schedule(Wg,i,g))}else{var C={subscriber:a,window:f,windowTimeSpan:n};a.add(o.schedule(Ug,n,C))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new Fg;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(G);function Ug(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function Wg(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},f={subscriber:r,window:s,context:a};a.subscription=n.schedule(bl,e,f),o.add(a.subscription),o.schedule(t,i)}function bl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Hg(t,e){return function(r){return r.lift(new zg(t,e))}}var zg=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Vg(e,this.openings,this.closingSelector))},t}(),Vg=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=Kt(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var f=this.closingSelector;a=f(n)}catch(I){return this.error(I)}var b=new at,g=new Je,C={window:b,subscription:g};this.contexts.push(C);var x=Kt(this,a,C);x.closed?this.closeWindow(this.contexts.length-1):(x.context=C,g.add(x)),this.destination.next(b)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Hr);function qg(t){return function(r){return r.lift(new Gg(t))}}var Gg=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Zg(e,this.closingSelector))},t}(),Zg=function(t){L(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new at;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=Kt(this,s))},e}(Hr);function Qg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Yg(i,n))}}var Yg=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Kg(e,this.observables,this.project))},t}(),Kg=function(t){L(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var f=n[a];s.add(Kt(s,f,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Hr);function Jg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(ol.apply(void 0,[n].concat(t)))}}function Xg(t){return function(e){return e.lift(new al(t))}}const eb=Object.freeze(Object.defineProperty({__proto__:null,audit:ul,auditTime:ep,buffer:tp,bufferCount:ip,bufferTime:up,bufferToggle:dp,bufferWhen:gp,catchError:vp,combineAll:Sp,combineLatest:Ep,concat:xp,concatAll:Kc,concatMap:ll,concatMapTo:Mp,count:kp,debounce:Ap,debounceTime:Rp,defaultIfEmpty:ui,delay:jp,delayWhen:Wp,dematerialize:qp,distinct:Qp,distinctUntilChanged:fl,distinctUntilKeyChanged:e0,elementAt:o0,endWith:a0,every:u0,exhaust:h0,exhaustMap:dl,expand:g0,filter:fr,finalize:v0,find:S0,findIndex:x0,first:M0,flatMap:Md,groupBy:Nf,ignoreElements:k0,isEmpty:A0,last:B0,map:Ot,mapTo:L0,materialize:j0,max:H0,merge:z0,mergeAll:pa,mergeMap:$r,mergeMapTo:V0,mergeScan:q0,min:Q0,multicast:Ur,observeOn:Hf,onErrorResumeNext:K0,pairwise:ey,partition:ny,pluck:iy,publish:oy,publishBehavior:ay,publishLast:uy,publishReplay:cy,race:ly,reduce:os,refCount:ca,repeat:hy,repeatWhen:dy,retry:gy,retryWhen:vy,sample:Sy,sampleTime:My,scan:Hi,sequenceEqual:Ay,share:By,shareReplay:Ly,single:Py,skip:$y,skipLast:Hy,skipUntil:qy,skipWhile:Qy,startWith:Jy,subscribeOn:eg,switchAll:ig,switchMap:ei,switchMapTo:sg,take:ga,takeLast:Wi,takeUntil:og,takeWhile:cg,tap:fg,throttle:yg,throttleTime:mg,throwIfEmpty:ss,timeInterval:Sg,timeout:kg,timeoutWith:gl,timestamp:Cg,toArray:Tg,window:Og,windowCount:Bg,windowTime:Pg,windowToggle:Hg,windowWhen:qg,withLatestFrom:Qg,zip:Jg,zipAll:Xg},Symbol.toStringTag,{value:"Module"})),as=Mn(eb);var q={},ml=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},uu=typeof Symbol<"u"&&Symbol,tb=ml,rb=function(){return typeof uu!="function"||typeof Symbol!="function"||typeof uu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:tb()},nb="Function.prototype.bind called on incompatible ",Ks=Array.prototype.slice,ib=Object.prototype.toString,sb="[object Function]",ob=function(e){var r=this;if(typeof r!="function"||ib.call(r)!==sb)throw new TypeError(nb+r);for(var n=Ks.call(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,n.concat(Ks.call(arguments)));return Object(g)===g?g:this}else return r.apply(e,n.concat(Ks.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],f=0;f<o;f++)a.push("$"+f);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var b=function(){};b.prototype=r.prototype,i.prototype=new b,b.prototype=null}return i},ab=ob,ba=Function.prototype.bind||ab,ub=ba,cb=ub.call(Function.call,Object.prototype.hasOwnProperty),ge,mn=SyntaxError,vl=Function,cn=TypeError,Js=function(t){try{return vl('"use strict"; return ('+t+").constructor;")()}catch{}},Pr=Object.getOwnPropertyDescriptor;if(Pr)try{Pr({},"")}catch{Pr=null}var Xs=function(){throw new cn},lb=Pr?function(){try{return arguments.callee,Xs}catch{try{return Pr(arguments,"callee").get}catch{return Xs}}}():Xs,Xr=rb(),Ut=Object.getPrototypeOf||function(t){return t.__proto__},rn={},hb=typeof Uint8Array>"u"?ge:Ut(Uint8Array),jr={"%AggregateError%":typeof AggregateError>"u"?ge:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ge:ArrayBuffer,"%ArrayIteratorPrototype%":Xr?Ut([][Symbol.iterator]()):ge,"%AsyncFromSyncIteratorPrototype%":ge,"%AsyncFunction%":rn,"%AsyncGenerator%":rn,"%AsyncGeneratorFunction%":rn,"%AsyncIteratorPrototype%":rn,"%Atomics%":typeof Atomics>"u"?ge:Atomics,"%BigInt%":typeof BigInt>"u"?ge:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ge:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ge:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ge:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ge:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ge:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ge:FinalizationRegistry,"%Function%":vl,"%GeneratorFunction%":rn,"%Int8Array%":typeof Int8Array>"u"?ge:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ge:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ge:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Xr?Ut(Ut([][Symbol.iterator]())):ge,"%JSON%":typeof JSON=="object"?JSON:ge,"%Map%":typeof Map>"u"?ge:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Xr?ge:Ut(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ge:Promise,"%Proxy%":typeof Proxy>"u"?ge:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ge:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ge:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Xr?ge:Ut(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ge:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Xr?Ut(""[Symbol.iterator]()):ge,"%Symbol%":Xr?Symbol:ge,"%SyntaxError%":mn,"%ThrowTypeError%":lb,"%TypedArray%":hb,"%TypeError%":cn,"%Uint8Array%":typeof Uint8Array>"u"?ge:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ge:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ge:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ge:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ge:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ge:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ge:WeakSet};try{null.error}catch(t){var fb=Ut(Ut(t));jr["%Error.prototype%"]=fb}var db=function t(e){var r;if(e==="%AsyncFunction%")r=Js("async function () {}");else if(e==="%GeneratorFunction%")r=Js("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Js("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=Ut(i.prototype))}return jr[e]=r,r},cu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ci=ba,zi=cb,pb=ci.call(Function.call,Array.prototype.concat),yb=ci.call(Function.apply,Array.prototype.splice),lu=ci.call(Function.call,String.prototype.replace),Vi=ci.call(Function.call,String.prototype.slice),gb=ci.call(Function.call,RegExp.prototype.exec),bb=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mb=/\\(\\)?/g,vb=function(e){var r=Vi(e,0,1),n=Vi(e,-1);if(r==="%"&&n!=="%")throw new mn("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new mn("invalid intrinsic syntax, expected opening `%`");var i=[];return lu(e,bb,function(s,o,a,f){i[i.length]=a?lu(f,mb,"$1"):o||s}),i},wb=function(e,r){var n=e,i;if(zi(cu,n)&&(i=cu[n],n="%"+i[0]+"%"),zi(jr,n)){var s=jr[n];if(s===rn&&(s=db(n)),typeof s>"u"&&!r)throw new cn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new mn("intrinsic "+e+" does not exist!")},us=function(e,r){if(typeof e!="string"||e.length===0)throw new cn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new cn('"allowMissing" argument must be a boolean');if(gb(/^%?[^%]*%?$/,e)===null)throw new mn("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=vb(e),i=n.length>0?n[0]:"",s=wb("%"+i+"%",r),o=s.name,a=s.value,f=!1,b=s.alias;b&&(i=b[0],yb(n,pb([0,1],b)));for(var g=1,C=!0;g<n.length;g+=1){var x=n[g],I=Vi(x,0,1),N=Vi(x,-1);if((I==='"'||I==="'"||I==="`"||N==='"'||N==="'"||N==="`")&&I!==N)throw new mn("property names with quotes must have matching quotes");if((x==="constructor"||!C)&&(f=!0),i+="."+x,o="%"+i+"%",zi(jr,o))a=jr[o];else if(a!=null){if(!(x in a)){if(!r)throw new cn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pr&&g+1>=n.length){var H=Pr(a,x);C=!!H,C&&"get"in H&&!("originalValue"in H.get)?a=H.get:a=a[x]}else C=zi(a,x),a=a[x];C&&!f&&(jr[o]=a)}}return a},Wo={},_b={get exports(){return Wo},set exports(t){Wo=t}};(function(t){var e=ba,r=us,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),f=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(C){var x=s(e,i,arguments);if(o&&a){var I=o(x,"length");I.configurable&&a(x,"length",{value:1+f(0,C.length-(arguments.length-1))})}return x};var b=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:b}):t.exports.apply=b})(_b);var wl=us,_l=Wo,Sb=_l(wl("String.prototype.indexOf")),cs=function(e,r){var n=wl(e,!!r);return typeof n=="function"&&Sb(e,".prototype.")>-1?_l(n):n},ma=typeof Map=="function"&&Map.prototype,eo=Object.getOwnPropertyDescriptor&&ma?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,qi=ma&&eo&&typeof eo.get=="function"?eo.get:null,hu=ma&&Map.prototype.forEach,va=typeof Set=="function"&&Set.prototype,to=Object.getOwnPropertyDescriptor&&va?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Gi=va&&to&&typeof to.get=="function"?to.get:null,fu=va&&Set.prototype.forEach,Eb=typeof WeakMap=="function"&&WeakMap.prototype,Hn=Eb?WeakMap.prototype.has:null,xb=typeof WeakSet=="function"&&WeakSet.prototype,zn=xb?WeakSet.prototype.has:null,Mb=typeof WeakRef=="function"&&WeakRef.prototype,du=Mb?WeakRef.prototype.deref:null,kb=Boolean.prototype.valueOf,Cb=Object.prototype.toString,Ib=Function.prototype.toString,Ab=String.prototype.match,wa=String.prototype.slice,or=String.prototype.replace,Tb=String.prototype.toUpperCase,pu=String.prototype.toLowerCase,Sl=RegExp.prototype.test,yu=Array.prototype.concat,Wt=Array.prototype.join,Ob=Array.prototype.slice,gu=Math.floor,Ho=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ro=Object.getOwnPropertySymbols,zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,vn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",yt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===vn||"symbol")?Symbol.toStringTag:null,El=Object.prototype.propertyIsEnumerable,bu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function mu(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Sl.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-gu(-t):gu(t);if(n!==t){var i=String(n),s=wa.call(e,i.length+1);return or.call(i,r,"$&_")+"."+or.call(or.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return or.call(e,r,"$&_")}var Vo=Ec,vu=Vo.custom,wu=Ml(vu)?vu:null,Rb=function t(e,r,n,i){var s=r||{};if(nr(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(nr(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=nr(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(nr(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(nr(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Cl(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return a?mu(e,f):f}if(typeof e=="bigint"){var b=String(e)+"n";return a?mu(e,b):b}var g=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=g&&g>0&&typeof e=="object")return qo(e)?"[Array]":"[Object]";var C=Yb(s,n);if(typeof i>"u")i=[];else if(kl(i,e)>=0)return"[Circular]";function x(E,u,d){if(u&&(i=Ob.call(i),i.push(u)),d){var m={depth:s.depth};return nr(s,"quoteStyle")&&(m.quoteStyle=s.quoteStyle),t(E,m,n+1,i)}return t(E,s,n+1,i)}if(typeof e=="function"&&!_u(e)){var I=Ub(e),N=_i(e,x);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(N.length>0?" { "+Wt.call(N,", ")+" }":"")}if(Ml(e)){var H=vn?or.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):zo.call(e);return typeof e=="object"&&!vn?Pn(H):H}if(Gb(e)){for(var $="<"+pu.call(String(e.nodeName)),P=e.attributes||[],F=0;F<P.length;F++)$+=" "+P[F].name+"="+xl(Nb(P[F].value),"double",s);return $+=">",e.childNodes&&e.childNodes.length&&($+="..."),$+="</"+pu.call(String(e.nodeName))+">",$}if(qo(e)){if(e.length===0)return"[]";var U=_i(e,x);return C&&!Qb(U)?"["+Go(U,C)+"]":"[ "+Wt.call(U,", ")+" ]"}if(Lb(e)){var V=_i(e,x);return!("cause"in Error.prototype)&&"cause"in e&&!El.call(e,"cause")?"{ ["+String(e)+"] "+Wt.call(yu.call("[cause]: "+x(e.cause),V),", ")+" }":V.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Wt.call(V,", ")+" }"}if(typeof e=="object"&&o){if(wu&&typeof e[wu]=="function"&&Vo)return Vo(e,{depth:g-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Wb(e)){var ee=[];return hu&&hu.call(e,function(E,u){ee.push(x(u,e,!0)+" => "+x(E,e))}),Su("Map",qi.call(e),ee,C)}if(Vb(e)){var K=[];return fu&&fu.call(e,function(E){K.push(x(E,e))}),Su("Set",Gi.call(e),K,C)}if(Hb(e))return no("WeakMap");if(qb(e))return no("WeakSet");if(zb(e))return no("WeakRef");if(Pb(e))return Pn(x(Number(e)));if(Fb(e))return Pn(x(Ho.call(e)));if(jb(e))return Pn(kb.call(e));if(Db(e))return Pn(x(String(e)));if(!Bb(e)&&!_u(e)){var te=_i(e,x),fe=bu?bu(e)===Object.prototype:e instanceof Object||e.constructor===Object,de=e instanceof Object?"":"null prototype",we=!fe&&yt&&Object(e)===e&&yt in e?wa.call(dr(e),8,-1):de?"Object":"",Y=fe||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ne=Y+(we||de?"["+Wt.call(yu.call([],we||[],de||[]),": ")+"] ":"");return te.length===0?ne+"{}":C?ne+"{"+Go(te,C)+"}":ne+"{ "+Wt.call(te,", ")+" }"}return String(e)};function xl(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Nb(t){return or.call(String(t),/"/g,"&quot;")}function qo(t){return dr(t)==="[object Array]"&&(!yt||!(typeof t=="object"&&yt in t))}function Bb(t){return dr(t)==="[object Date]"&&(!yt||!(typeof t=="object"&&yt in t))}function _u(t){return dr(t)==="[object RegExp]"&&(!yt||!(typeof t=="object"&&yt in t))}function Lb(t){return dr(t)==="[object Error]"&&(!yt||!(typeof t=="object"&&yt in t))}function Db(t){return dr(t)==="[object String]"&&(!yt||!(typeof t=="object"&&yt in t))}function Pb(t){return dr(t)==="[object Number]"&&(!yt||!(typeof t=="object"&&yt in t))}function jb(t){return dr(t)==="[object Boolean]"&&(!yt||!(typeof t=="object"&&yt in t))}function Ml(t){if(vn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!zo)return!1;try{return zo.call(t),!0}catch{}return!1}function Fb(t){if(!t||typeof t!="object"||!Ho)return!1;try{return Ho.call(t),!0}catch{}return!1}var $b=Object.prototype.hasOwnProperty||function(t){return t in this};function nr(t,e){return $b.call(t,e)}function dr(t){return Cb.call(t)}function Ub(t){if(t.name)return t.name;var e=Ab.call(Ib.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function kl(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Wb(t){if(!qi||!t||typeof t!="object")return!1;try{qi.call(t);try{Gi.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Hb(t){if(!Hn||!t||typeof t!="object")return!1;try{Hn.call(t,Hn);try{zn.call(t,zn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function zb(t){if(!du||!t||typeof t!="object")return!1;try{return du.call(t),!0}catch{}return!1}function Vb(t){if(!Gi||!t||typeof t!="object")return!1;try{Gi.call(t);try{qi.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function qb(t){if(!zn||!t||typeof t!="object")return!1;try{zn.call(t,zn);try{Hn.call(t,Hn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Gb(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Cl(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Cl(wa.call(t,0,e.maxStringLength),e)+n}var i=or.call(or.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Zb);return xl(i,"single",e)}function Zb(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Tb.call(e.toString(16))}function Pn(t){return"Object("+t+")"}function no(t){return t+" { ? }"}function Su(t,e,r,n){var i=n?Go(r,n):Wt.call(r,", ");return t+" ("+e+") {"+i+"}"}function Qb(t){for(var e=0;e<t.length;e++)if(kl(t[e],`
`)>=0)return!1;return!0}function Yb(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Wt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Wt.call(Array(e+1),r)}}function Go(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Wt.call(t,","+r)+`
`+e.prev}function _i(t,e){var r=qo(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=nr(t,i)?e(t[i],t):""}var s=typeof ro=="function"?ro(t):[],o;if(vn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var f in t)nr(t,f)&&(r&&String(Number(f))===f&&f<t.length||vn&&o["$"+f]instanceof Symbol||(Sl.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if(typeof ro=="function")for(var b=0;b<s.length;b++)El.call(t,s[b])&&n.push("["+e(s[b])+"]: "+e(t[s[b]],t));return n}var _a=us,Nn=cs,Kb=Rb,Jb=_a("%TypeError%"),Si=_a("%WeakMap%",!0),Ei=_a("%Map%",!0),Xb=Nn("WeakMap.prototype.get",!0),e1=Nn("WeakMap.prototype.set",!0),t1=Nn("WeakMap.prototype.has",!0),r1=Nn("Map.prototype.get",!0),n1=Nn("Map.prototype.set",!0),i1=Nn("Map.prototype.has",!0),Sa=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},s1=function(t,e){var r=Sa(t,e);return r&&r.value},o1=function(t,e,r){var n=Sa(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},a1=function(t,e){return!!Sa(t,e)},u1=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new Jb("Side channel does not contain "+Kb(s))},get:function(s){if(Si&&s&&(typeof s=="object"||typeof s=="function")){if(e)return Xb(e,s)}else if(Ei){if(r)return r1(r,s)}else if(n)return s1(n,s)},has:function(s){if(Si&&s&&(typeof s=="object"||typeof s=="function")){if(e)return t1(e,s)}else if(Ei){if(r)return i1(r,s)}else if(n)return a1(n,s);return!1},set:function(s,o){Si&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Si),e1(e,s,o)):Ei?(r||(r=new Ei),n1(r,s,o)):(n||(n={key:{},next:null}),o1(n,s,o))}};return i},c1=String.prototype.replace,l1=/%20/g,io={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ea={default:io.RFC3986,formatters:{RFC1738:function(t){return c1.call(t,l1,"+")},RFC3986:function(t){return String(t)}},RFC1738:io.RFC1738,RFC3986:io.RFC3986},h1=Ea,so=Object.prototype.hasOwnProperty,Or=Array.isArray,Pt=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),f1=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Or(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},Il=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},d1=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Or(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!so.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Or(e)&&!Or(r)&&(i=Il(e,n)),Or(e)&&Or(r)?(r.forEach(function(s,o){if(so.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return so.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},p1=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},y1=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},g1=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var a="",f=0;f<o.length;++f){var b=o.charCodeAt(f);if(b===45||b===46||b===95||b===126||b>=48&&b<=57||b>=65&&b<=90||b>=97&&b<=122||s===h1.RFC1738&&(b===40||b===41)){a+=o.charAt(f);continue}if(b<128){a=a+Pt[b];continue}if(b<2048){a=a+(Pt[192|b>>6]+Pt[128|b&63]);continue}if(b<55296||b>=57344){a=a+(Pt[224|b>>12]+Pt[128|b>>6&63]+Pt[128|b&63]);continue}f+=1,b=65536+((b&1023)<<10|o.charCodeAt(f)&1023),a+=Pt[240|b>>18]+Pt[128|b>>12&63]+Pt[128|b>>6&63]+Pt[128|b&63]}return a},b1=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),f=0;f<a.length;++f){var b=a[f],g=o[b];typeof g=="object"&&g!==null&&n.indexOf(g)===-1&&(r.push({obj:o,prop:b}),n.push(g))}return f1(r),e},m1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},v1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},w1=function(e,r){return[].concat(e,r)},_1=function(e,r){if(Or(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},Al={arrayToObject:Il,assign:p1,combine:w1,compact:b1,decode:y1,encode:g1,isBuffer:v1,isRegExp:m1,maybeMap:_1,merge:d1},Tl=u1,Zo=Al,Vn=Ea,S1=Object.prototype.hasOwnProperty,Eu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Zt=Array.isArray,E1=String.prototype.split,x1=Array.prototype.push,Ol=function(t,e){x1.apply(t,Zt(e)?e:[e])},M1=Date.prototype.toISOString,xu=Vn.default,ct={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Zo.encode,encodeValuesOnly:!1,format:xu,formatter:Vn.formatters[xu],indices:!1,serializeDate:function(e){return M1.call(e)},skipNulls:!1,strictNullHandling:!1},k1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},oo={},C1=function t(e,r,n,i,s,o,a,f,b,g,C,x,I,N,H,$){for(var P=e,F=$,U=0,V=!1;(F=F.get(oo))!==void 0&&!V;){var ee=F.get(e);if(U+=1,typeof ee<"u"){if(ee===U)throw new RangeError("Cyclic object value");V=!0}typeof F.get(oo)>"u"&&(U=0)}if(typeof f=="function"?P=f(r,P):P instanceof Date?P=C(P):n==="comma"&&Zt(P)&&(P=Zo.maybeMap(P,function(M){return M instanceof Date?C(M):M})),P===null){if(s)return a&&!N?a(r,ct.encoder,H,"key",x):r;P=""}if(k1(P)||Zo.isBuffer(P)){if(a){var K=N?r:a(r,ct.encoder,H,"key",x);if(n==="comma"&&N){for(var te=E1.call(String(P),","),fe="",de=0;de<te.length;++de)fe+=(de===0?"":",")+I(a(te[de],ct.encoder,H,"value",x));return[I(K)+(i&&Zt(P)&&te.length===1?"[]":"")+"="+fe]}return[I(K)+"="+I(a(P,ct.encoder,H,"value",x))]}return[I(r)+"="+I(String(P))]}var we=[];if(typeof P>"u")return we;var Y;if(n==="comma"&&Zt(P))Y=[{value:P.length>0?P.join(",")||null:void 0}];else if(Zt(f))Y=f;else{var ne=Object.keys(P);Y=b?ne.sort(b):ne}for(var E=i&&Zt(P)&&P.length===1?r+"[]":r,u=0;u<Y.length;++u){var d=Y[u],m=typeof d=="object"&&typeof d.value<"u"?d.value:P[d];if(!(o&&m===null)){var _=Zt(P)?typeof n=="function"?n(E,d):E:E+(g?"."+d:"["+d+"]");$.set(e,U);var S=Tl();S.set(oo,$),Ol(we,t(m,_,n,i,s,o,a,f,b,g,C,x,I,N,H,S))}}return we},I1=function(e){if(!e)return ct;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ct.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Vn.default;if(typeof e.format<"u"){if(!S1.call(Vn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Vn.formatters[n],s=ct.filter;return(typeof e.filter=="function"||Zt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ct.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ct.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ct.charsetSentinel,delimiter:typeof e.delimiter>"u"?ct.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ct.encode,encoder:typeof e.encoder=="function"?e.encoder:ct.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ct.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ct.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ct.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ct.strictNullHandling}},A1=function(t,e){var r=t,n=I1(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Zt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Eu?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var f=Eu[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var b=f==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var g=Tl(),C=0;C<i.length;++C){var x=i[C];n.skipNulls&&r[x]===null||Ol(o,C1(r[x],x,f,b,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,g))}var I=o.join(n.delimiter),N=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?N+="utf8=%26%2310003%3B&":N+="utf8=%E2%9C%93&"),I.length>0?N+I:""},wn=Al,Qo=Object.prototype.hasOwnProperty,T1=Array.isArray,st={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:wn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},O1=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},Rl=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},R1="utf8=%26%2310003%3B",N1="utf8=%E2%9C%93",B1=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,f,b=r.charset;if(r.charsetSentinel)for(f=0;f<o.length;++f)o[f].indexOf("utf8=")===0&&(o[f]===N1?b="utf-8":o[f]===R1&&(b="iso-8859-1"),a=f,f=o.length);for(f=0;f<o.length;++f)if(f!==a){var g=o[f],C=g.indexOf("]="),x=C===-1?g.indexOf("="):C+1,I,N;x===-1?(I=r.decoder(g,st.decoder,b,"key"),N=r.strictNullHandling?null:""):(I=r.decoder(g.slice(0,x),st.decoder,b,"key"),N=wn.maybeMap(Rl(g.slice(x+1),r),function(H){return r.decoder(H,st.decoder,b,"value")})),N&&r.interpretNumericEntities&&b==="iso-8859-1"&&(N=O1(N)),g.indexOf("[]=")>-1&&(N=T1(N)?[N]:N),Qo.call(n,I)?n[I]=wn.combine(n[I],N):n[I]=N}return n},L1=function(t,e,r,n){for(var i=n?e:Rl(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var f=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,b=parseInt(f,10);!r.parseArrays&&f===""?o={0:i}:!isNaN(b)&&a!==f&&String(b)===f&&b>=0&&r.parseArrays&&b<=r.arrayLimit?(o=[],o[b]=i):f!=="__proto__"&&(o[f]=i)}i=o}return i},D1=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=n.depth>0&&o.exec(s),b=f?s.slice(0,f.index):s,g=[];if(b){if(!n.plainObjects&&Qo.call(Object.prototype,b)&&!n.allowPrototypes)return;g.push(b)}for(var C=0;n.depth>0&&(f=a.exec(s))!==null&&C<n.depth;){if(C+=1,!n.plainObjects&&Qo.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;g.push(f[1])}return f&&g.push("["+s.slice(f.index)+"]"),L1(g,r,n,i)}},P1=function(e){if(!e)return st;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?st.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?st.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:st.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:st.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:st.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:st.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:st.comma,decoder:typeof e.decoder=="function"?e.decoder:st.decoder,delimiter:typeof e.delimiter=="string"||wn.isRegExp(e.delimiter)?e.delimiter:st.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:st.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:st.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:st.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:st.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:st.strictNullHandling}},j1=function(t,e){var r=P1(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?B1(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],f=D1(a,n[a],r,typeof t=="string");i=wn.merge(i,f,r)}return r.allowSparse===!0?i:wn.compact(i)},F1=A1,$1=j1,U1=Ea,W1={formats:U1,parse:$1,stringify:F1},li={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(li);var H1=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(q,"__esModule",{value:!0});q.isInIFrame=q.createQrUrl=q.getFavicon=q.range=q.isBigNumber=q.ensureParsedJSONObject=q.ensureBN=q.ensureRegExpString=q.ensureIntNumber=q.ensureBuffer=q.ensureAddressString=q.ensureEvenLengthHexString=q.ensureHexString=q.isHexString=q.prepend0x=q.strip0x=q.has0xPrefix=q.hexStringFromIntNumber=q.intNumberFromHexString=q.bigIntStringFromBN=q.hexStringFromBuffer=q.hexStringToUint8Array=q.uint8ArrayToHex=q.randomBytesHex=void 0;const sr=H1(dn),z1=W1,Tt=li,Nl=/^[0-9]*$/,Bl=/^[a-f0-9]*$/;function V1(t){return Ll(crypto.getRandomValues(new Uint8Array(t)))}q.randomBytesHex=V1;function Ll(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}q.uint8ArrayToHex=Ll;function q1(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}q.hexStringToUint8Array=q1;function G1(t,e=!1){const r=t.toString("hex");return(0,Tt.HexString)(e?"0x"+r:r)}q.hexStringFromBuffer=G1;function Z1(t){return(0,Tt.BigIntString)(t.toString(10))}q.bigIntStringFromBN=Z1;function Q1(t){return(0,Tt.IntNumber)(new sr.default(fi(t,!1),16).toNumber())}q.intNumberFromHexString=Q1;function Y1(t){return(0,Tt.HexString)("0x"+new sr.default(t).toString(16))}q.hexStringFromIntNumber=Y1;function xa(t){return t.startsWith("0x")||t.startsWith("0X")}q.has0xPrefix=xa;function ls(t){return xa(t)?t.slice(2):t}q.strip0x=ls;function Dl(t){return xa(t)?"0x"+t.slice(2):"0x"+t}q.prepend0x=Dl;function hi(t){if(typeof t!="string")return!1;const e=ls(t).toLowerCase();return Bl.test(e)}q.isHexString=hi;function Pl(t,e=!1){if(typeof t=="string"){const r=ls(t).toLowerCase();if(Bl.test(r))return(0,Tt.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}q.ensureHexString=Pl;function fi(t,e=!1){let r=Pl(t,!1);return r.length%2===1&&(r=(0,Tt.HexString)("0"+r)),e?(0,Tt.HexString)("0x"+r):r}q.ensureEvenLengthHexString=fi;function K1(t){if(typeof t=="string"){const e=ls(t).toLowerCase();if(hi(e)&&e.length===40)return(0,Tt.AddressString)(Dl(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}q.ensureAddressString=K1;function J1(t){if(ve.Buffer.isBuffer(t))return t;if(typeof t=="string")if(hi(t)){const e=fi(t,!1);return ve.Buffer.from(e,"hex")}else return ve.Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}q.ensureBuffer=J1;function jl(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Tt.IntNumber)(t);if(typeof t=="string"){if(Nl.test(t))return(0,Tt.IntNumber)(Number(t));if(hi(t))return(0,Tt.IntNumber)(new sr.default(fi(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}q.ensureIntNumber=jl;function X1(t){if(t instanceof RegExp)return(0,Tt.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}q.ensureRegExpString=X1;function em(t){if(t!==null&&(sr.default.isBN(t)||Fl(t)))return new sr.default(t.toString(10),10);if(typeof t=="number")return new sr.default(jl(t));if(typeof t=="string"){if(Nl.test(t))return new sr.default(t,10);if(hi(t))return new sr.default(fi(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}q.ensureBN=em;function tm(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}q.ensureParsedJSONObject=tm;function Fl(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}q.isBigNumber=Fl;function rm(t,e){return Array.from({length:e-t},(r,n)=>t+n)}q.range=rm;function nm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}q.getFavicon=nm;function im(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,z1.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}q.createQrUrl=im;function sm(){try{return window.frameElement!==null}catch{return!1}}q.isInIFrame=sm;Object.defineProperty(In,"__esModule",{value:!0});In.Session=void 0;const om=Rn,Mu=as,ku=cf,Cu=q,ao="session:id",Iu="session:secret",Au="session:linked";class Ma{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Cu.randomBytesHex)(16),this._secret=n||(0,Cu.randomBytesHex)(32),this._key=new ku.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(ao),n=e.getItem(Au),i=e.getItem(Iu);return r&&i?new Ma(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,om.fromEvent)(window,"storage").pipe((0,Mu.filter)(e=>e.key===ao),(0,Mu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new ku.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(ao,this._id),this._storage.setItem(Iu,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Au,this._linked?"1":"0")}}In.Session=Ma;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});Lt.WalletSDKRelayAbstract=Lt.APP_VERSION_KEY=Lt.LOCAL_STORAGE_ADDRESSES_KEY=Lt.WALLET_USER_NAME_KEY=void 0;const Tu=ni;Lt.WALLET_USER_NAME_KEY="walletUsername";Lt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";Lt.APP_VERSION_KEY="AppVersion";class am{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Tu.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Tu.serializeError)(s);return i})}}Lt.WalletSDKRelayAbstract=am;const{Transform:um}=xc;var cm=t=>class $l extends um{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Dr.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Dr.Buffer.isBuffer(r)||(r=Dr.Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new $l(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:lm}=xc;var hm=t=>class Ul extends lm{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Dr.Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Dr.Buffer.isBuffer(r)||(r=Dr.Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Ul(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const fm=cm,dm=hm;var pm=function(t){const e=fm(t),r=dm(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},Wl={};const Ou=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];Wl.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],b=t[7]^t[17]^t[27]^t[37]^t[47],g=t[8]^t[18]^t[28]^t[38]^t[48],C=t[9]^t[19]^t[29]^t[39]^t[49];let x=g^(i<<1|s>>>31),I=C^(s<<1|i>>>31);const N=t[0]^x,H=t[1]^I,$=t[10]^x,P=t[11]^I,F=t[20]^x,U=t[21]^I,V=t[30]^x,ee=t[31]^I,K=t[40]^x,te=t[41]^I;x=r^(o<<1|a>>>31),I=n^(a<<1|o>>>31);const fe=t[2]^x,de=t[3]^I,we=t[12]^x,Y=t[13]^I,ne=t[22]^x,E=t[23]^I,u=t[32]^x,d=t[33]^I,m=t[42]^x,_=t[43]^I;x=i^(f<<1|b>>>31),I=s^(b<<1|f>>>31);const S=t[4]^x,M=t[5]^I,T=t[14]^x,w=t[15]^I,c=t[24]^x,y=t[25]^I,R=t[34]^x,D=t[35]^I,j=t[44]^x,Z=t[45]^I;x=o^(g<<1|C>>>31),I=a^(C<<1|g>>>31);const W=t[6]^x,z=t[7]^I,pe=t[16]^x,ae=t[17]^I,me=t[26]^x,ut=t[27]^I,ye=t[36]^x,_e=t[37]^I,Dt=t[46]^x,Ee=t[47]^I;x=f^(r<<1|n>>>31),I=b^(n<<1|r>>>31);const Ce=t[8]^x,B=t[9]^I,ke=t[18]^x,xe=t[19]^I,ht=t[28]^x,Ie=t[29]^I,Ae=t[38]^x,wt=t[39]^I,Te=t[48]^x,p=t[49]^I,l=N,h=H,v=P<<4|$>>>28,k=$<<4|P>>>28,A=F<<3|U>>>29,O=U<<3|F>>>29,ie=ee<<9|V>>>23,re=V<<9|ee>>>23,J=K<<18|te>>>14,Me=te<<18|K>>>14,Q=fe<<1|de>>>31,Re=de<<1|fe>>>31,Vr=Y<<12|we>>>20,Ne=we<<12|Y>>>20,Be=ne<<10|E>>>22,qr=E<<10|ne>>>22,Le=d<<13|u>>>19,De=u<<13|d>>>19,Gr=m<<2|_>>>30,Pe=_<<2|m>>>30,je=M<<30|S>>>2,Zr=S<<30|M>>>2,Fe=T<<6|w>>>26,$e=w<<6|T>>>26,Qr=y<<11|c>>>21,Ue=c<<11|y>>>21,We=R<<15|D>>>17,Yr=D<<15|R>>>17,He=Z<<29|j>>>3,ze=j<<29|Z>>>3,Kr=W<<28|z>>>4,Ve=z<<28|W>>>4,qe=ae<<23|pe>>>9,Jr=pe<<23|ae>>>9,Ge=me<<25|ut>>>7,Ze=ut<<25|me>>>7,yr=ye<<21|_e>>>11,gr=_e<<21|ye>>>11,br=Ee<<24|Dt>>>8,mr=Dt<<24|Ee>>>8,vr=Ce<<27|B>>>5,wr=B<<27|Ce>>>5,_r=ke<<20|xe>>>12,Sr=xe<<20|ke>>>12,Er=Ie<<7|ht>>>25,xr=ht<<7|Ie>>>25,Mr=Ae<<8|wt>>>24,kr=wt<<8|Ae>>>24,Cr=Te<<14|p>>>18,Ir=p<<14|Te>>>18;t[0]=l^~Vr&Qr,t[1]=h^~Ne&Ue,t[10]=Kr^~_r&A,t[11]=Ve^~Sr&O,t[20]=Q^~Fe&Ge,t[21]=Re^~$e&Ze,t[30]=vr^~v&Be,t[31]=wr^~k&qr,t[40]=je^~qe&Er,t[41]=Zr^~Jr&xr,t[2]=Vr^~Qr&yr,t[3]=Ne^~Ue&gr,t[12]=_r^~A&Le,t[13]=Sr^~O&De,t[22]=Fe^~Ge&Mr,t[23]=$e^~Ze&kr,t[32]=v^~Be&We,t[33]=k^~qr&Yr,t[42]=qe^~Er&ie,t[43]=Jr^~xr&re,t[4]=Qr^~yr&Cr,t[5]=Ue^~gr&Ir,t[14]=A^~Le&He,t[15]=O^~De&ze,t[24]=Ge^~Mr&J,t[25]=Ze^~kr&Me,t[34]=Be^~We&br,t[35]=qr^~Yr&mr,t[44]=Er^~ie&Gr,t[45]=xr^~re&Pe,t[6]=yr^~Cr&l,t[7]=gr^~Ir&h,t[16]=Le^~He&Kr,t[17]=De^~ze&Ve,t[26]=Mr^~J&Q,t[27]=kr^~Me&Re,t[36]=We^~br&vr,t[37]=Yr^~mr&wr,t[46]=ie^~Gr&je,t[47]=re^~Pe&Zr,t[8]=Cr^~l&Vr,t[9]=Ir^~h&Ne,t[18]=He^~Kr&_r,t[19]=ze^~Ve&Sr,t[28]=J^~Q&Fe,t[29]=Me^~Re&$e,t[38]=br^~vr&v,t[39]=mr^~wr&k,t[48]=Gr^~je&qe,t[49]=Pe^~Zr&Jr,t[0]^=Ou[e*2],t[1]^=Ou[e*2+1]}};const Zi=Wl;function Bn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Bn.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Bn.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Zi.p1600(this.state),this.count=0)};Bn.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&Zi.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Zi.p1600(this.state),this.count=0,this.squeezing=!0};Bn.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Dr.Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Zi.p1600(this.state),this.count=0);return e};Bn.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var ym=Bn,gm=pm(ym);const bm=gm,mm=dn;function Hl(t){return ve.Buffer.allocUnsafe(t).fill(0)}function zl(t,e,r){const n=Hl(e);return t=hs(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function vm(t,e){return zl(t,e,!0)}function hs(t){if(!ve.Buffer.isBuffer(t))if(Array.isArray(t))t=ve.Buffer.from(t);else if(typeof t=="string")Vl(t)?t=ve.Buffer.from(Sm(ql(t)),"hex"):t=ve.Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=ve.Buffer.allocUnsafe(0);else if(mm.isBN(t))t=t.toArrayLike(ve.Buffer);else if(t.toArray)t=ve.Buffer.from(t.toArray());else throw new Error("invalid type");return t}function wm(t){return t=hs(t),"0x"+t.toString("hex")}function _m(t,e){return t=hs(t),e||(e=256),bm("keccak"+e).update(t).digest()}function Sm(t){return t.length%2?"0"+t:t}function Vl(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function ql(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Gl={zeros:Hl,setLength:zl,setLengthRight:vm,isHexString:Vl,stripHexPrefix:ql,toBuffer:hs,bufferToHex:wm,keccak:_m};const Wr=Gl,Lr=dn;function Zl(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function ln(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function Ru(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Ql(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function Rr(t){var e=typeof t;if(e==="string")return Wr.isHexString(t)?new Lr(Wr.stripHexPrefix(t),16):new Lr(t,10);if(e==="number")return new Lr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function $t(t,e){var r,n,i,s;if(t==="address")return $t("uint160",Rr(e));if(t==="bool")return $t("uint8",e?1:0);if(t==="string")return $t("bytes",new ve.Buffer(e,"utf8"));if(xm(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Ql(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push($t(t,e[s]));if(r==="dynamic"){var o=$t("uint256",e.length);i.unshift(o)}return ve.Buffer.concat(i)}else{if(t==="bytes")return e=new ve.Buffer(e),i=ve.Buffer.concat([$t("uint256",e.length),e]),e.length%32!==0&&(i=ve.Buffer.concat([i,Wr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=ln(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Wr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=ln(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Rr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(ve.Buffer,"be",32)}else if(t.startsWith("int")){if(r=ln(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Rr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(ve.Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=Ru(t),n=Rr(e),n<0)throw new Error("Supplied ufixed is negative");return $t("uint256",n.mul(new Lr(2).pow(new Lr(r[1]))))}else if(t.startsWith("fixed"))return r=Ru(t),$t("int256",Rr(e).mul(new Lr(2).pow(new Lr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function Em(t){return t==="string"||t==="bytes"||Ql(t)==="dynamic"}function xm(t){return t.lastIndexOf("]")===t.length-1}function Mm(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=Zl(t[s]),a=e[s],f=$t(o,a);Em(o)?(r.push($t("uint256",i)),n.push(f),i+=f.length):r.push(f)}return ve.Buffer.concat(r.concat(n))}function Yl(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=Zl(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new ve.Buffer(a,"utf8"));else if(o==="bool")i.push(new ve.Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Wr.setLength(a,20));else if(o.startsWith("bytes")){if(r=ln(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Wr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=ln(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=Rr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(ve.Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=ln(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=Rr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(ve.Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return ve.Buffer.concat(i)}function km(t,e){return Wr.keccak(Yl(t,e))}var Cm={rawEncode:Mm,solidityPack:Yl,soliditySHA3:km};const Nt=Gl,qn=Cm,Kl={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},uo={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,f,b)=>{if(r[f]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Nt.keccak(this.encodeData(f,b,r,n))];if(b===void 0)throw new Error(`missing value for field ${a} of type ${f}`);if(f==="bytes")return["bytes32",Nt.keccak(b)];if(f==="string")return typeof b=="string"&&(b=ve.Buffer.from(b,"utf8")),["bytes32",Nt.keccak(b)];if(f.lastIndexOf("]")===f.length-1){const g=f.slice(0,f.lastIndexOf("[")),C=b.map(x=>o(a,g,x));return["bytes32",Nt.keccak(qn.rawEncode(C.map(([x])=>x),C.map(([,x])=>x)))]}return[f,b]};for(const a of r[t]){const[f,b]=o(a.name,a.type,e[a.name]);i.push(f),s.push(b)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Nt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=ve.Buffer.from(a,"utf8")),a=Nt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Nt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return qn.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Nt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Nt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Kl.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[ve.Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Nt.keccak(ve.Buffer.concat(n))}};var Im={TYPED_MESSAGE_SCHEMA:Kl,TypedDataUtils:uo,hashForSignTypedDataLegacy:function(t){return Am(t.data)},hashForSignTypedData_v3:function(t){return uo.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return uo.hash(t.data)}};function Am(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Nt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return qn.soliditySHA3(["bytes32","bytes32"],[qn.soliditySHA3(new Array(t.length).fill("string"),i),qn.soliditySHA3(n,r)])}var _n={};Object.defineProperty(_n,"__esModule",{value:!0});_n.filterFromParam=_n.FilterPolyfill=void 0;const nn=li,bt=q,Tm=5*60*1e3,Nr={jsonrpc:"2.0",id:0};class Om{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,nn.IntNumber)(1),this.provider=e}async newFilter(e){const r=Jl(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,bt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,bt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,bt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,bt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,bt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(xi())}async getFilterLogs(e){const r=(0,bt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},Nr),{method:"eth_getLogs",params:[Nu(n)]})):xi()}makeFilterId(){return(0,nn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return xi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return Mi();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},Nr),{method:"eth_getLogs",params:[Nu(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(b=>(0,bt.intNumberFromHexString)(b.blockNumber||"0x0")),f=Math.max(...a);if(f&&f>n){const b=(0,nn.IntNumber)(f+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${b}`),this.cursors.set(e,b)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return xi();const n=await this.getCurrentBlockHeight();if(r>n)return Mi();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,bt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,nn.IntNumber)(o))))).filter(o=>!!o),s=(0,nn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},Nr),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve(Mi())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},Tm);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},Nr),{method:"eth_blockNumber",params:[]}));return(0,bt.intNumberFromHexString)((0,bt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},Nr),{method:"eth_getBlockByNumber",params:[(0,bt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,bt.ensureHexString)(r.result.hash):null}}_n.FilterPolyfill=Om;function Jl(t){return{fromBlock:Bu(t.fromBlock),toBlock:Bu(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}_n.filterFromParam=Jl;function Nu(t){const e={fromBlock:Lu(t.fromBlock),toBlock:Lu(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function Bu(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,nn.IntNumber)(0);if((0,bt.isHexString)(t))return(0,bt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function Lu(t){return t==="latest"?t:(0,bt.hexStringFromIntNumber)(t)}function xi(){return Object.assign(Object.assign({},Nr),{error:{code:-32e3,message:"filter not found"}})}function Mi(){return Object.assign(Object.assign({},Nr),{result:[]})}var Xl={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Xl);var fs={};const Du=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const f=new Array(arguments.length-1);for(let b=1;b<arguments.length;b++)f[b-1]=arguments[b];o?(f.unshift(o),s(f)):i(f)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let f=0;f<arguments.length;f++)a[f]=arguments[f];i(a)}else i(o)}),t.apply(this,n)})};var Rm=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):Du(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?Du(s,e):s}return n},Nm=Lm,Bm=Object.prototype.hasOwnProperty;function Lm(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)Bm.call(r,n)&&(t[n]=r[n])}return t}var Dm=Pm;function Pm(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const jm=Nm,Fm=Dm();var $m=se;function se(t){const e=this;e.currentProvider=t}se.prototype.getBalance=di(2,"eth_getBalance");se.prototype.getCode=di(2,"eth_getCode");se.prototype.getTransactionCount=di(2,"eth_getTransactionCount");se.prototype.getStorageAt=di(3,"eth_getStorageAt");se.prototype.call=di(2,"eth_call");se.prototype.protocolVersion=he("eth_protocolVersion");se.prototype.syncing=he("eth_syncing");se.prototype.coinbase=he("eth_coinbase");se.prototype.mining=he("eth_mining");se.prototype.hashrate=he("eth_hashrate");se.prototype.gasPrice=he("eth_gasPrice");se.prototype.accounts=he("eth_accounts");se.prototype.blockNumber=he("eth_blockNumber");se.prototype.getBlockTransactionCountByHash=he("eth_getBlockTransactionCountByHash");se.prototype.getBlockTransactionCountByNumber=he("eth_getBlockTransactionCountByNumber");se.prototype.getUncleCountByBlockHash=he("eth_getUncleCountByBlockHash");se.prototype.getUncleCountByBlockNumber=he("eth_getUncleCountByBlockNumber");se.prototype.sign=he("eth_sign");se.prototype.sendTransaction=he("eth_sendTransaction");se.prototype.sendRawTransaction=he("eth_sendRawTransaction");se.prototype.estimateGas=he("eth_estimateGas");se.prototype.getBlockByHash=he("eth_getBlockByHash");se.prototype.getBlockByNumber=he("eth_getBlockByNumber");se.prototype.getTransactionByHash=he("eth_getTransactionByHash");se.prototype.getTransactionByBlockHashAndIndex=he("eth_getTransactionByBlockHashAndIndex");se.prototype.getTransactionByBlockNumberAndIndex=he("eth_getTransactionByBlockNumberAndIndex");se.prototype.getTransactionReceipt=he("eth_getTransactionReceipt");se.prototype.getUncleByBlockHashAndIndex=he("eth_getUncleByBlockHashAndIndex");se.prototype.getUncleByBlockNumberAndIndex=he("eth_getUncleByBlockNumberAndIndex");se.prototype.getCompilers=he("eth_getCompilers");se.prototype.compileLLL=he("eth_compileLLL");se.prototype.compileSolidity=he("eth_compileSolidity");se.prototype.compileSerpent=he("eth_compileSerpent");se.prototype.newFilter=he("eth_newFilter");se.prototype.newBlockFilter=he("eth_newBlockFilter");se.prototype.newPendingTransactionFilter=he("eth_newPendingTransactionFilter");se.prototype.uninstallFilter=he("eth_uninstallFilter");se.prototype.getFilterChanges=he("eth_getFilterChanges");se.prototype.getFilterLogs=he("eth_getFilterLogs");se.prototype.getLogs=he("eth_getLogs");se.prototype.getWork=he("eth_getWork");se.prototype.submitWork=he("eth_submitWork");se.prototype.submitHashrate=he("eth_submitHashrate");se.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Um(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function he(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function di(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Um(t){return jm({id:Fm(),jsonrpc:"2.0",params:[]},t)}var eh={},th={},Wm=ml,ds=function(){return Wm()&&!!Symbol.toStringTag},Hm=ds(),zm=cs,Yo=zm("Object.prototype.toString"),ps=function(e){return Hm&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Yo(e)==="[object Arguments]"},rh=function(e){return ps(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Yo(e)!=="[object Array]"&&Yo(e.callee)==="[object Function]"},Vm=function(){return ps(arguments)}();ps.isLegacyArguments=rh;var qm=Vm?ps:rh,Gm=Object.prototype.toString,Zm=Function.prototype.toString,Qm=/^\s*(?:function)?\*/,nh=ds(),co=Object.getPrototypeOf,Ym=function(){if(!nh)return!1;try{return Function("return function*() {}")()}catch{}},lo,Km=function(e){if(typeof e!="function")return!1;if(Qm.test(Zm.call(e)))return!0;if(!nh){var r=Gm.call(e);return r==="[object GeneratorFunction]"}if(!co)return!1;if(typeof lo>"u"){var n=Ym();lo=n?co(n):!1}return co(e)===lo},ih=Function.prototype.toString,on=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Ko,Ri;if(typeof on=="function"&&typeof Object.defineProperty=="function")try{Ko=Object.defineProperty({},"length",{get:function(){throw Ri}}),Ri={},on(function(){throw 42},null,Ko)}catch(t){t!==Ri&&(on=null)}else on=null;var Jm=/^\s*class\b/,Jo=function(e){try{var r=ih.call(e);return Jm.test(r)}catch{return!1}},ho=function(e){try{return Jo(e)?!1:(ih.call(e),!0)}catch{return!1}},Ni=Object.prototype.toString,Xm="[object Object]",ev="[object Function]",tv="[object GeneratorFunction]",rv="[object HTMLAllCollection]",nv="[object HTML document.all class]",iv="[object HTMLCollection]",sv=typeof Symbol=="function"&&!!Symbol.toStringTag,ov=!(0 in[,]),Xo=function(){return!1};if(typeof document=="object"){var av=document.all;Ni.call(av)===Ni.call(document.all)&&(Xo=function(e){if((ov||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=Ni.call(e);return(r===rv||r===nv||r===iv||r===Xm)&&e("")==null}catch{}return!1})}var uv=on?function(e){if(Xo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{on(e,null,Ko)}catch(r){if(r!==Ri)return!1}return!Jo(e)&&ho(e)}:function(e){if(Xo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(sv)return ho(e);if(Jo(e))return!1;var r=Ni.call(e);return r!==ev&&r!==tv&&!/^\[object HTML/.test(r)?!1:ho(e)},cv=uv,lv=Object.prototype.toString,sh=Object.prototype.hasOwnProperty,hv=function(e,r,n){for(var i=0,s=e.length;i<s;i++)sh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},fv=function(e,r,n){for(var i=0,s=e.length;i<s;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},dv=function(e,r,n){for(var i in e)sh.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},pv=function(e,r,n){if(!cv(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),lv.call(e)==="[object Array]"?hv(e,r,i):typeof e=="string"?fv(e,r,i):dv(e,r,i)},oh=pv,fo=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],yv=typeof globalThis>"u"?le:globalThis,ah=function(){for(var e=[],r=0;r<fo.length;r++)typeof yv[fo[r]]=="function"&&(e[e.length]=fo[r]);return e},gv=us,Bi=gv("%Object.getOwnPropertyDescriptor%",!0);if(Bi)try{Bi([],"length")}catch{Bi=null}var uh=Bi,ch=oh,bv=ah,ka=cs,mv=ka("Object.prototype.toString"),lh=ds(),Li=uh,vv=typeof globalThis>"u"?le:globalThis,hh=bv(),wv=ka("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},_v=ka("String.prototype.slice"),fh={},po=Object.getPrototypeOf;lh&&Li&&po&&ch(hh,function(t){var e=new vv[t];if(Symbol.toStringTag in e){var r=po(e),n=Li(r,Symbol.toStringTag);if(!n){var i=po(r);n=Li(i,Symbol.toStringTag)}fh[t]=n.get}});var Sv=function(e){var r=!1;return ch(fh,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r},dh=function(e){if(!e||typeof e!="object")return!1;if(!lh||!(Symbol.toStringTag in e)){var r=_v(mv(e),8,-1);return wv(hh,r)>-1}return Li?Sv(e):!1},ph=oh,Ev=ah,yh=cs,yo=uh,xv=yh("Object.prototype.toString"),gh=ds(),Pu=typeof globalThis>"u"?le:globalThis,Mv=Ev(),kv=yh("String.prototype.slice"),bh={},go=Object.getPrototypeOf;gh&&yo&&go&&ph(Mv,function(t){if(typeof Pu[t]=="function"){var e=new Pu[t];if(Symbol.toStringTag in e){var r=go(e),n=yo(r,Symbol.toStringTag);if(!n){var i=go(r);n=yo(i,Symbol.toStringTag)}bh[t]=n.get}}});var Cv=function(e){var r=!1;return ph(bh,function(n,i){if(!r)try{var s=n.call(e);s===i&&(r=s)}catch{}}),r},Iv=dh,Av=function(e){return Iv(e)?!gh||!(Symbol.toStringTag in e)?kv(xv(e),8,-1):Cv(e):!1};(function(t){var e=qm,r=Km,n=Av,i=dh;function s(B){return B.call.bind(B)}var o=typeof BigInt<"u",a=typeof Symbol<"u",f=s(Object.prototype.toString),b=s(Number.prototype.valueOf),g=s(String.prototype.valueOf),C=s(Boolean.prototype.valueOf);if(o)var x=s(BigInt.prototype.valueOf);if(a)var I=s(Symbol.prototype.valueOf);function N(B,ke){if(typeof B!="object")return!1;try{return ke(B),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=i;function H(B){return typeof Promise<"u"&&B instanceof Promise||B!==null&&typeof B=="object"&&typeof B.then=="function"&&typeof B.catch=="function"}t.isPromise=H;function $(B){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(B):i(B)||y(B)}t.isArrayBufferView=$;function P(B){return n(B)==="Uint8Array"}t.isUint8Array=P;function F(B){return n(B)==="Uint8ClampedArray"}t.isUint8ClampedArray=F;function U(B){return n(B)==="Uint16Array"}t.isUint16Array=U;function V(B){return n(B)==="Uint32Array"}t.isUint32Array=V;function ee(B){return n(B)==="Int8Array"}t.isInt8Array=ee;function K(B){return n(B)==="Int16Array"}t.isInt16Array=K;function te(B){return n(B)==="Int32Array"}t.isInt32Array=te;function fe(B){return n(B)==="Float32Array"}t.isFloat32Array=fe;function de(B){return n(B)==="Float64Array"}t.isFloat64Array=de;function we(B){return n(B)==="BigInt64Array"}t.isBigInt64Array=we;function Y(B){return n(B)==="BigUint64Array"}t.isBigUint64Array=Y;function ne(B){return f(B)==="[object Map]"}ne.working=typeof Map<"u"&&ne(new Map);function E(B){return typeof Map>"u"?!1:ne.working?ne(B):B instanceof Map}t.isMap=E;function u(B){return f(B)==="[object Set]"}u.working=typeof Set<"u"&&u(new Set);function d(B){return typeof Set>"u"?!1:u.working?u(B):B instanceof Set}t.isSet=d;function m(B){return f(B)==="[object WeakMap]"}m.working=typeof WeakMap<"u"&&m(new WeakMap);function _(B){return typeof WeakMap>"u"?!1:m.working?m(B):B instanceof WeakMap}t.isWeakMap=_;function S(B){return f(B)==="[object WeakSet]"}S.working=typeof WeakSet<"u"&&S(new WeakSet);function M(B){return S(B)}t.isWeakSet=M;function T(B){return f(B)==="[object ArrayBuffer]"}T.working=typeof ArrayBuffer<"u"&&T(new ArrayBuffer);function w(B){return typeof ArrayBuffer>"u"?!1:T.working?T(B):B instanceof ArrayBuffer}t.isArrayBuffer=w;function c(B){return f(B)==="[object DataView]"}c.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&c(new DataView(new ArrayBuffer(1),0,1));function y(B){return typeof DataView>"u"?!1:c.working?c(B):B instanceof DataView}t.isDataView=y;var R=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function D(B){return f(B)==="[object SharedArrayBuffer]"}function j(B){return typeof R>"u"?!1:(typeof D.working>"u"&&(D.working=D(new R)),D.working?D(B):B instanceof R)}t.isSharedArrayBuffer=j;function Z(B){return f(B)==="[object AsyncFunction]"}t.isAsyncFunction=Z;function W(B){return f(B)==="[object Map Iterator]"}t.isMapIterator=W;function z(B){return f(B)==="[object Set Iterator]"}t.isSetIterator=z;function pe(B){return f(B)==="[object Generator]"}t.isGeneratorObject=pe;function ae(B){return f(B)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ae;function me(B){return N(B,b)}t.isNumberObject=me;function ut(B){return N(B,g)}t.isStringObject=ut;function ye(B){return N(B,C)}t.isBooleanObject=ye;function _e(B){return o&&N(B,x)}t.isBigIntObject=_e;function Dt(B){return a&&N(B,I)}t.isSymbolObject=Dt;function Ee(B){return me(B)||ut(B)||ye(B)||_e(B)||Dt(B)}t.isBoxedPrimitive=Ee;function Ce(B){return typeof Uint8Array<"u"&&(w(B)||j(B))}t.isAnyArrayBuffer=Ce,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(B){Object.defineProperty(t,B,{enumerable:!1,value:function(){throw new Error(B+" is not supported in userland")}})})})(th);var Tv=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"};(function(t){var e=Object.getOwnPropertyDescriptors||function(y){for(var R=Object.keys(y),D={},j=0;j<R.length;j++)D[R[j]]=Object.getOwnPropertyDescriptor(y,R[j]);return D},r=/%[sdj%]/g;t.format=function(c){if(!ee(c)){for(var y=[],R=0;R<arguments.length;R++)y.push(o(arguments[R]));return y.join(" ")}for(var R=1,D=arguments,j=D.length,Z=String(c).replace(r,function(z){if(z==="%%")return"%";if(R>=j)return z;switch(z){case"%s":return String(D[R++]);case"%d":return Number(D[R++]);case"%j":try{return JSON.stringify(D[R++])}catch{return"[Circular]"}default:return z}}),W=D[R];R<j;W=D[++R])F(W)||!de(W)?Z+=" "+W:Z+=" "+o(W);return Z},t.deprecate=function(c,y){if(typeof Xt<"u"&&Xt.noDeprecation===!0)return c;if(typeof Xt>"u")return function(){return t.deprecate(c,y).apply(this,arguments)};var R=!1;function D(){if(!R){if(Xt.throwDeprecation)throw new Error(y);Xt.traceDeprecation?console.trace(y):console.error(y),R=!0}return c.apply(this,arguments)}return D};var n={},i=/^$/;if({}.NODE_DEBUG){var s={}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}t.debuglog=function(c){if(c=c.toUpperCase(),!n[c])if(i.test(c)){var y=Xt.pid;n[c]=function(){var R=t.format.apply(t,arguments);console.error("%s %d: %s",c,y,R)}}else n[c]=function(){};return n[c]};function o(c,y){var R={seen:[],stylize:f};return arguments.length>=3&&(R.depth=arguments[2]),arguments.length>=4&&(R.colors=arguments[3]),P(y)?R.showHidden=y:y&&t._extend(R,y),te(R.showHidden)&&(R.showHidden=!1),te(R.depth)&&(R.depth=2),te(R.colors)&&(R.colors=!1),te(R.customInspect)&&(R.customInspect=!0),R.colors&&(R.stylize=a),g(R,c,R.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(c,y){var R=o.styles[y];return R?"\x1B["+o.colors[R][0]+"m"+c+"\x1B["+o.colors[R][1]+"m":c}function f(c,y){return c}function b(c){var y={};return c.forEach(function(R,D){y[R]=!0}),y}function g(c,y,R){if(c.customInspect&&y&&ne(y.inspect)&&y.inspect!==t.inspect&&!(y.constructor&&y.constructor.prototype===y)){var D=y.inspect(R,c);return ee(D)||(D=g(c,D,R)),D}var j=C(c,y);if(j)return j;var Z=Object.keys(y),W=b(Z);if(c.showHidden&&(Z=Object.getOwnPropertyNames(y)),Y(y)&&(Z.indexOf("message")>=0||Z.indexOf("description")>=0))return x(y);if(Z.length===0){if(ne(y)){var z=y.name?": "+y.name:"";return c.stylize("[Function"+z+"]","special")}if(fe(y))return c.stylize(RegExp.prototype.toString.call(y),"regexp");if(we(y))return c.stylize(Date.prototype.toString.call(y),"date");if(Y(y))return x(y)}var pe="",ae=!1,me=["{","}"];if($(y)&&(ae=!0,me=["[","]"]),ne(y)){var ut=y.name?": "+y.name:"";pe=" [Function"+ut+"]"}if(fe(y)&&(pe=" "+RegExp.prototype.toString.call(y)),we(y)&&(pe=" "+Date.prototype.toUTCString.call(y)),Y(y)&&(pe=" "+x(y)),Z.length===0&&(!ae||y.length==0))return me[0]+pe+me[1];if(R<0)return fe(y)?c.stylize(RegExp.prototype.toString.call(y),"regexp"):c.stylize("[Object]","special");c.seen.push(y);var ye;return ae?ye=I(c,y,R,W,Z):ye=Z.map(function(_e){return N(c,y,R,W,_e,ae)}),c.seen.pop(),H(ye,pe,me)}function C(c,y){if(te(y))return c.stylize("undefined","undefined");if(ee(y)){var R="'"+JSON.stringify(y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return c.stylize(R,"string")}if(V(y))return c.stylize(""+y,"number");if(P(y))return c.stylize(""+y,"boolean");if(F(y))return c.stylize("null","null")}function x(c){return"["+Error.prototype.toString.call(c)+"]"}function I(c,y,R,D,j){for(var Z=[],W=0,z=y.length;W<z;++W)S(y,String(W))?Z.push(N(c,y,R,D,String(W),!0)):Z.push("");return j.forEach(function(pe){pe.match(/^\d+$/)||Z.push(N(c,y,R,D,pe,!0))}),Z}function N(c,y,R,D,j,Z){var W,z,pe;if(pe=Object.getOwnPropertyDescriptor(y,j)||{value:y[j]},pe.get?pe.set?z=c.stylize("[Getter/Setter]","special"):z=c.stylize("[Getter]","special"):pe.set&&(z=c.stylize("[Setter]","special")),S(D,j)||(W="["+j+"]"),z||(c.seen.indexOf(pe.value)<0?(F(R)?z=g(c,pe.value,null):z=g(c,pe.value,R-1),z.indexOf(`
`)>-1&&(Z?z=z.split(`
`).map(function(ae){return"  "+ae}).join(`
`).slice(2):z=`
`+z.split(`
`).map(function(ae){return"   "+ae}).join(`
`))):z=c.stylize("[Circular]","special")),te(W)){if(Z&&j.match(/^\d+$/))return z;W=JSON.stringify(""+j),W.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(W=W.slice(1,-1),W=c.stylize(W,"name")):(W=W.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),W=c.stylize(W,"string"))}return W+": "+z}function H(c,y,R){var D=c.reduce(function(j,Z){return Z.indexOf(`
`)>=0,j+Z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return D>60?R[0]+(y===""?"":y+`
 `)+" "+c.join(`,
  `)+" "+R[1]:R[0]+y+" "+c.join(", ")+" "+R[1]}t.types=th;function $(c){return Array.isArray(c)}t.isArray=$;function P(c){return typeof c=="boolean"}t.isBoolean=P;function F(c){return c===null}t.isNull=F;function U(c){return c==null}t.isNullOrUndefined=U;function V(c){return typeof c=="number"}t.isNumber=V;function ee(c){return typeof c=="string"}t.isString=ee;function K(c){return typeof c=="symbol"}t.isSymbol=K;function te(c){return c===void 0}t.isUndefined=te;function fe(c){return de(c)&&u(c)==="[object RegExp]"}t.isRegExp=fe,t.types.isRegExp=fe;function de(c){return typeof c=="object"&&c!==null}t.isObject=de;function we(c){return de(c)&&u(c)==="[object Date]"}t.isDate=we,t.types.isDate=we;function Y(c){return de(c)&&(u(c)==="[object Error]"||c instanceof Error)}t.isError=Y,t.types.isNativeError=Y;function ne(c){return typeof c=="function"}t.isFunction=ne;function E(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||typeof c=="symbol"||typeof c>"u"}t.isPrimitive=E,t.isBuffer=Tv;function u(c){return Object.prototype.toString.call(c)}function d(c){return c<10?"0"+c.toString(10):c.toString(10)}var m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(){var c=new Date,y=[d(c.getHours()),d(c.getMinutes()),d(c.getSeconds())].join(":");return[c.getDate(),m[c.getMonth()],y].join(" ")}t.log=function(){console.log("%s - %s",_(),t.format.apply(t,arguments))},t.inherits=lf,t._extend=function(c,y){if(!y||!de(y))return c;for(var R=Object.keys(y),D=R.length;D--;)c[R[D]]=y[R[D]];return c};function S(c,y){return Object.prototype.hasOwnProperty.call(c,y)}var M=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(y){if(typeof y!="function")throw new TypeError('The "original" argument must be of type Function');if(M&&y[M]){var R=y[M];if(typeof R!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,M,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var D,j,Z=new Promise(function(pe,ae){D=pe,j=ae}),W=[],z=0;z<arguments.length;z++)W.push(arguments[z]);W.push(function(pe,ae){pe?j(pe):D(ae)});try{y.apply(this,W)}catch(pe){j(pe)}return Z}return Object.setPrototypeOf(R,Object.getPrototypeOf(y)),M&&Object.defineProperty(R,M,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,e(y))},t.promisify.custom=M;function T(c,y){if(!c){var R=new Error("Promise was rejected with a falsy value");R.reason=c,c=R}return y(c)}function w(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');function y(){for(var R=[],D=0;D<arguments.length;D++)R.push(arguments[D]);var j=R.pop();if(typeof j!="function")throw new TypeError("The last argument must be of type Function");var Z=this,W=function(){return j.apply(Z,arguments)};c.apply(this,R).then(function(z){Xt.nextTick(W.bind(null,null,z))},function(z){Xt.nextTick(T.bind(null,z,W))})}return Object.setPrototypeOf(y,Object.getPrototypeOf(c)),Object.defineProperties(y,e(c)),y}t.callbackify=w})(eh);const Ov=eh,mh=Sc;var bo=typeof Reflect=="object"?Reflect:null,Rv=bo&&typeof bo.apply=="function"?bo.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Nv=Ca;function Ca(){mh.call(this)}Ov.inherits(Ca,mh);Ca.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")ju(a,this,e);else for(var f=a.length,b=Bv(a,f),r=0;r<f;++r)ju(b[r],this,e);return!0};function ju(t,e,r){try{Rv(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Bv(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const Lv=Nv,Dv=1e3,Pv=(t,e)=>t+e,Fu=["sync","latest"];let jv=class extends Lv{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*Dv,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){Fu.includes(e)&&this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return Fu.map(e=>this.listenerCount(e)).reduce(Pv)}_newPotentialLatest(e){const r=this._currentBlock;r&&$u(e)<=$u(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var Fv=jv;function $u(t){return Number.parseInt(t,16)}const $v=Rm,Uv=Fv,Wv=1e3;let Hv=class extends Uv{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*Wv,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Uu(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await Uu(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await $v(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}};var zv=Hv;function Uu(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Qi={},Vv={get exports(){return Qi},set exports(t){Qi=t}},qv=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=qv})(Vv);var Ia={},ys={},pi={};Object.defineProperty(pi,"__esModule",{value:!0});pi.getUniqueId=void 0;const vh=4294967295;let mo=Math.floor(Math.random()*vh);function Gv(){return mo=(mo+1)%vh,mo}pi.getUniqueId=Gv;Object.defineProperty(ys,"__esModule",{value:!0});ys.createIdRemapMiddleware=void 0;const Zv=pi;function Qv(){return(t,e,r,n)=>{const i=t.id,s=Zv.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}ys.createIdRemapMiddleware=Qv;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.createAsyncMiddleware=void 0;function Yv(t){return async(e,r,n,i)=>{let s;const o=new Promise(g=>{s=g});let a=null,f=!1;const b=async()=>{f=!0,n(g=>{a=g,s()}),await o};try{await t(e,r,b),f?(await o,a(null)):i(null)}catch(g){a?a(g):i(g)}}}gs.createAsyncMiddleware=Yv;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.createScaffoldMiddleware=void 0;function Kv(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}bs.createScaffoldMiddleware=Kv;var yi={},Jv=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});yi.JsonRpcEngine=void 0;const Xv=Jv(kn),kt=ni;class Gt extends Xv.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Gt._runAllMiddleware(e,r,this._middleware);return o?(await Gt._runReturnHandlers(a),i(s)):n(async f=>{try{await Gt._runReturnHandlers(a)}catch(b){return f(b)}return f()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new kt.EthereumRpcError(kt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new kt.EthereumRpcError(kt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=kt.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Gt._runAllMiddleware(e,r,this._middleware);if(Gt._checkForCompletion(e,r,i),await Gt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Gt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=f=>{const b=f||r.error;b&&(r.error=kt.serializeError(b)),s([b,!0])},a=f=>{r.error?o(r.error):(f&&(typeof f!="function"&&o(new kt.EthereumRpcError(kt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof f}" for request:
${vo(e)}`,{request:e})),i.push(f)),s([null,!1]))};try{n(e,r,a,o)}catch(f){o(f)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new kt.EthereumRpcError(kt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${vo(e)}`,{request:e});if(!n)throw new kt.EthereumRpcError(kt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${vo(e)}`,{request:e})}}yi.JsonRpcEngine=Gt;function vo(t){return JSON.stringify(t,null,2)}var ms={};Object.defineProperty(ms,"__esModule",{value:!0});ms.mergeMiddleware=void 0;const ew=yi;function tw(t){const e=new ew.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}ms.mergeMiddleware=tw;(function(t){var e=le&&le.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=le&&le.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(ys,t),r(gs,t),r(bs,t),r(pi,t),r(yi,t),r(ms,t)})(Ia);var wh={},Aa={};const Ta=Mn(hf);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});var Wu=Ta,rw=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return Wu.__awaiter(this,void 0,void 0,function(){var r,n,i;return Wu.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();vs.default=rw;Object.defineProperty(Aa,"__esModule",{value:!0});var Hu=Ta,nw=vs,iw=function(){function t(){this._semaphore=new nw.default(1)}return t.prototype.acquire=function(){return Hu.__awaiter(this,void 0,void 0,function(){var e,r;return Hu.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Aa.default=iw;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.withTimeout=void 0;var ki=Ta;function sw(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return ki.__awaiter(n,void 0,void 0,function(){var o,a,f;return ki.__generator(this,function(b){switch(b.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=b.sent(),o?(f=Array.isArray(a)?a[1]:a,f()):i(a),[2]}})})})},runExclusive:function(i){return ki.__awaiter(this,void 0,void 0,function(){var s,o;return ki.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}ws.withTimeout=sw;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Aa;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=vs;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=ws;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(wh);const zu=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...b)=>{e.errorFirst?b[0]?a(b):(b.shift(),o(b)):o(b)}):e.errorFirst?i.push((b,g)=>{b?a(b):o(g)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Vu=new WeakMap;var ow=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let f=Vu.get(o);if(f||(f={},Vu.set(o,f)),a in f)return f[a];const b=N=>typeof N=="string"||typeof a=="symbol"?a===N:N.test(a),g=Reflect.getOwnPropertyDescriptor(o,a),C=g===void 0||g.writable||g.configurable,I=(e.include?e.include.some(b):!e.exclude.some(b))&&C;return f[a]=I,I},i=new WeakMap,s=new Proxy(t,{apply(o,a,f){const b=i.get(o);if(b)return Reflect.apply(b,a,f);const g=e.excludeMain?o:zu(o,e,s,o);return i.set(o,g),Reflect.apply(g,a,f)},get(o,a){const f=o[a];if(!n(o,a)||f===Function.prototype[a])return f;const b=i.get(f);if(b)return b;if(typeof f=="function"){const g=zu(f,e,s,o);return i.set(f,g),g}return f}});return s};const aw=kn.default;let uw=class extends aw{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Oa=uw;const cw=Oa;let lw=class extends cw{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var hw=lw,gi={minBlockRef:fw,maxBlockRef:dw,sortBlockRefs:Ra,bnToHex:pw,blockRefIsNumber:yw,hexToInt:Yi,incrementHexInt:gw,intToHex:_h,unsafeRandomBytes:bw};function fw(...t){return Ra(t)[0]}function dw(...t){const e=Ra(t);return e[e.length-1]}function Ra(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:Yi(e)-Yi(r))}function pw(t){return"0x"+t.toString(16)}function yw(t){return t&&!["earliest","latest","pending"].includes(t)}function Yi(t){return t==null?t:Number.parseInt(t,16)}function gw(t){if(t==null)return t;const e=Yi(t);return _h(e+1)}function _h(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function bw(t){let e="0x";for(let r=0;r<t;r++)e+=qu(),e+=qu();return e}function qu(){return Math.floor(Math.random()*16).toString(16)}const mw=$m,vw=ow,ww=hw,{bnToHex:PS,hexToInt:Ci,incrementHexInt:_w,minBlockRef:Sw,blockRefIsNumber:Ew}=gi;let xw=class extends ww{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new mw(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=Sw(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=_w(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(f=>this.matchLog(f));this.addResults(a)}async _fetchLogs(e){return await vw(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Ci(this.params.fromBlock)>=Ci(e.blockNumber)||Ew(this.params.toBlock)&&Ci(this.params.toBlock)<=Ci(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(g=>g.toLowerCase()),a.includes(o))})}};var Mw=xw,Na=kw;async function kw({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=Gu(e),s=Gu(r)-n+1,o=Array(s).fill().map((f,b)=>n+b).map(Cw);return await Promise.all(o.map(f=>Iw(t,"eth_getBlockByNumber",[f,!1])))}function Gu(t){return t==null?t:Number.parseInt(t,16)}function Cw(t){return t==null?t:"0x"+t.toString(16)}function Iw(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const Aw=Oa,Tw=Na,{incrementHexInt:Ow}=gi;let Rw=class extends Aw{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Ow(e),o=(await Tw({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var Nw=Rw;const Bw=Oa,Lw=Na,{incrementHexInt:Dw}=gi;let Pw=class extends Bw{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=Dw(e),i=await Lw({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var jw=Pw;const Fw=wh.Mutex,{createAsyncMiddleware:$w}=Ia,Uw=Qi,Ww=Mw,Hw=Nw,zw=jw,{intToHex:Sh,hexToInt:wo}=gi;var Vw=qw;function qw({blockTracker:t,provider:e}){let r=0,n={};const i=new Fw,s=Gw({mutex:i}),o=Uw({eth_newFilter:s(_o(f)),eth_newBlockFilter:s(_o(b)),eth_newPendingTransactionFilter:s(_o(g)),eth_uninstallFilter:s(Di(I)),eth_getFilterChanges:s(Di(C)),eth_getFilterLogs:s(Di(x))}),a=async({oldBlock:F,newBlock:U})=>{if(n.length===0)return;const V=await i.acquire();try{await Promise.all(en(n).map(async ee=>{try{await ee.update({oldBlock:F,newBlock:U})}catch(K){console.error(K)}}))}catch(ee){console.error(ee)}V()};return o.newLogFilter=f,o.newBlockFilter=b,o.newPendingTransactionFilter=g,o.uninstallFilter=I,o.getFilterChanges=C,o.getFilterLogs=x,o.destroy=()=>{$()},o;async function f(F){const U=new Ww({provider:e,params:F});return await N(U),U}async function b(){const F=new Hw({provider:e});return await N(F),F}async function g(){const F=new zw({provider:e});return await N(F),F}async function C(F){const U=wo(F),V=n[U];if(!V)throw new Error(`No filter for index "${U}"`);return V.getChangesAndClear()}async function x(F){const U=wo(F),V=n[U];if(!V)throw new Error(`No filter for index "${U}"`);return V.type==="log"?results=V.getAllResults():results=[],results}async function I(F){const U=wo(F),V=n[U],ee=Boolean(V);return ee&&await H(U),ee}async function N(F){const U=en(n).length,V=await t.getLatestBlock();await F.initialize({currentBlock:V}),r++,n[r]=F,F.id=r,F.idHex=Sh(r);const ee=en(n).length;return P({prevFilterCount:U,newFilterCount:ee}),r}async function H(F){const U=en(n).length;delete n[F];const V=en(n).length;P({prevFilterCount:U,newFilterCount:V})}async function $(){const F=en(n).length;n={},P({prevFilterCount:F,newFilterCount:0})}function P({prevFilterCount:F,newFilterCount:U}){if(F===0&&U>0){t.on("sync",a);return}if(F>0&&U===0){t.removeListener("sync",a);return}}}function _o(t){return Di(async(...e)=>{const r=await t(...e);return Sh(r.id)})}function Di(t){return $w(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function Gw({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function en(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const Zw=kn.default,Qw=Qi,{createAsyncMiddleware:Zu}=Ia,Yw=Vw,{unsafeRandomBytes:Kw,incrementHexInt:Jw}=gi,Xw=Na;var e_=t_;function t_({blockTracker:t,provider:e}){const r={},n=Yw({blockTracker:t,provider:e});let i=!1;const s=new Zw,o=Qw({eth_subscribe:Zu(a),eth_unsubscribe:Zu(f)});return o.destroy=g,{events:s,middleware:o};async function a(C,x){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const I=C.params[0],N=Kw(16);let H;switch(I){case"newHeads":H=$({subId:N});break;case"logs":const F=C.params[1],U=await n.newLogFilter(F);H=P({subId:N,filter:U});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${I}"`)}r[N]=H,x.result=N;return;function $({subId:F}){const U={type:I,destroy:async()=>{t.removeListener("sync",U.update)},update:async({oldBlock:V,newBlock:ee})=>{const K=ee,te=Jw(V);(await Xw({provider:e,fromBlock:te,toBlock:K})).map(r_).forEach(we=>{b(F,we)})}};return t.on("sync",U.update),U}function P({subId:F,filter:U}){return U.on("update",ee=>b(F,ee)),{type:I,destroy:async()=>await n.uninstallFilter(U.idHex)}}}async function f(C,x){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const I=C.params[0],N=r[I];if(!N){x.result=!1;return}delete r[I],await N.destroy(),x.result=!0}function b(C,x){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:C,result:x}})}function g(){s.removeAllListeners();for(const C in r)r[C].destroy(),delete r[C];i=!0}}function r_(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(fs,"__esModule",{value:!0});fs.SubscriptionManager=void 0;const n_=zv,i_=e_,Qu=()=>{};class s_{constructor(e){const r=new n_({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=i_({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Qu,Qu),r}destroy(){this.subscriptionMiddleware.destroy()}}fs.SubscriptionManager=s_;var Ba=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fn,"__esModule",{value:!0});fn.CoinbaseWalletProvider=void 0;const o_=Ba(kn),a_=Ba(dn),dt=ni,So=Cn,Yu=In,Ku=Lt,ue=q,Eo=Ba(Im),u_=_n,Se=Xl,c_=fs,Ju="DefaultChainId",Xu="DefaultJsonRpcUrl";class l_ extends o_.default{constructor(e){var r,n;super(),this._filterPolyfill=new u_.FilterPolyfill(this),this._subscriptionManager=new c_.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ue.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Ku.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(f=>(0,ue.ensureAddressString)(f)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var f;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const b=a.data.data.chainId,g=(f=a.data.data.jsonRpcUrl)!==null&&f!==void 0?f:this.jsonRpcUrl;this.updateProviderInfo(g,Number(b))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ue.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Xu))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Xu,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Ju,r.toString(10)),((0,ue.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,f;if((0,ue.ensureIntNumber)(e)===this.getChainId())return!1;const b=await this.initializeRelay(),g=b.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!g&&await b.requestEthereumAccounts().promise;const C=await b.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=C.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((f=C.result)===null||f===void 0?void 0:f.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw dt.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(So.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Yu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(Se.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw dt.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw dt.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw dt.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ue.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ue.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Ku.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Se.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Se.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Se.JSONRPCMethod.net_version:return this._net_version();case Se.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Se.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Se.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Se.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Se.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Se.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Se.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Se.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Se.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Se.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Se.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Se.JSONRPCMethod.eth_signTypedData_v4:case Se.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Se.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Se.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Se.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Se.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Se.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Se.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Se.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Se.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Se.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Se.JSONRPCMethod.eth_subscribe:case Se.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ue.ensureAddressString)(e);return this._addresses.map(i=>(0,ue.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(So.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ue.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ue.ensureAddressString)(e.to):null,i=e.value!=null?(0,ue.ensureBN)(e.value):new a_.default(0),s=e.data?(0,ue.ensureBuffer)(e.data):ve.Buffer.alloc(0),o=e.nonce!=null?(0,ue.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ue.ensureBN)(e.gasPrice):null,f=e.maxFeePerGas!=null?(0,ue.ensureBN)(e.maxFeePerGas):null,b=e.maxPriorityFeePerGas!=null?(0,ue.ensureBN)(e.maxPriorityFeePerGas):null,g=e.gas!=null?(0,ue.ensureBN)(e.gas):null,C=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:f,maxPriorityFeePerGas:b,gasLimit:g,chainId:C}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw dt.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw dt.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?dt.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ue.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Ju);if(!e)return(0,ue.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ue.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(So.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Yu.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?dt.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ue.ensureAddressString)(e[0]),n=(0,ue.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ue.ensureBuffer)(e[0]),n=(0,ue.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ue.ensureBuffer)(e[0]),n=(0,ue.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ue.ensureBuffer)(e[0]),n=(0,ue.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?dt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ue.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?dt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ue.ensureParsedJSONObject)(e[0]),n=(0,ue.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Eo.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ue.ensureAddressString)(e[0]),n=(0,ue.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Eo.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ue.ensureAddressString)(e[0]),n=(0,ue.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Eo.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw dt.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw dt.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw dt.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw dt.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw dt.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw dt.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ue.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ue.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ue.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}fn.CoinbaseWalletProvider=l_;var _s={},Ss={},bi,oe,Eh,xh,Gn,ec,Mh,Ki={},kh=[],h_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Qt(t,e){for(var r in e)t[r]=e[r];return t}function Ch(t){var e=t.parentNode;e&&e.removeChild(t)}function ea(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?bi.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Zn(t,o,n,i,null)}function Zn(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++Eh};return i==null&&oe.vnode!=null&&oe.vnode(s),s}function f_(){return{current:null}}function mi(t){return t.children}function Qn(t,e){this.props=t,this.context=e}function ti(t,e){if(e==null)return t.__?ti(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?ti(t):null}function Ih(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Ih(t)}}function ta(t){(!t.__d&&(t.__d=!0)&&Gn.push(t)&&!Ji.__r++||ec!==oe.debounceRendering)&&((ec=oe.debounceRendering)||setTimeout)(Ji)}function Ji(){for(var t;Ji.__r=Gn.length;)t=Gn.sort(function(e,r){return e.__v.__b-r.__v.__b}),Gn=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Qt({},s)).__v=s.__v+1,La(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??ti(s),s.__h),Nh(n,s),s.__e!=o&&Ih(s)))})}function Ah(t,e,r,n,i,s,o,a,f,b){var g,C,x,I,N,H,$,P=n&&n.__k||kh,F=P.length;for(r.__k=[],g=0;g<e.length;g++)if((I=r.__k[g]=(I=e[g])==null||typeof I=="boolean"?null:typeof I=="string"||typeof I=="number"||typeof I=="bigint"?Zn(null,I,null,null,I):Array.isArray(I)?Zn(mi,{children:I},null,null,null):I.__b>0?Zn(I.type,I.props,I.key,I.ref?I.ref:null,I.__v):I)!=null){if(I.__=r,I.__b=r.__b+1,(x=P[g])===null||x&&I.key==x.key&&I.type===x.type)P[g]=void 0;else for(C=0;C<F;C++){if((x=P[C])&&I.key==x.key&&I.type===x.type){P[C]=void 0;break}x=null}La(t,I,x=x||Ki,i,s,o,a,f,b),N=I.__e,(C=I.ref)&&x.ref!=C&&($||($=[]),x.ref&&$.push(x.ref,null,I),$.push(C,I.__c||N,I)),N!=null?(H==null&&(H=N),typeof I.type=="function"&&I.__k===x.__k?I.__d=f=Th(I,f,t):f=Rh(t,I,x,P,N,f),typeof r.type=="function"&&(r.__d=f)):f&&x.__e==f&&f.parentNode!=t&&(f=ti(x))}for(r.__e=H,g=F;g--;)P[g]!=null&&Lh(P[g],P[g]);if($)for(g=0;g<$.length;g++)Bh($[g],$[++g],$[++g])}function Th(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?Th(n,e,r):Rh(r,n,n,i,n.__e,e));return e}function Oh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){Oh(r,e)}):e.push(t)),e}function Rh(t,e,r,n,i,s){var o,a,f;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,f=0;(a=a.nextSibling)&&f<n.length;f+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function d_(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||Xi(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||Xi(t,s,e[s],r[s],n)}function tc(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||h_.test(e)?r:r+"px"}function Xi(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||tc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||tc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?nc:rc,s):t.removeEventListener(e,s?nc:rc,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function rc(t){this.l[t.type+!1](oe.event?oe.event(t):t)}function nc(t){this.l[t.type+!0](oe.event?oe.event(t):t)}function La(t,e,r,n,i,s,o,a,f){var b,g,C,x,I,N,H,$,P,F,U,V,ee,K,te,fe=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(f=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(b=oe.__b)&&b(e);try{e:if(typeof fe=="function"){if($=e.props,P=(b=fe.contextType)&&n[b.__c],F=b?P?P.props.value:b.__:n,r.__c?H=(g=e.__c=r.__c).__=g.__E:("prototype"in fe&&fe.prototype.render?e.__c=g=new fe($,F):(e.__c=g=new Qn($,F),g.constructor=fe,g.render=y_),P&&P.sub(g),g.props=$,g.state||(g.state={}),g.context=F,g.__n=n,C=g.__d=!0,g.__h=[],g._sb=[]),g.__s==null&&(g.__s=g.state),fe.getDerivedStateFromProps!=null&&(g.__s==g.state&&(g.__s=Qt({},g.__s)),Qt(g.__s,fe.getDerivedStateFromProps($,g.__s))),x=g.props,I=g.state,C)fe.getDerivedStateFromProps==null&&g.componentWillMount!=null&&g.componentWillMount(),g.componentDidMount!=null&&g.__h.push(g.componentDidMount);else{if(fe.getDerivedStateFromProps==null&&$!==x&&g.componentWillReceiveProps!=null&&g.componentWillReceiveProps($,F),!g.__e&&g.shouldComponentUpdate!=null&&g.shouldComponentUpdate($,g.__s,F)===!1||e.__v===r.__v){for(g.props=$,g.state=g.__s,e.__v!==r.__v&&(g.__d=!1),g.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(de){de&&(de.__=e)}),U=0;U<g._sb.length;U++)g.__h.push(g._sb[U]);g._sb=[],g.__h.length&&o.push(g);break e}g.componentWillUpdate!=null&&g.componentWillUpdate($,g.__s,F),g.componentDidUpdate!=null&&g.__h.push(function(){g.componentDidUpdate(x,I,N)})}if(g.context=F,g.props=$,g.__v=e,g.__P=t,V=oe.__r,ee=0,"prototype"in fe&&fe.prototype.render){for(g.state=g.__s,g.__d=!1,V&&V(e),b=g.render(g.props,g.state,g.context),K=0;K<g._sb.length;K++)g.__h.push(g._sb[K]);g._sb=[]}else do g.__d=!1,V&&V(e),b=g.render(g.props,g.state,g.context),g.state=g.__s;while(g.__d&&++ee<25);g.state=g.__s,g.getChildContext!=null&&(n=Qt(Qt({},n),g.getChildContext())),C||g.getSnapshotBeforeUpdate==null||(N=g.getSnapshotBeforeUpdate(x,I)),te=b!=null&&b.type===mi&&b.key==null?b.props.children:b,Ah(t,Array.isArray(te)?te:[te],e,r,n,i,s,o,a,f),g.base=e.__e,e.__h=null,g.__h.length&&o.push(g),H&&(g.__E=g.__=null),g.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=p_(r.__e,e,r,n,i,s,o,f);(b=oe.diffed)&&b(e)}catch(de){e.__v=null,(f||s!=null)&&(e.__e=a,e.__h=!!f,s[s.indexOf(a)]=null),oe.__e(de,e,r)}}function Nh(t,e){oe.__c&&oe.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){oe.__e(n,r.__v)}})}function p_(t,e,r,n,i,s,o,a){var f,b,g,C=r.props,x=e.props,I=e.type,N=0;if(I==="svg"&&(i=!0),s!=null){for(;N<s.length;N++)if((f=s[N])&&"setAttribute"in f==!!I&&(I?f.localName===I:f.nodeType===3)){t=f,s[N]=null;break}}if(t==null){if(I===null)return document.createTextNode(x);t=i?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,x.is&&x),s=null,a=!1}if(I===null)C===x||a&&t.data===x||(t.data=x);else{if(s=s&&bi.call(t.childNodes),b=(C=r.props||Ki).dangerouslySetInnerHTML,g=x.dangerouslySetInnerHTML,!a){if(s!=null)for(C={},N=0;N<t.attributes.length;N++)C[t.attributes[N].name]=t.attributes[N].value;(g||b)&&(g&&(b&&g.__html==b.__html||g.__html===t.innerHTML)||(t.innerHTML=g&&g.__html||""))}if(d_(t,x,C,i,a),g)e.__k=[];else if(N=e.props.children,Ah(t,Array.isArray(N)?N:[N],e,r,n,i&&I!=="foreignObject",s,o,s?s[0]:r.__k&&ti(r,0),a),s!=null)for(N=s.length;N--;)s[N]!=null&&Ch(s[N]);a||("value"in x&&(N=x.value)!==void 0&&(N!==t.value||I==="progress"&&!N||I==="option"&&N!==C.value)&&Xi(t,"value",N,C.value,!1),"checked"in x&&(N=x.checked)!==void 0&&N!==t.checked&&Xi(t,"checked",N,C.checked,!1))}return t}function Bh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){oe.__e(n,r)}}function Lh(t,e,r){var n,i;if(oe.unmount&&oe.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||Bh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){oe.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Lh(n[i],e,r||typeof t.type!="function");r||t.__e==null||Ch(t.__e),t.__=t.__e=t.__d=void 0}function y_(t,e,r){return this.constructor(t,r)}function Dh(t,e,r){var n,i,s;oe.__&&oe.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],La(e,t=(!n&&r||e).__k=ea(mi,null,[t]),i||Ki,Ki,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?bi.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),Nh(s,t)}function Ph(t,e){Dh(t,e,Ph)}function g_(t,e,r){var n,i,s,o=Qt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?bi.call(arguments,2):r),Zn(t.type,o,n||t.key,i||t.ref,null)}function b_(t,e){var r={__c:e="__cC"+Mh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(ta)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}bi=kh.slice,oe={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},Eh=0,xh=function(t){return t!=null&&t.constructor===void 0},Qn.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Qt({},this.state),typeof t=="function"&&(t=t(Qt({},r),this.props)),t&&Qt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ta(this))},Qn.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ta(this))},Qn.prototype.render=mi,Gn=[],Ji.__r=0,Mh=0;const m_=Object.freeze(Object.defineProperty({__proto__:null,Component:Qn,Fragment:mi,cloneElement:g_,createContext:b_,createElement:ea,createRef:f_,h:ea,hydrate:Ph,get isValidElement(){return xh},get options(){return oe},render:Dh,toChildArray:Oh},Symbol.toStringTag,{value:"Module"})),xt=Mn(m_);var Es={};function jh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=jh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function ic(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=jh(t))&&(n&&(n+=" "),n+=e);return n}const v_=Object.freeze(Object.defineProperty({__proto__:null,clsx:ic,default:ic},Symbol.toStringTag,{value:"Module"})),xs=Mn(v_);var pr,Oe,xo,sc,Sn=0,Fh=[],Pi=[],oc=oe.__b,ac=oe.__r,uc=oe.diffed,cc=oe.__c,lc=oe.unmount;function zr(t,e){oe.__h&&oe.__h(Oe,t,Sn||e),Sn=0;var r=Oe.__H||(Oe.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Pi}),r.__[t]}function $h(t){return Sn=1,Uh(Hh,t)}function Uh(t,e,r){var n=zr(pr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):Hh(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=Oe,!Oe.u)){Oe.u=!0;var i=Oe.shouldComponentUpdate;Oe.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(g){return g.__c});if(f.every(function(g){return!g.__N}))return!i||i.call(this,s,o,a);var b=!1;return f.forEach(function(g){if(g.__N){var C=g.__[0];g.__=g.__N,g.__N=void 0,C!==g.__[0]&&(b=!0)}}),!(!b&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function w_(t,e){var r=zr(pr++,3);!oe.__s&&Pa(r.__H,e)&&(r.__=t,r.i=e,Oe.__H.__h.push(r))}function Wh(t,e){var r=zr(pr++,4);!oe.__s&&Pa(r.__H,e)&&(r.__=t,r.i=e,Oe.__h.push(r))}function __(t){return Sn=5,Da(function(){return{current:t}},[])}function S_(t,e,r){Sn=6,Wh(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function Da(t,e){var r=zr(pr++,7);return Pa(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function E_(t,e){return Sn=8,Da(function(){return t},e)}function x_(t){var e=Oe.context[t.__c],r=zr(pr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Oe)),e.props.value):t.__}function M_(t,e){oe.useDebugValue&&oe.useDebugValue(e?e(t):t)}function k_(t){var e=zr(pr++,10),r=$h();return e.__=t,Oe.componentDidCatch||(Oe.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function C_(){var t=zr(pr++,11);if(!t.__){for(var e=Oe.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function I_(){for(var t;t=Fh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ji),t.__H.__h.forEach(ra),t.__H.__h=[]}catch(e){t.__H.__h=[],oe.__e(e,t.__v)}}oe.__b=function(t){Oe=null,oc&&oc(t)},oe.__r=function(t){ac&&ac(t),pr=0;var e=(Oe=t.__c).__H;e&&(xo===Oe?(e.__h=[],Oe.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Pi,r.__N=r.i=void 0})):(e.__h.forEach(ji),e.__h.forEach(ra),e.__h=[])),xo=Oe},oe.diffed=function(t){uc&&uc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Fh.push(e)!==1&&sc===oe.requestAnimationFrame||((sc=oe.requestAnimationFrame)||A_)(I_)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Pi&&(r.__=r.__V),r.i=void 0,r.__V=Pi})),xo=Oe=null},oe.__c=function(t,e){e.some(function(r){try{r.__h.forEach(ji),r.__h=r.__h.filter(function(n){return!n.__||ra(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],oe.__e(n,r.__v)}}),cc&&cc(t,e)},oe.unmount=function(t){lc&&lc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{ji(n)}catch(i){e=i}}),r.__H=void 0,e&&oe.__e(e,r.__v))};var hc=typeof requestAnimationFrame=="function";function A_(t){var e,r=function(){clearTimeout(n),hc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);hc&&(e=requestAnimationFrame(r))}function ji(t){var e=Oe,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Oe=e}function ra(t){var e=Oe;t.__c=t.__(),Oe=e}function Pa(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Hh(t,e){return typeof e=="function"?e(t):e}const T_=Object.freeze(Object.defineProperty({__proto__:null,useCallback:E_,useContext:x_,useDebugValue:M_,useEffect:w_,useErrorBoundary:k_,useId:C_,useImperativeHandle:S_,useLayoutEffect:Wh,useMemo:Da,useReducer:Uh,useRef:__,useState:$h},Symbol.toStringTag,{value:"Module"})),vi=Mn(T_);var zt={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.LIB_VERSION=void 0;Ms.LIB_VERSION="3.6.3";var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.CloseIcon=void 0;const fc=xt;function O_(t){return(0,fc.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,fc.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}ks.CloseIcon=O_;var ja={};Object.defineProperty(ja,"__esModule",{value:!0});ja.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var Fa={};Object.defineProperty(Fa,"__esModule",{value:!0});Fa.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});Cs.QRCodeIcon=void 0;const jt=xt;function R_(t){return(0,jt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,jt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,jt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,jt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,jt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,jt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,jt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,jt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,jt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,jt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Cs.QRCodeIcon=R_;var $a={};Object.defineProperty($a,"__esModule",{value:!0});const N_=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;$a.default=N_;var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0});Ua.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});Is.StatusDotIcon=void 0;const dc=xt;function B_(t){return(0,dc.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,dc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}Is.StatusDotIcon=B_;var As={};function zh(t){this.mode=St.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}zh.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Vt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Vt.prototype={addData:function(t){var e=new zh(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Vt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ke.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var f=a*i,b=this.modules[s][a];b&&(n.beginFill(0,100),n.moveTo(f,o),n.lineTo(f+i,o),n.lineTo(f+i,o+i),n.lineTo(f,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ke.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ke.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ke.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var f=!1;s<t.length&&(f=(t[s]>>>i&1)==1);var b=Ke.getMask(e,n,o-a);b&&(f=!f),this.modules[n][o-a]=f,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Vt.PAD0=236;Vt.PAD1=17;Vt.createData=function(t,e,r){for(var n=Ht.getRSBlocks(t,e),i=new Vh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ke.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Vt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Vt.PAD1,8);return Vt.createBytes(i,n)};Vt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var f=e[a].dataCount,b=e[a].totalCount-f;n=Math.max(n,f),i=Math.max(i,b),s[a]=new Array(f);for(var g=0;g<s[a].length;g++)s[a][g]=255&t.buffer[g+r];r+=f;var C=Ke.getErrorCorrectPolynomial(b),x=new hn(s[a],C.getLength()-1),I=x.mod(C);o[a]=new Array(C.getLength()-1);for(var g=0;g<o[a].length;g++){var N=g+I.getLength()-o[a].length;o[a][g]=N>=0?I.get(N):0}}for(var H=0,g=0;g<e.length;g++)H+=e[g].totalCount;for(var $=new Array(H),P=0,g=0;g<n;g++)for(var a=0;a<e.length;a++)g<s[a].length&&($[P++]=s[a][g]);for(var g=0;g<i;g++)for(var a=0;a<e.length;a++)g<o[a].length&&($[P++]=o[a][g]);return $};var St={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},ar={L:1,M:0,Q:3,H:2},er={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ke={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15)>=0;)e^=Ke.G15<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G15);return(t<<10|e)^Ke.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18)>=0;)e^=Ke.G18<<Ke.getBCHDigit(e)-Ke.getBCHDigit(Ke.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ke.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case er.PATTERN000:return(e+r)%2==0;case er.PATTERN001:return e%2==0;case er.PATTERN010:return r%3==0;case er.PATTERN011:return(e+r)%3==0;case er.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case er.PATTERN101:return e*r%2+e*r%3==0;case er.PATTERN110:return(e*r%2+e*r%3)%2==0;case er.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new hn([1],0),r=0;r<t;r++)e=e.multiply(new hn([1,ot.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case St.MODE_NUMBER:return 10;case St.MODE_ALPHA_NUM:return 9;case St.MODE_8BIT_BYTE:return 8;case St.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case St.MODE_NUMBER:return 12;case St.MODE_ALPHA_NUM:return 11;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case St.MODE_NUMBER:return 14;case St.MODE_ALPHA_NUM:return 13;case St.MODE_8BIT_BYTE:return 16;case St.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var f=-1;f<=1;f++)i+f<0||e<=i+f||a==0&&f==0||o==t.isDark(n+a,i+f)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var b=0;t.isDark(n,i)&&b++,t.isDark(n+1,i)&&b++,t.isDark(n,i+1)&&b++,t.isDark(n+1,i+1)&&b++,(b==0||b==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var g=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&g++;var C=Math.abs(100*g/e/e-50)/5;return r+=C*10,r}},ot={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ot.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ot.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var lt=0;lt<8;lt++)ot.EXP_TABLE[lt]=1<<lt;for(var lt=8;lt<256;lt++)ot.EXP_TABLE[lt]=ot.EXP_TABLE[lt-4]^ot.EXP_TABLE[lt-5]^ot.EXP_TABLE[lt-6]^ot.EXP_TABLE[lt-8];for(var lt=0;lt<255;lt++)ot.LOG_TABLE[ot.EXP_TABLE[lt]]=lt;function hn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}hn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=ot.gexp(ot.glog(this.get(r))+ot.glog(t.get(n)));return new hn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ot.glog(this.get(0))-ot.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=ot.gexp(ot.glog(t.get(n))+e);return new hn(r,0).mod(t)}};function Ht(t,e){this.totalCount=t,this.dataCount=e}Ht.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Ht.getRSBlocks=function(t,e){var r=Ht.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],f=r[s*3+2],b=0;b<o;b++)i.push(new Ht(a,f));return i};Ht.getRsBlockTable=function(t,e){switch(e){case ar.L:return Ht.RS_BLOCK_TABLE[(t-1)*4+0];case ar.M:return Ht.RS_BLOCK_TABLE[(t-1)*4+1];case ar.Q:return Ht.RS_BLOCK_TABLE[(t-1)*4+2];case ar.H:return Ht.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Vh(){this.buffer=[],this.length=0}Vh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Mo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function qh(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(f){switch(f){case"L":return ar.L;case"M":return ar.M;case"Q":return ar.Q;case"H":return ar.H;default:throw new Error("Unknwon error correction level: "+f)}}function n(f,b){for(var g=i(f),C=1,x=0,I=0,N=Mo.length;I<=N;I++){var H=Mo[I];if(!H)throw new Error("Content too long: expected "+x+" but got "+g);switch(b){case"L":x=H[0];break;case"M":x=H[1];break;case"Q":x=H[2];break;case"H":x=H[3];break;default:throw new Error("Unknwon error correction level: "+b)}if(g<=x)break;C++}if(C>Mo.length)throw new Error("Content too long");return C}function i(f){var b=encodeURI(f).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=f?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Vt(o,a),this.qrcode.addData(s),this.qrcode.make()}qh.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,f=r.length,b=o/(f+2*e.padding),g=a/(f+2*e.padding),C=typeof e.join<"u"?!!e.join:!1,x=typeof e.swap<"u"?!!e.swap:!1,I=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,N=typeof e.predefined<"u"?!!e.predefined:!1,H=N?i+'<defs><path id="qrmodule" d="M0 0 h'+g+" v"+b+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",$=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,P="",F="",U=0;U<f;U++)for(var V=0;V<f;V++){var ee=r[V][U];if(ee){var K=V*b+e.padding*b,te=U*g+e.padding*g;if(x){var fe=K;K=te,te=fe}if(C){var de=b+K,we=g+te;K=Number.isInteger(K)?Number(K):K.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),de=Number.isInteger(de)?Number(de):de.toFixed(2),we=Number.isInteger(we)?Number(we):we.toFixed(2),F+="M"+K+","+te+" V"+we+" H"+de+" V"+te+" H"+K+" Z "}else N?P+=i+'<use x="'+K.toString()+'" y="'+te.toString()+'" href="#qrmodule" />'+s:P+=i+'<rect x="'+K.toString()+'" y="'+te.toString()+'" width="'+b+'" height="'+g+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}C&&(P=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+F+'" />');let Y="";if(this.options.image!==void 0&&this.options.image.svg){const E=o*this.options.image.width/100,u=a*this.options.image.height/100,d=o/2-E/2,m=a/2-u/2;Y+=`<svg x="${d}" y="${m}" width="${E}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,Y+=this.options.image.svg+s,Y+="</svg>"}var ne="";switch(t.container){case"svg":I&&(ne+='<?xml version="1.0" standalone="yes"?>'+s),ne+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,ne+=H+$+P,ne+=Y,ne+="</svg>";break;case"svg-viewbox":I&&(ne+='<?xml version="1.0" standalone="yes"?>'+s),ne+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,ne+=H+$+P,ne+=Y,ne+="</svg>";break;case"g":ne+='<g width="'+o+'" height="'+a+'">'+s,ne+=H+$+P,ne+=Y,ne+="</g>";break;default:ne+=(H+$+P+Y).replace(/^\s+/,"");break}return ne};var L_=qh,D_=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(As,"__esModule",{value:!0});As.QRCode=void 0;const P_=xt,pc=vi,j_=D_(L_),F_=t=>{const[e,r]=(0,pc.useState)("");return(0,pc.useEffect)(()=>{var n,i;const s=new j_.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=ve.Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,P_.h)("img",{src:e,alt:"QR Code"}):null};As.QRCode=F_;var Ts={},Wa={};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var $_=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Spinner=void 0;const Ii=xt,U_=$_(Wa),W_=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Ii.h)("div",{class:"-cbwsdk-spinner"},(0,Ii.h)("style",null,U_.default),(0,Ii.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Ii.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Ts.Spinner=W_;var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});Ha.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Ln=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(zt,"__esModule",{value:!0});zt.CoinbaseAppSteps=zt.CoinbaseWalletSteps=zt.ConnectItem=zt.ConnectContent=void 0;const At=Ln(xs),X=xt,yc=vi,H_=q,z_=Ms,V_=ks,q_=Ln(ja),G_=Ln(Fa),Gh=Cs,Z_=Ln($a),Q_=Ln(Ua),Y_=Is,K_=As,J_=Ts,X_=Ln(Ha),gc={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:G_.default,steps:Qh},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:q_.default,steps:Yh}},e2=t=>{switch(t){case"coinbase-app":return Z_.default;case"coinbase-wallet-app":default:return Q_.default}},na=t=>t==="light"?"#FFFFFF":"#0A0B0D";function t2(t){const{theme:e}=t,[r,n]=(0,yc.useState)("coinbase-wallet-app"),i=(0,yc.useCallback)(b=>{n(b)},[]),s=(0,H_.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=gc[r];if(!r)return null;const a=o.steps,f=r==="coinbase-app";return(0,X.h)("div",{"data-testid":"connect-content",class:(0,At.default)("-cbwsdk-connect-content",e)},(0,X.h)("style",null,X_.default),(0,X.h)("div",{class:"-cbwsdk-connect-content-header"},(0,X.h)("h2",{class:(0,At.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,X.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,X.h)(V_.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,X.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,X.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,X.h)("div",null,Object.entries(gc).map(([b,g])=>(0,X.h)(Zh,{key:b,title:g.title,description:g.description,icon:g.icon,selected:r===b,onClick:()=>i(b),theme:e}))),f&&(0,X.h)("div",{class:(0,At.default)("-cbwsdk-connect-content-update-app",e)},"Don’t see a ",(0,X.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,X.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,X.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,X.h)(K_.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:e2(r),width:25,height:25}}),(0,X.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:z_.LIB_VERSION}),(0,X.h)("input",{type:"hidden",value:s})),(0,X.h)(a,{theme:e}),!t.isConnected&&(0,X.h)("div",{"data-testid":"connecting-spinner",class:(0,At.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,X.h)(J_.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,X.h)("p",null,"Connecting...")))))}zt.ConnectContent=t2;function Zh({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,X.h)("div",{onClick:s,class:(0,At.default)("-cbwsdk-connect-item",i,{selected:n})},(0,X.h)("div",null,(0,X.h)("img",{src:r,alt:t})),(0,X.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,X.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,X.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}zt.ConnectItem=Zh;function Qh({theme:t}){return(0,X.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,X.h)("li",{class:(0,At.default)("-cbwsdk-wallet-steps-item",t)},(0,X.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,X.h)("li",{class:(0,At.default)("-cbwsdk-wallet-steps-item",t)},(0,X.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,X.h)("span",null,"Tap ",(0,X.h)("strong",null,"Scan")," "),(0,X.h)("span",{class:(0,At.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,X.h)(Gh.QRCodeIcon,{fill:na(t)})))))}zt.CoinbaseWalletSteps=Qh;function Yh({theme:t}){return(0,X.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,X.h)("li",{class:(0,At.default)("-cbwsdk-wallet-steps-item",t)},(0,X.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,X.h)("li",{class:(0,At.default)("-cbwsdk-wallet-steps-item",t)},(0,X.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,X.h)("span",null,"Tap ",(0,X.h)("strong",null,"More")),(0,X.h)("span",{class:(0,At.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,X.h)(Y_.StatusDotIcon,{fill:na(t)})),(0,X.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,X.h)("strong",null,"Scan")),(0,X.h)("span",{class:(0,At.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,X.h)(Gh.QRCodeIcon,{fill:na(t)})))))}zt.CoinbaseAppSteps=Yh;var Os={},Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ArrowLeftIcon=void 0;const bc=xt;function r2(t){return(0,bc.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,bc.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Rs.ArrowLeftIcon=r2;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.LaptopIcon=void 0;const ko=xt;function n2(t){return(0,ko.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,ko.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,ko.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Ns.LaptopIcon=n2;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.SafeIcon=void 0;const mc=xt;function i2(t){return(0,mc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,mc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Bs.SafeIcon=i2;var za={};Object.defineProperty(za,"__esModule",{value:!0});za.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Kh=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Os,"__esModule",{value:!0});Os.TryExtensionContent=void 0;const Ar=Kh(xs),rt=xt,Co=vi,s2=Rs,o2=Ns,a2=Bs,u2=Kh(za);function c2({theme:t}){const[e,r]=(0,Co.useState)(!1),n=(0,Co.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Co.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,rt.h)("div",{class:(0,Ar.default)("-cbwsdk-try-extension",t)},(0,rt.h)("style",null,u2.default),(0,rt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,rt.h)("h3",{class:(0,Ar.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,rt.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,rt.h)("button",{class:(0,Ar.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,rt.h)("div",null,!e&&(0,rt.h)(s2.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,rt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,rt.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,rt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,rt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,rt.h)("span",{class:(0,Ar.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,rt.h)(o2.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,rt.h)("div",{class:(0,Ar.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,rt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,rt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,rt.h)("span",{class:(0,Ar.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,rt.h)(a2.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,rt.h)("div",{class:(0,Ar.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Os.TryExtensionContent=c2;var Va={};Object.defineProperty(Va,"__esModule",{value:!0});Va.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Jh=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Es,"__esModule",{value:!0});Es.ConnectDialog=void 0;const Io=Jh(xs),Tr=xt,Ao=vi,l2=zt,h2=Os,f2=Jh(Va),d2=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Ao.useState)(!e),[s,o]=(0,Ao.useState)(!e);(0,Ao.useEffect)(()=>{const f=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):f.push(window.setTimeout(()=>{i(!0)},360)),()=>{f.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Tr.h)("div",{class:(0,Io.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Tr.h)("style",null,f2.default),(0,Tr.h)("div",{class:(0,Io.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Tr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Tr.h)("div",{class:(0,Io.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Tr.h)(l2.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Tr.h)(h2.TryExtensionContent,{theme:a}))))};Es.ConnectDialog=d2;Object.defineProperty(Ss,"__esModule",{value:!0});Ss.LinkFlow=void 0;const To=xt,vc=Rn,p2=Es;class y2{constructor(e){this.extensionUI$=new vc.BehaviorSubject({}),this.subscriptions=new vc.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,To.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,To.render)((0,To.h)(p2.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}Ss.LinkFlow=y2;var Xh={},qa={};Object.defineProperty(qa,"__esModule",{value:!0});qa.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=le&&le.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(xs),n=xt,i=vi,s=e(qa),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(C){switch(C){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class f{constructor(x){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=x.darkMode}attach(x){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",x.appendChild(this.root),this.render()}presentItem(x){const I=this.nextItemKey++;return this.items.set(I,x),this.render(),()=>{this.items.delete(I),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([x,I])=>(0,n.h)(t.SnackbarInstance,Object.assign({},I,{key:x}))))),this.root)}}t.Snackbar=f;const b=C=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},C.children));t.SnackbarContainer=b;const g=({autoExpand:C,message:x,menuItems:I,appSrc:N})=>{const[H,$]=(0,i.useState)(!0),[P,F]=(0,i.useState)(C??!1);(0,i.useEffect)(()=>{const V=[window.setTimeout(()=>{$(!1)},1),window.setTimeout(()=>{F(!0)},1e4)];return()=>{V.forEach(window.clearTimeout)}});const U=()=>{F(!P)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",H&&"-cbwsdk-snackbar-instance-hidden",P&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:U},(0,n.h)("img",{src:a(N),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},x),(0,n.h)("div",{class:"-gear-container"},!P&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),I&&I.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},I.map((V,ee)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",V.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:V.onClick,key:ee},(0,n.h)("svg",{width:V.svgWidth,height:V.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":V.defaultFillRule,"clip-rule":V.defaultClipRule,d:V.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",V.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},V.info)))))};t.SnackbarInstance=g})(Xh);var Ls={},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var g2=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.injectCssReset=void 0;const b2=g2(Ga);function m2(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(b2.default)),document.documentElement.appendChild(t)}Ls.injectCssReset=m2;Object.defineProperty(_s,"__esModule",{value:!0});_s.WalletSDKUI=void 0;const v2=Ss,w2=Xh,_2=Ls;class S2{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new w2.Snackbar({darkMode:e.darkMode}),this.linkFlow=new v2.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,_2.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}_s.WalletSDKUI=S2;var Ds={},Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});var an;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(an||(an={}));function ef(t,e,r){if(!r||typeof r.value!==an.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:an.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:an.boolTrue,writable:an.boolTrue}),n}}}Ps.bind=ef;Ps.default=ef;var js={},It={};Object.defineProperty(It,"__esModule",{value:!0});It.ClientMessagePublishEvent=It.ClientMessageSetSessionConfig=It.ClientMessageGetSessionConfig=It.ClientMessageIsLinked=It.ClientMessageHostSession=void 0;function E2(t){return Object.assign({type:"HostSession"},t)}It.ClientMessageHostSession=E2;function x2(t){return Object.assign({type:"IsLinked"},t)}It.ClientMessageIsLinked=x2;function M2(t){return Object.assign({type:"GetSessionConfig"},t)}It.ClientMessageGetSessionConfig=M2;function k2(t){return Object.assign({type:"SetSessionConfig"},t)}It.ClientMessageSetSessionConfig=k2;function C2(t){return Object.assign({type:"PublishEvent"},t)}It.ClientMessagePublishEvent=C2;var tf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Rn,r=as;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(f){o.error(f);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=f=>{this.clearWebSocket(),o.error(new Error(`websocket error ${f.code}: ${f.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=f=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=f=>{this.incomingDataSubject.next(f.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})(tf);var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.isServerMessageFail=void 0;function I2(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}Fs.isServerMessageFail=I2;Object.defineProperty(js,"__esModule",{value:!0});js.WalletSDKConnection=void 0;const Rt=Rn,be=as,jn=In,tn=li,Fn=It,$n=Cn,Ai=tf,Oo=Fs,wc=1e4,A2=6e4;class T2{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Rt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,tn.IntNumber)(1),this.connectedSubject=new Rt.BehaviorSubject(!1),this.linkedSubject=new Rt.BehaviorSubject(!1),this.sessionConfigSubject=new Rt.ReplaySubject(1);const o=new Ai.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,be.tap)(a=>{var f;return(f=this.diagnostic)===null||f===void 0?void 0:f.log($n.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:jn.Session.hash(e)})}),(0,be.skip)(1),(0,be.filter)(a=>a===Ai.ConnectionState.DISCONNECTED&&!this.destroyed),(0,be.delay)(5e3),(0,be.filter)(a=>!this.destroyed),(0,be.flatMap)(a=>o.connect()),(0,be.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,be.skip)(2),(0,be.switchMap)(a=>(0,Rt.iif)(()=>a===Ai.ConnectionState.CONNECTED,this.authenticate().pipe((0,be.tap)(f=>this.sendIsLinked()),(0,be.tap)(f=>this.sendGetSessionConfig()),(0,be.map)(f=>!0)),(0,Rt.of)(!1))),(0,be.distinctUntilChanged)(),(0,be.catchError)(a=>(0,Rt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,be.skip)(1),(0,be.switchMap)(a=>(0,Rt.iif)(()=>a===Ai.ConnectionState.CONNECTED,(0,Rt.timer)(0,wc)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,be.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,be.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var f;const b=a;(f=this.diagnostic)===null||f===void 0||f.log($n.EVENTS.LINKED,{sessionIdHash:jn.Session.hash(e),linked:b.linked,type:a.type,onlineGuests:b.onlineGuests}),this.linkedSubject.next(b.linked||b.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,be.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var f;const b=a;(f=this.diagnostic)===null||f===void 0||f.log($n.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:jn.Session.hash(e),metadata_keys:b&&b.metadata?Object.keys(b.metadata):void 0}),this.sessionConfigSubject.next({webhookId:b.webhookId,webhookUrl:b.webhookUrl,metadata:b.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log($n.EVENTS.STARTED_CONNECTING,{sessionIdHash:jn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log($n.EVENTS.DISCONNECTED,{sessionIdHash:jn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,be.filter)(e=>e),(0,be.take)(1),(0,be.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,be.filter)(e=>e),(0,be.take)(1),(0,be.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,be.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,be.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Fn.ClientMessageSetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,be.flatMap)(i=>this.makeRequest(n)),(0,be.map)(i=>{if((0,Oo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Fn.ClientMessagePublishEvent)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,be.flatMap)(s=>this.makeRequest(i)),(0,be.map)(s=>{if((0,Oo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>wc*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=A2){const n=e.id;try{this.sendData(e)}catch(i){return(0,Rt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,be.timeoutWith)(r,(0,Rt.throwError)(new Error(`request ${n} timed out`))),(0,be.filter)(i=>i.id===n),(0,be.take)(1))}authenticate(){const e=(0,Fn.ClientMessageHostSession)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,be.map)(r=>{if((0,Oo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Fn.ClientMessageIsLinked)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Fn.ClientMessageGetSessionConfig)({id:(0,tn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}js.WalletSDKConnection=T2;var $s={};Object.defineProperty($s,"__esModule",{value:!0});$s.WalletUIError=void 0;class ri extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}$s.WalletUIError=ri;ri.UserRejectedRequest=new ri("User rejected request");ri.SwitchEthereumChainUnsupportedChainId=new ri("Unsupported chainId",4902);var En={};Object.defineProperty(En,"__esModule",{value:!0});En.decrypt=En.encrypt=void 0;const O2=Rn,es=q;async function R2(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,es.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),f=s.slice(0,s.byteLength-o),b=new Uint8Array(a),g=new Uint8Array(f),C=new Uint8Array([...r,...b,...g]);return(0,es.uint8ArrayToHex)(C)}En.encrypt=R2;function N2(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new O2.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,es.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,es.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),f=new Uint8Array([...a,...o]),b={name:"AES-GCM",iv:new Uint8Array(s)};try{const g=await window.crypto.subtle.decrypt(b,n,f),C=new TextDecoder;r.next(C.decode(g)),r.complete()}catch(g){r.error(g)}})()})}En.decrypt=N2;var Za={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(Za);var Us={},Ws={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(Ws);Object.defineProperty(Us,"__esModule",{value:!0});Us.Web3RequestCanceledMessage=void 0;const B2=Ws;function L2(t){return{type:B2.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}Us.Web3RequestCanceledMessage=L2;var Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.Web3RequestMessage=void 0;const D2=Ws;function P2(t){return Object.assign({type:D2.RelayMessageType.WEB3_REQUEST},t)}Hs.Web3RequestMessage=P2;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0});Ye.EthereumAddressFromSignedMessageResponse=Ye.SubmitEthereumTransactionResponse=Ye.SignEthereumTransactionResponse=Ye.SignEthereumMessageResponse=Ye.isRequestEthereumAccountsResponse=Ye.SelectProviderResponse=Ye.WatchAssetReponse=Ye.RequestEthereumAccountsResponse=Ye.SwitchEthereumChainResponse=Ye.AddEthereumChainResponse=Ye.ErrorResponse=void 0;const qt=Za;function j2(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Ye.ErrorResponse=j2;function F2(t){return{method:qt.Web3Method.addEthereumChain,result:t}}Ye.AddEthereumChainResponse=F2;function $2(t){return{method:qt.Web3Method.switchEthereumChain,result:t}}Ye.SwitchEthereumChainResponse=$2;function U2(t){return{method:qt.Web3Method.requestEthereumAccounts,result:t}}Ye.RequestEthereumAccountsResponse=U2;function W2(t){return{method:qt.Web3Method.watchAsset,result:t}}Ye.WatchAssetReponse=W2;function H2(t){return{method:qt.Web3Method.selectProvider,result:t}}Ye.SelectProviderResponse=H2;function z2(t){return t&&t.method===qt.Web3Method.requestEthereumAccounts}Ye.isRequestEthereumAccountsResponse=z2;function V2(t){return{method:qt.Web3Method.signEthereumMessage,result:t}}Ye.SignEthereumMessageResponse=V2;function q2(t){return{method:qt.Web3Method.signEthereumTransaction,result:t}}Ye.SignEthereumTransactionResponse=q2;function G2(t){return{method:qt.Web3Method.submitEthereumTransaction,result:t}}Ye.SubmitEthereumTransactionResponse=G2;function Z2(t){return{method:qt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ye.EthereumAddressFromSignedMessageResponse=Z2;var xn={};Object.defineProperty(xn,"__esModule",{value:!0});xn.isWeb3ResponseMessage=xn.Web3ResponseMessage=void 0;const rf=Ws;function Q2(t){return Object.assign({type:rf.RelayMessageType.WEB3_RESPONSE},t)}xn.Web3ResponseMessage=Q2;function Y2(t){return t&&t.type===rf.RelayMessageType.WEB3_RESPONSE}xn.isWeb3ResponseMessage=Y2;var K2=le&&le.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J2=le&&le.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nf=le&&le.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},X2=le&&le.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&K2(e,t,r);return J2(e,t),e},eS=le&&le.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ds,"__esModule",{value:!0});Ds.WalletSDKRelay=void 0;const sf=eS(Ps),_c=ni,Un=Rn,nt=as,pt=Cn,tS=js,Ro=$s,rS=li,Qe=q,tr=X2(En),rr=In,Ti=Lt,it=Za,nS=Us,iS=Hs,_t=Ye,gt=xn;class Bt extends Ti.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Un.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Un.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=rr.Session.load(this.storage)||new rr.Session(this.storage).save(),r=new tS.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,nt.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,nt.skip)(1),(0,nt.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Ti.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),f=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!f){this.isUnlinkedErrorState=!0;const b=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(pt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:b})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,nt.mergeMap)(i=>tr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,nt.mergeMap)(i=>tr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Ti.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,nt.mergeMap)(i=>(0,Un.zip)(tr.decrypt(i.metadata.ChainId,e.secret),tr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,nt.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,nt.mergeMap)(i=>tr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Bt.accountRequestCallbackIds.size>0&&(Array.from(Bt.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,gt.Web3ResponseMessage)({id:s,response:(0,_t.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Bt.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,nt.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,nt.mergeMap)(i=>tr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,nt.timeout)(1e3),(0,nt.catchError)(e=>(0,Un.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(pt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=rr.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(pt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:rr.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:f,connection:b}=this.subscribe();this._session=a,this.connection=b,this.ui=f,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:it.Web3Method.signEthereumMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:it.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),signature:(0,Qe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:it.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:it.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:it.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Qe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:it.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Qe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:it.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,f=>{if(r==null||r(),f.errorMessage)return a(new Error(f.errorMessage));o(f)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,iS.Web3RequestMessage)({id:e,request:r}),s=rr.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(pt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?rr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(pt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?rr.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,nS.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Un.Observable(s=>{tr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,nt.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(tr.decrypt(e.data,this.session.secret).pipe((0,nt.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,gt.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(pt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,_t.isRequestEthereumAccountsResponse)(n)){Bt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Bt.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:e,response:(0,_t.ErrorResponse)(r,(n??Ro.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:it.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Qe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,b=>{if(this.ui.hideRequestEthereumAccounts(),b.errorMessage)return o(new Error(b.errorMessage));s(b)});const f=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(f&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(f)){let b;try{(0,Qe.isInIFrame)()&&window.top?b=window.top.location:b=window.location}catch{b=window.location}b.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(b.href)}`;return}if(this.ui.inlineAccountsResponse()){const b=g=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:r,response:(0,_t.RequestEthereumAccountsResponse)(g)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:b})}else{const b=_c.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(b)})}Bt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:it.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,g=>{if(g.errorMessage)return a(new Error(g.errorMessage));o(g)});const f=g=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:n,response:(0,_t.SelectProviderResponse)(rS.ProviderType.Unselected)}))},b=g=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:n,response:(0,_t.SelectProviderResponse)(g)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:b,onCancel:f,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:it.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let f=null;const b=(0,Qe.randomBytesHex)(8),g=x=>{this.publishWeb3RequestCanceledEvent(b),this.handleErrorResponse(b,a.method,x),f==null||f()};this.ui.inlineWatchAsset()||(f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload}));const C=new Promise((x,I)=>{this.relayEventManager.callbacks.set(b,$=>{if(f==null||f(),$.errorMessage)return I(new Error($.errorMessage));x($)});const N=$=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:b,response:(0,_t.WatchAssetReponse)(!1)}))},H=()=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:b,response:(0,_t.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:H,onCancel:N,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(b,a)});return{cancel:g,promise:C}}addEthereumChain(e,r,n,i,s,o){const a={method:it.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let f=null;const b=(0,Qe.randomBytesHex)(8),g=x=>{this.publishWeb3RequestCanceledEvent(b),this.handleErrorResponse(b,a.method,x),f==null||f()};return this.ui.inlineAddEthereumChain(e)||(f=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:g,onResetConnection:this.resetAndReload})),{promise:new Promise((x,I)=>{this.relayEventManager.callbacks.set(b,$=>{if(f==null||f(),$.errorMessage)return I(new Error($.errorMessage));x($)});const N=$=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:b,response:(0,_t.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},H=$=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:b,response:(0,_t.AddEthereumChainResponse)({isApproved:!0,rpcUrl:$})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:N,onApprove:H,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(b,a)}),cancel:g}}switchEthereumChain(e,r){const n={method:it.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Qe.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,f)=>{this.relayEventManager.callbacks.set(i,C=>{if(C.errorMessage&&C.errorCode)return f(_c.ethErrors.provider.custom({code:C.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(C.errorMessage)return f(new Error(C.errorMessage));a(C)});const b=C=>{if(typeof C=="number"){const x=C;this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,_t.ErrorResponse)(it.Web3Method.switchEthereumChain,Ro.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,x)}))}else C instanceof Ro.WalletUIError?this.handleErrorResponse(i,it.Web3Method.switchEthereumChain,C,C.errorCode):this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,_t.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},g=C=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:i,response:(0,_t.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:C})}))};this.ui.switchEthereumChain({onCancel:b,onApprove:g,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return rr.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,gt.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case it.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case it.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case it.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case it.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Bt.accountRequestCallbackIds=new Set;nf([sf.default],Bt.prototype,"resetAndReload",null);nf([sf.default],Bt.prototype,"handleIncomingEvent",null);Ds.WalletSDKRelay=Bt;var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.WalletSDKRelayEventManager=void 0;const sS=q;class oS{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,sS.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}zs.WalletSDKRelayEventManager=oS;const aS="@coinbase/wallet-sdk",uS="3.6.3",cS="Coinbase Wallet JavaScript SDK",lS=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],hS="dist/index.js",fS="dist/index.d.ts",dS="https://github.com/coinbase/coinbase-wallet-sdk.git",pS="Coinbase, Inc.",yS="Apache-2.0",gS={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},bS={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"^1.70.1","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},mS={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},vS={node:">= 10.0.0"},wS={name:aS,version:uS,description:cS,keywords:lS,main:hS,types:fS,repository:dS,author:pS,license:yS,scripts:gS,dependencies:bS,devDependencies:mS,engines:vS};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.CoinbaseWalletSDK=void 0;const _S=ts,SS=rs,ES=fn,xS=_s,MS=Ds,kS=zs,CS=q,IS={}.LINK_API_URL||"https://www.walletlink.org",of={}.SDK_VERSION||wS.version||"unknown";class Vs{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||IS;let o;if(e.uiConstructor?o=e.uiConstructor:o=b=>new xS.WalletSDKUI(b),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),f=`${a.protocol}//${a.host}`;this._storage=new SS.ScopedLocalStorage(`-walletlink:${f}`),this._storage.setItem("version",Vs.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new kS.WalletSDKRelayEventManager,this._relay=new MS.WalletSDKRelay({linkAPIUrl:s,version:of,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new ES.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,CS.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,_S.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}Yn.CoinbaseWalletSDK=Vs;Vs.VERSION=of;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=Yn,r=fn;var n=Yn;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=fn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(ia);const AS=ff(ia),US=df({__proto__:null,default:AS},[ia]);export{US as i};

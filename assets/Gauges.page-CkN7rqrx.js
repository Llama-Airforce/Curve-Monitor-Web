import{d as T,r as R,f as E,$ as Q,h as C,o as n,w as h,b as l,u as a,a as t,X as U,i as c,t as r,c as u,W as f,Q as W,O as z,_ as F,e as S,a5 as M,a6 as O}from"./index-D82onfKO.js";import{_ as X}from"./Table-TOI9JsVE.js";import{_ as j}from"./IconExpander-tJ7eEl9L.js";import{_ as q}from"./AsyncValue-CHjRXbRu.js";import{_ as H}from"./InputText-S38ZivK0.js";import{u as J,_ as K}from"./UsePagination-B77F3blR.js";import{a as Y}from"./gauge-DW_aeEFs.js";import{u as Z}from"./UseSort-q-hkr5Vc.js";import"./Number-D5qYppRj.js";import"./timestamp-DkvXAN4c.js";import"./useQuery-GdPs83pA.js";const ee={style:{display:"flex","flex-wrap":"wrap",gap:"1rem"}},oe=["href"],se=["href"],ae={key:1},te=["href"],ne={class:"end"},re={class:"end"},le=["href"],y=15,ie=T({__name:"TableGauges",setup(P){const{isFetching:d,data:b}=Y(),k=[{id:"name",label:"Name / Address",sort:!1},{id:"destination",label:"Destination",sort:!1},{id:"lp",label:"LP Token",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"creation",label:"Creation",sort:!0,align:"end"}],{sorting:p,onSort:x}=Z("weight"),i=R(""),v=E(()=>b.value.filter(o=>{const s=i.value.toLocaleLowerCase().split(" ");return(g=>s.some(m=>g.toLocaleLowerCase().includes(m)))(`${o.address} ${o.pool?.name??""} ${o.pool?.address??""} ${o.market?.name??""} ${o.lpToken??""}`)}).orderBy(o=>{switch(p.value.column){case"weight":return Number(o.weight);case"creation":return o.creationDate.getTime()}},p.value.order)),{page:G,rowsPage:N,onPage:V}=J(v,y);function _(o){return o.replace("Curve.fi","").replace("Gauge Deposit","").trim()}function w(o){switch(o){case"arbitrum":return"arbiscan.io";case"ethereum":return"etherscan.io";default:return"etherscan.io"}}const B=Q(),D=async o=>{await B.push({name:"gauge",params:{tab:"",gaugeAddr:o.address}})};return(o,s)=>{const $=K,g=H,m=q,L=j,I=X,A=F;return n(),C(A,{title:"Gauges",loading:a(d)},{actions:h(()=>[t("div",ee,[l($,{"items-count":a(v).length,"items-per-page":y,page:a(G),onPage:a(V)},null,8,["items-count","page","onPage"]),l(g,{modelValue:a(i),"onUpdate:modelValue":s[0]||(s[0]=e=>z(i)?i.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"])])]),default:h(()=>[l(I,{rows:a(N),columns:k,sorting:a(p),onSortColumn:a(x),onSelect:D},{row:h(({item:e})=>[t("div",{style:{display:"contents"},class:U({killed:e.killed})},[t("div",null,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${e.address}`,onClick:s[1]||(s[1]=c(()=>{},["stop"]))},r(_(e.name??e.address)),9,oe)]),t("div",null,[e.pool?(n(),u("a",{key:0,class:"font-mono",target:"_blank",href:`https://${w(e.pool.chain)}/address/${e.pool.address}`,onClick:s[2]||(s[2]=c(()=>{},["stop"]))},r(_(e.pool.name)),9,se)):e.market?(n(),u("span",ae,r(_(e.market.name)),1)):f("",!0)]),t("div",null,[e.lpToken&&e.pool?(n(),u("a",{key:0,class:"font-mono",target:"_blank",href:`https://${w(e.pool.chain)}/address/${e.lpToken}`,onClick:s[3]||(s[3]=c(()=>{},["stop"]))},r(("addressShort"in o?o.addressShort:a(W))(e.lpToken)),9,te)):f("",!0)]),t("div",ne,[e.weight>0?(n(),C(m,{key:0,value:Number(e.weight)/10**18},null,8,["value"])):f("",!0)]),t("div",re,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/tx/${e.creationTx}`,onClick:s[4]||(s[4]=c(()=>{},["stop"]))},r(e.creationDate.toLocaleDateString()),9,le)]),l(L)],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["loading"])}}}),ce=S(ie,[["__scopeId","data-v-dcb071d9"]]),ue={class:"dashboard"},de=T({__name:"Gauges.page",setup(P){const{crumbs:d}=M(O());return d.value=[{id:"gauges",label:"Gauges",pathName:"gauges"},{id:"pool",label:"Select gauge for details",hint:!0}],(b,k)=>(n(),u("div",ue,[l(ce,{style:{"grid-area":"gauges"}})]))}}),Ce=S(de,[["__scopeId","data-v-65bba532"]]);export{Ce as default};

const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/vue3-apexcharts-CFDVq8Xr.js","assets/vendor-DS3TzJKL.js"])))=>i.map(i=>d[i]);
var ao=Object.defineProperty;var so=(e,t,a)=>t in e?ao(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var wt=(e,t,a)=>so(e,typeof t!="symbol"?t+"":t,a);import{o as h,c as A,a as u,d as T,u as sa,b,e as oo,f as S,n as M,g as F,h as s,r as j,i as U,t as I,w as y,j as m,T as Da,F as Y,k as oe,l as oa,m as Ma,p as q,q as Ze,s as dt,V as no,v as lo,x as na,y as ro,z as io,A as co,B as la,C as Q,D as uo,E as po,G as Ua,H as Ce,I as de,J as Ra,K as ke,L as ra,M as Vt,N as ne,O as mo,P as vo,Q as ho,R as fo,S as Ee,U as _o,W as go,X as yo,Y as bo,Z as E,_ as xt,$ as wo,a0 as ko,a1 as R,a2 as ct,a3 as $o,a4 as Co,a5 as le,a6 as J,a7 as Ao,a8 as So,a9 as pt,aa as Lo,ab as To,ac as xe,ad as be,ae as Oe,af as mt,ag as qt,ah as Io,ai as ie,aj as ia,ak as Vo,al as re,am as Ea,an as It,ao as qo,ap as Po,aq as Fo,ar as Bo,as as rt,at as ba,au as wa,av as ca,aw as Oa,ax as Do,ay as xa,az as Wa,aA as ka,aB as Mo,aC as Na,aD as Wt,aE as Ka,aF as Uo,aG as $a,aH as Ro,aI as Ca,aJ as Eo,aK as Oo,aL as xo,aM as Wo,aN as No,aO as Ko,aP as Ho,aQ as Qo,aR as zo}from"./vendor-DS3TzJKL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();class jo{constructor(t){this.value=t}entries(){return Object.entries(this.value)}}Array.prototype.take=function(e){return this.slice(0,e)};Array.prototype.takeRight=function(e){return this.slice(-e)};Array.prototype.drop=function(e=1){return this.slice(Math.max(0,e))};Array.prototype.dropWhile=function(e){const t=this.findIndex((a,o,n)=>!e(a,o,n));return t===-1?[]:this.slice(t)};Array.prototype.zip=function(...e){return this.map((t,a)=>[t,...e.map(o=>o[a])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(e){return this.filter((t,a)=>this.findIndex(o=>e(t,o))===a)};Array.prototype.orderBy=function(e,t="asc"){const a=Array.isArray(e)?e:[e],o=Array.isArray(t)?t:[t];return[...this].sort((n,i)=>{for(let l=0;l<a.length;l++){const r=a[l],c=Array.isArray(t)?o[l]||"asc":t,d=r(n),p=r(i);if(d!==p)return(d>p?1:-1)*(c==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(e){const t=Object.groupBy(this,e);return new jo(t)};Array.prototype.sumBy=function(e){return this.reduce((t,a)=>t+e(a),0)};Array.prototype.meanBy=function(e){const t=this.sumBy(e);return this.length>0?t/this.length:0};Array.prototype.maxBy=function(e){return this.reduce((t,a)=>e(a)>e(t)?a:t)};Array.prototype.difference=function(...e){const t=new Set(e.flat());return this.filter(a=>!t.has(a))};const V=(e,t)=>{const a=e.__vccOpts||e;for(const[o,n]of t)a[o]=n;return a},Go={},Xo={class:"spinner"};function Zo(e,t){return h(),A("div",Xo,t[0]||(t[0]=[u("div",null,null,-1),u("div",null,null,-1)]))}const Ye=V(Go,[["render",Zo],["__scopeId","data-v-1a694bfd"]]),Yo=["inert"],Jo={key:0,class:"card-title"},en={key:1,class:"card-actions-secondary"},tn={key:2,class:"card-actions"},an=T({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:[Boolean,null],default:null}},setup(e){const t=sa(),a=b(()=>e.title||t.title),o=b(()=>t.actions),n=b(()=>t["actions-secondary"]),i=b(()=>e.title||t.title||o.value||n.value),{width:l}=oo(),r=b(()=>l.value<=1280);return(c,d)=>{const p=Ye;return h(),A("div",{class:M(["card",{loading:c.loading,"loading-backdrop":c.loading!==null,"stack-actions":s(r)}]),inert:!!c.loading},[c.loading!==null?(h(),S(p,{key:0,class:M({loading:c.loading})},null,8,["class"])):F("",!0),s(i)?(h(),A("div",{key:1,class:M(["card-header",{collapsible:c.collapsible}])},[s(a)?(h(),A("div",Jo,[j(c.$slots,"title",{},()=>[c.icon?(h(),A("i",{key:0,class:M(["icon",c.icon])},null,2)):F("",!0),U(" "+I(c.title),1)],!0)])):F("",!0),s(n)?(h(),A("div",en,[j(c.$slots,"actions-secondary",{},void 0,!0)])):F("",!0),s(o)?(h(),A("div",tn,[j(c.$slots,"actions",{},void 0,!0)])):F("",!0)],2)):(h(),A("div",{key:2,class:M(["card-no-header",{compact:c.compact}])},null,2)),u("div",{class:M(["card-body",{compact:c.compact,collapsed:c.collapsed}])},[j(c.$slots,"default",{},void 0,!0)],2)],10,Yo)}}}),D=V(an,[["__scopeId","data-v-62e595e3"]]),sn={key:0,class:"fas fa-chevron-right"},on=T({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const a=t,o=i=>{var r;const l=e.active?e.active.id===i.id:((r=e.crumbs.filter(c=>!c.hint).at(-1))==null?void 0:r.id)===i.id;return i.hint??l},n=i=>{var l;return((l=e.crumbs.at(-1))==null?void 0:l.id)===i.id};return(i,l)=>{const r=D;return h(),S(r,null,{default:y(()=>[m(Da,{name:"fade",tag:"ul"},{default:y(()=>[(h(!0),A(Y,null,oe(i.crumbs,c=>(h(),A("li",{key:c.id},[(h(),S(oa(o(c)?"span":"a"),{class:M({active:o(c),hint:c.hint}),onClick:d=>a("crumb",c)},{default:y(()=>[U(I(c.label),1)]),_:2},1032,["class","onClick"])),!n(c)||i.crumbs.length===1?(h(),A("i",sn)):F("",!0)]))),128))]),_:1})]),_:1})}}}),nn=V(on,[["__scopeId","data-v-f3224b5d"]]),Te=Ma("breadcrumbStore",()=>{const e=q([]),t=q(!1);return{crumbs:e,show:t}}),ln={class:"root"},rn={class:"toolbar-container"},cn={class:"content"},un=T({__name:"Layout",setup(e){const t=Te(),a=Ze(),o=async n=>{n.pathName&&await a.push({name:n.pathName,...n.params&&{params:n.params()}})};return(n,i)=>{const l=dt("notifications"),r=nn,c=dt("router-view");return h(),A("div",ln,[m(l,{width:600,duration:-1}),m(s(no)),j(n.$slots,"navigation",{},void 0,!0),u("main",null,[u("div",rn,[s(t).show?(h(),S(r,{key:0,class:"breadcrumb",crumbs:s(t).crumbs,onCrumb:o},null,8,["crumbs"])):F("",!0),i[0]||(i[0]=u("div",{id:"toolbar",class:"toolbar-teleport"},null,-1))]),u("div",cn,[m(c,null,{default:y(({Component:d})=>[m(lo,{name:"fade",mode:"out-in"},{default:y(()=>[(h(),S(oa(d)))]),_:2},1024)]),_:1})])])])}}}),dn=V(un,[["__scopeId","data-v-00bacdb5"]]),Me=na({blue:"#aaa",yellow:"#aaa",green:"#aaa",red:"#aaa",purple:"#aaa",backgroundColor:"#aaa",level1:"#aaa",level2:"#aaa",level3:"#aaa",level4:"#aaa",level5:"#aaa",level6:"#aaa",text:"#aaa"});ro(document.documentElement,e=>{if(!e.some(o=>o.attributeName==="data-theme"))return;const t=getComputedStyle(document.documentElement),a=o=>pn(t.getPropertyValue(o));Me.value={blue:a("--c-chart-blue"),yellow:a("--c-chart-yellow"),green:a("--c-chart-green"),red:a("--c-chart-red"),purple:a("--c-chart-purple"),text:a("--c-chart-text"),backgroundColor:a("--c-lvl1"),level1:a("--c-lvl1"),level2:a("--c-lvl2"),level3:a("--c-lvl3"),level4:a("--c-lvl4"),level5:a("--c-lvl5"),level6:a("--c-lvl6")}},{attributes:!0});function pn(e){const t=document.createElement("canvas");t.width=1,t.height=1;const a=t.getContext("2d");if(!a)throw new Error("Failed to create 2D canvas context");a.fillStyle=e,a.fillRect(0,0,1,1);const o=a.getImageData(0,0,1,1).data;return`#${[o[0],o[1],o[2]].map(i=>i.toString(16).padStart(2,"0")).join("")}`}const mn={class:"collapsible-inside"},vn=T({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,a)=>(h(),A("div",{class:M(["collapsible-outside",{expanded:t.expanded}])},[u("div",mn,[j(t.$slots,"default",{},void 0,!0)])],2))}}),vt=V(vn,[["__scopeId","data-v-adb182cc"]]),hn={class:"badge"},fn={class:"label"},_n=T({__name:"Badge",props:{label:{default:""}},setup(e){return(t,a)=>(h(),A("div",hn,[u("div",fn,I(t.label),1)]))}}),gn=V(_n,[["__scopeId","data-v-efe380bc"]]);function it(e){return!!e.children}function Nt(e){return!!e.to}function yn(e){return!!e.url}function bn(e){return e!=null}function wn(e){function t(v){return v<10?"0"+v.toString():v.toString()}const a=e.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const o=1e3,n=o*60,i=n*60,l=i*24,r=Math.floor(a/l),c=Math.floor(a%l/i),d=Math.floor(a%i/n),p=Math.floor(a%n/o);return t(r)+":"+t(c)+":"+t(d)+":"+t(p)}function He(e,t=0,a=".",o=","){const n=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,l=typeof o>"u"?",":o,r=typeof a>"u"?".":a,c=function(p,v){const g=Math.pow(10,v);return Math.round(p*g)/g},d=(i?c(n,i):Math.round(n)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(d[1]||"").length<i&&(d[1]=d[1]||"",d[1]+=new Array(i-d[1].length+1).join("0")),d.join(r)}function x(e,t){const a=Math.abs(e);return t==="percentage"?"%":t==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function N(e,t,a){const o=Math.abs(e);return t===1/0?e.toLocaleString():a==="percentage"?He(e,t):a==="dollar"?o>=1*10**12?He(e/10**12,t):o>=1*10**9?He(e/10**9,t):o>=1*10**6?He(e/10**6,t):o>=1*10**3?He(e/10**3,t):He(e,t):e.toString()}function Re(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function Ue(e,t){return parseFloat(io(e,Number(t)))}function Ha(e,t){const a=Number(t),o=Number.isInteger(e)?e.toString():e.toFixed(a);return co(o,a)}function ua(e,t){const a={...e};for(const o in t)Array.isArray(t[o])?a[o]=[...t[o]]:typeof t[o]=="object"&&t[o]!==null?a[o]=ua(a[o],t[o]):a[o]=t[o];return a}async function Qa(e,t=0,a=1e3){const o=await e(t,a),n=await(o.length>=a?Qa(e,t+1,a):Promise.resolve([]));return o.concat(n)}function At(e,t){return(Array.isArray(e)?e:[e]).some(o=>t.path.startsWith(o))}function ht(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}const za="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",kn="0xf939e0a03fb07f59a73314e73794be0e57ac1b4e",ja="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Ga="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Qe="0xe478de485ad2fe566d49342cbd03e49ed7db3356",$n={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class Cn extends Error{constructor(t,a){super(a),this.status=t}}async function An(e,t,a){try{const o=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:a});if(o.ok)return o;throw new Cn(o.status,`Fetch error ${o.status} for URL: ${e}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function Sn(e,t,a){return await(await An(e,t,a)).json()}class Le{async fetch(t,a,o){return Sn(t,a,o)}}class Xa extends Le{constructor(a){super();wt(this,"host");this.host=a}async getHost(){return await this.host}}class Ln extends Le{async getPrice(t){const a=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(o=>o.coins[a])}async getPrices(t){const a=t.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(o=>o.coins)}}const Kt={};function Tn(e="$llama$"){Kt[e]||(Kt[e]=0);const t=++Kt[e];return e==="$llama$"?`${t}`:`${e}${t}`}const In={key:0},Vn=["href"],qn={class:"nav-link-container"},Pn={key:1},Fn={class:"nav-link-container"},Bn={class:"left"},Dn={key:0,class:"icon"},Mn={class:"right"},Un={key:2},Rn={class:"nav-link-container"},En={class:"nav-link-container"},On={class:"left"},xn={key:0,class:"icon"},Wn={class:"right"},Nn=T({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const a=t,o=la(),n=q(!0),i=b(()=>Nt(e.item)?[e.item]:it(e.item)?e.item.children:[]),l=()=>{it(e.item)&&e.item.children.filter(p=>At(p.to,o)).length>0&&(n.value=!0)},r=d=>typeof d.label=="string"?d.label:d.label();Q(()=>e.item,d=>{it(d)&&(n.value=!d.initCollapsed),l()},{immediate:!0}),Q(()=>o.fullPath,()=>{l()},{immediate:!0});const c=()=>{n.value=!n.value};return(d,p)=>{const v=gn,g=dt("router-link"),f=vt;return h(),A(Y,null,[s(yn)(d.item)?(h(),A("li",In,[u("a",{class:"nav-link root",href:d.item.url,target:"_blank"},[u("div",qn,I(d.item.label),1)],8,Vn)])):s(Nt)(d.item)?(h(),A("li",Pn,[m(g,{to:d.item.to,class:M(["nav-link root",{"router-link-active":s(At)(d.item.to,s(o))}]),onClick:p[0]||(p[0]=_=>a("navigated"))},{default:y(()=>[u("div",Fn,[u("div",Bn,[d.item.icon?(h(),A("div",Dn,[u("i",{class:M(d.item.icon)},null,2)])):F("",!0),U(" "+I(r(d.item)),1)]),u("div",Mn,[d.item.tag?(h(),S(v,{key:0,label:d.item.tag},null,8,["label"])):F("",!0)])])]),_:1},8,["to","class"])])):s(it)(d.item)?(h(),A("li",Un,[u("a",{class:"nav-link root",onClick:c},[u("div",Rn,[U(I(d.item.label)+" ",1),u("i",{class:M(["expander fas fa-chevron-up",{expanded:s(n)}])},null,2)])])])):F("",!0),s(it)(d.item)?(h(),S(f,{key:3,class:"items",expanded:s(n)},{default:y(()=>[u("ul",null,[(h(!0),A(Y,null,oe(s(i),_=>(h(),A("li",{key:r(_)},[s(Nt)(_)?(h(),S(g,{key:0,to:_.to,class:M(["nav-link",{"router-link-active":s(At)(_.to,s(o))}]),onClick:p[1]||(p[1]=w=>a("navigated"))},{default:y(()=>[u("div",En,[u("div",On,[_.icon?(h(),A("div",xn,[u("i",{class:M(_.icon)},null,2)])):F("",!0),U(" "+I(r(_)),1)]),u("div",Wn,[_.tag?(h(),S(v,{key:0,label:_.tag},null,8,["label"])):F("",!0)])])]),_:2},1032,["to","class"])):F("",!0)]))),128))])]),_:1},8,["expanded"])):F("",!0)],64)}}}),Kn=V(Nn,[["__scopeId","data-v-43503e35"]]),Hn=T({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const a=t,o=la(),n=b(()=>e.pages.find(r=>At(r.titleRoute,o))),i=b(()=>{var r;return((r=n.value)==null?void 0:r.menuItems)??[]}),l=r=>typeof r.label=="string"?r.label:r.label();return(r,c)=>(h(),A("nav",null,[(h(!0),A(Y,null,oe(s(i),d=>(h(),A("ul",{key:l(d)},[m(Kn,{item:d,onNavigated:c[0]||(c[0]=p=>a("navigated"))},null,8,["item"])]))),128))]))}}),Qn=V(Hn,[["__scopeId","data-v-eac6628d"]]);function Pt(){const{address:e,isConnected:t,chainId:a}=uo(),o=po(),n=b(()=>o.data.value&&e.value?e.value.toLocaleLowerCase():void 0);return{isConnected:t,chainId:a,address:n}}function we(e,t=6){if(!e)return"0x000...000";const a=t/2+2,o=e.length-t/2;return`${e.substring(0,a)}...${e.substring(o)}`}function St(e,t=6){if(!e)return"0x000";const a=Math.min(e.length,t+2);return e.length>a?`${e.substring(0,a)}...`:e}const zn=T({__name:"Button",props:{icon:{default:""},value:{default:""},chainId:{}},emits:["click"],setup(e,{emit:t}){const a=t,{chainId:o}=Pt(),{switchChain:n}=Ua(),i=l=>{if(l.stopImmediatePropagation(),e.chainId){if(o.value===void 0){Ce({text:"Wallet not connected",type:"error"});return}o.value!==e.chainId&&n({chainId:e.chainId})}a("click")};return(l,r)=>(h(),A("button",{onClick:i},[j(l.$slots,"default",{},()=>[l.icon?(h(),A("i",{key:0,class:M(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):F("",!0),U(" "+I(l.value),1)],!0)]))}}),ce=V(zn,[["__scopeId","data-v-420f6ea8"]]),jn="/assets/crv-CKEIQw2g.png",Gn="/assets/hat-D1qfnSjv.png",Xn={},Zn={class:"logo"};function Yn(e,t){return h(),A("div",Zn,t[0]||(t[0]=[u("div",{class:"visual"},[u("img",{src:jn}),u("img",{src:Gn})],-1),u("span",null,"curve.monitor",-1)]))}const Jn=V(Xn,[["render",Yn],["__scopeId","data-v-f6573bd5"]]),el={class:"header"},tl={class:"buttons"},al=T({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const a=t;return(o,n)=>{const i=dt("router-link"),l=ce;return h(),A("div",el,[m(i,{class:"logo",to:"/",onClick:n[0]||(n[0]=r=>a("navigated"))},{default:y(()=>[m(Jn,{class:"logo"})]),_:1}),u("div",tl,[m(l,{class:"lvl1",icon:"fas fa-bars",onClick:n[1]||(n[1]=r=>a("toggle-expansion"))})])])}}}),sl=V(al,[["__scopeId","data-v-0d619592"]]),ol={class:"selected"},nl={class:"item-wrapper"},ll={key:0,class:"label"},rl=["onClick"],il=T({__name:"Select",props:{options:{},selected:{},label:{}},emits:["input"],setup(e,{emit:t}){const a=t,o=q(!1);return(n,i)=>(h(),A("div",{tabindex:"0",class:M(["select",{open:s(o)}]),onBlur:i[0]||(i[0]=l=>o.value=!1),onClick:i[1]||(i[1]=de(l=>o.value=!s(o),["stop"]))},[u("div",ol,[u("div",nl,[j(n.$slots,"item",{item:n.selected,isSelected:!0},()=>[U(I(n.selected),1)],!0)]),n.label?(h(),A("div",ll,I(n.label),1)):F("",!0)]),u("div",{class:M(["items",{open:s(o)}])},[(h(!0),A(Y,null,oe(n.options,(l,r)=>(h(),A("div",{key:r,class:"item-wrapper",onClick:de(c=>{o.value=!1,a("input",l)},["stop"])},[j(n.$slots,"item",{item:l,isSelected:!1},()=>[U(I(l),1)],!0)],8,rl))),128))],2),i[2]||(i[2]=u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1))],34))}}),Je=V(il,[["__scopeId","data-v-31f72f92"]]),cl={class:"theme"},ul={class:"label"},dl="theme",pl=T({__name:"SelectTheme",props:{themes:{default:()=>["dark"]}},setup(e){const a=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",o=Ra(dl,e.themes.find(n=>n===a)??e.themes[0]);return Q(o,n=>{window.document.documentElement.setAttribute("data-theme",n)},{immediate:!0}),(n,i)=>{const l=Je;return h(),S(l,{class:"direction-up",options:n.themes.map(r=>r),selected:s(o),onInput:i[0]||(i[0]=r=>o.value=r)},{item:y(({item:r})=>[u("div",cl,[u("div",ul,I(r),1)])]),_:1},8,["options","selected"])}}}),ml=V(pl,[["__scopeId","data-v-917b2da7"]]),vl={key:0,class:"modal"},hl={class:"modal-popup"},fl=T({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,o=n=>{n.code==="Escape"&&a("close")};return ke(()=>{document.addEventListener("keydown",o)}),ra(()=>{document.removeEventListener("keydown",o)}),Q(()=>e.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,i)=>(h(),S(Vt,{to:"body"},[n.show?(h(),A("div",vl,[u("div",{class:"modal-mask",onClick:i[0]||(i[0]=l=>a("close"))}),u("div",hl,[j(n.$slots,"default",{},void 0,!0)])])):F("",!0)]))}}),ft=V(fl,[["__scopeId","data-v-801fe9d3"]]),_l="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",gl={key:1,src:_l},yl=T({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const a=t,o=q(!1),n=ne("trigger"),i=ne("content");Q(o,p=>{a("show",p),p&&mo(()=>{d()})});let l;function r(){l&&(clearTimeout(l),l=void 0),o.value=!0}function c(){l&&clearTimeout(l),l=setTimeout(()=>{o.value=!1,l=void 0},50)}ke(()=>{d(),window.addEventListener("resize",d)}),ra(()=>{window.removeEventListener("resize",d)});function d(){if(!n.value||!i.value)return;const p=n.value.getBoundingClientRect(),v=i.value.getBoundingClientRect(),g=14,f=g,_=window.innerHeight-v.height-g,w=Math.min(Math.max(f,p.top-v.height-g),_),k=g,C=window.innerWidth-v.width-g,$=Math.min(Math.max(k,p.left+p.width/2-v.width/2),C);i.value.style.top=`${w}px`,i.value.style.left=`${$}px`}return(p,v)=>(h(),A("div",{class:M(["tooltip",{show:s(o)}])},[u("div",{ref:"trigger",class:"trigger",onMouseover:r,onMouseleave:c,onTouchstart:r,onTouchend:c},[j(p.$slots,"trigger",{},()=>[p.icon?(h(),A("i",{key:0,class:M(p.icon)},null,2)):(h(),A("img",gl))],!0)],544),u("div",{ref:"content",class:"content",onMouseover:r,onMouseleave:c,onTouchstart:r,onTouchend:c},[j(p.$slots,"default",{},void 0,!0)],544)],2))}}),da=V(yl,[["__scopeId","data-v-f54eb7a0"]]),bl="/assets/injected-DW80ouY-.webp",wl="/assets/rabby-CG__llS3.svg",kl="/assets/walletconnect-BCBhrtde.webp",$l="/assets/coinbase-CsqSq8Nj.webp",Cl="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Al={class:"buttons"},Sl={class:"connectors-body"},Ll={class:"connectors"},Tl=["src"],Il={key:1,class:"empty"},Vl={class:"name"},ql=T({__name:"WalletConnectButton",setup(e){const{connect:t}=vo(),a=ho(),o=["injected","walletConnect","coinbaseWalletSDK","safe"],n=b(()=>a.value.filter(d=>o.includes(d.id))),i=q(!1);function l(d){switch(d.id){case"injected":return bl;case"walletConnect":return kl;case"coinbaseWalletSDK":return $l;case"safe":return Cl;case"io.rabby":return wl;default:return""}}function r(d){return d.id==="injected"?"Browser Extension":d.name}function c(d){t({connector:d}),i.value=!1}return(d,p)=>{const v=ce,g=D,f=ft;return h(),A("div",Al,[m(v,{class:"button primary",onClick:p[0]||(p[0]=_=>i.value=!0)},{default:y(()=>p[2]||(p[2]=[U(" Connect Wallet ")])),_:1}),F("",!0),m(f,{show:s(i),onClose:p[1]||(p[1]=_=>i.value=!1)},{default:y(()=>[m(g,null,{default:y(()=>[u("div",Sl,[p[5]||(p[5]=u("div",{class:"title"},"Connect Your Wallet",-1)),u("div",Ll,[(h(!0),A(Y,null,oe(s(n),_=>(h(),A("div",{key:_.id,class:"connector"},[m(v,{onClick:w=>c(_)},{default:y(()=>[l(_)?(h(),A("img",{key:0,src:l(_)},null,8,Tl)):(h(),A("div",Il)),u("div",Vl,I(r(_)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}}),Pl=V(ql,[["__scopeId","data-v-a332f1bc"]]),Fl={class:"wallet"},Bl={key:0},Dl={key:1},Ml={key:0,class:"info"},Ul=T({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{disconnect:t}=fo(),{isConnected:a,chainId:o,address:n}=Pt(),{switchChain:i}=Ua(),l=b(()=>o.value===Ee.id),r=()=>{i({chainId:Ee.id})};return(c,d)=>{const p=ce;return h(),A("div",Fl,[s(a)?(h(),A("div",Bl,[s(l)?(h(),S(p,{key:1,class:"disconnect",icon:"fas fa-check",value:s(we)(s(n)),onClick:s(t)},null,8,["value","onClick"])):(h(),S(p,{key:0,class:"change primary",value:"Change Network",onClick:r}))])):(h(),A("div",Dl,[m(Pl),c.labelPleaseConnect?(h(),A("span",Ml,I(c.labelPleaseConnect),1)):F("",!0)]))])}}}),Rl=V(Ul,[["__scopeId","data-v-6459a87c"]]),El={class:"bottom"},Ol={class:"buttons"},xl={href:"https://twitter.com/0xAlunara",target:"_blank"},Wl=T({__name:"Bottom",emits:["navigated"],setup(e,{emit:t}){const a=t,o=Ze();return(n,i)=>{const l=ce,r=ml;return h(),A("div",El,[u("div",Ol,[u("a",xl,[m(l,{class:"lvl2",icon:"fab fa-twitter"})]),m(l,{class:"lvl2",icon:"fas fa-code",onClick:i[0]||(i[0]=c=>{s(o).push("/code"),a("navigated")})})]),m(r,{class:"themes",themes:["dark","light","chad"]}),m(Rl,{class:"lvl2"})])}}}),Nl=V(Wl,[["__scopeId","data-v-381c770d"]]),pa=()=>Ma("pageStore",()=>{const e=q([]),t=q([]);return{pages:e,routes:t}})(),Kl=T({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const a=t,o=pa(),n=q(!1),i=()=>{n.value=!1,a("navigated")};return(l,r)=>{const c=Qn,d=vt;return h(),A("div",{class:M(["menu-desktop",{expanded:s(n)}])},[m(sl,{onToggleExpansion:r[0]||(r[0]=p=>n.value=!s(n)),onNavigated:i}),m(d,{class:"menu-content",expanded:s(n)},{default:y(()=>[m(c,{pages:s(o).pages,onNavigated:i},null,8,["pages"]),m(Nl,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),Hl=V(Kl,[["__scopeId","data-v-9e33c0e2"]]),Za=Symbol();function Ql(e){_o(Za,e)}function H(){const e=go(Za);if(!e)throw new Error("Theme not provided");return e}const zl=T({__name:"App",setup(e){const t=Te(),a=la();Q(()=>a.fullPath,n=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(l=>n.startsWith(l))||(t.show=!1)});const o=b(()=>({colors:Me.value,colorsArray:[Me.value.blue,Me.value.yellow,Me.value.green,Me.value.red,Me.value.purple]}));return Ql(o),(n,i)=>{const l=dn;return h(),S(l,null,{navigation:y(()=>[m(Hl,{class:"navigation"})]),_:1})}}}),jl=V(zl,[["__scopeId","data-v-ede787cd"]]),Gl="/assets/404-DGbqGNxT.png",Xl={},Zl={class:"not-found"},Yl={class:"not-found-container"};function Jl(e,t){const a=D;return h(),A("div",Zl,[u("div",Yl,[m(a,null,{default:y(()=>t[0]||(t[0]=[U(" Where are you going, pilot? Page not found, please return home fren. ")])),_:1}),t[1]||(t[1]=u("img",{src:Gl},null,-1))])])}const er=V(Xl,[["render",Jl],["__scopeId","data-v-3d67162f"]]),tr={key:0,class:"expander"},ar={key:1,class:"expander"},sr={class:"row-details"},or=T({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const a=t,o=sa(),n=b(()=>{var r;const l=o["row-details"];if(l){const c=(r=l()[0])==null?void 0:r.children;if(c)return Array.isArray(c)&&c.length>0}return!1}),i=()=>{a("click",e.data)};return(l,r)=>{const c=vt;return h(),A("div",{class:M(["row",{expanded:l.expanded}])},[u("div",{class:M(["row-data",{active:l.selected,expandable:s(n),"has-data":!!l.data}]),onClick:i},[l.data&&s(n)&&l.expandSide==="left"?(h(),A("div",tr,r[0]||(r[0]=[u("i",{class:"fas fa-chevron-up"},null,-1)]))):F("",!0),j(l.$slots,"row",{},void 0,!0),l.data&&s(n)&&l.expandSide!=="left"?(h(),A("div",ar,r[1]||(r[1]=[u("i",{class:"fas fa-chevron-up"},null,-1)]))):F("",!0)],2),l.data?(h(),S(c,{key:0,expanded:l.expanded},{default:y(()=>[u("div",sr,[j(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):F("",!0)],2)}}}),nr=V(or,[["__scopeId","data-v-3c519af4"]]),lr={class:"table"},rr=["onClick"],ir={key:1,class:"no-data"},cr=T({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const a=t,o=b(()=>{if(e.rowsMin===null)return[];const p=Math.max(0,e.rowsMin-e.rows.length);return new Array(p)}),n=b(()=>e.columns.map(p=>typeof p=="string"?{id:p,label:p}:p)),i=p=>{p&&a("selected",p)},l=p=>{const v=p+1;return!!(e.rows[p+1]&&e.rows.findIndex(_=>_===e.selectedRow)===v)},r=p=>e.sorting.column===p.id&&e.sorting.order==="asc",c=p=>e.sorting.column===p.id&&e.sorting.order==="desc",d=p=>{if(!p.sort)return;const v=p.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";a("sortColumn",p.id,v)};return(p,v)=>{const g=nr;return h(),A("div",lr,[p.columns.length>0?(h(),S(g,{key:0,class:M({"selected-below":l(-1)})},{row:y(()=>[(h(!0),A(Y,null,oe(s(n),f=>(h(),A("div",{key:f.id,class:M(["column-header",{sortable:f.sort,sorting:f.sort&&p.sorting.column===f.id,[f.align||""]:!!f.align}]),onClick:_=>d(f)},[u("span",null,I(f.label),1),f.sort?(h(),A("i",{key:0,class:M(["sorting-arrow fa fa-caret-right",{asc:r(f),desc:c(f)}])},null,2)):F("",!0)],10,rr))),128))]),_:1},8,["class"])):F("",!0),(h(!0),A(Y,null,oe(p.rows,(f,_)=>(h(),S(g,{key:f,data:f,class:M({"selected-below":l(_)}),selected:p.selectedRow===f,expanded:p.expanded.includes(f),"expand-side":p.expandSide,onClick:i},{row:y(()=>[j(p.$slots,"row",{item:f},void 0,!0)]),"row-details":y(()=>[j(p.$slots,"row-details",{item:f},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(h(!0),A(Y,null,oe(s(o),f=>(h(),S(g,{key:f}))),128)),!p.rowsMin&&(!p.rows||p.rows.length===0)?(h(),A("div",ir,[j(p.$slots,"no-data",{},()=>[v[0]||(v[0]=U("No data"))],!0)])):F("",!0),p.$slots["row-aggregation"]&&p.rows.length>0?(h(),S(g,{key:2,class:"aggregation"},{row:y(()=>[j(p.$slots,"row-aggregation",{},void 0,!0)]),_:3})):F("",!0)])}}}),G=V(cr,[["__scopeId","data-v-bc261050"]]),ur={class:"dashboard"},dr=["href"],pr=["href"],mr=["href"],vr=T({__name:"Code.page",setup(e){const a=[{name:"veFunder",contracts:[{contract:ja,description:"Gauge Factory"},{contract:Ga,description:"Gauge Controller"}]}],o=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"This website's front-end, excluding the Union"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"The Graph subgraphs related to Curve, Convex, Votium and more"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],n=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],i=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,r)=>{const c=G,d=D;return h(),A("div",ur,[m(d,{title:"Repositories"},{default:y(()=>[m(c,{class:"repositories-table",rows:o,columns:["Repository","Description"],title:"Yolo"},{row:y(({item:p})=>[u("div",null,[u("a",{href:p.url,target:"_blank"},I(p.name),9,dr)]),u("div",null,I(p.description),1)]),_:1})]),_:1}),m(d,{title:"APIs"},{default:y(()=>[m(c,{class:"apis-table","columns-data":"apis-columns-data",rows:n,columns:["API","Description"]},{row:y(({item:p})=>[u("div",null,[u("a",{href:p.url,target:"_blank"},I(p.name),9,pr)]),u("div",null,I(p.description),1)]),_:1})]),_:1}),(h(),A(Y,null,oe(a,p=>m(d,{key:p.name,title:p.name},{default:y(()=>[m(c,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:["Contract","Description"]},{row:y(({item:v})=>[u("div",null,[u("a",{href:i(v),target:"_blank"},I(v.contract),9,mr)]),u("div",null,I(v.description),1)]),_:2},1032,["rows"])]),_:2},1032,["title"])),64)),m(d,null,{default:y(()=>r[0]||(r[0]=[u("div",{class:"notices"},[U(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),u("span",null,[u("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)])),_:1})])}}}),hr=V(vr,[["__scopeId","data-v-3a7361fb"]]);function fr(){const e=pa(),t=[{path:"/code",component:hr},...e.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:er}];return yo({history:bo(),routes:t})}const _r="/assets/llama-cloud-transparant-BquaG1Iu.png",gr={key:0,class:"value"},yr={key:1,class:"value"},br=["innerHTML"],wr={key:0,class:"value"},kr={key:1,class:"value"},$r=["innerHTML"],Cr={class:"labels"},Ar={class:"label"},Sr={class:"label-second"},Lr=T({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const o=da;return h(),A("div",{class:M(["kpi",{disabled:!t.hasValue}])},[u("div",{class:M(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[j(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(h(),S(o,{key:0},{trigger:y(()=>[t.hasValue?(h(),A("span",gr,I(t.value),1)):(h(),A("span",yr," ? "))]),default:y(()=>[j(t.$slots,"tooltip",{},()=>[u("span",{innerHTML:t.tooltip},null,8,br)],!0)]),_:3})):(h(),A(Y,{key:1},[t.hasValue?(h(),A("span",wr,I(t.value),1)):(h(),A("span",kr," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(h(),S(o,{key:0},{default:y(()=>[u("span",{innerHTML:t.tooltip},null,8,$r)]),_:1})):F("",!0)],2),u("div",Cr,[j(t.$slots,"label",{},()=>[u("div",Ar,I(t.label),1)],!0),j(t.$slots,"label-second",{},()=>[u("div",Sr,I(t.labelSecond),1)],!0)])],2)}}}),me=V(Lr,[["__scopeId","data-v-c4934141"]]),Tr={key:0,class:"async-value"},Ir="|/-\\",X=T({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,a=0;const o=q("|"),n=b(()=>e.value?N(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?o.value:"?"),i=b(()=>e.precision===1/0?"":!e.value||!e.type||!isFinite(e.value)?e.showUnit&&e.type?x(0,e.type):"":x(e.value,e.type));return Q(()=>e.value,l=>{if(clearInterval(a),t=0,l)return;const r=()=>{t=(t+1)%4,o.value=Ir[t]};a=window.setInterval(r,250)},{immediate:!0}),(l,r)=>l.inline?(h(),A(Y,{key:1},[U(I(l.showSymbol&&l.type==="dollar"?"$":"")+I(s(n))+I(l.showUnit?s(i):""),1)],64)):(h(),A("div",Tr,I(l.showSymbol&&l.type==="dollar"?"$":"")+I(s(n))+I(l.showUnit?s(i):""),1))}}),Vr=["crvusd","lending","pools","router","dao"];function $e(e){const[t,a]=e.split("T"),[o,n,i]=t.split("-").map(Number),[l,r,c]=a.split(":").map(Number);return Date.UTC(o,n-1,i,l,r,c)/1e3}const qr=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],Pr="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Fr="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",Br="/assets/arbitrum-Z8VMulXH.png",Dr="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Mr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Ur="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",Rr="/assets/moonbeam-CHDPiRRO.png",Er="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",Or="/assets/optimism-CcABTbCu.png",xr="/assets/base-AohAhS4D.webp",Wr="/assets/polygon-GPEdhIuq.png",Nr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Aa(e){return{ethereum:Pr,arbitrum:Br,optimism:Or,fantom:Dr,avalanche:Fr,xdai:Mr,matic:Er,harmony:Ur,moonbeam:Rr,base:xr,polygon:Wr,fraxtal:Nr,all:""}[e]}const Kr=e=>e.data.map(t=>t.name).filter(t=>qr.includes(t)),Hr=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),Qr=e=>e.data.flatMap(t=>t.transactions.map(a=>({chain:t.chain,timestamp:$e(a.timestamp),type:a.type,transactions:a.transactions}))),zr=e=>e.data.flatMap(t=>t.users.map(a=>({chain:t.chain,timestamp:$e(a.timestamp),type:a.type,users:a.users}))),kt="https://prices.curve.fi";class jr extends Le{async getSupportedChains(){const t=await this.fetch(`${kt}/v1/chains/`);return Kr(t)}async getChainInfo(t){const a=await this.fetch(`${kt}/v1/chains/${t}?page=1&per_page=1`);return Hr(a)}async getTxs(){const t=await this.fetch(`${kt}/v1/chains/activity/transactions`);return Qr(t)}async getUsers(){const t=await this.fetch(`${kt}/v1/chains/activity/users`);return zr(t)}}const Ft=new jr;function Ya(){return{initialData:[],initialDataUpdatedAt:0}}function Gr(){return E({queryKey:["chains-supported"],queryFn:()=>Ft.getSupportedChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Ja(e){return E({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Ft.getChainInfo(t),enabled:b(()=>!!e.value)})}function Xr(){return E({queryKey:["chains-txs"],queryFn:()=>Ft.getTxs(),...Ya()})}function Zr(){return E({queryKey:["chains-users"],queryFn:()=>Ft.getUsers(),...Ya()})}const Yr=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),Jr=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),ei=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),ti=e=>({timestamp:$e(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),$t="https://prices.curve.fi";class ai extends Le{async getMarkets(t,a){return(await this.fetch(`${$t}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${a}&per_page=10`)).data.map(Yr)}async getSnapshots(t,a){return(await this.fetch(`${$t}/v1/crvusd/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Jr)}async getCrvUsdSupply(t){return(await this.fetch(`${$t}/v1/crvusd/markets/${t}/supply`)).data.map(ti)}async getKeepers(t){return(await this.fetch(`${$t}/v1/crvusd/pegkeepers/${t}`)).keepers.map(ei)}}const si=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),oi="https://prices.curve.fi";class es extends Le{async getOHLC(t,a,o,n){const l=Math.floor(new Date().getTime()/1e3),r=Math.floor(l-72e5),c=`${oi}/v1/ohlc/${t}/${xt(a)}?main_token=${xt(o)}&reference_token=${xt(n)}&agg_number=1&agg_units=day&start=${r}&end=${l}`;return(await this.fetch(c)).data.map(si)}}const Bt=new ai,ni=new es;function li(e){return b(()=>{var t;return(t=e.value)==null?void 0:t.address})}function Dt(){return{initialData:[],initialDataUpdatedAt:0}}function ri(e,t){return{enabled:b(()=>!!e.value&&!0)}}function ii(){return E({queryKey:["crvusd-supply"],queryFn:()=>Bt.getCrvUsdSupply("ethereum"),...Dt()})}function Mt(e){return E({queryKey:["crvusd-market-snapshots",li(e)],queryFn:({queryKey:[,t]})=>Bt.getSnapshots("ethereum",t),...ri(e),...Dt()})}function ci(e){return E({queryKey:["crvusd-keepers-prices",b(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async n=>{const i=n.pair.find(c=>c.symbol!=="crvUSD"),l=n.pair.find(c=>c.symbol==="crvUSD");return!i||!l?[]:(await ni.getOHLC("ethereum",n.pool_address,i.address,l.address)).map(c=>({time:c.time,price:(c.high+c.low)/2,coin:i.symbol}))}),o=(await Promise.all(t)).flat().groupBy(n=>n.time).entries().map(([n,i])=>({timestamp:Number(n),...Object.fromEntries(i.map(l=>[l.coin,l.price]))}));return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function ma(){return E({queryKey:["crvusd-markets"],queryFn:()=>Bt.getMarkets("ethereum",1),...Dt()})}function ts(){return E({queryKey:["crvusd-keepers"],queryFn:()=>Bt.getKeepers("ethereum"),...Dt()})}const ui={class:"kpis"},di=T({__name:"KPIs",setup(e){const t=new Ln,{data:a}=ma(),o=b(()=>a.value.reduce((c,d)=>c+d.borrowed,0)),{data:n}=Ja(q("ethereum")),i=b(()=>{var c;return((c=n.value)==null?void 0:c.total.tvl)??0}),l=b(()=>{var c;return((c=n.value)==null?void 0:c.total.tradingVolume24h)??0}),{data:r}=E({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(c=>c.price),initialData:0,initialDataUpdatedAt:0});return(c,d)=>{const p=X,v=me;return h(),A("div",ui,[m(v,{class:"border-special",label:"CRV Price","has-value":!!s(r)},{default:y(()=>[m(p,{value:s(r),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{class:"border-special",label:"crvUSD Borrowed","has-value":!!s(o)},{default:y(()=>[m(p,{value:s(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{class:"border-special",label:"Total Value Locked","has-value":!!s(i)},{default:y(()=>[m(p,{value:s(i),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{class:"border-special",label:"24h Volume","has-value":!!s(l)},{default:y(()=>[m(p,{value:s(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),pi=V(di,[["__scopeId","data-v-d7d3a3b2"]]),mi="/assets/telegram-DU4d4zRw.webp",vi={class:"telegram-body"},Ht="https://t.me/curve_monitor_backup",Qt="https://t.me/crvUSD_community_bot",hi=T({__name:"TelegramModal",emits:["close"],setup(e,{emit:t}){const a=t;function o(n){window.open(n,"_blank")}return(n,i)=>{const l=D,r=ft;return h(),S(r,{onClose:i[2]||(i[2]=c=>a("close"))},{default:y(()=>[u("div",vi,[m(l,{class:"border-special-hover",title:"Curve Monitor",onClick:i[0]||(i[0]=de(c=>o(Ht),["prevent"]))},{actions:y(()=>[u("a",{href:Ht},I(Ht))]),default:y(()=>[i[3]||(i[3]=u("div",{class:"item crvUSD"}," This Telegram channel provides real-time updates on crvUSD transactions, including loan activity, collateral movements, peg maintenance, and major asset swaps on the Ethereum blockchain. It's a valuable resource for staying informed about crvUSD market dynamics and related metrics. ",-1))]),_:1}),m(l,{class:"border-special-hover",title:"crvUSD",onClick:i[1]||(i[1]=de(c=>o(Qt),["prevent"]))},{actions:y(()=>[u("a",{href:Qt},I(Qt))]),default:y(()=>[i[4]||(i[4]=u("div",{class:"item crvUSD"},[U(" Health Monitoring bot for Curve LlamaLend positions: "),u("ul",null,[u("li",null,[U("/add "),u("em",null,"address"),U(" - Add an Ethereum address")]),u("li",null,[U("/remove "),u("em",null,"address"),U(" - Remove an Ethereum address")]),u("li",null,"/list - List all your Ethereum addresses"),u("li",null,"/removeAll - Remove all your Ethereum addresses"),u("li",null,"/gib - Prints all your health stats"),u("li",null,"/help - Show help message and some QoL commands")])],-1))]),_:1})])]),_:1})}}}),fi=V(hi,[["__scopeId","data-v-ea0e5a1f"]]),_i={class:"telegram"},gi=T({__name:"Telegram",setup(e){const t=q(!1);return(a,o)=>{const n=D;return h(),A("div",_i,[m(n,{class:"border-special",onClick:o[0]||(o[0]=i=>t.value=!0)},{default:y(()=>o[2]||(o[2]=[u("div",{class:"telegram-card"},[u("picture",null,[u("img",{class:"llama",src:mi})]),u("div",{class:"info"},[U(" Try our "),u("strong",null,"Telegram"),U(" bots and monitor channels to get notified about the latest liquidations and events. ")])],-1)])),_:1}),m(fi,{show:s(t),onClose:o[1]||(o[1]=i=>t.value=!1)},null,8,["show"])])}}}),yi=V(gi,[["__scopeId","data-v-6ad2576e"]]),bi=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function wi(e,t){const a=Math.round(e.value/1e3)-t;for(const{unit:o,seconds:n}of bi)if(a>=n){const i=Math.round(a/n);return`${i} ${i===1?o:o+"s"} ago`}return"just now"}function Ie(){const e=q(Date.now());return ke(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:a=>wi(e,a)}}const ki={class:"articles"},$i={class:"articles-cards"},Ci={class:"article"},Ai={class:"date"},Si={class:"article"},Li={class:"date"},Ti={class:"article"},Ii={class:"date"},Vi={class:"article"},qi={class:"date"},Pi=T({__name:"Articles",setup(e){const{relativeTime:t}=Ie();function a(o){window.open(o,"_blank")}return(o,n)=>{const i=D;return h(),A("div",ki,[n[16]||(n[16]=u("div",{class:"title"},"Articles",-1)),u("div",$i,[m(i,{class:"border-special-hover",onClick:n[0]||(n[0]=l=>a("https://blog.curvemonitor.com/posts/curve-users/"))},{default:y(()=>[u("div",Ci,[n[4]||(n[4]=u("div",{class:"title"},"Who are Curve's Users?",-1)),n[5]||(n[5]=u("div",{class:"description"}," A look at the differences between users of Curve's products ",-1)),u("div",Ai,I(s(t)(1723586400)),1),n[6]||(n[6]=u("div",{class:"read"},[u("a",{href:"https://blog.curvemonitor.com/posts/curve-users/",target:"_blank"}," Read now ")],-1))])]),_:1}),m(i,{class:"border-special-hover",onClick:n[1]||(n[1]=l=>a("https://blog.curvemonitor.com/posts/exchange-received/"))},{default:y(()=>[u("div",Si,[n[7]||(n[7]=u("div",{class:"title"},"How to Do Cheaper, Approval-Free Swaps",-1)),n[8]||(n[8]=u("div",{class:"description"}," A deep dive into the exchange_received function on NG pools which allows users to trade without approvals and can significantly reduce transaction gas costs. ",-1)),u("div",Li,I(s(t)(1711234800)),1),n[9]||(n[9]=u("div",{class:"read"},[u("a",{href:"https://blog.curvemonitor.com/posts/exchange-received/",target:"_blank"}," Read now ")],-1))])]),_:1}),m(i,{class:"border-special-hover",onClick:n[2]||(n[2]=l=>a("https://blog.curvemonitor.com/posts/ng-mev/"))},{default:y(()=>[u("div",Ti,[n[10]||(n[10]=u("div",{class:"title"},"Impact of Dynamic Fees on MEV Activity",-1)),n[11]||(n[11]=u("div",{class:"description"}," This post compares MEV activity on StableSwap NG pools and pools with the original implementation. It explains dynamic fees and their impact on certain types of MEV activity. ",-1)),u("div",Ii,I(s(t)(1710025200)),1),n[12]||(n[12]=u("div",{class:"read"},[u("a",{href:"https://blog.curvemonitor.com/posts/ng-mev/",target:"_blank"}," Read now ")],-1))])]),_:1}),m(i,{class:"border-special-hover",onClick:n[3]||(n[3]=l=>a("https://blog.curvemonitor.com/posts/parameter-ramping/"))},{default:y(()=>[u("div",Vi,[n[13]||(n[13]=u("div",{class:"title"},"Parameter Ramping",-1)),n[14]||(n[14]=u("div",{class:"description"}," Why aren't parameter changes on Curve pools applied instantly? This post dwelves into the reasons behind gradual parameter changes. ",-1)),u("div",qi,I(s(t)(1707606e3)),1),n[15]||(n[15]=u("div",{class:"read"},[u("a",{href:"https://blog.curvemonitor.com/posts/parameter-ramping/",target:"_blank"}," Read now ")],-1))])]),_:1})])])}}}),Fi=V(Pi,[["__scopeId","data-v-2322b1cd"]]),Bi={class:"dashboard"},Di={class:"highlights"},Mi=T({__name:"Home.page",setup(e){return(t,a)=>(h(),A("div",Bi,[a[0]||(a[0]=u("div",{class:"description"},[u("span",{class:"title"},"Curve Monitor"),u("span",{class:"tag"}," Airdropping knowledge bombs about the Curve ecosystem. ")],-1)),a[1]||(a[1]=u("img",{class:"llama",src:_r},null,-1)),u("div",Di,[m(pi),m(yi)]),m(Fi,{style:{"grid-area":"articles"}})]))}}),Ui=V(Mi,[["__scopeId","data-v-907b704e"]]),Ri={class:"item"},Ei=["src"],Oi={key:1,class:"empty"},xi={class:"label"},Wi=T({__name:"SelectChain",props:{chain:{},chains:{},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const a=t,o=b(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(r=>e.chains.includes(r.chain))),n=b(()=>o.value.find(r=>r.chain===e.chain)??o.value[0]),i=r=>r.label,l=r=>{a("select-chain",r.chain)};return(r,c)=>{const d=Je;return h(),S(d,{options:s(o),selected:s(n),onInput:l},{item:y(({item:p})=>[u("div",Ri,[s(Aa)(p.chain)?(h(),A("img",{key:0,src:s(Aa)(p.chain)},null,8,Ei)):(h(),A("div",Oi)),u("div",xi,I(i(p)),1)])]),_:1},8,["options","selected"])}}}),Ut=V(Wi,[["__scopeId","data-v-cb4fd41f"]]),Ni=(e,t)=>{const{colors:a}=t;return{width:e.clientWidth,height:e.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:wo.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:ko.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ee(e){const t=H();return a=>b(()=>{const o=Ni(a,t.value);return e?ua(o,R(e).value):o})}const fe=T({__name:"BtnChartLWExport",props:{filename:{},series:{}},setup(e){function t(n){if(typeof n=="number")return n;if(typeof n=="string")return Math.floor(new Date(n).getTime()/1e3);if(typeof n=="object"&&"year"in n){const{year:i,month:l,day:r}=n;return Math.floor(new Date(i,l-1,r).getTime()/1e3)}throw new Error("Invalid time format")}function a(n){return Object.entries(n).map(([i,l])=>({column:i,data:((l==null?void 0:l.data())??[]).map(r=>({time:t(r.time),value:"value"in r?r.value:0}))}))}function o(){const n=a(e.series),i=n.flatMap(v=>v.data.map(g=>({column:v.column,data:g}))).groupBy(v=>v.data.time).entries().orderBy(([v])=>Number(v)).map(([v,g])=>{const f=g.orderBy(_=>_.column).map(_=>_.data.value).join(";");return`${v};${f}`}),r=["time;"+n.map(v=>v.column).orderBy(v=>v).join(";"),...i].join(`
`),c=new Blob([r],{type:"text/csv;charset=utf-8"}),d=URL.createObjectURL(c),p=document.createElement("a");p.href=d,p.download=`${e.filename}.csv`,p.style.display="none",document.body.appendChild(p),p.click(),document.body.removeChild(p),URL.revokeObjectURL(d)}return(n,i)=>{const l=ce;return h(),S(l,{onClick:o},{default:y(()=>i[0]||(i[0]=[u("i",{class:"fas fa-download"},null,-1)])),_:1})}}}),Ki={ref:"modal",class:"fullscreen-content"},Hi=T({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const a=t,o=ne("modal");let n=null,i=null;Q(o,(c,d)=>{e.target&&(c?l(e.target,c):d&&n&&r(e.target,n,d))});function l(c,d){n=c.parentNode,i=c.nextSibling,n&&(a("enterBefore",d),n.removeChild(c),d.appendChild(c),a("enter",d))}function r(c,d,p){a("exitBefore",p),p.removeChild(c),i?d.insertBefore(c,i):d.appendChild(c),a("exit",p)}return(c,d)=>{const p=ft;return h(),S(p,null,{default:y(()=>[u("div",Ki,null,512)]),_:1})}}}),as=V(Hi,[["__scopeId","data-v-a97cda79"]]),_e=T({__name:"BtnChartLWFullscreen",props:{chart:{},target:{default:null}},setup(e){const t=q(!1);let a=0,o=0;function n(){const l=e.chart.chartElement().parentElement;a=(l==null?void 0:l.clientHeight)??0,o=(l==null?void 0:l.clientWidth)??0}function i(){e.chart.applyOptions({height:a,width:o})}return(l,r)=>{const c=as,d=ce;return h(),S(d,{disabled:!l.chart,onClick:r[1]||(r[1]=p=>t.value=!s(t))},{default:y(()=>{var p;return[r[2]||(r[2]=u("i",{class:"fas fa-expand"},null,-1)),m(c,{target:(p=l.target)==null?void 0:p.$el,show:s(t),onClose:r[0]||(r[0]=v=>t.value=!1),onEnterBefore:n,onExit:i},null,8,["target","show"])]}),_:1},8,["disabled"])}}});function te(e){const{createChartOptions:t,series:a}=e,o={},n=Array.isArray(a)?a:[a],i=ne("chartRef"),l=na(void 0);ct(i,(r,c,d)=>{const p=t(r);l.value=$o(r,p.value);for(const g of n){const f=Qi(l.value,g);o[g.name]=f}const v=Q(p,g=>{var f;(f=l.value)==null||f.applyOptions(g)});d(()=>{v(),l.value=void 0})}),Co(b(()=>{var r;return(r=i.value)==null?void 0:r.parentElement}),r=>{var d,p;const c=r[0].target;(d=l.value)==null||d.applyOptions({width:c.clientWidth,height:c.clientHeight}),(p=l.value)==null||p.timeScale().fitContent()});for(const{name:r,options:c}of n)Q(c,d=>{const p=o[r];p==null||p.applyOptions(d)});return{chart:l,chartRef:i,series:o}}function Qi(e,{type:t,options:a}){return{Area:e.addAreaSeries.bind(e),Bar:e.addBarSeries.bind(e),Baseline:e.addBaselineSeries.bind(e),Line:e.addLineSeries.bind(e),Candlestick:e.addCandlestickSeries.bind(e),Histogram:e.addHistogramSeries.bind(e)}[t](a.value)}const zi={style:{display:"flex"}},ji={ref:"chartRef",class:"chart"},Gi=T({__name:"ChartTxs",props:{txs:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Area",name:"txs",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`${N(l,0,"dollar")}${x(l,"dollar")}`,minMove:.01},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.txs)return;const l=e.txs.map(r=>({time:r.timestamp,value:r.count})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");n.txs.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Transactions"},{actions:y(()=>[u("div",zi,[m(s(fe),{filename:"txs",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",ji,null,512)]),_:1},512)}}}),Xi={style:{display:"flex"}},Zi={ref:"chartRef",class:"chart"},Yi=T({__name:"ChartUsers",props:{users:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Area",name:"users",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`${N(l,0,"dollar")}${x(l,"dollar")}`,minMove:.01},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.users)return;const l=e.users.map(r=>({time:r.timestamp,value:r.count})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");n.users.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Users"},{actions:y(()=>[u("div",Xi,[m(s(fe),{filename:"users",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",Zi,null,512)]),_:1},512)}}}),Ji=T({__name:"ChartApex",props:{options:{},series:{}},setup(e){const t=Ao(()=>So(()=>import("./vue3-apexcharts-CFDVq8Xr.js"),__vite__mapDeps([0,1])));return(a,o)=>(h(),S(s(t),{class:"chart",height:"100%",options:a.options,series:a.series},null,8,["options","series"]))}}),Ve=V(Ji,[["__scopeId","data-v-15ef6603"]]),ec={class:"legend"},tc=["onClick"],ac={class:"label"},sc=T({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const a=t;return(o,n)=>(h(),A("div",ec,[(h(!0),A(Y,null,oe(o.items,i=>(h(),A("div",{key:i.id,class:M(["item",{togglable:i.togglable,disabled:o.disabled.includes(i.id)}]),onClick:l=>{i.togglable&&a("toggle",i.id)}},[u("div",{class:"color",style:pt({"background-color":i.color})},null,4),u("div",ac,I(i.label),1)],10,tc))),128))]))}}),Ae=V(sc,[["__scopeId","data-v-2949a830"]]),oc=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function qe(e,t){t??(t=H());const a=oc(t.value);return e?ua(a,e):a}function Se(e){const t=b(e),a=Lo(To(Object.fromEntries(t.value.map(n=>[n.id,!0])))),o=b(()=>t.value.filter(n=>!a[n.id].value).map(n=>n.id));return{items:t,toggles:a,disabled:o}}const nc=T({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const t=H(),a=b(()=>`Top Chains (${e.type==="all"?"All Types":ht(e.type)})`),{items:o,toggles:n,disabled:i}=Se(()=>{const{blue:_,yellow:w}=t.value.colors;return[{id:"txs",label:"Transactions",color:_,togglable:!0},{id:"users",label:"Users",color:w,togglable:!0}]});function l(_){return _.groupBy(w=>w.chain).entries().map(([w,k])=>{const C=k.reduce(($,L)=>$+L.value,0);return{chain:w,count:C}}).orderBy(w=>w.count,"desc")}const r=b(()=>{const{colors:_}=t.value;return qe({chart:{type:"bar",animations:{enabled:!1}},colors:[_.blue,_.yellow],xaxis:{categories:p.value,labels:{formatter:g}},yaxis:{labels:{formatter:f}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=b(()=>n.txs.value?l(e.txs):[]),d=b(()=>n.users.value?l(e.users):[]),p=b(()=>c.value.concat(d.value).orderBy(_=>_.count,"desc").map(_=>_.chain).uniq()),v=b(()=>{const _=p.value.map(k=>{const C=c.value.find($=>$.chain===k);return C?C.count:0}),w=p.value.map(k=>{const C=d.value.find($=>$.chain===k);return C?C.count:0});return[{data:n.txs.value?_:[]},{data:n.users.value?w:[]}]}),g=_=>_,f=_=>`${N(_,0,"dollar")}${x(_,"dollar")}`;return(_,w)=>{const k=Ae,C=Ve,$=D;return h(),S($,{title:s(a)},{"actions-secondary":y(()=>[m(k,{items:s(o),disabled:s(i),onToggle:w[0]||(w[0]=L=>s(n)[L].value=!s(n)[L].value)},null,8,["items","disabled"])]),default:y(()=>[m(C,{options:s(r),series:s(v)},null,8,["options","series"])]),_:1},8,["title"])}}}),lc=V(nc,[["__scopeId","data-v-1a901038"]]),rc=T({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const t=H(),a=b(()=>`Top Types (${e.chain==="all"?"All Chains":ht(e.chain)})`),{items:o,toggles:n,disabled:i}=Se(()=>{const{blue:_,yellow:w}=t.value.colors;return[{id:"txs",label:"Transactions",color:_,togglable:!0},{id:"users",label:"Users",color:w,togglable:!0}]});function l(_){return _.groupBy(w=>w.type).entries().map(([w,k])=>{const C=k.reduce(($,L)=>$+L.value,0);return{type:w,count:C}}).orderBy(w=>w.count,"desc")}const r=b(()=>{const{colors:_}=t.value;return qe({chart:{type:"bar",animations:{enabled:!1}},colors:[_.blue,_.yellow],xaxis:{categories:p.value,labels:{formatter:g}},yaxis:{labels:{formatter:f}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=b(()=>n.txs.value?l(e.txs):[]),d=b(()=>n.users.value?l(e.users):[]),p=b(()=>c.value.concat(d.value).orderBy(_=>_.count,"desc").map(_=>_.type).uniq()),v=b(()=>{const _=p.value.map(k=>{const C=c.value.find($=>$.type===k);return C?C.count:0}),w=p.value.map(k=>{const C=d.value.find($=>$.type===k);return C?C.count:0});return[{data:n.txs.value?_:[]},{data:n.users.value?w:[]}]}),g=_=>_,f=_=>`${N(_,0,"dollar")}${x(_,"dollar")}`;return(_,w)=>{const k=Ae,C=Ve,$=D;return h(),S($,{title:s(a)},{"actions-secondary":y(()=>[m(k,{items:s(o),disabled:s(i),onToggle:w[0]||(w[0]=L=>s(n)[L].value=!s(n)[L].value)},null,8,["items","disabled"])]),default:y(()=>[m(C,{options:s(r),series:s(v)},null,8,["options","series"])]),_:1},8,["title"])}}}),ic=V(rc,[["__scopeId","data-v-95c899d1"]]),cc={class:"item"},uc={class:"label"},dc=T({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const a=t,o=["all",...Vr],n=q("all");function i(r){switch(r){case"all":return"All Types";case"crvusd":return"crvUSD";case"lending":return"Lending";case"pools":return"Pools";case"router":return"Router";case"dao":return"DAO"}}function l(r){n.value=r,a("select",n.value)}return(r,c)=>{const d=Je;return h(),S(d,{options:o,selected:s(n),onInput:l},{item:y(({item:p})=>[u("div",cc,[u("div",uc,I(i(p)),1)])]),_:1},8,["selected"])}}}),pc=V(dc,[["__scopeId","data-v-bca8c2aa"]]),mc={class:"dashboard"},vc={class:"toolbar"},hc={class:"activity dashboard-grid"},fc=T({__name:"Chains.page",setup(e){const{show:t}=xe(Te());ke(()=>{t.value=!1});const a=be("chain"),o=b({get(){return a.value?a.value:"all"},set(O){a.value=O}}),n=b(()=>{const O=d.value.map(ae=>ae.chain).concat(v.value.map(ae=>ae.chain)).concat(o.value!=="all"?[o.value]:[]).uniq().orderBy(ae=>ae,"asc"),pe=["ethereum"],ue=O.difference(pe).orderBy(ae=>ae,"asc");return["all",...pe,...ue]}),i=be("type"),l=b({get(){return i.value?i.value:"all"},set(O){i.value=O}}),r=O=>{l.value=O},{isFetching:c,data:d}=Xr(),{isFetching:p,data:v}=Zr();function g(O,pe,ue,ae){return O.filter(se=>pe==="all"?!0:se.chain===pe).filter(se=>ue==="all"?!0:se.type===ue).groupBy(se=>se.timestamp).entries().map(([se,Ke])=>{const De=Ke.reduce((lt,Et)=>lt+ae(Et),0);return{timestamp:Number(se),count:De}})}const f=b(()=>g(d.value,o.value,l.value,O=>O.transactions)),_=b(()=>g(v.value,o.value,l.value,O=>O.users));function w(O){const ae=Math.floor(Date.now()/1e3)-7*24*60*60,Ke=O.filter(De=>De.timestamp>=ae).reduce((De,lt)=>De+lt.count,0);return Math.round(Ke/7)}const k=b(()=>{var O;return((O=f.value.at(-1))==null?void 0:O.count)??0}),C=b(()=>w(f.value)),$=b(()=>{var O;return((O=_.value.at(-1))==null?void 0:O.count)??0}),L=b(()=>w(_.value));function B(O,pe,ue,ae){return O.filter(se=>pe==="all"?!0:se.chain===pe).filter(se=>ue==="all"?!0:se.type===ue).map(se=>({chain:se.chain,type:se.type,value:ae(se)}))}const P=b(()=>B(d.value,"all",l.value,O=>O.transactions)),K=b(()=>B(v.value,"all",l.value,O=>O.users)),W=b(()=>B(d.value,o.value,"all",O=>O.transactions)),Ne=b(()=>B(v.value,o.value,"all",O=>O.users));return(O,pe)=>{const ue=X,ae=me;return h(),A("div",mc,[(h(),S(Vt,{to:"#toolbar"},[u("div",vc,[m(s(pc),{style:{"grid-area":"type"},onSelect:r}),m(Ut,{style:{"grid-area":"chain"},class:"chain-select",chain:s(o),chains:s(n),all:!0,onSelectChain:pe[0]||(pe[0]=se=>o.value=se)},null,8,["chain","chains"])])])),u("div",hc,[m(ae,{style:{"grid-area":"kpi1"},label:"Transactions Today","has-value":!!s(c)},{default:y(()=>[m(ue,{type:"dollar",value:s(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ae,{style:{"grid-area":"kpi2"},label:"Avg Transactions / 7 Days","has-value":!!s(c)},{default:y(()=>[m(ue,{type:"dollar",value:s(C),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ae,{style:{"grid-area":"kpi3"},label:"Avg Users / 7 Days","has-value":!!s(p)},{default:y(()=>[m(ue,{type:"dollar",value:s($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ae,{style:{"grid-area":"kpi4"},label:"Users Today","has-value":!!s(p)},{default:y(()=>[m(ue,{type:"dollar",value:s(L),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(s(Gi),{style:{"grid-area":"txs"},txs:s(f),loading:s(c)},null,8,["txs","loading"]),m(s(Yi),{style:{"grid-area":"users"},users:s(_),loading:s(p)},null,8,["users","loading"]),m(s(lc),{style:{"grid-area":"top-chains"},type:s(l),txs:s(P),users:s(K),loading:s(c)||s(p)},null,8,["type","txs","users","loading"]),m(s(ic),{style:{"grid-area":"top-types"},chain:s(o),txs:s(W),users:s(Ne),loading:s(c)||s(p)},null,8,["chain","txs","users","loading"])])])}}}),_c=V(fc,[["__scopeId","data-v-e8ecb591"]]),gc={class:"input-text"},yc={key:0,class:"icon"},bc=["type","value","placeholder"],wc=["onClick"],kc=T({__name:"InputText",props:Oe({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Oe(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const a=mt(e,"modelValue"),o=t,n=b(()=>{const l=e.options.filter(c=>e.filter(a.value,c));return e.sort?[...l].sort(e.sort):l}),i=l=>{const r=l.target.value;a.value=r,o("input",r)};return(l,r)=>(h(),A("div",gc,[l.search?(h(),A("span",yc,r[1]||(r[1]=[u("i",{class:"fas fa-search"},null,-1)]))):F("",!0),u("input",{type:l.search?"search":"text",value:a.value,placeholder:l.placeholder,onInput:de(i,["stop"]),onSelect:r[0]||(r[0]=de(()=>{},["stop"]))},null,40,bc),l.options&&l.autoComplete?(h(),A("div",{key:1,class:M(["items",{selectHide:!l.autoComplete}])},[(h(!0),A(Y,null,oe(s(n),(c,d)=>(h(),A("div",{key:d,onClick:p=>o("select",c)},[j(l.$slots,"item",{item:c,idx:d},()=>[U(I(c),1)],!0)],8,wc))),128))],2)):F("",!0)]))}}),ge=V(kc,[["__scopeId","data-v-90d9096f"]]),$c=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),Sa=e=>{var t,a;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((a=e.pool_methods)==null?void 0:a.map(o=>o))??[]}},Cc=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),Ac=e=>({timestamp:e.timestamp,tvlUSD:e.tvl_usd??0,balances:[...e.balances],tokenPrices:[...e.token_prices]}),zt="https://prices.curve.fi";class Sc extends Xa{async getPools(t){const a=await this.getHost(),o=await this.fetch(`${a}/chains/${t}`);return{chain:o.chain,totals:$c(o.total),pools:o.data.map(Sa)}}async getPool(t,a){const o=await this.fetch(`${zt}/v1/pools/${t}/${a}`);return Sa(o)}async getVolume(t,a){const n=Math.floor(new Date().getTime()/1e3),i=Math.floor(n-72e5);return(await this.fetch(`${zt}/v1/volume/usd/${t}/${a}?interval=day&start=${i}&end=${n}`)).data.map(Cc)}async getTvl(t,a){const n=Math.floor(new Date().getTime()/1e3),i=Math.floor(n-72e5);return(await this.fetch(`${zt}/v1/snapshots/${t}/${a}/tvl?interval=day&start=${i}&end=${n}`)).data.map(Ac)}}const Lc=["cb","laf","cm","pm","pm-lrt"];function Tc(){const e="cm";if(!Lc.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Ce({text:t,type:"error"}),new Error(t)}return e}const Ct={};function Ic(e){return $n[e]}async function ss(e){const t=Tc(),a=t;if(Ct[a])return Promise.resolve(Ct[a]);const o=Ic(t);return Ct[a]=o,Ct[a]}const _t=new Sc(ss());function Vc(e){return E({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>_t.getPools(t),placeholderData:qt,enabled:b(()=>!!e.value)})}function qc(e,t){return E({queryKey:["curve-pool",t],queryFn:async({queryKey:[,a]})=>_t.getPool(e.value,a),enabled:b(()=>!!e.value)})}function Pc(e,t){const a=b(()=>t.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>_t.getPool(e.value,o),enabled:b(()=>!!e.value)})));return Io({queries:a})}function Fc(e,t){return E({queryKey:["curve-pool-volume",t],queryFn:async({queryKey:[,a]})=>_t.getVolume(e.value,a),enabled:b(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}function Bc(e,t){return E({queryKey:["curve-pool-tvl",t],queryFn:async({queryKey:[,a]})=>_t.getTvl(e.value,a),enabled:b(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const Dc=["src"],Mc=["href"],Uc=["src"],Rc=T({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=q("");function a(i){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${i}.png`}const o=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};Q(()=>e.address,i=>{t.value=a(i.toLowerCase())},{immediate:!0});const n=b(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(i,l)=>i.clickable?(h(),A("a",{key:1,target:"_blank",href:s(n)},[u("img",{class:"token",src:s(t),onError:o},null,40,Uc)],8,Mc)):(h(),A("img",{key:0,class:"token",src:s(t),onError:o},null,40,Dc))}}),he=V(Rc,[["__scopeId","data-v-864e9394"]]),Ec={key:0},Oc={key:0},xc={key:1},Wc=T({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const a=t,o=b(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),n=b(()=>{const v=[...Array(12).keys()].map(C=>C-6+e.page).filter(C=>C>=1&&C<=o.value),g=v.findIndex(C=>C===e.page),f=[],_=[],w=e.page!==1&&e.page!==o.value?[e.page]:[];let k=1;for(;;){const C=v[g-k];if(C&&C!==1&&f.unshift(C),f.length+_.length+w.length>=5||k>v.length)break;const $=v[g+k];if($&&$!==o.value&&_.push($),k++,f.length+_.length+w.length>=5||k>v.length)break}return[...f,...w,..._]});Q(n,()=>{const d=i(e.page,1,o.value);e.page!==d&&a("page",d)});const i=(d,p,v)=>(v<p&&(v=p),Math.min(Math.max(d,p),v)),l=()=>{a("page",i(e.page-1,1,o.value))},r=()=>{a("page",i(e.page+1,1,o.value))},c=d=>{a("page",i(d,1,o.value))};return(d,p)=>{const v=ce;return s(o)>1?(h(),A("ul",Ec,[u("li",{class:M({active:d.page===1})},[m(v,{onClick:p[0]||(p[0]=g=>c(1))},{default:y(()=>p[2]||(p[2]=[U("1")])),_:1})],2),s(o)>2?(h(),A("li",Oc,[m(v,{onClick:l},{default:y(()=>p[3]||(p[3]=[u("i",{class:"fas fa-chevron-left"},null,-1)])),_:1})])):F("",!0),(h(!0),A(Y,null,oe(s(n),g=>(h(),A("li",{key:g,class:M({active:g===d.page})},[m(v,{onClick:f=>c(g)},{default:y(()=>[U(I(g),1)]),_:2},1032,["onClick"])],2))),128)),s(o)>2?(h(),A("li",xc,[m(v,{onClick:r},{default:y(()=>p[4]||(p[4]=[u("i",{class:"fas fa-chevron-right"},null,-1)])),_:1})])):F("",!0),s(o)>1?(h(),A("li",{key:2,class:M({active:d.page===s(o)})},[m(v,{onClick:p[1]||(p[1]=g=>c(s(o)))},{default:y(()=>[U(I(s(o)),1)]),_:1})],2)):F("",!0)])):F("",!0)}}}),Pe=V(Wc,[["__scopeId","data-v-dcbb1104"]]);function gt(e,t){const a=q(e),o=q("desc"),n=(l,r)=>{a.value=l,o.value=r},i=b(()=>({column:a.value,order:o.value}));return{sortColumn:a,sortOrder:o,sorting:i,onSort:n}}function yt(e,t){const a=q(1),o=b(()=>e.value.drop((a.value-1)*t).take(t)),n=i=>{a.value=i};return Q(o,i=>{i.length===0&&(a.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:a,rowsPage:o,onPage:n}}function va(){const e=q(1);return{page:e,onPage:a=>{e.value=a}}}const Nc={class:"tokens"},Kc={class:"end"},Hc={class:"end"},Qc={class:"end"},La=20,zc=T({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const a=t,o=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:n,onSort:i}=gt("tvl"),l=b(()=>e.pools.orderBy(v=>{switch(n.value.column){case"name":return v.name;case"volume":return v.tradingVolume24h;case"tvl":return v.tvlUsd;case"util":return p(v)}},n.value.order)),{page:r,rowsPage:c,onPage:d}=yt(l,La);function p(v){return v.tvlUsd!==0?100*v.tradingVolume24h/v.tvlUsd:0}return(v,g)=>{const f=Pe,_=he,w=X,k=G,C=D;return h(),S(C,{title:"Pools"},{actions:y(()=>[m(f,{"items-count":v.pools.length,"items-per-page":La,page:s(r),onPage:s(d)},null,8,["items-count","page","onPage"])]),default:y(()=>[m(k,{class:"pools-table","expand-side":"left",rows:s(c),columns:o,sorting:s(n),onSortColumn:s(i),onSelected:g[0]||(g[0]=$=>a("selected",$))},{row:y(({item:$})=>[u("div",Nc,[(h(!0),A(Y,null,oe($.coins,L=>(h(),S(_,{key:L.address,chain:v.chain,address:L.address},null,8,["chain","address"]))),128))]),u("div",null,I($.name),1),u("div",Kc,[m(w,{value:$.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Hc,[m(w,{value:$.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Qc,[m(w,{value:p($),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":y(()=>g[1]||(g[1]=[U("   ")])),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),jc=V(zc,[["__scopeId","data-v-5a260b37"]]),Gc={class:"dashboard"},Xc={class:"toolbar"},Zc=T({__name:"Pools.page",setup(e){const t=["ethereum","arbitrum"],a=be("chain"),o=b({get(){return a.value?a.value:"ethereum"},set(_){a.value=_}}),n=q(""),{isFetching:i,data:l}=Ja(o),{isFetching:r,data:c}=Vc(o),d=b(()=>{var _;return(((_=c.value)==null?void 0:_.pools)??[]).filter(w=>{const k=n.value.toLocaleLowerCase().split(" "),C=$=>k.some(L=>$.toLocaleLowerCase().includes(L));return C(w.name)||C(w.address)})}),{show:p,crumbs:v}=xe(Te());ke(()=>{p.value=!0,v.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const g=Ze(),f=async _=>{await g.push({name:"poolspool",params:{tab:"",chain:o.value,poolAddr:_.address}})};return(_,w)=>{const k=ge,C=X,$=me;return h(),A("div",Gc,[(h(),S(Vt,{to:"#toolbar"},[u("div",Xc,[m(k,{modelValue:s(n),"onUpdate:modelValue":w[0]||(w[0]=L=>ie(n)?n.value=L:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(Ut,{class:"chain-select",chain:s(o),chains:t,onSelectChain:w[1]||(w[1]=L=>o.value=L==="all"?"ethereum":L)},null,8,["chain"])])])),m($,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!s(i)},{default:y(()=>{var L;return[m(C,{value:((L=s(l))==null?void 0:L.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m($,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!s(i)},{default:y(()=>{var L;return[m(C,{value:((L=s(l))==null?void 0:L.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m($,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!s(i)},{default:y(()=>{var L;return[m(C,{value:((L=s(l))==null?void 0:L.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m($,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!s(i)},{default:y(()=>{var L;return[m(C,{value:((L=s(l))==null?void 0:L.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(s(jc),{style:{"grid-area":"pools"},chain:s(o),pools:s(d),loading:s(r),onSelected:f},null,8,["chain","pools","loading"])])}}}),Yc=V(Zc,[["__scopeId","data-v-4288131f"]]),Jc={class:"tab-view"},eu={class:"tab-headers"},tu=["onClick"],au={class:"tabs"},su=T({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const a=t,o=q(null),n=sa(),i=b(()=>(n.default?n.default():[]).filter(c=>c.props));Q(()=>e.active,r=>{o.value=r,a("tab",{tab:i.value[r],index:o.value})},{immediate:!0});const l=(r,c)=>{r.props.disabled||(o.value=c,a("tab",{tab:i.value[c],index:o.value}))};return(r,c)=>(h(),A("div",Jc,[u("ul",eu,[(h(!0),A(Y,null,oe(s(i),(d,p)=>(h(),A("li",{key:p,class:M(["tab-header",{active:s(o)===p,disabled:d.props.disabled}]),onClick:v=>l(d,p)},I(d.props.header),11,tu))),128))]),u("div",au,[(h(!0),A(Y,null,oe(s(i),(d,p)=>ia((h(),A("div",{key:p,class:"tab"},[(h(),S(oa(d)))])),[[Vo,s(o)===p]])),128))])]))}}),Fe=V(su,[["__scopeId","data-v-12478a85"]]),Be=T({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,a)=>j(t.$slots,"default")}}),ou=new es;function nu(e,t,a,o){return E({queryKey:["curve-token-price",t,a,o],queryFn:({queryKey:[,n,i,l]})=>ou.getOHLC(e.value,n,i,l),enabled:b(()=>!!e.value&&!!t.value&&!!a.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const lu=T({__name:"ButtonToggle",props:Oe({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Oe(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=mt(e,"modelValue"),o=t,n=()=>{const i=!a.value;a.value=i,o("change",i)};return(i,l)=>{const r=ce;return h(),S(r,{class:M({toggled:a.value}),onClick:n},{default:y(()=>[j(i.$slots,"default",{},()=>[i.icon?(h(),A("i",{key:0,class:M(["icon",i.icon])},null,2)):F("",!0),U(" "+I(i.value),1)],!0)]),_:3},8,["class"])}}}),et=V(lu,[["__scopeId","data-v-0389c1cb"]]),ru={class:"controls"},iu={ref:"chartRef",class:"chart"},cu=T({__name:"ChartPrice",props:{ohlc:{}},setup(e){const t=H(),a=q(!1);let o=1,n=0;const{chart:i,series:l}=te({createChartOptions:ee(),series:{type:"Candlestick",name:"ohlc",options:b(()=>{const{colors:d}=t.value;return{priceFormat:{type:"custom",formatter:c},upColor:d.green,borderUpColor:d.green,wickUpColor:d.green,downColor:d.red,borderDownColor:d.red,wickDownColor:d.red}})}});J(r);function r(){if(!i.value||!l.ohlc)return;const d=a.value?-1:1,p=e.ohlc.map(v=>({time:v.time,open:Math.pow(v.open,d),high:Math.pow(v.high,d),low:Math.pow(v.low,d),close:Math.pow(v.close,d)})).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc");p.length>0&&(l.ohlc.setData(p),n=Math.min(...p.map(v=>v.low)),o=Math.max(...p.map(v=>v.high))),i.value.timeScale().fitContent()}function c(d){const p=o-n,v=p>1?p-Math.floor(p):p,g=-Math.floor(Math.log10(v)+1)+2;return`${N(d,g,"dollar")}${x(d,"dollar")}`}return(d,p)=>{const v=et,g=D;return h(),S(g,{title:"Price"},{actions:y(()=>[u("div",ru,[m(v,{value:"Invert","model-value":s(a),onClick:p[0]||(p[0]=f=>a.value=!s(a))},null,8,["model-value"])])]),default:y(()=>[u("div",iu,null,512)]),_:1})}}}),uu=V(cu,[["__scopeId","data-v-5fcf5db1"]]),du={style:{display:"flex"}},pu={ref:"chartRef",class:"chart"},mu=T({__name:"ChartVolume",props:{volume:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Area",name:"volume",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`$${N(l,1,"dollar")}${x(l,"dollar")}`},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.volume)return;const l=e.volume.map(r=>({time:r.timestamp,value:r.volume})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");l.length>0&&n.volume.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Volume"},{actions:y(()=>[u("div",du,[m(s(fe),{filename:"volume",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",pu,null,512)]),_:1},512)}}}),vu={style:{display:"flex"}},hu={ref:"chartRef",class:"chart"},fu=T({__name:"ChartTvl",props:{tvl:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Area",name:"tvl",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`$${N(l,1,"dollar")}${x(l,"dollar")}`},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.tvl)return;const l=e.tvl.map(r=>({time:r.timestamp,value:r.tvl})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");l.length>0&&n.tvl.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"TVL"},{actions:y(()=>[u("div",vu,[m(s(fe),{filename:"tvl",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",hu,null,512)]),_:1},512)}}}),_u={style:{display:"flex"}},gu={ref:"chartRef",class:"chart"},yu="chart_pool_balances_dollars",bu=T({__name:"ChartBalances",props:{balances:{}},setup(e){const t=H(),{items:a,toggles:o,disabled:n}=Se(()=>e.balances.map(({symbol:p},v)=>({id:p,label:p,color:t.value.colorsArray[v],togglable:!0}))),i=ne("card"),l=Ra(yu,!1),{chart:r,series:c}=te({createChartOptions:ee(),series:e.balances.map(({symbol:p},v)=>({type:"Line",name:p,options:b(()=>({priceFormat:{type:"custom",formatter:g=>`${N(g,1,"dollar")}${x(g,"dollar")}`},lineWidth:2,lineType:le.WithSteps,color:t.value.colorsArray[v],lastValueVisible:!1,priceLineVisible:!1}))}))});J(d);function d(){var p,v;if(!(!r.value||Object.values(c).length<0)){for(const{symbol:g,balances:f}of e.balances.values()){if(!o[g].value){(p=c[g])==null||p.setData([]);continue}const _=l.value,w=f.map(k=>({time:k.timestamp,value:_?k.balance*k.tokenPrice:k.balance})).uniqWith((k,C)=>k.time===C.time).orderBy(k=>k.time,"asc");w.length>0&&((v=c[g])==null||v.setData(w))}r.value.timeScale().fitContent()}}return(p,v)=>{const g=et,f=Ae,_=D;return h(),S(_,{ref_key:"card",ref:i,class:"stack-actions",title:"Balances"},{actions:y(()=>[u("div",_u,[m(g,{"model-value":s(l),onClick:v[0]||(v[0]=w=>l.value=!s(l))},{default:y(()=>v[2]||(v[2]=[u("i",{class:"fas fa-dollar-sign"},null,-1)])),_:1},8,["model-value"]),m(s(fe),{filename:"balances",series:s(c)},null,8,["series"]),m(s(_e),{chart:s(r),target:s(i)},null,8,["chart","target"])])]),"actions-secondary":y(()=>[m(f,{items:s(a),disabled:s(n),onToggle:v[1]||(v[1]=w=>s(o)[w].value=!s(o)[w].value)},null,8,["items","disabled"])]),default:y(()=>[u("div",gu,null,512)]),_:1},512)}}}),wu={class:"dashboard-grid"},ku={class:"tokens"},$u=T({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const t=b(()=>{var f;return(f=e.pool)==null?void 0:f.address}),a=b(()=>{var f;return(f=e.pool)==null?void 0:f.coins[0].address}),o=b(()=>{var f;return(f=e.pool)==null?void 0:f.coins[1].address}),{isFetching:n,data:i}=nu(R(()=>e.chain),t,a,o),{isFetching:l,data:r}=Fc(R(()=>e.chain),t),{isFetching:c,data:d}=Bc(R(()=>e.chain),t),p=b(()=>r.value.map(f=>({timestamp:f.timestamp,volume:f.volume}))),v=b(()=>d.value.map(f=>({timestamp:f.timestamp,tvl:f.tvlUSD}))),g=b(()=>e.pool?(console.log(e.pool),e.pool.coins.map(f=>({symbol:f.symbol,balances:d.value.map(_=>({timestamp:_.timestamp,balance:_.balances[f.poolIndex],tokenPrice:_.tokenPrices[f.poolIndex]}))}))):[]);return(f,_)=>{const w=he,k=me,C=X;return h(),A("div",wu,[m(k,{style:{"grid-area":"kpi1"},label:"Tokens","has-value":!!f.pool},{default:y(()=>{var $;return[u("div",ku,[(h(!0),A(Y,null,oe((($=f.pool)==null?void 0:$.coins)??[],L=>(h(),S(w,{key:L.address,chain:f.chain,address:L.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["has-value"]),m(k,{style:{"grid-area":"kpi2"},label:"TVL","has-value":!!f.pool},{default:y(()=>{var $;return[m(C,{value:(($=f.pool)==null?void 0:$.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(k,{style:{"grid-area":"kpi3"},label:"Volume (24h)","has-value":!!f.pool},{default:y(()=>{var $;return[m(C,{value:(($=f.pool)==null?void 0:$.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(k,{style:{"grid-area":"kpi4"},label:"Fees (24h)","has-value":!!f.pool},{default:y(()=>{var $;return[m(C,{value:(($=f.pool)==null?void 0:$.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(s(uu),{style:{"grid-area":"price"},ohlc:s(i),loading:s(n)},null,8,["ohlc","loading"]),m(s(mu),{style:{"grid-area":"volume"},volume:s(p),loading:s(l)},null,8,["volume","loading"]),m(s(fu),{style:{"grid-area":"tvl"},tvl:s(v),loading:s(c)},null,8,["tvl","loading"]),m(s(bu),{style:{"grid-area":"balances"},balances:s(g),loading:s(c)},null,8,["balances","loading"])])}}}),Cu=V($u,[["__scopeId","data-v-849993c3"]]),Au={},Su={class:"dashboard-grid"};function Lu(e,t){return h(),A("div",Su,"MEV goes here")}const Tu=V(Au,[["render",Lu],["__scopeId","data-v-62155a3e"]]);function tt(e,t,a){const o=Ze(),n=be("tab",e[0]),i=q(-1);return Q(n,l=>i.value=e.findIndex(r=>r===l),{immediate:!0}),Q(i,async l=>{l===-1&&(l=0),await o.push({name:t,params:{tab:e[l],...(a==null?void 0:a())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:i}}const Iu={class:"dashboard"},Vu=T({__name:"Pool.page",setup(e){const{show:t,crumbs:a}=xe(Te()),o=be("chain"),n=be("poolAddr"),{isFetching:i,data:l}=qc(o,n.value);Q(l,d=>{a.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ke(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:c}=tt(["overview","mev"],"poolspool",()=>({chain:o.value,poolAddr:n.value}));return(d,p)=>{const v=Ye,g=Be,f=Fe;return h(),A("div",Iu,[m(v,{class:M({loading:s(i)})},null,8,["class"]),!s(i)&&s(l)?(h(),S(f,{key:0,active:s(c),onTab:p[0]||(p[0]=_=>c.value=_.index)},{default:y(()=>[m(g,{header:"Overview"},{default:y(()=>[(h(),S(re,null,[s(r)==="overview"?(h(),S(Cu,{key:0,pool:s(l),chain:s(o)},null,8,["pool","chain"])):F("",!0)],1024))]),_:1}),m(g,{header:"MEV"},{default:y(()=>[(h(),S(re,null,[s(r)==="mev"?(h(),S(Tu,{key:0,pool:s(l),chain:s(o)},null,8,["pool","chain"])):F("",!0)],1024))]),_:1})]),_:1},8,["active"])):F("",!0)])}}}),qu=V(Vu,[["__scopeId","data-v-6d28dec3"]]),Pu=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),Fu=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),Bu=e=>({timestamp:$e(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),Du=e=>({timestamp:$e(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),Mu=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),Uu=e=>({timestamp:$e(e.timestamp),feesUsd:e.fees_usd}),Ru=e=>({timestamp:$e(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),Eu=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Ou=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Ta="https://api-py.llama.airforce/curve/v1",jt="https://prices.curve.fi";class xu extends Xa{async getByChain(t){return(await this.fetch(`${Ta}/protocol/revenue/chains`,void 0,t)).revenue.map(Pu)}async getTopPools(t,a=10){const o=t==="ethereum"?"mainnet":t;return(await this.fetch(`${Ta}/protocol/revenue/${o}/toppools/${a}`)).revenue.map(Fu)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(Bu)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(Du)}async getCushions(t){return(await this.fetch(`${jt}/v1/dao/fees/${t}/pending`)).data.map(Mu)}async getDistributions(){return await Qa(o=>this.fetch(`${jt}/v1/dao/fees/distributions?page=${o}&per_page=100`).then(n=>n.distributions.map(Uu)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${jt}/v1/dao/fees/settlements${t?"?timestamp="+t.toString():""}`)).data.map(Ru)}async getFeesCollected(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-collected`)).data.map(Eu)}async getFeesStaged(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-staged`)).data.map(Ou)}}const We=new xu(ss());function at(){return{initialData:[],initialDataUpdatedAt:0}}function Wu(e){return E({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>We.getCushions(t).then(a=>a.sort((o,n)=>n.usdValue-o.usdValue)),...at()})}function Nu(){return E({queryKey:["curve-revenue-distributions"],queryFn:()=>We.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function Ku(){return E({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>We.getCowSwapSettlements(),...at()})}function Hu(){return E({queryKey:["curve-revenue-crvusd-weekly"],queryFn:()=>We.getCrvUsdWeekly(),...at()})}function Qu(){return E({queryKey:["curve-revenue-pools-weekly"],queryFn:()=>We.getPoolsWeekly(),...at()})}function zu(){return E({queryKey:["curve-revenue-fees-collected"],queryFn:()=>We.getFeesCollected(),...at()})}function ju(){return E({queryKey:["curve-revenue-fees-staged"],queryFn:()=>We.getFeesStaged(),...at()})}const Gu=T({__name:"ChartBreakdown",setup(e){const t=H(),{items:a}=Se(()=>[{id:"crvusd",label:"crvUSD",color:t.value.colorsArray[0]},{id:"pools",label:"Pools",color:t.value.colorsArray[1]}]),{isFetching:o,data:n}=Hu(),{isFetching:i,data:l}=Qu(),r=b(()=>o.value||i.value),c=b(()=>{const{colors:_,colorsArray:w}={colors:t.value.colors,colorsArray:[t.value.colorsArray[0],t.value.colorsArray[1]]};return qe({chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:g.value,labels:{formatter:k=>k,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:k=>`$${N(k,0,"dollar")}${x(k,"dollar")}`},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}},q({colors:_,colorsArray:w}))});function d(_){return _.groupBy(w=>w.timestamp).entries().map(([w,k])=>{const C=k.reduce(($,L)=>$+L.feesUsd,0);return{timestamp:Number(w),feesUsd:C}}).orderBy(w=>w.timestamp,"asc")}const p=b(()=>{const _=d(n.value),w=d(l.value);return _.concat(w).groupBy(k=>k.timestamp).entries().map(([,k])=>({timestamp:k[0].timestamp,numLabels:k.length})).orderBy(k=>k.timestamp,"asc").dropWhile(k=>k.numLabels<2).map(k=>k.timestamp)});function v(_){return new Date(_*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"short"})}const g=b(()=>p.value.map(_=>v(_))),f=b(()=>{function _(C){return d(C).map($=>({x:v($.timestamp),y:$.feesUsd}))}const w={name:"crvusd",data:_(n.value)},k={name:"pools",data:_(l.value)};return[w,k]});return(_,w)=>{const k=Ae,C=Ve,$=D;return h(),S($,{title:"Revenue breakdown by source",loading:s(r)},{"actions-secondary":y(()=>[m(k,{items:s(a)},null,8,["items"])]),default:y(()=>[m(C,{options:s(c),series:s(f)},null,8,["options","series"])]),_:1},8,["loading"])}}}),Xu=V(Gu,[["__scopeId","data-v-9a4aeb75"]]),Zu={class:"dashboard-grid"},Yu=T({__name:"Overview",setup(e){return(t,a)=>(h(),A("div",Zu,[m(Xu,{style:{"grid-area":"breakdown"},class:"breakdown"})]))}}),Ju=V(Yu,[["__scopeId","data-v-02c55fde"]]),ed={class:"end"},td=T({__name:"TableDistributions",props:{distributions:{}},setup(e){const t=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:a,onSort:o}=gt("timestamp"),n=b(()=>e.distributions.orderBy(l=>{switch(a.value.column){case"timestamp":return l.timestamp;case"fees":return l.feesUsd}},a.value.order));function i(l){return new Date(l*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(l,r)=>{const c=X,d=G,p=D;return h(),S(p,{title:"Distributions"},{default:y(()=>[m(d,{class:"distributions-table",rows:s(n),columns:t,sorting:s(a),onSortColumn:s(o)},{row:y(({item:{timestamp:v,feesUsd:g}})=>[u("div",null,I(i(v)),1),u("div",ed,[m(c,{value:g,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),ad=V(td,[["__scopeId","data-v-a70c64e7"]]),sd={style:{display:"flex"}},od={ref:"chartRef",class:"chart"},nd=T({__name:"ChartDistributions",props:{distributions:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Histogram",name:"distributions",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`$${N(l,0,"dollar")}${x(l,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.distributions)return;const l=e.distributions.map(r=>({time:r.timestamp,value:r.feesUsd})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc").takeRight(52);if(l.length>0){n.distributions.setData(l);const r=l[0].time,c=l[l.length-1].time;o.value.timeScale().setVisibleRange({from:r,to:c})}}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Distributions (1y)"},{actions:y(()=>[u("div",sd,[m(s(fe),{filename:"distributions",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",od,null,512)]),_:1},512)}}}),ld={style:{display:"flex"}},rd={ref:"chartRef",class:"chart"},id=T({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Histogram",name:"deltas",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`$${N(l,0,"dollar")}${x(l,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.deltas)return;const{colors:l}=t.value,r=e.distributions.map(c=>({time:c.timestamp,value:c.feesUsd})).uniqWith((c,d)=>c.time===d.time).orderBy(c=>c.time,"asc").takeRight(53).reduce((c,d,p,v)=>{if(p===0)return c;const g=d.value-v[p-1].value,f=g<0?l.red:l.green;return c.push({time:d.time,value:g,color:f}),c},[]);if(r.length>0){n.deltas.setData(r);const c=r[0].time,d=r[r.length-1].time;o.value.timeScale().setVisibleRange({from:c,to:d})}}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Distributions Change (1y)"},{actions:y(()=>[u("div",ld,[m(s(fe),{filename:"distributions_delta",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",rd,null,512)]),_:1},512)}}}),cd={class:"dashboard-grid"},ud=T({__name:"Distributions",setup(e){const{isFetching:t,data:a}=Nu(),o=b(()=>a.value.sumBy(l=>l.feesUsd)),n=b(()=>a.value.orderBy(l=>l.timestamp,"desc").take(52).meanBy(l=>l.feesUsd)),i=b(()=>{const l=a.value.orderBy(d=>d.timestamp,"desc").take(52).map(d=>d.feesUsd),r=l.meanBy(d=>d),c=l.map(d=>Math.pow(d-r,2));return Math.sqrt(c.sumBy(d=>d)/(l.length-1))});return(l,r)=>{const c=X,d=me;return h(),A("div",cd,[m(d,{style:{"grid-area":"kpi1"},label:"Total","has-value":s(a).length>0},{default:y(()=>[m(c,{value:s(o),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi2"},label:"Average (1y)","has-value":s(a).length>0},{default:y(()=>[m(c,{value:s(n),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi3"},label:"Standard Deviation (1y)","has-value":s(a).length>0},{default:y(()=>[m(c,{value:s(i),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(nd,{style:{"grid-area":"chart"},distributions:s(a),loading:s(t)},null,8,["distributions","loading"]),m(id,{style:{"grid-area":"delta"},distributions:s(a),loading:s(t)},null,8,["distributions","loading"]),m(ad,{style:{"grid-area":"table"},distributions:s(a),loading:s(t)},null,8,["distributions","loading"])])}}}),dd=V(ud,[["__scopeId","data-v-6e2afc22"]]),pd=["href"],md={class:"end"},vd={class:"end"},hd=T({__name:"TableCushions",setup(e){const t=q(""),a=b(()=>i.value||c.value),o=q("ethereum"),{data:n,isFetching:i}=Gr(),l=b(()=>r.value.filter(p=>p.usdValue>100).filter(p=>{const v=t.value.toLocaleLowerCase().split(" "),g=f=>v.some(_=>f.toLocaleLowerCase().includes(_));return g(p.pool)||g(p.name)})),{data:r,isFetching:c}=Wu(o),d=p=>`https://etherscan.io/address/${p}`;return(p,v)=>{const g=ge,f=X,_=G,w=D;return h(),S(w,{class:"cushions-card",title:"Cushions",loading:s(a)},{actions:y(()=>[m(Ut,{class:"chain-select",chain:s(o),chains:s(n),onSelectChain:v[0]||(v[0]=k=>o.value=k==="all"?"ethereum":k)},null,8,["chain","chains"]),m(g,{modelValue:s(t),"onUpdate:modelValue":v[1]||(v[1]=k=>ie(t)?t.value=k:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:y(()=>[m(_,{class:"cushions-table",rows:s(l),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:y(({item:k})=>[u("div",null,I(k.name),1),u("div",null,[u("a",{class:"font-mono",href:d(k.pool),target:"_blank"},I(k.pool),9,pd)]),u("div",md,[m(f,{value:k.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[v[2]||(v[2]=u("div",null,null,-1)),v[3]||(v[3]=u("div",null,null,-1)),u("div",vd,[m(f,{value:s(l).reduce((k,C)=>k+C.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),fd=V(hd,[["__scopeId","data-v-e1ee21ed"]]),_d={class:"cushions"},gd=T({__name:"Cushions",setup(e){return(t,a)=>(h(),A("div",_d,[m(fd)]))}}),yd=V(gd,[["__scopeId","data-v-8ec0e1da"]]),bd=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[a,o])=>(t[a]=BigInt(o),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((a,[o,n])=>(a[o]=BigInt(n),a),{}),orders:t.orders.map(a=>({id:a.id,sellAmount:BigInt(a.sellAmount),buyAmount:BigInt(a.buyAmount)}))}))}),wd="https://api.cow.fi";class kd extends Le{async getCompetition(t){const a=await this.fetch(`${wd}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return bd(a)}}const $d=new kd;function Cd(e){return E({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>$d.getCompetition(t)})}const Ad={class:"settlement-details-body"},Sd={class:"info col"},Ld={class:"buttons"},Td={class:"font-mono json"},Id={key:0,class:"fas fa-trophy"},Vd={key:1},qd=["href"],Pd=T({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:a}=Cd(R(()=>e.settlement.txHash)),o=b(()=>t.value?JSON.stringify(t.value,(v,g)=>typeof g=="bigint"?g.toString():g,2):"no data"),n=b(()=>t.value?t.value.solutions.orderBy(v=>v.ranking,"asc"):[]);function i(v){return`https://etherscan.io/address/${v}`}async function l(v){await navigator.clipboard.writeText(v)}async function r(){await navigator.clipboard.writeText(o.value)}function c(v){switch(v){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const d=q(!1),p=ne("cardJson");return(v,g)=>{const f=me,_=ce,w=as,k=D,C=G;return h(),S(k,{class:"settlement-details"},{default:y(()=>[u("div",Ad,[u("div",Sd,[m(f,{label:"Auction Start Block","has-value":!s(a)},{default:y(()=>{var $;return[U(I((($=s(t))==null?void 0:$.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),m(f,{label:"Solvers","has-value":!s(a)},{default:y(()=>{var $,L;return[U(I(((L=($=s(t))==null?void 0:$.solutions)==null?void 0:L.length)??0),1)]}),_:1},8,["has-value"]),m(f,{label:"Orders","has-value":!s(a)},{default:y(()=>{var $,L;return[U(I(((L=($=s(t))==null?void 0:$.orders)==null?void 0:L.length)??0),1)]}),_:1},8,["has-value"]),m(k,{ref_key:"cardJson",ref:p,class:"card-json col",title:"Json"},{actions:y(()=>[u("div",Ld,[m(_,{icon:"fas fa-link",onClick:g[0]||(g[0]=$=>r())}),m(_,{onClick:g[2]||(g[2]=$=>d.value=!s(d))},{default:y(()=>{var $;return[g[3]||(g[3]=u("i",{class:"fas fa-expand"},null,-1)),m(w,{target:($=s(p))==null?void 0:$.$el,show:s(d),onClose:g[1]||(g[1]=L=>d.value=!1)},null,8,["target","show"])]}),_:1})])]),default:y(()=>[u("div",Td,I(s(o)),1)]),_:1},512)]),m(k,{class:"col",title:"Solvers"},{default:y(()=>[m(C,{class:"solvers-table col",rows:s(n)},{row:y(({item:{solver:$,solverAddress:L,ranking:B,score:P}})=>[u("div",{class:M(["trophy",c(B)])},[B<=3?(h(),A("i",Id)):(h(),A("span",Vd,I(B),1))],2),u("div",null,[u("a",{class:"font-mono",href:i(L),target:"_blank"},I($),9,qd)]),u("div",null,I(P),1),u("div",null,[m(_,{icon:"fas fa-link",onClick:K=>l(L)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),Fd=V(Pd,[["__scopeId","data-v-0c71cdb4"]]);function os(){const e=q([]);return{expanded:e,toggleExpansion:a=>{const o=e.value.findIndex(n=>n===a);return o===-1?(e.value.push(a),!0):(e.value.splice(o,1),!1)}}}const Bd={class:"header-content"},Dd={class:"token"},Md=["href"],Ud={class:"end"},Rd={class:"end"},Ed={class:"end"},Od={class:"end profit"},xd={class:"end"},Wd=["href"],Nd={class:"end"},Ia=15,Kd=T({__name:"TableSettlements",props:{settlements:{}},setup(e){const t=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:a,onSort:o}=gt("timestamp"),n=b(()=>e.settlements.orderBy(_=>{switch(a.value.column){case"amount":return _.amountReceived;case"quote":return _.routerReceived;case"profit":return v(_);case"profitPct":return g(_);case"timestamp":return _.timestamp}},a.value.order)),{page:i,rowsPage:l,onPage:r}=yt(n,Ia),{expanded:c,toggleExpansion:d}=os(),{relativeTime:p}=Ie();function v(_){return _.amountReceived-_.routerReceived}function g(_){return 100*_.amountReceived/_.routerReceived-100}function f(_){const w=_.coin.symbol;return w.includes(":")?w.split(":")[1]:w}return(_,w)=>{const k=Pe,C=he,$=X,L=G,B=D;return h(),S(B,{title:"CowSwap Settlements"},{actions:y(()=>[u("div",Bd,[m(k,{"items-count":s(n).length,"items-per-page":Ia,page:s(i),onPage:s(r)},null,8,["items-count","page","onPage"])])]),default:y(()=>[m(L,{class:"settlements-table",rows:s(l),columns:t,sorting:s(a),expanded:s(c),"expand-side":"right",onSortColumn:s(o),onSelected:s(d)},{row:y(({item:P})=>[u("div",Dd,[m(C,{address:P.coin.address},null,8,["address"]),u("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${P.coin.address}`},I(f(P)),9,Md)]),u("div",Ud,[m($,{value:P.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),u("div",Rd,[m($,{value:P.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),u("div",Ed,[P.routerReceived>1?(h(),S($,{key:0,value:v(P),precision:2,inline:!1,type:"dollar"},null,8,["value"])):F("",!0)]),u("div",Od,[P.routerReceived>1?(h(),S($,{key:0,class:M(["pct",{green:g(P)>0}]),value:g(P),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):F("",!0)]),u("div",xd,[u("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${P.txHash}`,target:"_blank",onClick:w[0]||(w[0]=de(()=>{},["stop"]))},I(s(we)(P.txHash)),9,Wd)]),u("div",Nd,I(s(p)(P.timestamp)),1)]),"row-details":y(({item:P})=>[w[1]||(w[1]=u("div",{class:"empty"},null,-1)),s(c).includes(P)?(h(),S(Fd,{key:0,settlement:P},null,8,["settlement"])):F("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1})}}}),Hd=V(Kd,[["__scopeId","data-v-e3dfdb43"]]),Qd={class:"dashboard-grid"},zd=T({__name:"Settlements",setup(e){const{isFetching:t,data:a}=Ku();return(o,n)=>(h(),A("div",Qd,[m(Hd,{style:{"grid-area":"table"},settlements:s(a),loading:s(t)},null,8,["settlements","loading"])]))}}),jd=V(zd,[["__scopeId","data-v-05972b33"]]),Gd=["href"],Xd={class:"end"},Zd={class:"end"},Yd={class:"end"},Jd=T({__name:"TableFeesCollected",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:o}=gt("amountUsd"),n=b(()=>e.fees.orderBy(i=>{switch(a.value.column){case"symbol":return i.coin.symbol;case"amount":return i.amount;default:return i.amountUsd}},a.value.order));return(i,l)=>{const r=he,c=X,d=G,p=D;return h(),S(p,{title:"Fees Collected"},{default:y(()=>[m(d,{rows:s(n),columns:t,sorting:s(a),onSortColumn:s(o)},{row:y(({item:v})=>[m(r,{address:v.coin.address},null,8,["address"]),u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.coin.address}`},I(v.coin.symbol),9,Gd)]),u("div",Xd,[m(c,{value:v.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Zd,[m(c,{value:v.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[l[0]||(l[0]=u("div",null,null,-1)),l[1]||(l[1]=u("div",null,null,-1)),l[2]||(l[2]=u("div",null,null,-1)),u("div",Yd,[m(c,{value:s(n).reduce((v,g)=>v+g.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),ep=V(Jd,[["__scopeId","data-v-6aa5b32e"]]),tp=["href"],ap={class:"end"},sp={class:"end"},op={class:"end"},np=T({__name:"TableFeesStaged",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:o}=gt("amountUsd"),n=b(()=>e.fees.orderBy(i=>{switch(a.value.column){case"symbol":return i.coin.symbol;case"amount":return i.amount;default:return i.amountUsd}},a.value.order));return(i,l)=>{const r=he,c=X,d=G,p=D;return h(),S(p,{title:"Fees Staged"},{default:y(()=>[m(d,{rows:s(n),columns:t,sorting:s(a),onSortColumn:s(o)},{row:y(({item:v})=>[m(r,{address:v.coin.address},null,8,["address"]),u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.coin.address}`},I(v.coin.symbol),9,tp)]),u("div",ap,[m(c,{value:v.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",sp,[m(c,{value:v.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[l[0]||(l[0]=u("div",null,null,-1)),l[1]||(l[1]=u("div",null,null,-1)),l[2]||(l[2]=u("div",null,null,-1)),u("div",op,[m(c,{value:s(n).reduce((v,g)=>v+g.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),lp=V(np,[["__scopeId","data-v-54615e6c"]]),rp={class:"dashboard-grid"},ip=T({__name:"Harvesting",setup(e){const{isFetching:t,data:a}=zu(),{isFetching:o,data:n}=ju();return(i,l)=>(h(),A("div",rp,[m(ep,{style:{"grid-area":"collected"},fees:s(a),loading:s(t)},null,8,["fees","loading"]),m(lp,{style:{"grid-area":"staged"},fees:s(n),loading:s(o)},null,8,["fees","loading"])]))}}),cp=V(ip,[["__scopeId","data-v-3abe6953"]]),up={class:"dashboard"},dp=T({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:a}=tt(["overview","distributions","cushions","settlements","harvesting"],"revenue");return(o,n)=>{const i=Be,l=Fe;return h(),A("div",up,[m(l,{active:s(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:y(()=>[m(i,{header:"Revenue"},{default:y(()=>[(h(),S(re,null,[s(t)==="overview"?(h(),S(Ju,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"Distributions"},{default:y(()=>[(h(),S(re,null,[s(t)==="distributions"?(h(),S(dd,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"Cushions"},{default:y(()=>[(h(),S(re,null,[s(t)==="cushions"?(h(),S(yd,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"Settlements"},{default:y(()=>[(h(),S(re,null,[s(t)==="settlements"?(h(),S(jd,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"Harvesting"},{default:y(()=>[(h(),S(re,null,[s(t)==="harvesting"?(h(),S(cp,{key:0})):F("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),pp=V(dp,[["__scopeId","data-v-a3767e40"]]),mp={class:"end"},vp={class:"end"},hp={class:"end"},fp={class:"end"},_p={class:"end"},gp={class:"end"},yp={class:"end"},bp={class:"end"},wp=T({__name:"TablePegkeepers",setup(e){const t=q(""),a=b(()=>p.value||i.value),o=b(()=>l.value.map(_=>{const w=v.value.find(k=>_.pool_address===k.address);if(w)return{...w,..._}}).filter(bn).orderBy(_=>_.tvlUsd,"desc")),n=b(()=>o.value.filter(_=>{const w=t.value.toLocaleLowerCase().split(" "),k=C=>w.some($=>C.toLocaleLowerCase().includes($));return k(_.name)||k(_.address)})),{isFetching:i,data:l}=ts(),r=_=>`${_.pair[1].symbol} / ${_.pair[0].symbol}`,c=b(()=>l.value.map(_=>_.pool_address)),d=Pc(q("ethereum"),c),p=b(()=>d.value.some(_=>_.isFetching)),v=b(()=>d.value.filter(_=>_.data).map(_=>_.data)),g=_=>_>=1e6?2:0,f=_=>_.pair.filter(w=>w.address!==kn)[0].address;return(_,w)=>{const k=ge,C=he,$=X,L=G,B=D;return h(),S(B,{class:"pegkeepers-card",title:"Pegkeepers",loading:s(a)},{actions:y(()=>[m(k,{modelValue:s(t),"onUpdate:modelValue":w[0]||(w[0]=P=>ie(t)?t.value=P:null),placeholder:"Search for..",search:!0},null,8,["modelValue"])]),default:y(()=>[m(L,{class:"pegkeepers-table",rows:s(n),columns:["","Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:y(({item:P})=>[m(C,{chain:"ethereum",address:f(P)},null,8,["address"]),u("div",null,I(r(P)),1),u("div",mp,[m($,{value:P.total_debt,precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",vp,[m($,{value:P.tvlUsd,precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",hp,[m($,{value:P.tradingVolume24h,precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",fp,[m($,{value:P.total_profit,precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[w[1]||(w[1]=u("div",null,null,-1)),w[2]||(w[2]=u("div",null,null,-1)),u("div",_p,[m($,{value:s(n).reduce((P,K)=>P+K.total_debt,0),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",gp,[m($,{value:s(n).reduce((P,K)=>P+K.tvlUsd,0),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",yp,[m($,{value:s(n).reduce((P,K)=>P+K.tradingVolume24h,0),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",bp,[m($,{value:s(n).reduce((P,K)=>P+K.total_profit,0),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),kp=V(wp,[["__scopeId","data-v-264597a2"]]),$p={class:"end"},Cp={class:"end"},Ap={class:"end"},Sp={class:"end"},Lp={class:"end"},Tp={class:"end"},Ip={class:"end"},Vp={class:"end"},qp={class:"end"},Pp={class:"end"},Fp={class:"end"},Bp=T({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const a=t,o=q(""),n=b(()=>l.value.filter(c=>{const d=o.value.toLocaleLowerCase().split(" "),p=v=>d.some(g=>v.toLocaleLowerCase().includes(g));return p(c.name)||p(c.address)}).orderBy(c=>c.borrowed,"desc")),{isFetching:i,data:l}=ma(),r=c=>c>=1e6?2:0;return(c,d)=>{const p=ge,v=he,g=X,f=G,_=D;return h(),S(_,{class:"markets-card",title:"Markets",loading:s(i)},{actions:y(()=>[m(p,{modelValue:s(o),"onUpdate:modelValue":d[0]||(d[0]=w=>ie(o)?o.value=w:null),placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:y(()=>[m(f,{class:"markets-table","expand-side":"left",rows:s(n),columns:["","","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:d[1]||(d[1]=w=>a("selected",w))},{row:y(({item:w})=>[m(v,{chain:"ethereum",address:w.collateral_token.address},null,8,["address"]),u("div",null,I(w.name),1),u("div",$p,I(w.loans),1),u("div",Cp,[m(g,{value:w.rate*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",Ap,[m(g,{value:w.borrowed,precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",Sp,[m(g,{value:w.collateralUsd,precision:r,type:"dollar"},null,8,["value"])]),u("div",Lp,[m(g,{value:w.fees.pending,precision:r,type:"dollar"},null,8,["value"])]),u("div",Tp,[m(g,{value:w.fees.collected,precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[d[2]||(d[2]=u("div",null,null,-1)),d[3]||(d[3]=u("div",null,null,-1)),d[4]||(d[4]=u("div",null,null,-1)),u("div",Ip,I(s(n).reduce((w,k)=>w+k.loans,0)),1),d[5]||(d[5]=u("div",null,null,-1)),u("div",Vp,[m(g,{value:s(n).reduce((w,k)=>w+k.borrowed,0),precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",qp,[m(g,{value:s(n).reduce((w,k)=>w+k.collateralUsd,0),precision:r,type:"dollar"},null,8,["value"])]),u("div",Pp,[m(g,{value:s(n).reduce((w,k)=>w+k.fees.pending,0),precision:r,type:"dollar"},null,8,["value"])]),u("div",Fp,[m(g,{value:s(n).reduce((w,k)=>w+k.fees.collected,0),precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":y(()=>d[6]||(d[6]=[U("   ")])),_:1},8,["rows"])]),_:1},8,["loading"])}}}),Dp=V(Bp,[["__scopeId","data-v-deda5daf"]]),Mp={class:"chart-types button-group"},Up=T({__name:"ChartCrvUsdSupply",setup(e){const t=H(),a=q("line"),{items:o}=Se(()=>[{id:"supply",label:"Supply",color:t.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:t.value.colorsArray[1]}]),{isFetching:n,data:i}=ii(),l=r=>{a.value!==r&&(a.value=r)};return(r,c)=>{const d=et,p=Ae,v=D;return h(),S(v,{title:"crvUSD Supply",loading:s(n)},{actions:y(()=>[u("div",Mp,[m(d,{value:"Line","model-value":s(a)==="line",onClick:c[0]||(c[0]=g=>l("line"))},null,8,["model-value"]),m(d,{value:"Breakdown","model-value":s(a)==="breakdown",onClick:c[1]||(c[1]=g=>l("breakdown"))},null,8,["model-value"])])]),"actions-secondary":y(()=>[s(a)==="line"?(h(),S(p,{key:0,items:s(o)},null,8,["items"])):F("",!0)]),default:y(()=>[(h(),S(re,null,[s(a)==="line"?(h(),S(s(Wp),{key:0,data:s(i)},null,8,["data"])):F("",!0)],1024)),(h(),S(re,null,[s(a)==="breakdown"?(h(),S(s(Op),{key:0,data:s(i)},null,8,["data"])):F("",!0)],1024))]),_:1},8,["loading"])}}}),Rp=V(Up,[["__scopeId","data-v-9b0379fa"]]),Ep=T({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const t=b(()=>qe({chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:i,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:l},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=b(()=>e.data.orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).entries().map(([r])=>new Date(parseInt(r,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"")),o=b(()=>e.data.groupBy(r=>r.market).entries().map(([r,c])=>({name:r,data:c.groupBy(d=>d.timestamp).entries().map(([d,p])=>({x:new Date(parseInt(d,10)*1e3).toLocaleDateString(),y:p.reduce((v,g)=>v+g.supply,0)})).orderBy(d=>d.x,"asc")}))),n=b(()=>Math.max(...e.data.groupBy(r=>r.timestamp).entries().map(([,r])=>r.reduce((c,d)=>c+d.supply,0)))*1.1),i=r=>r,l=r=>`${N(r,1,"dollar")}${x(r,"dollar")}`;return(r,c)=>{const d=Ve;return h(),S(d,{options:s(t),series:s(o)},null,8,["options","series"])}}}),Op=V(Ep,[["__scopeId","data-v-b5298944"]]),xp={ref:"chartRef",class:"chart"},Wp=T({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){const t=H(),{chart:a,series:o}=te({createChartOptions:ee(),series:[{type:"Area",name:"supply",options:b(()=>({priceFormat:{type:"custom",formatter:i},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:b(()=>({priceFormat:{type:"custom",formatter:i},lineWidth:2,lineType:le.WithSteps,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(n);function n(){if(!a.value||!o.debt||!o.supply)return;const l=e.data.groupBy(c=>c.timestamp).entries().map(([,c])=>{var d;return{time:c[0].timestamp,value:c.reduce((p,v)=>p+v.supply,0),debt:((d=c.find(p=>p.market==="Keepers debt"))==null?void 0:d.supply)??0}}).uniqWith((c,d)=>c.time===d.time).orderBy(c=>c.time,"asc"),r=l.map(c=>({time:c.time,value:c.value-c.debt}));l.length>0&&o.supply.setData(l),r.length>0&&o.debt.setData(r),a.value.timeScale().fitContent()}function i(l){return`${N(l,0,"dollar")}${x(l,"dollar")}`}return(l,r)=>(h(),A("div",xp,null,512))}}),Np={ref:"chartRef",class:"chart"},Kp=T({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{isFetching:t,data:a}=Mt(R(()=>e.market)),o=H(),{chart:n,series:i}=te({createChartOptions:ee(),series:{type:"Area",name:"available",options:b(()=>({priceFormat:{type:"custom",formatter:r=>`$${N(r,0,"dollar")}${x(r,"dollar")}`},lineWidth:2,lineType:le.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(l);function l(){if(!n.value||!i.available)return;const r=a.value.map(c=>({time:c.timestamp,value:c.borrowable})).uniqWith((c,d)=>c.time===d.time).orderBy(c=>c.time,"asc").dropWhile(c=>c.value===0);r.length>0&&i.available.setData(r),n.value.timeScale().fitContent()}return(r,c)=>{const d=D;return h(),S(d,{title:"Borrowable & Debt Ceiling",loading:s(t)},{default:y(()=>[u("div",Np,null,512)]),_:1},8,["loading"])}}}),Hp={ref:"chartRef",class:"chart"},Qp=T({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{isFetching:t,data:a}=Mt(R(()=>e.market)),o=H(),{chart:n,series:i}=te({createChartOptions:ee(),series:{type:"Histogram",name:"loans",options:b(()=>({color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});J(l);function l(){if(!n.value||!i.loans)return;const r=a.value.map(c=>({time:c.timestamp,value:c.nLoans})).uniqWith((c,d)=>c.time===d.time).orderBy(c=>c.time,"asc");if(r.length>0){i.loans.setData(r);const c=r[0].time,d=r[r.length-1].time;n.value.timeScale().setVisibleRange({from:c,to:d})}}return(r,c)=>{const d=D;return h(),S(d,{title:"Loans",loading:s(t)},{default:y(()=>[u("div",Hp,null,512)]),_:1},8,["loading"])}}}),zp=["min","max"],jp=T({__name:"InputNumber",props:Oe({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mt(e,"modelValue");return Q(t,a=>{a===""?t.value=null:typeof a=="number"&&(t.value=Math.min(Math.max(a,e.min),e.max))}),(a,o)=>ia((h(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.value=n),type:"number",min:a.min,max:a.max},null,8,zp)),[[Ea,t.value]])}}),Rt=V(jp,[["__scopeId","data-v-2174eac3"]]),Gp={ref:"chartRef",class:"chart"},Xp=T({__name:"ChartMarketRates",props:{market:{}},setup(e){const{isFetching:t,data:a}=Mt(R(()=>e.market)),o=H(),n=q(null),{chart:i,series:l}=te({createChartOptions:ee(),series:[{type:"Area",name:"rates",options:b(()=>({priceFormat:{type:"custom",formatter:c},lineWidth:2,lineType:le.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"ema",options:b(()=>({priceFormat:{type:"custom",formatter:c},lineWidth:2,lineType:le.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(r);function r(){if(!i.value||!l.rates||!l.ema)return;const p=a.value.map(f=>({time:f.timestamp,value:f.rate})).uniqWith((f,_)=>f.time===_.time).orderBy(f=>f.time,"asc"),g=d(p.map(f=>f.value),n.value??31).zip(p).map(f=>({time:f[1].time,value:f[0]}));if(g.length>0&&l.ema.setData(g),p.length>0){l.rates.setData(p);const f=p[0].time,_=p[p.length-1].time;i.value.timeScale().setVisibleRange({from:f,to:_})}}function c(p){return`${N(p*100,0,"percentage")}${x(p,"percentage")}`}const d=(p,v=7)=>p.map((g,f)=>{const _=Math.max(f-(v-1),0),w=f+1,k=p.slice(_,w);return k.reduce(($,L)=>$+L,0)/k.length});return(p,v)=>{const g=Rt,f=D;return h(),S(f,{title:"Rates",loading:s(t)},{actions:y(()=>[m(g,{modelValue:s(n),"onUpdate:modelValue":v[0]||(v[0]=_=>ie(n)?n.value=_:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])]),default:y(()=>[u("div",Gp,null,512)]),_:1},8,["loading"])}}}),Zp=V(Xp,[["__scopeId","data-v-d7c3866d"]]),Yp=e=>{const t=e.provider.toLocaleLowerCase(),a=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,o=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,n=e.block_number,i=e.timestamp,l=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:a,withdrawal:o,block_number:n,timestamp:i,transaction_hash:l}},Jp=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),em=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),Gt="https://prices.curve.fi";class tm extends Le{async getEvents(t,a,o,n){const i=await this.fetch(`${Gt}/v1/${t}/llamma_events/${a}/${o}?page=${n}&per_page=10`);return{events:i.data.map(Yp),count:i.count}}async getTrades(t,a,o,n){const i=await this.fetch(`${Gt}/v1/${t}/llamma_trades/${a}/${o}?page=${n}&per_page=10`);return{trades:i.data.map(Jp),count:i.count}}async getOHLC(t,a,o){const n=Math.floor(new Date().getTime()/1e3),i=n-10*24*60*60;return(await this.fetch(`${Gt}/v1/${t}/llamma_ohlc/${a}/${o}?agg_number=1&agg_units=hour&start=${i}&end=${n}`)).data.map(em)}}const ha=new tm;function ns(e,t,a,o){return E({queryKey:["llamma-market-events",t,o],queryFn:({queryKey:[,n,i]})=>ha.getEvents(e.value,a.value,n,i),placeholderData:qt,enabled:b(()=>!!t.value&&!!a.value)})}function ls(e,t,a,o){return E({queryKey:["llamma-market-trades",t,o],queryFn:({queryKey:[,n,i]})=>ha.getTrades(e.value,a.value,n,i),placeholderData:qt,enabled:b(()=>!!t.value&&!!a.value)})}function fa(e,t,a){return E({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,o]})=>ha.getOHLC(e.value,a.value,o),enabled:b(()=>!!t.value&&!!a.value)})}const am={ref:"chartRef",class:"chart"},sm=T({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=fa(R("crvusd"),b(()=>{var r;return(r=e.market)==null?void 0:r.llamma}),R(()=>e.chain)),o=H(),{chart:n,series:i}=te({createChartOptions:ee(),series:{type:"Area",name:"volume",options:b(()=>({priceFormat:{type:"custom",formatter:r=>`$${N(r,0,"dollar")}${x(r,"dollar")}`},lineWidth:2,lineType:le.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(l);function l(){if(!n.value||!i.volume)return;const r=(a.value??[]).map(c=>({time:c.time,value:c.volume})).uniqWith((c,d)=>c.time===d.time).orderBy(c=>c.time,"asc");r.length>0&&i.volume.setData(r),n.value.timeScale().fitContent()}return(r,c)=>{const d=D;return h(),S(d,{title:"Volume",loading:s(t)},{default:y(()=>[u("div",am,null,512)]),_:1},8,["loading"])}}}),om={style:{display:"flex"}},nm={ref:"chartRef",class:"chart"},lm=T({__name:"ChartKeeperPrices",setup(e){const t=H(),a=["USDC","USDT","TUSD","USDP"],{items:o,toggles:n,disabled:i}=Se(()=>a.map((w,k)=>({id:w,label:w,color:t.value.colorsArray[k],togglable:!0}))),l=b(()=>r.value||d.value),{isFetching:r,data:c}=ts(),{isFetching:d,data:p}=ci(c),v=ne("card"),{chart:g,series:f}=te({createChartOptions:ee(),series:a.map((w,k)=>({type:"Line",name:w,options:b(()=>({priceFormat:{type:"custom",formatter:C=>`${N(C,3,"dollar")}${x(C,"dollar")}`},lineWidth:2,lineType:le.WithSteps,color:t.value.colorsArray[k],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:C=>{const $=C();return $!==null&&($.priceRange.minValue=Math.max(.98,$.priceRange.minValue),$.priceRange.maxValue=Math.min(1.02,$.priceRange.maxValue)),$}}))}))});J(_);function _(){var w,k;if(!(!g.value||Object.values(f).length<0)){for(const[,C]of a.entries()){if(!n[C].value){(w=f[C])==null||w.setData([]);continue}const $=p.value.map(L=>({time:L.timestamp,value:L[C]})).uniqWith((L,B)=>L.time===B.time).orderBy(L=>L.time,"asc");$.length>0&&((k=f[C])==null||k.setData($))}g.value.timeScale().fitContent()}}return(w,k)=>{const C=Ae,$=D;return h(),S($,{ref_key:"card",ref:v,title:"Pegkeepers Coin Prices",loading:s(l)},{actions:y(()=>[u("div",om,[m(s(fe),{filename:"keeper_prices",series:s(f)},null,8,["series"]),m(s(_e),{chart:s(g),target:s(v)},null,8,["chart","target"])])]),"actions-secondary":y(()=>[m(C,{items:s(o),disabled:s(i),onToggle:k[0]||(k[0]=L=>s(n)[L].value=!s(n)[L].value)},null,8,["items","disabled"])]),default:y(()=>[u("div",nm,null,512)]),_:1},8,["loading"])}}}),rm={class:"dashboard"},im={class:"col"},cm={class:"col"},um=T({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:a}=xe(Te());ke(()=>{t.value=!0,a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=Ze(),n=async i=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:i.address}})};return(i,l)=>(h(),A("div",rm,[m(s(Dp),{style:{"grid-column":"1 / -1"},onSelected:n}),u("div",im,[m(s(kp))]),u("div",cm,[m(s(Rp)),m(s(lm))])]))}}),dm=V(um,[["__scopeId","data-v-8c70214d"]]),pm=["href"],mm={key:1},vm=T({__name:"Addresses",props:{market:{}},setup(e){const t=b(()=>{var n,i,l;return[{description:"Controller",address:(n=e.market)==null?void 0:n.address},{description:"Factory",address:(i=e.market)==null?void 0:i.factory},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma}]}),a=n=>`https://etherscan.io/address/${n}`,o=async n=>{await navigator.clipboard.writeText(n)};return(n,i)=>{const l=ce,r=G,c=D;return h(),S(c,{class:"addresses",title:"Addresses"},{default:y(()=>[m(r,{class:"addresses-table",rows:s(t)},{row:y(({item:{description:d,address:p}})=>[u("div",null,I(d),1),u("div",null,[p?(h(),A("a",{key:0,class:"font-mono",href:a(p),target:"_blank"},I(p),9,pm)):(h(),A("span",mm,"?"))]),u("div",null,[p?(h(),S(l,{key:0,icon:"fas fa-link",onClick:v=>o(p)},null,8,["onClick"])):F("",!0)])]),_:1},8,["rows"])]),_:1})}}}),hm=V(vm,[["__scopeId","data-v-42b4a1a8"]]),fm={key:0},_m={class:"token-info"},gm=["href"],ym={key:1},bm=T({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,r){return r?l==="collateral"?{type:"token",symbol:r.collateral_token.symbol,address:r.collateral_token.address}:{type:"token",symbol:r.stablecoin_token.symbol,address:r.stablecoin_token.address}:{type:"token",symbol:"?",address:"?"}}const o=b(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,i=async l=>{await navigator.clipboard.writeText(l)};return(l,r)=>{const c=he,d=ce,p=G,v=D;return h(),S(v,{class:"properties",title:"Properties"},{default:y(()=>[m(p,{class:"properties-table",rows:s(o)},{row:y(({item:{description:g,value:f}})=>[u("div",null,I(g),1),t(f)?(h(),A("div",fm,[u("div",_m,[m(c,{chain:l.chain,address:f.address},null,8,["chain","address"]),u("div",null,I(f.symbol),1),u("div",null,[u("a",{class:"font-mono",href:n(f.address),target:"_blank"},I(f.address),9,gm)]),u("div",null,[m(d,{icon:"fas fa-link",onClick:_=>i(f.address)},null,8,["onClick"])])])])):(h(),A("div",ym,I(f),1))]),_:1},8,["rows"])]),_:1})}}}),wm=V(bm,[["__scopeId","data-v-214114c9"]]),km={class:"dashboard-grid"},$m=T({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){return(t,a)=>{const o=X,n=me;return h(),A("div",km,[m(n,{style:{"grid-area":"kpi1"},label:"Borrow Rate","has-value":!!t.market},{default:y(()=>{var i;return[m(o,{value:100*(((i=t.market)==null?void 0:i.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi2"},label:"Borrowed","has-value":!!t.market},{default:y(()=>{var i;return[m(o,{value:(i=t.market)==null?void 0:i.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi3"},label:"Borrowable","has-value":!!t.market},{default:y(()=>{var i;return[m(o,{value:(i=t.market)==null?void 0:i.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi4"},label:"Loans","has-value":!!t.market},{default:y(()=>{var i;return[U(I(((i=t.market)==null?void 0:i.loans)??0),1)]}),_:1},8,["has-value"]),m(s(Zp),{style:{"grid-area":"rates"},market:t.market},null,8,["market"]),m(s(Kp),{style:{"grid-area":"cap"},market:t.market},null,8,["market"]),m(s(Qp),{style:{"grid-area":"loans"},market:t.market},null,8,["market"]),m(s(sm),{style:{"grid-area":"volume"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(s(wm),{style:{"grid-area":"properties"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(s(hm),{style:{"grid-area":"addresses"},market:t.market,chain:t.chain},null,8,["market","chain"])])}}}),Cm=V($m,[["__scopeId","data-v-ebe45552"]]),Am=e=>({timestamp:$e(e.timestamp),proportion:e.proportion/100}),Sm=e=>({timestamp:$e(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),Lm=e=>({timestamp:$e(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),Tm=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),Im=e=>({timestamp:$e(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),Vm=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),ze="https://prices.curve.fi";class qm extends Le{async getSoftLiqRatios(t,a,o){return(await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/soft_liquidation_ratio`)).data.map(Am)}async getLiqsDetailed(t,a,o){return(await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/history/detailed`)).data.map(Sm)}async getLiqsAggregate(t,a,o){return(await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/history/aggregated`)).data.map(Lm)}async getLiqOverview(t,a,o){const n=await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/overview?fetch_on_chain=true`);return Tm(n)}async getLiqLosses(t,a,o){return(await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/losses/history`)).data.map(Im)}async getLiqHealthDeciles(t,a,o){return(await this.fetch(`${ze}/v1/${t}/liquidations/${a}/${o}/health/distribution`)).data.map(Vm)}}const st=new qm;function bt(){return{initialData:[],initialDataUpdatedAt:0}}function ot(e,t){return{enabled:b(()=>!!e.value&&(t?!!t.value:!0))}}function rs(e,t,a){return E({queryKey:["liqs-soft-liqs",a],queryFn:({queryKey:[,o]})=>st.getSoftLiqRatios(e.value,t.value,o),...ot(a,t),...bt()})}function is(e,t,a){return E({queryKey:["liqs-detailed",a],queryFn:({queryKey:[,o]})=>st.getLiqsDetailed(e.value,t.value,o),...ot(a,t),...bt()})}function cs(e,t,a){return E({queryKey:["liqs-aggregate",a],queryFn:({queryKey:[,o]})=>st.getLiqsAggregate(e.value,t.value,o),...ot(a,t),...bt()})}function us(e,t,a){return E({queryKey:["liqs-overview",a],queryFn:({queryKey:[,o]})=>st.getLiqOverview(e.value,t.value,o),...ot(a,t)})}function ds(e,t,a){return E({queryKey:["liqs-losses",a],queryFn:({queryKey:[,o]})=>st.getLiqLosses(e.value,t.value,o),...ot(a,t),...bt()})}function ps(e,t,a){return E({queryKey:["liqs-health-deciles",a],queryFn:({queryKey:[,o]})=>st.getLiqHealthDeciles(e.value,t.value,o),...ot(a,t),...bt()})}const Pm={class:"button-group"},ms=T({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const t=q("count"),a=o=>{t.value!==o&&(t.value=o)};return(o,n)=>{const i=et,l=D;return h(),S(l,{title:"Self & Hard Liquidations"},{actions:y(()=>[u("div",Pm,[m(i,{value:"Count","model-value":s(t)==="count",onClick:n[0]||(n[0]=r=>a("count"))},null,8,["model-value"]),m(i,{value:"Value","model-value":s(t)==="value",onClick:n[1]||(n[1]=r=>a("value"))},null,8,["model-value"])])]),default:y(()=>[s(t)==="count"?(h(),S(s(Bm),{key:0,liqs:o.liqs},null,8,["liqs"])):(h(),S(s(Mm),{key:1,liqs:o.liqs},null,8,["liqs"]))]),_:1})}}}),Fm=T({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const t=b(()=>qe({chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:i,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:l},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=b(()=>e.liqs.orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).entries().map(([r])=>new Date(parseInt(r,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"")),o=b(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),n=b(()=>Math.max(...e.liqs.groupBy(r=>r.timestamp).entries().map(([,r])=>r.reduce((c,d)=>c+d.selfCount+d.hardCount,0)))*1.1),i=r=>r,l=r=>`${N(r,1,"dollar")}${x(r,"dollar")}`;return(r,c)=>{const d=Ve;return h(),S(d,{options:s(t),series:s(o)},null,8,["options","series"])}}}),Bm=V(Fm,[["__scopeId","data-v-a419fa91"]]),Dm=T({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const t=b(()=>qe({chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:i,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:l},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=b(()=>e.liqs.orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).entries().map(([r])=>new Date(parseInt(r,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"")),o=b(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),n=b(()=>Math.max(...e.liqs.groupBy(r=>r.timestamp).entries().map(([,r])=>r.reduce((c,d)=>c+d.selfValue+d.hardValue,0)))*1.1),i=r=>r,l=r=>`${N(r,1,"dollar")}${x(r,"dollar")}`;return(r,c)=>{const d=Ve;return h(),S(d,{options:s(t),series:s(o)},null,8,["options","series"])}}}),Mm=V(Dm,[["__scopeId","data-v-219e3c14"]]),Um={ref:"chartRef",class:"chart"},vs=T({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const t=H(),{chart:a,series:o}=te({createChartOptions:ee(),series:{type:"Area",name:"losses",options:b(()=>({priceFormat:{type:"custom",formatter:i=>`${N(i,0,"percentage")}${x(i,"percentage")}`,minMove:.1},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(n);function n(){if(!a.value||!o.losses)return;const i=e.losses.map(l=>({time:l.timestamp,value:l.pctLossMedian})).uniqWith((l,r)=>l.time===r.time).orderBy(l=>l.time,"asc");i.length>0&&o.losses.setData(i),a.value.timeScale().fitContent()}return(i,l)=>{const r=D;return h(),S(r,{title:"Median Loss % Among Loans with Losses"},{default:y(()=>[u("div",Um,null,512)]),_:1})}}}),Rm={ref:"chartRef",class:"chart"},hs=T({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const t=H(),{chart:a,series:o}=te({createChartOptions:ee(),series:{type:"Area",name:"losses",options:b(()=>({priceFormat:{type:"custom",formatter:i=>`${N(i,0,"percentage")}${x(i,"percentage")}`,minMove:.1},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(n);function n(){if(!a.value||!o.losses)return;const i=e.losses.map(l=>({time:l.timestamp,value:l.numTotalUsers>0?100*l.numUsersWithLosses/l.numTotalUsers:0})).uniqWith((l,r)=>l.time===r.time).orderBy(l=>l.time,"asc");i.length>0&&o.losses.setData(i),a.value.timeScale().fitContent()}return(i,l)=>{const r=D;return h(),S(r,{title:"Proportion of Loans with Losses"},{default:y(()=>[u("div",Rm,null,512)]),_:1})}}}),fs=T({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const t=b(()=>qe({chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:a.value,labels:{formatter:n,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:l=>{const r=l.series[0][l.dataPointIndex],c=l.series[1][l.dataPointIndex],d=l.series[2][l.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(c)}</div>`,`<div><b>Debt</b>: ${i(r)}</div>`,`<div><b>Stablecoin</b>: ${i(d)}</div>`].join("")}}})),a=b(()=>e.deciles.map(l=>l.decile)),o=b(()=>[{name:"Debt",data:Object.values(e.deciles).map(l=>l.debt)},{name:"Collateral",data:Object.values(e.deciles).map(l=>l.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(l=>l.stablecoin)}]),n=l=>l,i=l=>`$${N(l,0,"dollar")}${x(l,"dollar")}`;return(l,r)=>{const c=Ve,d=D;return h(),S(d,{title:"Debt & Assets per Health Deciles"},{default:y(()=>[m(c,{options:s(t),series:s(o)},null,8,["options","series"])]),_:1})}}}),Em={ref:"chartRef",class:"chart"},_s=T({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const t=H(),{items:a}=Se(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:t.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:t.value.colorsArray[1]}]),{chart:o,series:n}=te({createChartOptions:ee({leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"price",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`$${N(l,2,"dollar")}${x(l,"dollar")}`},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"ratio",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`${N(l,0,"percentage")}${x(l,"percentage")}`},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});J(i);function i(){if(!o.value||!n.price||!n.ratio)return;const l=e.ratios.map(d=>({time:d.timestamp,value:d.proportion})).uniqWith((d,p)=>d.time===p.time).orderBy(d=>d.time,"asc"),r=l.length>0?l[0].time:0,c=e.pricesOracle.filter(d=>d.timestamp>=r).map(d=>({time:d.timestamp,value:d.priceOracle})).uniqWith((d,p)=>d.time===p.time).orderBy(d=>d.time,"asc");c.length>0&&n.price.setData(c),l.length>0&&n.ratio.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=Ae,d=D;return h(),S(d,{title:"Soft Liquidations Ratio"},{"actions-secondary":y(()=>[m(c,{items:s(a)},null,8,["items"])]),default:y(()=>[u("div",Em,null,512)]),_:1})}}}),Om={ref:"chartRef",class:"chart"},gs=T({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const t=H(),{items:a}=Se(()=>[{id:"revenue",label:"Liquidator Revenue",color:t.value.colorsArray[0]},{id:"discount",label:"Discount",color:t.value.colorsArray[1]}]),{chart:o,series:n}=te({createChartOptions:ee({leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"revenue",options:b(()=>({priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"discount",options:b(()=>({priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});J(i);function i(){if(!o.value||!n.discount||!n.revenue)return;const l=e.liqs.map(d=>({time:d.timestamp,value:d.debt})).uniqWith((d,p)=>d.time===p.time).orderBy(d=>d.time,"asc").reduce((d,p)=>{const v=d.length>0?d[d.length-1].value:0;return d.push({time:p.time,value:p.value+v}),d},[]),r=l.length>0?l[0].time:0,c=e.discounts.filter(d=>d.timestamp>=r).map(d=>({time:d.timestamp,value:d.discount*100})).uniqWith((d,p)=>d.time===p.time).orderBy(d=>d.time,"asc");l.length>0&&n.revenue.setData(l),c.length>0&&n.discount.setData(c),o.value.timeScale().fitContent()}return(l,r)=>{const c=Ae,d=D;return h(),S(d,{title:"Liquidator Revenue"},{"actions-secondary":y(()=>[m(c,{items:s(a)},null,8,["items"])]),default:y(()=>[u("div",Om,null,512)]),_:1})}}}),xm={key:0,class:"end"},Wm={key:1,class:"end"},Nm={key:2},Km=T({__name:"TableLiqOverview",props:{overview:{}},setup(e){const t=b(()=>{if(!e.overview)return[];const o=e.overview.liqableDebtUsd,n=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,i=o-n;return i<=0?[]:[{description:"Bad debt",value:i,type:"bad-debt"}]}),a=b(()=>{var o,n,i,l,r,c,d;return[{description:"Users in soft liquidation",value:((o=e.overview)==null?void 0:o.softLiqUsers)??0,type:"number"},{description:"Median health",value:((n=e.overview)==null?void 0:n.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((i=e.overview)==null?void 0:i.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((l=e.overview)==null?void 0:l.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=e.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((c=e.overview)==null?void 0:c.liqableCollatUsd)??0,((d=e.overview)==null?void 0:d.liqableBorrowedUsd)??0],type:"collateral"},...t.value]});return(o,n)=>{const i=X,l=G,r=D;return h(),S(r,{title:"General Health Metrics"},{default:y(()=>[m(l,{class:"liq-overview-table",rows:s(a)},{row:y(({item:{description:c,value:d,type:p}})=>[u("div",null,I(c),1),p==="collateral"?(h(),A("div",xm,[m(i,{value:d[0],"show-zero":!0,type:"dollar"},null,8,["value"]),n[0]||(n[0]=U(" / ")),m(i,{value:d[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(h(),A("div",Wm,[p==="bad-debt"?(h(),S(i,{key:0,class:"red",value:d,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):p!=="number"?(h(),S(i,{key:1,value:d,"show-zero":!0,type:p},null,8,["value","type"])):(h(),A("span",Nm,I(d),1))]))]),_:1},8,["rows"])]),_:1})}}}),ys=V(Km,[["__scopeId","data-v-7a5cc4c8"]]),Hm={class:"address"},Qm=["href"],zm={class:"end"},jm={class:"end"},Gm=T({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const t=b(()=>e.liqs.groupBy(a=>a.liquidator).entries().map(([a,o])=>({liquidator:a,count:o.length,value:o.reduce((n,i)=>n+i.collateralReceivedUsd,0)})).orderBy(a=>a.value,"desc").take(5));return(a,o)=>{const n=X,i=G,l=D;return h(),S(l,{title:"Top Liquidators"},{default:y(()=>[m(i,{class:"liquidators-table",rows:s(t),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:y(({item:r})=>[u("div",Hm,[u("a",{href:`https://etherscan.io/address/${r.liquidator}`,target:"_blank"},I(s(we)(r.liquidator,8)),9,Qm)]),u("div",zm,[m(n,{value:r.count,precision:0,"show-zero":!0},null,8,["value"])]),u("div",jm,[m(n,{value:r.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1})}}}),bs=V(Gm,[["__scopeId","data-v-40d6b07d"]]),Xm={style:{display:"flex"}},Zm={ref:"chartRef",class:"chart"},ws=T({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Area",name:"ratios",options:b(()=>({priceFormat:{type:"custom",formatter:l=>`${N(l,0,"percentage")}${x(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:le.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!o.value||!n.ratios)return;const l=e.ratios.map(r=>({time:r.timestamp,value:r.ratio*100})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");l.length>0&&n.ratios.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=D;return h(),S(c,{ref_key:"card",ref:a,title:"Collateral Ratio"},{actions:y(()=>[u("div",Xm,[m(s(fe),{filename:"collateral_ratio",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",Zm,null,512)]),_:1},512)}}}),Ym={style:{display:"flex","align-items":"center"}},Jm={ref:"chartRef",class:"chart"},ev=T({__name:"ChartEquity",props:{equity:{}},setup(e){const t=H(),a=ne("card"),{chart:o,series:n}=te({createChartOptions:ee(),series:{type:"Baseline",name:"equity",options:b(()=>{const{colors:l}=t.value;return{priceFormat:{type:"custom",formatter:r=>`$${N(r,0,"dollar")}${x(r,"dollar")}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:l.green,bottomLineColor:l.red,lastValueVisible:!1,priceLineVisible:!1}})}});J(i);function i(){if(!o.value||!n.equity)return;const l=e.equity.map(r=>({time:r.timestamp,value:r.equity})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc");l.length>0&&n.equity.setData(l),o.value.timeScale().fitContent()}return(l,r)=>{const c=da,d=D;return h(),S(d,{ref_key:"card",ref:a,title:"Equity"},{actions:y(()=>[u("div",Ym,[m(c,{style:{"margin-right":"1rem"}},{default:y(()=>r[0]||(r[0]=[u("span",null,[U(" This chart shows the difference between the value of the collateral and the debt."),u("br"),u("br"),U(" Positive values indicate net equity (collateral exceeds debt),"),u("br"),U(" while negative values indicate a deficit (debt exceeds collateral, also known as bad debt). ")],-1)])),_:1}),m(s(fe),{filename:"equity",series:s(n)},null,8,["series"]),m(s(_e),{chart:s(o),target:s(a)},null,8,["chart","target"])])]),default:y(()=>[u("div",Jm,null,512)]),_:1},512)}}}),tv={class:"dashboard-grid"},av=T({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=b(()=>{var L;return(L=e.market)==null?void 0:L.address}),{isFetching:a,data:o}=us(q("crvusd"),R(()=>e.chain),t),{isFetching:n,data:i}=Mt(R(()=>e.market)),l=b(()=>i.value.map(({timestamp:L,priceOracle:B})=>({timestamp:L,priceOracle:B}))),r=b(()=>i.value.map(({timestamp:L,discountLiquidation:B})=>({timestamp:L,discount:B}))),c=b(()=>i.value.map(({timestamp:L,totalCollateralUsd:B,totalDebt:P})=>({timestamp:L,ratio:B/P}))),{isFetching:d,data:p}=rs(q("crvusd"),R(()=>e.chain),t),{isFetching:v,data:g}=cs(q("crvusd"),R(()=>e.chain),t),{isFetching:f,data:_}=is(q("crvusd"),R(()=>e.chain),t),{isFetching:w,data:k}=ps(q("crvusd"),R(()=>e.chain),t),{isFetching:C,data:$}=ds(q("crvusd"),R(()=>e.chain),t);return(L,B)=>(h(),A("div",tv,[m(s(ys),{overview:s(o),loading:s(a)},null,8,["overview","loading"]),m(s(_s),{ratios:s(p),"prices-oracle":s(l),loading:s(d)||s(n)},null,8,["ratios","prices-oracle","loading"]),m(s(vs),{losses:s($),loading:s(C)},null,8,["losses","loading"]),m(s(hs),{losses:s($),loading:s(C)},null,8,["losses","loading"]),m(s(fs),{deciles:s(k),loading:s(w)},null,8,["deciles","loading"]),m(s(ws),{ratios:s(c),loading:s(n)},null,8,["ratios","loading"]),m(s(ms),{liqs:s(g),loading:s(v)},null,8,["liqs","loading"]),m(s(bs),{liqs:s(_),loading:s(f)},null,8,["liqs","loading"]),m(s(gs),{discounts:s(r),liqs:s(_),loading:s(n)||s(f)},null,8,["discounts","liqs","loading"])]))}}),sv=V(av,[["__scopeId","data-v-8560cacf"]]),ov={class:"controls"},nv={ref:"chartRef",class:"chart"},lv=T({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const t=H(),a=q(!1),o=q(!1);let n=1,i=0;const{chart:l,series:r}=te({createChartOptions:ee({localization:{priceFormatter:p=>d(p)}}),series:[{type:"Candlestick",name:"ohlc",options:b(()=>{const{colors:p}=t.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:p.green,borderUpColor:p.green,wickUpColor:p.green,downColor:p.red,borderDownColor:p.red,wickDownColor:p.red}})},{type:"Line",name:"oracle",options:b(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:le.WithSteps,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}]});J(c);function c(){if(!l.value||!r.ohlc||!r.oracle)return;const p=a.value?-1:1,v=e.ohlc.map(f=>({time:f.time,open:Math.pow(f.open,p),high:Math.pow(f.high,p),low:Math.pow(f.low,p),close:Math.pow(f.close,p)})).uniqWith((f,_)=>f.time===_.time).orderBy(f=>f.time,"asc");v.length>0&&(r.ohlc.setData(v),i=Math.min(...v.map(f=>f.low)),n=Math.max(...v.map(f=>f.high)));const g=e.ohlc.map(f=>({time:f.time,value:Math.pow(f.oracle_price,p)})).uniqWith((f,_)=>f.time===_.time).orderBy(f=>f.time,"asc");g.length>0&&r.oracle.setData(g),r.oracle.applyOptions({visible:o.value}),l.value.timeScale().fitContent()}function d(p){const v=n-i,g=v>1?v-Math.floor(v):v,f=-Math.floor(Math.log10(g)+1)+2;return`${N(p,f,"dollar")}${x(p,"dollar")}`}return(p,v)=>{const g=et,f=D;return h(),S(f,{title:"Price"},{actions:y(()=>[u("div",ov,[m(g,{value:"Oracle Price","model-value":s(o),onClick:v[0]||(v[0]=_=>o.value=!s(o))},null,8,["model-value"]),m(g,{value:"Invert","model-value":s(a),onClick:v[1]||(v[1]=_=>a.value=!s(a))},null,8,["model-value"])])]),default:y(()=>[u("div",nv,null,512)]),_:1})}}}),ks=V(lv,[["__scopeId","data-v-2b03fee7"]]),rv={class:"end"},iv=["href"],cv={class:"end"},uv=["href"],dv=T({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:o,onPage:n}=va(),i=It(o,200);Q(i,p=>{a("page",p)});const{relativeTime:l}=Ie(),r=p=>p<1?p.toFixed(4):p>1e3?p.toFixed(0):p.toFixed(2),c=p=>{var v,g;return r(((v=p.deposit)==null?void 0:v.amount)??((g=p.withdrawal)==null?void 0:g.amount_collateral)??0)},d=p=>p.deposit?"Deposit":p.withdrawal?"Withdrawal":"Unknown";return(p,v)=>{const g=Pe,f=G,_=D;return h(),S(_,{title:"Events"},{actions:y(()=>[m(g,{"items-count":p.count,"items-per-page":10,page:s(o),onPage:s(n)},null,8,["items-count","page","onPage"])]),default:y(()=>[m(f,{class:"events-table",rows:p.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:y(({item:w})=>[u("div",null,I(d(w)),1),u("div",rv,I(c(w)),1),v[2]||(v[2]=u("div",null,null,-1)),u("div",null,[u("a",{href:`https://etherscan.io/address/${w.provider}`,target:"_blank",onClick:v[0]||(v[0]=de(()=>{},["stop"]))},I(s(we)(w.provider)),9,iv)]),u("div",cv,[u("a",{href:`https://etherscan.io/tx/${w.transaction_hash}`,target:"_blank",onClick:v[1]||(v[1]=de(()=>{},["stop"]))},I(s(l)(w.timestamp)),9,uv)])]),_:1},8,["rows"])]),_:1})}}}),$s=V(dv,[["__scopeId","data-v-3bdcd11f"]]),pv={class:"end"},mv=["href"],vv={class:"end"},hv=["href"],fv=["href"],_v={class:"end"},gv=["href"],yv=T({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:o,onPage:n}=va(),i=It(o,200);Q(i,c=>{a("page",c)});const{relativeTime:l}=Ie(),r=c=>c<1?c.toFixed(4):c>1e3?c.toFixed(0):c.toFixed(2);return(c,d)=>{const p=Pe,v=he,g=G,f=D;return h(),S(f,{title:"Trades"},{actions:y(()=>[m(p,{"items-count":c.count,"items-per-page":10,page:s(o),onPage:s(n)},null,8,["items-count","page","onPage"])]),default:y(()=>[m(g,{class:"trades-table",rows:c.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:y(({item:_})=>[u("div",pv,I(r(_.amount_bought)),1),m(v,{chain:c.chain,address:_.token_bought.address},null,8,["chain","address"]),u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${_.token_bought.address}`},I(_.token_bought.symbol),9,mv)]),u("div",vv,I(r(_.amount_sold)),1),m(v,{chain:c.chain,address:_.token_sold.address},null,8,["chain","address"]),u("div",null,[u("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${_.token_sold.address}`},I(_.token_sold.symbol),9,hv)]),u("div",null,[u("a",{href:`https://etherscan.io/address/${_.buyer}`,target:"_blank",onClick:d[0]||(d[0]=de(()=>{},["stop"]))},I(s(we)(_.buyer)),9,fv)]),u("div",_v,[u("a",{href:`https://etherscan.io/tx/${_.transaction_hash}`,target:"_blank",onClick:d[1]||(d[1]=de(()=>{},["stop"]))},I(s(l)(_.timestamp)),9,gv)])]),_:1},8,["rows"])]),_:1})}}}),Cs=V(yv,[["__scopeId","data-v-e9618012"]]),bv={class:"dashboard-grid"},wv=T({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=b(()=>{var p;return(p=e.market)==null?void 0:p.llamma}),{isFetching:a,data:o}=fa(q("crvusd"),t,R(()=>e.chain)),n=q(1),{isFetching:i,data:l}=ls(q("crvusd"),t,R(()=>e.chain),n),r=q(1),{isFetching:c,data:d}=ns(q("crvusd"),t,R(()=>e.chain),r);return(p,v)=>{var g,f,_,w;return h(),A("div",bv,[m(s(ks),{style:{"grid-area":"ohlc"},ohlc:s(o)??[],loading:s(a)},null,8,["ohlc","loading"]),m(s(Cs),{style:{"grid-area":"trades"},trades:((g=s(l))==null?void 0:g.trades)??[],count:((f=s(l))==null?void 0:f.count)??0,chain:p.chain,loading:s(i),onPage:v[0]||(v[0]=k=>n.value=k)},null,8,["trades","count","chain","loading"]),m(s($s),{style:{"grid-area":"events"},events:((_=s(d))==null?void 0:_.events)??[],count:((w=s(d))==null?void 0:w.count)??0,loading:s(c),onPage:v[1]||(v[1]=k=>r.value=k)},null,8,["events","count","loading"])])}}}),kv=V(wv,[["__scopeId","data-v-b30ae92c"]]),$v={class:"dashboard"},Cv=T({__name:"Market.page",setup(e){const{show:t,crumbs:a}=xe(Te()),o=be("marketAddr"),{isFetching:n,data:i}=ma(),l=b(()=>i.value.find(d=>d.address===o.value));Q(l,d=>{a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ke(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:c}=tt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(d,p)=>{const v=Ye,g=Be,f=Fe;return h(),A("div",$v,[m(v,{class:M({loading:s(n)})},null,8,["class"]),!s(n)&&s(l)?(h(),S(f,{key:0,active:s(c),onTab:p[0]||(p[0]=_=>c.value=_.index)},{default:y(()=>[m(g,{header:"Overview"},{default:y(()=>[(h(),S(re,null,[s(r)==="overview"?(h(),S(Cm,{key:0,market:s(l),chain:"ethereum"},null,8,["market"])):F("",!0)],1024))]),_:1}),m(g,{header:"Trading"},{default:y(()=>[(h(),S(re,null,[s(r)==="trading"?(h(),S(kv,{key:0,market:s(l),chain:"ethereum"},null,8,["market"])):F("",!0)],1024))]),_:1}),m(g,{header:"Liquidations"},{default:y(()=>[(h(),S(re,null,[s(r)==="liquidations"?(h(),S(sv,{key:0,market:s(l),chain:"ethereum"},null,8,["market"])):F("",!0)],1024))]),_:1})]),_:1},8,["active"])):F("",!0)])}}}),Av=V(Cv,[["__scopeId","data-v-496654d0"]]);function Ge(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const Sv=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),Lv=e=>{const t=parseFloat(e.rate),a=parseFloat(e.borrow_apy)/100,o=parseFloat(e.lend_apy)/100,n=e.n_loans,i=parseFloat(e.price_oracle),l=parseFloat(e.amm_price),r=parseFloat(e.total_debt),c=parseFloat(e.total_debt_usd),d=parseFloat(e.total_assets),p=parseFloat(e.total_assets_usd),v=parseFloat(e.minted),g=parseFloat(e.redeemed),f=parseFloat(e.collateral_balance),_=parseFloat(e.collateral_balance_usd),w=parseFloat(e.borrowed_balance),k=parseFloat(e.borrowed_balance_usd),C=$e(e.timestamp),$=e.liquidation_discount,L=e.loan_discount;return{rate:t,borrowApy:a,lendApy:o,numLoans:n,priceOracle:i,ammPrice:l,totalDebt:r,totalDebtUsd:c,totalAssets:d,totalAssetsUsd:p,minted:v,redeemed:g,collateralBalance:f,collateralBalanceUsd:_,borrowedBalance:w,borrowedBalanceUsd:k,timestamp:C,discountLiquidation:$,discountLoan:L}},Xt="https://prices.curve.fi";class Tv extends Le{async getChains(){return this.fetch(`${Xt}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${Xt}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(Sv)}async getSnapshots(t,a){return(await this.fetch(`${Xt}/v1/lending/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Lv)}}const _a=new Tv;function Iv(e){return b(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function Vv(){return{initialData:[],initialDataUpdatedAt:0}}function qv(){return E({queryKey:["llama-markets-chains"],queryFn:()=>_a.getChains(),initialData:["ethereum","arbitrum"],initialDataUpdatedAt:0})}function As(e){return E({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>_a.getMarkets(t)})}function nt(e,t){return E({queryKey:["llama-market-snapshots",Iv(e)],queryFn:({queryKey:[,a]})=>_a.getSnapshots(t.value,a),...Vv(),enabled:b(()=>!!e.value&&!!t.value)})}const Pv={class:"end"},Fv={class:"end"},Bv={class:"end"},Dv={class:"end"},Mv={class:"end"},Uv={class:"end"},Rv=T({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const a=t,o=b(()=>e.type==="long"?"Markets - Long":"Markets - Short"),n=b(()=>e.pairs.map(r=>({count:(r.long?1:0)+(r.short?1:0),...r})).orderBy([r=>r.count,({long:r,short:c})=>Ge(r)+Ge(c)],["desc","desc"]).map(({long:r,short:c})=>e.type==="long"?r:c));function i(r){return r.name.replace(/(-long|-short)/i,"")}const l=r=>e.type==="long"?r.collateral_token.address:r.borrowed_token.address;return(r,c)=>{const d=he,p=X,v=G,g=D;return h(),S(g,{title:s(o),loading:r.loading},{default:y(()=>[m(v,{class:"markets-table","expand-side":"left",rows:s(n),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:c[0]||(c[0]=f=>a("selected",f))},{row:y(({item:f})=>[f?(h(),A(Y,{key:0},[m(d,{chain:r.chain,address:l(f)},null,8,["chain","address"]),u("div",null,I(i(f)),1),u("div",Pv,[f.borrow_apy?(h(),S(p,{key:0,value:f.borrow_apy,type:"percentage"},null,8,["value"])):F("",!0)]),u("div",Fv,[f.lend_apy?(h(),S(p,{key:0,value:f.lend_apy,type:"percentage"},null,8,["value"])):F("",!0)]),u("div",Bv,[s(Ge)(f)?(h(),S(p,{key:0,value:s(Ge)(f),type:"dollar"},null,8,["value"])):F("",!0)]),u("div",Dv,I(f.n_loans),1)],64)):F("",!0)]),"row-aggregation":y(()=>[c[1]||(c[1]=u("div",null,null,-1)),c[2]||(c[2]=u("div",null,null,-1)),c[3]||(c[3]=u("div",null,null,-1)),c[4]||(c[4]=u("div",null,null,-1)),c[5]||(c[5]=u("div",null,null,-1)),u("div",Mv,[m(p,{value:s(n).filter(f=>f).map(f=>f).reduce((f,_)=>f+s(Ge)(_),0),type:"dollar"},null,8,["value"])]),u("div",Uv,I(s(n).filter(f=>f).map(f=>f).reduce((f,_)=>f+_.n_loans,0)),1)]),"row-details":y(()=>c[6]||(c[6]=[U("   ")])),_:1},8,["rows"])]),_:1},8,["title","loading"])}}}),Va=V(Rv,[["__scopeId","data-v-cad97588"]]),Ev={class:"dashboard"},Ov={class:"toolbar"},xv={class:"markets"},Wv={class:"kpis"},Nv={class:"markets"},Kv={class:"kpis"},Hv=T({__name:"LlamaLend.page",setup(e){const t=be("chain"),a=b({get(){return t.value?t.value:"ethereum"},set(w){t.value=w}}),o=q(""),n=b(()=>i.value.filter(({long:w,short:k})=>{const C=o.value.toLocaleLowerCase().split(" ");return(L=>C.some(B=>L.toLocaleLowerCase().includes(B)))(`${(w==null?void 0:w.name)??""}${(k==null?void 0:k.name)??""}`)})),i=b(()=>{const w=["crvusd"],k=(r.value??[]).map(L=>({market:L,isLong:w.includes(L.borrowed_token.symbol.toLocaleLowerCase()),isShort:w.includes(L.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:L,isShort:B})=>L||B),C=[],$=new Set;for(const{market:L,isLong:B,isShort:P}of k){if($.has(L.controller))continue;$.add(L.controller);const K=k.find(W=>W.market.borrowed_token.address===L.collateral_token.address&&W.market.collateral_token.address===L.borrowed_token.address);K&&$.add(K.market.controller),C.push({long:B?L:K==null?void 0:K.market,short:P?L:K==null?void 0:K.market})}return C}),{isFetching:l,data:r}=As(a),{data:c}=qv(),{show:d,crumbs:p}=xe(Te());ke(()=>{d.value=!0,p.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:a.value})},{id:"market",label:"Select market for details",hint:!0}]});const v=Ze(),g=async w=>{w&&await v.push({name:"llamalendmarket",params:{tab:"",chain:a.value,marketAddr:w.controller}})},f=w=>n.value.map(k=>w==="long"?k.long:k.short).filter(k=>!!k).reduce((k,C)=>k+C.total_debt_usd,0),_=w=>{const k=n.value.map(C=>w==="long"?C.long:C.short).filter(C=>!!C).reduce(({debt:C,assets:$},L)=>({debt:C+L.total_debt_usd,assets:$+L.total_assets_usd}),{debt:0,assets:0});return k.assets===0?0:k.debt/k.assets*100};return(w,k)=>{const C=ge,$=X,L=me;return h(),A("div",Ev,[(h(),S(Vt,{to:"#toolbar"},[u("div",Ov,[m(C,{modelValue:s(o),"onUpdate:modelValue":k[0]||(k[0]=B=>ie(o)?o.value=B:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(Ut,{class:"chain-select",chain:s(a),chains:s(c),onSelectChain:k[1]||(k[1]=B=>a.value=B==="all"?"ethereum":B)},null,8,["chain","chains"])])])),u("div",xv,[u("div",Wv,[m(L,{label:"Open Interest","has-value":!s(l)},{default:y(()=>[m($,{value:f("long"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(L,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!s(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:y(()=>[m($,{value:_("long"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(s(Va),{style:{"grid-column":"1"},type:"long",pairs:s(n),loading:s(l),chain:s(a),onSelected:g},null,8,["pairs","loading","chain"])]),u("div",Nv,[u("div",Kv,[m(L,{label:"Open Interest","has-value":!s(l)},{default:y(()=>[m($,{value:f("short"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(L,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!s(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:y(()=>[m($,{value:_("short"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(s(Va),{style:{"grid-column":"2"},type:"short",pairs:s(n),loading:s(l),chain:s(a),onSelected:g},null,8,["pairs","loading","chain"])])])}}}),Qv=V(Hv,[["__scopeId","data-v-063c3eac"]]),zv={style:{display:"flex"}},jv={ref:"chartRef",class:"chart"},Gv=T({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const t=H(),{items:a,toggles:o,disabled:n}=Se(()=>{const{blue:v,yellow:g,purple:f}=t.value.colors;return[{id:"supply",label:"Supply",color:v},{id:"debt",label:"Debt",color:g},{id:"util",label:"Util %",color:f,togglable:!0}]}),{isFetching:i,data:l}=nt(R(()=>e.market),R(()=>e.chain)),r=ne("card"),{chart:c,series:d}=te({createChartOptions:ee(b(()=>({leftPriceScale:{visible:o.util.value}}))),series:[{type:"Line",name:"supply",options:b(()=>({priceFormat:{type:"custom",formatter:v=>`$${N(v,0,"dollar")}${x(v,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:b(()=>({priceFormat:{type:"custom",formatter:v=>`$${N(v,0,"dollar")}${x(v,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:b(()=>({priceFormat:{type:"custom",formatter:v=>`${Math.round(v*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:t.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});J(p);function p(){var _,w,k,C;if(!c.value||!d.supply||!d.debt||!d.util)return;const v=l.value.map($=>({time:$.timestamp,value:$.totalAssetsUsd})).uniqWith(($,L)=>$.time===L.time).orderBy($=>$.time,"asc"),g=l.value.map($=>({time:$.timestamp,value:$.totalDebtUsd})).uniqWith(($,L)=>$.time===L.time).orderBy($=>$.time,"asc"),f=(o.util.value?v:[]).zip(g).map(([$,L])=>({time:L.time,value:$.value>0?L.value/$.value:0})).uniqWith(($,L)=>$.time===L.time).orderBy($=>$.time,"asc");if(d.supply.setData(v),d.debt.setData(g),d.util.setData(f),d.util.applyOptions({visible:o.util.value}),v.length>0||g.length>0){const $=Math.min(((_=v.at(0))==null?void 0:_.time)??1/0,((w=g.at(0))==null?void 0:w.time)??1/0),L=Math.max(((k=v.at(-1))==null?void 0:k.time)??-1/0,((C=g.at(-1))==null?void 0:C.time)??-1/0);c.value.timeScale().setVisibleRange({from:$,to:L})}}return(v,g)=>{const f=Ae,_=D;return h(),S(_,{ref_key:"card",ref:r,title:"Supply & Debt",loading:s(i)},{actions:y(()=>[u("div",zv,[m(s(fe),{filename:"supply_debt_util",series:s(d)},null,8,["series"]),m(s(_e),{chart:s(c),target:s(r)},null,8,["chart","target"])])]),"actions-secondary":y(()=>[m(f,{items:s(a),disabled:s(n),onToggle:g[0]||(g[0]=w=>s(o)[w].value=!s(o)[w].value)},null,8,["items","disabled"])]),default:y(()=>[u("div",jv,null,512)]),_:1},8,["loading"])}}}),Xv={style:{display:"flex"}},Zv={ref:"chartRef",class:"chart"},Yv=T({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=nt(R(()=>e.market),R(()=>e.chain)),o=H(),n=b(()=>e.market?e.market.collateral_token.symbol:"?"),i=b(()=>e.market?e.market.borrowed_token.symbol:"?"),{items:l}=Se(()=>[{id:n.value,label:n.value,color:o.value.colors.blue},{id:i.value,label:i.value,color:o.value.colors.yellow}]),r=q(!0),c=ne("card"),{chart:d,series:p}=te({createChartOptions:ee(),series:[{type:"Line",name:"collateral",options:b(()=>({priceFormat:{type:"custom",formatter:g},lineWidth:2,color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:b(()=>({priceFormat:{type:"custom",formatter:g},lineWidth:2,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(v);function v(){var k,C,$,L;if(!d.value||!p.collateral||!p.borrowed)return;const f=r.value,_=a.value.map(B=>({time:B.timestamp,value:f?B.collateralBalanceUsd:B.collateralBalance})).uniqWith((B,P)=>B.time===P.time).orderBy(B=>B.time,"asc"),w=a.value.map(B=>({time:B.timestamp,value:f?B.borrowedBalanceUsd:B.borrowedBalance})).uniqWith((B,P)=>B.time===P.time).orderBy(B=>B.time,"asc");if(_.length>0&&p.collateral.setData(_),w.length>0&&p.borrowed.setData(w),_.length>0||w.length>0){const B=Math.min(((k=_.at(0))==null?void 0:k.time)??1/0,((C=w.at(0))==null?void 0:C.time)??1/0),P=Math.max((($=_.at(-1))==null?void 0:$.time)??-1/0,((L=w.at(-1))==null?void 0:L.time)??-1/0);d.value.timeScale().setVisibleRange({from:B,to:P})}}function g(f){return`${r.value?"$":""}${N(f,0,"dollar")}${x(f,"dollar")}`}return(f,_)=>{const w=et,k=Ae,C=D;return h(),S(C,{ref_key:"card",ref:c,title:"Collateral",loading:s(t)},{actions:y(()=>[u("div",Xv,[m(w,{style:{"margin-right":"1rem"},value:"Dollars","model-value":s(r),onClick:_[0]||(_[0]=$=>r.value=!s(r))},null,8,["model-value"]),m(s(fe),{filename:"collateral",series:s(p)},null,8,["series"]),m(s(_e),{chart:s(d),target:s(c)},null,8,["chart","target"])])]),"actions-secondary":y(()=>[m(k,{items:s(l)},null,8,["items"])]),default:y(()=>[u("div",Zv,null,512)]),_:1},8,["loading"])}}}),Jv={style:{display:"flex"}},eh={ref:"chartRef",class:"chart"},th=T({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=nt(R(()=>e.market),R(()=>e.chain)),o=H(),n=ne("card"),{chart:i,series:l}=te({createChartOptions:ee(),series:{type:"Histogram",name:"loans",options:b(()=>({color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});J(r);function r(){if(!i.value||!l.loans)return;const c=a.value.map(d=>({time:d.timestamp,value:d.numLoans})).uniqWith((d,p)=>d.time===p.time).orderBy(d=>d.time,"asc");if(c.length>0){l.loans.setData(c);const d=c[0].time,p=c[c.length-1].time;i.value.timeScale().setVisibleRange({from:d,to:p})}}return(c,d)=>{const p=D;return h(),S(p,{ref_key:"card",ref:n,title:"Loans",loading:s(t)},{actions:y(()=>[u("div",Jv,[m(s(fe),{filename:"loans",series:s(l)},null,8,["series"]),m(s(_e),{chart:s(i),target:s(n)},null,8,["chart","target"])])]),default:y(()=>[u("div",eh,null,512)]),_:1},8,["loading"])}}}),ah={style:{display:"flex"}},sh={ref:"chartRef",class:"chart"},oh=T({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const t=H(),{items:a}=Se(()=>[{id:"borrow",label:"Borrow APY",color:t.value.colors.red},{id:"lend",label:"Lend APY",color:t.value.colors.green}]),{isFetching:o,data:n}=nt(R(()=>e.market),R(()=>e.chain)),i=ne("card"),{chart:l,series:r}=te({createChartOptions:ee({localization:{priceFormatter:p=>d(p)}}),series:[{type:"Line",name:"borrowApy",options:b(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,color:t.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:b(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,color:t.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});J(c);function c(){var g,f,_,w;if(!l.value||!r.borrowApy||!r.lendApy)return;const p=n.value.map(k=>({time:k.timestamp,value:k.borrowApy})).uniqWith((k,C)=>k.time===C.time).orderBy(k=>k.time,"asc"),v=n.value.map(k=>({time:k.timestamp,value:k.lendApy})).uniqWith((k,C)=>k.time===C.time).orderBy(k=>k.time,"asc");if(p.length>0&&r.borrowApy.setData(p),v.length>0&&r.lendApy.setData(v),p.length>0||v.length>0){const k=Math.min(((g=p.at(0))==null?void 0:g.time)??1/0,((f=v.at(0))==null?void 0:f.time)??1/0),C=Math.max(((_=p.at(-1))==null?void 0:_.time)??-1/0,((w=v.at(-1))==null?void 0:w.time)??-1/0);l.value.timeScale().setVisibleRange({from:k,to:C})}}function d(p){return`${N(p*100,0,"percentage")}${x(p,"percentage")}`}return(p,v)=>{const g=Ae,f=D;return h(),S(f,{ref_key:"card",ref:i,title:"Rates",loading:s(o)},{actions:y(()=>[u("div",ah,[m(s(fe),{filename:"rates",series:s(r)},null,8,["series"]),m(s(_e),{chart:s(l),target:s(i)},null,8,["chart","target"])])]),"actions-secondary":y(()=>[m(g,{items:s(a)},null,8,["items"])]),default:y(()=>[u("div",sh,null,512)]),_:1},8,["loading"])}}}),nh=["href"],lh={key:1},rh=T({__name:"Addresses",props:{market:{}},setup(e){const t=b(()=>{var n,i,l,r,c;return[{description:"Controller",address:(n=e.market)==null?void 0:n.controller},{description:"Vault",address:(i=e.market)==null?void 0:i.vault},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma},{description:"Policy",address:(r=e.market)==null?void 0:r.policy},{description:"Oracle",address:(c=e.market)==null?void 0:c.oracle}]}),a=n=>`https://etherscan.io/address/${n}`,o=async n=>{await navigator.clipboard.writeText(n)};return(n,i)=>{const l=ce,r=G,c=D;return h(),S(c,{title:"Addresses",class:"addresses"},{default:y(()=>[m(r,{class:"addresses-table",rows:s(t)},{row:y(({item:{description:d,address:p}})=>[u("div",null,I(d),1),u("div",null,[p?(h(),A("a",{key:0,class:"font-mono",href:a(p),target:"_blank"},I(p),9,nh)):(h(),A("span",lh,"?"))]),u("div",null,[p?(h(),S(l,{key:0,icon:"fas fa-link",onClick:v=>o(p)},null,8,["onClick"])):F("",!0)])]),_:1},8,["rows"])]),_:1})}}}),ih=V(rh,[["__scopeId","data-v-dec7640f"]]),ch={class:"usage"},uh={class:"two-sides"},dh={class:"collateral"},ph={class:"two-sides"},mh={class:"two-sides"},vh=T({__name:"KPIUsage",props:{market:{}},setup(e){const t=b(()=>{var n,i;return(((n=e.market)==null?void 0:n.collateral_balance_usd)??0)+(((i=e.market)==null?void 0:i.borrowed_balance_usd)??0)}),a=b(()=>{var r,c;const n="Collateral",i=((r=e.market)==null?void 0:r.collateral_token.symbol)??"?",l=((c=e.market)==null?void 0:c.borrowed_token.symbol)??"?";return`${n} (${i} / ${l})`}),o=b(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(n,i)=>{var c,d;const l=X,r=me;return h(),A("div",ch,[m(r,{style:{"grid-area":"kpi1"},label:s(a),"has-value":!!n.market},{default:y(()=>{var p,v;return[u("div",uh,[u("div",dh,[m(l,{value:(p=n.market)==null?void 0:p.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),i[0]||(i[0]=U(" / ")),m(l,{value:(v=n.market)==null?void 0:v.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),m(l,{value:s(t),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi2"},label:`Borrowed (${((c=n.market)==null?void 0:c.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:y(()=>{var p,v;return[u("div",ph,[m(l,{value:(p=n.market)==null?void 0:p.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(v=n.market)==null?void 0:v.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi3"},label:`Supplied (${((d=n.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:y(()=>{var p,v;return[u("div",mh,[m(l,{value:(p=n.market)==null?void 0:p.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(v=n.market)==null?void 0:v.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:"Utilization Rate",tooltip:"Utilization rate is total supplied divided by total borrowed","has-value":!!n.market},{default:y(()=>[m(l,{value:s(o)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])])}}}),hh=V(vh,[["__scopeId","data-v-e0e173d9"]]),fh={key:0},_h={class:"token-info"},gh=["href"],yh={key:1},bh=T({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,r){return r?l==="collateral"?{type:"token",symbol:r.collateral_token.symbol,address:r.collateral_token.address}:{type:"token",symbol:r.borrowed_token.symbol,address:r.borrowed_token.address}:{type:"token",symbol:"?",address:"?"}}const o=b(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,i=async l=>{await navigator.clipboard.writeText(l)};return(l,r)=>{const c=he,d=ce,p=G,v=D;return h(),S(v,{class:"properties",title:"Properties"},{default:y(()=>[m(p,{class:"properties-table",rows:s(o)},{row:y(({item:{description:g,value:f}})=>[u("div",null,I(g),1),t(f)?(h(),A("div",fh,[u("div",_h,[m(c,{chain:l.chain,address:f.address},null,8,["chain","address"]),u("div",null,I(f.symbol),1),u("div",null,[u("a",{class:"font-mono",href:n(f.address),target:"_blank"},I(f.address),9,gh)]),u("div",null,[m(d,{icon:"fas fa-link",onClick:_=>i(f.address)},null,8,["onClick"])])])])):(h(),A("div",yh,I(f),1))]),_:1},8,["rows"])]),_:1})}}}),wh=V(bh,[["__scopeId","data-v-2d37f285"]]),kh={class:"dashboard-grid"},$h=T({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=nt(R(()=>e.market),R(()=>e.chain)),o=b(()=>a.value.map(({timestamp:i,collateralBalanceUsd:l,borrowedBalanceUsd:r,totalDebtUsd:c})=>({timestamp:i,ratio:c>0?(l+r)/c:0}))),n=b(()=>a.value.map(({timestamp:i,collateralBalanceUsd:l,borrowedBalanceUsd:r,totalDebtUsd:c})=>({timestamp:i,equity:l+r-c})));return(i,l)=>{const r=X,c=me;return h(),A("div",kh,[m(c,{style:{"grid-area":"kpi1"},label:"Borrow APY","has-value":!!i.market},{default:y(()=>{var d;return[m(r,{value:(d=i.market)==null?void 0:d.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi2"},label:"Lend APY","has-value":!!i.market},{default:y(()=>{var d;return[m(r,{value:(d=i.market)==null?void 0:d.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi3"},label:"Loans","has-value":!!i.market},{default:y(()=>{var d;return[U(I(((d=i.market)==null?void 0:d.n_loans)??0),1)]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi4"},label:"TVL","has-value":!!i.market},{default:y(()=>[m(r,{value:s(Ge)(i.market),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(s(Gv),{style:{"grid-area":"supply"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(s(Yv),{style:{"grid-area":"collateral"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(s(ws),{style:{"grid-area":"colratio"},ratios:s(o),loading:s(t)},null,8,["ratios","loading"]),m(s(ev),{style:{"grid-area":"equity"},equity:s(n),loading:s(t)},null,8,["equity","loading"]),m(s(oh),{style:{"grid-area":"rates"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(s(th),{style:{"grid-area":"loans"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(s(ih),{style:{"grid-area":"addresses"},market:i.market},null,8,["market"]),m(s(wh),{style:{"grid-area":"properties"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(s(hh),{style:{"grid-area":"usage"},market:i.market},null,8,["market"])])}}}),Ch=V($h,[["__scopeId","data-v-39ccd20b"]]),Ah={class:"dashboard-grid"},Sh=T({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=b(()=>{var p;return(p=e.market)==null?void 0:p.llamma}),{isFetching:a,data:o}=fa(q("lending"),t,R(()=>e.chain)),n=q(1),{isFetching:i,data:l}=ls(q("lending"),t,R(()=>e.chain),n),r=q(1),{isFetching:c,data:d}=ns(q("lending"),t,R(()=>e.chain),r);return(p,v)=>{var _,w,k,C;const g=X,f=me;return h(),A("div",Ah,[m(f,{style:{"grid-area":"oracle"},label:"Oracle Price","has-value":!!p.market},{default:y(()=>{var $;return[m(g,{value:($=p.market)==null?void 0:$.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(f,{style:{"grid-area":"amm"},label:"AMM Price","has-value":!!p.market},{default:y(()=>{var $;return[m(g,{value:($=p.market)==null?void 0:$.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(s(ks),{style:{"grid-area":"ohlc"},ohlc:s(o)??[],loading:s(a)},null,8,["ohlc","loading"]),m(s(Cs),{style:{"grid-area":"trades"},trades:((_=s(l))==null?void 0:_.trades)??[],count:((w=s(l))==null?void 0:w.count)??0,chain:p.chain,loading:s(i),onPage:v[0]||(v[0]=$=>n.value=$)},null,8,["trades","count","chain","loading"]),m(s($s),{style:{"grid-area":"events"},events:((k=s(d))==null?void 0:k.events)??[],count:((C=s(d))==null?void 0:C.count)??0,loading:s(c),onPage:v[1]||(v[1]=$=>r.value=$)},null,8,["events","count","loading"])])}}}),Lh=V(Sh,[["__scopeId","data-v-dfc1b8b0"]]),Th={class:"dashboard-grid"},Ih=T({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=b(()=>{var L;return(L=e.market)==null?void 0:L.controller}),{isFetching:a,data:o}=nt(R(()=>e.market),R(()=>e.chain)),n=b(()=>o.value.map(({timestamp:L,priceOracle:B})=>({timestamp:L,priceOracle:B}))),i=b(()=>o.value.map(({timestamp:L,discountLiquidation:B})=>({timestamp:L,discount:B}))),{isFetching:l,data:r}=cs(q("lending"),R(()=>e.chain),t),{isFetching:c,data:d}=is(q("lending"),R(()=>e.chain),t),{isFetching:p,data:v}=rs(q("lending"),R(()=>e.chain),t),g=b(()=>v.value.map(({timestamp:L,proportion:B})=>({timestamp:L,proportion:B*100}))),{isFetching:f,data:_}=us(q("lending"),R(()=>e.chain),t),{isFetching:w,data:k}=ds(q("lending"),R(()=>e.chain),t),{isFetching:C,data:$}=ps(q("lending"),R(()=>e.chain),t);return(L,B)=>(h(),A("div",Th,[m(s(ys),{overview:s(_),loading:s(f)},null,8,["overview","loading"]),m(s(_s),{ratios:s(g),"prices-oracle":s(n),loading:s(p)||s(a)},null,8,["ratios","prices-oracle","loading"]),m(s(vs),{losses:s(k),loading:s(w)},null,8,["losses","loading"]),m(s(hs),{losses:s(k),loading:s(w)},null,8,["losses","loading"]),m(s(fs),{deciles:s($),loading:s(C)},null,8,["deciles","loading"]),m(s(ms),{liqs:s(r),loading:s(l)},null,8,["liqs","loading"]),m(s(bs),{liqs:s(d),loading:s(c)},null,8,["liqs","loading"]),m(s(gs),{discounts:s(i),liqs:s(d),loading:s(a)||s(c)},null,8,["discounts","liqs","loading"])]))}}),Vh=V(Ih,[["__scopeId","data-v-3072c8e6"]]),qh={class:"dashboard"},Ph=T({__name:"Market.page",setup(e){const{show:t,crumbs:a}=xe(Te()),o=be("chain"),n=be("marketAddr"),{isFetching:i,data:l}=As(o),r=b(()=>{var p;return(p=l.value)==null?void 0:p.find(v=>v.controller===n.value)});Q(r,p=>{a.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(p==null?void 0:p.name)??"?"}`}]},{immediate:!0}),ke(()=>{t.value=!0});const{tabActive:c,tabActiveIndex:d}=tt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:n.value}));return(p,v)=>{const g=Ye,f=Be,_=Fe;return h(),A("div",qh,[m(g,{class:M({loading:s(i)})},null,8,["class"]),!s(i)&&s(r)?(h(),S(_,{key:0,active:s(d),onTab:v[0]||(v[0]=w=>d.value=w.index)},{default:y(()=>[m(f,{header:"Overview"},{default:y(()=>[(h(),S(re,null,[s(c)==="overview"?(h(),S(Ch,{key:0,market:s(r),chain:s(o)},null,8,["market","chain"])):F("",!0)],1024))]),_:1}),m(f,{header:"Trading"},{default:y(()=>[(h(),S(re,null,[s(c)==="trading"?(h(),S(Lh,{key:0,market:s(r),chain:s(o)},null,8,["market","chain"])):F("",!0)],1024))]),_:1}),m(f,{header:"Liquidations"},{default:y(()=>[(h(),S(re,null,[s(c)==="liquidations"?(h(),S(Vh,{key:0,market:s(r),chain:s(o)},null,8,["market","chain"])):F("",!0)],1024))]),_:1})]),_:1},8,["active"])):F("",!0)])}}}),Fh=V(Ph,[["__scopeId","data-v-f4fbfc0f"]]);function Ss(e){const{url:t,connectOnMount:a=!0}=e,o=na(null),n=q("");function i(){return o.value&&v(),n.value=typeof t=="function"?t():t,qo(n.value,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",f=>{Ce({text:`Socket.IO error: ${f.message}`,type:"error"})})}const l=q(!1),r=q(!1);function c(){l.value=!1,r.value=!0}function d(){Ce({text:`Failed to connect to ${n.value}`,type:"error"}),l.value=!1}function p(){o.value=null,r.value=!1}function v(){var f,_,w,k;(f=o.value)==null||f.off("connect",c),(_=o.value)==null||_.off("connect_error",d),(w=o.value)==null||w.off("disconnect",p),(k=o.value)==null||k.disconnect(),p()}function g(){l.value||(o.value&&v(),o.value=i(),o.value.on("connect",c),o.value.on("connect_error",d),o.value.on("disconnect",p),l.value=!0,o.value.connect())}return a&&ke(g),{socket:o,connecting:l,isConnected:r,connect:g,disconnect:v,url:n}}var ye=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))(ye||{});let Zt;function Ls(){return Zt||(Zt=Ss({url:"wss://api.curvemonitor.com/main"})),Zt}function Yt(e,t,a,...o){return new Promise(n=>{e.once(a,n),e.emit(t,...o)})}function Ts(e,t,a){return new Po(o=>{const n=i=>{o.next(i)};return e.on(t,n),()=>e.off(t,n)}).pipe(Fo())}class Is{constructor(t){this.socket=t}getSandwiches(){return Yt(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return Yt(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return Yt(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function Vs(){const{socket:e,isConnected:t,url:a}=Ls(),o=b(()=>e.value?new Is(e.value):null),n=b(()=>["mev-labels",a.value]);return E({queryKey:n,queryFn:()=>{var i;return(i=o.value)==null?void 0:i.getLabels()},enabled:t})}function Bh(){const{socket:e,isConnected:t,url:a}=Ls(),o=b(()=>e.value?new Is(e.value):null),n=b(()=>["mev-sandwiches-tx",a.value]);return E({queryKey:n,queryFn:()=>{var i;return(i=o.value)==null?void 0:i.getSandwiches()},enabled:t})}const Dh=T({__name:"LabelsWorstRelative",setup(e){const{data:t,isFetching:a}=Vs(),o=c=>(c??[]).filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,p)=>p.ratio-d.ratio).slice(0,10),n=b(()=>o(t.value).map(c=>c.label)),i=b(()=>o(t.value).map(c=>c.ratio)),l=b(()=>qe({chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const d=c.w.globals.labels[c.seriesIndex],p=c.series[c.seriesIndex];return[`<div><b>${d}</b>:</div><div>Ratio: ${r(p)}</div>`].join("")}},labels:n.value})),r=c=>`${c}%`;return(c,d)=>{const p=Ve,v=D;return h(),S(v,{title:"Worst relative offenders",loading:s(a)},{default:y(()=>[m(p,{options:s(l),series:s(i)},null,8,["options","series"])]),_:1},8,["loading"])}}}),Mh=V(Dh,[["__scopeId","data-v-169d3c7e"]]),Uh=T({__name:"LabelsWorstAbsolute",setup(e){const{data:t,isFetching:a}=Vs(),o=c=>(c??[]).filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,p)=>p.occurrences-d.occurrences).slice(0,10),n=b(()=>o(t.value).map(c=>c.label)),i=b(()=>o(t.value).map(c=>c.occurrences)),l=b(()=>qe({chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const d=c.w.globals.labels[c.seriesIndex],p=c.series[c.seriesIndex];return[`<div><b>${d}</b>:</div><div>Occurences: ${r(p)}</div>`].join("")}},labels:n.value})),r=c=>`${c}`;return(c,d)=>{const p=Ve,v=D;return h(),S(v,{title:"Worst absolute offenders",loading:s(a)},{default:y(()=>[m(p,{options:s(l),series:s(i)},null,8,["options","series"])]),_:1},8,["loading"])}}}),Rh=V(Uh,[["__scopeId","data-v-a8231dbd"]]),Eh={style:{display:"grid","grid-template-columns":"auto auto"}},Oh={style:{display:"flex",gap:"1rem"}},xh={key:0,class:"fas fa-arrow-up"},Wh={key:1,class:"fas fa-arrow-down"},Nh={key:2,class:"fas fa-exchange-alt"},Kh={key:0,class:"end"},Hh=["href"],Qh=["href"],zh=["href"],jh=["innerHTML"],Gh={key:1,class:"end"},qa=10,Xh=T({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{relativeTime:t}=Ie(),a=q(""),o=q([ye.Swap,ye.Deposit,ye.Remove]),n=b(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),i=b(()=>(e.txs??[]).filter(v=>o.value.includes(v.transaction_type)).filter(v=>{const g=a.value.toLocaleLowerCase().split(" "),f=_=>g.some(w=>_.toLocaleLowerCase().includes(w));return f(v.block_number.toString())||f(v.trader)||f(v.tx_hash)})),{page:l,rowsPage:r,onPage:c}=yt(i,qa),d=v=>{if(v.transaction_type===ye.Swap){const g=v.coins_leaving_wallet[0],f=v.coins_entering_wallet[0],_=Re(parseFloat(g.amount.toString())),w=Re(parseFloat(f.amount.toString())),k=`<span>${_} ${g.name}</span>`,C="<i class='fas fa-arrow-right'></i>",$=`<span style='justify-self: end;'>${w} ${f.name}</span>`;return`${k}${C}${$}`}else if(v.transaction_type===ye.Deposit){const g=v.coins_entering_wallet[0];return`${Re(parseFloat(g.amount.toString()))} ${g.name}`}else{const g=v.coins_leaving_wallet[0];return`${Re(parseFloat(g.amount.toString()))} ${g.name}`}},p=v=>{v===0?o.value=[ye.Swap,ye.Deposit,ye.Remove]:v===1?o.value=[ye.Swap]:v===2?o.value=[ye.Deposit]:v===3?o.value=[ye.Remove]:o.value=[]};return(v,g)=>{const f=Be,_=Fe,w=ge,k=Pe,C=G,$=D;return h(),S($,{class:"trades-card",title:"Transactions"},Bo({default:y(()=>[m(C,{class:M(["trades-table",{compact:v.compact,time:v.time}]),rows:s(r),columns:s(n)},{row:y(({item:L})=>[u("div",{class:M(["type",{deposit:L.transaction_type==="deposit",remove:L.transaction_type==="remove",swap:L.transaction_type==="swap"}])},[L.transaction_type==="deposit"?(h(),A("i",xh)):L.transaction_type==="remove"?(h(),A("i",Wh)):(h(),A("i",Nh)),U(" "+I(s(ht)(L.transaction_type)),1)],2),v.time?(h(),A("div",Kh,[u("a",{class:"vote-link",href:`https://etherscan.io/block/${L.block_number}`,target:"_blank"},I(L.block_number),9,Hh)])):F("",!0),u("div",null,[u("a",{class:"vote-link",href:`https://etherscan.io/tx/${L.tx_hash}`,target:"_blank",onClick:g[2]||(g[2]=de(()=>{},["stop"]))},I(s(we)(L.tx_hash)),9,Qh)]),u("div",null,[u("a",{class:"vote-link",href:`https://etherscan.io/address/${L.trader}`,target:"_blank",onClick:g[3]||(g[3]=de(()=>{},["stop"]))},I(s(we)(L.trader)),9,zh)]),u("div",{class:M(["assets",{swap:L.transaction_type==="swap"}]),innerHTML:d(L)},null,10,jh),v.time?(h(),A("div",Gh,I(s(t)(L.block_unixtime)),1)):F("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[v.header?{name:"actions",fn:y(()=>[u("div",Eh,[m(_,{class:"types",onTab:g[0]||(g[0]=L=>p(L.index))},{default:y(()=>[m(f,{header:"All"}),m(f,{header:"Swaps"}),m(f,{header:"Deposits"}),m(f,{header:"Removals"})]),_:1})]),u("div",Oh,[m(w,{modelValue:s(a),"onUpdate:modelValue":g[1]||(g[1]=L=>ie(a)?a.value=L:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(k,{class:"pagination","items-count":s(i).length,"items-per-page":qa,page:s(l),onPage:s(c)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1024)}}}),Zh=V(Xh,[["__scopeId","data-v-50b41bd8"]]),Yh={style:{display:"flex",gap:"1rem"}},Jh=["href"],ef={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},tf=["href"],af={class:"end"},Jt=10,sf=T({__name:"Sandwiches",setup(e){const t=q(1),{data:a,isFetching:o}=Bh(),{expanded:n,toggleExpansion:i}=os(),{relativeTime:l}=Ie(),r=q(""),c=b(()=>{var v;return((v=a.value)==null?void 0:v.totalPages)??0*Jt}),d=b(()=>{var v;return(((v=a.value)==null?void 0:v.data)??[]).filter(g=>{const f=r.value.toLocaleLowerCase().split(" "),_=w=>f.some(k=>w.toLocaleLowerCase().includes(k));return _(g.poolName)||_(g.poolAddress)||_(g.label)}).orderBy([g=>g.frontrun.block_unixtime,g=>g.frontrun.tx_position],"desc")}),p=v=>[v.frontrun,...v.center,v.backrun].orderBy([g=>g.block_unixtime,g=>g.tx_position]);return(v,g)=>{const f=ge,_=Pe,w=G,k=D;return h(),S(k,{class:"sandwiches-card",title:"Sandwiches",loading:s(o)},{actions:y(()=>[u("div",Yh,[m(f,{modelValue:s(r),"onUpdate:modelValue":g[0]||(g[0]=C=>ie(r)?r.value=C:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),s(c)>Jt?(h(),S(_,{key:0,class:"pagination","items-count":s(c),"items-per-page":Jt,page:s(t),onPage:g[1]||(g[1]=C=>t.value=C)},null,8,["items-count","page"])):F("",!0)])]),default:y(()=>[m(w,{class:"sandwiches-table",rows:s(d),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:s(n),onSelected:g[2]||(g[2]=C=>s(i)(C))},{row:y(({item:C})=>[u("div",null,[u("a",{class:"vote-link",href:`https://etherscan.io/address/${C.poolAddress}`,target:"_blank"},I(C.poolName),9,Jh)]),u("div",null,[u("div",ef,[u("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${C.center[0].trader}`},I(s(we)(C.center[0].trader)),9,tf),u("span",null," lost "+I(s(Re)(C.user_losses_details.reduce(($,L)=>$+L.amount,0)))+" "+I(C.user_losses_details[0].unit),1),u("span",null,I(s(Re)(-C.user_losses_details[0].lossInPercentage))+"% slippage, or $"+I(s(Re)(C.lossInUsd)),1)])]),u("div",null,I(C.label),1),u("div",af,I(s(l)(C.frontrun.block_unixtime)),1)]),"row-details":y(({item:C})=>[m(Zh,{class:"transactions",txs:p(C),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["loading"])}}}),of=V(sf,[["__scopeId","data-v-bfac95d9"]]),nf={class:"dashboard-grid"},lf=T({__name:"MEV",setup(e){return(t,a)=>(h(),A("div",nf,[m(of,{style:{"grid-area":"sws"}}),m(Mh,{style:{"grid-area":"relative"}}),m(Rh,{style:{"grid-area":"absolute"}})]))}}),rf=V(lf,[["__scopeId","data-v-045c128b"]]),cf={class:"dashboard"},uf=T({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=tt(["mev"],"monitor");return(o,n)=>{const i=Be,l=Fe;return h(),A("div",cf,[m(l,{active:s(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:y(()=>[m(i,{header:"MEV"},{default:y(()=>[(h(),S(re,null,[s(t)==="mev"?(h(),S(rf,{key:0})):F("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),df=V(uf,[["__scopeId","data-v-98334bfd"]]),pf=["all","ownership","parameter","other"];function Xe(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":Fs(e)&&Ps(e)&&qs(e)?"passed":"denied"}function qs(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function Ps(e){return e.votesFor>e.quorum*e.totalSupply}function Fs(e){return e.votesFor>e.votesAgainst}const Bs=e=>{var w;const t=e.vote_id,a=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(w=e.metadata)!=null&&w.startsWith('"')?e.metadata.substring(1):e.metadata??"",n=e.creator.toLocaleLowerCase(),i=e.snapshot_block,l=e.start_date,r=l+604800,c=Ue(BigInt(e.min_accept_quorum),18n),d=Ue(BigInt(e.support_required),18n),p=e.vote_count,v=Ue(BigInt(e.votes_for),18n),g=Ue(BigInt(e.votes_against),18n),f=e.executed,_=Ue(BigInt(e.total_supply),18n);return{id:t,type:a,metadata:o,proposer:n,block:i,start:l,end:r,quorum:c,support:d,voteCount:p,votesFor:v,votesAgainst:g,executed:f,totalSupply:_}},mf=e=>{const t=Bs(e),a=e.script,o=e.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:Ue(BigInt(n.voting_power),18n)}));return{...t,script:a,votes:o}},Pa="https://prices.curve.fi";class vf extends Le{async getProposals(t,a,o,n){const i=await this.fetch(`${Pa}/v1/dao/proposals?pagination=10&page=${t}&search_string=${a}&type_filter=${o}&status_filter=${n}`);return{proposals:i.proposals.map(Bs),count:i.count}}async getProposal(t,a){const o=await this.fetch(`${Pa}/v1/dao/proposals/details/${a}/${t}`);return mf(o)}}const Ds=new vf;function Ms(e,t,a){return E({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,o,n]})=>Ds.getProposal(o,n),...a&&{enabled:a}})}function hf(e,t,a,o){return E({queryKey:["curve-proposals",e,o,t,a],queryFn:({queryKey:[,n,i,l,r]})=>Ds.getProposals(n,i,l,r),placeholderData:qt})}const ff=T({__name:"Status",props:{proposal:{}},setup(e){const t=b(()=>{if(Xe(e.proposal)==="denied")if(Ps(e.proposal))if(Fs(e.proposal)){if(!qs(e.proposal))return"Quorum was reached and 'for' won, but not enough for support"}else return"More 'against' votes than 'for' votes";else return"Quorum was not reached (yes votes need to pass this number)";return""}),a=b(()=>{switch(Xe(e.proposal)){case"active":return"Active";case"denied":return"Denied";case"passed":return"Passed";case"executed":return"Executed";default:return"Unk. Status"}});return(o,n)=>{const i=da,l=me;return h(),S(l,{class:"status","tooltip-type":"underline",label:"Status","has-value":!0,tooltip:s(t)},{default:y(()=>[s(t)?(h(),S(i,{key:0},{trigger:y(()=>[u("span",{class:M(["status-value",s(Xe)(o.proposal)])},I(s(a)),3)]),default:y(()=>[U(" "+I(s(t)),1)]),_:1})):(h(),A("span",{key:1,class:M(["status-value",s(Xe)(o.proposal)])},I(s(a)),3))]),_:1},8,["tooltip"])}}}),_f=V(ff,[["__scopeId","data-v-a1532615"]]),gf=T({__name:"Type",props:{proposal:{}},setup(e){return(t,a)=>{const o=me;return h(),S(o,{class:"type",label:"Type",value:s(ht)(t.proposal.type),"has-value":!0},null,8,["value"])}}}),yf=["href"],bf=T({__name:"Proposer",props:{proposal:{}},setup(e){return(t,a)=>{const o=me;return h(),S(o,{class:"proposer",label:"Proposer","has-value":!0},{default:y(()=>[u("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},I(s(we)(t.proposal.proposer)),9,yf)]),_:1})}}}),Fa=T({__name:"Date",props:{proposal:{},type:{}},setup(e){let t;const a=q(""),o=b(()=>{switch(e.type){case"start":return"Start";case"end":return"End";default:return"Unk. Type"}}),n=b(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(e.proposal.end*1e3);return r>new Date?a.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),i=b(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});ke(()=>{l()});const l=()=>{const r=new Date(e.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=wn(r)})};return(r,c)=>{const d=me;return h(),S(d,{class:"date","tooltip-type":"underline",label:s(o),value:s(n),"has-value":!0,tooltip:s(i)},null,8,["label","value","tooltip"])}}}),wf={class:"metadata"},kf={class:"row"},$f=T({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const a=t,o=b(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),n=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(i,l)=>{const r=dt("router-link");return h(),A("div",{class:"proposal-summary",onClick:l[0]||(l[0]=c=>a("toggleExpand"))},[u("div",{class:M(["title",{"no-title":!i.proposal.metadata}])},[m(r,{to:s(o),class:"id",onClick:n},{default:y(()=>[l[1]||(l[1]=u("i",{class:"fas fa-link"},null,-1)),U(" "+I(i.proposal.id),1)]),_:1},8,["to"]),u("div",wf,I(i.proposal.metadata||"< No Title >"),1)],2),u("div",kf,[m(_f,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(gf,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(bf,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(Fa,{class:"item",proposal:i.proposal,type:"start"},null,8,["proposal"]),m(Fa,{class:"item",proposal:i.proposal,type:"end"},null,8,["proposal"]),u("div",{class:M(["item expander",{expanded:i.expanded}])},l[2]||(l[2]=[u("i",{class:"fas fa-chevron-up"},null,-1)]),2)])])}}}),Cf=V($f,[["__scopeId","data-v-99c7c7a4"]]),Af={class:"results"},Sf={class:"choice"},Lf={class:"amount"},Tf={class:"left"},If={class:"right"},Vf={class:"choice"},qf={class:"amount"},Pf={class:"left"},Ff={class:"right"},Ba=4,Bf=T({__name:"VotingResults",props:{proposal:{}},setup(e){const t=b(()=>e.proposal.votesFor+e.proposal.votesAgainst),a=b(()=>e.proposal.votesFor/t.value*100),o=b(()=>e.proposal.votesAgainst/t.value*100);return(n,i)=>{const l=X;return h(),A("div",Af,[i[8]||(i[8]=u("div",{class:"heading"},"Results",-1)),u("div",Sf,[i[3]||(i[3]=u("div",{class:"label"},"For",-1)),u("div",Lf,[u("div",Tf,[m(l,{value:n.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),i[0]||(i[0]=u("span",null," veCRV",-1))]),u("div",If,[i[1]||(i[1]=u("span",null,"(",-1)),m(l,{value:s(a),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),i[2]||(i[2]=u("span",null,")",-1))])]),u("div",{class:"bar",style:pt({width:`${Math.max(Ba,s(a))}%`})},null,4)]),u("div",Vf,[i[7]||(i[7]=u("div",{class:"label"},"Against",-1)),u("div",qf,[u("div",Pf,[m(l,{value:n.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),i[4]||(i[4]=u("span",null," veCRV",-1))]),u("div",Ff,[i[5]||(i[5]=u("span",null,"(",-1)),m(l,{value:s(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),i[6]||(i[6]=u("span",null,")",-1))])]),u("div",{class:"bar",style:pt({width:`${Math.max(Ba,s(o))}%`})},null,4)])])}}}),Df=V(Bf,[["__scopeId","data-v-fc75ce67"]]),Mf={class:"quorum"},Uf={class:"amount"},Rf={class:"bar"},Ef={class:"percentages"},Of={class:"quorum"},xf=T({__name:"VotingQuorum",props:{proposal:{}},setup(e){const t=b(()=>e.proposal.votesFor),a=b(()=>e.proposal.quorum*e.proposal.totalSupply),o=b(()=>t.value/a.value*100);return(n,i)=>{const l=X;return h(),A("div",Mf,[i[3]||(i[3]=u("div",{class:"heading"},"Quorum",-1)),u("div",Uf,[m(l,{value:s(t),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),i[0]||(i[0]=U(" / ")),m(l,{value:s(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),i[1]||(i[1]=U(" veCRV "))]),u("div",Rf,[u("div",{class:"support",style:pt({width:`${s(o)}%`})},null,4),u("div",{class:"quorum",style:pt({width:`${100-s(o)}%`})},null,4)]),u("div",Ef,[i[2]||(i[2]=u("div",{class:"zero"},"0%",-1)),u("div",Of,[m(l,{value:n.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}}),Wf=V(xf,[["__scopeId","data-v-ffe5ee40"]]),Nf=["min","max"],Kf=T({__name:"Slider",props:Oe({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=mt(e,"modelValue",{set(a){return Number(a)}});return(a,o)=>ia((h(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.value=n),type:"range",min:a.min,max:a.max},null,8,Nf)),[[Ea,t.value]])}}),Hf=V(Kf,[["__scopeId","data-v-d0101b43"]]),Qf=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],je=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];function Lt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function Us(e,t){e.value=!0;try{return await t()}catch(a){Ce({text:Lt(a),type:"error"});return}finally{e.value=!1}}const zf={class:"buttons"},jf={class:"vecrv"},Gf={class:"info"},Xf={class:"kpis"},Zf={class:"description"},Yf={class:"options button-group"},Jf={class:"middle"},e_=["contenteditable","textContent"],t_=T({__name:"VotingButtons",props:{proposal:{}},setup(e){const{address:t}=Pt(),a=q(!1),o=q(50),n=ne("editor"),i=q(!1),l=b(()=>{var Z;return i.value?`${o.value}.`:o.value===0&&((Z=n.value)==null?void 0:Z.textContent)!=="0"?"":o.value.toString()}),r=b(()=>(B.value??0n)>0n&&!Ke.value&&p.value&&L.value===0),c=b(()=>r.value?"Submit":Ke.value?"Voting...":p.value?L.value!==0?"You've already voted":"Not enough voting power":"Voting closed"),d=b(()=>Ue(B.value??0n,18n)),p=b(()=>Xe(e.proposal)==="active"),v=b(()=>Xe(e.proposal)==="passed"),g=()=>{const Z=window.getSelection();return Z&&Z.rangeCount>0?Z.getRangeAt(0).startOffset:0},f=Z=>{if(n.value){const z=document.createRange();z.setStart(n.value.firstChild??n.value,Z),z.collapse(!0);const ve=window.getSelection();ve&&(ve.removeAllRanges(),ve.addRange(z))}},_=()=>{o.value=0,n.value&&(n.value.textContent="0")},w=()=>{o.value=100,n.value&&(n.value.textContent="100")},k=Z=>{Z.target===Z.currentTarget&&n.value&&n.value.focus()},C=()=>{if(n.value){const Z=n.value.textContent??"",z=g();if(/^\d*(\.\d*)?$/.test(Z))if(i.value=Z.endsWith("."),Z){const ve=parseFloat(Z);ve>=0&&ve<=100?o.value=ve:(n.value.textContent=l.value,f(z-1))}else o.value=0;else n.value.textContent=l.value,f(z-1)}},{data:$}=rt({abi:je,address:Qe,functionName:"token",query:{enabled:a}}),{data:L}=rt({abi:je,address:Qe,functionName:"getVoterState",args:b(()=>[BigInt(e.proposal.id),t.value]),query:{enabled:b(()=>!!t.value&&a.value),initialData:0,initialDataUpdatedAt:0}}),{data:B}=rt({abi:Qf,address:$,functionName:"balanceOfAt",args:b(()=>[t.value,BigInt(e.proposal.block)]),query:{enabled:b(()=>!!$.value&&!!t.value&&a.value),initialData:0n,initialDataUpdatedAt:0}}),{data:P,refetch:K}=rt({abi:je,address:Qe,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:b(()=>v.value&&a.value),initialData:!1,initialDataUpdatedAt:0}}),{data:W}=rt({abi:je,address:Qe,functionName:"PCT_BASE",query:{enabled:a}}),{data:Ne,error:O,isPending:pe,writeContract:ue}=ba(),{isLoading:ae,isSuccess:se}=wa({hash:Ne}),Ke=b(()=>pe.value||ae.value);function De(){if(!W.value){Ce({text:Lt("Missing PCT_BASE"),type:"error"});return}const Z=BigInt(Math.log10(Number(W.value))),z=Ha(o.value/100,Z),ve=W.value-z;ue({abi:je,address:Qe,functionName:"votePct",args:[BigInt(e.proposal.id),z,ve,!1]})}ct(O,Z=>{Ce({text:Lt(Z),type:"error"})}),ct(se,()=>{Ce({text:"Voted",type:"success"})});const{data:lt,error:Et,isPending:zs,writeContract:js}=ba(),{isLoading:Gs,isSuccess:Xs}=wa({hash:lt}),ga=b(()=>zs.value||Gs.value);function Zs(){js({abi:je,address:Qe,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),K()}return ct(Et,Z=>{Ce({text:Lt(Z),type:"error"})}),ct(Xs,()=>{Ce({text:"Executed proposal",type:"success"})}),(Z,z)=>{const ve=ce,Ys=X,ya=me,Js=Hf,eo=D,to=ft;return h(),A(Y,null,[u("div",zf,[m(ve,{class:"primary",value:"Vote",onClick:z[0]||(z[0]=Ot=>a.value=!0)}),s(v)?(h(),S(ve,{key:0,class:"primary",value:s(ga)?"Executing...":"Execute",disabled:!s(P)||s(ga),onClick:Zs},null,8,["value","disabled"])):F("",!0)]),m(to,{show:s(a),onClose:z[2]||(z[2]=Ot=>a.value=!1)},{default:y(()=>[m(eo,{title:"Vote with veCRV",class:"vote-content"},{default:y(()=>[u("div",jf,[u("div",Gf,[u("div",Xf,[m(ya,{label:"Voting power","has-value":!0},{default:y(()=>[m(Ys,{value:s(d),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),z[3]||(z[3]=U(" veCRV "))]),_:1}),m(ya,{label:"Block",value:Z.proposal.block,"has-value":!0},null,8,["value"])]),u("div",Zf,[z[4]||(z[4]=u("span",{class:"title"},"Description: ",-1)),u("span",null,I(Z.proposal.metadata),1)])]),u("div",Yf,[m(ve,{class:M(["no",{winning:s(o)<50}]),disabled:!s(r),onClick:_},{default:y(()=>z[5]||(z[5]=[u("span",{class:"label"},"No",-1)])),_:1},8,["class","disabled"]),u("div",Jf,[u("i",{class:M(["fas fa-times",{winning:s(o)<50}])},null,2),u("div",{class:M(["value",{disabled:!s(r)}]),onClick:k},[u("span",{ref_key:"editor",ref:n,contenteditable:s(r),onInput:C,textContent:I(s(l))},null,40,e_),z[6]||(z[6]=U(" % "))],2),u("i",{class:M(["fas fa-check",{winning:s(o)>50}])},null,2)]),m(ve,{class:M(["yes",{winning:s(o)>50}]),disabled:!s(r),onClick:w},{default:y(()=>z[7]||(z[7]=[u("span",{class:"label"},"Yes",-1)])),_:1},8,["class","disabled"])]),m(Js,{modelValue:s(o),"onUpdate:modelValue":z[1]||(z[1]=Ot=>ie(o)?o.value=Ot:null),class:"slider",disabled:!s(r),min:0,max:100},null,8,["modelValue","disabled"]),m(ve,{class:"submit primary",value:s(c),disabled:!s(r),"chain-id":s(Ee).id,onClick:De},null,8,["value","disabled","chain-id"])])]),_:1})]),_:1},8,["show"])],64)}}}),a_=V(t_,[["__scopeId","data-v-45bcc5f0"]]),s_={class:"voting"},o_=T({__name:"Voting",props:{proposal:{}},setup(e){return(t,a)=>(h(),A("div",s_,[m(Wf,{proposal:t.proposal},null,8,["proposal"]),m(Df,{proposal:t.proposal},null,8,["proposal"]),m(a_,{proposal:t.proposal},null,8,["proposal"])]))}}),n_=V(o_,[["__scopeId","data-v-ab141038"]]),l_={class:"voters"},r_={class:"for"},i_={class:"address"},c_=["href"],u_={class:"amount"},d_={class:"percentage"},p_={class:"against"},m_={class:"percentage"},v_={class:"amount"},h_={class:"address"},f_=["href"],__=T({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{address:t}=Pt(),a=b(()=>e.proposalDetails?e.proposalDetails.votes.filter(r=>r.supports).orderBy(r=>r.votingPower,"desc"):null),o=b(()=>e.proposalDetails?e.proposalDetails.votes.filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc"):null),n=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":we(r,12),i=r=>r/(e.proposal.votesFor+e.proposal.votesAgainst)*100,l=r=>r===t.value;return(r,c)=>{const d=X;return h(),A("div",l_,[u("div",r_,[c[0]||(c[0]=u("div",{class:"title"},"For",-1)),(h(!0),A(Y,null,oe(s(a),p=>(h(),A("div",{key:p.voter,class:"vote font-mono"},[u("div",i_,[u("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:M({you:l(p.voter)})},I(n(p.voter)),11,c_)]),u("div",u_,[m(d,{value:p.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",d_,[m(d,{value:i(p.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),u("div",p_,[c[1]||(c[1]=u("div",{class:"title"},"Against",-1)),(h(!0),A(Y,null,oe(s(o),p=>(h(),A("div",{key:p.voter,class:"vote font-mono"},[u("div",m_,[m(d,{value:i(p.votingPower),precision:0,type:"percentage"},null,8,["value"])]),u("div",v_,[m(d,{value:p.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",h_,[u("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:M({you:l(p.voter)})},I(n(p.voter)),11,f_)])]))),128))])])}}}),g_=V(__,[["__scopeId","data-v-68928c77"]]),y_={class:"technicals"},b_={class:"technical"},w_={class:"description"},k_={class:"technical"},$_={class:"technical"},C_=["innerHTML"],A_=T({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const t=q(!0),a=q(e.proposal.voteCount>0),{data:o}=Ms(R(()=>e.proposal.id),R(()=>e.proposal.type),R(()=>e.expanded)),n=b(()=>o.value?o.value.votes.uniqWith((l,r)=>l.voter===r.voter).length:null),i=b(()=>o.value?o.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,l=>/[A-F]/g.test(l)&&ca(l)?`<a href='https://etherscan.io/address/${l}'>${l}</a>`:l):null);return(l,r)=>{const c=vt;return h(),A("div",y_,[u("div",b_,[r[2]||(r[2]=u("div",{class:"heading"},"Description",-1)),u("div",w_,I(l.proposal.metadata),1)]),u("div",k_,[u("div",{class:"heading",onClick:r[0]||(r[0]=d=>a.value=!s(a))},[U(" Voters ("+I(s(n)??"?")+") ",1),u("i",{class:M(["fas fa-chevron-up expander",{expandedVoters:s(a)}])},null,2)]),m(c,{expanded:s(a)},{default:y(()=>[s(o)?(h(),S(g_,{key:0,class:"voters",proposal:l.proposal,"proposal-details":s(o)},null,8,["proposal","proposal-details"])):F("",!0)]),_:1},8,["expanded"])]),u("div",$_,[u("div",{class:"heading",onClick:r[1]||(r[1]=d=>t.value=!s(t))},[r[3]||(r[3]=U(" Calldata ")),u("i",{class:M(["fas fa-chevron-up expander",{expandedCallData:s(t)}])},null,2)]),m(c,{expanded:s(t)},{default:y(()=>[s(o)?(h(),A("div",{key:0,class:"calldata font-mono",innerHTML:s(i)},null,8,C_)):F("",!0)]),_:1},8,["expanded"])])])}}}),S_=V(A_,[["__scopeId","data-v-b2267876"]]),L_={class:"proposal-details"},T_={class:"proposal-details-container"},I_=T({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,a)=>(h(),A("div",L_,[u("div",T_,[m(S_,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),m(n_,{proposal:t.proposal},null,8,["proposal"])])]))}}),V_=V(I_,[["__scopeId","data-v-045dd4c5"]]),q_=T({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=q(e.initExpanded);return(a,o)=>{const n=vt,i=D;return h(),S(i,{class:"proposal",compact:!0},{default:y(()=>[m(Cf,{proposal:a.proposal,expanded:s(t),onToggleExpand:o[0]||(o[0]=l=>t.value=!s(t))},null,8,["proposal","expanded"]),m(n,{class:"proposal-details-collapsible",expanded:s(t)},{default:y(()=>[m(V_,{proposal:a.proposal,expanded:s(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Rs=V(q_,[["__scopeId","data-v-67623181"]]),P_={class:"item"},F_={class:"label"},B_=T({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const a=t,o=[...pf].filter(l=>l!=="other"),n=q("all"),i=l=>{n.value=l,a("select",n.value)};return(l,r)=>{const c=Je;return h(),S(c,{options:s(o).map(d=>d),selected:s(n),onInput:i},{item:y(({item:d})=>[u("div",P_,[u("div",F_,I(s(ht)(d)),1)])]),_:1},8,["options","selected"])}}}),D_=V(B_,[["__scopeId","data-v-f92bd4ab"]]),M_={class:"dashboard"},U_={class:"filters"},R_={style:{display:"flex",gap:"1rem"}},E_={class:"proposals-content"},O_={key:0},x_=T({__name:"Proposals.page",setup(e){const t=q(0),{page:a,onPage:o}=va(),n=It(a,200),i=q(""),l=It(i,300),r=q("all"),c=b(()=>{switch(t.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),d=b(()=>l.value.toLocaleLowerCase()),p=b(()=>{var w;return((w=f.value)==null?void 0:w.count)??0}),v=b(()=>{var w;return(((w=f.value)==null?void 0:w.proposals)??[]).orderBy(k=>k.start,"desc")}),{isFetching:g,data:f}=hf(n,r,c,d),_=w=>{r.value=w};return(w,k)=>{const C=Be,$=Fe,L=ge,B=Pe,P=Ye;return h(),A("div",M_,[m($,{onTab:k[0]||(k[0]=K=>t.value=K.index)},{default:y(()=>[m(C,{header:"All"}),m(C,{header:"Active"}),m(C,{header:"Passed"}),m(C,{header:"Denied"}),m(C,{header:"Executed"})]),_:1}),u("div",U_,[m(L,{modelValue:s(i),"onUpdate:modelValue":k[1]||(k[1]=K=>ie(i)?i.value=K:null),class:"search",placeholder:"Search for Curve proposals",search:!0},null,8,["modelValue"]),u("div",R_,[m(D_,{style:{"flex-grow":"1"},onSelect:_}),m(B,{class:"pagination","items-count":s(p),"items-per-page":10,page:s(a),onPage:s(o)},null,8,["items-count","page","onPage"])])]),u("div",E_,[(h(!0),A(Y,null,oe(s(v),K=>(h(),S(Rs,{key:K.id,class:M(["loading-backdrop",{loading:s(g)}]),proposal:K},null,8,["proposal","class"]))),128)),m(B,{class:"pagination","items-count":s(p),"items-per-page":10,page:s(a),onPage:s(o)},null,8,["items-count","page","onPage"]),s(v).length===0?(h(),A("div",O_,"No proposals could be found.")):F("",!0),m(P,{class:M({loading:s(g)})},null,8,["class"])])])}}}),W_=V(x_,[["__scopeId","data-v-f4d2c16a"]]),N_={class:"dashboard"},K_=T({__name:"Proposal.page",setup(e){const t=be("proposalId",0,{transform:Number}),a=be("proposalType"),{isFetching:o,data:n}=Ms(t,a);return(i,l)=>{const r=Ye;return h(),A("div",N_,[m(r,{class:M({loading:s(o)})},null,8,["class"]),!s(o)&&s(n)?(h(),S(Rs,{key:0,proposal:s(n),"init-expanded":!0},null,8,["proposal"])):F("",!0)])}}}),H_=V(K_,[["__scopeId","data-v-77550b0e"]]),Q_=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],z_={class:"add-new"},j_={class:"form"},G_={class:"field"},X_={class:"value"},Z_={class:"field"},Y_={class:"value"},J_=T({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const a=t,o=q(!1),n=q(""),i=q(0),l=b(()=>za),r=b(()=>ca(n.value.toLocaleLowerCase())&&typeof i.value=="number"&&i.value>0),c=Oa();async function d(){const p=n.value.toLocaleLowerCase();typeof i.value=="string"&&(i.value=parseFloat(i.value));const v=Ha(i.value,18n);return Us(o,async()=>{const{result:g,request:f}=await Do(c,{abi:Q_,address:ja,functionName:"deploy_gauge",args:[p,v]}),_=await xa(c,f);await Wa(c,{hash:_}),a("gauge",g)})}return(p,v)=>{const g=ge,f=Rt,_=ce,w=D;return h(),S(w,{title:"Gauge Creation"},{default:y(()=>[u("div",z_,[u("div",j_,[u("div",G_,[v[2]||(v[2]=u("div",{class:"label"},"Receiver:",-1)),u("div",X_,[m(g,{modelValue:s(n),"onUpdate:modelValue":v[0]||(v[0]=k=>ie(n)?n.value=k:null),placeholder:s(l)},null,8,["modelValue","placeholder"])])]),u("div",Z_,[v[3]||(v[3]=u("div",{class:"label"},"CRV Amount (Max):",-1)),u("div",Y_,[m(f,{modelValue:s(i),"onUpdate:modelValue":v[1]||(v[1]=k=>ie(i)?i.value=k:null),min:1,max:3303030299},null,8,["modelValue"])])])]),m(_,{class:"action-button request primary",value:"Create Fundraising Gauge",disabled:!s(r)||s(o),"chain-id":s(Ee).id,onClick:d},null,8,["disabled","chain-id"])])]),_:1})}}}),eg=V(J_,[["__scopeId","data-v-263fcf30"]]),tg=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],ag=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],sg=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],og={class:"add-new"},ng={class:"form"},lg={class:"field"},rg={class:"value"},ig={class:"field"},cg={class:"value"},ug=T({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const a=t,o=q(!1),n=q(""),i=q("Add a grant gauge: "),l=b(()=>za),r=b(()=>ca(n.value)&&!!i.value),c=b(()=>r.value&&!o.value);Q(()=>e.gauge,g=>{n.value=g.toLocaleLowerCase()});async function d(){if(n.value)return Us(o,async()=>{await v(),a("request")})}const p=Oa();async function v(){const g="0xe478de485ad2fe566d49342cbd03e49ed7db3356",f="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",_=(pe,ue)=>String(pe).padStart(ue,"0"),w=ka({abi:sg,functionName:"add_gauge",args:[n.value,10n,0n]});let k="0x00000001";const C=ka({abi:tg,functionName:"execute",args:[Ga,0n,w]}).substring(2),$=_((Math.floor(C.length)/2).toString(16),8);k=`${k}${f.substring(2)}${$}${C}`;const L=new FormData,P={text:i.value.replace(/(\r\n|\n|\r)/gm,"")};L.append("file",JSON.stringify(P));const Ne=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:L})).json()).Hash,O=await xa(p,{abi:ag,address:g,functionName:"newVote",args:[k,`ipfs:${Ne}`,!1,!1]});await Wa(p,{hash:O})}return(g,f)=>{const _=ge,w=ce,k=D;return h(),S(k,{title:"Gauge Addition Vote"},{default:y(()=>[u("div",og,[u("div",ng,[u("div",lg,[f[2]||(f[2]=u("div",{class:"label"},"Gauge Address:",-1)),u("div",rg,[m(_,{modelValue:s(n),"onUpdate:modelValue":f[0]||(f[0]=C=>ie(n)?n.value=C:null),placeholder:s(l)},null,8,["modelValue","placeholder"])])]),u("div",ig,[f[3]||(f[3]=u("div",{class:"label"},"Vote Description:",-1)),u("div",cg,[m(_,{modelValue:s(i),"onUpdate:modelValue":f[1]||(f[1]=C=>ie(i)?i.value=C:null)},null,8,["modelValue"])])])]),m(w,{class:"action-button request primary",value:"Create Gauge Addition Vote",disabled:!s(c),"chain-id":s(Ee).id,onClick:d},null,8,["disabled","chain-id"])])]),_:1})}}}),dg=V(ug,[["__scopeId","data-v-77b78659"]]),pg={class:"dashboard"},mg={class:"forms"},vg=T({__name:"VeFunder.page",setup(e){const t=q(""),a=o=>{t.value=o};return(o,n)=>{const i=D;return h(),A("div",pg,[m(i,null,{default:y(()=>n[0]||(n[0]=[u("div",{class:"explanation"},[u("div",{class:"step-one"},[u("span",null,[u("strong",null,"veFunder"),U(" process:")]),u("ol",null,[u("li",null," Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV. "),u("li",null,[U(" Request a vote to add the gauge to the controller."),u("br"),U("When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions. ")])])]),u("div",{class:"step-two"},[u("span",null,[u("strong",null,"Gauge vote requirements:")]),u("ol",null,[u("li",null,[U(" New gauge votes must have a vote on the governance forum "),u("a",{href:"https://gov.curve.fi/",target:"_blank"}," at this address ")]),u("li",null,"You must have a minimum of 2,500 veCRV to create this vote")])])],-1)])),_:1}),u("div",mg,[m(eg,{onGauge:a}),m(dg,{gauge:s(t)},null,8,["gauge"])])])}}}),hg=V(vg,[["__scopeId","data-v-5e4cd193"]]);let ea;function Es(){return ea||(ea=Ss({url:"wss://api.defimonitor.com/main"})),ea}class fg{constructor(t,a){wt(this,"transfers$");this.socket=t,a!=null&&a.transfers$?this.transfers$=a.transfers$:this.transfers$=Ts(t,"NewTransfersForToken")}sub(t){Array.isArray(t)?t.length>0&&this.socket.emit("connectToGeneralErc20ArrayLivestream",t):this.socket.emit("connectToGeneralErc20Livestream",t)}unsub(t){const a=Array.isArray(t)?t:[t];for(const o of a)this.socket.emit("disconnectFromGeneralErc20Livestream",o)}}const ut=new Map,Os=new Mo(void 0),Tt=e=>JSON.stringify(e);function xs({queryKey:e,queryFn:t,enabled:a,observable:o,setQueryData:n,keepData:i}){const l=Na(),r=b(()=>a.value&&!!o.value),c=E({queryKey:e,queryFn:()=>new Promise((d,p)=>{i||l.setQueryData(e.value,void 0);const v=Tt(e.value);let g=ut.get(v);const f=g==null?void 0:g.subscription;f==null||f.unsubscribe(),g={subscription:o.value.subscribe({next:_=>{const w=l.getQueryData(e),k=n(w,_);l.setQueryData(e.value,k),d(k)},error:_=>{p(_ instanceof Error?_:new Error(String(_)))}}),users:new Set},ut.set(v,g),Os.next({queryKeyString:v,record:g}),t()}),enabled:r,staleTime:1/0});return _g({queryKey:e,enabled:r,keepData:i,observable:o}),c}function _g({queryKey:e,enabled:t,observable:a,keepData:o}){const n=Na(),i=Tn(),l=Os.pipe(Wt(()=>t.value),Wt(d=>d!==void 0),Wt(d=>d.queryKeyString===Tt(e.value))).subscribe(d=>{d.record.users.add(i)});Q(t,async d=>{if(!d)await r(e.value);else{const p=Tt(e.value),v=ut.get(p);v&&v.users.add(i)}}),Q(e,async(d,p)=>{await r(p)}),Q(a,async(d,p)=>{p&&d!==p&&await c(e.value)}),ra(async()=>{await r(e.value),l.unsubscribe()});async function r(d){const p=Tt(d),v=ut.get(p);v&&(v.users.delete(i),v.users.size===0&&(v.subscription.unsubscribe(),ut.delete(p),await c(d)))}async function c(d){await n.cancelQueries({queryKey:d}),await n.invalidateQueries({queryKey:d}),o||n.setQueryData(d,void 0)}return r}function Ws(e){const t=b(()=>Array.isArray(e.value)?e.value:[e.value]),{socket:a,isConnected:o,url:n}=Es(),i=b(()=>a.value?new fg(a.value):null),l=b(()=>["defimonitor-transfers",n.value,...t.value]);return Ka(t,(c,d,p,v)=>{var g;(g=i.value)==null||g.unsub(v)},{deep:!0}),xs({queryKey:l,queryFn:()=>{var c;return(c=i.value)==null?void 0:c.sub(e.value)},enabled:o,observable:b(()=>{var c;return(c=i.value)==null?void 0:c.transfers$}),setQueryData:(c,d)=>[...c??[],...d.transfers.flat()].takeRight(200),keepData:!1})}const gg={class:"checkbox"},yg=["checked"],bg=["aria-checked"],wg={class:"checkmark-label"},kg=T({__name:"Checkbox",props:{modelValue:{type:Boolean,required:!0},modelModifiers:{}},emits:Oe(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=mt(e,"modelValue"),o=t,n=i=>{const l=i.target.checked;a.value=l,o("change",l)};return(i,l)=>(h(),A("label",gg,[u("input",{type:"checkbox",checked:a.value,onChange:n},null,40,yg),u("span",{class:M(["checkmark",{checked:a.value}]),role:"checkbox","aria-checked":a.value},l[0]||(l[0]=[u("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M20 6L9 17L4 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),10,bg),u("span",wg,[j(i.$slots,"default",{},void 0,!0)])]))}}),Ns=V(kg,[["__scopeId","data-v-3eff0ab6"]]);function Ks(){return[{name:"Stables",type:"token",items:[{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC"}]},{name:"Sky",type:"token",items:[{address:"0x6b175474e89094c44da98b954eedeac495271d0f",symbol:"DAI"}]}]}function $g(){return{name:"1inch",type:"swapper",items:[{address:"0x111111125421ca6dc452d289314280a0f8842a65",name:"1inch V6"},{address:"0x1111111254eeb25477b68fb85ed929f73a960582",name:"1inch V5"}]}}const Cg={class:"add-token"},Ag=T({__name:"ModalAddToken",emits:["close","token"],setup(e,{emit:t}){const a=t,o=q(""),n=Ks().flatMap(i=>i.items);return(i,l)=>{const r=ge,c=he,d=G,p=D,v=ft;return h(),S(v,{onClose:l[2]||(l[2]=g=>a("close"))},{default:y(()=>[m(p,{title:"Add token"},{default:y(()=>[u("div",Cg,[m(r,{modelValue:s(o),"onUpdate:modelValue":l[0]||(l[0]=g=>ie(o)?o.value=g:null),class:"search",placeholder:"Search for tokens",search:!0},null,8,["modelValue"]),m(d,{rows:s(n),onSelected:l[1]||(l[1]=g=>a("token",g))},{row:y(({item:{address:g,symbol:f}})=>[m(c,{address:g},null,8,["address"]),u("div",null,I(f??"?"),1)]),_:1},8,["rows"])])]),_:1})]),_:1})}}}),Sg=V(Ag,[["__scopeId","data-v-50529ce6"]]),Lg={class:"watchlist"},Tg={class:"item"},Ig={key:0,class:"fas fa-chevron-down"},Vg={class:"toolbar"},qg=T({__name:"WatchlistTokens",emits:["tokens"],setup(e,{emit:t}){const a=t,o=q(!1),n=Ks(),i=q(n[0]),l=b(()=>i.value.items),r=q(new Set(l.value.map(p=>p.address))),c=p=>{r.value.has(p)?r.value.delete(p):r.value.add(p)};Q(r,p=>{a("tokens",l.value.filter(v=>p.has(v.address)))},{immediate:!0,deep:!0}),Q(i,()=>{r.value=new Set(l.value.map(p=>p.address))});function d(p){i.value.items.some(g=>g.address===p.address)||i.value.items.push(p),o.value=!1}return(p,v)=>{const g=Je,f=ce,_=he,w=Ns,k=G;return h(),A("div",Lg,[m(g,{class:"menu no-chevrons",options:s(n),selected:s(i),onInput:v[0]||(v[0]=C=>i.value=C)},{item:y(({item:{name:C},isSelected:$})=>[u("div",Tg,[U(I(C)+" ",1),$?(h(),A("i",Ig)):F("",!0)])]),_:1},8,["options","selected"]),u("div",Vg,[m(f,{onClick:v[1]||(v[1]=C=>o.value=!0)},{default:y(()=>v[5]||(v[5]=[U("+")])),_:1}),m(Sg,{show:s(o),onClose:v[2]||(v[2]=C=>o.value=!1),onToken:d},null,8,["show"])]),m(k,{rows:s(l),onSelected:v[4]||(v[4]=C=>c(C.address))},{row:y(({item:{address:C,symbol:$}})=>[m(_,{address:C},null,8,["address"]),u("div",null,I($??"?"),1),u("div",{class:"center",onClick:v[3]||(v[3]=de(()=>{},["stop"]))},[m(w,{"model-value":s(r).has(C),"onUpdate:modelValue":L=>c(C)},null,8,["model-value","onUpdate:modelValue"])])]),_:1},8,["rows"])])}}}),Pg=V(qg,[["__scopeId","data-v-5fae184e"]]),Fg={style:{display:"flex",gap:"1rem"}},Bg={class:"transfers-card-body"},Dg={class:"transfers-options"},Mg={class:"option"},Ug={class:"option"},Rg={class:"center-vert"},Eg=["href"],Og=["href"],xg={class:"no-ellipsis"},Wg=["href"],Ng={class:"no-ellipsis"},Kg=["href"],Hg={class:"center-vert"},Qg=["href"],zg={class:"end"},jg=["href"],ta=10,Gg=T({__name:"TableTransfers",setup(e){const t=q([]),a=q(0),o=b(()=>{const _=a.value;return typeof _=="string"?parseFloat(_)||0:_||0}),{data:n,isFetching:i}=Ws(b(()=>t.value.map(_=>_.address))),{relativeTime:l}=Ie(),r=q(""),c=b(()=>(n.value??[]).filter(_=>{const w=r.value.toLocaleLowerCase().split(" "),k=C=>w.some($=>C.toLocaleLowerCase().includes($));return(k(_.transferFrom)||k(_.transferTo))&&_.parsedAmount>=o.value}).orderBy([_=>_.blockUnixtime,_=>_.positionInBlock],"desc")),{page:d,rowsPage:p,onPage:v}=yt(c,ta),g=_=>_<1?_.toFixed(4):_>1e3?_.toFixed(0):_.toFixed(2),f=async _=>{await navigator.clipboard.writeText(_)};return(_,w)=>{const k=ge,C=Pe,$=Rt,L=ce,B=he,P=G,K=D;return h(),S(K,{class:"transfers-card",title:"Transfers"},{actions:y(()=>[u("div",Fg,[m(k,{modelValue:s(r),"onUpdate:modelValue":w[0]||(w[0]=W=>ie(r)?r.value=W:null),placeholder:"Search for...",search:!0},null,8,["modelValue"]),s(c).length>ta?(h(),S(C,{key:0,"items-count":s(c).length,"items-per-page":ta,page:s(d),onPage:s(v)},null,8,["items-count","page","onPage"])):F("",!0)])]),default:y(()=>[u("div",Bg,[u("div",Dg,[u("div",Mg,[m(Pg,{onTokens:w[1]||(w[1]=W=>t.value=W)})]),u("div",Ug,[w[4]||(w[4]=u("div",{class:"label"},"Min Amount",-1)),m($,{modelValue:s(a),"onUpdate:modelValue":w[2]||(w[2]=W=>ie(a)?a.value=W:null),min:0,max:1/0},null,8,["modelValue"])])]),m(P,{class:"transfers-table",rows:s(p),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}],loading:s(i)},{row:y(({item:W})=>[u("div",Rg,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${W.txHash}`,target:"_blank"},I(s(St)(W.txHash,10)),9,Eg),m(L,{icon:"fas fa-link",onClick:Ne=>f(W.txHash)},null,8,["onClick"])]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/block/${W.blockNumber}`,target:"_blank"},I(W.blockNumber),9,Og)]),u("div",null,I(W.gasInGwei),1),u("div",xg,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${W.transferFrom}`,target:"_blank"},I(s(we)(W.transferFrom,10)),9,Wg)]),u("div",Ng,[u("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${W.transferTo}`,target:"_blank"},I(s(we)(W.transferTo,10)),9,Kg)]),u("div",null,I(g(W.parsedAmount)),1),u("div",Hg,[m(B,{class:"token",chain:"ethereum",address:W.coinAddress},null,8,["address"]),u("a",{target:"_blank",href:`https://etherscan.io/address/${W.coinAddress}`},I(W.coinSymbol),9,Qg)]),u("div",zg,[u("a",{href:`https://etherscan.io/tx/${W.txHash}`,target:"_blank",onClick:w[3]||(w[3]=de(()=>{},["stop"]))},I(s(l)(W.blockUnixtime)),9,jg)])]),_:1},8,["rows","loading"])])]),_:1})}}}),Xg=V(Gg,[["__scopeId","data-v-668e8692"]]),Zg={class:"dashboard-grid"},Yg=T({__name:"Transfers",setup(e){return(t,a)=>(h(),A("div",Zg,[m(Xg,{style:{"grid-area":"transfers"}})]))}}),Jg=V(Yg,[["__scopeId","data-v-a3cb3013"]]);class e1{constructor(t,a){wt(this,"swaps$");this.socket=t,this.swaps$=(a==null?void 0:a.swaps$)??Ts(t,"NewSwapDataForAddress")}sub(t){Array.isArray(t)?t.length>0&&this.socket.emit("connectToGeneralErc20SwapArrayLivestream",t):this.socket.emit("connectToGeneralErc20SwapLivestream",t)}unsub(t){const a=Array.isArray(t)?t:[t];for(const o of a)this.socket.emit("disconnectFromGeneralErc20SwapLivestream",o)}}function t1(e){const t=b(()=>Array.isArray(e.value)?e.value:[e.value]),{socket:a,isConnected:o,url:n}=Es(),i=b(()=>a.value?new e1(a.value):null),l=b(()=>["defimonitor-swaps",n.value,t.value]);return Ka(t,(c,d,p,v)=>{var g;(g=i.value)==null||g.unsub(v)},{deep:!0}),xs({queryKey:l,queryFn:()=>{var c;return(c=i.value)==null?void 0:c.sub(e.value)},enabled:o,observable:b(()=>{var c;return(c=i.value)==null?void 0:c.swaps$}),setQueryData:(c,d)=>[...c??[],...d.swaps.flat()].takeRight(200),keepData:!1})}const a1={class:"watchlist"},s1={class:"item"},o1=T({__name:"WatchlistSwappers",emits:["swappers"],setup(e,{emit:t}){const a=t,o=[$g()],n=q(o[0]),i=b(()=>n.value.items),l=q(new Set(i.value.map(c=>c.address))),r=c=>{l.value.has(c)?l.value.delete(c):l.value.add(c)};return Q(l,c=>{a("swappers",i.value.filter(d=>c.has(d.address)))},{immediate:!0,deep:!0}),Q(n,()=>{l.value=new Set(i.value.map(c=>c.address))}),(c,d)=>{const p=Je,v=Ns,g=G;return h(),A("div",a1,[m(p,{options:o,selected:s(n),onInput:d[0]||(d[0]=f=>n.value=f)},{item:y(({item:{name:f}})=>[u("div",s1,I(f),1)]),_:1},8,["selected"]),m(g,{rows:s(i),onSelected:d[2]||(d[2]=f=>r(f.address))},{row:y(({item:{address:f,name:_}})=>[u("div",null,I(_??"?"),1),u("div",{class:"center",onClick:d[1]||(d[1]=de(()=>{},["stop"]))},[m(v,{"model-value":s(l).has(f),"onUpdate:modelValue":w=>r(f)},null,8,["model-value","onUpdate:modelValue"])])]),_:1},8,["rows"])])}}}),n1=V(o1,[["__scopeId","data-v-eeebae90"]]),l1={style:{display:"flex",gap:"1rem"}},r1={class:"swaps-card-body"},i1={class:"swaps-options"},c1={class:"option"},u1={class:"option"},d1={class:"center-vert"},p1=["href"],m1=["href"],v1=["href"],h1=["href"],f1={class:"center-vert"},_1=["href"],g1={class:"center-vert"},y1=["href"],b1={class:"end"},w1=["href"],aa=10,k1=T({__name:"TableSwaps",setup(e){const t=q([]),a=q(0),o=b(()=>{const f=a.value;return typeof f=="string"?parseFloat(f)||0:f||0}),{data:n,isFetching:i}=t1(b(()=>t.value.map(f=>f.address))),{relativeTime:l}=Ie(),r=q(""),c=b(()=>(n.value??[]).filter(f=>{const _=r.value.toLocaleLowerCase().split(" "),w=C=>_.some($=>C.toLocaleLowerCase().includes($)),k=f.parsedBeforeAmount>=o.value||f.parsedAfterAmount>=o.value;return(w(f.coinAfterAddress)||w(f.coinAfterSymbol)||w(f.coinBeforeAddress)||w(f.coinBeforeSymbol))&&k}).orderBy([f=>f.blockUnixtime,f=>f.positionInBlock],"desc")),{page:d,rowsPage:p,onPage:v}=yt(c,aa),g=f=>f<1?f.toFixed(4):f>1e3?f.toFixed(0):f.toFixed(2);return(f,_)=>{const w=ge,k=Pe,C=Rt,$=he,L=G,B=D;return h(),S(B,{class:"swaps-card",title:"Swaps",loading:s(i)},{actions:y(()=>[u("div",l1,[m(w,{modelValue:s(r),"onUpdate:modelValue":_[0]||(_[0]=P=>ie(r)?r.value=P:null),placeholder:"Search for...",search:!0},null,8,["modelValue"]),s(c).length>aa?(h(),S(k,{key:0,"items-count":s(c).length,"items-per-page":aa,page:s(d),onPage:s(v)},null,8,["items-count","page","onPage"])):F("",!0)])]),default:y(()=>[u("div",r1,[u("div",i1,[u("div",c1,[_[4]||(_[4]=u("div",{class:"label"},"Watchlist",-1)),m(n1,{onSwappers:_[1]||(_[1]=P=>t.value=P)})]),u("div",u1,[_[5]||(_[5]=u("div",{class:"label"},"Min Amount",-1)),m(C,{modelValue:s(a),"onUpdate:modelValue":_[2]||(_[2]=P=>ie(a)?a.value=P:null),min:0,max:1/0},null,8,["modelValue"])])]),m(L,{class:"swaps-table",rows:s(p),columns:["Hash","Block","Gas","From","To","In","Out",{label:"Age",align:"end"}]},{row:y(({item:P})=>[u("div",d1,[u("a",{class:"font-mono",href:`https://etherscan.io/tx/${P.txHash}`,target:"_blank"},I(s(St)(P.txHash,10)),9,p1)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/block/${P.blockNumber}`,target:"_blank"},I(P.blockNumber),9,m1)]),u("div",null,I(P.gasInGwei),1),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${P.senderAddress}`,target:"_blank"},I(s(St)(P.senderAddress,5)),9,v1)]),u("div",null,[u("a",{class:"font-mono",href:`https://etherscan.io/address/${P.receiverAddress}`,target:"_blank"},I(s(St)(P.receiverAddress,5)),9,h1)]),u("div",f1,[m($,{chain:"ethereum",address:P.coinBeforeAddress},null,8,["address"]),U(" "+I(g(P.parsedBeforeAmount))+" ",1),u("a",{target:"_blank",href:`https://etherscan.io/address/${P.coinBeforeAddress}`},I(P.coinBeforeSymbol),9,_1)]),u("div",g1,[m($,{chain:"ethereum",address:P.coinAfterAddress},null,8,["address"]),U(" "+I(g(P.parsedAfterAmount))+" ",1),u("a",{target:"_blank",href:`https://etherscan.io/address/${P.coinAfterAddress}`},I(P.coinAfterSymbol),9,y1)]),u("div",b1,[u("a",{href:`https://etherscan.io/tx/${P.txHash}`,target:"_blank",onClick:_[3]||(_[3]=de(()=>{},["stop"]))},I(s(l)(P.blockUnixtime)),9,w1)])]),_:1},8,["rows"])])]),_:1},8,["loading"])}}}),$1=V(k1,[["__scopeId","data-v-efa5c48f"]]),C1={class:"dashboard-grid"},A1=T({__name:"Swaps",setup(e){return(t,a)=>(h(),A("div",C1,[m($1,{style:{"grid-area":"swaps"}})]))}}),S1=V(A1,[["__scopeId","data-v-8b2c43b9"]]),L1={class:"dashboard-grid"},T1={class:"transfers"},I1={class:"card-transfer"},V1={class:"block"},q1=["href"],P1={class:"time"},F1={class:"numbers"},B1={class:"value"},D1={class:"value"},M1=T({__name:"CrvUsd",setup(e){const{data:t}=Ws(q("0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48")),{relativeTime:a}=Ie(),o=b(()=>(t.value??[]).groupBy(n=>n.blockNumber).entries().map(([,n])=>({blockNumber:n[0].blockNumber,blockUnixTime:n[0].blockUnixtime,amount:n.reduce((i,l)=>i+l.parsedAmount,0),count:n.length})).orderBy(n=>n.blockNumber,"desc").take(5));return(n,i)=>{const l=X,r=D;return h(),A("div",L1,[u("div",T1,[i[3]||(i[3]=u("div",{class:"title"},"Latest crvUSD transactions",-1)),m(Da,{name:"transfers",tag:"div",class:"transfer-list"},{default:y(()=>[(h(!0),A(Y,null,oe(s(o),c=>(h(),S(r,{key:c.blockNumber},{default:y(()=>[u("div",I1,[u("div",V1,[i[0]||(i[0]=U(" Block ")),u("a",{class:"font-mono",href:`https://etherscan.io/block/${c.blockNumber}`,target:"_blank"},I(c.blockNumber),9,q1)]),u("div",P1,I(s(a)(c.blockUnixTime)),1),u("div",F1,[u("div",B1,[m(l,{type:"dollar",value:c.amount,inline:!0},null,8,["value"])]),i[1]||(i[1]=u("div",{class:"label"},"crvUSD transfered",-1)),u("div",D1,I(c.count),1),i[2]||(i[2]=u("div",{class:"label"},"crvUSD transactions",-1))])])]),_:2},1024))),128))]),_:1})])])}}}),U1=V(M1,[["__scopeId","data-v-5e4ab249"]]),R1={class:"dashboard"},E1=T({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=tt(["transfers","swaps","crvusd"],"defimonitor");return(o,n)=>{const i=Be,l=Fe;return h(),A("div",R1,[m(l,{active:s(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:y(()=>[m(i,{header:"Transfers"},{default:y(()=>[(h(),S(re,null,[s(t)==="transfers"?(h(),S(Jg,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"Swaps"},{default:y(()=>[(h(),S(re,null,[s(t)==="swaps"?(h(),S(S1,{key:0})):F("",!0)],1024))]),_:1}),m(i,{header:"crvUSD"},{default:y(()=>[(h(),S(re,null,[s(t)==="crvusd"?(h(),S(U1,{key:0})):F("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),O1=V(E1,[["__scopeId","data-v-59b61489"]]),x1=[{path:"/",component:Ui},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:_c},{path:"/platform/pools/:chain?",name:"pools",component:Yc},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:qu},{path:"/platform/revenue/:tab?",name:"revenue",component:pp},{path:"/platform/crvusd",name:"crvusd",component:dm},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:Av},{path:"/platform/lending/:chain?",name:"llamalend",component:Qv},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:Fh},{path:"/platform/monitor",name:"monitor",component:df},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:W_},{path:"/dao/proposal/:proposalType/:proposalId",component:H_},{path:"/dao/vefunder",component:hg},{path:"/defimonitor/:tab?",name:"defimonitor",component:O1}],W1={titleRoute:"/",menuItems:[{label:"Articles",url:"https://blog.curvemonitor.com/"},{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};let Hs="http://localhost:8545";Hs=void 0;function N1(e=[]){return Uo({chains:[Ee],connectors:[$a(),...e],transports:{[Ee.id]:Ro([Ca(Hs,{batch:{wait:100}}),Eo($a),Ca("https://eth.llamarpc.com",{batch:{wait:200}})])}})}function K1(e,t){const a=Oo(e);for(const i of[])a.use(i);const o=xo();a.use(o);const n=new Wo({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:No}},queryCache:new Ko({onError:(i,l)=>{i.message.includes("Connector not connected")||i.message.includes("connector2.getAccounts is not a function")||i.message.includes("getAccounts is not a function")||Ce({text:`Failed querying ${l.queryHash} >>> ${i.message}`,type:"error"})}})});return a.use(Ho,{queryClient:n}).use(Qo).use(zo,{config:N1(t==null?void 0:t.extraWagmiConnectors)}),{app:a,pinia:o}}const{app:H1}=K1(jl),Q1=[W1],z1=[x1],Qs=pa();Qs.pages=Q1;Qs.routes=z1;const j1=fr();H1.use(j1).mount("#app");

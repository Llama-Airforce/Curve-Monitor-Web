import{o as b,c as z,p as de,a as pe,b as p,d as A,e as I,n as B,f as x,g as K,t as L,r as oe,w as S,h,i as ve,j as fn,F as ae,T as ti,k as ni,l as oi,m as D,q as ai,D as Ut,u as gn,s as V,v as w,x as M,y as Ke,z as a,A as si,B as li,C as ri,E as bt,G as rs,H as Ae,I as F,J as le,K as bn,L as Et,M as ii,N as ci,O as ui,P as di,Q as Qe,R as ke,S as Oe,V as pi,U as mi,W as is,X as cs,Y as _i,Z as vi,_ as hi,$ as fi,a0 as gi,a1 as bi,a2 as yi,a3 as wi,a4 as it,a5 as Wt,a6 as Se,a7 as $i,a8 as Ci,a9 as ki,aa as Si,ab as zi,ac as Le,ad as Z,ae as gt,af as U,ag as ue,ah as us,ai as ds,aj as ps,ak as ct,al as Nt,am as ce,an as Li,ao as Ti,ap as $e,aq as Ht,ar as Ai,as as Pi,at as Ii,au as W,av as ze,aw as yn,ax as Vi,ay as Ri,az as qi,aA as Bt,aB as wn,aC as ms,aD as ft,aE as Qn,aF as jn,aG as $n,aH as Cn,aI as Di,aJ as _s,aK as vs,aL as Gn,aM as Fi,aN as Mi,aO as xi,aP as Bi,aQ as Oi,aR as Ui,aS as Ei,aT as Wi,aU as Ni,aV as Hi,aW as Ki}from"./vendor-ChAY8DuJ.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function e(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=e(s);fetch(s.href,l)}})();const P=(t,n)=>{const e=t.__vccOpts||t;for(const[o,s]of n)e[o]=s;return e},Qi={},hs=t=>(de("data-v-ad2adcec"),t=t(),pe(),t),ji={class:"lds-ripple"},Gi=hs(()=>p("div",null,null,-1)),Xi=hs(()=>p("div",null,null,-1)),Yi=[Gi,Xi];function Zi(t,n){return b(),z("div",ji,Yi)}const Ue=P(Qi,[["render",Zi],["__scopeId","data-v-ad2adcec"]]),Ji=["inert"],ec={class:"text"},tc=A({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(t){return(n,e)=>{const o=Ue;return b(),z("div",{class:"card",inert:!!n.loading},[n.loading!==null?(b(),I(o,{key:0,class:B(["loader",{loading:n.loading}])},null,8,["class"])):x("",!0),p("div",{class:B(["card-container",{loading:n.loading}])},[n.title?(b(),z("div",{key:0,class:B(["card-header",{collapsible:n.collapsible}])},[p("div",ec,[n.icon?(b(),z("i",{key:0,class:B(["icon",n.icon])},null,2)):x("",!0),K(" "+L(n.title),1)]),oe(n.$slots,"actions",{},void 0,!0)],2)):(b(),z("div",{key:1,class:B(["card-no-header",{compact:n.compact}])},null,2)),p("div",{class:B(["card-body",{compact:n.compact,collapsed:n.collapsed}])},[oe(n.$slots,"default",{},void 0,!0)],2)],2)],8,Ji)}}}),Y=P(tc,[["__scopeId","data-v-7d5bd921"]]),nc={key:0,class:"fas fa-chevron-right"},oc=A({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:n}){const e=n,o=l=>{var i;const c=t.active?t.active.id===l.id:((i=t.crumbs.filter(r=>!r.hint).at(-1))==null?void 0:i.id)===l.id;return l.hint??c},s=l=>{var c;return((c=t.crumbs.at(-1))==null?void 0:c.id)===l.id};return(l,c)=>{const i=Y;return b(),I(i,null,{default:S(()=>[h(ti,{name:"fade",tag:"ul"},{default:S(()=>[(b(!0),z(ae,null,ve(l.crumbs,r=>(b(),z("li",{key:r.id},[(b(),I(fn(o(r)?"span":"a"),{class:B({active:o(r),hint:r.hint}),onClick:d=>e("crumb",r)},{default:S(()=>[K(L(r.label),1)]),_:2},1032,["class","onClick"])),!s(r)||l.crumbs.length===1?(b(),z("i",nc)):x("",!0)]))),128))]),_:1})]),_:1})}}}),ac=P(oc,[["__scopeId","data-v-1c1116d3"]]),sc={class:"collapsible-inside"},lc=A({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(n,e)=>(b(),z("div",{class:B(["collapsible-outside",{expanded:n.expanded}])},[p("div",sc,[oe(n.$slots,"default",{},void 0,!0)])],2))}}),$t=P(lc,[["__scopeId","data-v-25b74378"]]),rc={class:"badge"},ic={class:"label"},cc=A({__name:"Badge",props:{label:{default:""}},setup(t){return(n,e)=>(b(),z("div",rc,[p("div",ic,L(n.label),1)]))}}),uc=P(cc,[["__scopeId","data-v-79abf25e"]]);function Pt(t){return(t==null?void 0:t.children)!==void 0}function Xn(t){return(t==null?void 0:t.to)!==void 0}function dc(t,n,e){return t.reduce((o,s)=>({...o,[n(s)]:e(s)}),{})}function pc(t){return t!=null}function mc(t){function n(f){return f<10?"0"+f.toString():f.toString()}const e=t.getTime()-new Date().getTime();if(e<=0)return"00:00:00:00";const o=1e3,s=o*60,l=s*60,c=l*24,i=Math.floor(e/c),r=Math.floor(e%c/l),d=Math.floor(e%l/s),u=Math.floor(e%s/o);return n(i)+":"+n(r)+":"+n(d)+":"+n(u)}function Ne(t,n=0,e=".",o=","){const s=isFinite(+t)?+t:0,l=isFinite(+n)?Math.abs(n):0,c=typeof o>"u"?",":o,i=typeof e>"u"?".":e,r=function(u,f){const m=Math.pow(10,f);return Math.round(u*m)/m},d=(l?r(s,l):Math.round(s)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(d[1]||"").length<l&&(d[1]=d[1]||"",d[1]+=new Array(l-d[1].length+1).join("0")),d.join(i)}function Q(t,n){const e=Math.abs(t);return n==="percentage"?"%":n==="dollar"?e>=1*10**12?"t":e>=1*10**9?"b":e>=1*10**6?"m":e>=1*10**3?"k":"":""}function j(t,n,e){const o=Math.abs(t);return n===1/0?t.toLocaleString():e==="percentage"?Ne(t,n):e==="dollar"?o>=1*10**12?Ne(t/10**12,n):o>=1*10**9?Ne(t/10**9,n):o>=1*10**6?Ne(t/10**6,n):o>=1*10**3?Ne(t/10**3,n):Ne(t,n):t.toString()}function He(t){return Number(t.toFixed(t>100?0:2)).toLocaleString()}function Be(t,n){return parseFloat(ni(t,Number(n)))}function kn(t,n){return oi(t.toFixed(Number(n)),Number(n))}const fs={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},on=["tricrypto","usdm"];function Fe(t){const n=fs[t];return n||t}function Sn(t){const n=D.invert(fs)[t];return n||t}function _c(t){return!!(on.find(n=>n===t)??on.find(n=>n===Fe(t))??on.find(n=>n===Sn(t)))}async function yt(t,n=250){const e=new Promise(s=>setTimeout(()=>{s(null)},n)),[,o]=await Promise.all([e,t]);return o}function mn(t,n){return(Array.isArray(t)?t:[t]).some(o=>n.path.startsWith(o))}const zn="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",vc="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",hc="0x657ce046d98d163ef4f846210f25919fa7b31944",Yn="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",gs="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",bs="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Ze="0xe478de485ad2fe566d49342cbd03e49ed7db3356",fc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",gc=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],bc="https://api.llama.airforce/";async function yc(t,n,e){try{const o=await fetch(t,{method:n?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),signal:e});if(o.ok)return o;throw new Error(`Fetch error ${o.status} for URL: ${t}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function wc(t,n,e){return await(await yc(t,n,e)).json()}class ge{constructor(n){this.host=n}async fetch(n,e,o){return wc(n,e,o)}}class ys extends ge{async getPrice(n){const e=`ethereum:${n}`;return this.fetch(`https://coins.llama.fi/prices/current/${e}`).then(o=>o.coins[e])}async getPrices(n){const e=n.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${e}`).then(o=>o.coins)}}async function $c(t,n,e){const o=ai({abi:gc,address:fc,client:t}),s=await o.read.mainRewardRates().then(([f,m])=>D.zip(f,m)),l=await o.read.extraRewardRates().then(([f,m])=>D.zip(f,m)),c=D.chain(s).concat(l).filter(f=>f[1]>0).groupBy(f=>f[0]).map((f,m)=>({address:m,rate:f.reduce((_,v)=>_+v[1],BigInt(0))})).value(),i=D.chain(c).map(f=>f.address).concat([Yn]).uniq().value(),r=await n.getPrices(i).then(f=>dc(Object.keys(f).map(m=>({address:m.replace("ethereum:","").toLocaleLowerCase(),price:f[m].price})),m=>m.address,m=>kn(m.price,18n))),d=[],u=r[Yn];for(const f of c){const m=await o.read.apr([f.rate,r[f.address.toLocaleLowerCase()],u]),_=Be(m,18n);d.push(_)}return d}function ws(t){return t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message}function Zn(t){Ut({text:t,type:"success"})}function an(t){const n=t instanceof Error?ws(t):JSON.stringify(t);Ut({text:n,type:"error"})}async function $s(t,n){t.value=!0;try{return await n()}catch(e){const o=e instanceof Error?ws(e):JSON.stringify(e);Ut({text:o,type:"error"});return}finally{t.value=!1}}const Cc={key:0},kc={class:"nav-link-container"},Sc={class:"nav-link-container"},zc={class:"left"},Lc={key:0,class:"icon"},Tc={class:"right"},Ac=A({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:n}){const e=n,o=gn(),s=V(!0),l=w(()=>Xn(t.item)?[t.item]:Pt(t.item)?t.item.children:[]),c=()=>{Pt(t.item)&&t.item.children.filter(u=>mn(u.to,o)).length>0&&(s.value=!0)},i=d=>typeof d.label=="string"?d.label:d.label();M(()=>t.item,d=>{Pt(d)&&(s.value=!d.initCollapsed),c()},{immediate:!0}),M(()=>o.fullPath,()=>{c()},{immediate:!0});const r=()=>{s.value=!s.value};return(d,u)=>{const f=uc,m=Ke("router-link"),_=$t;return b(),z(ae,null,[a(Pt)(d.item)?(b(),z("li",Cc,[p("a",{class:"nav-link node",onClick:r},[p("div",kc,[K(L(d.item.label)+" ",1),p("i",{class:B(["expander fas fa-chevron-up",{expanded:a(s)}])},null,2)])])])):x("",!0),h(_,{class:"items",expanded:a(s)},{default:S(()=>[p("ul",null,[(b(!0),z(ae,null,ve(a(l),v=>(b(),z("li",{key:i(v)},[a(Xn)(v)?(b(),I(m,{key:0,to:v.to,class:B(["nav-link leaf",{"router-link-active":a(mn)(v.to,a(o))}]),onClick:u[0]||(u[0]=g=>e("navigated"))},{default:S(()=>[p("div",Sc,[p("div",zc,[v.icon?(b(),z("div",Lc,[p("i",{class:B(v.icon)},null,2)])):x("",!0),K(" "+L(i(v)),1)]),p("div",Tc,[v.tag?(b(),I(f,{key:0,label:v.tag},null,8,["label"])):x("",!0)])])]),_:2},1032,["to","class"])):x("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Pc=P(Ac,[["__scopeId","data-v-35101021"]]),Ic=A({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:n}){const e=n,o=gn(),s=w(()=>t.pages.find(i=>mn(i.titleRoute,o))),l=w(()=>{var i;return((i=s.value)==null?void 0:i.menuItems)??[]}),c=i=>typeof i.label=="string"?i.label:i.label();return(i,r)=>(b(),z("nav",null,[(b(!0),z(ae,null,ve(a(l),d=>(b(),z("ul",{key:c(d)},[h(Pc,{item:d,onNavigated:r[0]||(r[0]=u=>e("navigated"))},null,8,["item"])]))),128))]))}}),Vc=P(Ic,[["__scopeId","data-v-6a18bfcc"]]);function Ct(){const{address:t,isConnected:n,chainId:e}=si(),o=li(),s=w(()=>o.data.value&&t.value?t.value:void 0),l=w(()=>{switch(e.value){case bt.id:return"ethereum";case ri.id:return"base";default:return}});return{isConnected:n,network:l,address:s}}function Pe(t,n=6){if(!t)return"0x000...000";const e=n/2+2,o=t.length-n/2;return`${t.substring(0,e)}...${t.substring(o)}`}function Rc(){return!1}const qc=A({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:n}){const e=n,{network:o}=Ct(),{switchChain:s}=rs(),l=c=>{c.stopImmediatePropagation(),t.web3&&Rc()&&o.value!=="ethereum"&&s({chainId:bt.id}),e("click")};return(c,i)=>(b(),z("button",{class:B({primary:c.primary}),onClick:l},[oe(c.$slots,"default",{},()=>[c.icon?(b(),z("i",{key:0,class:B(["icon",[c.icon,{noValue:!!c.value}]])},null,2)):x("",!0),K(" "+L(c.value),1)],!0)],2))}}),Ie=P(qc,[["__scopeId","data-v-39a4c555"]]),Dc="/assets/crv-CKEIQw2g.png",Fc="/assets/hat-D1qfnSjv.png",Mc={},Cs=t=>(de("data-v-c65244ad"),t=t(),pe(),t),xc={class:"logo"},Bc=Cs(()=>p("div",{class:"visual"},[p("img",{src:Dc}),p("img",{src:Fc})],-1)),Oc=Cs(()=>p("span",null,"curve.monitor",-1)),Uc=[Bc,Oc];function Ec(t,n){return b(),z("div",xc,Uc)}const Wc=P(Mc,[["render",Ec],["__scopeId","data-v-c65244ad"]]),Nc={class:"header"},Hc={class:"buttons"},Kc=A({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:n}){const e=n;return(o,s)=>{const l=Ke("router-link"),c=Ie;return b(),z("div",Nc,[h(l,{class:"logo",to:"/",onClick:s[0]||(s[0]=i=>e("navigated"))},{default:S(()=>[h(Wc,{class:"logo"})]),_:1}),p("div",Hc,[h(c,{icon:"fas fa-bars",onClick:s[1]||(s[1]=i=>e("toggle-expansion"))})])])}}}),Qc=P(Kc,[["__scopeId","data-v-edc55270"]]),jc=t=>(de("data-v-9d368235"),t=t(),pe(),t),Gc={class:"select"},Xc={class:"item"},Yc={key:0,class:"label"},Zc=["onClick"],Jc=jc(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),eu=A({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(t,{emit:n}){const e=n;return(o,s)=>(b(),z("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=Ae(l=>e("open"),["stop"])),onBlur:s[1]||(s[1]=l=>e("close"))},[p("div",Gc,[p("div",{class:B(["selected",{open:o.open}])},[oe(o.$slots,"item",{item:o.selected},()=>[p("div",Xc,L(o.selected),1)],!0),o.label?(b(),z("div",Yc,L(o.label),1)):x("",!0)],2),p("div",{class:B(["items",{selectHide:!o.open}])},[(b(!0),z(ae,null,ve(o.options,(l,c)=>(b(),z("div",{key:c,onClick:i=>e("input",l)},[oe(o.$slots,"item",{item:l},()=>[K(L(l),1)],!0)],8,Zc))),128))],2)]),Jc],32))}}),ut=P(eu,[["__scopeId","data-v-9d368235"]]),tu=["en","zh","fr"],nu={class:"item"},ou={class:"label"},Jn="locale",ks=A({__name:"SelectLanguage",props:{locales:{default:()=>tu},direction:{default:"up"}},setup(t){const{t:n}=F(),{locale:e}=F({useScope:"global"}),o=V("en"),s=V(!1);le(()=>{const i=localStorage.getItem(Jn);i&&t.locales.some(r=>r===i)&&c(i)});const l=()=>{s.value=!s.value},c=i=>{o.value=i,e.value=o.value,localStorage.setItem(Jn,o.value)};return(i,r)=>{const d=ut;return b(),I(d,{class:B(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(u=>u),selected:a(o),open:a(s),onOpen:l,onClose:r[0]||(r[0]=u=>s.value=!1),onInput:c},{item:S(u=>[p("div",nu,[p("div",ou,L(a(n)(u.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function eo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{en:e=>{const{normalize:o}=e;return o(["English"])},zh:e=>{const{normalize:o}=e;return o(["中文"])},fr:e=>{const{normalize:o}=e;return o(["Français"])}}})}typeof eo=="function"&&eo(ks);const au=P(ks,[["__scopeId","data-v-579b2543"]]),su={key:0,class:"modal"},lu={class:"modal-popup"},ru=A({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:n}){const e=n,o=s=>{s.code==="Escape"&&e("close")};return le(()=>{document.addEventListener("keydown",o)}),bn(()=>{document.removeEventListener("keydown",o)}),M(()=>t.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,l)=>(b(),I(Et,{to:"body"},[s.show?(b(),z("div",su,[p("div",{class:"modal-mask",onClick:l[0]||(l[0]=c=>e("close"))}),p("div",lu,[oe(s.$slots,"default",{},void 0,!0)])])):x("",!0)]))}}),Ln=P(ru,[["__scopeId","data-v-b0df9b35"]]),iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",cu={key:1,src:iu},uu=A({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:n}){const e=n,o=V(!1);return M(o,s=>e("show",s)),(s,l)=>(b(),I(a(ii),{class:"tooltip",show:a(o)},{content:S(()=>[oe(s.$slots,"default",{},void 0,!0)]),default:S(()=>[p("div",{onMouseover:l[0]||(l[0]=c=>o.value=!0),onMouseleave:l[1]||(l[1]=c=>o.value=!1)},[oe(s.$slots,"item",{},()=>[s.icon?(b(),z("i",{key:0,class:B(s.icon)},null,2)):(b(),z("img",cu))],!0)],32)]),_:3},8,["show"]))}}),kt=P(uu,[["__scopeId","data-v-ee2caf15"]]),du="/assets/injected-DW80ouY-.webp",pu="/assets/rabby-CG__llS3.svg",mu="/assets/walletconnect-BCBhrtde.webp",_u="/assets/coinbase-CsqSq8Nj.webp",vu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",hu={class:"buttons"},fu={class:"connectors-body"},gu={class:"title"},bu={class:"connectors"},yu=["src"],wu={key:1,class:"empty"},$u={class:"name"},Tn=A({__name:"WalletConnectButton",setup(t){const{t:n}=F(),{connect:e}=ci(),o=ui(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],l=w(()=>o.value.filter(u=>s.includes(u.id))),c=V(!1);function i(u){switch(u.id){case"injected":return du;case"walletConnect":return mu;case"coinbaseWalletSDK":return _u;case"safe":return vu;case"io.rabby":return pu;default:return""}}function r(u){return u.id==="injected"?"Browser Extension":u.name}function d(u){e({connector:u}),c.value=!1}return(u,f)=>{const m=Ie,_=Y,v=Ln;return b(),z("div",hu,[h(m,{class:"button",primary:!0,onClick:f[0]||(f[0]=g=>c.value=!0)},{default:S(()=>[K(L(a(n)("connect-your-wallet")),1)]),_:1}),x("",!0),h(v,{show:a(c),onClose:f[1]||(f[1]=g=>c.value=!1)},{default:S(()=>[h(_,null,{default:S(()=>[p("div",fu,[p("div",gu,L(a(n)("connect-your-wallet")),1),p("div",bu,[(b(!0),z(ae,null,ve(a(l),g=>(b(),z("div",{key:g.id,class:"connector"},[h(m,{onClick:y=>d(g)},{default:S(()=>[i(g)?(b(),z("img",{key:0,src:i(g)},null,8,yu)):(b(),z("div",wu)),p("div",$u,L(r(g)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function to(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"connect-your-wallet":e=>{const{normalize:o}=e;return o(["Connect Wallet"])}}})}function no(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"zh",resource:{"connect-your-wallet":e=>{const{normalize:o}=e;return o(["连接你的钱包"])}}})}typeof to=="function"&&to(Tn);typeof no=="function"&&no(Tn);const Cu=P(Tn,[["__scopeId","data-v-3c15f258"]]),ku={class:"wallet"},Su={key:0,class:"connected"},zu={key:0,class:"unsupportedNetwork"},Lu={class:"info"},Tu={key:1,class:"notConnected"},Au={key:0,class:"info"},Ss=A({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{t:n}=F(),{disconnect:e}=di(),{isConnected:o,network:s,address:l}=Ct(),{switchChain:c}=rs(),i=w(()=>s.value==="ethereum"),r=()=>c({chainId:bt.id});return(d,u)=>{const f=Ie;return b(),z("div",ku,[a(o)?(b(),z("div",Su,[a(i)?x("",!0):(b(),z("div",zu,[h(f,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),p("span",Lu,L(a(n)("incorrect-network")),1)])),h(f,{class:"disconnect",icon:"fas fa-check",value:a(Pe)(a(l)),onClick:a(e)},null,8,["value","onClick"])])):(b(),z("div",Tu,[h(Cu),d.labelPleaseConnect?(b(),z("span",Au,L(d.labelPleaseConnect),1)):x("",!0)]))])}}});function oo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"incorrect-network":e=>{const{normalize:o}=e;return o(["You are not on the correct network; should be Ethereum"])}}})}typeof oo=="function"&&oo(Ss);const Pu=P(Ss,[["__scopeId","data-v-416c58d4"]]),nt={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Iu=[nt.blue,nt.yellow,nt.green,nt.red,nt.purple],ot={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Vu=[ot.blue,ot.yellow,ot.green,ot.red,ot.purple],at={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},Ru=[at.blue,at.yellow,at.green,at.red,at.purple];function xt(t){switch(t){case"chad":return at;case"light":return ot;default:return nt}}function qu(t){switch(t){case"chad":return Ru;case"light":return Vu;default:return Iu}}const N=Qe("settingsStore",()=>{const t=V("light"),n=w(()=>({colors:xt(t.value),colorsArray:qu(t.value)}));return{themeId:t,theme:n}}),Du={class:"theme"},Fu={class:"label"},Mu={class:"colors"},xu=A({__name:"SelectTheme",setup(t){const n=[{id:"chad",colors:xt("chad")},{id:"dark",colors:xt("dark")},{id:"light",colors:xt("light")}],e=N(),o=V(n[0]),s=V(!1);le(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme");if(!r&&i){const d=n.find(u=>u.id==="dark");d&&c(d)}else{const d=n.find(u=>u.id===r)??n.find(u=>u.id==="light")??n[0];c(d)}});const l=()=>{s.value=!s.value},c=i=>{o.value=i,window.document.documentElement.setAttribute("data-theme",o.value.id),e.themeId=o.value.id,localStorage.setItem("theme",o.value.id)};return(i,r)=>{const d=ut;return b(),I(d,{class:"select direction-up",options:n.map(u=>u),selected:a(o),open:a(s),onOpen:l,onClose:r[0]||(r[0]=u=>s.value=!1),onInput:c},{item:S(u=>[p("div",Du,[p("div",Fu,L(u.item.id),1),p("div",Mu,[p("div",{class:"color",style:ke({"background-color":u.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.level1})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.level2})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.blue})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.yellow})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.green})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.red})},null,4),p("div",{class:"color",style:ke({"background-color":u.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Bu=P(xu,[["__scopeId","data-v-32672da1"]]),Ou={class:"bottom"},Uu={class:"buttons"},Eu={href:"https://twitter.com/0xAlunara",target:"_blank"},Wu={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Nu={class:"selectors"},Hu=A({__name:"Bottom",emits:["navigated"],setup(t,{emit:n}){const e=n,o=async()=>{await navigator.clipboard.writeText(window.location.href)};return(s,l)=>{const c=Ie,i=Ke("router-link"),r=au;return b(),z("div",Ou,[p("div",Uu,[h(c,{class:"copy",icon:"fas fa-link",onClick:o}),p("a",Eu,[h(c,{icon:"fab fa-twitter"})]),p("a",Wu,[h(c,{icon:"fab fa-github"})]),h(i,{to:"/code"},{default:S(()=>[h(c,{icon:"fas fa-code",onClick:l[0]||(l[0]=d=>e("navigated"))})]),_:1})]),p("div",Nu,[h(Bu,{class:"themes"}),h(r,{class:"langs",locales:["en"]})]),h(Pu)])}}}),Ku=P(Hu,[["__scopeId","data-v-45533ed7"]]),An=()=>Qe("pageStore",()=>{const t=V([]),n=V([]);return{pages:t,routes:n}})(),Qu=A({__name:"Navigation",emits:["navigated"],setup(t,{emit:n}){const e=n,o=An(),s=V(!1),l=()=>{s.value=!1,e("navigated")};return(c,i)=>{const r=Vc,d=$t;return b(),z("div",{class:B(["menu-desktop",{expanded:a(s)}])},[h(Qc,{onToggleExpansion:i[0]||(i[0]=u=>s.value=!a(s)),onNavigated:l}),h(d,{class:"menu-content",expanded:a(s)},{default:S(()=>[h(r,{pages:a(o).pages,onNavigated:l},null,8,["pages"]),h(Ku,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),ju=P(Qu,[["__scopeId","data-v-fee1447d"]]),Ee=Qe("breadcrumbStore",()=>{const t=V([]),n=V(!1);return{crumbs:t,show:n}}),Gu=t=>(de("data-v-b4a20e40"),t=t(),pe(),t),Xu={class:"root"},Yu={class:"main"},Zu={class:"toolbar-container"},Ju=Gu(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),ed={class:"content"},td=A({__name:"App",setup(t){const n=Ee(),e=gn(),o=Oe();M(()=>e.fullPath,l=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(i=>l.startsWith(i))||(n.show=!1)});const s=async l=>{l.pathName&&await o.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,c)=>{const i=Ke("notifications"),r=ac,d=Ke("router-view");return b(),z("div",Xu,[h(i,{width:600,duration:-1}),h(a(pi)),h(ju,{class:"navigation"}),p("main",Yu,[p("div",Zu,[a(n).show?(b(),I(r,{key:0,class:"breadcrumb",crumbs:a(n).crumbs,onCrumb:s},null,8,["crumbs"])):x("",!0),Ju]),p("div",ed,[h(d,null,{default:S(({Component:u})=>[h(mi,{name:"fade",mode:"out-in"},{default:S(()=>[(b(),I(fn(u)))]),_:2},1024)]),_:1})])])])}}}),nd=P(td,[["__scopeId","data-v-b4a20e40"]]),od="/assets/404-DGbqGNxT.png",ad=t=>(de("data-v-3987f8f8"),t=t(),pe(),t),sd={class:"not-found"},ld={class:"not-found-container"},rd=ad(()=>p("img",{src:od},null,-1)),zs=A({__name:"NotFound.page",setup(t){const{t:n}=F();return(e,o)=>{const s=Y;return b(),z("div",sd,[p("div",ld,[h(s,null,{default:S(()=>[K(L(a(n)("404")),1)]),_:1}),rd])])}}});function ao(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{404:e=>{const{normalize:o}=e;return o(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof ao=="function"&&ao(zs);const id=P(zs,[["__scopeId","data-v-3987f8f8"]]),Ls=t=>(de("data-v-7189c384"),t=t(),pe(),t),cd=Ls(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),ud=[cd],dd=Ls(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),pd=[dd],md={class:"row-details"},_d=A({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:n}){const e=n,o=is(),s=w(()=>{var i;const c=o["row-details"];if(c){const r=(i=c()[0])==null?void 0:i.children;if(r)return r.length>0}return!1}),l=()=>{e("click",t.data)};return(c,i)=>{const r=$t;return b(),z("div",{class:B(["row",{expanded:c.expanded}])},[p("div",{class:B(["row-data item",[c.columns,{active:c.selected,expandable:a(s),"has-data":!!c.data}]]),onClick:l},[c.data&&a(s)&&c.expandSide==="left"?(b(),z("div",{key:0,class:B(["expander",{expanded:c.expanded}])},ud,2)):x("",!0),oe(c.$slots,"row",{},void 0,!0),c.data&&a(s)&&c.expandSide!=="left"?(b(),z("div",{key:1,class:B(["expander",{expanded:c.expanded}])},pd,2)):x("",!0)],2),c.data?(b(),I(r,{key:0,expanded:c.expanded},{default:S(()=>[p("div",md,[oe(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):x("",!0)],2)}}}),vd=P(_d,[["__scopeId","data-v-7189c384"]]),hd=["inert"],fd={key:0,class:"header"},gd={key:0,class:"header-icon"},bd={class:"list"},yd=["onClick"],wd={key:0,class:"sorting-arrows"},$d={key:0,class:"sorting-arrow fa fa-caret-up"},Cd={key:1,class:"sorting-arrow fa fa-caret-down"},kd={key:2,class:"sorting-arrow"},Sd={class:"rows"},zd={key:1,class:"no-data"},Pn=A({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{},sortingDefaultDir:{},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(t,{emit:n}){const{t:e}=F(),o=n,s=V(void 0),l=V("asc"),c=w(()=>`grid-template-columns: ${t.columnsHeader}`),i=w(()=>{if(t.rowsMin===null)return[];const v=Math.max(0,t.rowsMin-t.rows.length);return new Array(v)});cs(()=>{t.sortingDefaultColumn&&(s.value=t.sortingDefaultColumn),t.sortingDefaultDir&&(l.value=t.sortingDefaultDir)});const r=v=>{v&&o("selected",v)},d=v=>{const g=v+1;return!!(t.rows[v+1]&&t.rows.findIndex(k=>k===t.selectedRow)===g)},u=v=>t.sortingColumnsEnabled.includes(t.sortingColumns[v]),f=v=>s.value===t.sortingColumns[v]&&l.value==="asc",m=v=>s.value===t.sortingColumns[v]&&l.value==="desc",_=v=>{if(!t.sorting||!u(v))return;const g=t.sortingColumns[v];l.value=g===s.value&&l.value==="asc"?"desc":"asc",s.value=g,o("sortColumn",g,l.value)};return(v,g)=>{const y=Ue,C=vd;return b(),z("div",{class:B(["datatable",{loading:v.loading}]),inert:!!v.loading},[v.header?(b(),z("div",fd,[v.icon?(b(),z("div",gd,[p("i",{class:B(v.icon)},null,2)])):x("",!0),p("div",{class:"header-content",style:ke(a(c))},[oe(v.$slots,"header-content",{},void 0,!0)],4)])):x("",!0),p("div",bd,[v.columns.length>0?(b(),z("div",{key:0,class:B(["row-data",[v.columnsData,{"selected-below":d(-1)}]])},[oe(v.$slots,"column-headers",{},()=>[(b(!0),z(ae,null,ve(v.columns,(k,$)=>(b(),z("div",{key:k,class:B(["column-header",{"sortable-header":v.sorting&&u($),"current-sort":a(s)==v.sortingColumns[$]}]),onClick:T=>_($)},[K(L(k)+" ",1),v.sorting&&u($)?(b(),z("div",wd,[f($)?(b(),z("i",$d)):m($)?(b(),z("i",Cd)):(b(),z("span",kd," — "))])):x("",!0)],10,yd))),128))],!0)],2)):x("",!0),p("div",Sd,[v.loading!==null?(b(),I(y,{key:0,class:B(["loader",{loading:v.loading}])},null,8,["class"])):x("",!0),(b(!0),z(ae,null,ve(v.rows,(k,$)=>(b(),I(C,{key:k,data:k,class:B({"selected-below":d($)}),columns:v.columnsData,selected:v.selectedRow===k,expanded:v.expanded.includes(k),"expand-side":v.expandSide,onClick:r},{row:S(()=>[oe(v.$slots,"row",{item:k},void 0,!0)]),"row-details":S(()=>[oe(v.$slots,"row-details",{item:k},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(b(!0),z(ae,null,ve(a(i),k=>(b(),I(C,{key:k}))),128)),!v.rowsMin&&(!v.rows||v.rows.length===0)&&!v.loading?(b(),z("div",zd,[oe(v.$slots,"no-data",{},()=>[K(L(a(e)("no-data")),1)],!0)])):x("",!0),v.$slots["row-aggregation"]&&v.rows.length>0?(b(),I(C,{key:2,class:"aggregation",columns:v.columnsData},{row:S(()=>[oe(v.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):x("",!0)])])],10,hd)}}});function so(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"no-data":e=>{const{normalize:o}=e;return o(["No data :("])}}})}function lo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"zh",resource:{"no-data":e=>{const{normalize:o}=e;return o(["没有数据 :("])}}})}typeof so=="function"&&so(Pn);typeof lo=="function"&&lo(Pn);const fe=P(Pn,[["__scopeId","data-v-eaa04f87"]]),Ld={class:"contracts"},Td={class:"row"},Ad={class:"title"},Pd=["href"],Id={class:"title"},Vd=["href"],Ts=A({__name:"Code.page",setup(t){const{t:n}=F(),s=[{name:"Llama Airforce",contracts:[{contract:zn,description:"multisig",gnosis:!0},{contract:vc,description:"treasury",gnosis:!0},{contract:hc,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:gs,description:"gauge-factory"},{contract:bs,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],c=i=>{switch(i.network){case"arbitrum":return i.gnosis?`https://app.safe.global/home?safe=arb1:${i.contract}`:`https://arbiscan.io/address/${i.contract}`;case"ethereum":default:return i.gnosis?`https://app.safe.global/home?safe=eth:${i.contract}`:`https://etherscan.io/address/${i.contract}`}};return(i,r)=>{const d=fe;return b(),z("div",Ld,[p("div",Td,[h(d,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[a(n)("repository"),a(n)("description")]},{"header-content":S(()=>[p("div",Ad,L(a(n)("repositories")),1)]),row:S(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},L(u.item.name),9,Pd)]),p("div",null,L(a(n)(u.item.description)),1)]),_:1},8,["columns"])]),(b(),z(ae,null,ve(s,(u,f)=>h(d,{key:f,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:[a(n)("contract"),a(n)("description")]},{"header-content":S(()=>[p("div",Id,L(a(n)(u.name)),1)]),row:S(m=>[p("div",null,[p("a",{href:c(m.item),target:"_blank"},L(m.item.contract),9,Vd)]),p("div",null,L(a(n)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function ro(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{repositories:e=>{const{normalize:o}=e;return o(["Repositories"])},repository:e=>{const{normalize:o}=e;return o(["Repository"])},description:e=>{const{normalize:o}=e;return o(["Description"])},contract:e=>{const{normalize:o}=e;return o(["Contract"])},other:e=>{const{normalize:o}=e;return o(["Other"])},"repo-laf":e=>{const{normalize:o}=e;return o(["This website's front-end, excluding the Union"])},"repo-graphs":e=>{const{normalize:o}=e;return o(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:e=>{const{normalize:o}=e;return o(["Multisig"])},treasury:e=>{const{normalize:o}=e;return o(["Treasury"])},"treasury-arbitrum":e=>{const{normalize:o}=e;return o(["Treasury Arbitrum"])},"gauge-factory":e=>{const{normalize:o}=e;return o(["Gauge Factory"])},"gauge-controller":e=>{const{normalize:o}=e;return o(["Gauge Controller"])}}})}typeof ro=="function"&&ro(Ts);const Rd=P(Ts,[["__scopeId","data-v-797f7191"]]);function qd(){const t=An(),n=[{path:"/code",component:Rd},...t.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:id}];return _i({history:vi(),routes:n})}let As="http://localhost:8545";As=void 0;const Dd=hi({chains:[bt],connectors:[fi(),gi({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),bi(),yi()],transports:{[bt.id]:wi(As,{batch:{wait:100}})}}),Fd=t=>(de("data-v-30805641"),t=t(),pe(),t),Md={class:"input-text"},xd={key:0,class:"icon"},Bd=Fd(()=>p("i",{class:"fas fa-search"},null,-1)),Od=[Bd],Ud=["type","value","placeholder"],Ed=["onClick"],Wd=A({__name:"InputText",props:it({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:it(["input","select"],["update:modelValue"]),setup(t,{emit:n}){const e=Wt(t,"modelValue"),o=n,s=w(()=>{const c=t.options.filter(r=>t.filter(e.value,r));return t.sort?[...c].sort(t.sort):c}),l=c=>{const i=c.target.value;e.value=i,o("input",i)};return(c,i)=>(b(),z("div",Md,[c.search?(b(),z("span",xd,Od)):x("",!0),p("input",{type:c.search?"search":"text",value:e.value,placeholder:c.placeholder,onInput:Ae(l,["stop"]),onSelect:i[0]||(i[0]=Ae(()=>{},["stop"]))},null,40,Ud),c.options&&c.autoComplete?(b(),z("div",{key:1,class:B(["items",{selectHide:!c.autoComplete}])},[(b(!0),z(ae,null,ve(a(s),(r,d)=>(b(),z("div",{key:d,onClick:u=>o("select",r)},[oe(c.$slots,"item",{item:r,idx:d},()=>[K(L(r),1)],!0)],8,Ed))),128))],2)):x("",!0)]))}}),Te=P(Wd,[["__scopeId","data-v-30805641"]]),Nd={key:0,class:"value"},Hd={key:1,class:"value"},Kd=["innerHTML"],Qd={key:0,class:"value"},jd={key:1,class:"value"},Gd=["innerHTML"],Xd={class:"labels"},Yd={class:"label"},Zd={class:"label-second"},Jd=A({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(n,e)=>{const o=kt;return b(),z("div",{class:B(["kpi",{disabled:!n.hasValue}])},[p("div",{class:B(["value-container",{underline:n.tooltip&&n.tooltipType==="underline"}])},[oe(n.$slots,"default",{},()=>[n.tooltip&&n.tooltipType==="underline"?(b(),I(o,{key:0},{item:S(()=>[n.hasValue?(b(),z("span",Nd,L(n.value),1)):(b(),z("span",Hd," ? "))]),default:S(()=>[oe(n.$slots,"tooltip",{},()=>[p("span",{innerHTML:n.tooltip},null,8,Kd)],!0)]),_:3})):(b(),z(ae,{key:1},[n.hasValue?(b(),z("span",Qd,L(n.value),1)):(b(),z("span",jd," ? "))],64))],!0),n.tooltip&&n.tooltipType==="icon"?(b(),I(o,{key:0},{default:S(()=>[p("span",{innerHTML:n.tooltip},null,8,Gd)]),_:1})):x("",!0)],2),p("div",Xd,[oe(n.$slots,"label",{},()=>[p("div",Yd,L(n.label),1)],!0),oe(n.$slots,"label-second",{},()=>[p("div",Zd,L(n.labelSecond),1)],!0)])],2)}}}),Ce=P(Jd,[["__scopeId","data-v-9ca23269"]]),ep={key:0,class:"async-value"},tp="|/-\\",ne=A({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let n=0,e=0;const o=V("|"),s=w(()=>t.value?j(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?o.value:"?"),l=w(()=>t.precision===1/0?"":!t.value||!t.type||!D.isFinite(t.value)?t.showUnit&&t.type?Q(0,t.type):"":Q(t.value,t.type));return M(()=>t.value,c=>{if(clearInterval(e),n=0,c)return;const i=()=>{n=(n+1)%4,o.value=tp[n]};e=window.setInterval(i,250)},{immediate:!0}),(c,i)=>c.inline?(b(),z(ae,{key:1},[K(L(c.showSymbol&&c.type==="dollar"?"$":"")+L(a(s))+L(c.showUnit?a(l):""),1)],64)):(b(),z("div",ep,L(c.showSymbol&&c.type==="dollar"?"$":"")+L(a(s))+L(c.showUnit?a(l):""),1))}}),np=["crvusd","lending","pools","router","dao"];function he(){return bc}class op{constructor(n){this.get$=new Se(e=>{let o=1/0,s=!1;const l=()=>{e.next(Date.now()-o),s=!1};n.on("pong",l);const c=$i({}).pipe(Ci(()=>{if(s){e.next(1/0);return}s=!0,o=Date.now(),n.emit("ping")}),ki(5e3),Si()).subscribe();return()=>{c.unsubscribe(),n.off("pong",l)}}).pipe(zi({refCount:!0,bufferSize:1}))}}let ap=class{constructor(n){this.socket=n}get(n){const e=new Promise(o=>{this.socket.once("search_res",s=>{const l=Object.entries(s).map(([c,i])=>({id:c.toLocaleLowerCase(),name:i}));o(l)})});return this.socket.emit("search",n),e}};class sp{constructor(n){this.get$=new Se(e=>{const o=s=>{const l=lp(s);e.next(l)};return n.on("token names inside pool",o),()=>{n.off("token names inside pool",o)}}).pipe(Le())}}function lp(t){return t.map(n=>({name:n}))}class Ps{constructor(n){this.socket=n,this.update$=new Se(e=>{const o=s=>{e.next(s)};return n.on("price_chart_combination",o),()=>{n.off("price_chart_combination",o)}}).pipe(Le())}update(n,e){this.socket.emit("new combination",[n,e[0],e[1]])}}class rp{constructor(n){this.socket=n}update(n){this.socket.emit(n)}}function We(t){const[n,e]=t.split("T"),[o,s,l]=n.split("-").map(Number),[c,i,r]=e.split(":").map(Number);return Date.UTC(o,s-1,l,c,i,r)/1e3}const ip=t=>({chain:t.chain,total:{tvl:t.total.total_tvl,tradingVolume24h:t.total.trading_volume_24h,tradingFee24h:t.total.trading_fee_24h,liquidityVolume24h:t.total.liquidity_volume_24h,liquidityFee24h:t.total.liquidity_fee_24h}}),cp=t=>t.data.flatMap(n=>n.transactions.map(e=>({chain:n.chain,timestamp:We(e.timestamp),type:e.type,transactions:e.transactions}))),up=t=>t.data.flatMap(n=>n.users.map(e=>({chain:n.chain,timestamp:We(e.timestamp),type:e.type,users:e.users}))),sn="https://prices.curve.fi";class dp extends ge{async getChainInfo(n){const e=await this.fetch(`${sn}/v1/chains/${n}?page=1&per_page=1`);return ip(e)}async getTxs(){const n=await this.fetch(`${sn}/v1/chains/activity/transactions`);return cp(n)}async getUsers(){const n=await this.fetch(`${sn}/v1/chains/activity/users`);return up(n)}}const In=new dp(he());function Is(){return{initialData:[],initialDataUpdatedAt:0}}function Vs(t){return Z({queryKey:["chain-info",t],queryFn:({queryKey:[,n]})=>In.getChainInfo(n),enabled:w(()=>!!t.value)})}function pp(){return Z({queryKey:["chains-txs"],queryFn:()=>In.getTxs(),...Is()})}function mp(){return Z({queryKey:["chains-users"],queryFn:()=>In.getUsers(),...Is()})}const _p=t=>({name:t.collateral_token.symbol,address:t.address.toLocaleLowerCase(),factory:t.factory_address.toLocaleLowerCase(),llamma:t.llamma.toLocaleLowerCase(),rate:t.rate,borrowed:t.total_debt,borrowable:t.borrowable,collateral:t.collateral_amount,collateralUsd:t.collateral_amount_usd,loans:t.n_loans,collateral_token:{symbol:t.collateral_token.symbol,address:t.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:t.stablecoin_token.symbol,address:t.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:t.pending_fees,collected:t.collected_fees}}),vp=t=>({timestamp:new Date(t.dt).getTime()/1e3,rate:t.rate,nLoans:t.n_loans,minted:t.minted,redeemed:t.redeemed,totalCollateral:t.total_collateral,totalCollateralUsd:t.total_collateral_usd,totalStablecoin:t.total_stablecoin,totalDebt:t.total_debt,priceAMM:t.amm_price,priceOracle:t.price_oracle,borrowable:t.borrowable,discountLiquidation:t.liquidation_discount,discountLoan:t.loan_discount}),hp=t=>({address:t.address.toLocaleLowerCase(),pool:t.pool,pool_address:t.pool_address.toLocaleLowerCase(),pair:t.pair.map(n=>({symbol:n.symbol,address:n.address.toLocaleLowerCase()})),active:t.active,total_debt:t.total_debt,total_profit:t.total_profit}),fp=t=>({timestamp:We(t.timestamp),market:t.market,supply:t.supply,borrowable:t.borrowable}),io="https://api-py.llama.airforce/curve",It="https://prices.curve.fi";class gp extends ge{async getMarkets(n,e){return(await this.fetch(`${It}/v1/crvusd/markets/${n}?fetch_on_chain=true&page=${e}&per_page=10`)).data.map(_p)}async getSnapshots(n,e){return(await this.fetch(`${It}/v1/crvusd/markets/${n}/${e}/snapshots?fetch_on_chain=true&agg=day`)).data.map(vp)}async getCrvUsdPriceHistogram(){return this.fetch(`${io}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(n){return(await this.fetch(`${It}/v1/crvusd/markets/${n}/supply`)).data.map(fp)}async getKeepers(n){return(await this.fetch(`${It}/v1/crvusd/pegkeepers/${n}`)).keepers.map(hp)}async getYield(){return this.fetch(`${io}/v1/crvusd/yield`).then(n=>n.yields)}}const bp=t=>({time:t.time,open:t.open,high:t.high,low:t.low,close:t.close}),yp="https://prices.curve.fi";class Rs extends ge{async getOHLC(n,e,o,s){const c=Math.floor(new Date().getTime()/1e3),i=Math.floor(c-72e5),r=`${yp}/v1/ohlc/${n}/${gt(e)}?main_token=${gt(o)}&reference_token=${gt(s)}&agg_number=1&agg_units=day&start=${i}&end=${c}`;return(await this.fetch(r)).data.map(bp)}}const St=new gp(he()),wp=new Rs(he());function $p(t){return w(()=>{var n;return(n=t.value)==null?void 0:n.address})}function Kt(){return{initialData:[],initialDataUpdatedAt:0}}function Cp(t,n){return{enabled:w(()=>!!t.value&&!0)}}function kp(){return Z({queryKey:["crvusd-supply"],queryFn:()=>St.getCrvUsdSupply("ethereum"),...Kt()})}function Sp(){return Z({queryKey:["crvusd-price-deviation"],queryFn:()=>St.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Qt(t){return Z({queryKey:["crvusd-market-snapshots",$p(t)],queryFn:({queryKey:[,n]})=>St.getSnapshots("ethereum",n),...Cp(t),...Kt()})}function zp(t){return Z({queryKey:["crvusd-keepers-prices",w(()=>t.value.map(n=>n.pool_address))],queryFn:async()=>{const n=t.value.map(async s=>{const l=s.pair.find(r=>r.symbol!=="crvUSD"),c=s.pair.find(r=>r.symbol==="crvUSD");return!l||!c?[]:(await wp.getOHLC("ethereum",s.pool_address,l.address,c.address)).map(r=>({time:r.time,price:(r.high+r.low)/2,coin:l.symbol}))}),e=(await Promise.all(n)).flat(),o=D.chain(e).groupBy(s=>s.time).map((s,l)=>({timestamp:Number(l),...Object.fromEntries(s.map(c=>[c.coin,c.price]))})).value();return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function Vn(){return Z({queryKey:["crvusd-markets"],queryFn:()=>St.getMarkets("ethereum",1),...Kt()})}function qs(){return Z({queryKey:["crvusd-keepers"],queryFn:()=>St.getKeepers("ethereum"),...Kt()})}const Lp={class:"kpis"},Tp=A({__name:"KPIs",setup(t){const n=new ys(he()),{data:e}=Vn(),o=w(()=>{var r;return((r=e.value)==null?void 0:r.reduce((d,u)=>d+u.borrowed,0))??0}),{data:s}=Vs(V("ethereum")),l=w(()=>{var r;return((r=s==null?void 0:s.value)==null?void 0:r.total.tvl)??0}),c=w(()=>{var r;return((r=s==null?void 0:s.value)==null?void 0:r.total.tradingVolume24h)??0}),{data:i}=Z({queryKey:["crv-price"],queryFn:()=>n.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price),initialData:0,initialDataUpdatedAt:0});return(r,d)=>{const u=ne,f=Ce;return b(),z("div",Lp,[h(f,{label:"CRV Price","has-value":!!a(i)},{default:S(()=>[h(u,{value:a(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(f,{label:"crvUSD Borrowed","has-value":!!a(o)},{default:S(()=>[h(u,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(f,{label:"Total Value Locked","has-value":!!a(l)},{default:S(()=>[h(u,{value:a(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(f,{label:"7-day Volume","has-value":!!a(c)},{default:S(()=>[h(u,{value:a(c),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Ap=P(Tp,[["__scopeId","data-v-fe12ccc1"]]),Pp=A({__name:"ChartApex",props:{options:{},series:{}},setup(t){return(n,e)=>{const o=Ke("apexchart");return b(),I(o,{class:"chart",height:"100%",options:n.options,series:n.series},null,8,["options","series"])}}}),jt=P(Pp,[["__scopeId","data-v-310d0826"]]),Ip=A({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(t){return(n,e)=>{const o=jt,s=Y;return b(),I(s,{class:"cart-chart",title:n.title,loading:n.loading},{actions:S(()=>[oe(n.$slots,"actions",{},void 0,!0)]),default:S(()=>[h(o,{height:"100%",options:n.options,series:n.series},null,8,["options","series"]),oe(n.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),me=P(Ip,[["__scopeId","data-v-98df8c5f"]]),Vp=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function re(t,n){const e=Vp(t),o=(s,l)=>{if(typeof l=="object"){D.mergeWith(s,l,o);return}else return s||l};return D.mergeWith(n,e,o)}const Rp=t=>({pool:t.pool,chain:t.chain,name:t.name,liq_use:t.liq_use}),qp=t=>({pool:t.pool,chain:t.chain,name:t.name,tx:t.tx,value:t.value}),Dp=t=>({pool:t.pool,chain:t.chain,name:t.name,tvl_growth:t.tvl_growth}),Fp=t=>({pool:t.pool,chain:t.chain,name:t.name,tvl_growth:t.tvl_growth}),Mp=t=>({type:t.type,tvl:t.tvl}),xp=t=>({chain:t.chain,tvl:t.tvl}),Bp=t=>({type:t.type,volumeUSD:t.volumeUSD}),Op=t=>({chain:t.chain,volumeUSD:t.volumeUSD}),xe="https://api-py.llama.airforce/curve/v1";class Up extends ge{async getLiquidityTop(){return(await this.fetch(`${xe}/protocol/liquidity/top`)).liquidity_use.map(Rp)}async getTradesLarge(){return(await this.fetch(`${xe}/protocol/size/trades`)).large_trades.map(qp)}async getTvlGainers(){return(await this.fetch(`${xe}/protocol/tvl/gainers`)).tvl_gainers.map(Dp)}async getTvlLosers(){return(await this.fetch(`${xe}/protocol/tvl/losers`)).tvl_losers.map(Fp)}async getTvlBreakdownType(){return(await this.fetch(`${xe}/protocol/tvl/type_breakdown`)).tvl_breakdown_type.map(Mp)}async getTvlBreakdownChain(){return(await this.fetch(`${xe}/protocol/tvl/chain_breakdown`)).tvl_breakdown_chain.map(xp)}async getVolumeBreakdownType(){return(await this.fetch(`${xe}/protocol/volume/type_breakdown`)).volume_breakdown_type.map(Bp)}async getVolumeBreakdownChain(){return(await this.fetch(`${xe}/protocol/volume/chain_breakdown`)).volume_breakdown_chain.map(Op)}}const wt=new Up(he());function Gt(){return{initialData:[],initialDataUpdatedAt:0}}function Ep(){return Z({queryKey:["curve-tvl-breakdown"],queryFn:()=>wt.getTvlBreakdownChain().then(t=>t.sort((n,e)=>e.tvl-n.tvl)),...Gt()})}function Wp(){return Z({queryKey:["curve-tvl-gainers-losers"],queryFn:async()=>{const t=wt.getTvlGainers(),n=wt.getTvlLosers(),[e,o]=[await t,await n];return[...e,...o].sort((s,l)=>l.tvl_growth-s.tvl_growth)},...Gt()})}function Np(){return Z({queryKey:["curve-liquidity-top"],queryFn:()=>wt.getLiquidityTop().then(t=>t.sort((n,e)=>e.liq_use-n.liq_use)),...Gt()})}function Hp(){return Z({queryKey:["curve-trades-large"],queryFn:()=>wt.getTradesLarge().then(t=>t.sort((n,e)=>e.value-n.value)).then(t=>t.slice(0,10)),...Gt()})}const Kp=A({__name:"ChartChainType",setup(t){const{theme:n}=U(N()),{isFetching:e,data:o}=Ep(),s=w(()=>re(n.value,{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const r=l.value[i.seriesIndex].name,d=i.series[i.seriesIndex][i.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${c(d[0])}</div>`].join("")}}})),l=w(()=>[...o.value.map(i=>({name:i.chain,data:[i.tvl,i.tvl]}))]),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"chart",title:"TVL & Volume per Chain",loading:a(e),options:a(s),series:a(l)},null,8,["loading","options","series"])}}}),Qp=P(Kp,[["__scopeId","data-v-2477f2c2"]]),jp=A({__name:"ChartLiquidityTop",setup(t){const{theme:n}=U(N()),{isFetching:e,data:o}=Np(),s=w(()=>re(n.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{var v;const u=l.value[d.dataPointIndex],f=d.series[0][d.dataPointIndex],m=(v=o.value.find(g=>g.name===u))==null?void 0:v.chain;return`
            <div><b>${u}</b>:</div>
            <div>${i(f)}</div>
            <div>${m}<div>`}}})),l=w(()=>o.value.map(d=>d.name)),c=w(()=>[{data:o.value.map(d=>d.liq_use)}]),i=d=>`${j(Math.abs(d),2,"dollar")}`,r=d=>d.toString().substring(0,12);return(d,u)=>{const f=me;return b(),I(f,{class:"chart",title:"Liquidity Usage",loading:a(e),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),Gp=P(jp,[["__scopeId","data-v-941de3e9"]]),Xp=A({__name:"ChartRanking",setup(t){const{theme:n}=U(N()),{isFetching:e,data:o}=Wp(),s=w(()=>{const{colors:d}=n.value;return re(n.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[u=>u.value<0?d.red:d.green],xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:u=>{var g;const f=l.value[u.dataPointIndex],m=u.series[0][u.dataPointIndex],_=(g=o.value.find(y=>y.name===f))==null?void 0:g.chain;return`
            <div><b>${f}</b>:</div>
            <div>${r(m)}</div>
            <div>${_}<div>`}}})}),l=w(()=>o.value.map(d=>d.name)),c=w(()=>[{data:o.value.map(d=>d.tvl_growth)}]),i=d=>d.toString().substring(0,12),r=d=>`${j(d,0,"dollar")}${Q(d,"percentage")}`;return(d,u)=>{const f=me;return b(),I(f,{class:"chart",title:"TVL Gainers & Losers",loading:a(e),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),Yp=P(Xp,[["__scopeId","data-v-c043b4fc"]]),Zp=t=>(de("data-v-ea4b31b3"),t=t(),pe(),t),Jp=Zp(()=>p("div",{class:"title"},"Largest Trades",-1)),em=["href"],tm={class:"number"},nm=A({__name:"TableTrades",setup(t){const{data:n}=Hp();return(e,o)=>{const s=ne,l=fe;return b(),I(l,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:a(n),columns:["Tx","Name","Value"]},{"header-content":S(()=>[Jp]),row:S(c=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${c.item.tx}`,target:"_blank",onClick:o[0]||(o[0]=Ae(()=>{},["stop"]))},L(a(Pe)(c.item.tx)),9,em)]),p("div",null,L(c.item.name),1),p("div",tm,[h(s,{value:c.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}}),om=P(nm,[["__scopeId","data-v-ea4b31b3"]]),am={class:"home"},sm={class:"controls-container"},lm={class:"data-1"},rm={class:"data-2"},im=A({__name:"Home.page",setup(t){const n=V("");return(e,o)=>{const s=Te;return b(),z("div",am,[p("div",sm,[h(s,{modelValue:a(n),"onUpdate:modelValue":o[0]||(o[0]=l=>ue(n)?n.value=l:null),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),p("div",lm,[h(Ap),h(a(Qp)),h(a(Gp))]),p("div",rm,[h(om),h(a(Yp))])])}}}),cm=P(im,[["__scopeId","data-v-024dc482"]]),um="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",dm="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",pm="/assets/arbitrum-Z8VMulXH.png",mm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",_m="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",vm="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",hm="/assets/moonbeam-CHDPiRRO.png",fm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",gm="/assets/optimism-CcABTbCu.png",bm="/assets/base-AohAhS4D.webp",ym="/assets/polygon-GPEdhIuq.png",wm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Ot(t){return{ethereum:um,arbitrum:pm,optimism:gm,fantom:mm,avalanche:dm,xdai:_m,matic:fm,harmony:vm,moonbeam:hm,base:bm,polygon:ym,fraxtal:wm,all:""}[t]}const $m={key:0,class:"item"},Cm=["src"],km={key:1,class:"empty"},Sm={class:"label"},zm=A({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(t,{emit:n}){const e=n,o=V(!1),s=w(()=>[...t.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(d=>!t.chains||t.chains.includes(d.chain))),l=w(()=>s.value.find(d=>d.chain===t.chain)??null),c=d=>d.label,i=()=>{o.value=!o.value},r=d=>{e("select-chain",d.chain)};return(d,u)=>{const f=ut;return b(),I(f,{class:"select",options:a(s),selected:a(l),open:a(o),onOpen:i,onClose:u[0]||(u[0]=m=>o.value=!1),onInput:r},{item:S(m=>[m.item?(b(),z("div",$m,[a(Ot)(m.item.chain)?(b(),z("img",{key:0,src:a(Ot)(m.item.chain)},null,8,Cm)):(b(),z("div",km)),p("div",Sm,L(c(m.item)),1)])):x("",!0)]),_:1},8,["options","selected","open"])}}}),zt=P(zm,[["__scopeId","data-v-00fa19c4"]]),Lm=A({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(t,{emit:n}){const e=n,o=V(void 0);let s,l=null;M(o,(r,d)=>{t.target&&(r?c(t.target,r):d&&s&&i(t.target,s,d))});function c(r,d){s=r.parentNode,l=r.nextSibling,s&&(e("enterBefore",d),s.removeChild(r),d.appendChild(r),e("enter",d))}function i(r,d,u){e("exitBefore",u),u.removeChild(r),l?d.insertBefore(r,l):d.appendChild(r),e("exit",u)}return(r,d)=>{const u=Ln;return b(),I(u,null,{default:S(()=>[p("div",{ref_key:"modalRef",ref:o,class:"fullscreen-content"},null,512)]),_:1})}}}),Tm=P(Lm,[["__scopeId","data-v-f56cfee9"]]),Am=p("i",{class:"fas fa-expand"},null,-1),Xt=A({__name:"BtnChartLWFullscreen",props:it({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=Wt(t,"modelValue");let e=0,o=0;function s(){var i;const c=(i=t.chart.chartElement())==null?void 0:i.parentElement;e=(c==null?void 0:c.clientHeight)??0,o=(c==null?void 0:c.clientWidth)??0}function l(){t.chart.applyOptions({height:e,width:o})}return(c,i)=>{const r=Tm,d=Ie;return b(),I(d,{disabled:!c.chart,onClick:i[1]||(i[1]=u=>n.value=!n.value)},{default:S(()=>[Am,h(r,{target:c.target,show:n.value,onClose:i[0]||(i[0]=u=>n.value=!1),onEnterBefore:s,onExit:l},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Pm=(t,n)=>{const{colors:e}=n;return{width:t.clientWidth,height:t.clientHeight,layout:{background:{type:us.Solid,color:e.backgroundColor},textColor:e.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:e.level4,style:ds.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function se(t,n,e){const o=Pm(t,n),s=(l,c)=>{if(typeof c=="object"){D.mergeWith(l,c,s);return}else return l||c};return D.mergeWith(e,o,s)}function _e(t,n,e){const o=V(void 0),s=V(void 0);let l=null;return le(async()=>{if(!o.value)return;await ps();const c=ct(o.value,n(o.value));s.value=c,e==null||e(c),l=new ResizeObserver(i=>{const r=i[0].target;s.value&&o.value&&(s.value.applyOptions({width:r.clientWidth,height:r.clientHeight}),s.value.timeScale().fitContent())}),o.value.parentElement&&l.observe(o.value.parentElement)}),bn(()=>{s.value&&(s.value.remove(),s.value=void 0),l&&(l.disconnect(),l=null)}),M(t,()=>{o.value&&s.value&&s.value.applyOptions(n(o.value))}),{chart:s,chartRef:o}}const Im={class:"actions"},Ds=A({__name:"ChartTxs",props:{txs:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),s=V(!1),l=V(void 0),{chart:c,chartRef:i}=_e(o,r,m=>{e=m.addAreaSeries(d())});M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>f(m),minMove:.01},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Nt(u);function u(){if(!c.value||!e)return;const m=D.chain(t.txs).map(_=>({time:_.timestamp,value:_.count})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();e.setData(m),c.value.timeScale().fitContent()}const f=m=>`${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,_)=>{const v=Y;return b(),I(v,{ref_key:"chartCard",ref:l,class:B(["chart-card",{fullscreen:a(s)}]),title:a(n)("title")},{actions:S(()=>{var g;return[p("div",Im,[h(a(Xt),{modelValue:a(s),"onUpdate:modelValue":_[0]||(_[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(g=a(l))==null?void 0:g.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function co(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Transactions"])}}})}typeof co=="function"&&co(Ds);const Vm=P(Ds,[["__scopeId","data-v-aeb9c346"]]),Rm={class:"actions"},Fs=A({__name:"ChartUsers",props:{users:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),s=V(!1),l=V(void 0),{chart:c,chartRef:i}=_e(o,r,m=>{e=m.addAreaSeries(d())});M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>f(m),minMove:.01},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Nt(u);function u(){if(!c.value||!e)return;const m=D.chain(t.users).map(_=>({time:_.timestamp,value:_.count})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();e.setData(m),c.value.timeScale().fitContent()}const f=m=>`${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,_)=>{const v=Y;return b(),I(v,{ref_key:"chartCard",ref:l,class:B(["chart-card",{fullscreen:a(s)}]),title:a(n)("title")},{actions:S(()=>{var g;return[p("div",Rm,[h(a(Xt),{modelValue:a(s),"onUpdate:modelValue":_[0]||(_[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(g=a(l))==null?void 0:g.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function uo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Users"])}}})}typeof uo=="function"&&uo(Fs);const qm=P(Fs,[["__scopeId","data-v-271aa30d"]]),Dm={class:"legend"},Fm=["onClick"],Mm={class:"label"},xm=A({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:n}){const e=n;return(o,s)=>(b(),z("div",Dm,[(b(!0),z(ae,null,ve(o.items,l=>(b(),z("div",{key:l.id,class:B(["item",{togglable:l.togglable,disabled:o.disabled.includes(l.id)}]),onClick:c=>{l.togglable&&e("toggle",l.id)}},[p("div",{class:"color",style:ke({"background-color":l.color})},null,4),p("div",Mm,L(l.label),1)],10,Fm))),128))]))}}),Ve=P(xm,[["__scopeId","data-v-d25d58a4"]]);function Re(t){const n=w(t),e=Li(Ti(Object.fromEntries(n.value.map(s=>[s.id,!0])))),o=w(()=>n.value.filter(s=>!e[s.id].value).map(s=>s.id));return{items:n,toggles:e,disabled:o}}const Bm={class:"actions"},Ms=A({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(t){const{t:n}=F(),{theme:e}=U(N()),o=w(()=>`${n("title")} (${t.type==="all"?"All Types":D.capitalize(t.type)})`),{items:s,toggles:l,disabled:c}=Re(()=>{const{blue:g,yellow:y}=e.value.colors;return[{id:"txs",label:n("txs"),color:g,togglable:!0},{id:"users",label:n("users"),color:y,togglable:!0}]});function i(g){return D.chain(g).groupBy(y=>y.chain).mapValues((y,C)=>{const k=y.reduce(($,T)=>$+T.value,0);return{chain:C,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:g}=e.value;return re(e.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[g.blue,g.yellow],xaxis:{categories:f.value,labels:{formatter:_}},yaxis:{labels:{formatter:v}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(t.txs):[]),u=w(()=>l.users.value?i(t.users):[]),f=w(()=>D.chain(d.value).concat(u.value).orderBy(g=>g.count,"desc").map(g=>g.chain).uniq().value()),m=w(()=>{const g=f.value.map(C=>{const k=d.value.find($=>$.chain===C);return k?k.count:0}),y=f.value.map(C=>{const k=u.value.find($=>$.chain===C);return k?k.count:0});return[{data:l.txs.value?g:[]},{data:l.users.value?y:[]}]}),_=g=>g,v=g=>`${j(g,0,"dollar")}${Q(g,"dollar")}`;return(g,y)=>{const C=Ve,k=me;return b(),I(k,{class:"chart",title:a(o),options:a(r),series:a(m)},{actions:S(()=>[p("div",Bm,[h(C,{items:a(s),disabled:a(c),onToggle:y[0]||(y[0]=$=>a(l)[$].value=!a(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function po(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Top Chains"])},txs:e=>{const{normalize:o}=e;return o(["Transactions"])},users:e=>{const{normalize:o}=e;return o(["Users"])}}})}typeof po=="function"&&po(Ms);const Om=P(Ms,[["__scopeId","data-v-459c37a8"]]),Um={class:"actions"},xs=A({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(t){const{t:n}=F(),{theme:e}=U(N()),o=w(()=>`${n("title")} (${t.chain==="all"?"All Chains":D.capitalize(t.chain)})`),{items:s,toggles:l,disabled:c}=Re(()=>{const{blue:g,yellow:y}=e.value.colors;return[{id:"txs",label:n("txs"),color:g,togglable:!0},{id:"users",label:n("users"),color:y,togglable:!0}]});function i(g){return D.chain(g).groupBy(y=>y.type).mapValues((y,C)=>{const k=y.reduce(($,T)=>$+T.value,0);return{type:C,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:g}=e.value;return re(e.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[g.blue,g.yellow],xaxis:{categories:f.value,labels:{formatter:_}},yaxis:{labels:{formatter:v}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(t.txs):[]),u=w(()=>l.users.value?i(t.users):[]),f=w(()=>D.chain(d.value).concat(u.value).orderBy(g=>g.count,"desc").map(g=>g.type).uniq().value()),m=w(()=>{const g=f.value.map(C=>{const k=d.value.find($=>$.type===C);return k?k.count:0}),y=f.value.map(C=>{const k=u.value.find($=>$.type===C);return k?k.count:0});return[{data:l.txs.value?g:[]},{data:l.users.value?y:[]}]}),_=g=>g,v=g=>`${j(g,0,"dollar")}${Q(g,"dollar")}`;return(g,y)=>{const C=Ve,k=me;return b(),I(k,{class:"chart",title:a(o),options:a(r),series:a(m)},{actions:S(()=>[p("div",Um,[h(C,{items:a(s),disabled:a(c),onToggle:y[0]||(y[0]=$=>a(l)[$].value=!a(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function mo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Top Types"])},txs:e=>{const{normalize:o}=e;return o(["Transactions"])},users:e=>{const{normalize:o}=e;return o(["Users"])}}})}typeof mo=="function"&&mo(xs);const Em=P(xs,[["__scopeId","data-v-b1ad8af0"]]),Wm={class:"item"},Nm={class:"label"},Bs=A({__name:"ActivityTypeSelect",emits:["select"],setup(t,{emit:n}){const{t:e}=F(),o=["all",...np],s=n,l=V(!1),c=V("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,s("select",c.value)};return(d,u)=>{const f=ut;return b(),I(f,{class:"select",options:o.map(m=>m),selected:a(c),open:a(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:S(m=>[p("div",Wm,[p("div",Nm,L(a(e)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function _o(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{all:e=>{const{normalize:o}=e;return o(["All Types"])},crvusd:e=>{const{normalize:o}=e;return o(["crvUSD"])},lending:e=>{const{normalize:o}=e;return o(["Lending"])},pools:e=>{const{normalize:o}=e;return o(["Pools"])},router:e=>{const{normalize:o}=e;return o(["Router"])},dao:e=>{const{normalize:o}=e;return o(["DAO"])}}})}typeof _o=="function"&&_o(Bs);const Hm=P(Bs,[["__scopeId","data-v-c6645d99"]]),Km={class:"chains"},Qm={class:"toolbar"},jm={class:"activity"},Os=A({__name:"Chains.page",setup(t){const{t:n}=F(),{show:e}=U(Ee());le(()=>{e.value=!1});const o=$e("chain"),s=w({get(){return o.value?o.value:"all"},set(H){o.value=H}}),l=w(()=>{const H=D.chain(u.value.map(ie=>ie.chain)).concat(m.value.map(ie=>ie.chain)).concat(s.value!==void 0&&s.value!=="all"?[s.value]:[]).uniq().orderBy(ie=>ie).value(),X=["ethereum"],ee=D.chain(H).difference(X).orderBy(ie=>ie).value();return["all",...X,...ee]}),c=$e("type"),i=w({get(){return c.value?c.value:"all"},set(H){c.value=H}}),r=H=>{i.value=H},{isFetching:d,data:u}=pp(),{isFetching:f,data:m}=mp();function _(H,X,ee,ie){return D.chain(H).filter(G=>X==="all"?!0:G.chain===X).filter(G=>ee==="all"?!0:G.type===ee).groupBy(G=>G.timestamp).mapValues((G,be)=>{const Me=G.reduce((ht,nn)=>ht+ie(nn),0);return{timestamp:Number(be),count:Me}}).values().value()}const v=w(()=>_(u.value,s.value,i.value,H=>H.transactions)),g=w(()=>_(m.value,s.value,i.value,H=>H.users));function y(H){const ie=Math.floor(Date.now()/1e3)-7*24*60*60,be=H.filter(Me=>Me.timestamp>=ie).reduce((Me,ht)=>Me+ht.count,0);return Math.round(be/7)}const C=w(()=>{var H;return((H=D.last(v.value))==null?void 0:H.count)??0}),k=w(()=>y(v.value)),$=w(()=>{var H;return((H=D.last(g.value))==null?void 0:H.count)??0}),T=w(()=>y(g.value));function q(H,X,ee,ie){return D.chain(H).filter(G=>X==="all"?!0:G.chain===X).filter(G=>ee==="all"?!0:G.type===ee).map(G=>({chain:G.chain,type:G.type,value:ie(G)})).value()}const O=w(()=>q(u.value,"all",i.value,H=>H.transactions)),R=w(()=>q(m.value,"all",i.value,H=>H.users)),E=w(()=>q(u.value,s.value,"all",H=>H.transactions)),te=w(()=>q(m.value,s.value,"all",H=>H.users));return(H,X)=>{const ee=ne,ie=Ce;return b(),z("div",Km,[(b(),I(Et,{to:"#toolbar"},[p("div",Qm,[h(a(Hm),{style:{"grid-area":"type"},onSelect:r}),h(zt,{style:{"grid-area":"chain"},class:"chain-select",chain:a(s),chains:a(l),all:!0,onSelectChain:X[0]||(X[0]=G=>s.value=G)},null,8,["chain","chains"])])])),p("div",jm,[h(ie,{style:{"grid-area":"kpi1"},label:a(n)("txs-today"),"has-value":!!a(d)},{default:S(()=>[h(ee,{type:"dollar",value:a(C),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),h(ie,{style:{"grid-area":"kpi2"},label:a(n)("txs-avg"),"has-value":!!a(d)},{default:S(()=>[h(ee,{type:"dollar",value:a(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),h(ie,{style:{"grid-area":"kpi3"},label:a(n)("users-today"),"has-value":!!a(f)},{default:S(()=>[h(ee,{type:"dollar",value:a($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),h(ie,{style:{"grid-area":"kpi4"},label:a(n)("txs-avg"),"has-value":!!a(f)},{default:S(()=>[h(ee,{type:"dollar",value:a(T),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),h(a(Vm),{style:{"grid-area":"txs"},txs:a(v),loading:a(d)},null,8,["txs","loading"]),h(a(qm),{style:{"grid-area":"users"},users:a(g),loading:a(f)},null,8,["users","loading"]),h(a(Om),{style:{"grid-area":"top-chains"},type:a(i),txs:a(O),users:a(R),loading:a(d)||a(f)},null,8,["type","txs","users","loading"]),h(a(Em),{style:{"grid-area":"top-types"},chain:a(s),txs:a(E),users:a(te),loading:a(d)||a(f)},null,8,["chain","txs","users","loading"])])])}}});function vo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"txs-today":e=>{const{normalize:o}=e;return o(["Transactions Today"])},"txs-avg":e=>{const{normalize:o}=e;return o(["Avg Transactions / 7 Days"])},"users-today":e=>{const{normalize:o}=e;return o(["Users Today"])},"users-avg":e=>{const{normalize:o}=e;return o(["Avg Users / 7 Days"])}}})}typeof vo=="function"&&vo(Os);const Gm=P(Os,[["__scopeId","data-v-4c2c817c"]]),Xm=t=>({tvl:t.total_tvl,tradingVolume24h:t.trading_volume_24h,tradingFee24h:t.trading_fee_24h,liquidityVolume24h:t.liquidity_volume_24h,liquidityFee24h:t.liquidity_fee_24h}),ho=t=>{var n,e;return{name:t.name,address:t.address.toLocaleLowerCase(),numCoins:t.n_coins,tvlUsd:t.tvl_usd,tradingVolume24h:t.trading_volume_24h,tradingFee24h:t.trading_fee_24h,liquidityVolume24h:t.liquidity_volume_24h,liquidityFee24h:t.liquidity_fee_24h,coins:((n=t.coins)==null?void 0:n.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:t.base_daily_apr,baseWeeklyApr:t.base_weekly_apr,virtualPrice:t.virtual_price,poolMethods:((e=t.pool_methods)==null?void 0:e.map(o=>o))??[]}},Ym=t=>({timestamp:t.timestamp,volume:t.volume,fees:t.fees}),fo="https://prices.curve.fi";let Zm=class extends ge{async getPools(n){const e=await this.fetch(`https://api.curvemonitor.com/proxyCurvePricesAPI/chains/${n}`);return{chain:e.chain,totals:Xm(e.total),pools:e.data.map(ho)}}async getPool(n,e){const o=await this.fetch(`${fo}/v1/pools/${n}/${e}`);return ho(o)}async getVolume(n,e){const s=Math.floor(new Date().getTime()/1e3),l=Math.floor(s-72e5);return(await this.fetch(`${fo}/v1/volume/usd/${n}/${e}?interval=day&start=${l}&end=${s}`)).data.map(Ym)}};const Yt=new Zm(he());function Jm(t){return Z({queryKey:["curve-pools",t],queryFn:async({queryKey:[,n]})=>Yt.getPools(n),placeholderData:Ht,enabled:w(()=>!!t.value)})}function e_(t,n){return Z({queryKey:["curve-pool",n],queryFn:async({queryKey:[,e]})=>Yt.getPool(t.value,e),enabled:w(()=>!!t.value)})}function t_(t,n){const e=w(()=>n.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>Yt.getPool(t.value,o),enabled:w(()=>!!t.value)})));return Ai({queries:e})}function n_(t,n){return Z({queryKey:["curve-volume",n],queryFn:async({queryKey:[,e]})=>Yt.getVolume(t.value,e),enabled:w(()=>!!t.value&&!!n.value),initialData:[],initialDataUpdatedAt:0})}const o_=["src"],a_=A({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{}},setup(t){const n=V("");function e(s){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${t.chain!=="ethereum"?`-${t.chain}`:""}/${s}.png`}const o=()=>{n.value="https://lend.curve.fi/images/default-crypto.png"};return M(()=>t.address,s=>{n.value=e(s.toLowerCase())},{immediate:!0}),(s,l)=>(b(),z("img",{src:n.value,onError:o},null,40,o_))}}),dt=P(a_,[["__scopeId","data-v-3faa27cd"]]),Rn=t=>(de("data-v-c920758b"),t=t(),pe(),t),s_={key:0},l_=Rn(()=>p("button",null,"1",-1)),r_=[l_],i_=Rn(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),c_=[i_],u_=["onClick"],d_=Rn(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),p_=[d_],m_=A({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:n}){const e=n,o=w(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),s=w(()=>{const f=[...Array(12).keys()].map(C=>C-6+t.page).filter(C=>C>=1&&C<=o.value),m=f.findIndex(C=>C===t.page),_=[],v=[],g=t.page!==1&&t.page!==o.value?[t.page]:[];let y=1;for(;;){const C=f[m-y];if(C&&C!==1&&_.unshift(C),_.length+v.length+g.length>=5||y>f.length)break;const k=f[m+y];if(k&&k!==o.value&&v.push(k),y++,_.length+v.length+g.length>=5||y>f.length)break}return[..._,...g,...v]});M(s,()=>{const d=l(t.page,1,o.value);t.page!==d&&e("page",d)});const l=(d,u,f)=>(f<u&&(f=u),Math.min(Math.max(d,u),f)),c=()=>e("page",l(t.page-1,1,o.value)),i=()=>e("page",l(t.page+1,1,o.value)),r=d=>e("page",l(d,1,o.value));return(d,u)=>a(o)>1?(b(),z("ul",s_,[p("li",{class:B({active:d.page===1}),onClick:u[0]||(u[0]=f=>r(1))},r_,2),a(o)>2?(b(),z("li",{key:0,onClick:c},c_)):x("",!0),(b(!0),z(ae,null,ve(a(s),(f,m)=>(b(),z("li",{key:m,class:B({active:f===d.page}),onClick:_=>r(f)},[p("button",null,L(f),1)],10,u_))),128)),a(o)>2?(b(),z("li",{key:1,onClick:i},p_)):x("",!0),a(o)>1?(b(),z("li",{key:2,class:B({active:d.page===a(o)}),onClick:u[1]||(u[1]=f=>r(a(o)))},[p("button",null,L(a(o)),1)],2)):x("",!0)])):x("",!0)}}),je=P(m_,[["__scopeId","data-v-c920758b"]]);function qn(t,n,e){const o=V(n),s=V("desc"),l=(i,r)=>{o.value=i,s.value=r},c=w(()=>t.filter(i=>i!==""));return{sortColumns:t,sortColumnsNoEmpty:c,sortColumn:o,sortOrder:s,onSort:l}}function Dn(t,n){const e=V(1),o=w(()=>D.chain(t.value).drop((e.value-1)*n).take(n).value()),s=l=>{e.value=l};return M(o,l=>{l.length===0&&(e.value=Math.max(1,Math.ceil(t.value.length/n)))}),{page:e,rowsPage:o,onPage:s}}function Fn(){const t=V(1);return{page:t,onPage:e=>{t.value=e}}}const __={class:"title"},v_={style:{display:"flex",gap:"1rem"}},h_={class:"tokens"},f_={class:"number"},g_={class:"number"},b_={class:"number"},go=20,Us=A({__name:"TablePools",props:{chain:{},pools:{}},setup(t){const{t:n}=F(),{sortColumns:e,sortColumnsNoEmpty:o,sortColumn:s,sortOrder:l,onSort:c}=qn(["","","name","volume","tvl","util"],"tvl"),i=w(()=>D.chain(t.pools).orderBy(m=>{switch(s.value){case"name":return m.name;case"volume":return m.tradingVolume24h;case"tvl":return m.tvlUsd;case"util":return f(m);default:return m.tvlUsd}},l.value).value()),{page:r,rowsPage:d,onPage:u}=Dn(i,go);function f(m){return m.tvlUsd!==0?100*m.tradingVolume24h/m.tvlUsd:0}return(m,_)=>{const v=je,g=dt,y=ne,C=fe;return b(),I(C,{class:"datatable-pools","columns-header":"1fr auto","columns-data":"pools-columns-data","expand-side":"left",rows:a(d),columns:["","","Name","Volume (24h)","TVL","Util Rate"],sorting:!0,"sorting-columns":a(e),"sorting-columns-enabled":a(o),"sorting-default-column":"tvl","sorting-default-dir":"desc",onSortColumn:a(c)},{"header-content":S(()=>[p("div",__,L(a(n)("title")),1),p("div",v_,[h(v,{class:"pagination","items-count":m.pools.length,"items-per-page":go,page:a(r),onPage:a(u)},null,8,["items-count","page","onPage"])])]),row:S(({item:k})=>[p("div",h_,[(b(!0),z(ae,null,ve(k.coins,$=>(b(),I(g,{key:$.address,chain:m.chain,address:$.address},null,8,["chain","address"]))),128))]),p("div",null,L(k.name),1),p("div",f_,[h(y,{value:k.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",g_,[h(y,{value:k.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",b_,[h(y,{value:f(k),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":S(()=>[K("   ")]),_:1},8,["rows","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function bo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Pools"])}}})}typeof bo=="function"&&bo(Us);const y_=P(Us,[["__scopeId","data-v-4e5b2325"]]),w_={class:"pools"},$_={class:"toolbar"},Es=A({__name:"Pools.page",setup(t){const{t:n}=F(),e=["ethereum","arbitrum"],o=$e("chain"),s=w({get(){return o.value?o.value:"ethereum"},set(g){o.value=g}}),l=V(""),{isFetching:c,data:i}=Vs(s),{isFetching:r,data:d}=Jm(s),u=w(()=>{var g;return(((g=d.value)==null?void 0:g.pools)??[]).filter(y=>{const C=l.value.toLocaleLowerCase().split(" "),k=$=>C.some(T=>$.toLocaleLowerCase().includes(T));return k(y.name)||k(y.address)})}),{show:f,crumbs:m}=U(Ee());le(()=>{f.value=!0,m.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const _=Oe(),v=async g=>{await _.push({name:"poolspool",params:{tab:"",chain:s.value,poolAddr:g.address}})};return(g,y)=>{const C=Te,k=ne,$=Ce;return b(),z("div",w_,[(b(),I(Et,{to:"#toolbar"},[p("div",$_,[h(C,{modelValue:a(l),"onUpdate:modelValue":y[0]||(y[0]=T=>ue(l)?l.value=T:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(zt,{class:"chain-select",chain:a(s),chains:e,onSelectChain:y[1]||(y[1]=T=>s.value=T==="all"?"ethereum":T)},null,8,["chain"])])])),h($,{style:{"grid-area":"kpi1"},label:a(n)("tvl"),"has-value":!a(c)},{default:S(()=>{var T;return[h(k,{value:((T=a(i))==null?void 0:T.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h($,{style:{"grid-area":"kpi2"},label:a(n)("volume"),"has-value":!a(c)},{default:S(()=>{var T;return[h(k,{value:((T=a(i))==null?void 0:T.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h($,{style:{"grid-area":"kpi3"},label:a(n)("fee-trading"),"has-value":!a(c)},{default:S(()=>{var T;return[h(k,{value:((T=a(i))==null?void 0:T.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h($,{style:{"grid-area":"kpi4"},label:a(n)("fee-liquidity"),"has-value":!a(c)},{default:S(()=>{var T;return[h(k,{value:((T=a(i))==null?void 0:T.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(a(y_),{style:{"grid-area":"pools"},chain:a(s),pools:a(u),loading:a(r),onSelected:v},null,8,["chain","pools","loading"])])}}});function yo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])},volume:e=>{const{normalize:o}=e;return o(["Volume (24h)"])},"fee-trading":e=>{const{normalize:o}=e;return o(["Fees Trading (24h)"])},"fee-liquidity":e=>{const{normalize:o}=e;return o(["Fees Liquidity (24h)"])}}})}typeof yo=="function"&&yo(Es);const C_=P(Es,[["__scopeId","data-v-51a31035"]]),k_={class:"tab-view"},S_={class:"tab-headers"},z_=["onClick"],L_={class:"tabs"},T_=A({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:n}){const e=n,o=V(null),s=is(),l=w(()=>(s!=null&&s.default?s.default():[]).filter(r=>r.props));M(()=>t.active,i=>{o.value=i,e("tab",{tab:l.value[i],index:o.value})},{immediate:!0});const c=(i,r)=>{i.props.disabled||(o.value=r,e("tab",{tab:l.value[r],index:o.value}))};return(i,r)=>(b(),z("div",k_,[p("ul",S_,[(b(!0),z(ae,null,ve(a(l),(d,u)=>(b(),z("li",{key:u,class:B(["tab-header",{active:a(o)===u,disabled:d.props.disabled}]),onClick:f=>c(d,u)},L(d.props.header),11,z_))),128))]),p("div",L_,[(b(!0),z(ae,null,ve(a(l),(d,u)=>Pi((b(),z("div",{key:u,class:"tab"},[(b(),I(fn(d)))])),[[Ii,a(o)===u]])),128))])]))}}),Ge=P(T_,[["__scopeId","data-v-cb076fcc"]]),Xe=A({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(n,e)=>oe(n.$slots,"default")}}),A_=new Rs(he());function P_(t,n,e,o){return Z({queryKey:["curve-token-price",n,e,o],queryFn:({queryKey:[,s,l,c]})=>A_.getOHLC(t.value,s,l,c),enabled:w(()=>!!t.value&&!!n.value&&!!e.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const I_=A({__name:"ButtonToggle",props:it({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const n=Wt(t,"modelValue"),e=()=>{n.value=!n.value};return(o,s)=>(b(),z("button",{class:B({toggled:n.value}),onClick:e},[oe(o.$slots,"default",{},()=>[o.icon?(b(),z("i",{key:0,class:B(["icon",o.icon])},null,2)):x("",!0),K(" "+L(o.value),1)],!0)],2))}}),Ye=P(I_,[["__scopeId","data-v-d1a44749"]]),V_={class:"controls"},Ws=A({__name:"ChartPrice",props:{ohlc:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),s=V(!1);let l=1,c=0;const{chart:i,chartRef:r}=_e(o,d,_=>{e=_.addCandlestickSeries(u())});M([W(()=>t.ohlc),i,s],f),M(o,()=>{e==null||e.applyOptions(u())});function d(_){return se(_,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){const{colors:_}=o.value;return{priceFormat:{type:"custom",formatter:m},upColor:_.green,borderUpColor:_.green,wickUpColor:_.green,downColor:_.red,borderDownColor:_.red,wickDownColor:_.red}}function f([_,v,g]){if(!v||!e)return;const y=g?-1:1,C=D.chain(_).map(k=>({time:k.time,open:Math.pow(k.open,y),high:Math.pow(k.high,y),low:Math.pow(k.low,y),close:Math.pow(k.close,y)})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();C.length>0&&(e.setData(C),c=Math.min(...C.map(k=>k.low)),l=Math.max(...C.map(k=>k.high))),v.timeScale().fitContent()}const m=_=>{const v=l-c,g=v>1?v-Math.floor(v):v,y=-Math.floor(Math.log10(g)+1)+2;return`${j(_,y,"dollar")}${Q(_,"dollar")}`};return(_,v)=>{const g=Ye,y=Y;return b(),I(y,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",V_,[h(g,{value:"Invert","model-value":a(s),onClick:v[0]||(v[0]=C=>s.value=!a(s))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function wo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Price"])}}})}typeof wo=="function"&&wo(Ws);const R_=P(Ws,[["__scopeId","data-v-5c46d7d5"]]),Ns=A({__name:"ChartVolume",props:{volume:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,u=>{e=u.addAreaSeries(i())});M([W(()=>t.volume),s],r),M(o,()=>e.applyOptions(i()));function c(u){return se(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!e)return;const m=D.chain(u).map(_=>({time:_.timestamp,value:_.volume})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();m.length>0&&e.setData(m),f.timeScale().fitContent()}const d=u=>`$${j(u,1,"dollar")}${Q(u,"dollar")}`;return(u,f)=>{const m=Y;return b(),I(m,{class:"chart-container",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function $o(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Volume"])}}})}typeof $o=="function"&&$o(Ns);const q_=P(Ns,[["__scopeId","data-v-bcdf85f2"]]),D_={class:"pool-overview"},F_={class:"tokens"},Hs=A({__name:"PoolOverview",props:{pool:{},chain:{}},setup(t){const{t:n}=F(),e=w(()=>{var u;return(u=t.pool)==null?void 0:u.address}),o=w(()=>{var u;return(u=t.pool)==null?void 0:u.coins[0].address}),s=w(()=>{var u;return(u=t.pool)==null?void 0:u.coins[1].address}),{isFetching:l,data:c}=P_(W(()=>t.chain),e,o,s),{isFetching:i,data:r}=n_(W(()=>t.chain),e),d=w(()=>r.value.map(u=>({timestamp:u.timestamp,volume:u.volume})));return(u,f)=>{const m=dt,_=Ce,v=ne;return b(),z("div",D_,[h(_,{style:{"grid-area":"kpi1"},label:a(n)("tokens"),"has-value":!!u.pool},{default:S(()=>{var g;return[p("div",F_,[(b(!0),z(ae,null,ve(((g=u.pool)==null?void 0:g.coins)??[],y=>(b(),I(m,{key:y.address,chain:u.chain,address:y.address},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),h(_,{style:{"grid-area":"kpi2"},label:a(n)("tvl"),"has-value":!!u.pool},{default:S(()=>{var g;return[h(v,{value:((g=u.pool)==null?void 0:g.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(_,{style:{"grid-area":"kpi3"},label:a(n)("volume"),"has-value":!!u.pool},{default:S(()=>{var g;return[h(v,{value:((g=u.pool)==null?void 0:g.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(_,{style:{"grid-area":"kpi4"},label:a(n)("fees"),"has-value":!!u.pool},{default:S(()=>{var g;return[h(v,{value:((g=u.pool)==null?void 0:g.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(a(R_),{style:{"grid-area":"price"},ohlc:a(c),loading:a(l)},null,8,["ohlc","loading"]),h(a(q_),{style:{"grid-area":"volume"},volume:a(d),loading:a(i)},null,8,["volume","loading"])])}}});function Co(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{tokens:e=>{const{normalize:o}=e;return o(["Tokens"])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])},volume:e=>{const{normalize:o}=e;return o(["Volume (24h)"])},fees:e=>{const{normalize:o}=e;return o(["Fees (24h)"])}}})}typeof Co=="function"&&Co(Hs);const M_=P(Hs,[["__scopeId","data-v-98037ced"]]),x_={},B_={class:"gauge"};function O_(t,n){return b(),z("div",B_,"Gauge goes here")}const U_=P(x_,[["render",O_],["__scopeId","data-v-d3275186"]]),E_={},W_={class:"mev"};function N_(t,n){return b(),z("div",W_,"MEV goes here")}const H_=P(E_,[["render",N_],["__scopeId","data-v-284efb34"]]);function Zt(t,n,e){const o=Oe(),s=$e("tab",t[0]),l=V(-1);return M(s,c=>l.value=t.findIndex(i=>i===c),{immediate:!0}),M(l,async c=>{c===-1&&(c=0),await o.push({name:n,params:{tab:t[c],...(e==null?void 0:e())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:l}}const K_={class:"pool"},Q_=A({__name:"Pool.page",setup(t){const{show:n,crumbs:e}=U(Ee()),o=$e("chain"),s=$e("poolAddr"),{isFetching:l,data:c}=e_(o,s.value);M(c,d=>{e.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),le(()=>{n.value=!0});const{tabActive:i,tabActiveIndex:r}=Zt(["overview","gauge","mev"],"poolspool",()=>({chain:o.value,poolAddr:s.value}));return(d,u)=>{const f=Ue,m=Xe,_=Ge;return b(),z("div",K_,[h(f,{class:B(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(c)?(b(),I(_,{key:0,active:a(r),onTab:u[0]||(u[0]=v=>r.value=v.index)},{default:S(()=>[h(m,{header:"Overview"},{default:S(()=>[(b(),I(ze,null,[a(i)==="overview"?(b(),I(M_,{key:0,pool:a(c),chain:a(o)},null,8,["pool","chain"])):x("",!0)],1024))]),_:1}),h(m,{header:"Gauge"},{default:S(()=>[(b(),I(ze,null,[a(i)==="gauge"?(b(),I(U_,{key:0,pool:a(c),chain:a(o)},null,8,["pool","chain"])):x("",!0)],1024))]),_:1}),h(m,{header:"MEV"},{default:S(()=>[(b(),I(ze,null,[a(i)==="mev"?(b(),I(H_,{key:0,pool:a(c),chain:a(o)},null,8,["pool","chain"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])):x("",!0)])}}}),j_=P(Q_,[["__scopeId","data-v-871c8994"]]),Mn=Qe("curveStore",()=>{const t=V([]),n=V({}),e=V({});function o(l,c){n.value[l]=c}function s(l,c){e.value[l]=c}return{gauges:t,emissions:n,fees:e,setEmissions:o,setFees:s}});function Je(t){const n=t.reduce((e,{timeStamp:o,value:s})=>e.set(o,(e.get(o)??0)+s),new Map);return Array.from(n).map(e=>({timeStamp:e[0],value:e[1]}))}const Ks=A({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(t){const{t:n}=F(),e=Mn(),{theme:o}=U(N()),s=w(()=>{let v=n("title");return t.gaugeSelected&&(v+=` - ${Fe(t.gaugeSelected.name)}`),v}),l=w(()=>t.gaugeSelected?e.emissions[t.gaugeSelected.name]??[]:[]),c=w(()=>t.gaugeSelected?e.fees[t.gaugeSelected.name]??[]:[]),i=w(()=>Math.min(...Je(l.value).map(v=>v.value).concat(Je(c.value).map(v=>v.value)))),r=w(()=>Math.max(...Je(l.value).map(v=>v.value).concat(Je(c.value).map(v=>v.value)).map(v=>Math.abs(v)))),d=w(()=>re(o.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:v=>f(v)},min:i,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:v=>m(v)},show:!1,min:i,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:v=>{const g=v.w.globals.initialSeries[0].data[v.dataPointIndex].y,y=v.w.globals.initialSeries[1].data[v.dataPointIndex]?v.w.globals.initialSeries[1].data[v.dataPointIndex].y:0;return[`<div><b>${n("emissions")}</b>:</div><div>${f(g)}</div>`,`<div><b>${n("fees")}</b>:</div><div>${m(y)}</div>`,`<div><b>${n("ratio")}</b>:</div><div>${_(y/g)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(v){return v}}})),u=w(()=>{const v=Je(l.value),g=Je(c.value),y=Object.assign({},...g.map(C=>({[C.timeStamp]:C.value})));return[{name:n("emissions"),type:"line",data:v.map(C=>({x:C.timeStamp*1e3,y:C.value}))},{name:n("fees"),type:"line",data:v.map(C=>({x:C.timeStamp*1e3,y:y[C.timeStamp]?Math.abs(y[C.timeStamp]):0}))}]}),f=v=>`$${j(Math.abs(v),1,"dollar")}${Q(v,"dollar")}`,m=v=>`$${j(v,1,"dollar")}${Q(v,"dollar")}`,_=v=>`${Ne(v,2)}`;return(v,g)=>{const y=me;return b(),I(y,{class:"emissions",title:a(s),options:a(d),series:a(u)},null,8,["title","options","series"])}}});function ko(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Emissions & Revenues"])},emissions:e=>{const{normalize:o}=e;return o(["Emissions"])},fees:e=>{const{normalize:o}=e;return o(["Fees"])},ratio:e=>{const{normalize:o}=e;return o(["Ratio"])}}})}typeof ko=="function"&&ko(Ks);const G_=P(Ks,[["__scopeId","data-v-36dfe414"]]),X_={class:"title"},Y_={class:"number"},Z_={key:0,class:"charts"},J_={key:1},Qs=A({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(t){const{t:n}=F(),e=Mn(),{sortColumns:o,sortColumnsNoEmpty:s,sortColumn:l,sortOrder:c,onSort:i}=qn(["","name","tvl"],"tvl"),r=w(()=>D.orderBy(e.gauges,d=>{switch(l.value){case"name":return Fe(d.name);case"tvl":return d.tvl;default:return d.tvl}},c.value));return(d,u)=>{const f=ne,m=fe;return b(),I(m,{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:a(r),columns:["",a(n)("name"),a(n)("tvl")],sorting:!0,"sorting-columns":a(o),"sorting-columns-enabled":a(s),"sorting-default-column":"tvl","sorting-default-dir":"desc",expanded:d.expanded,onSortColumn:a(i)},{"header-content":S(()=>[p("div",X_,L(a(n)("title")),1)]),row:S(_=>[p("div",null,L(a(Fe)(_.item.name)),1),p("div",Y_,[h(f,{value:_.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":S(_=>[d.expanded.includes(_.item)?(b(),z("div",Z_,[h(G_,{class:"fees-and-emissions","gauge-selected":_.item},null,8,["gauge-selected"])])):(b(),z("span",J_))]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","expanded","onSortColumn"])}}});function So(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{name:e=>{const{normalize:o}=e;return o(["Name"])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])},title:e=>{const{normalize:o}=e;return o(["Curve Pools"])}}})}typeof So=="function"&&So(Qs);const ev=P(Qs,[["__scopeId","data-v-8c9112fb"]]);class tv extends ge{async get(){return this.fetch(`${this.host}/curvepool`)}}class nv extends ge{async get(n){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:n.name})}}function xn(){const t=V([]);return{expanded:t,toggleExpansion:e=>t.value.includes(e)?(t.value=t.value.filter(o=>o!==e),!1):(t.value.push(e),!0)}}const ov={class:"gauges"},av=A({__name:"Gauges.page",setup(t){let n=!1;const e=new tv(he()),o=new nv(he()),s=Mn(),l=Oe(),c=$e("gauge"),{expanded:i,toggleExpansion:r}=xn();le(async()=>{n=!0;const m=await yt(e.get());if(m){const _=m.pools;if(_.sort((v,g)=>g.tvl-v.tvl),s.gauges=_,!n)return;c.value&&u(c.value)}}),yn(()=>{n=!1});const d=async m=>{if(!m||s.fees[m.name]&&s.emissions[m.name])return;const _=await yt(o.get(m),500);if(_){const v=_.data.feeSnapshots,g=_.data.emissionSnapshots;s.setFees(m.name,v),s.setEmissions(m.name,g)}},u=m=>{const _=Sn(m),v=s.gauges.find(g=>g.name===_);v&&r(v)&&d(v)},f=async m=>{r(m)&&(d(m),await l.push({name:"curvegauges",params:{gauge:Fe(m.name)}}))};return(m,_)=>(b(),z("div",ov,[h(ev,{class:"datatable-gauges",expanded:a(i),onSelected:f},null,8,["expanded"])]))}}),sv=P(av,[["__scopeId","data-v-79bb6e3d"]]),lv=t=>({week:t.week,label:t.label,total_fees:t.total_fees}),rv=t=>({chain:t.chain,totalDailyFeesUSD:t.totalDailyFeesUSD}),iv=t=>({name:t.name,totalDailyFeesUSD:t.totalDailyFeesUSD}),cv=t=>({pool:t.pool,address:t.address.toLowerCase(),chain:t.chain,coins:t.coins.map(n=>n.toLocaleLowerCase()),coinNames:t.coinNames,balance:t.balance,value:t.value,totalUSD:t.totalUSD}),Vt="https://api-py.llama.airforce/curve/v1";class uv extends ge{async getBreakdown(n){return(await this.fetch(`${Vt}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,n)).revenue.map(lv)}async getByChain(n){return(await this.fetch(`${Vt}/protocol/revenue/chains`,void 0,n)).revenue.map(rv)}async getTopPools(n,e=10){const o=n==="ethereum"?"mainnet":n;return(await this.fetch(`${Vt}/protocol/revenue/${o}/toppools/${e}`)).revenue.map(iv)}async getCushions(){return(await this.fetch(`${Vt}/protocol/couch/cushions`)).cushions.map(cv)}}const Jt=new uv(he());function en(){return{initialData:[],initialDataUpdatedAt:0}}function dv(){return Z({queryKey:["curve-cushions"],queryFn:()=>Jt.getCushions().then(t=>t.sort((n,e)=>e.totalUSD-n.totalUSD)),...en()})}function pv(t){return Z({queryKey:["curve-revenue-top-pools",t],queryFn:({queryKey:[,n]})=>Jt.getTopPools(n),...en()})}function mv(){return Z({queryKey:["curve-revenue-chain"],queryFn:()=>Jt.getByChain().then(t=>t.sort((n,e)=>e.totalDailyFeesUSD-n.totalDailyFeesUSD)),...en()})}function _v(){return Z({queryKey:["curve-revenue-breakdown"],queryFn:()=>Jt.getBreakdown(),...en()})}const vv={class:"actions"},js=A({__name:"ChartRevenueBreakdown",setup(t){const{t:n}=F(),{theme:e}=U(N()),{items:o}=Re(()=>[{id:"dao",label:"DAO",color:e.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:e.value.colorsArray[1]}]),{isFetching:s,data:l}=_v(),c=w(()=>{const{colors:_,colorsArray:v}={colors:e.value.colors,colorsArray:[e.value.colorsArray[0],m(e.value.colorsArray[0],10),m(e.value.colorsArray[0],20),e.value.colorsArray[1],m(e.value.colorsArray[1],10)]};return re({colors:_,colorsArray:v},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:r.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:f},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),i=w(()=>D.chain(l.value).groupBy(_=>_.week).map(_=>({week:_[0].week,numLabels:_.length})).orderBy(_=>_.week,"asc").dropWhile(_=>_.numLabels<3).map(_=>_.week).value()),r=w(()=>D.chain(i.value).map(_=>new Date(_*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),d=w(()=>D.chain(l.value).groupBy(_=>_.label).map((_,v)=>({name:v,data:D.chain(i.value).map(g=>({week:g,breakdown:_.find(y=>y.week===g)})).map(g=>{var y;return{x:new Date(g.week*1e3).toLocaleDateString(),y:((y=g.breakdown)==null?void 0:y.total_fees)??0}}).value()})).orderBy(_=>_.name).value()),u=_=>_,f=_=>`$${j(_,0,"dollar")}${Q(_,"dollar")}`,m=(_,v)=>{let[g,y,C]=[_.slice(1,3),_.slice(3,5),_.slice(5,7)].map($=>parseInt($,16));const k=($,T)=>Math.min(255,Math.max(0,T+Math.round(2.55*$)));return g=k(v,g),y=k(v,y),C=k(v,C),`#${g.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}${C.toString(16).padStart(2,"0")}`};return(_,v)=>{const g=Ve,y=kt,C=me;return b(),I(C,{class:"chart",options:a(c),series:a(d),loading:a(s),title:a(n)("title")},{actions:S(()=>[p("div",vv,[h(g,{items:a(o)},null,8,["items"]),h(y,{placement:"left"},{default:S(()=>[p("div",null,L(a(n)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function zo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Revenue breakdown by source"])},"legend-explanation":e=>{const{normalize:o}=e;return o(["DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"])}}})}typeof zo=="function"&&zo(js);const hv=P(js,[["__scopeId","data-v-7b3baf6d"]]),Gs=A({__name:"ChartRevenueChain",setup(t){const{t:n}=F(),{theme:e}=U(N()),{isFetching:o,data:s}=mv(),l=w(()=>re(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex][0];return[`<div><b>${d}</b>:</div><div>${i(u)}</div>`].join("")}},labels:s.value.map(r=>r.chain)})),c=w(()=>s.value.map(r=>r.totalDailyFeesUSD)),i=r=>`$${j(Math.abs(r),1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return b(),I(u,{class:"chart",options:a(l),series:a(c),loading:a(o),title:a(n)("title")},null,8,["options","series","loading","title"])}}});function Lo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Total revenue by chain"])}}})}typeof Lo=="function"&&Lo(Gs);const fv=P(Gs,[["__scopeId","data-v-bc57f45a"]]),Xs=A({__name:"ChartRevenueTopPools",setup(t){const{t:n}=F(),{theme:e}=U(N()),o=V("ethereum"),{isFetching:s,data:l}=pv(o),c=w(()=>re(e.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(u=>u.name),labels:{formatter:r}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:r,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));le(()=>{d("ethereum")});const i=w(()=>[{data:l.value.map(u=>u.totalDailyFeesUSD)}]),r=u=>`$${j(Math.abs(u),1,"dollar")}${Q(u,"dollar")}`,d=u=>{u!=="all"&&(o.value=u)};return(u,f)=>{const m=me;return b(),I(m,{class:"graph",options:a(c),series:a(i),loading:a(s),title:a(n)("title")},{default:S(()=>[p("div",{class:B(["selector",{loading:a(s)}])},[h(zt,{chain:a(o),onSelectChain:d},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function To(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Top 10 pools by revenue (last 7 days)"])}}})}typeof To=="function"&&To(Xs);const gv=P(Xs,[["__scopeId","data-v-ad36b663"]]),bv={class:"revenue-charts"},yv=A({__name:"Dashboard",setup(t){return(n,e)=>(b(),z("div",bv,[h(fv,{class:"chain-revenues"}),h(gv,{class:"chain-top-pools"}),h(hv,{class:"breakdown"})]))}}),wv=P(yv,[["__scopeId","data-v-d71af22f"]]),Bn=t=>(de("data-v-9c1d9e86"),t=t(),pe(),t),$v={class:"title"},Cv={class:"chain"},kv=["src"],Sv={class:"label"},zv={class:"number"},Lv=Bn(()=>p("div",null,null,-1)),Tv=Bn(()=>p("div",null,null,-1)),Av=Bn(()=>p("div",null,null,-1)),Pv={class:"number"},Ys=A({__name:"TableCushions",setup(t){const{t:n}=F(),e=V(""),o=V("all"),s=w(()=>D.chain(c.value).filter(i=>i.totalUSD>100).filter(i=>{const r=e.value.toLocaleLowerCase().split(" "),d=f=>r.some(m=>f.toLocaleLowerCase().includes(m)),u=o.value==="all"?!0:o.value===i.chain;return(d(i.pool)||d(i.address)||d(i.chain)||d(i.coins.join(" ")))&&u}).value()),{isFetching:l,data:c}=dv();return(i,r)=>{const d=Te,u=ne,f=fe;return b(),I(f,{class:"datatable-cushions","columns-header":"1fr 14rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:a(l),rows:a(s),columns:["Name","Coins","Chain","Fees ($)"]},{"header-content":S(()=>[p("div",$v,L(a(n)("title")),1),h(zt,{class:"chain-select",chain:a(o),all:!0,onSelectChain:r[0]||(r[0]=m=>o.value=m)},null,8,["chain"]),h(d,{modelValue:a(e),"onUpdate:modelValue":r[1]||(r[1]=m=>ue(e)?e.value=m:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S(m=>[p("div",null,L(m.item.pool),1),p("div",null,L(m.item.coinNames.join(" / ")),1),p("div",Cv,[a(Ot)(m.item.chain)?(b(),z("img",{key:0,src:a(Ot)(m.item.chain)},null,8,kv)):x("",!0),p("span",Sv,L(m.item.chain),1)]),p("div",zv,[h(u,{value:m.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[Lv,Tv,Av,p("div",Pv,[h(u,{value:a(s).reduce((m,_)=>m+_.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function Ao(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Cushions"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof Ao=="function"&&Ao(Ys);const Iv=P(Ys,[["__scopeId","data-v-9c1d9e86"]]),Vv={class:"cushions"},Rv=A({__name:"Cushions",setup(t){return(n,e)=>(b(),z("div",Vv,[h(Iv)]))}}),qv=P(Rv,[["__scopeId","data-v-8d09f656"]]),Dv={class:"revenue"},Fv=A({__name:"Revenue.page",setup(t){const{tabActive:n,tabActiveIndex:e}=Zt(["overview","cushions"],"revenue");return(o,s)=>{const l=Xe,c=Ge;return b(),z("div",Dv,[h(c,{active:a(e),onTab:s[0]||(s[0]=i=>e.value=i.index)},{default:S(()=>[h(l,{header:"Revenue"},{default:S(()=>[(b(),I(ze,null,[a(n)==="overview"?(b(),I(wv,{key:0})):x("",!0)],1024))]),_:1}),h(l,{header:"Cushions"},{default:S(()=>[(b(),I(ze,null,[a(n)==="cushions"?(b(),I(qv,{key:0})):x("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Mv=P(Fv,[["__scopeId","data-v-09b9805f"]]),xv=t=>(de("data-v-78427198"),t=t(),pe(),t),Bv={class:"title"},Ov={class:"number"},Uv={class:"number"},Ev={class:"number"},Wv={class:"number"},Nv=xv(()=>p("div",null,null,-1)),Hv={class:"number"},Kv={class:"number"},Qv={class:"number"},jv={class:"number"},Zs=A({__name:"TablePegkeepers",setup(t){const{t:n}=F(),e=V(""),o=w(()=>f.value||c.value),s=w(()=>D.chain(i.value).map(v=>{const g=m.value.find(y=>v.pool_address===y.address);if(g)return{...g,...v}}).filter(pc).orderBy(v=>v.tvlUsd,"desc").value()),l=w(()=>D.chain(s.value).filter(v=>{const g=e.value.toLocaleLowerCase().split(" "),y=C=>g.some(k=>C.toLocaleLowerCase().includes(k));return y(v.name)||y(v.address)}).value()),{isFetching:c,data:i}=qs(),r=v=>`${v.pair[1].symbol} / ${v.pair[0].symbol}`,d=w(()=>i.value.map(v=>v.pool_address)),u=t_(V("ethereum"),d),f=w(()=>u.value.some(v=>v.isFetching)),m=w(()=>u.value.filter(v=>v.data).map(v=>v.data)),_=v=>v>=1e6?2:0;return(v,g)=>{const y=Te,C=ne,k=fe;return b(),I(k,{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:a(o),rows:a(l),columns:["Name","Debt","TVL","Volume","Fees"]},{"header-content":S(()=>[p("div",Bv,L(a(n)("title")),1),h(y,{modelValue:a(e),"onUpdate:modelValue":g[0]||(g[0]=$=>ue(e)?e.value=$:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S($=>[p("div",null,L(r($.item)),1),p("div",Ov,[h(C,{value:$.item.total_debt,precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Uv,[h(C,{value:$.item.tvlUsd,precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Ev,[h(C,{value:$.item.tradingVolume24h,precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Wv,[h(C,{value:$.item.total_profit,precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[Nv,p("div",Hv,[h(C,{value:a(l).reduce(($,T)=>$+T.total_debt,0),precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Kv,[h(C,{value:a(l).reduce(($,T)=>$+T.tvlUsd,0),precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Qv,[h(C,{value:a(l).reduce(($,T)=>$+T.tradingVolume24h,0),precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",jv,[h(C,{value:a(l).reduce(($,T)=>$+T.total_profit,0),precision:_,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function Po(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Pegkeepers"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof Po=="function"&&Po(Zs);const Gv=P(Zs,[["__scopeId","data-v-78427198"]]),On=t=>(de("data-v-8219e181"),t=t(),pe(),t),Xv={class:"title"},Yv={class:"number"},Zv={class:"number"},Jv={class:"number"},eh={class:"number"},th={class:"number"},nh={class:"number"},oh=On(()=>p("div",null,null,-1)),ah=On(()=>p("div",null,null,-1)),sh={class:"number"},lh=On(()=>p("div",null,null,-1)),rh={class:"number"},ih={class:"number"},ch={class:"number"},uh={class:"number"},Js=A({__name:"TableMarkets",setup(t){const{t:n}=F(),e=V(""),o=w(()=>D.chain(l.value).filter(i=>{const r=e.value.toLocaleLowerCase().split(" "),d=u=>r.some(f=>u.toLocaleLowerCase().includes(f));return d(i.name)||d(i.address)}).orderBy(i=>i.borrowed,"desc").value()),{isFetching:s,data:l}=Vn(),c=i=>i>=1e6?2:0;return(i,r)=>{const d=Te,u=ne,f=fe;return b(),I(f,{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data","expand-side":"left",loading:a(s),rows:a(o),columns:["","Name","Loans","Rate","Borrowed","Collateral","Fees Pending","Fees Collected"]},{"header-content":S(()=>[p("div",Xv,L(a(n)("title")),1),h(d,{modelValue:a(e),"onUpdate:modelValue":r[0]||(r[0]=m=>ue(e)?e.value=m:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S(m=>[p("div",null,L(m.item.name),1),p("div",Yv,L(m.item.loans),1),p("div",Zv,[h(u,{value:m.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),p("div",Jv,[h(u,{value:m.item.borrowed,precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",eh,[h(u,{value:m.item.collateralUsd,precision:c,type:"dollar"},null,8,["value"])]),p("div",th,[h(u,{value:m.item.fees.pending,precision:c,type:"dollar"},null,8,["value"])]),p("div",nh,[h(u,{value:m.item.fees.collected,precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[oh,ah,p("div",sh,L(a(o).reduce((m,_)=>m+_.loans,0)),1),lh,p("div",rh,[h(u,{value:a(o).reduce((m,_)=>m+_.borrowed,0),precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",ih,[h(u,{value:a(o).reduce((m,_)=>m+_.collateralUsd,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",ch,[h(u,{value:a(o).reduce((m,_)=>m+_.fees.pending,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",uh,[h(u,{value:a(o).reduce((m,_)=>m+_.fees.collected,0),precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":S(()=>[K("   ")]),_:1},8,["loading","rows"])}}});function Io(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Markets"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof Io=="function"&&Io(Js);const dh=P(Js,[["__scopeId","data-v-8219e181"]]),ph=A({__name:"ChartCrvUsdPriceHistogram",setup(t){const{theme:n}=U(N()),{isFetching:e,data:o}=Sp(),s=w(()=>re(n.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:d=>{const u=l.value[d.dataPointIndex],f=d.series[0][d.dataPointIndex];return[`<div><b>${u}</b>:</div><div>${r(f)}</div>`].join("")}}})),l=w(()=>o.value.x.map(d=>d.toString())),c=w(()=>[{data:o.value.y}]),i=d=>{const u=d-1;return u<0?`-$${u.toString().substring(2,7)}`:`$${u.toString().substring(1,6)}`},r=d=>{var m,_;const u=((_=(m=c.value[0])==null?void 0:m.data)==null?void 0:_.reduce((v,g)=>v+g,0))??1,f=d/u*100;return`${j(f,0,"dollar")}${Q(f,"percentage")}`};return(d,u)=>{const f=me;return b(),I(f,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:a(e),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),mh=P(ph,[["__scopeId","data-v-6059264b"]]),_h={class:"actions"},vh={class:"chart-types"},el=A({__name:"ChartCrvUsdSupply",setup(t){const{t:n}=F(),{theme:e}=U(N()),o=V("line"),{items:s}=Re(()=>[{id:"supply",label:"Supply",color:e.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:e.value.colorsArray[1]}]),{isFetching:l,data:c}=kp(),i=r=>{o.value!==r&&(o.value=r)};return(r,d)=>{const u=Ve,f=Ye,m=Y;return b(),I(m,{class:"chart-container",title:a(n)("title"),loading:a(l)},{actions:S(()=>[p("div",_h,[a(o)==="line"?(b(),I(u,{key:0,items:a(s)},null,8,["items"])):x("",!0),p("div",vh,[h(f,{value:"Line","model-value":a(o)==="line",onClick:d[0]||(d[0]=_=>i("line"))},null,8,["model-value"]),h(f,{value:"Breakdown","model-value":a(o)==="breakdown",onClick:d[1]||(d[1]=_=>i("breakdown"))},null,8,["model-value"])])])]),default:S(()=>[(b(),I(ze,null,[a(o)==="line"?(b(),I(a(bh),{key:0,data:a(c)},null,8,["data"])):x("",!0)],1024)),(b(),I(ze,null,[a(o)==="breakdown"?(b(),I(a(gh),{key:0,data:a(c)},null,8,["data"])):x("",!0)],1024))]),_:1},8,["title","loading"])}}});function Vo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["crvUSD Supply"])}}})}typeof Vo=="function"&&Vo(el);const hh=P(el,[["__scopeId","data-v-2553793b"]]),fh=A({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:n}=U(N()),e=w(()=>re(n.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(t.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),s=w(()=>D.chain(t.data).groupBy(r=>r.market).map((r,d)=>({name:d,data:D.chain(r).groupBy(u=>u.timestamp).map((u,f)=>({x:new Date(parseInt(f,10)*1e3).toLocaleDateString(),y:u.reduce((m,_)=>m+_.supply,0)})).orderBy(u=>u.x,"asc").value()})).value()),l=w(()=>Math.max(...D.chain(t.data).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.supply,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=jt;return b(),I(u,{class:"chart",options:a(e),series:a(s)},null,8,["options","series"])}}}),gh=P(fh,[["__scopeId","data-v-1651e212"]]),bh=A({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(t){let n,e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,f=>{n=f.addAreaSeries(i()),e=f.addLineSeries(r())});M([()=>t.data,s],d),M(o,()=>{n.applyOptions(i()),e.applyOptions(r())});function c(f){return se(f,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ce.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function d([f,m]){if(!m||!n)return;const _=D.chain(f).groupBy(g=>g.timestamp).mapValues(g=>{var y;return{time:g[0].timestamp,value:g.reduce((C,k)=>C+k.supply,0),debt:((y=g.find(C=>C.market==="Keepers debt"))==null?void 0:y.supply)??0}}).entries().map(g=>g[1]).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value(),v=_.map(g=>({time:g.time,value:g.value-g.debt}));_.length>0&&n.setData(_),v.length>0&&e.setData(v),m.timeScale().fitContent()}const u=f=>`${j(f,0,"dollar")}${Q(f,"dollar")}`;return(f,m)=>(b(),z("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});class lt{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}connect(n){this.ws||(this.ws=new WebSocket(n),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(n),1e3)},this.ws.onmessage=e=>{try{const s=JSON.parse(e.data).channel.slice(0,-6);if(this.listeners[s])for(const l of this.listeners[s])l(e.data);else this.messageQueue.push(e.data)}catch(o){console.error("WSManager error parsing message: ",o)}})}registerListener(n,e){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(e);const o=this.messageQueue.filter(s=>JSON.parse(s).channel===n);for(const s of o)e(s);this.messageQueue=this.messageQueue.filter(s=>!o.includes(s))}send(n){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(n):this.messageQueue.push(n)}processMessageQueue(){for(;this.messageQueue.length>0;){const n=this.messageQueue.shift();n&&this.send(n)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var _n=(t=>(t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.snapshots="snapshots",t))(_n||{}),vn=(t=>(t.update="update",t.snapshot="snapshot",t))(vn||{});class Ro{constructor(n,e,o,s,l,c){this.url=n,this.llamma=e,this.chain=o,this.interval=s,this.start=l,this.end=c,this.currentOHLCData=[],this.wsManager=lt.getInstance(),this.wsManager.connect(n),this.dataSubject=new Vi,this.data$=this.dataSubject.pipe(Ri((i,r)=>this.reconcileData(i,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",i=>{try{const r=JSON.parse(i);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",i)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const n={action:_n.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(n)}subscribeToUpdates(){const n={action:_n.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(n)}reconcileData(n,e){return e.type===vn.snapshot?e.payload:e.type===vn.update?(e.payload.forEach(o=>{const s=n.findIndex(l=>l.time===o.time);s!==-1?n[s]=o:n.push(o)}),[...n]):n}send(n){this.wsManager.send(JSON.stringify(n))}}const yh={class:"buttons"},qo="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",Do="ethereum",Fo=86400,wh=A({__name:"ChartLlammaCandles",props:{market:{}},setup(t){const{t:n}=F();let e,o,s,l=1,c=0;const{theme:i}=U(N()),r=V([]);let d;const u=V(null),f=V(!1),m=w(()=>t.market?`Daily candles ${f.value?`crvUSD/${t.market.name}`:`${t.market.name}/crvUSD`}`:n("title"));le(async()=>{if(!u.value||!t.market)return;await ps();const g=gt(t.market.llamma),y=Date.now(),C=15*24*60*60*1e3,k=Math.floor(y/1e3),$=Math.floor((y-C)/1e3);e=new Ro(qo,g,Do,Fo,$,k);const{colors:T}=i.value;d=e.data$.subscribe(q=>{r.value=q,_(q,f.value)}),o=ct(u.value,{width:u.value.clientWidth,height:u.value.clientHeight,layout:{background:{type:us.Solid,color:T.backgroundColor},textColor:T.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:T.level2,style:ds.Dashed}},crosshair:{mode:qi.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:q=>v(q)}}),s=o.addCandlestickSeries({upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),bn(()=>{d.unsubscribe()}),M(r,g=>{_(g,f.value)}),M(f,g=>{_(r.value,g)}),M(()=>t.market,(g,y)=>{if(g&&g!==y){d.unsubscribe();const C=gt(g.llamma),k=Date.now(),$=15*24*60*60*1e3,T=Math.floor(k/1e3),q=Math.floor((k-$)/1e3);e=new Ro(qo,C,Do,Fo,q,T),d=e.data$.subscribe(O=>{r.value=O,_(O,f.value)})}});const _=(g,y)=>{if(!o||!s||!g)return;const C=y?-1:1,k=D.chain(g).map($=>({time:$.time,open:Math.pow($.open,C),high:Math.pow($.high,C),low:Math.pow($.low,C),close:Math.pow($.close,C)})).uniqWith(($,T)=>$.time===T.time).orderBy($=>$.time,"asc").value();k.length>0&&(s.setData(k),o.timeScale().fitContent(),c=Math.min(...k.map($=>$.low)),l=Math.max(...k.map($=>$.high)))},v=g=>{const y=l-c,C=y>1?y-Math.floor(y):y,k=-Math.floor(Math.log10(C)+1)+2;return`${j(g,k,"dollar")}${Q(g,"dollar")}`};return(g,y)=>{const C=Ye,k=Y;return b(),I(k,{class:"candles",title:a(m)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512),p("div",yh,[h(C,{modelValue:a(f),"onUpdate:modelValue":y[0]||(y[0]=$=>ue(f)?f.value=$:null)},{default:S(()=>[K(L(a(n)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"])}}});function Mo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Price"])},invert:e=>{const{normalize:o}=e;return o(["Invert"])}}})}typeof Mo=="function"&&Mo(wh);const tl=A({__name:"ChartMarketAvailableCap",props:{market:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,r,m=>e=m.addAreaSeries(d())),{isFetching:c,data:i}=Qt(W(()=>t.market));M([i,s],u),M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:f},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,_]){if(!_||!e)return;const v=D.chain(m).map(g=>({time:g.timestamp,value:g.borrowable})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").dropWhile(g=>g.value===0).value();v.length>0&&e.setData(v),_.timeScale().fitContent()}const f=m=>`$${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,_)=>{const v=Y;return b(),I(v,{class:"chart-container",title:a(n)("title"),loading:a(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function xo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Borrowable & Debt Ceiling"])}}})}typeof xo=="function"&&xo(tl);const $h=P(tl,[["__scopeId","data-v-4b7ca1bd"]]),nl=A({__name:"ChartMarketLoans",props:{market:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,r,m=>{e=m.addHistogramSeries(d())}),{isFetching:c,data:i}=Qt(W(()=>t.market));M([i,s],u),M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:f}})}function d(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,_]){if(!_||!e)return;const v=D.chain(m).map(g=>({time:g.timestamp,value:g.nLoans})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();if(v.length>0){e.setData(v);const g=v[0].time,y=v[v.length-1].time;_.timeScale().setVisibleRange({from:g,to:y})}}const f=m=>Math.round(m).toString();return(m,_)=>{const v=Y;return b(),I(v,{class:"chart-container",title:a(n)("title"),loading:a(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Bo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Loans"])}}})}typeof Bo=="function"&&Bo(nl);const Ch=P(nl,[["__scopeId","data-v-e5ca971e"]]),kh=["min","max","value"],Sh=A({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(t,{emit:n}){const e=n,o=s=>{e("update:modelValue",s.target.value)};return(s,l)=>(b(),z("input",{type:"number",min:s.min,max:s.max,value:s.modelValue,onInput:o},null,40,kh))}}),ol=P(Sh,[["__scopeId","data-v-65b94541"]]),zh={class:"actions"},al=A({__name:"ChartMarketRates",props:{market:{}},setup(t){const{t:n}=F();let e,o;const{theme:s}=U(N()),{chart:l,chartRef:c}=_e(s,u,y=>{e=y.addAreaSeries(f()),o=y.addLineSeries(m())}),i=V(null),{isFetching:r,data:d}=Qt(W(()=>t.market));M([d,l],_),M(i,()=>_([d.value,l.value])),M(s,()=>{e.applyOptions(f()),o.applyOptions(m())});function u(y){return se(y,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function f(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,lineType:ce.WithSteps,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function _([y,C]){if(!C||!e)return;const k=D.chain(y).map(q=>({time:q.timestamp,value:q.rate})).uniqWith((q,O)=>q.time===O.time).orderBy(q=>q.time,"asc").value(),$=g(k.map(q=>q.value),i.value??31),T=D.chain($).zip(k).map(q=>({time:q[1].time,value:q[0]})).value();if(T.length>0&&o.setData(T),k.length>0){e.setData(k);const q=k[0].time,O=k[k.length-1].time;C.timeScale().setVisibleRange({from:q,to:O})}}const v=y=>`${j(y*100,0,"percentage")}${Q(y,"percentage")}`,g=(y,C=7)=>y.map((k,$)=>{const T=Math.max($-(C-1),0),q=$+1,O=y.slice(T,q);return O.reduce((E,te)=>E+te,0)/O.length});return(y,C)=>{const k=ol,$=Y;return b(),I($,{class:"chart-container",title:a(n)("title"),loading:a(r)},{actions:S(()=>[p("div",zh,[h(k,{modelValue:a(i),"onUpdate:modelValue":C[0]||(C[0]=T=>ue(i)?i.value=T:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Oo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Rates"])}}})}typeof Oo=="function"&&Oo(al);const Lh=P(al,[["__scopeId","data-v-1b564dfd"]]),Th=t=>{const n=t.provider.toLocaleLowerCase(),e=t.deposit?{amount:t.deposit.amount,n1:t.deposit.n1,n2:t.deposit.n2}:null,o=t.withdrawal?{amount_borrowed:t.withdrawal.amount_borrowed,amount_collateral:t.withdrawal.amount_collateral}:null,s=t.block_number,l=t.timestamp,c=t.transaction_hash.toLocaleLowerCase();return{provider:n,deposit:e,withdrawal:o,block_number:s,timestamp:l,transaction_hash:c}},Ah=t=>({sold_id:t.sold_id,bought_id:t.bought_id,token_sold:{symbol:t.token_sold.symbol,address:t.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:t.token_bought.symbol,address:t.token_bought.address.toLocaleLowerCase()},amount_sold:t.amount_sold,amount_bought:t.amount_bought,price:t.price,buyer:t.buyer.toLocaleLowerCase(),fee_x:t.fee_x,fee_y:t.fee_y,block_number:t.block_number,timestamp:t.timestamp,transaction_hash:t.transaction_hash}),Ph=t=>({time:t.time,open:t.open,close:t.close,high:t.high,low:t.low,base_price:t.base_price,oracle_price:t.oracle_price,volume:t.volume}),ln="https://prices.curve.fi";class Ih extends ge{async getEvents(n,e,o,s){const l=await this.fetch(`${ln}/v1/${n}/llamma_events/${e}/${o}?page=${s}&per_page=10`);return{events:l.data.map(Th),count:l.count}}async getTrades(n,e,o,s){const l=await this.fetch(`${ln}/v1/${n}/llamma_trades/${e}/${o}?page=${s}&per_page=10`);return{trades:l.data.map(Ah),count:l.count}}async getOHLC(n,e,o){const s=Math.floor(new Date().getTime()/1e3),l=s-10*24*60*60;return(await this.fetch(`${ln}/v1/${n}/llamma_ohlc/${e}/${o}?agg_number=1&agg_units=hour&start=${l}&end=${s}`)).data.map(Ph)}}const Un=new Ih(he());function sl(t,n,e,o){return Z({queryKey:["llamma-market-events",n,o],queryFn:({queryKey:[,s,l]})=>Un.getEvents(t.value,e.value,s,l),placeholderData:Ht,enabled:w(()=>!!n.value&&!!e.value)})}function ll(t,n,e,o){return Z({queryKey:["llamma-market-trades",n,o],queryFn:({queryKey:[,s,l]})=>Un.getTrades(t.value,e.value,s,l),placeholderData:Ht,enabled:w(()=>!!n.value&&!!e.value)})}function En(t,n,e){return Z({queryKey:["llamma-market-ohlc",n],queryFn:({queryKey:[,o]})=>Un.getOHLC(t.value,e.value,o),enabled:w(()=>!!n.value&&!!e.value)})}const rl=A({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,r,m=>{e=m.addAreaSeries(d())}),{isFetching:c,data:i}=En(W("crvusd"),w(()=>{var m;return(m=t.market)==null?void 0:m.llamma}),W(()=>t.chain));M([i,s],u),M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:f},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,_]){if(!_||!e)return;const v=D.chain(m).map(g=>({time:g.time,value:g.volume})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();v.length>0&&e.setData(v),_.timeScale().fitContent()}const f=m=>`$${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,_)=>{const v=Y;return b(),I(v,{class:"chart-container",title:a(n)("title"),loading:a(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Uo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Volume"])}}})}typeof Uo=="function"&&Uo(rl);const Vh=P(rl,[["__scopeId","data-v-91ff7c57"]]),Rh={class:"actions"},il=A({__name:"ChartKeeperPrices",setup(t){const{t:n}=F();let e=[];const{theme:o}=U(N()),s=["USDC","USDT","TUSD","USDP"],{items:l,toggles:c,disabled:i}=Re(()=>s.map((O,R)=>({id:O,label:O,color:o.value.colorsArray[R],togglable:!0}))),r=w(()=>d.value||f.value),{isFetching:d,data:u}=qs(),{isFetching:f,data:m}=zp(u),_=V(!1),v=V(void 0),{chart:g,chartRef:y}=_e(o,C,()=>{$()});M(o,()=>{for(const[O,R]of e.entries())R.applyOptions(k(O))});function C(O){return se(O,o.value,{height:O.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function k(O){return{priceFormat:{type:"custom",formatter:q},lineWidth:2,lineType:ce.WithSteps,color:o.value.colorsArray[O],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:R=>{const E=R();return E!==null&&(E.priceRange.minValue=Math.max(.98,E.priceRange.minValue),E.priceRange.maxValue=Math.min(1.02,E.priceRange.maxValue)),E}}}function $(){if(g.value){for(const O of e)g.value.removeSeries(O);e=[];for(let O=0;O<s.length;O++){const R=g.value.addLineSeries(k(O));e.push(R)}}}Nt(T);function T(){if(!(!g.value||e.length<0)){for(const[O,R]of s.entries()){if(!c[R].value){e[O].setData([]);continue}const E=D.chain(m.value).map(te=>({time:te.timestamp,value:te[R]})).uniqWith((te,H)=>te.time===H.time).orderBy(te=>te.time,"asc").value();E.length>0&&e[O].setData(E)}g.value.timeScale().fitContent()}}const q=O=>`${j(O,3,"dollar")}${Q(O,"dollar")}`;return(O,R)=>{const E=Ve,te=Y;return b(),I(te,{ref_key:"chartCard",ref:v,class:B(["chart-container",{fullscreen:a(_)}]),title:a(n)("title"),loading:a(r)},{actions:S(()=>{var H;return[p("div",Rh,[h(E,{items:a(l),disabled:a(i),onToggle:R[0]||(R[0]=X=>a(c)[X].value=!a(c)[X].value)},null,8,["items","disabled"]),h(a(Xt),{modelValue:a(_),"onUpdate:modelValue":R[1]||(R[1]=X=>ue(_)?_.value=X:null),chart:a(g),target:(H=a(v))==null?void 0:H.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:y,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function Eo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Stablecoin Prices of Pegkeepers"])}}})}typeof Eo=="function"&&Eo(il);const qh=P(il,[["__scopeId","data-v-197c1f11"]]),Dh={class:"crvusd"},Fh={class:"col"},Mh={class:"col"},xh=A({__name:"CrvUsd.page",setup(t){const{show:n,crumbs:e}=U(Ee());le(()=>{n.value=!0,e.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=Oe(),s=async l=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,c)=>(b(),z("div",Dh,[h(a(dh),{style:{"grid-column":"1 / -1"},onSelected:s}),p("div",Fh,[h(a(Gv)),h(a(qh))]),p("div",Mh,[h(a(hh)),h(a(mh))])]))}}),Bh=P(xh,[["__scopeId","data-v-2e2b5a41"]]),Oh={class:"addresses"},Uh={class:"title"},Eh=["href"],Wh={key:1},cl=A({__name:"Addresses",props:{market:{}},setup(t){const{t:n}=F(),e=w(()=>{var l,c,i;return[{description:"controller",address:(l=t.market)==null?void 0:l.address},{description:"factory",address:(c=t.market)==null?void 0:c.factory},{description:"llamma",address:(i=t.market)==null?void 0:i.llamma}]}),o=l=>`https://etherscan.io/address/${l}`,s=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Ie,r=fe;return b(),z("div",Oh,[h(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:a(e)},{"header-content":S(()=>[p("div",Uh,L(a(n)("addresses")),1)]),row:S(({item:{description:d,address:u}})=>[p("div",null,L(a(n)(d)),1),p("div",null,[u?(b(),z("a",{key:0,class:"font-mono",href:o(u),target:"_blank"},L(u),9,Eh)):(b(),z("span",Wh,"?"))]),p("div",null,[h(i,{icon:"fas fa-link",onClick:f=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function Wo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:o}=e;return o(["Description"])},address:e=>{const{normalize:o}=e;return o(["Address"])},addresses:e=>{const{normalize:o}=e;return o(["Addresses"])},controller:e=>{const{normalize:o}=e;return o(["Controller"])},factory:e=>{const{normalize:o}=e;return o(["Factory"])},llamma:e=>{const{normalize:o}=e;return o(["Llamma"])}}})}typeof Wo=="function"&&Wo(cl);const Nh=P(cl,[["__scopeId","data-v-e7d4d5dd"]]),Hh={class:"properties"},Kh={class:"title"},Qh={key:0},jh={class:"token-info"},Gh=["href"],Xh={key:1},ul=A({__name:"Properties",props:{market:{},chain:{}},setup(t){const{t:n}=F();function e(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.stablecoin_token.symbol)??"?",address:((u=r==null?void 0:r.stablecoin_token)==null?void 0:u.address)??""}}const s=w(()=>[{description:"collateral",value:o("collateral",t.market)},{description:"borrowed",value:o("borrowed",t.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=dt,u=Ie,f=fe;return b(),z("div",Hh,[h(f,{class:"datatable-properties","columns-data":"properties-columns-data",rows:a(s)},{"header-content":S(()=>[p("div",Kh,L(a(n)("properties")),1)]),row:S(({item:{description:m,value:_}})=>[p("div",null,L(a(n)(m)),1),e(_)?(b(),z("div",Qh,[p("div",jh,[h(d,{chain:i.chain,address:_.address},null,8,["chain","address"]),p("div",null,L(_.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(_.address),target:"_blank"},L(_.address),9,Gh)]),p("div",null,[h(u,{icon:"fas fa-link",onClick:v=>c(_.address)},null,8,["onClick"])])])])):(b(),z("div",Xh,L(_),1))]),_:1},8,["rows"])])}}});function No(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{properties:e=>{const{normalize:o}=e;return o(["Properties"])},oracleamm:e=>{const{normalize:o}=e;return o(["Oracle / AMM Prices"])},collateral:e=>{const{normalize:o}=e;return o(["Collateral"])},borrowed:e=>{const{normalize:o}=e;return o(["Borrowed"])}}})}typeof No=="function"&&No(ul);const Yh=P(ul,[["__scopeId","data-v-40db79a1"]]),Zh={class:"market"},dl=A({__name:"MarketOverview",props:{market:{},chain:{}},setup(t){const{t:n}=F();return(e,o)=>{const s=ne,l=Ce;return b(),z("div",Zh,[h(l,{style:{"grid-area":"kpi1"},label:a(n)("borrow-rate"),"has-value":!!e.market},{default:S(()=>{var c;return[h(s,{value:100*(((c=e.market)==null?void 0:c.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi2"},label:a(n)("borrowed"),"has-value":!!e.market},{default:S(()=>{var c;return[h(s,{value:(c=e.market)==null?void 0:c.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi3"},label:a(n)("borrowable"),"has-value":!!e.market},{default:S(()=>{var c;return[h(s,{value:(c=e.market)==null?void 0:c.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi4"},label:a(n)("loans"),"has-value":!!e.market},{default:S(()=>{var c;return[K(L(((c=e.market)==null?void 0:c.loans)??0),1)]}),_:1},8,["label","has-value"]),h(a(Lh),{style:{"grid-area":"rates"},market:e.market},null,8,["market"]),h(a($h),{style:{"grid-area":"cap"},market:e.market},null,8,["market"]),h(a(Ch),{style:{"grid-area":"loans"},market:e.market},null,8,["market"]),h(a(Vh),{style:{"grid-area":"volume"},market:e.market,chain:e.chain},null,8,["market","chain"]),h(a(Yh),{style:{"grid-area":"properties"},market:e.market,chain:e.chain},null,8,["market","chain"]),h(a(Nh),{style:{"grid-area":"addresses"},market:e.market,chain:e.chain},null,8,["market","chain"])])}}});function Ho(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"borrow-rate":e=>{const{normalize:o}=e;return o(["Borrow Rate"])},borrowed:e=>{const{normalize:o}=e;return o(["Borrowed"])},borrowable:e=>{const{normalize:o}=e;return o(["Borrowable"])},loans:e=>{const{normalize:o}=e;return o(["Loans"])}}})}typeof Ho=="function"&&Ho(dl);const Jh=P(dl,[["__scopeId","data-v-0122bf85"]]),ef=t=>({timestamp:We(t.timestamp),proportion:t.proportion/100}),tf=t=>({timestamp:We(t.dt),user:t.user.toLocaleLowerCase(),liquidator:t.liquidator.toLocaleLowerCase(),self:t.self,collateralReceived:t.collateral_received,collateralReceivedUsd:t.collateral_received_usd,stablecoinReceived:t.stablecoin_received,priceOracle:t.oracle_price,debt:t.debt,n1:t.n1,n2:t.n2,tx:t.tx.toLocaleLowerCase(),block:t.block}),nf=t=>({timestamp:We(t.timestamp),selfCount:t.self_count,hardCount:t.hard_count,selfValue:t.self_value,hardValue:t.hard_value,price:t.price}),of=t=>({softLiqUsers:t.soft_liquidation_users,liqablePositions:t.liquidatable_positions,liqableDebtUsd:t.liquidatable_pos_debt_usd,liqableCollatUsd:t.liquidatable_collateral_usd,liqableBorrowedUsd:t.liquidatable_borrowed_usd,medianHealth:t.median_health,avgHealth:t.average_health,collatRatio:t.collat_ratio}),af=t=>({timestamp:We(t.timestamp),pctLossAverage:t.avg_pct_loss,pctLossMedian:t.median_pct_loss,absoluteLossAverage:t.avg_abs_loss,absoluteLossMedian:t.median_abs_loss,numTotalUsers:t.total_users,numUsersWithLosses:t.users_with_losses,ratio:t.ratio}),sf=t=>({decile:t.health_decile,collateralUsdValue:t.collateral,debt:t.debt,stablecoin:t.stablecoin}),et="https://prices.curve.fi";class lf extends ge{async getSoftLiqRatios(n,e,o){return(await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/soft_liquidation_ratio`)).data.map(ef)}async getLiqsDetailed(n,e,o){return(await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/history/detailed`)).data.map(tf)}async getLiqsAggregate(n,e,o){return(await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/history/aggregated`)).data.map(nf)}async getLiqOverview(n,e,o){const s=await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/overview?fetch_on_chain=true`);return of(s)}async getLiqLosses(n,e,o){return(await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/losses/history`)).data.map(af)}async getLiqHealthDeciles(n,e,o){return(await this.fetch(`${et}/v1/${n}/liquidations/${e}/${o}/health/distribution`)).data.map(sf)}}const pt=new lf(he());function Lt(){return{initialData:[],initialDataUpdatedAt:0}}function mt(t,n){return{enabled:w(()=>!!t.value&&(n?!!n.value:!0))}}function pl(t,n,e){return Z({queryKey:["liqs-soft-liqs",e],queryFn:({queryKey:[,o]})=>pt.getSoftLiqRatios(t.value,n.value,o),...mt(e,n),...Lt()})}function ml(t,n,e){return Z({queryKey:["liqs-detailed",e],queryFn:({queryKey:[,o]})=>pt.getLiqsDetailed(t.value,n.value,o),...mt(e,n),...Lt()})}function _l(t,n,e){return Z({queryKey:["liqs-aggregate",e],queryFn:({queryKey:[,o]})=>pt.getLiqsAggregate(t.value,n.value,o),...mt(e,n),...Lt()})}function vl(t,n,e){return Z({queryKey:["liqs-overview",e],queryFn:({queryKey:[,o]})=>pt.getLiqOverview(t.value,n.value,o),...mt(e,n)})}function hl(t,n,e){return Z({queryKey:["liqs-losses",e],queryFn:({queryKey:[,o]})=>pt.getLiqLosses(t.value,n.value,o),...mt(e,n),...Lt()})}function fl(t,n,e){return Z({queryKey:["liqs-health-deciles",e],queryFn:({queryKey:[,o]})=>pt.getLiqHealthDeciles(t.value,n.value,o),...mt(e,n),...Lt()})}const rf={class:"actions"},cf={class:"chart-types"},gl=A({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(t){const{t:n}=F(),e=V("count"),o=s=>{e.value!==s&&(e.value=s)};return(s,l)=>{const c=Ye,i=Y;return b(),I(i,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",rf,[p("div",cf,[h(c,{value:"Count","model-value":a(e)==="count",onClick:l[0]||(l[0]=r=>o("count"))},null,8,["model-value"]),h(c,{value:"Value","model-value":a(e)==="value",onClick:l[1]||(l[1]=r=>o("value"))},null,8,["model-value"])])])]),default:S(()=>[a(e)==="count"?(b(),I(a(df),{key:0,liqs:s.liqs},null,8,["liqs"])):(b(),I(a(mf),{key:1,liqs:s.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Ko(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Self & Hard Liquidations"])}}})}typeof Ko=="function"&&Ko(gl);const bl=P(gl,[["__scopeId","data-v-87546e02"]]),uf=A({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(t){const{theme:n}=U(N()),e=w(()=>re(n.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(t.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),s=w(()=>[{name:"Self liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=w(()=>Math.max(...D.chain(t.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfCount+u.hardCount,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=jt;return b(),I(u,{class:"chart",options:a(e),series:a(s)},null,8,["options","series"])}}}),df=P(uf,[["__scopeId","data-v-58d11eea"]]),pf=A({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(t){const{theme:n}=U(N()),e=w(()=>re(n.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(t.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),s=w(()=>[{name:"Self liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=w(()=>Math.max(...D.chain(t.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfValue+u.hardValue,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=jt;return b(),I(u,{class:"chart",options:a(e),series:a(s)},null,8,["options","series"])}}}),mf=P(pf,[["__scopeId","data-v-e512276c"]]),yl=A({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,u=>{e=u.addAreaSeries(i())});M([W(()=>t.losses),s],r),M(o,()=>e.applyOptions(i()));function c(u){return se(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!e)return;const m=D.chain(u).map(_=>({time:_.timestamp,value:_.pctLossMedian})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();m.length>0&&e.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return b(),I(m,{class:"chart-container",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Qo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Median Loss % Among Loans with Losses"])}}})}typeof Qo=="function"&&Qo(yl);const wl=P(yl,[["__scopeId","data-v-33200252"]]),$l=A({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,u=>{e=u.addAreaSeries(i())});M([W(()=>t.losses),s],r),M(o,()=>e.applyOptions(i()));function c(u){return se(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!e)return;const m=D.chain(u).map(_=>({time:_.timestamp,value:_.numTotalUsers>0?100*_.numUsersWithLosses/_.numTotalUsers:0})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();m.length>0&&e.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return b(),I(m,{class:"chart-container",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function jo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Proportion of Loans with Losses"])}}})}typeof jo=="function"&&jo($l);const Cl=P($l,[["__scopeId","data-v-44033f4c"]]),_f=A({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(t){const{theme:n}=U(N()),e=w(()=>re(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const r=i.series[0][i.dataPointIndex],d=i.series[1][i.dataPointIndex],u=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${c(d)}</div>`,`<div><b>Debt</b>: ${c(r)}</div>`,`<div><b>Stablecoin</b>: ${c(u)}</div>`].join("")}}})),o=w(()=>t.deciles.map(i=>i.decile)),s=w(()=>[{name:"Debt",data:Object.values(t.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(t.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(t.deciles).map(i=>i.stablecoin)}]),l=i=>i,c=i=>`$${j(i,0,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"chart",title:"Debt & Assets per Health Deciles",options:a(e),series:a(s)},null,8,["options","series"])}}}),kl=P(_f,[["__scopeId","data-v-772fcd0d"]]),vf={class:"actions"},Sl=A({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(t){const{t:n}=F();let e,o;const{theme:s}=U(N()),{items:l}=Re(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:s.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:s.value.colorsArray[1]}]),{chart:c,chartRef:i}=_e(s,r,v=>{e=v.addAreaSeries(u()),o=v.addAreaSeries(d())});M([W(()=>t.ratios),W(()=>t.pricesOracle),c],f),M(s,()=>{e.applyOptions(u()),o.applyOptions(d())});function r(v){return se(v,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"custom",formatter:_},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function f([v,g,y]){var T;if(!y||!e)return;const C=D.chain(v).map(q=>({time:q.timestamp,value:q.proportion})).uniqWith((q,O)=>q.time===O.time).orderBy(q=>q.time,"asc").value(),k=((T=C[0])==null?void 0:T.time)??0,$=D.chain(g).filter(q=>q.timestamp>=k).map(q=>({time:q.timestamp,value:q.priceOracle})).uniqWith((q,O)=>q.time===O.time).orderBy(q=>q.time,"asc").value();$.length>0&&o.setData($),C.length>0&&e.setData(C),y.timeScale().fitContent()}const m=v=>`$${j(v,2,"dollar")}${Q(v,"dollar")}`,_=v=>`${j(v,0,"percentage")}${Q(v,"percentage")}`;return(v,g)=>{const y=Ve,C=Y;return b(),I(C,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",vf,[h(y,{items:a(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Go(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Soft Liquidations Ratio"])}}})}typeof Go=="function"&&Go(Sl);const zl=P(Sl,[["__scopeId","data-v-3205f08e"]]),hf={class:"actions"},Ll=A({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(t){const{t:n}=F();let e,o;const{theme:s}=U(N()),{items:l}=Re(()=>[{id:"revenue",label:"Liquidator Revenue",color:s.value.colorsArray[0]},{id:"discount",label:"Discount",color:s.value.colorsArray[1]}]),{chart:c,chartRef:i}=_e(s,r,m=>{e=m.addAreaSeries(u()),o=m.addAreaSeries(d())});M([W(()=>t.discounts),W(()=>t.liqs),c],f),M(s,()=>{e.applyOptions(u()),o.applyOptions(d())});function r(m){return se(m,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function f([m,_,v]){var k;if(!v||!e||!o)return;const g=D.chain(_).map($=>({time:$.timestamp,value:$.debt})).uniqWith(($,T)=>$.time===T.time).orderBy($=>$.time,"asc").reduce(($,T)=>{const q=$.length>0?$[$.length-1].value:0;return $.push({time:T.time,value:T.value+q}),$},[]).value(),y=((k=g[0])==null?void 0:k.time)??0,C=D.chain(m).filter($=>$.timestamp>=y).map($=>({time:$.timestamp,value:$.discount*100})).uniqWith(($,T)=>$.time===T.time).orderBy($=>$.time,"asc").value();g.length>0&&o.setData(g),C.length>0&&e.setData(C),v.timeScale().fitContent()}return(m,_)=>{const v=Ve,g=Y;return b(),I(g,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",hf,[h(v,{items:a(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Xo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Liquidator Revenue"])}}})}typeof Xo=="function"&&Xo(Ll);const Tl=P(Ll,[["__scopeId","data-v-280872cd"]]),ff={class:"title"},gf={key:0,class:"number"},bf={key:1,class:"number"},yf={key:2},Al=A({__name:"TableLiqOverview",props:{overview:{}},setup(t){const{t:n}=F(),e=w(()=>{if(!t.overview)return[];const s=t.overview.liqableDebtUsd,l=t.overview.liqableCollatUsd+t.overview.liqableBorrowedUsd,c=s-l;return c<=0?[]:[{description:"Bad debt",value:c,type:"bad-debt"}]}),o=w(()=>{var s,l,c,i,r,d,u;return[{description:"Users in soft liquidation",value:((s=t.overview)==null?void 0:s.softLiqUsers)??0,type:"number"},{description:"Median health",value:((l=t.overview)==null?void 0:l.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((c=t.overview)==null?void 0:c.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((i=t.overview)==null?void 0:i.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=t.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((d=t.overview)==null?void 0:d.liqableCollatUsd)??0,((u=t.overview)==null?void 0:u.liqableBorrowedUsd)??0],type:"collateral"},...e.value]});return(s,l)=>{const c=ne,i=fe;return b(),I(i,{class:"datatable-liq-overview","columns-data":"liq-overview-columns-data",rows:a(o)},{"header-content":S(()=>[p("div",ff,L(a(n)("title")),1)]),row:S(({item:{description:r,value:d,type:u}})=>[p("div",null,L(r),1),u==="collateral"?(b(),z("div",gf,[h(c,{value:d[0],"show-zero":!0,type:"dollar"},null,8,["value"]),K(" / "),h(c,{value:d[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(b(),z("div",bf,[u==="bad-debt"?(b(),I(c,{key:0,class:"red",value:d,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):u!=="number"?(b(),I(c,{key:1,value:d,"show-zero":!0,type:u},null,8,["value","type"])):(b(),z("span",yf,L(d),1))]))]),_:1},8,["rows"])}}});function Yo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["General Health Metrics"])}}})}typeof Yo=="function"&&Yo(Al);const Pl=P(Al,[["__scopeId","data-v-12a9b611"]]),wf={class:"title"},$f={class:"address"},Cf=["href"],kf={class:"number"},Sf={class:"number"},Il=A({__name:"TableTopLiquidators",props:{liqs:{}},setup(t){const{t:n}=F(),e=w(()=>D.chain(t.liqs).groupBy(o=>o.liquidator).map((o,s)=>({liquidator:s,count:o.length,value:o.reduce((l,c)=>l+c.collateralReceivedUsd,0)})).orderBy(o=>o.value,"desc").take(5).value());return(o,s)=>{const l=ne,c=fe;return b(),I(c,{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",rows:a(e),columns:["Address","Count","Value"]},{"header-content":S(()=>[p("div",wf,L(a(n)("title")),1)]),row:S(i=>[p("div",$f,[p("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},L(a(Pe)(i.item.liquidator,8)),9,Cf)]),p("div",kf,[h(l,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),p("div",Sf,[h(l,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}});function Zo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Top Liquidators"])}}})}typeof Zo=="function"&&Zo(Il);const Vl=P(Il,[["__scopeId","data-v-05b42bd5"]]),Rl=A({__name:"ChartCollateralRatio",props:{ratios:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,u=>{e=u.addAreaSeries(i())});M([W(()=>t.ratios),s],r),M(o,()=>e.applyOptions(i()));function c(u){return se(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!e)return;const m=D.chain(u).map(_=>({time:_.timestamp,value:_.ratio*100})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();m.length>0&&e.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return b(),I(m,{class:"chart-container",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Jo(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Collateral Ratio"])}}})}typeof Jo=="function"&&Jo(Rl);const ql=P(Rl,[["__scopeId","data-v-63ffcdf6"]]),zf={class:"actions"},Lf=["innerHTML"],Dl=A({__name:"ChartEquity",props:{equity:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,c,u=>{e=u.addBaselineSeries(i())});M([W(()=>t.equity),s],r),M(o,()=>e.applyOptions(i()));function c(u){return se(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){const{colors:u}=o.value;return{priceFormat:{type:"custom",formatter:f=>d(f),minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:u.green,bottomLineColor:u.red,lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!e)return;const m=D.chain(u).map(_=>({time:_.timestamp,value:_.equity})).uniqWith((_,v)=>_.time===v.time).orderBy(_=>_.time,"asc").value();m.length>0&&e.setData(m),f.timeScale().fitContent()}const d=u=>`$${j(u,0,"dollar")}${Q(u,"dollar")}`;return(u,f)=>{const m=kt,_=Y;return b(),I(_,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",zf,[h(m,null,{default:S(()=>[p("span",{innerHTML:a(n)("tooltip")},null,8,Lf)]),_:1})])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function ea(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Equity"])},tooltip:e=>{const{normalize:o}=e;return o(["This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."])}}})}typeof ea=="function"&&ea(Dl);const Tf=P(Dl,[["__scopeId","data-v-bbeee37f"]]),Af=A({__name:"ChartLoanDistribution",props:{distribution:{}},setup(t){const{t:n}=F(),{theme:e}=U(N()),o=w(()=>re(e.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:r=>{const d=r.series[0][r.dataPointIndex],u=r.series[1][r.dataPointIndex],f=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(u)}</div>`,`<div><b>Debt</b>: ${i(d)}</div>`,`<div><b>Stablecoin</b>: ${i(f)}</div>`].join("")}}})),s=w(()=>t.distribution.debt.map(r=>r.label)),l=w(()=>[{name:"Debt",data:t.distribution.debt.map(r=>r.value)}]),c=r=>r,i=r=>`$${j(r,0,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return b(),I(u,{class:"chart",title:a(n)("title"),options:a(o),series:a(l)},null,8,["title","options","series"])}}});function ta(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Loan Distribution"])}}})}typeof ta=="function"&&ta(Af);const Pf={class:"liquidations"},If=A({__name:"Liquidations",props:{market:{},chain:{}},setup(t){const n=w(()=>{var $;return($=t.market)==null?void 0:$.address}),{isFetching:e,data:o}=vl(V("crvusd"),W(()=>t.chain),n),{isFetching:s,data:l}=Qt(W(()=>t.market)),c=w(()=>l.value.map(({timestamp:$,priceOracle:T})=>({timestamp:$,priceOracle:T}))),i=w(()=>l.value.map(({timestamp:$,discountLiquidation:T})=>({timestamp:$,discount:T}))),r=w(()=>l.value.map(({timestamp:$,totalCollateralUsd:T,totalDebt:q})=>({timestamp:$,ratio:T/q}))),{isFetching:d,data:u}=pl(V("crvusd"),W(()=>t.chain),n),{isFetching:f,data:m}=_l(V("crvusd"),W(()=>t.chain),n),{isFetching:_,data:v}=ml(V("crvusd"),W(()=>t.chain),n),{isFetching:g,data:y}=fl(V("crvusd"),W(()=>t.chain),n),{isFetching:C,data:k}=hl(V("crvusd"),W(()=>t.chain),n);return($,T)=>(b(),z("div",Pf,[h(a(Pl),{overview:a(o),loading:a(e)},null,8,["overview","loading"]),h(a(zl),{ratios:a(u),"prices-oracle":a(c),loading:a(d)||a(s)},null,8,["ratios","prices-oracle","loading"]),h(a(wl),{losses:a(k),loading:a(C)},null,8,["losses","loading"]),h(a(Cl),{losses:a(k),loading:a(C)},null,8,["losses","loading"]),h(a(kl),{deciles:a(y),loading:a(g)},null,8,["deciles","loading"]),h(a(ql),{ratios:a(r),loading:a(s)},null,8,["ratios","loading"]),h(a(bl),{liqs:a(m),loading:a(f)},null,8,["liqs","loading"]),h(a(Vl),{liqs:a(v),loading:a(_)},null,8,["liqs","loading"]),h(a(Tl),{discounts:a(i),liqs:a(v),loading:a(s)||a(_)},null,8,["discounts","liqs","loading"])]))}}),Vf=P(If,[["__scopeId","data-v-9817d8d9"]]),Rf={class:"controls"},Fl=A({__name:"ChartOHLC",props:{ohlc:{}},setup(t){const{t:n}=F();let e,o;const{theme:s}=U(N()),l=V(!1),c=V(!1);let i=1,r=0;const{chart:d,chartRef:u}=_e(s,f,y=>{e=y.addCandlestickSeries(m()),o=y.addLineSeries(_())});M([W(()=>t.ohlc),d,l,c],v),M(s,()=>{e==null||e.applyOptions(m()),o==null||o.applyOptions(_())});function f(y){return se(y,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:C=>g(C)}})}function m(){const{colors:y}=s.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:y.green,borderUpColor:y.green,wickUpColor:y.green,downColor:y.red,borderDownColor:y.red,wickDownColor:y.red}}function _(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function v([y,C,k,$]){if(!C||!e)return;const T=k?-1:1,q=D.chain(y).map(R=>({time:R.time,open:Math.pow(R.open,T),high:Math.pow(R.high,T),low:Math.pow(R.low,T),close:Math.pow(R.close,T)})).uniqWith((R,E)=>R.time===E.time).orderBy(R=>R.time,"asc").value();q.length>0&&(e.setData(q),r=Math.min(...q.map(R=>R.low)),i=Math.max(...q.map(R=>R.high)));const O=D.chain(y).map(R=>({time:R.time,value:Math.pow(R.oracle_price,T)})).uniqWith((R,E)=>R.time===E.time).orderBy(R=>R.time,"asc").value();O.length>0&&o.setData(O),o.applyOptions({visible:$}),C.timeScale().fitContent()}const g=y=>{const C=i-r,k=C>1?C-Math.floor(C):C,$=-Math.floor(Math.log10(k)+1)+2;return`${j(y,$,"dollar")}${Q(y,"dollar")}`};return(y,C)=>{const k=Ye,$=Y;return b(),I($,{class:"chart-container",title:a(n)("title")},{actions:S(()=>[p("div",Rf,[h(k,{value:"Oracle Price","model-value":a(c),onClick:C[0]||(C[0]=T=>c.value=!a(c))},null,8,["model-value"]),h(k,{value:"Invert","model-value":a(l),onClick:C[1]||(C[1]=T=>l.value=!a(l))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function na(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Price"])}}})}typeof na=="function"&&na(Fl);const Ml=P(Fl,[["__scopeId","data-v-91dbd830"]]);function qf(t,n){const o=Math.round(t.value/1e3)-n;return o<60?`${Math.round(o)} seconds ago`:o<60*60?`${Math.round(o/60)} minutes ago`:o<60*60*24?`${Math.round(o/(60*60))} hours ago`:`${Math.round(o/(60*60*24))} days ago`}function Tt(){const t=V(Date.now());return le(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:e=>qf(t,e)}}const Df=t=>(de("data-v-7453ec6f"),t=t(),pe(),t),Ff={class:"title"},Mf={class:"number"},xf=Df(()=>p("div",null,null,-1)),Bf=["href"],Of={class:"number"},Uf=["href"],xl=A({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(t,{emit:n}){const{t:e}=F(),o=n,{page:s,onPage:l}=Fn(),c=Bt(s,200);M(c,f=>o("page",f));const{relativeTime:i}=Tt(),r=f=>f<1?f.toFixed(4):f>1e3?f.toFixed(0):f.toFixed(2),d=f=>{var m,_;return r(((m=f.deposit)==null?void 0:m.amount)??((_=f.withdrawal)==null?void 0:_.amount_collateral)??0)},u=f=>f.deposit?e("deposit"):f.withdrawal?e("withdrawal"):e("unknown");return(f,m)=>{const _=je,v=fe;return b(),I(v,{class:"datatable-events","columns-header":"1fr","columns-data":"events-columns-data",rows:f.events,columns:["Type","Amount","","Provider","Time"]},{"header-content":S(()=>[p("div",Ff,L(a(e)("title")),1),h(_,{class:"pagination","items-count":f.count,"items-per-page":10,page:a(s),onPage:a(l)},null,8,["items-count","page","onPage"])]),row:S(({item:g})=>[p("div",null,L(u(g)),1),p("div",Mf,L(d(g)),1),xf,p("div",null,[p("a",{href:`https://etherscan.io/address/${g.provider}`,target:"_blank",onClick:m[0]||(m[0]=Ae(()=>{},["stop"]))},L(a(Pe)(g.provider)),9,Bf)]),p("div",Of,[p("a",{href:`https://etherscan.io/tx/${g.transaction_hash}`,target:"_blank",onClick:m[1]||(m[1]=Ae(()=>{},["stop"]))},L(a(i)(g.timestamp)),9,Uf)])]),_:1},8,["rows"])}}});function oa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Events"])},deposit:e=>{const{normalize:o}=e;return o(["Deposit"])},withdrawal:e=>{const{normalize:o}=e;return o(["Withdrawal"])},unknown:e=>{const{normalize:o}=e;return o(["Unknown"])}}})}typeof oa=="function"&&oa(xl);const Bl=P(xl,[["__scopeId","data-v-7453ec6f"]]),Ef={class:"title"},Wf={class:"number"},Nf=["href"],Hf={class:"number"},Kf=["href"],Qf=["href"],jf={class:"number"},Gf=["href"],Ol=A({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(t,{emit:n}){const{t:e}=F(),o=n,{page:s,onPage:l}=Fn(),c=Bt(s,200);M(c,d=>o("page",d));const{relativeTime:i}=Tt(),r=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2);return(d,u)=>{const f=je,m=dt,_=fe;return b(),I(_,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:d.trades,columns:["Bought","","","Sold","","","Market Maker","Time"]},{"header-content":S(()=>[p("div",Ef,L(a(e)("title")),1),h(f,{class:"pagination","items-count":d.count,"items-per-page":10,page:a(s),onPage:a(l)},null,8,["items-count","page","onPage"])]),row:S(({item:v})=>[p("div",Wf,L(r(v.amount_bought)),1),h(m,{chain:d.chain,address:v.token_bought.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.token_bought.address}`},L(v.token_bought.symbol),9,Nf)]),p("div",Hf,L(r(v.amount_sold)),1),h(m,{chain:d.chain,address:v.token_sold.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.token_sold.address}`},L(v.token_sold.symbol),9,Kf)]),p("div",null,[p("a",{href:`https://etherscan.io/address/${v.buyer}`,target:"_blank",onClick:u[0]||(u[0]=Ae(()=>{},["stop"]))},L(a(Pe)(v.buyer)),9,Qf)]),p("div",jf,[p("a",{href:`https://etherscan.io/tx/${v.transaction_hash}`,target:"_blank",onClick:u[1]||(u[1]=Ae(()=>{},["stop"]))},L(a(i)(v.timestamp)),9,Gf)])]),_:1},8,["rows"])}}});function aa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Trades"])}}})}typeof aa=="function"&&aa(Ol);const Ul=P(Ol,[["__scopeId","data-v-4d3e08c6"]]),Xf={class:"trading"},El=A({__name:"Trading",props:{market:{},chain:{}},setup(t){const n=w(()=>{var u;return(u=t.market)==null?void 0:u.llamma}),{isFetching:e,data:o}=En(V("crvusd"),n,W(()=>t.chain)),s=V(1),{isFetching:l,data:c}=ll(V("crvusd"),n,W(()=>t.chain),s),i=V(1),{isFetching:r,data:d}=sl(V("crvusd"),n,W(()=>t.chain),i);return(u,f)=>{var m,_,v,g;return b(),z("div",Xf,[h(a(Ml),{style:{"grid-area":"ohlc"},ohlc:a(o)??[],loading:a(e)},null,8,["ohlc","loading"]),h(a(Ul),{style:{"grid-area":"trades"},trades:((m=a(c))==null?void 0:m.trades)??[],count:((_=a(c))==null?void 0:_.count)??0,chain:u.chain,loading:a(l),onPage:f[0]||(f[0]=y=>s.value=y)},null,8,["trades","count","chain","loading"]),h(a(Bl),{style:{"grid-area":"events"},events:((v=a(d))==null?void 0:v.events)??[],count:((g=a(d))==null?void 0:g.count)??0,loading:a(r),onPage:f[1]||(f[1]=y=>i.value=y)},null,8,["events","count","loading"])])}}});function sa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{oracle:e=>{const{normalize:o}=e;return o(["Oracle price"])},amm:e=>{const{normalize:o}=e;return o(["AMM price"])}}})}typeof sa=="function"&&sa(El);const Yf=P(El,[["__scopeId","data-v-3c540325"]]),Zf={class:"market-overview"},Jf=A({__name:"Market.page",setup(t){const{show:n,crumbs:e}=U(Ee()),o=$e("marketAddr"),{isFetching:s,data:l}=Vn(),c=w(()=>l.value.find(d=>d.address===o.value));M(c,d=>{e.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),le(()=>{n.value=!0});const{tabActive:i,tabActiveIndex:r}=Zt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(d,u)=>{const f=Ue,m=Xe,_=Ge;return b(),z("div",Zf,[h(f,{class:B(["spinner",{loading:a(s)}])},null,8,["class"]),!a(s)&&a(c)?(b(),I(_,{key:0,active:a(r),onTab:u[0]||(u[0]=v=>r.value=v.index)},{default:S(()=>[h(m,{header:"Overview"},{default:S(()=>[(b(),I(ze,null,[a(i)==="overview"?(b(),I(Jh,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):x("",!0)],1024))]),_:1}),h(m,{header:"Trading"},{default:S(()=>[(b(),I(ze,null,[a(i)==="trading"?(b(),I(Yf,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):x("",!0)],1024))]),_:1}),h(m,{header:"Liquidations"},{default:S(()=>[(b(),I(ze,null,[a(i)==="liquidations"?(b(),I(Vf,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])):x("",!0)])}}}),eg=P(Jf,[["__scopeId","data-v-77146060"]]);function st(t){return t?t.total_assets_usd+t.collateral_balance_usd:0}const tg=t=>({name:t.name,controller:t.controller.toLocaleLowerCase(),vault:t.vault.toLocaleLowerCase(),llamma:t.llamma.toLocaleLowerCase(),policy:t.policy.toLocaleLowerCase(),oracle:t.oracle.toLocaleLowerCase(),rate:parseFloat(t.rate),borrow_apy:parseFloat(t.borrow_apy),lend_apy:parseFloat(t.lend_apy),n_loans:t.n_loans,price_oracle:parseFloat(t.price_oracle),amm_price:parseFloat(t.amm_price),total_debt:parseFloat(t.total_debt),total_assets:parseFloat(t.total_assets),total_debt_usd:parseFloat(t.total_debt_usd),total_assets_usd:parseFloat(t.total_assets_usd),minted:parseFloat(t.minted),redeemed:parseFloat(t.redeemed),minted_usd:parseFloat(t.minted_usd),redeemed_usd:parseFloat(t.redeemed_usd),collateral_balance:parseFloat(t.collateral_balance),borrowed_balance:parseFloat(t.borrowed_balance),collateral_balance_usd:parseFloat(t.collateral_balance_usd),borrowed_balance_usd:parseFloat(t.borrowed_balance_usd),collateral_token:{symbol:t.collateral_token.symbol,address:t.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:t.borrowed_token.symbol,address:t.borrowed_token.address.toLocaleLowerCase()}}),ng=t=>{const n=parseFloat(t.rate),e=parseFloat(t.borrow_apy)/100,o=parseFloat(t.lend_apy)/100,s=t.n_loans,l=parseFloat(t.price_oracle),c=parseFloat(t.amm_price),i=parseFloat(t.total_debt),r=parseFloat(t.total_debt_usd),d=parseFloat(t.total_assets),u=parseFloat(t.total_assets_usd),f=parseFloat(t.minted),m=parseFloat(t.redeemed),_=parseFloat(t.collateral_balance),v=parseFloat(t.collateral_balance_usd),g=parseFloat(t.borrowed_balance),y=parseFloat(t.borrowed_balance_usd),C=We(t.timestamp),k=t.liquidation_discount,$=t.loan_discount;return{rate:n,borrowApy:e,lendApy:o,numLoans:s,priceOracle:l,ammPrice:c,totalDebt:i,totalDebtUsd:r,totalAssets:d,totalAssetsUsd:u,minted:f,redeemed:m,collateralBalance:_,collateralBalanceUsd:v,borrowedBalance:g,borrowedBalanceUsd:y,timestamp:C,discountLiquidation:k,discountLoan:$}},rn="https://prices.curve.fi";class og extends ge{async getChains(){return this.fetch(`${rn}/v1/lending/chains`).then(n=>n.data)}async getMarkets(n){return(await this.fetch(`${rn}/v1/lending/markets/${n}?fetch_on_chain=true&page=1&per_page=100`)).data.map(tg)}async getSnapshots(n,e){return(await this.fetch(`${rn}/v1/lending/markets/${n}/${e}/snapshots?fetch_on_chain=true&agg=day`)).data.map(ng)}}const Wn=new og(he());function ag(t){return w(()=>{var n;return(n=t.value)==null?void 0:n.controller})}function sg(){return{initialData:[],initialDataUpdatedAt:0}}function lg(){return Z({queryKey:["llama-markets-chains"],queryFn:()=>Wn.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Wl(t){return Z({queryKey:["llama-markets",t],queryFn:({queryKey:[,n]})=>Wn.getMarkets(n)})}function _t(t,n){return Z({queryKey:["llama-market-snapshots",ag(t)],queryFn:({queryKey:[,e]})=>Wn.getSnapshots(n.value,e),...sg(),enabled:w(()=>!!t.value&&!!n.value)})}const At=t=>(de("data-v-84fe8393"),t=t(),pe(),t),rg={class:"title"},ig={class:"number"},cg={class:"number"},ug={class:"number"},dg={class:"number"},pg=At(()=>p("div",null,null,-1)),mg=At(()=>p("div",null,null,-1)),_g=At(()=>p("div",null,null,-1)),vg=At(()=>p("div",null,null,-1)),hg=At(()=>p("div",null,null,-1)),fg={class:"number"},gg={class:"number"},Nl=A({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},setup(t){const{t:n}=F(),e=w(()=>n(t.type==="long"?"title-long":"title-short")),o=w(()=>D.chain(t.pairs).map(c=>({count:(c.long?1:0)+(c.short?1:0),...c})).orderBy(["count",({long:c,short:i})=>st(c)+st(i)],["desc","desc"]).map(({long:c,short:i})=>t.type==="long"?c:i).value());function s(c){return c.name.replace(/(-long|-short)/i,"")}const l=c=>t.type==="long"?c.collateral_token.address:c.borrowed_token.address;return(c,i)=>{const r=dt,d=ne,u=fe;return b(),I(u,{class:"datatable-markets","columns-header":"1fr","columns-data":"markets-columns-data","expand-side":"left",loading:c.loading,rows:a(o),columns:["","","Name","Borrow Rate","Lend Rate","TVL","Loans"]},{"header-content":S(()=>[p("div",rg,L(a(e)),1)]),row:S(({item:f})=>[f?(b(),z(ae,{key:0},[h(r,{chain:c.chain,address:l(f)},null,8,["chain","address"]),p("div",null,L(s(f)),1),p("div",ig,[f.borrow_apy?(b(),I(d,{key:0,value:f.borrow_apy,type:"percentage"},null,8,["value"])):x("",!0)]),p("div",cg,[f.lend_apy?(b(),I(d,{key:0,value:f.lend_apy,type:"percentage"},null,8,["value"])):x("",!0)]),p("div",ug,[a(st)(f)?(b(),I(d,{key:0,value:a(st)(f),type:"dollar"},null,8,["value"])):x("",!0)]),p("div",dg,L(f.n_loans),1)],64)):x("",!0)]),"row-aggregation":S(()=>[pg,mg,_g,vg,hg,p("div",fg,[h(d,{value:a(o).filter(f=>f).map(f=>f).reduce((f,m)=>f+a(st)(m),0),type:"dollar"},null,8,["value"])]),p("div",gg,L(a(o).filter(f=>f).map(f=>f).reduce((f,m)=>f+m.n_loans,0)),1)]),"row-details":S(()=>[K("   ")]),_:1},8,["loading","rows"])}}});function la(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"title-long":e=>{const{normalize:o}=e;return o(["Markets - Long"])},"title-short":e=>{const{normalize:o}=e;return o(["Markets - Short"])}}})}typeof la=="function"&&la(Nl);const ra=P(Nl,[["__scopeId","data-v-84fe8393"]]),bg={class:"llamalend"},yg={class:"toolbar"},wg={class:"markets"},$g={class:"kpis"},Cg={class:"markets"},kg={class:"kpis"},Hl=A({__name:"LlamaLend.page",setup(t){const{t:n}=F(),e=$e("chain"),o=w({get(){return e.value?e.value:"ethereum"},set(y){e.value=y}}),s=V(""),l=w(()=>D.chain(c.value).filter(({long:y,short:C})=>{const k=s.value.toLocaleLowerCase().split(" ");return(T=>k.some(q=>T.toLocaleLowerCase().includes(q)))(`${(y==null?void 0:y.name)??""}${(C==null?void 0:C.name)??""}`)}).value()),c=w(()=>{const y=["crvusd"],C=(r.value??[]).map(T=>({market:T,isLong:y.includes(T.borrowed_token.symbol.toLocaleLowerCase()),isShort:y.includes(T.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:T,isShort:q})=>T||q),k=[],$=new Set;for(const{market:T,isLong:q,isShort:O}of C){if($.has(T.controller))continue;$.add(T.controller);const R=C.find(E=>E.market.borrowed_token.address===T.collateral_token.address&&E.market.collateral_token.address===T.borrowed_token.address);R&&$.add(R.market.controller),k.push({long:q?T:R==null?void 0:R.market,short:O?T:R==null?void 0:R.market})}return k}),{isFetching:i,data:r}=Wl(o),{data:d}=lg(),{show:u,crumbs:f}=U(Ee());le(()=>{u.value=!0,f.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:"Select market for details",hint:!0}]});const m=Oe(),_=async y=>{await m.push({name:"llamalendmarket",params:{tab:"",chain:o.value,marketAddr:y.controller}})},v=y=>l.value.map(C=>y==="long"?C.long:C.short).filter(C=>!!C).map(C=>C).reduce((C,k)=>C+k.total_debt_usd,0),g=y=>{const C=l.value.map(k=>y==="long"?k.long:k.short).filter(k=>!!k).map(k=>k).reduce(({debt:k,assets:$},T)=>({debt:k+T.total_debt_usd,assets:$+T.total_assets_usd}),{debt:0,assets:0});return C.assets===0?0:C.debt/C.assets*100};return(y,C)=>{const k=Te,$=ne,T=Ce;return b(),z("div",bg,[(b(),I(Et,{to:"#toolbar"},[p("div",yg,[h(k,{modelValue:a(s),"onUpdate:modelValue":C[0]||(C[0]=q=>ue(s)?s.value=q:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(zt,{class:"chain-select",chain:a(o),chains:a(d),onSelectChain:C[1]||(C[1]=q=>o.value=q==="all"?"ethereum":q)},null,8,["chain","chains"])])])),p("div",wg,[p("div",$g,[h(T,{label:a(n)("open-interest"),"has-value":!a(i)},{default:S(()=>[h($,{value:v("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(T,{"tooltip-type":"icon",label:a(n)("avg-util-rate"),"has-value":!a(i),tooltip:a(n)("avg-util-rate-tooltip")},{default:S(()=>[h($,{value:g("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),h(a(ra),{style:{"grid-column":"1"},type:"long",pairs:a(l),loading:a(i),chain:a(o),onSelected:_},null,8,["pairs","loading","chain"])]),p("div",Cg,[p("div",kg,[h(T,{label:a(n)("open-interest"),"has-value":!a(i)},{default:S(()=>[h($,{value:v("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(T,{"tooltip-type":"icon",label:a(n)("avg-util-rate"),"has-value":!a(i),tooltip:a(n)("avg-util-rate-tooltip")},{default:S(()=>[h($,{value:g("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),h(a(ra),{style:{"grid-column":"2"},type:"short",pairs:a(l),loading:a(i),chain:a(o),onSelected:_},null,8,["pairs","loading","chain"])])])}}});function ia(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])},"open-interest":e=>{const{normalize:o}=e;return o(["Open Interest"])},"avg-util-rate":e=>{const{normalize:o}=e;return o(["Average Utilization Rate"])},"avg-util-rate-tooltip":e=>{const{normalize:o}=e;return o(["Aggregate debt divided by aggregate assets"])}}})}typeof ia=="function"&&ia(Hl);const Sg=P(Hl,[["__scopeId","data-v-5c42a9fe"]]),zg={class:"actions"},Kl=A({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(t){const{t:n}=F();let e,o,s;const{theme:l,themeId:c}=U(N()),{items:i,toggles:r,disabled:d}=Re(()=>{const{blue:R,yellow:E,purple:te}=l.value.colors;return[{id:"supply",label:n("supply"),color:R},{id:"debt",label:n("debt"),color:E},{id:"util",label:n("util"),color:te,togglable:!0}]}),{isFetching:u,data:f}=_t(W(()=>t.market),W(()=>t.chain)),m=V(!1),_=V(void 0),{chart:v,chartRef:g}=_e(w(()=>`${c.value}-${r.util.value}`),y,R=>{e=R.addLineSeries(C()),o=R.addLineSeries(k()),s=R.addLineSeries($())});M(l,()=>{e.applyOptions(C()),o.applyOptions(k()),s.applyOptions($())});function y(R){return se(R,l.value,{height:R.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:r.util.value}})}function C(){return{priceFormat:{type:"custom",formatter:R=>q(R),minMove:.01},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function k(){return{priceFormat:{type:"custom",formatter:R=>q(R),minMove:.01},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function $(){return{priceFormat:{type:"custom",formatter:R=>O(R),minMove:.01},priceScaleId:"left",lineWidth:2,color:l.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}}Nt(T);function T(){var H,X,ee,ie;if(!v.value||!e||!o)return;const R=D.chain(f.value).map(G=>({time:G.timestamp,value:G.totalAssetsUsd})).uniqWith((G,be)=>G.time===be.time).orderBy(G=>G.time,"asc").value(),E=D.chain(f.value).map(G=>({time:G.timestamp,value:G.totalDebtUsd})).uniqWith((G,be)=>G.time===be.time).orderBy(G=>G.time,"asc").value(),te=D.chain(r.util.value?R:[]).zip(E).filter(G=>!!G[1]).map(([G,be])=>({time:be.time,value:G&&G.value>0?be.value/G.value:0})).uniqWith((G,be)=>G.time===be.time).orderBy(G=>G.time,"asc").value();if(e.setData(R),o.setData(E),s.setData(te),s.applyOptions({visible:r.util.value}),R.length>0||E.length>0){const G=Math.min(((H=R[0])==null?void 0:H.time)??1/0,((X=E[0])==null?void 0:X.time)??1/0),be=Math.max(((ee=R[R.length-1])==null?void 0:ee.time)??-1/0,((ie=E[E.length-1])==null?void 0:ie.time)??-1/0);v.value.timeScale().setVisibleRange({from:G,to:be})}}const q=R=>`$${j(R,0,"dollar")}${Q(R,"dollar")}`,O=R=>`${Math.round(R*100)}%`;return(R,E)=>{const te=Ve,H=Y;return b(),I(H,{ref_key:"chartCard",ref:_,class:B(["chart-card",{fullscreen:a(m)}]),title:a(n)("title"),loading:a(u)},{actions:S(()=>{var X;return[p("div",zg,[h(te,{items:a(i),disabled:a(d),onToggle:E[0]||(E[0]=ee=>a(r)[ee].value=!a(r)[ee].value)},null,8,["items","disabled"]),h(a(Xt),{modelValue:a(m),"onUpdate:modelValue":E[1]||(E[1]=ee=>ue(m)?m.value=ee:null),chart:a(v),target:(X=a(_))==null?void 0:X.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function ca(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Supply & Debt"])},supply:e=>{const{normalize:o}=e;return o(["Supply"])},debt:e=>{const{normalize:o}=e;return o(["Debt"])},util:e=>{const{normalize:o}=e;return o(["Util (%)"])}}})}typeof ca=="function"&&ca(Kl);const Lg=P(Kl,[["__scopeId","data-v-57c40e37"]]),Tg={class:"actions"},Ql=A({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(t){const{t:n}=F();let e,o;const s=V(!0),{theme:l}=U(N()),c=w(()=>{var k,$;return(($=(k=t.market)==null?void 0:k.collateral_token)==null?void 0:$.symbol)??"?"}),i=w(()=>{var k,$;return(($=(k=t.market)==null?void 0:k.borrowed_token)==null?void 0:$.symbol)??"?"}),{items:r}=Re(()=>[{id:c.value,label:c.value,color:l.value.colors.blue},{id:i.value,label:i.value,color:l.value.colors.yellow}]),{isFetching:d,data:u}=_t(W(()=>t.market),W(()=>t.chain)),{chart:f,chartRef:m}=_e(l,_,k=>{e=k.addLineSeries(v()),o=k.addLineSeries(g())});M([u,f,s],y),M(l,()=>{e.applyOptions(v()),o.applyOptions(g())});function _(k){return se(k,l.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function v(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function g(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function y([k,$,T]){var R,E,te,H;if(!$||!e||!o)return;const q=D.chain(k).map(X=>({time:X.timestamp,value:T?X.collateralBalanceUsd:X.collateralBalance})).uniqWith((X,ee)=>X.time===ee.time).orderBy(X=>X.time,"asc").value(),O=D.chain(k).map(X=>({time:X.timestamp,value:T?X.borrowedBalanceUsd:X.borrowedBalance})).uniqWith((X,ee)=>X.time===ee.time).orderBy(X=>X.time,"asc").value();if(q.length>0&&e.setData(q),O.length>0&&o.setData(O),q.length>0||O.length>0){const X=Math.min(((R=q[0])==null?void 0:R.time)??1/0,((E=O[0])==null?void 0:E.time)??1/0),ee=Math.max(((te=q[q.length-1])==null?void 0:te.time)??-1/0,((H=O[O.length-1])==null?void 0:H.time)??-1/0);$.timeScale().setVisibleRange({from:X,to:ee})}}const C=k=>`${s.value?"$":""}${j(k,0,"dollar")}${Q(k,"dollar")}`;return(k,$)=>{const T=Ve,q=Ye,O=Y;return b(),I(O,{class:"chart-container",title:a(n)("title"),loading:a(d)},{actions:S(()=>[p("div",Tg,[h(T,{items:a(r)},null,8,["items"]),h(q,{value:"Dollars","model-value":a(s),onClick:$[0]||($[0]=R=>s.value=!a(s))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ua(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Collateral"])}}})}typeof ua=="function"&&ua(Ql);const Ag=P(Ql,[["__scopeId","data-v-35939379"]]),jl=A({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(t){const{t:n}=F();let e;const{theme:o}=U(N()),{chart:s,chartRef:l}=_e(o,r,m=>{e=m.addHistogramSeries(d())}),{isFetching:c,data:i}=_t(W(()=>t.market),W(()=>t.chain));M([i,s],u),M(o,()=>e.applyOptions(d()));function r(m){return se(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:f}})}function d(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,_]){if(!_||!e)return;const v=D.chain(m).map(g=>({time:g.timestamp,value:g.numLoans})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();if(v.length>0){e.setData(v);const g=v[0].time,y=v[v.length-1].time;_.timeScale().setVisibleRange({from:g,to:y})}}const f=m=>Math.round(m).toString();return(m,_)=>{const v=Y;return b(),I(v,{class:"chart-container",title:a(n)("title"),loading:a(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function da(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Loans"])}}})}typeof da=="function"&&da(jl);const Pg=P(jl,[["__scopeId","data-v-8fe4d849"]]),Ig={class:"actions"},Gl=A({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(t){const{t:n}=F();let e,o;const{theme:s}=U(N()),{items:l}=Re(()=>[{id:"borrow",label:n("borrow-apy"),color:s.value.colors.red},{id:"lend",label:n("lend-apy"),color:s.value.colors.green}]),{isFetching:c,data:i}=_t(W(()=>t.market),W(()=>t.chain)),{chart:r,chartRef:d}=_e(s,u,g=>{e=g.addLineSeries(f()),o=g.addLineSeries(m())});M([i,r],_),M(s,()=>{e.applyOptions(f()),o.applyOptions(m())});function u(g){return se(g,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>v(y)}})}function f(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,color:s.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,color:s.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}}function _([g,y]){var $,T,q,O;if(!y||!e||!o)return;const C=D.chain(g).map(R=>({time:R.timestamp,value:R.borrowApy})).uniqWith((R,E)=>R.time===E.time).orderBy(R=>R.time,"asc").value(),k=D.chain(g).map(R=>({time:R.timestamp,value:R.lendApy})).uniqWith((R,E)=>R.time===E.time).orderBy(R=>R.time,"asc").value();if(C.length>0&&e.setData(C),k.length>0&&o.setData(k),C.length>0||k.length>0){const R=Math.min((($=C[0])==null?void 0:$.time)??1/0,((T=k[0])==null?void 0:T.time)??1/0),E=Math.max(((q=C[C.length-1])==null?void 0:q.time)??-1/0,((O=k[k.length-1])==null?void 0:O.time)??-1/0);y.timeScale().setVisibleRange({from:R,to:E})}}const v=g=>`${j(g*100,0,"percentage")}${Q(g,"percentage")}`;return(g,y)=>{const C=Ve,k=Y;return b(),I(k,{class:"chart-container",title:a(n)("title"),loading:a(c)},{actions:S(()=>[p("div",Ig,[h(C,{items:a(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function pa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Rates"])},"borrow-apy":e=>{const{normalize:o}=e;return o(["Borrow APY"])},"lend-apy":e=>{const{normalize:o}=e;return o(["Lend APY"])}}})}typeof pa=="function"&&pa(Gl);const Vg=P(Gl,[["__scopeId","data-v-be52abb4"]]),Rg={class:"addresses"},qg={class:"title"},Dg=["href"],Fg={key:1},Xl=A({__name:"Addresses",props:{market:{}},setup(t){const{t:n}=F(),e=w(()=>{var l,c,i,r,d;return[{description:"controller",address:(l=t.market)==null?void 0:l.controller},{description:"vault",address:(c=t.market)==null?void 0:c.vault},{description:"llamma",address:(i=t.market)==null?void 0:i.llamma},{description:"policy",address:(r=t.market)==null?void 0:r.policy},{description:"oracle",address:(d=t.market)==null?void 0:d.oracle}]}),o=l=>`https://etherscan.io/address/${l}`,s=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Ie,r=fe;return b(),z("div",Rg,[h(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:a(e)},{"header-content":S(()=>[p("div",qg,L(a(n)("addresses")),1)]),row:S(({item:{description:d,address:u}})=>[p("div",null,L(a(n)(d)),1),p("div",null,[u?(b(),z("a",{key:0,class:"font-mono",href:o(u),target:"_blank"},L(u),9,Dg)):(b(),z("span",Fg,"?"))]),p("div",null,[h(i,{icon:"fas fa-link",onClick:f=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function ma(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:o}=e;return o(["Description"])},address:e=>{const{normalize:o}=e;return o(["Address"])},addresses:e=>{const{normalize:o}=e;return o(["Addresses"])},controller:e=>{const{normalize:o}=e;return o(["Controller"])},vault:e=>{const{normalize:o}=e;return o(["Vault"])},llamma:e=>{const{normalize:o}=e;return o(["Llamma"])},policy:e=>{const{normalize:o}=e;return o(["Policy"])},oracle:e=>{const{normalize:o}=e;return o(["Oracle"])}}})}typeof ma=="function"&&ma(Xl);const Mg=P(Xl,[["__scopeId","data-v-5433b69f"]]),xg={class:"usage"},Bg={class:"two-sides"},Og={class:"collateral"},Ug={class:"two-sides"},Eg={class:"two-sides"},Yl=A({__name:"KPIUsage",props:{market:{}},setup(t){const{t:n}=F(),e=w(()=>{var l,c;return(((l=t.market)==null?void 0:l.collateral_balance_usd)??0)+(((c=t.market)==null?void 0:c.borrowed_balance_usd)??0)}),o=w(()=>{var r,d;const l=n("collateral"),c=((r=t.market)==null?void 0:r.collateral_token.symbol)??"?",i=((d=t.market)==null?void 0:d.borrowed_token.symbol)??"?";return`${l} (${c} / ${i})`}),s=w(()=>t.market?t.market.total_assets_usd===0?0:t.market.total_debt_usd/t.market.total_assets_usd:0);return(l,c)=>{var d,u;const i=ne,r=Ce;return b(),z("div",xg,[h(r,{label:a(o),"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Bg,[p("div",Og,[h(i,{value:(f=l.market)==null?void 0:f.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),K(" / "),h(i,{value:(m=l.market)==null?void 0:m.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),h(i,{value:a(e),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(r,{label:a(n)("borrowed")+` (${((d=l.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Ug,[h(i,{value:(f=l.market)==null?void 0:f.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),h(i,{value:(m=l.market)==null?void 0:m.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(r,{label:a(n)("supplied")+` (${((u=l.market)==null?void 0:u.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Eg,[h(i,{value:(f=l.market)==null?void 0:f.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),h(i,{value:(m=l.market)==null?void 0:m.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(r,{"tooltip-type":"icon",label:a(n)("util-rate"),"has-value":!!l.market,tooltip:a(n)("util-rate-tooltip")},{default:S(()=>[h(i,{value:a(s)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function _a(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{collateral:e=>{const{normalize:o}=e;return o(["Collateral"])},borrowed:e=>{const{normalize:o}=e;return o(["Borrowed"])},supplied:e=>{const{normalize:o}=e;return o(["Supplied"])},"util-rate":e=>{const{normalize:o}=e;return o(["Utilization Rate"])},"util-rate-tooltip":e=>{const{normalize:o}=e;return o(["Utilization rate is total supplied divided by total borrowed"])}}})}typeof _a=="function"&&_a(Yl);const Wg=P(Yl,[["__scopeId","data-v-7c3eebd2"]]),Ng={class:"properties"},Hg={class:"title"},Kg={key:0},Qg={class:"token-info"},jg=["href"],Gg={key:1},Zl=A({__name:"Properties",props:{market:{},chain:{}},setup(t){const{t:n}=F();function e(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.borrowed_token.symbol)??"?",address:((u=r==null?void 0:r.borrowed_token)==null?void 0:u.address)??""}}const s=w(()=>[{description:"collateral",value:o("collateral",t.market)},{description:"borrowed",value:o("borrowed",t.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=dt,u=Ie,f=fe;return b(),z("div",Ng,[h(f,{class:"datatable-properties","columns-data":"properties-columns-data",rows:a(s)},{"header-content":S(()=>[p("div",Hg,L(a(n)("properties")),1)]),row:S(({item:{description:m,value:_}})=>[p("div",null,L(a(n)(m)),1),e(_)?(b(),z("div",Kg,[p("div",Qg,[h(d,{chain:i.chain,address:_.address},null,8,["chain","address"]),p("div",null,L(_.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(_.address),target:"_blank"},L(_.address),9,jg)]),p("div",null,[h(u,{icon:"fas fa-link",onClick:v=>c(_.address)},null,8,["onClick"])])])])):(b(),z("div",Gg,L(_),1))]),_:1},8,["rows"])])}}});function va(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{properties:e=>{const{normalize:o}=e;return o(["Properties"])},oracleamm:e=>{const{normalize:o}=e;return o(["Oracle / AMM Prices"])},collateral:e=>{const{normalize:o}=e;return o(["Collateral"])},borrowed:e=>{const{normalize:o}=e;return o(["Borrowed"])}}})}typeof va=="function"&&va(Zl);const Xg=P(Zl,[["__scopeId","data-v-c505e087"]]),Yg={class:"market"},Jl=A({__name:"MarketOverview",props:{market:{},chain:{}},setup(t){const{t:n}=F(),{isFetching:e,data:o}=_t(W(()=>t.market),W(()=>t.chain)),s=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,ratio:d>0?(i+r)/d:0}))),l=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,equity:i+r-d})));return(c,i)=>{const r=ne,d=Ce;return b(),z("div",Yg,[h(d,{style:{"grid-area":"kpi1"},label:a(n)("borrow-apy"),"has-value":!!c.market},{default:S(()=>{var u;return[h(r,{value:(u=c.market)==null?void 0:u.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(d,{style:{"grid-area":"kpi2"},label:a(n)("lend-apy"),"has-value":!!c.market},{default:S(()=>{var u;return[h(r,{value:(u=c.market)==null?void 0:u.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(d,{style:{"grid-area":"kpi3"},label:a(n)("loans"),"has-value":!!c.market},{default:S(()=>{var u;return[K(L(((u=c.market)==null?void 0:u.n_loans)??0),1)]}),_:1},8,["label","has-value"]),h(d,{style:{"grid-area":"kpi4"},label:a(n)("tvl"),"has-value":!!c.market},{default:S(()=>[h(r,{value:a(st)(c.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(a(Lg),{style:{"grid-area":"supply"},market:c.market,chain:c.chain},null,8,["market","chain"]),h(a(Ag),{style:{"grid-area":"collateral"},market:c.market,chain:c.chain},null,8,["market","chain"]),h(a(ql),{style:{"grid-area":"colratio"},ratios:a(s),loading:a(e)},null,8,["ratios","loading"]),h(a(Tf),{style:{"grid-area":"equity"},equity:a(l),loading:a(e)},null,8,["equity","loading"]),h(a(Vg),{style:{"grid-area":"rates"},market:c.market,chain:c.chain},null,8,["market","chain"]),h(a(Pg),{style:{"grid-area":"loans"},market:c.market,chain:c.chain},null,8,["market","chain"]),h(a(Mg),{style:{"grid-area":"addresses"},market:c.market},null,8,["market"]),h(a(Xg),{style:{"grid-area":"properties"},market:c.market,chain:c.chain},null,8,["market","chain"]),h(a(Wg),{style:{"grid-area":"usage"},market:c.market},null,8,["market"])])}}});function ha(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"borrow-apy":e=>{const{normalize:o}=e;return o(["Borrow APY"])},"lend-apy":e=>{const{normalize:o}=e;return o(["Lend APY"])},loans:e=>{const{normalize:o}=e;return o(["Loans"])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])}}})}typeof ha=="function"&&ha(Jl);const Zg=P(Jl,[["__scopeId","data-v-a35de963"]]),Jg={class:"trading"},er=A({__name:"Trading",props:{market:{},chain:{}},setup(t){const{t:n}=F(),e=w(()=>{var f;return(f=t.market)==null?void 0:f.llamma}),{isFetching:o,data:s}=En(V("lending"),e,W(()=>t.chain)),l=V(1),{isFetching:c,data:i}=ll(V("lending"),e,W(()=>t.chain),l),r=V(1),{isFetching:d,data:u}=sl(V("lending"),e,W(()=>t.chain),r);return(f,m)=>{var g,y,C,k;const _=ne,v=Ce;return b(),z("div",Jg,[h(v,{style:{"grid-area":"oracle"},label:a(n)("oracle"),"has-value":!!f.market},{default:S(()=>{var $;return[h(_,{value:($=f.market)==null?void 0:$.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(v,{style:{"grid-area":"amm"},label:a(n)("amm"),"has-value":!!f.market},{default:S(()=>{var $;return[h(_,{value:($=f.market)==null?void 0:$.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(a(Ml),{style:{"grid-area":"ohlc"},ohlc:a(s)??[],loading:a(o)},null,8,["ohlc","loading"]),h(a(Ul),{style:{"grid-area":"trades"},trades:((g=a(i))==null?void 0:g.trades)??[],count:((y=a(i))==null?void 0:y.count)??0,chain:f.chain,loading:a(c),onPage:m[0]||(m[0]=$=>l.value=$)},null,8,["trades","count","chain","loading"]),h(a(Bl),{style:{"grid-area":"events"},events:((C=a(u))==null?void 0:C.events)??[],count:((k=a(u))==null?void 0:k.count)??0,loading:a(d),onPage:m[1]||(m[1]=$=>r.value=$)},null,8,["events","count","loading"])])}}});function fa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{oracle:e=>{const{normalize:o}=e;return o(["Oracle price"])},amm:e=>{const{normalize:o}=e;return o(["AMM price"])}}})}typeof fa=="function"&&fa(er);const e1=P(er,[["__scopeId","data-v-7436bded"]]),t1={class:"liquidations"},n1=A({__name:"Liquidations",props:{market:{},chain:{}},setup(t){const n=w(()=>{var $;return($=t.market)==null?void 0:$.controller}),{isFetching:e,data:o}=_t(W(()=>t.market),W(()=>t.chain)),s=w(()=>o.value.map(({timestamp:$,priceOracle:T})=>({timestamp:$,priceOracle:T}))),l=w(()=>o.value.map(({timestamp:$,discountLiquidation:T})=>({timestamp:$,discount:T}))),{isFetching:c,data:i}=_l(V("lending"),W(()=>t.chain),n),{isFetching:r,data:d}=ml(V("lending"),W(()=>t.chain),n),{isFetching:u,data:f}=pl(V("lending"),W(()=>t.chain),n),m=w(()=>f.value.map(({timestamp:$,proportion:T})=>({timestamp:$,proportion:T*100}))),{isFetching:_,data:v}=vl(V("lending"),W(()=>t.chain),n),{isFetching:g,data:y}=hl(V("lending"),W(()=>t.chain),n),{isFetching:C,data:k}=fl(V("lending"),W(()=>t.chain),n);return($,T)=>(b(),z("div",t1,[h(a(Pl),{overview:a(v),loading:a(_)},null,8,["overview","loading"]),h(a(zl),{ratios:a(m),"prices-oracle":a(s),loading:a(u)||a(e)},null,8,["ratios","prices-oracle","loading"]),h(a(wl),{losses:a(y),loading:a(g)},null,8,["losses","loading"]),h(a(Cl),{losses:a(y),loading:a(g)},null,8,["losses","loading"]),h(a(kl),{deciles:a(k),loading:a(C)},null,8,["deciles","loading"]),h(a(bl),{liqs:a(i),loading:a(c)},null,8,["liqs","loading"]),h(a(Vl),{liqs:a(d),loading:a(r)},null,8,["liqs","loading"]),h(a(Tl),{discounts:a(l),liqs:a(d),loading:a(e)||a(r)},null,8,["discounts","liqs","loading"])]))}}),o1=P(n1,[["__scopeId","data-v-f2820630"]]),a1={class:"market-overview"},s1=A({__name:"Market.page",setup(t){const{show:n,crumbs:e}=U(Ee()),o=$e("chain"),s=$e("marketAddr"),{isFetching:l,data:c}=Wl(o),i=w(()=>{var u;return(u=c.value)==null?void 0:u.find(f=>f.controller===s.value)});M(i,u=>{e.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),le(()=>{n.value=!0});const{tabActive:r,tabActiveIndex:d}=Zt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:s.value}));return(u,f)=>{const m=Ue,_=Xe,v=Ge;return b(),z("div",a1,[h(m,{class:B(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(i)?(b(),I(v,{key:0,active:a(d),onTab:f[0]||(f[0]=g=>d.value=g.index)},{default:S(()=>[h(_,{header:"Overview"},{default:S(()=>[(b(),I(ze,null,[a(r)==="overview"?(b(),I(Zg,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):x("",!0)],1024))]),_:1}),h(_,{header:"Trading"},{default:S(()=>[(b(),I(ze,null,[a(r)==="trading"?(b(),I(e1,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):x("",!0)],1024))]),_:1}),h(_,{header:"Liquidations"},{default:S(()=>[(b(),I(ze,null,[a(r)==="liquidations"?(b(),I(o1,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):x("",!0)],1024))]),_:1})]),_:1},8,["active"])):x("",!0)])}}}),l1=P(s1,[["__scopeId","data-v-a093387c"]]),qe=Qe("monitorStore",()=>{const t=V(null),n=V(null),e=V(null),o=V([]),s=V(!1),l=V([]),c=V([]),i=V([]),r=V([]),d=V([]),u=V({curve:[],balanceCoin0:0,balanceCoin1:0}),f=V([]),m=V(null),_=V("month");return{socket:t,socketPool:n,pool:e,pools:o,poolsLoadingError:s,prices:l,balances:c,volumes:i,transactions:r,tvl:d,bonding:u,coins:f,pair:m,timeRange:_}});class r1{constructor(n){this.init$=new Se(e=>{const o=s=>{const l=s.map(c=>ga(c));e.next(l)};return n.on("price_chart",o),()=>{n.off("price_chart",o)}}).pipe(Le()),this.update$=new Se(e=>{const o=s=>{const l=ga(s);e.next(l)};return n.on("Update Price-Chart",o),()=>{n.off("Update Price-Chart",o)}}).pipe(Le())}}function ga(t){const n=Object.keys(t)[0],e=parseInt(n,10),o=t[n];return{timestamp:e,value:o}}class i1{constructor(n){this.init$=new Se(e=>{const o=s=>{const l=s.map(c=>ba(c));e.next(l)};return n.on("balances_chart",o),()=>{n.off("balances_chart",o)}}).pipe(Le()),this.update$=new Se(e=>{const o=s=>{const l=ba(s);e.next(l)};return n.on("Update Balance-Chart",o),()=>{n.off("Update Balance-Chart",o)}}).pipe(Le())}}function ba(t){const n=Object.keys(t)[0],e=parseInt(n,10),o=t[n];return{timestamp:e,balances:o}}class c1{constructor(n){this.init$=new Se(e=>{const o=s=>{const l=s.map(c=>ya(c));e.next(l)};return n.on("volume_chart",o),()=>{n.off("volume_chart",o)}}).pipe(Le()),this.update$=new Se(e=>{const o=s=>{const l=ya(s);e.next(l)};return n.on("Update Volume-Chart",o),()=>{n.off("Update Volume-Chart",o)}}).pipe(Le())}}function ya(t){const n=Object.keys(t)[0],e=parseInt(n,10),o=t[n];return{timestamp:e,volume:o}}class u1{constructor(n){this.init$=new Se(e=>{const o=s=>{const l=s.map(c=>wa(c)).flat(1);e.next(l)};return n.on("table_all",o),()=>{n.off("table_all",o)}}).pipe(Le()),this.update$=new Se(e=>{const o=s=>{const l=wa(s);for(const c of l)e.next(c)};return n.on("Update Table-ALL",o),()=>{n.off("Update Table-ALL",o)}}).pipe(Le())}}function wa(t){let n;if(t.type==="swap")n="swap";else if(t.type==="deposit")n="deposit";else if(t.type==="remove")n="withdraw";else return[];const e=t.txHash.toLocaleLowerCase(),o=t.blockNumber,s=t.trader.toLocaleLowerCase(),l=t.unixtime;let c;if(n==="swap"){const i=t;return c=[{type:n,txHash:e,blockNumber:o,trader:s,timestamp:l,fee:i.tradeDetails.feeUSD,value:i.tradeDetails.valueUSD,amountIn:i.tradeDetails.amountIn,amountOut:i.tradeDetails.amountOut,tokenIn:i.tradeDetails.nameIn,tokenOut:i.tradeDetails.nameOut}],c}else n==="deposit"?c=t.tradeDetails.map(r=>({type:"deposit",txHash:e,blockNumber:o,trader:s,timestamp:l,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):c=t.tradeDetails.map(r=>({type:"withdraw",txHash:e,blockNumber:o,trader:s,timestamp:l,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return c}class d1{constructor(n){this.init$=new Se(e=>{const o=s=>{const l=s.map(c=>$a(c));e.next(l)};return n.on("tvl_chart",o),()=>{n.off("tvl_chart",o)}}).pipe(Le()),this.update$=new Se(e=>{const o=s=>{const l=$a(s);e.next(l)};return n.on("Update TVL-Chart",o),()=>{n.off("Update TVL-Chart",o)}}).pipe(Le())}}function $a(t){const n=Object.keys(t)[0],e=parseInt(n,10),o=t[n];return{timestamp:e,tvl:o}}class p1{constructor(n){this.get$=new Se(e=>{const o=s=>{const l=m1(s);e.next(l)};return n.on("bonding_curve",o),()=>{n.off("bonding_curve",o)}}).pipe(Le())}}function m1(t){return{curve:D.zipWith(t.x,t.y,(e,o)=>({x:e,y:o})),balanceCoin0:t.balance0,balanceCoin1:t.balance1}}function _1(t){return wn(`${t}/`,{autoConnect:!1,secure:!0})}function v1(t,n){return wn(`${t}/${n}`,{autoConnect:!1,secure:!0})}function h1(t){return wn(`${t}/main`,{autoConnect:!1,secure:!0})}function f1(t,n,e){const o=v1(n,e),s=new c1(o),l=new r1(o),c=new u1(o),i=new i1(o),r=new d1(o),d=new p1(o),u=new sp(o),f=new Ps(o);return C1(t,c),w1(t,l),b1(t,i),y1(t,r),$1(t,s),k1(t,d),S1(t,u),z1(t,f),o.connect(),o}async function g1(t,n,e){const o=await n.get(e);o?t.pools=o:t.poolsLoadingError=!0}let Rt=null;function b1(t,n){Rt&&Rt.unsubscribe();try{Rt=n.init$.subscribe({next:e=>{t.balances=e},error:e=>console.error(e)}),Rt.add(n.update$.subscribe({next:e=>{t.balances.push(e)},error:e=>console.error(e)}))}catch{t.poolsLoadingError=!0}}let qt=null;function y1(t,n){qt&&qt.unsubscribe();try{qt=n.init$.subscribe({next:e=>{t.tvl=e},error:e=>console.error(e)}),qt.add(n.update$.subscribe({next:e=>{t.tvl.push(e)},error:e=>console.error(e)}))}catch{t.poolsLoadingError=!0}}let Dt=null;function w1(t,n){Dt&&Dt.unsubscribe();try{Dt=n.init$.subscribe({next:e=>{t.prices=e},error:e=>console.error(e)}),Dt.add(n.update$.subscribe({next:e=>{t.prices.push(e)},error:e=>console.error(e)}))}catch{t.poolsLoadingError=!0}}let Ft=null;function $1(t,n){Ft&&Ft.unsubscribe();try{Ft=n.init$.subscribe({next:e=>{t.volumes=e},error:e=>console.error(e)}),Ft.add(n.update$.subscribe({next:e=>{t.volumes.push(e)},error:e=>console.error(e)}))}catch{t.poolsLoadingError=!0}}let Mt=null;function C1(t,n){Mt&&Mt.unsubscribe();try{Mt=n.init$.subscribe({next:e=>{t.transactions=e},error:e=>console.error(e)}),Mt.add(n.update$.subscribe({next:e=>{t.transactions.push(e)},error:e=>console.error(e)}))}catch{t.poolsLoadingError=!0}}let cn=null;function k1(t,n){cn&&cn.unsubscribe();try{cn=n.get$.subscribe({next:e=>{t.bonding=e},error:e=>console.error(e)})}catch{t.poolsLoadingError=!0}}let un=null;function S1(t,n){un&&un.unsubscribe();try{un=n.get$.subscribe({next:e=>{t.coins=e},error:e=>console.error(e)})}catch{t.poolsLoadingError=!0}}let dn=null;function z1(t,n){dn&&dn.unsubscribe();try{dn=n.update$.subscribe({next:e=>{t.pair=e},error:e=>console.error(e)})}catch{t.poolsLoadingError=!0}}const L1={key:0,class:"item"},T1={class:"label"},tr=A({__name:"SearchPool",props:it({poolService:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:it(["select"],["update:modelValue"]),setup(t,{emit:n}){const{t:e}=F(),o=Wt(t,"modelValue"),s=n,l=qe(),c=V(!1),i=V(e("search-placeholder")),r=w(()=>l.pools),d=_=>{const v=Fe(_.name);return v.startsWith("Curve.fi ")?v.slice(9):v},u=D.debounce(g1,200,{maxWait:1e3}),f=_=>{u(l,t.poolService,_),c.value=!!_},m=_=>{c.value=!1,s("select",_)};return M(()=>l.poolsLoadingError,_=>{_?i.value=e("search-error"):i.value=e("search-placeholder")}),(_,v)=>{const g=Te;return b(),I(g,{class:"select-pool","model-value":o.value,placeholder:a(i),search:!0,"auto-complete":a(c),options:a(r),onInput:f,onSelect:m},{item:S(y=>[y.item?(b(),z("div",L1,[p("div",T1,L(d(y.item)),1)])):x("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"])}}});function Ca(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"search-loading":e=>{const{normalize:o}=e;return o(["Loading pools, please wait..."])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for Curve pools"])},"search-error":e=>{const{normalize:o}=e;return o(["Failed loading Curve pools"])}}})}typeof Ca=="function"&&Ca(tr);const A1=P(tr,[["__scopeId","data-v-38d10ca3"]]),P1={class:"status"},I1={class:"ping"},V1=A({__name:"Status",setup(t){const n=qe(),e=V(1/0),o=V("bad");return M(()=>n.socket,s=>{if(!s)return;new op(s).get$.subscribe(c=>{e.value=c,o.value=c<=50?"good":c<=500?"meh":"bad"})},{immediate:!0}),(s,l)=>{const c=kt;return b(),z("div",P1,[h(c,{class:"tooltip"},{item:S(()=>[p("div",{class:B(["indicator",a(o)])},null,2)]),default:S(()=>[p("div",I1,"Ping: "+L(a(e)===1/0?"?":a(e))+"ms",1)]),_:1})])}}}),R1=P(V1,[["__scopeId","data-v-a782295f"]]),q1=t=>(de("data-v-c69b1a12"),t=t(),pe(),t),D1={class:"header"},F1={class:"header-content"},M1=q1(()=>p("div",{class:"title"},"Live monitor",-1)),x1={class:"controls"},B1=A({__name:"Header",props:{poolService:{}},setup(t){const n=qe(),e=V(""),o=s=>{e.value=Fe(s.name),n.pool=s};return(s,l)=>{const c=Y;return b(),z("div",D1,[h(c,null,{default:S(()=>[p("div",F1,[M1,p("div",x1,[h(A1,{modelValue:a(e),"onUpdate:modelValue":l[0]||(l[0]=i=>ue(e)?e.value=i:null),class:"search","pool-service":s.poolService,onSelect:o},null,8,["modelValue","pool-service"]),h(R1)])])]),_:1})])}}}),O1=P(B1,[["__scopeId","data-v-c69b1a12"]]),U1={class:"pair"},E1={class:"item"},W1=["src"],N1={class:"label"},H1={class:"item"},K1=["src"],Q1={class:"label"},j1=A({__name:"SelectorPair",setup(t){const n=qe(),e=V([!1,!1]),o=V([null,null]),s=w(()=>n.coins.map(u=>({label:u.name}))),l=w(()=>n.pair?[{label:n.pair[0]},{label:n.pair[1]}]:null),c=u=>u!=null&&u.logo?`${u.logo}`:"",i=u=>u?`${u.label}`:"?",r=u=>{e.value[u]=!e.value[u]},d=(u,f,m)=>{var y,C;const _=u===0?1:0,v=o.value[u],g=f;(v==null?void 0:v.label)!==(g==null?void 0:g.label)&&(o.value[u]=g,((y=o.value[u])==null?void 0:y.label)===((C=o.value[_])==null?void 0:C.label)&&(o.value[_]=v),m&&n.socketPool&&o.value[0]&&o.value[1]&&new Ps(n.socketPool).update(n.timeRange,[o.value[0].label,o.value[1].label]))};return M(l,()=>{d(0,l.value?l.value[0]:null,!1),d(1,l.value?l.value[1]:null,!1)}),(u,f)=>{const m=ut;return b(),z("div",U1,[h(m,{class:"select",options:a(s),selected:a(o)[0],open:a(e)[0],onOpen:f[0]||(f[0]=_=>r(0)),onClose:f[1]||(f[1]=_=>a(e)[0]=!1),onInput:f[2]||(f[2]=_=>d(0,_,!0))},{item:S(_=>{var v;return[p("div",E1,[(v=_.item)!=null&&v.logo?(b(),z("img",{key:0,src:c(_.item)},null,8,W1)):x("",!0),p("div",N1,L(i(_.item)),1)])]}),_:1},8,["options","selected","open"]),h(m,{class:"select",options:a(s),selected:a(o)[1],open:a(e)[1],onOpen:f[3]||(f[3]=_=>r(1)),onClose:f[4]||(f[4]=_=>a(e)[1]=!1),onInput:f[5]||(f[5]=_=>d(1,_,!0))},{item:S(_=>{var v;return[p("div",H1,[(v=_.item)!=null&&v.logo?(b(),z("img",{key:0,src:c(_.item)},null,8,K1)):x("",!0),p("div",Q1,L(i(_.item)),1)])]}),_:1},8,["options","selected","open"])])}}}),G1=P(j1,[["__scopeId","data-v-260445b5"]]),X1=["day","week","month"],Y1={class:"ranges"},nr=A({__name:"SelectorRange",setup(t){const{t:n}=F(),e=qe(),o=s=>{e.timeRange!==s&&(e.timeRange=s,e.pair&&new rp(e.socketPool).update(s))};return(s,l)=>{const c=Ye;return b(),z("div",Y1,[(b(!0),z(ae,null,ve(a(X1),i=>(b(),I(c,{key:i,"model-value":a(e).timeRange===i,value:a(n)(i),onClick:r=>o(i)},null,8,["model-value","value","onClick"]))),128))])}}});function ka(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{day:e=>{const{normalize:o}=e;return o(["Day"])},week:e=>{const{normalize:o}=e;return o(["Week"])},month:e=>{const{normalize:o}=e;return o(["Month"])}}})}typeof ka=="function"&&ka(nr);const Z1=P(nr,[["__scopeId","data-v-2eb91b18"]]),or=t=>(de("data-v-10ded877"),t=t(),pe(),t),J1={class:"controls"},eb=or(()=>p("div",{class:"gutter"},null,-1)),tb={class:"rows"},nb=or(()=>p("div",{class:"title"},"Charts",-1)),ob={class:"items"},ab=A({__name:"Controls",setup(t){return(n,e)=>(b(),z("div",J1,[eb,p("div",tb,[nb,p("div",ob,[h(G1),h(Z1)])])]))}}),sb=P(ab,[["__scopeId","data-v-10ded877"]]);function lb(t){return t.type==="swap"}function rb(t){return t.type==="deposit"}function ib(t){return t.type==="withdraw"}const cb={style:{display:"grid","grid-template-columns":"auto auto"}},ub={class:"title"},db={style:{display:"flex",gap:"1rem"}},pb={key:0,class:"fas fa-arrow-up"},mb={key:1,class:"fas fa-arrow-down"},_b={key:2,class:"fas fa-exchange-alt"},vb={key:0,class:"number"},hb=["href"],fb=["href"],gb=["href"],bb=["innerHTML"],yb={key:0},wb={key:1,class:"number"},Sa=10,ar=A({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(t){const{t:n}=F(),e=qe(),{relativeTime:o}=Tt(),s=V(""),l=V(["swap","deposit","withdraw"]),c=w(()=>t.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=w(()=>D.chain(t.txs?t.txs:e.transactions).filter(_=>l.value.includes(_.type)).filter(_=>{const v=s.value.toLocaleLowerCase().split(" "),g=y=>v.some(C=>y.toLocaleLowerCase().includes(C));return g(_.blockNumber.toString())||g(_.trader)||g(_.txHash)}).reverse().value()),{page:r,rowsPage:d,onPage:u}=Dn(i,Sa),f=_=>{if(lb(_)){const v=_.amountIn.toLocaleString(),g=_.amountOut.toLocaleString(),y=`<span>${v} ${_.tokenIn}</span>`,C="<i class='fas fa-arrow-right'></i>",k=`<span style='justify-self: end;'>${g} ${_.tokenOut}</span>`;return`${y}${C}${k}`}else{if(rb(_))return`${_.amountIn.toLocaleString()} ${_.tokenIn}`;if(ib(_))return`${_.amountOut.toLocaleString()} ${_.tokenOut}`}return"???"},m=_=>{_===0?l.value=["swap","deposit","withdraw"]:_===1?l.value=["swap"]:_===2?l.value=["deposit"]:_===3?l.value=["withdraw"]:l.value=[]};return(_,v)=>{const g=Xe,y=Ge,C=Te,k=je,$=fe;return b(),I($,{class:B(["datatable-trades",{compact:_.compact,time:_.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:a(d),columns:a(c)},ms({row:S(T=>[p("div",{class:B(["type",{deposit:T.item.type==="deposit",withdraw:T.item.type==="withdraw",swap:T.item.type==="swap"}])},[T.item.type==="deposit"?(b(),z("i",pb)):T.item.type==="withdraw"?(b(),z("i",mb)):(b(),z("i",_b)),K(" "+L(a(n)(T.item.type)),1)],2),_.time?(b(),z("div",vb,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${T.item.blockNumber}`,target:"_blank"},L(T.item.blockNumber),9,hb)])):x("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${T.item.txHash}`,target:"_blank",onClick:v[2]||(v[2]=Ae(()=>{},["stop"]))},L(a(Pe)(T.item.txHash)),9,fb)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${T.item.trader}`,target:"_blank",onClick:v[3]||(v[3]=Ae(()=>{},["stop"]))},L(a(Pe)(T.item.trader)),9,gb)]),p("div",{class:B(["assets",{swap:T.item.type==="swap"}]),innerHTML:f(T.item)},null,10,bb),p("div",{class:B({number:_.time})},[T.item.type==="swap"?(b(),z("span",yb," $"+L(a(D.round)(T.item.fee).toLocaleString()),1)):x("",!0)],2),_.time?(b(),z("div",wb,L(a(o)(T.item.timestamp)),1)):x("",!0)]),_:2},[_.header?{name:"header-content",fn:S(()=>[p("div",cb,[p("div",ub,L(a(n)("title")),1),h(y,{class:"types",onTab:v[0]||(v[0]=T=>m(T.index))},{default:S(()=>[h(g,{header:"All"}),h(g,{header:"Swaps"}),h(g,{header:"Deposits"}),h(g,{header:"Withdrawals"})]),_:1})]),p("div",db,[h(C,{modelValue:a(s),"onUpdate:modelValue":v[1]||(v[1]=T=>ue(s)?s.value=T:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(k,{class:"pagination","items-count":a(i).length,"items-per-page":Sa,page:a(r),onPage:a(u)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns"])}}});function za(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Transactions"])},swap:e=>{const{normalize:o}=e;return o(["Swap"])},withdraw:e=>{const{normalize:o}=e;return o(["Withdraw"])},deposit:e=>{const{normalize:o}=e;return o(["Deposit"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof za=="function"&&za(ar);const $b=P(ar,[["__scopeId","data-v-a568caa2"]]),sr=A({__name:"TVL",setup(t){const{t:n}=F();let e,o;const s=qe(),{theme:l}=U(N()),c=V(null),i=w(()=>s.tvl);le(()=>{c.value&&(e=ct(c.value,r(c.value)),o=e.addAreaSeries(d()),u(i.value))}),M(i,m=>{u(m)}),M(l,()=>{c.value&&(e.applyOptions(r(c.value)),o.applyOptions(d()))});const r=m=>se(m,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:_=>f(_)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),u=m=>{if(!e||!o)return;const _=D.chain(m).map(v=>({time:v.timestamp,value:v.tvl})).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc").value();_.length>0&&o.setData(_),e.timeScale().fitContent()},f=m=>`$${j(m,1,"dollar")}${Q(m,"dollar")}`;return(m,_)=>{const v=Y;return b(),I(v,{class:"tvl",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function La(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["TVL"])}}})}typeof La=="function"&&La(sr);const Cb=P(sr,[["__scopeId","data-v-277ab4b2"]]),lr=A({__name:"Bonding",setup(t){const{t:n}=F();let e,o;const s=qe(),{theme:l}=U(N()),c=V(null),i=w(()=>s.bonding);le(()=>{c.value&&(e=ct(c.value,r(c.value)),o=e.addLineSeries(d()),f(i.value))}),M(i,_=>{f(_)}),M(l.value,()=>{c.value&&(e.applyOptions(r(c.value)),o.applyOptions(d()),u())});const r=_=>se(_,l.value,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:v=>m(v)},localization:{priceFormatter:v=>m(v),timeFormatter:v=>m(v)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}),u=()=>{const _=[{time:i.value.balanceCoin1,position:"inBar",color:l.value.colors.yellow,shape:"circle"}];o.setMarkers(_)},f=_=>{if(!e||!o)return;const v=D.chain(_.curve).map(g=>({time:g.x,value:g.y})).value();v.length>0&&(o.setData(v),u()),e.timeScale().fitContent()},m=_=>_<0?"":`${j(Math.abs(_),0,"dollar")}${Q(_,"dollar")}`;return(_,v)=>{const g=Y;return b(),I(g,{class:"bondings",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ta(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Bonding Curve"])}}})}typeof Ta=="function"&&Ta(lr);const kb=P(lr,[["__scopeId","data-v-42e9972e"]]),rr=A({__name:"Balances",setup(t){const{t:n}=F();let e,o=[];const s=qe(),{theme:l}=U(N()),c=V(null),i=w(()=>s.balances),r=w(()=>{var g,y;return((y=(g=s.balances[0])==null?void 0:g.balances)==null?void 0:y.length)??0}),{items:d}=Re(()=>s.coins.map(g=>g.name).map((g,y)=>({id:g,label:g,color:l.value.colorsArray[y]})));le(()=>{c.value&&(e=ct(c.value,u(c.value)),m(),_(i.value))}),M(i,g=>{m(),_(g)}),M(l.value,()=>{if(c.value){e.applyOptions(u(c.value));for(const[g,y]of o.entries())y.applyOptions(f(g))}});const u=g=>se(g,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>v(y)}}),f=g=>{const{colorsArray:y}=l.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:y[g],lastValueVisible:!1,priceLineVisible:!1}},m=()=>{if(e){for(const g of o)e.removeSeries(g);o=[];for(let g=0;g<r.value;g++){const y=e.addLineSeries(f(g));o.push(y)}}},_=g=>{if(!(!e||o.length<0)){for(let y=0;y<r.value;y++){const C=D.chain(g).map(k=>({time:k.timestamp,value:k.balances[y]})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();C.length>0&&o[y].setData(C)}e.timeScale().fitContent()}},v=g=>`${j(g,1,"dollar")}${Q(g,"dollar")}`;return(g,y)=>{const C=Ve,k=Y;return b(),I(k,{class:"balances",title:a(n)("title")},{default:S(()=>[h(C,{items:a(d)},null,8,["items"]),p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Aa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Balances"])}}})}typeof Aa=="function"&&Aa(rr);const Sb=P(rr,[["__scopeId","data-v-eb3ed0e1"]]),ir=A({__name:"Prices",setup(t){const{t:n}=F();let e,o,s,l=1,c=0;const i=qe(),{theme:r}=U(N()),d=V(null),u=w(()=>i.prices),f=w(()=>i.volumes);le(()=>{d.value&&(e=ct(d.value,m(d.value)),o=e.addAreaSeries(_()),s=e.addHistogramSeries(v()),g(u.value),y(f.value))}),M(u,k=>{g(k)}),M(f,k=>{y(k)}),M(r.value,()=>{d.value&&(e.applyOptions(m(d.value)),o.applyOptions(_()),s.applyOptions(v()))});const m=k=>se(k,r.value,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:$=>C($)}}),_=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:r.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),v=()=>({color:r.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),g=k=>{if(!e||!o)return;const $=D.chain(k).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,q)=>T.time===q.time).orderBy(T=>T.time,"asc").value();if($.length>0){o.setData($);const T=$[0].time,q=$[$.length-1].time;e.timeScale().setVisibleRange({from:T,to:q}),c=Math.min(...$.map(O=>O.value)),l=Math.max(...$.map(O=>O.value))}},y=k=>{if(!e||!s)return;const $=D.chain(k).map(T=>({time:T.timestamp,value:T.volume})).uniqWith((T,q)=>T.time===q.time).orderBy(T=>T.time,"asc").value();$.length>0&&s.setData($)},C=k=>{const $=l-c,T=$>1?$-Math.floor($):$,q=-Math.floor(Math.log10(T)+1)+2;return`${j(k,q,"dollar")}${Q(k,"dollar")}`};return(k,$)=>{const T=Y;return b(),I(T,{class:"prices",title:a(n)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"])}}});function Pa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Price"])}}})}typeof Pa=="function"&&Pa(ir);const zb=P(ir,[["__scopeId","data-v-292a0f72"]]),Lb={class:"curve-monitor"},Tb={key:0,class:"data"},Ia="https://ws.llama.airforce:2053",Ab=A({__name:"Monitor.page",setup(t){const n=_1(Ia),e=new ap(n),o=Oe(),s=qe();s.socket=n;const l=$e("pool"),c=w(()=>s.pool!==null);let i="";le(async()=>{await d(l.value),n.connect()});const r=async(u,f)=>{var m;i!==u.id&&(s.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(m=s.socketPool)==null||m.close(),s.socketPool=f1(s,Ia,s.pool.id),i=s.pool.id,f&&await o.push({name:"curvemonitor",params:{pool:s.pool.id}}))},d=async u=>{u&&typeof u=="string"&&await r({id:u,name:"???"},!1)};return M(()=>s.pool,async u=>{u&&await r(u,!0)}),M(l,async u=>{await d(u)}),(u,f)=>(b(),z("div",Lb,[h(O1,{class:"header","pool-service":a(e)},null,8,["pool-service"]),a(c)?(b(),z("div",Tb,[h(sb,{class:"controls"}),h(zb,{class:"prices"}),h($b,{class:"transactions"}),h(Sb,{class:"balances"}),h(Cb,{class:"tvl"}),h(kb,{class:"bonding"})])):x("",!0)]))}}),Pb=P(Ab,[["__scopeId","data-v-ed51d0ff"]]);class cr{constructor(n){this.socket=n}search(n){const e=new Promise(o=>{this.socket.once("userSearchResult",s=>{o(s)})});return this.socket.emit("getUserSearchResult",n),e}getSandwichLabelOccurrences(){const n=new Promise(e=>{this.socket.once("sandwichLabelOccurrences",o=>{e(o)})});return this.socket.emit("getSandwichLabelOccurrences"),n}getAbsoluteLabelsRanking(){const n=new Promise(e=>{this.socket.once("absoluteLabelsRanking",o=>{e(o)})});return this.socket.emit("getAbsoluteLabelsRanking"),n}getSandwiches(n=1){const e=new Promise(o=>{this.socket.once("fullSandwichTableContent",({data:s,totalPages:l})=>{o({sandwiches:s,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",n),e}}const tn=Qe("mevStore",()=>{const t=V(null),n=V([]),e=V({cur:0,total:0}),o=V([]),s=V([]);return{socket:t,sandwiches:n,sandwichesPage:e,labelRankingShort:o,labelRankingExtended:s}}),Ib=A({__name:"LabelsWorstRelative",setup(t){const n=tn(),{theme:e}=U(N()),o=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,u)=>u.ratio-d.ratio).slice(0,10),s=w(()=>o(n.labelRankingExtended).map(r=>r.label)),l=w(()=>o(n.labelRankingExtended).map(r=>r.ratio)),c=w(()=>re(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Ratio: ${i(u)}</div>`].join("")}},labels:s.value})),i=r=>`${r}%`;return(r,d)=>{const u=me;return b(),I(u,{class:"mevLabels",title:"Worst relative offenders",options:a(c),series:a(l)},null,8,["options","series"])}}}),Vb=P(Ib,[["__scopeId","data-v-673d8eff"]]),Rb=A({__name:"LabelsWorstAbsolute",setup(t){const n=tn(),{theme:e}=U(N()),o=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,u)=>u.occurrences-d.occurrences).slice(0,10),s=w(()=>o(n.labelRankingExtended).map(r=>r.label)),l=w(()=>o(n.labelRankingExtended).map(r=>r.occurrences)),c=w(()=>re(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Occurences: ${i(u)}</div>`].join("")}},labels:s.value})),i=r=>`${r}`;return(r,d)=>{const u=me;return b(),I(u,{class:"mevLabels",title:"Worst absolute offenders",options:a(c),series:a(l)},null,8,["options","series"])}}}),qb=P(Rb,[["__scopeId","data-v-6f9a7017"]]),Db={style:{display:"grid","grid-template-columns":"auto auto"}},Fb={class:"title"},Mb={style:{display:"flex",gap:"1rem"}},xb={key:0,class:"fas fa-arrow-up"},Bb={key:1,class:"fas fa-arrow-down"},Ob={key:2,class:"fas fa-exchange-alt"},Ub={key:0,class:"number"},Eb=["href"],Wb=["href"],Nb=["href"],Hb=["innerHTML"],Kb={key:1,class:"number"},Va=10,ur=A({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(t){const{t:n}=F(),{relativeTime:e}=Tt(),o=V(""),s=V(["swap","deposit","remove"]),l=w(()=>t.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),c=w(()=>D.chain(t.txs).filter(m=>s.value.includes(m.transaction_type)).filter(m=>{const _=o.value.toLocaleLowerCase().split(" "),v=g=>_.some(y=>g.toLocaleLowerCase().includes(y));return v(m.block_number.toString())||v(m.trader)||v(m.tx_hash)}).value()),{page:i,rowsPage:r,onPage:d}=Dn(c,Va),u=m=>{if(m.transaction_type==="swap"){const _=m.coins_leaving_wallet[0],v=m.coins_entering_wallet[0],g=He(parseFloat(_.amount)),y=He(parseFloat(v.amount)),C=`<span>${g} ${_.name}</span>`,k="<i class='fas fa-arrow-right'></i>",$=`<span style='justify-self: end;'>${y} ${v.name}</span>`;return`${C}${k}${$}`}else if(m.transaction_type==="deposit"){const _=m.coins_entering_wallet[0];return`${He(parseFloat(_.amount))} ${_.name}`}else if(m.transaction_type==="remove"){const _=m.coins_leaving_wallet[0];return`${He(parseFloat(_.amount))} ${_.name}`}return"???"},f=m=>{m===0?s.value=["swap","deposit","remove"]:m===1?s.value=["swap"]:m===2?s.value=["deposit"]:m===3?s.value=["remove"]:s.value=[]};return(m,_)=>{const v=Xe,g=Ge,y=Te,C=je,k=fe;return b(),I(k,{class:B(["datatable-trades",{compact:m.compact,time:m.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:a(r),columns:a(l),header:m.header},ms({row:S($=>[p("div",{class:B(["type",{deposit:$.item.transaction_type==="deposit",remove:$.item.transaction_type==="remove",swap:$.item.transaction_type==="swap"}])},[$.item.transaction_type==="deposit"?(b(),z("i",xb)):$.item.transaction_type==="remove"?(b(),z("i",Bb)):(b(),z("i",Ob)),K(" "+L(a(n)($.item.transaction_type)),1)],2),m.time?(b(),z("div",Ub,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.block_number}`,target:"_blank"},L($.item.block_number),9,Eb)])):x("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.tx_hash}`,target:"_blank",onClick:_[2]||(_[2]=Ae(()=>{},["stop"]))},L(a(Pe)($.item.tx_hash)),9,Wb)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank",onClick:_[3]||(_[3]=Ae(()=>{},["stop"]))},L(a(Pe)($.item.trader)),9,Nb)]),p("div",{class:B(["assets",{swap:$.item.transaction_type==="swap"}]),innerHTML:u($.item)},null,10,Hb),m.time?(b(),z("div",Kb,L(a(e)($.item.block_unixtime)),1)):x("",!0)]),_:2},[m.header?{name:"header-content",fn:S(()=>[p("div",Db,[p("div",Fb,L(a(n)("title")),1),h(g,{class:"types",onTab:_[0]||(_[0]=$=>f($.index))},{default:S(()=>[h(v,{header:"All"}),h(v,{header:"Swaps"}),h(v,{header:"Deposits"}),h(v,{header:"Removals"})]),_:1})]),p("div",Mb,[h(y,{modelValue:a(o),"onUpdate:modelValue":_[1]||(_[1]=$=>ue(o)?o.value=$:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),h(C,{class:"pagination","items-count":a(c).length,"items-per-page":Va,page:a(i),onPage:a(d)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns","header"])}}});function Ra(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Transactions"])},swap:e=>{const{normalize:o}=e;return o(["Swap"])},deposit:e=>{const{normalize:o}=e;return o(["Deposit"])},remove:e=>{const{normalize:o}=e;return o(["Remove"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof Ra=="function"&&Ra(ur);const Qb=P(ur,[["__scopeId","data-v-529d4f8a"]]),jb={class:"title"},Gb={style:{display:"flex",gap:"1rem"}},Xb=["href"],Yb={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Zb=["href"],Jb={class:"number"},pn=10,dr=A({__name:"Sandwiches",setup(t){const{t:n}=F(),e=tn(),{expanded:o,toggleExpansion:s}=xn(),{relativeTime:l}=Tt(),c=V(""),i=w(()=>e.sandwichesPage.cur),r=w(()=>e.sandwichesPage.total*pn),d=w(()=>D.chain(e.sandwiches).filter(m=>{const _=c.value.toLocaleLowerCase().split(" "),v=g=>_.some(y=>g.toLocaleLowerCase().includes(y));return v(m.poolName.toString())||v(m.poolAddress.toString())||v(m.label.toString())}).orderBy([m=>m.frontrun.block_unixtime,m=>m.frontrun.tx_position],"desc").value()),u=m=>D.orderBy([m.frontrun,...m.center,m.backrun],[_=>_.block_unixtime,_=>_.tx_position]),f=async m=>{if(!e.socket)return;const _=new cr(e.socket),{sandwiches:v,totalPages:g}=await _.getSandwiches(m);e.sandwiches=v,e.sandwichesPage={cur:m,total:g}};return(m,_)=>{const v=Te,g=je,y=fe;return b(),I(y,{class:"datatable-sandwiches","columns-header":"1fr 2fr","columns-data":"sandwiches-columns-data",rows:a(d),columns:["Pool","Action","Affected Contract","Time"],expanded:a(o),onSelected:_[1]||(_[1]=C=>a(s)(C))},{"header-content":S(()=>[p("div",jb,L(a(n)("title")),1),p("div",Gb,[h(v,{modelValue:a(c),"onUpdate:modelValue":_[0]||(_[0]=C=>ue(c)?c.value=C:null),class:"search",search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"]),a(r)>pn?(b(),I(g,{key:0,class:"pagination","items-count":a(r),"items-per-page":pn,page:a(i),onPage:f},null,8,["items-count","page"])):x("",!0)])]),row:S(C=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${C.item.poolAddress}`,target:"_blank"},L(C.item.poolName),9,Xb)]),p("div",null,[p("div",Yb,[p("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${C.item.center[0].trader}`},L(a(Pe)(C.item.center[0].trader)),9,Zb),p("span",null," lost "+L(a(He)(C.item.user_losses_details.reduce((k,$)=>k+$.amount,0)))+" "+L(C.item.user_losses_details[0].unit),1),p("span",null,L(a(He)(-C.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+L(a(He)(C.item.lossInUsd)),1)])]),p("div",null,L(C.item.label),1),p("div",Jb,L(a(l)(C.item.frontrun.block_unixtime)),1)]),"row-details":S(C=>[h(Qb,{class:"transactions",txs:u(C.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])}}});function qa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Sandwiches"])},"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for..."])}}})}typeof qa=="function"&&qa(dr);const e0=P(dr,[["__scopeId","data-v-1ab303d4"]]),t0={class:"mev"},n0="wss://api.curvemonitor.com",o0=A({__name:"MEV.page",setup(t){const n=h1(n0),e=new cr(n),o=tn();return o.socket=n,le(()=>{n.connect(),e.getSandwichLabelOccurrences().then(s=>{o.labelRankingExtended=s}),e.getSandwiches().then(s=>{o.sandwiches=s.sandwiches,o.sandwichesPage={cur:1,total:s.totalPages}})}),(s,l)=>(b(),z("div",t0,[h(Vb,{style:{"grid-row":"1","grid-column":"1"}}),h(qb,{style:{"grid-row":"1","grid-column":"2"}}),h(e0,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),a0=P(o0,[["__scopeId","data-v-af19cb5f"]]),s0=["all","ownership","parameter","other"];function rt(t){return t.executed?"executed":t.end>new Date().getTime()/1e3?"active":_r(t)&&mr(t)&&pr(t)?"passed":"denied"}function pr(t){return t.votesFor>t.support*t.quorum*t.totalSupply}function mr(t){return t.votesFor>t.quorum*t.totalSupply}function _r(t){return t.votesFor>t.votesAgainst}const vr=t=>{var g;const n=t.vote_id,e=t.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(g=t.metadata)!=null&&g.startsWith('"')?t.metadata.substring(1):t.metadata??"",s=t.creator.toLocaleLowerCase(),l=t.snapshot_block,c=t.start_date,i=c+604800,r=Be(BigInt(t.min_accept_quorum),18n),d=Be(BigInt(t.support_required),18n),u=t.vote_count,f=Be(BigInt(t.votes_for),18n),m=Be(BigInt(t.votes_against),18n),_=t.executed,v=Be(BigInt(t.total_supply),18n);return{id:n,type:e,metadata:o,proposer:s,block:l,start:c,end:i,quorum:r,support:d,voteCount:u,votesFor:f,votesAgainst:m,executed:_,totalSupply:v}},l0=t=>{const n=vr(t),e=t.script,o=t.votes.map(s=>({voter:s.voter.toLocaleLowerCase(),supports:s.supports,votingPower:Be(BigInt(s.voting_power),18n)}));return{...n,script:e,votes:o}},Da="https://prices.curve.fi";class r0 extends ge{async getProposals(n,e,o,s){const l=await this.fetch(`${Da}/v1/dao/proposals?pagination=10&page=${n}&search_string=${e}&type_filter=${o}&status_filter=${s}`);return{proposals:l.proposals.map(vr),count:l.count}}async getProposal(n,e){const o=await this.fetch(`${Da}/v1/dao/proposals/details/${e}/${n}`);return l0(o)}}const hr=new r0(he());function fr(t,n,e){return Z({queryKey:["curve-proposal",t,n],queryFn:({queryKey:[,o,s]})=>hr.getProposal(o,s),...e&&{enabled:e}})}function i0(t,n,e,o){return Z({queryKey:["curve-proposals",t,o,n,e],queryFn:({queryKey:[,s,l,c,i]})=>hr.getProposals(s,l,c,i),placeholderData:Ht})}const gr=A({__name:"Status",props:{proposal:{}},setup(t){const{t:n}=F(),e=w(()=>{if(rt(t.proposal)==="denied")if(mr(t.proposal))if(_r(t.proposal)){if(!pr(t.proposal))return n("no-support")}else return n("no-win");else return n("no-quorum");return""}),o=w(()=>{switch(rt(t.proposal)){case"active":return n("active");case"denied":return n("denied");case"passed":return n("passed");case"executed":return n("executed");default:return"Unk. Status"}});return(s,l)=>{const c=kt,i=Ce;return b(),I(i,{class:"status","tooltip-type":"underline",label:a(n)("status"),"has-value":!0,tooltip:a(e)},{default:S(()=>[a(e)?(b(),I(c,{key:0},{item:S(()=>[p("span",{class:B(["status-value",a(rt)(s.proposal)])},L(a(o)),3)]),default:S(()=>[K(" "+L(a(e)),1)]),_:1})):(b(),z("span",{key:1,class:B(["status-value",a(rt)(s.proposal)])},L(a(o)),3))]),_:1},8,["label","tooltip"])}}});function Fa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{status:e=>{const{normalize:o}=e;return o(["Status"])},active:e=>{const{normalize:o}=e;return o(["Active"])},denied:e=>{const{normalize:o}=e;return o(["Denied"])},passed:e=>{const{normalize:o}=e;return o(["Passed"])},executed:e=>{const{normalize:o}=e;return o(["Executed"])},"no-quorum":e=>{const{normalize:o}=e;return o(["Quorum was not reached (yes votes need to pass this number)"])},"no-support":e=>{const{normalize:o}=e;return o(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":e=>{const{normalize:o}=e;return o(["More 'against' votes than 'for' votes"])}}})}typeof Fa=="function"&&Fa(gr);const c0=P(gr,[["__scopeId","data-v-9e86fade"]]),br=A({__name:"Type",props:{proposal:{}},setup(t){const{t:n}=F(),e=w(()=>{switch(t.proposal.type){case"ownership":return n("ownership");case"parameter":return n("parameter");case"other":return n("other");default:return"Unk. Type"}});return(o,s)=>{const l=Ce;return b(),I(l,{class:"type",label:a(n)("type"),value:a(e),"has-value":!0},null,8,["label","value"])}}});function Ma(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{type:e=>{const{normalize:o}=e;return o(["Type"])},ownership:e=>{const{normalize:o}=e;return o(["Ownership"])},parameter:e=>{const{normalize:o}=e;return o(["Parameter"])},other:e=>{const{normalize:o}=e;return o(["Other"])}}})}typeof Ma=="function"&&Ma(br);const u0=["href"],yr=A({__name:"Proposer",props:{proposal:{}},setup(t){const{t:n}=F();return(e,o)=>{const s=Ce;return b(),I(s,{class:"proposer",label:a(n)("proposer"),"has-value":!0},{default:S(()=>[p("a",{href:`https://etherscan.io/address/${e.proposal.proposer}`,target:"_blank"},L(a(Pe)(e.proposal.proposer)),9,u0)]),_:1},8,["label"])}}});function xa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{proposer:e=>{const{normalize:o}=e;return o(["Proposer"])}}})}typeof xa=="function"&&xa(yr);const hn=A({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:n}=F();let e;const o=V(""),s=w(()=>{switch(t.type){case"start":return n("start");case"end":return n("end");default:return"Unk. Type"}}),l=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(t.proposal.end*1e3);return r>new Date?o.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});le(()=>{i()});const i=()=>{const r=new Date(t.proposal.end*1e3);e&&clearInterval(e),e=setInterval(()=>{o.value=mc(r)})};return(r,d)=>{const u=Ce;return b(),I(u,{class:"date","tooltip-type":"underline",label:a(s),value:a(l),"has-value":!0,tooltip:a(c)},null,8,["label","value","tooltip"])}}});function Ba(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{start:e=>{const{normalize:o}=e;return o(["Start"])},end:e=>{const{normalize:o}=e;return o(["End"])}}})}typeof Ba=="function"&&Ba(hn);const wr=t=>(de("data-v-88e3f7d0"),t=t(),pe(),t),d0=wr(()=>p("i",{class:"fas fa-link"},null,-1)),p0={class:"metadata"},m0={class:"row"},_0=wr(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),v0=[_0],$r=A({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:n}){const{t:e}=F(),o=n,s=w(()=>`/dao/proposal/${t.proposal.type}/${t.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${t.proposal.type}/${t.proposal.id}`)};return(c,i)=>{const r=Ke("router-link");return b(),z("div",{class:"proposal-summary",onClick:i[0]||(i[0]=d=>o("toggleExpand"))},[p("div",{class:B(["title",{"no-title":!c.proposal.metadata}])},[h(r,{to:a(s),class:"id",onClick:l},{default:S(()=>[d0,K(" "+L(c.proposal.id),1)]),_:1},8,["to"]),p("div",p0,L(c.proposal.metadata||a(e)("no-title")),1)],2),p("div",m0,[h(c0,{class:"item",proposal:c.proposal},null,8,["proposal"]),h(br,{class:"item",proposal:c.proposal},null,8,["proposal"]),h(yr,{class:"item",proposal:c.proposal},null,8,["proposal"]),h(hn,{class:"item",proposal:c.proposal,type:"start"},null,8,["proposal"]),h(hn,{class:"item",proposal:c.proposal,type:"end"},null,8,["proposal"]),p("div",{class:B(["item expander",{expanded:c.expanded}])},v0,2)])])}}});function Oa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"no-title":e=>{const{normalize:o}=e;return o(["< No Title >"])}}})}typeof Oa=="function"&&Oa($r);const h0=P($r,[["__scopeId","data-v-88e3f7d0"]]),vt=t=>(de("data-v-d48830ac"),t=t(),pe(),t),f0={class:"results"},g0={class:"heading"},b0={class:"choice"},y0={class:"label"},w0={class:"amount"},$0={class:"left"},C0=vt(()=>p("span",null," veCRV",-1)),k0={class:"right"},S0=vt(()=>p("span",null,"(",-1)),z0=vt(()=>p("span",null,")",-1)),L0={class:"choice"},T0={class:"label"},A0={class:"amount"},P0={class:"left"},I0=vt(()=>p("span",null," veCRV",-1)),V0={class:"right"},R0=vt(()=>p("span",null,"(",-1)),q0=vt(()=>p("span",null,")",-1)),Ua=4,Cr=A({__name:"VotingResults",props:{proposal:{}},setup(t){const{t:n}=F(),e=w(()=>t.proposal.votesFor+t.proposal.votesAgainst),o=w(()=>t.proposal.votesFor/e.value*100),s=w(()=>t.proposal.votesAgainst/e.value*100);return(l,c)=>{const i=ne;return b(),z("div",f0,[p("div",g0,L(a(n)("results")),1),p("div",b0,[p("div",y0,L(a(n)("for")),1),p("div",w0,[p("div",$0,[h(i,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),C0]),p("div",k0,[S0,h(i,{value:a(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),z0])]),p("div",{class:"bar",style:ke({width:`${Math.max(Ua,a(o))}%`})},null,4)]),p("div",L0,[p("div",T0,L(a(n)("against")),1),p("div",A0,[p("div",P0,[h(i,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),I0]),p("div",V0,[R0,h(i,{value:a(s),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),q0])]),p("div",{class:"bar",style:ke({width:`${Math.max(Ua,a(s))}%`})},null,4)])])}}});function Ea(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{results:e=>{const{normalize:o}=e;return o(["Results"])},for:e=>{const{normalize:o}=e;return o(["For"])},against:e=>{const{normalize:o}=e;return o(["Against"])}}})}typeof Ea=="function"&&Ea(Cr);const D0=P(Cr,[["__scopeId","data-v-d48830ac"]]),F0=t=>(de("data-v-7c213e10"),t=t(),pe(),t),M0={class:"quorum"},x0={class:"heading"},B0={class:"amount"},O0={class:"bar"},U0={class:"percentages"},E0=F0(()=>p("div",{class:"zero"},"0%",-1)),W0={class:"quorum"},kr=A({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:n}=F(),e=w(()=>t.proposal.votesFor),o=w(()=>t.proposal.quorum*t.proposal.totalSupply),s=w(()=>e.value/o.value*100);return(l,c)=>{const i=ne;return b(),z("div",M0,[p("div",x0,L(a(n)("quorum")),1),p("div",B0,[h(i,{value:a(e),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),K(" / "),h(i,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),K(" veCRV ")]),p("div",O0,[p("div",{class:"support",style:ke({width:`${a(s)}%`})},null,4),p("div",{class:"quorum",style:ke({width:`${100-a(s)}%`})},null,4)]),p("div",U0,[E0,p("div",W0,[h(i,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Wa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{quorum:e=>{const{normalize:o}=e;return o(["Quorum"])}}})}typeof Wa=="function"&&Wa(kr);const N0=P(kr,[["__scopeId","data-v-7c213e10"]]),H0=["min","max","value"],K0=A({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(t,{emit:n}){const e=n,o=s=>{e("update:modelValue",s.target.value)};return(s,l)=>(b(),z("input",{type:"range",min:s.min,max:s.max,value:s.modelValue,onInput:o},null,40,H0))}}),Q0=P(K0,[["__scopeId","data-v-d52b357b"]]),j0=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],tt=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],G0={class:"buttons"},X0={class:"vecrv"},Y0={class:"info"},Z0={class:"kpis"},J0={class:"description"},ey={class:"title"},ty={class:"options"},ny={class:"label"},oy={class:"middle"},ay=["contenteditable","textContent"],sy={class:"label"},Sr=A({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:n}=F(),{address:e}=Ct(),o=V(!1),s=V(50),l=V(null),c=V(!1),i=w(()=>{var J;return c.value?`${s.value}.`:s.value===0&&!c.value&&((J=l.value)==null?void 0:J.textContent)!=="0"?"":s.value.toString()}),r=w(()=>(O.value??0n)>0n&&!Me.value&&f.value&&q.value===0),d=w(()=>r.value?"submit":Me.value?"voting":f.value?q.value!==0?"voted":"not-enough-voting-power":"voting-closed"),u=w(()=>Be(O.value??0n,18n)),f=w(()=>rt(t.proposal)==="active"),m=w(()=>rt(t.proposal)==="passed"),_=()=>{const J=window.getSelection();return J&&J.rangeCount>0?J.getRangeAt(0).startOffset:0},v=J=>{if(l.value){const ye=document.createRange();ye.setStart(l.value.firstChild??l.value,J),ye.collapse(!0);const we=window.getSelection();we&&(we.removeAllRanges(),we.addRange(ye))}},g=()=>{s.value=0,l.value&&(l.value.textContent="0")},y=()=>{s.value=100,l.value&&(l.value.textContent="100")},C=J=>{J.target===J.currentTarget&&l.value&&l.value.focus()},k=()=>{if(l.value){const J=l.value.textContent??"",ye=_();if(/^\d*(\.\d*)?$/.test(J))if(c.value=J.endsWith("."),J){const we=parseFloat(J);we>=0&&we<=100?s.value=we:(l.value.textContent=i.value,v(ye-1))}else s.value=0;else l.value.textContent=i.value,v(ye-1)}},$=J=>{s.value=parseFloat(J)},{data:T}=ft({abi:tt,address:Ze,functionName:"token",query:{enabled:o}}),{data:q}=ft({abi:tt,address:Ze,functionName:"getVoterState",args:w(()=>[BigInt(t.proposal.id),e.value]),query:{enabled:w(()=>!!e.value&&o.value),initialData:0,initialDataUpdatedAt:0}}),{data:O}=ft({abi:j0,address:T,functionName:"balanceOfAt",args:w(()=>[e.value,BigInt(t.proposal.block)]),query:{enabled:w(()=>!!T.value&&!!e.value&&o.value),initialData:0n,initialDataUpdatedAt:0}}),{data:R,refetch:E}=ft({abi:tt,address:Ze,functionName:"canExecute",args:[BigInt(t.proposal.id)],query:{enabled:w(()=>m.value&&o.value),initialData:!1,initialDataUpdatedAt:0}}),{data:te}=ft({abi:tt,address:Ze,functionName:"PCT_BASE",query:{enabled:o}}),{data:H,error:X,isPending:ee,writeContract:ie}=Qn(),{isLoading:G,isSuccess:be}=jn({hash:H}),Me=w(()=>ee.value||G.value);function ht(){if(!te.value){an("Missing PCT_BASE");return}const J=BigInt(Math.log10(Number(te.value))),ye=kn(s.value/100,J),we=te.value-ye;ie({abi:tt,address:Ze,functionName:"votePct",args:[BigInt(t.proposal.id),ye,we,!1]})}M(X,J=>{J&&an(J)}),M(be,J=>{J&&Zn("Voted")});const{data:nn,error:Nr,isPending:Hr,writeContract:Kr}=Qn(),{isLoading:Qr,isSuccess:jr}=jn({hash:nn}),Hn=w(()=>Hr.value||Qr.value);function Gr(){Kr({abi:tt,address:Ze,functionName:"executeVote",args:[BigInt(t.proposal.id)]}),E()}return M(Nr,J=>{J&&an(J)}),M(jr,J=>{J&&Zn("Executed proposal")}),(J,ye)=>{const we=Ie,Xr=ne,Kn=Ce,Yr=Q0,Zr=Y,Jr=Ln;return b(),z(ae,null,[p("div",G0,[h(we,{value:a(n)("vote"),primary:!0,onClick:ye[0]||(ye[0]=ei=>o.value=!0)},null,8,["value"]),a(m)?(b(),I(we,{key:0,value:a(n)(a(Hn)?"executing":"execute"),primary:!0,disabled:!a(R)||a(Hn),onClick:Gr},null,8,["value","disabled"])):x("",!0)]),h(Jr,{show:a(o),onClose:ye[1]||(ye[1]=ei=>o.value=!1)},{default:S(()=>[h(Zr,{title:a(n)("vote-with-vecrv"),class:"vote-content"},{default:S(()=>[p("div",X0,[p("div",Y0,[p("div",Z0,[h(Kn,{label:a(n)("voting-power"),"has-value":!0},{default:S(()=>[h(Xr,{value:a(u),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),K(" veCRV ")]),_:1},8,["label"]),h(Kn,{label:a(n)("block"),value:J.proposal.block,"has-value":!0},null,8,["label","value"])]),p("div",J0,[p("span",ey,L(a(n)("description"))+": ",1),p("span",null,L(J.proposal.metadata),1)])]),p("div",ty,[h(we,{class:B(["no",{winning:a(s)<50}]),disabled:!a(r),onClick:g},{default:S(()=>[p("span",ny,L(a(n)("no")),1)]),_:1},8,["class","disabled"]),p("div",oy,[p("i",{class:B(["fas fa-times",{winning:a(s)<50}])},null,2),p("div",{class:B(["value",{disabled:!a(r)}]),onClick:C},[p("span",{ref_key:"editor",ref:l,contenteditable:a(r),onInput:k,textContent:L(a(i))},null,40,ay),K(" % ")],2),p("i",{class:B(["fas fa-check",{winning:a(s)>50}])},null,2)]),h(we,{class:B(["yes",{winning:a(s)>50}]),disabled:!a(r),onClick:y},{default:S(()=>[p("span",sy,L(a(n)("yes")),1)]),_:1},8,["class","disabled"])]),h(Yr,{class:"slider",disabled:!a(r),min:0,max:100,"model-value":a(s),"onUpdate:modelValue":$},null,8,["disabled","model-value"]),h(we,{class:"submit",value:a(n)(a(d)),primary:!0,disabled:!a(r),web3:!0,onClick:ht},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Na(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{vote:e=>{const{normalize:o}=e;return o(["Vote"])},"vote-with-vecrv":e=>{const{normalize:o}=e;return o(["Vote with veCRV"])},voting:e=>{const{normalize:o}=e;return o(["Voting..."])},"voting-closed":e=>{const{normalize:o}=e;return o(["Voting closed"])},voted:e=>{const{normalize:o}=e;return o(["You've already voted"])},description:e=>{const{normalize:o}=e;return o(["Description"])},"voting-power":e=>{const{normalize:o}=e;return o(["Voting power"])},block:e=>{const{normalize:o}=e;return o(["Block"])},yes:e=>{const{normalize:o}=e;return o(["Yes"])},no:e=>{const{normalize:o}=e;return o(["No"])},submit:e=>{const{normalize:o}=e;return o(["Submit"])},"not-enough-voting-power":e=>{const{normalize:o}=e;return o(["Not enough veCRV voting power"])},execute:e=>{const{normalize:o}=e;return o(["Execute"])},executing:e=>{const{normalize:o}=e;return o(["Executing..."])}}})}typeof Na=="function"&&Na(Sr);const ly=P(Sr,[["__scopeId","data-v-c0a63028"]]),ry={class:"voting"},iy=A({__name:"Voting",props:{proposal:{}},setup(t){return(n,e)=>(b(),z("div",ry,[h(N0,{proposal:n.proposal},null,8,["proposal"]),h(D0,{proposal:n.proposal},null,8,["proposal"]),h(ly,{proposal:n.proposal},null,8,["proposal"])]))}}),cy=P(iy,[["__scopeId","data-v-35456808"]]),uy={class:"voters"},dy={class:"for"},py={class:"title"},my={class:"address"},_y=["href"],vy={class:"amount"},hy={class:"percentage"},fy={class:"against"},gy={class:"title"},by={class:"percentage"},yy={class:"amount"},wy={class:"address"},$y=["href"],zr=A({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(t){const{t:n}=F(),{address:e}=Ct(),o=w(()=>t.proposalDetails?D.chain(t.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.votingPower,"desc").value():null),s=w(()=>t.proposalDetails?D.chain(t.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Pe(r,12),c=r=>r/(t.proposal.votesFor+t.proposal.votesAgainst)*100,i=r=>r===e.value;return(r,d)=>{const u=ne;return b(),z("div",uy,[p("div",dy,[p("div",py,L(a(n)("for")),1),(b(!0),z(ae,null,ve(a(o),f=>(b(),z("div",{key:f.voter,class:"vote"},[p("div",my,[p("a",{target:"_blank",href:`https://etherscan.io/address/${f.voter}`,class:B({you:i(f.voter)})},L(l(f.voter)),11,_y)]),p("div",vy,[h(u,{value:f.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",hy,[h(u,{value:c(f.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),p("div",fy,[p("div",gy,L(a(n)("against")),1),(b(!0),z(ae,null,ve(a(s),f=>(b(),z("div",{key:f.voter,class:"vote"},[p("div",by,[h(u,{value:c(f.votingPower),precision:0,type:"percentage"},null,8,["value"])]),p("div",yy,[h(u,{value:f.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",wy,[p("a",{target:"_blank",href:`https://etherscan.io/address/${f.voter}`,class:B({you:i(f.voter)})},L(l(f.voter)),11,$y)])]))),128))])])}}});function Ha(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{for:e=>{const{normalize:o}=e;return o(["For"])},against:e=>{const{normalize:o}=e;return o(["Against"])}}})}typeof Ha=="function"&&Ha(zr);const Cy=P(zr,[["__scopeId","data-v-091c77d3"]]),ky={class:"technicals"},Sy={class:"technical"},zy={class:"heading"},Ly={class:"description"},Ty={class:"technical"},Ay={class:"technical"},Py=["innerHTML"],Lr=A({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){const{t:n}=F(),e=V(!0),o=V(t.proposal.voteCount>0),{data:s}=fr(W(()=>t.proposal.id),W(()=>t.proposal.type),W(()=>t.expanded)),l=w(()=>s.value?D.uniqWith(s.value.votes,(i,r)=>i.voter===r.voter).length:null),c=w(()=>s.value?s.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&$n(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i):null);return(i,r)=>{const d=$t;return b(),z("div",ky,[p("div",Sy,[p("div",zy,L(a(n)("description")),1),p("div",Ly,L(i.proposal.metadata),1)]),p("div",Ty,[p("div",{class:"heading",onClick:r[0]||(r[0]=u=>o.value=!a(o))},[K(L(a(n)("voters"))+" ("+L(a(l)??"?")+") ",1),p("i",{class:B(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),h(d,{expanded:a(o)},{default:S(()=>[a(s)?(b(),I(Cy,{key:0,class:"voters",proposal:i.proposal,"proposal-details":a(s)},null,8,["proposal","proposal-details"])):x("",!0)]),_:1},8,["expanded"])]),p("div",Ay,[p("div",{class:"heading",onClick:r[1]||(r[1]=u=>e.value=!a(e))},[K(L(a(n)("calldata"))+" ",1),p("i",{class:B(["fas fa-chevron-up expander",{expandedCallData:a(e)}])},null,2)]),h(d,{expanded:a(e)},{default:S(()=>[a(s)?(b(),z("div",{key:0,class:"calldata",innerHTML:a(c)},null,8,Py)):x("",!0)]),_:1},8,["expanded"])])])}}});function Ka(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:o}=e;return o(["Description"])},calldata:e=>{const{normalize:o}=e;return o(["Calldata"])},voters:e=>{const{normalize:o}=e;return o(["Voters"])}}})}typeof Ka=="function"&&Ka(Lr);const Iy=P(Lr,[["__scopeId","data-v-bab371f7"]]),Vy={class:"proposal-details"},Ry={class:"proposal-details-container"},qy=A({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(n,e)=>(b(),z("div",Vy,[p("div",Ry,[h(Iy,{proposal:n.proposal,expanded:n.expanded},null,8,["proposal","expanded"]),h(cy,{proposal:n.proposal},null,8,["proposal"])])]))}}),Dy=P(qy,[["__scopeId","data-v-9b919bde"]]),Fy=A({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(t){const n=V(t.initExpanded);return(e,o)=>{const s=$t,l=Y;return b(),I(l,{class:"proposal",compact:!0},{default:S(()=>[h(h0,{proposal:e.proposal,expanded:a(n),onToggleExpand:o[0]||(o[0]=c=>n.value=!a(n))},null,8,["proposal","expanded"]),h(s,{class:"proposal-details-collapsible",expanded:a(n)},{default:S(()=>[h(Dy,{proposal:e.proposal,expanded:a(n)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Tr=P(Fy,[["__scopeId","data-v-f3a8d1b2"]]),My={class:"item"},xy={class:"label"},Ar=A({__name:"ProposalTypeSelect",emits:["select"],setup(t,{emit:n}){const{t:e}=F(),o=[...s0].filter(d=>d!=="other"),s=n,l=V(!1),c=V("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,s("select",c.value)};return(d,u)=>{const f=ut;return b(),I(f,{class:"select",options:a(o).map(m=>m),selected:a(c),open:a(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:S(m=>[p("div",My,[p("div",xy,L(a(e)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function Qa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{all:e=>{const{normalize:o}=e;return o(["All"])},ownership:e=>{const{normalize:o}=e;return o(["Ownership"])},parameter:e=>{const{normalize:o}=e;return o(["Parameter"])},other:e=>{const{normalize:o}=e;return o(["Other"])}}})}typeof Qa=="function"&&Qa(Ar);const By=P(Ar,[["__scopeId","data-v-bba9d6b0"]]),Oy={class:"proposals"},Uy={class:"filters"},Ey={style:{display:"flex",gap:"1rem"}},Wy={class:"proposals-content"},Ny={key:0},Pr=A({__name:"Proposals.page",setup(t){const{t:n}=F(),e=V(0),{page:o,onPage:s}=Fn(),l=Bt(o,200),c=V(n("search-placeholder")),i=V(""),r=Bt(i,300),d=V("all"),u=w(()=>{switch(e.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),f=w(()=>r.value.toLocaleLowerCase()),m=w(()=>{var C;return((C=g.value)==null?void 0:C.count)??0}),_=w(()=>{var C;return D.orderBy(((C=g.value)==null?void 0:C.proposals)??[],k=>k.start,"desc")}),{isFetching:v,data:g}=i0(l,d,u,f),y=C=>{d.value=C};return(C,k)=>{const $=Xe,T=Ge,q=Te,O=je,R=Ue;return b(),z("div",Oy,[h(T,{onTab:k[0]||(k[0]=E=>e.value=E.index)},{default:S(()=>[h($,{header:a(n)("all")},null,8,["header"]),h($,{header:a(n)("active")},null,8,["header"]),h($,{header:a(n)("passed")},null,8,["header"]),h($,{header:a(n)("denied")},null,8,["header"]),h($,{header:a(n)("executed")},null,8,["header"])]),_:1}),p("div",Uy,[h(q,{modelValue:a(i),"onUpdate:modelValue":k[1]||(k[1]=E=>ue(i)?i.value=E:null),class:"search",placeholder:a(c),search:!0},null,8,["modelValue","placeholder"]),p("div",Ey,[h(By,{style:{"flex-grow":"1"},onSelect:y}),h(O,{class:"pagination","items-count":a(m),"items-per-page":10,page:a(o),onPage:a(s)},null,8,["items-count","page","onPage"])])]),p("div",Wy,[(b(!0),z(ae,null,ve(a(_),E=>(b(),I(Tr,{key:E.id,proposal:E,class:B({loading:a(v)})},null,8,["proposal","class"]))),128)),h(O,{class:"pagination","items-count":a(m),"items-per-page":10,page:a(o),onPage:a(s)},null,8,["items-count","page","onPage"]),a(_).length===0?(b(),z("div",Ny,L(a(n)("no-proposals")),1)):x("",!0),h(R,{class:B(["spinner",{loading:a(v)}])},null,8,["class"])])])}}});function ja(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:o}=e;return o(["Search for Curve proposals"])},"no-proposals":e=>{const{normalize:o}=e;return o(["No proposals could be found."])},all:e=>{const{normalize:o}=e;return o(["All"])},active:e=>{const{normalize:o}=e;return o(["Active"])},passed:e=>{const{normalize:o}=e;return o(["Passed"])},denied:e=>{const{normalize:o}=e;return o(["Denied"])},executed:e=>{const{normalize:o}=e;return o(["Executed"])}}})}typeof ja=="function"&&ja(Pr);const Hy=P(Pr,[["__scopeId","data-v-288924ec"]]),Ky={class:"proposal-container"},Qy=A({__name:"Proposal.page",setup(t){const n=$e("proposalId",0,{transform:Number}),e=$e("proposalType"),{isFetching:o,data:s}=fr(n,e);return(l,c)=>{const i=Ue;return b(),z("div",Ky,[h(i,{class:B(["spinner",{loading:a(o)}])},null,8,["class"]),!a(o)&&a(s)?(b(),I(Tr,{key:0,proposal:a(s),"init-expanded":!0},null,8,["proposal"])):x("",!0)])}}}),jy=P(Qy,[["__scopeId","data-v-b5eb5204"]]),Gy=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],Xy={class:"form"},Yy={class:"field"},Zy={class:"label"},Jy={class:"value"},e2={class:"field"},t2={class:"label"},n2={class:"value"},Ir=A({__name:"DeployGauge",emits:["gauge"],setup(t,{emit:n}){const{t:e}=F(),o=n,s=V(!1),l=V(""),c=V(0),i=w(()=>zn),r=w(()=>$n(l.value.toLocaleLowerCase())&&c.value>0),d=Cn();async function u(){if(!l.value||!c.value)return;const f=l.value.toLocaleLowerCase();typeof c.value=="string"&&(c.value=parseFloat(c.value));const m=kn(c.value,18n);return $s(s,async()=>{const{result:_,request:v}=await Di(d,{abi:Gy,address:gs,functionName:"deploy_gauge",args:[f,m]}),g=await _s(d,v);await vs(d,{hash:g}),o("gauge",_)})}return(f,m)=>{const _=Te,v=ol,g=Ie,y=Y;return b(),I(y,{class:"add-new",title:"Gauge Creation"},{default:S(()=>[p("div",Xy,[p("div",Yy,[p("div",Zy,L(a(e)("receiver"))+":",1),p("div",Jy,[h(_,{modelValue:a(l),"onUpdate:modelValue":m[0]||(m[0]=C=>ue(l)?l.value=C:null),placeholder:a(i)},null,8,["modelValue","placeholder"])])]),p("div",e2,[p("div",t2,L(a(e)("amount"))+":",1),p("div",n2,[h(v,{modelValue:a(c),"onUpdate:modelValue":m[1]||(m[1]=C=>ue(c)?c.value=C:null),min:1,max:3303030299},null,8,["modelValue"])])])]),h(g,{class:"action-button request",value:a(e)("submit"),disabled:!a(r)||a(s),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function Ga(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{receiver:e=>{const{normalize:o}=e;return o(["Receiver"])},amount:e=>{const{normalize:o}=e;return o(["CRV Amount (Max)"])},submit:e=>{const{normalize:o}=e;return o(["Create Fundraising Gauge"])}}})}typeof Ga=="function"&&Ga(Ir);const o2=P(Ir,[["__scopeId","data-v-a94db599"]]),a2=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],s2=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],l2=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],r2={class:"form"},i2={class:"field"},c2={class:"label"},u2={class:"value"},d2={class:"field"},p2={class:"label"},m2={class:"value"},Vr=A({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(t,{emit:n}){const{t:e}=F(),o=n,s=V(!1),l=V(""),c=V(e("placeholder")),i=w(()=>zn),r=w(()=>$n(l.value)&&!!c.value),d=w(()=>r.value&&!s.value);M(()=>t.gauge,_=>{l.value=_.toLocaleLowerCase()});async function u(){if(l.value)return $s(s,async()=>{await m(),o("request")})}const f=Cn();async function m(){const _="0xe478de485ad2fe566d49342cbd03e49ed7db3356",v="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",g=(X,ee)=>String(X).padStart(ee,"0"),y=Gn({abi:l2,functionName:"add_gauge",args:[l.value,10n,0n]});let C="0x00000001";const k=Gn({abi:a2,functionName:"execute",args:[bs,0n,y]}).substring(2),$=g((Math.floor(k.length)/2).toString(16),8);C=`${C}${v.substring(2)}${$}${k}`;const T=new FormData,O={text:c.value.replace(/(\r\n|\n|\r)/gm,"")};T.append("file",JSON.stringify(O));const te=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:T})).json()).Hash,H=await _s(f,{abi:s2,address:_,functionName:"newVote",args:[C,`ipfs:${te}`,!1,!1]});await vs(f,{hash:H})}return(_,v)=>{const g=Te,y=Ie,C=Y;return b(),I(C,{class:"add-new",title:"Gauge Addition Vote"},{default:S(()=>[p("div",r2,[p("div",i2,[p("div",c2,L(a(e)("gauge"))+":",1),p("div",u2,[h(g,{modelValue:a(l),"onUpdate:modelValue":v[0]||(v[0]=k=>ue(l)?l.value=k:null),placeholder:a(i)},null,8,["modelValue","placeholder"])])]),p("div",d2,[p("div",p2,L(a(e)("description"))+":",1),p("div",m2,[h(g,{modelValue:a(c),"onUpdate:modelValue":v[1]||(v[1]=k=>ue(c)?c.value=k:null)},null,8,["modelValue"])])])]),h(y,{class:"action-button request",value:a(e)("submit"),disabled:!a(d),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function Xa(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{gauge:e=>{const{normalize:o}=e;return o(["Gauge Address"])},description:e=>{const{normalize:o}=e;return o(["Vote Description"])},placeholder:e=>{const{normalize:o}=e;return o(["Add a grant gauge: "])},submit:e=>{const{normalize:o}=e;return o(["Create Gauge Addition Vote"])}}})}typeof Xa=="function"&&Xa(Vr);const _2=P(Vr,[["__scopeId","data-v-77756e09"]]),v2={class:"ve-funder"},h2={class:"explanation"},f2={class:"step-one"},g2=["innerHTML"],b2=["innerHTML"],y2={class:"step-two"},w2=["innerHTML"],$2={href:"https://gov.curve.fi/",target:"_blank"},C2={class:"forms"},Rr=A({__name:"VeFunder.page",setup(t){const{t:n}=F(),e=V(""),o=s=>{e.value=s};return(s,l)=>{const c=Y;return b(),z("div",v2,[p("div",h2,[h(c,null,{default:S(()=>[p("div",f2,[p("span",{innerHTML:a(n)("process")},null,8,g2),p("ol",null,[p("li",null,L(a(n)("process-1")),1),p("li",{innerHTML:a(n)("process-2")},null,8,b2)])]),p("div",y2,[p("span",{innerHTML:a(n)("requirements")},null,8,w2),p("ol",null,[p("li",null,[K(L(a(n)("requirements-1a"))+" ",1),p("a",$2,L(a(n)("requirements-1b")),1)]),p("li",null,L(a(n)("requirements-2")),1)])])]),_:1})]),p("div",C2,[h(o2,{onGauge:o}),h(_2,{gauge:a(e)},null,8,["gauge"])])])}}});function Ya(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{process:e=>{const{normalize:o}=e;return o(["<strong>veFunder</strong> process:"])},"process-1":e=>{const{normalize:o}=e;return o(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":e=>{const{normalize:o}=e;return o(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:e=>{const{normalize:o}=e;return o(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":e=>{const{normalize:o}=e;return o(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":e=>{const{normalize:o}=e;return o(["at this address"])},"requirements-2":e=>{const{normalize:o}=e;return o(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Ya=="function"&&Ya(Rr);const k2=P(Rr,[["__scopeId","data-v-c1bad79e"]]),S2="/assets/header--BhHUuM7.png",z2={},L2=t=>(de("data-v-80c6610f"),t=t(),pe(),t),T2={class:"header"},A2=L2(()=>p("img",{class:"header-image",src:S2},null,-1)),P2=[A2];function I2(t,n){return b(),z("div",T2,P2)}const V2=P(z2,[["render",I2],["__scopeId","data-v-80c6610f"]]),R2={class:"general"},q2=["innerHTML"],qr=A({__name:"General",props:{model:{}},setup(t){const{t:n}=F(),e=w(()=>{var r;return(r=t.model)==null?void 0:r.crvLockedDollars}),o=w(()=>{var r;return(r=t.model)==null?void 0:r.crvLockedDollarsMonthly}),s=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxTvl}),l=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxVotingPercentage}),c=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxMarketCap}),i=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxMarketCapFullyDiluted});return(r,d)=>{const u=ne;return b(),z("div",R2,[p("div",{class:"title",innerHTML:a(n)("description")},null,8,q2),p("ul",null,[p("li",null,[h(u,{value:a(e),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("locked-1"))+" ",1),h(u,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("locked-2")),1)]),p("li",null,[h(u,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("locked-2"))+" ",1),h(u,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),K(" "+L(a(n)("locked-3")),1)]),p("li",null,[K(L(a(n)("mcap-1"))+" ",1),h(u,{value:a(c),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("mcap-2"))+" ",1),h(u,{value:a(i),precision:0,type:"dollar"},null,8,["value"]),K(". ")])])])}}});function Za(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:o}=e;return o(["Total locked value, incentives &amp; market cap"])},"locked-1":e=>{const{normalize:o}=e;return o(["worth of CRV permanently locked in its contract, and is continuing to see a rate of about"])},"locked-2":e=>{const{normalize:o}=e;return o(["worth of CRV permanently locked in its contract per month."])},"locked-3":e=>{const{normalize:o}=e;return o(["of the voting power of Curve."])},"tvl-1":e=>{const{normalize:o}=e;return o(["Convex currently has about"])},"tvl-2":e=>{const{normalize:o}=e;return o(["TVL and controls close to"])},"tvl-3":e=>{const{normalize:o}=e;return o(["of the voting power of Curve."])},"mcap-1":e=>{const{normalize:o}=e;return o(["Convex's market cap is just"])},"mcap-2":e=>{const{normalize:o}=e;return o(["with a fully diluted valuation of"])}}})}typeof Za=="function"&&Za(qr);const D2=P(qr,[["__scopeId","data-v-c68342f5"]]),F2={class:"bribes"},M2={class:"title"},Dr=A({__name:"Bribes",props:{model:{}},setup(t){const{t:n}=F(),e=w(()=>{var s;return(s=t.model)==null?void 0:s.bribesIncomeAnnually}),o=w(()=>{var s;return(s=t.model)==null?void 0:s.bribesIncomeBiWeekly});return(s,l)=>{const c=ne;return b(),z("div",F2,[p("div",M2,L(a(n)("incentives")),1),p("ul",null,[p("li",null,L(a(n)("description")),1),p("li",null,[K(L(a(n)("annual-1"))+" ",1),h(c,{value:a(e),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("annual-2")),1)]),p("li",null,[K(L(a(n)("biweek-1"))+" ",1),h(c,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),K(" "+L(a(n)("biweek-2")),1)])])])}}});function Ja(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{incentives:e=>{const{normalize:o}=e;return o(["Incentives"])},description:e=>{const{normalize:o}=e;return o(["CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."])},"annual-1":e=>{const{normalize:o}=e;return o(["CVX holders will potentially earn over"])},"annual-2":e=>{const{normalize:o}=e;return o(["in incentives over a 1 year period."])},"biweek-1":e=>{const{normalize:o}=e;return o(["Incentives to CVX holders are very likely to reach"])},"biweek-2":e=>{const{normalize:o}=e;return o(["biweekly in the coming weeks (based on total rewards paid by Votium app)"])}}})}typeof Ja=="function"&&Ja(Dr);const x2=P(Dr,[["__scopeId","data-v-6ddf569b"]]),B2="/assets/cvx-PJG1_7yb.png",O2="/assets/cvxcrv-B_jSbKBn.png",Fr=t=>(de("data-v-619f3db5"),t=t(),pe(),t),U2={class:"farm"},E2={class:"title"},W2={class:"values"},N2={class:"cvx"},H2={class:"content"},K2={class:"value"},Q2={class:"description"},j2=Fr(()=>p("img",{class:"logo",src:B2},null,-1)),G2={class:"crv"},X2=Fr(()=>p("img",{class:"logo",src:O2},null,-1)),Y2={class:"content"},Z2={class:"value"},J2={class:"description"},Mr=A({__name:"Farm",props:{model:{}},setup(t){const{t:n}=F(),e=new ys(he()),{address:o}=Ct(),s=Cn(),l=V(void 0),c=w(()=>{var i;return(i=t.model)==null?void 0:i.cvxApr});return M(o,async()=>{const i=Fi(s);if(!i)throw Error("Cannot create public viem client");const d=(await $c(i,e)).reduce((u,f)=>u+f,0)/2;l.value=d*100},{immediate:!0}),(i,r)=>{const d=ne;return b(),z("div",U2,[p("div",E2,L(a(n)("income")),1),p("div",W2,[p("div",N2,[p("div",H2,[p("span",K2,[h(d,{value:a(c),precision:0,type:"percentage"},null,8,["value"]),K(" "+L(a(n)("apr")),1)]),p("span",Q2,[K(L(a(n)("apr-1"))+" ",1),h(d,{value:a(c),precision:0,type:"percentage"},null,8,["value"]),K(" "+L(a(n)("apr-2")),1)])]),j2]),p("div",G2,[X2,p("div",Y2,[p("span",Z2,[h(d,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),K(" "+L(a(n)("apr")),1)]),p("span",J2,[K(L(a(n)("staked"))+" ",1),h(d,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),K(" "+L(a(n)("apr"))+". ",1)])])])])])}}});function es(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{income:e=>{const{normalize:o}=e;return o(["Income"])},apr:e=>{const{normalize:o}=e;return o(["APR"])},"apr-1":e=>{const{normalize:o}=e;return o(["Locked CVX earns"])},"apr-2":e=>{const{normalize:o}=e;return o(["APR with incentives."])},staked:e=>{const{normalize:o}=e;return o(["Staked cvxCRV earns"])}}})}typeof es=="function"&&es(Mr);const ew=P(Mr,[["__scopeId","data-v-619f3db5"]]);class tw extends ge{async getConvex(){return this.fetch(`${this.host}/dashboard`,{id:"flyer-convex"})}async getAura(){return this.fetch(`${this.host}/dashboard`,{id:"flyer-aura"})}}const nw={class:"flyer"},ow={class:"flyer-items"},aw=A({__name:"Flyer.page",setup(t){const n=new tw(he()),e=V(null);return le(async()=>{const o=await yt(n.getConvex());o.success&&o.dashboard&&(e.value=o.dashboard)}),(o,s)=>(b(),z("div",nw,[p("div",ow,[h(V2),h(ew,{model:a(e)},null,8,["model"]),h(D2,{model:a(e)},null,8,["model"]),h(x2,{model:a(e)},null,8,["model"])])]))}}),sw=P(aw,[["__scopeId","data-v-f29726e8"]]),lw={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},rw={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},De=Qe("convexStore",()=>{const t=V([]),n=V({}),e=V(lw),o=V([rw]);function s(l,c){n.value[l.name]=c}return{pools:t,snapshots:n,revenue:e,historicalRevenue:o,setSnapshots:s}});function iw(t){return t.baseApr+t.crvApr+t.cvxApr+t.extraRewardsApr}const xr=A({__name:"ChartApr",props:{poolSelected:{}},setup(t){const{t:n}=F(),e=De(),{theme:o}=U(N()),s=w(()=>t.poolSelected?e.snapshots[t.poolSelected.name]??[]:[]),l=w(()=>re(o.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].snapshot;return[`<div><b>${n("base")}</b>:</div><div>${i(d.baseApr)}</div>`,`<div><b>${n("crv")}</b>:</div><div>${i(d.crvApr)}</div>`,`<div><b>${n("cvx")}</b>:</div><div>${i(d.cvxApr)}</div>`,`<div><b>${n("extra")}</b>:</div><div>${i(d.extraRewardsApr)}</div>`].join("")}}})),c=w(()=>[{name:"APR",data:s.value.map(r=>({x:r.timeStamp*1e3,y:iw(r),snapshot:r}))}]),i=r=>(r*=100,`${j(r,1,"percentage")}${Q(r,"percentage")}`);return(r,d)=>{const u=me;return b(),I(u,{class:"apr",title:a(n)("title"),options:a(l),series:a(c)},null,8,["title","options","series"])}}});function ts(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Annual Percentage Rate"])},base:e=>{const{normalize:o}=e;return o(["Base"])},crv:e=>{const{normalize:o}=e;return o(["CRV"])},cvx:e=>{const{normalize:o}=e;return o(["CVX"])},exta:e=>{const{normalize:o}=e;return o(["Extra"])}}})}typeof ts=="function"&&ts(xr);const cw=P(xr,[["__scopeId","data-v-540dd1a5"]]),Br=A({__name:"ChartTvl",props:{poolSelected:{}},setup(t){const{t:n}=F(),e=De(),{theme:o}=U(N()),s=w(()=>t.poolSelected?e.snapshots[t.poolSelected.name]??[]:[]),l=w(()=>re(o.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].y;return`<div><b>${n("tvl")}</b>:</div><div>${i(d)}</div>`}}})),c=w(()=>[{name:"tvl",data:s.value.map(r=>({x:r.timeStamp*1e3,y:r.tvl}))}]),i=r=>`$${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return b(),I(u,{class:"tvl",title:a(n)("title"),options:a(l),series:a(c)},null,8,["title","options","series"])}}});function ns(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Total Value Locked"])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])}}})}typeof ns=="function"&&ns(Br);const uw=P(Br,[["__scopeId","data-v-943cb8a5"]]);function os(t){return t.baseApr+t.crvApr+t.cvxApr+t.extraRewardsApr}const dw={class:"title"},pw={class:"number"},mw={class:"number"},_w={key:0,class:"charts"},Or=A({__name:"TablePools",props:{expanded:{default:()=>[]}},setup(t){const{t:n}=F(),e=De(),{sortColumn:o,sortColumns:s,sortColumnsNoEmpty:l,sortOrder:c,onSort:i}=qn(["","name","apr","tvl"],"tvl"),r=w(()=>D.orderBy(e.pools.filter(d=>!_c(d.name)),d=>{switch(o.value){case"name":return Fe(d.name);case"apr":return os(d);case"tvl":return d.tvl;default:return d.tvl}},c.value));return(d,u)=>{const f=ne,m=fe;return b(),I(m,{class:"datatable-pools","columns-header":"1fr","columns-data":"pools-columns-data",rows:a(r),columns:["",a(n)("name"),a(n)("apr"),a(n)("tvl")],sorting:!0,"sorting-columns":a(s),"sorting-columns-enabled":a(l),"sorting-default-column":"tvl","sorting-default-dir":"desc",expanded:d.expanded,onSortColumn:a(i)},{"header-content":S(()=>[p("div",dw,L(a(n)("title")),1)]),row:S(_=>[p("div",null,L(a(Fe)(_.item.name)),1),p("div",pw,[h(f,{value:a(os)(_.item)*100,precision:1,type:"percentage"},null,8,["value"])]),p("div",mw,[h(f,{value:_.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":S(_=>[d.expanded.includes(_.item)?(b(),z("div",_w,[h(a(uw),{class:"tvl","pool-selected":_.item},null,8,["pool-selected"]),h(a(cw),{class:"apr","pool-selected":_.item},null,8,["pool-selected"])])):x("",!0)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","expanded","onSortColumn"])}}});function as(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:o}=e;return o(["Convex Pools"])},name:e=>{const{normalize:o}=e;return o(["Name"])},tvl:e=>{const{normalize:o}=e;return o(["TVL"])},apr:e=>{const{normalize:o}=e;return o(["APR"])}}})}typeof as=="function"&&as(Or);const vw=P(Or,[["__scopeId","data-v-55dfc7bf"]]);class hw extends ge{async get(){return this.fetch(`${this.host}/pool`)}}class fw extends ge{async get(n){return this.fetch(`${this.host}/poolsnapshots`,{pool:n.name})}}const gw={class:"pools"},bw={class:"dashboard"},yw=A({__name:"Pools.page",setup(t){let n=!1;const e=new hw(he()),o=new fw(he()),s=De(),l=$e("pool"),c=Oe(),{expanded:i,toggleExpansion:r}=xn();le(async()=>{n=!0;const m=await yt(e.get());if(m){const _=m.pools;if(_.sort((v,g)=>g.tvl-v.tvl),s.pools=_.filter(v=>v.tvl>1e3),!n)return;l.value&&u(l.value)}}),yn(()=>{n=!1});const d=async m=>{if(!m||s.snapshots[m.name])return;const _=await yt(o.get(m),500);if(_){const v=_.data.snapshots;s.setSnapshots(m,v)}},u=m=>{const _=Sn(m),v=s.pools.find(g=>g.name===_);v&&r(v)&&d(v)},f=async m=>{r(m)&&(d(m),await c.push({name:"convexpools",params:{pool:Fe(m.name)}}))};return(m,_)=>(b(),z("div",gw,[p("div",bw,[h(vw,{class:"datatable-pools",expanded:a(i),onSelected:f},null,8,["expanded"])])]))}}),ww=P(yw,[["__scopeId","data-v-3ab3ee7a"]]),$w="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",Cw="https://api-py.llama.airforce/convex/v1/platform/revenue";class kw extends ge{get(){return this.fetch(Cw).then(n=>n.revenue[0])}}class Sw extends ge{get(){return this.fetch($w).then(n=>n.revenue)}}const zw=A({__name:"RevenueSources",setup(t){const n=De(),{theme:e}=U(N()),o=w(()=>[{source:"CRV",value:n.revenue.totalCrvRevenue},{source:"3CRV",value:n.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:n.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:n.revenue.totalOtherRevenue},{source:"Bribes",value:n.revenue.totalBribeRevenue}]),s=w(()=>{const{colors:i}=e.value;return re(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(r){return Math.round(r).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[i.blue,i.green,i.purple,i.yellow,i.red],labels:o.value.map(r=>r.source)})}),l=w(()=>o.value.map(i=>i.value)),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"breakdown-revenue",options:a(s),series:a(l)},null,8,["options","series"])}}}),Lw=A({__name:"LPRevenue",setup(t){const n=De(),{theme:e}=U(N()),o=w(()=>[{name:"CRV",data:n.historicalRevenue.map(i=>i.crvRevenueToLpProvidersAmount)},{name:"CVX",data:n.historicalRevenue.map(i=>i.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:n.historicalRevenue.map(i=>i.fxsRevenueToLpProvidersAmount)}]),s=w(()=>n.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return re(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"lp-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Tw=A({__name:"HolderRevenue",setup(t){const n=De(),{theme:e}=U(N()),o=w(()=>[{name:"CRV",data:n.historicalRevenue.map(i=>i.crvRevenueToCvxStakersAmount)},{name:"FXS",data:n.historicalRevenue.map(i=>i.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:n.historicalRevenue.map(i=>i.bribeRevenue)}]),s=w(()=>n.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return re(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.red],labels:o.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"holder-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Aw=A({__name:"HistoricalRevenue",setup(t){const n=De(),{theme:e}=U(N()),o=w(()=>[{name:"CRV",data:n.historicalRevenue.map(i=>i.totalCrvRevenue)},{name:"FXS",data:n.historicalRevenue.map(i=>i.totalFxsRevenue)},{name:"3CRV",data:n.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:n.historicalRevenue.map(i=>i.bribeRevenue)},{name:"Others",data:n.historicalRevenue.map(i=>i.otherRevenue)}]),s=w(()=>n.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return re(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.green,i.red,i.yellow],labels:o.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"historical-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Pw=A({__name:"LiquidRevenue",setup(t){const n=De(),{theme:e}=U(N()),o=w(()=>[{name:"CRV",data:n.historicalRevenue.map(i=>i.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:n.historicalRevenue.map(i=>i.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:n.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:n.historicalRevenue.map(i=>i.fxsRevenueToCvxFxsStakersAmount)}]),s=w(()=>n.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return re(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.green,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return b(),I(d,{class:"liquid-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Iw={class:"summary"},Ur=A({__name:"Summary",setup(t){const{t:n}=F(),e=De(),o=w(()=>e.revenue.totalBribeRevenue+e.revenue.totalThreeCrvRevenueToCvxCrvStakers+e.revenue.totalCrvRevenue+e.revenue.totalFxsRevenue+e.revenue.totalOtherRevenue),s=w(()=>e.revenue.totalCrvRevenueToLpProviders+e.revenue.totalFxsRevenueToLpProviders+e.revenue.totalCvxRevenueToLpProviders),l=w(()=>e.revenue.totalCrvRevenueToPlatform+e.revenue.totalFxsRevenueToPlatform+e.revenue.totalFxsRevenueToCallers+e.revenue.totalOtherRevenue),c=w(()=>e.revenue.totalBribeRevenue+e.revenue.totalCrvRevenueToCvxStakers+e.revenue.totalFxsRevenueToCvxStakers),i=w(()=>e.revenue.totalCrvRevenueToCvxCrvStakers+e.revenue.totalCvxRevenueToCvxCrvStakers+e.revenue.totalFxsRevenueToCvxFxsStakers+e.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(r,d)=>{const u=ne,f=Ce;return b(),z("div",Iw,[h(f,{class:"all-time-revenue",label:a(n)("all-time-revenue"),"has-value":!!a(o)},{default:S(()=>[h(u,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(f,{class:"lp-revenue",label:a(n)("lp-revenue"),"has-value":!!a(s)},{default:S(()=>[h(u,{value:a(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(f,{class:"holder",label:a(n)("holder-revenue"),"has-value":!!a(c)},{default:S(()=>[h(u,{value:a(c),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(f,{class:"liquid-revenue",label:a(n)("liquid-revenue"),"has-value":!!a(i)},{default:S(()=>[h(u,{value:a(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(f,{class:"protocol-revenue",label:a(n)("protocol-revenue"),"has-value":!!a(l)},{default:S(()=>[h(u,{value:a(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function ss(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"all-time-revenue":e=>{const{normalize:o}=e;return o(["All time total revenue"])},"lp-revenue":e=>{const{normalize:o}=e;return o(["Revenue for LPs (incl. CVX emissions)"])},"protocol-revenue":e=>{const{normalize:o}=e;return o(["Revenue directed to Convex treasury"])},"holder-revenue":e=>{const{normalize:o}=e;return o(["Revenue for CVX lockers"])},"liquid-revenue":e=>{const{normalize:o}=e;return o(["Revenue for liquid lockers (cvxCRV, cvxFXS)"])}}})}typeof ss=="function"&&ss(Ur);const Vw=P(Ur,[["__scopeId","data-v-12aa5999"]]),Rw={class:"revenue"},qw={class:"revenue-charts"},Er=A({__name:"Revenue.page",setup(t){const{t:n}=F(),e=new kw(he()),o=new Sw(he());let s=!1;const l=De(),c=V(!1);return cs(async()=>{if(s)return;s=!0,c.value=!0;const i=await e.get();i&&(l.revenue=i);const r=await o.get();r&&(l.historicalRevenue=r),c.value=!1,s=!1}),yn(()=>{s=!1}),(i,r)=>{const d=Ue;return b(),z("div",Rw,[p("div",{class:B(["dashboard",{loading:a(c)}])},[a(c)?(b(),I(d,{key:0,class:"spinner"})):x("",!0),p("div",qw,[h(Vw,{class:"summary"}),h(zw,{class:"chart-revenue-sources",title:a(n)("revenue-breakdown")},null,8,["title"]),h(Aw,{class:"chart-historical-revenue",title:a(n)("revenue-historical")},null,8,["title"]),h(Lw,{class:"chart-lp-revenue",title:a(n)("revenue-lp")},null,8,["title"]),h(Tw,{class:"chart-holder-revenue",title:a(n)("revenue-holder")},null,8,["title"]),h(Pw,{class:"chart-liquid-revenue",title:a(n)("revenue-liquid")},null,8,["title"])])],2)])}}});function ls(t){const n=t;n.__i18n=n.__i18n||[],n.__i18n.push({locale:"en",resource:{"revenue-breakdown":e=>{const{normalize:o}=e;return o(["Breakdown of total revenue by source"])},"revenue-lp":e=>{const{normalize:o}=e;return o(["Liquidity providers rewards breakdown"])},"revenue-holder":e=>{const{normalize:o}=e;return o(["CVX holders rewards breakdown"])},"revenue-historical":e=>{const{normalize:o}=e;return o(["Historical total revenue breakdown"])},"revenue-liquid":e=>{const{normalize:o}=e;return o(["Liquid lockers rewards breakdown"])}}})}typeof ls=="function"&&ls(Er);const Dw=P(Er,[["__scopeId","data-v-847cd7e6"]]),Fw=[{path:"/",component:cm},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:Gm},{path:"/platform/pools/:chain?",name:"pools",component:C_},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:j_},{path:"/platform/gauges/old",component:sv},{path:"/platform/revenue/:tab?",name:"revenue",component:Mv},{path:"/platform/crvusd",name:"crvusd",component:Bh},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:eg},{path:"/platform/lending/:chain?",name:"llamalend",component:Sg},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:l1},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Pb},{path:"/pool/mev",component:a0},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:Hy},{path:"/dao/proposal/:proposalType/:proposalId",component:jy},{path:"/dao/vefunder",component:k2},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:sw},{path:"/convex/pools/:pool?",name:"convexpools",component:ww},{path:"/convex/revenue",name:"convexrevenue",component:Dw}],Mw={titleRoute:"/",menuItems:[{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]},Nn=Mi(nd),xw=xi({legacy:!1,locale:"en",fallbackLocale:"en"});Nn.use(xw);const Bw=Bi();Nn.use(Bw);const Ow=[Mw],Uw=[Fw],Wr=An();Wr.pages=Ow;Wr.routes=Uw;const Ew=new Oi({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ui}},queryCache:new Ei({onError:(t,n)=>{t.message.includes("Connector not connected")||t.message.includes("connector2.getAccounts is not a function")||t.message.includes("w.getAccounts is not a function")||Ut({text:`Failed querying ${n.queryHash} >>> ${t.message}`,type:"error"})}})}),Ww=qd();Nn.use(Ww).use(Wi).use(Ni,{queryClient:Ew}).use(Hi).use(Ki,{config:Dd}).mount("#app");

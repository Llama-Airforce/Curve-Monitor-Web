import{t as s,f as o,g as r}from"./timestamp-CoE2HNXc.js";import{u as n}from"./useQuery-CXlEW_Q7.js";import{f as l,u as i}from"./index-BBOHFnXS.js";const p=e=>({day:s(e.day),amount:BigInt(e.amount)}),y=e=>({timestamp:s(e.dt),amount:BigInt(Math.round(parseFloat(e.amount))),unlockTime:s(e.unlock_time),lockType:e.lock_type,lockedBalance:BigInt(Math.round(parseFloat(e.locked_balance))),txHash:e.transaction_hash}),d=e=>({timestamp:s(e.dt),veCrvTotal:BigInt(e.total_vecrv),crvEscrowed:BigInt(e.escrowed_crv),crvSupply:BigInt(e.crv_supply),circulatingSupply:BigInt(e.circulating_supply),lockedSupplyDetails:e.locked_supply_details.map(t=>({address:t.address,label:t.label,locked:BigInt(t.locked)})),blockNumber:e.block_number,txHash:e.transaction_hash}),k=e=>({user:e.user,locked:BigInt(Math.round(parseFloat(e.locked))),weight:BigInt(Math.round(parseFloat(e.weight))),weightRatio:parseFloat(e.weight_ratio.slice(0,-1)),unlockTime:s(e.unlock_time)});async function m(e,t){const a=r(t);return(await o(`${a}/v1/dao/locks/daily/${e}`)).locks.map(p)}async function g(e,t){const a=r(t);return(await o(`${a}/v1/dao/locks/${e}`)).locks.map(y)}async function h(e,t){const a=r(t);return(await o(`${a}/v1/dao/lockers/${e}`)).users.map(k)}async function f(e,t){const a=r(t);return(await o(`${a}/v1/dao/supply/${e}`)).supply.map(d)}function c(){return{initialData:[],initialDataUpdatedAt:0}}function w(e=30){return n({queryKey:["dao-locks-daily",e],queryFn:()=>m(e),...c()})}function I(e){return n({queryKey:["dao-locks-user",l(()=>e.value)],queryFn:({queryKey:[,t]})=>g(t),enabled:l(()=>!!e.value),...c()})}function b(e=20){return n({queryKey:["dao-lockers",e],queryFn:()=>h(e),...c()})}function q(e=30){const t=l(()=>i(e));return n({queryKey:["dao-supply",t],queryFn:()=>f(t.value),...c()})}export{q as a,b,w as c,I as u};

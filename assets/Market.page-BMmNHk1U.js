import{_ as le,a as se}from"./TabItem.vue_vue_type_script_setup_true_lang-lNcA9AQG.js";import{d as C,T as I,U as E,f,V as z,h as $,o as b,_ as U,w as p,a as v,b as t,j as R,u as e,g as w,r as V,c as S,e as D,t as F,W as O,S as ee,a5 as oe,a6 as ne,N as re,R as ie,a3 as j}from"./index-BRHGtWW5.js";import{e as P,c as ce}from"./llamalend-uSQOWZqY.js";import{c as de,d as ue,b as me,a as pe,f as he,e as ve,T as _e,_ as ge,g as fe,h as ye,i as ke,k as be,l as we,m as $e,j as Le,u as Ce,n as Te,o as qe,C as Be,p as Ve,q as Ae}from"./TableTrades-hk5zdZYS.js";import"./ChartStylesApex-BGFRTrIl.js";import{a as Fe,_ as G}from"./KPI-DJo4Go3U.js";import{_ as J}from"./AsyncValue-DZNACt7t.js";import{u as Q,a as N,_ as K,b as H,e as We,G as W,k as Se}from"./UseLightweightChart-Dk4DQG1S.js";import{r as M,u as Y}from"./Number-DOcbo0kk.js";import{t as Ue}from"./util-M70Hx2OY.js";import{u as X,_ as Z}from"./UseLegend-BAMsr6sp.js";import{_ as De}from"./ButtonToggle-CIy7tlMh.js";import{_ as ae,a as Pe}from"./Table-cwMxYDg5.js";import{L as te}from"./link-BJ7W58xK.js";import{_ as Oe}from"./TokenIcon-KT8hicP-.js";import{a as x}from"./index-DYfLpxFS.js";import{u as Re}from"./UseTabNavigation-IChH235n.js";import"./timestamp-CoE2HNXc.js";import"./useQuery-Dyjqso2z.js";import"./UsePagination-BTOc5j1K.js";import"./UseRelativeTime-DNZyfopG.js";import"./Object-DOSYkgA0.js";const Me={style:{display:"flex","align-items":"center"}},Ie={ref:"chartRef",class:"chart"},Ee=C({__name:"ChartEquity",props:{equity:{}},setup(n){const m=I(),_=E("card"),{chart:h,series:i}=Q({createChartOptions:N(),series:{type:We,name:"equity",options:f(()=>{const{colors:l}=m.value;return{priceFormat:{type:"custom",formatter:s=>`$${M(s,0,"dollar")}${Y(s)}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:l.green,bottomLineColor:l.red,lastValueVisible:!1,priceLineVisible:!1}})}});z(a);function a(){!h.value||!i.equity||(i.equity.setData(n.equity.map(l=>({time:l.timestamp.getUTCTimestamp(),value:l.equity})).uniqWith((l,s)=>l.time===s.time).orderBy(l=>l.time,"asc")),h.value.timeScale().fitContent())}return(l,s)=>{const r=Fe,c=K,o=H,u=U;return b(),$(u,{ref_key:"card",ref:_,title:"Equity"},{actions:p(()=>[v("div",Me,[t(r,{style:{"margin-right":"1rem"}},{default:p(()=>s[0]||(s[0]=[v("span",null,[R(" This chart shows the difference between the value of the collateral and the debt."),v("br"),v("br"),R(" Positive values indicate net equity (collateral exceeds debt),"),v("br"),R(" while negative values indicate a deficit (debt exceeds collateral, also known as bad debt). ")],-1)])),_:1,__:[0]}),t(c,{filename:"equity",series:e(i)},null,8,["series"]),t(o,{chart:e(h),target:e(_)},null,8,["chart","target"])])]),default:p(()=>[v("div",Ie,null,512)]),_:1},512)}}}),ze={class:"dashboard-grid"},Qe=C({__name:"Liquidations",props:{market:{},chain:{}},setup(n){const m=f(()=>{var T;return(T=n.market)==null?void 0:T.controller}),{isFetching:_,data:h}=P(w(()=>n.market),w(()=>n.chain)),i=f(()=>h.value.map(({timestamp:T,priceOracle:A})=>({timestamp:T,priceOracle:A}))),a=f(()=>h.value.map(({timestamp:T,discountLiquidation:A})=>({timestamp:T,discount:A}))),{isFetching:l,data:s}=de(V("lending"),w(()=>n.chain),m),{isFetching:r,data:c}=ue(V("lending"),w(()=>n.chain),m),{isFetching:o,data:u}=me(V("lending"),w(()=>n.chain),m),g=f(()=>u.value.map(({timestamp:T,proportion:A})=>({timestamp:T,proportion:A*100}))),{isFetching:k,data:d}=pe(V("lending"),w(()=>n.chain),m),{isFetching:y,data:q}=he(V("lending"),w(()=>n.chain),m),{isFetching:B,data:L}=ve(V("lending"),w(()=>n.chain),m);return(T,A)=>(b(),S("div",ze,[t(e(_e),{overview:e(d),loading:e(k)},null,8,["overview","loading"]),t(e(ge),{ratios:e(g),"prices-oracle":e(i),loading:e(o)||e(_)},null,8,["ratios","prices-oracle","loading"]),t(e(fe),{losses:e(q),loading:e(y)},null,8,["losses","loading"]),t(e(ye),{losses:e(q),loading:e(y)},null,8,["losses","loading"]),t(e(ke),{deciles:e(L),loading:e(B)},null,8,["deciles","loading"]),t(e(be),{liqs:e(s),loading:e(l)},null,8,["liqs","loading"]),t(e(we),{liqs:e(c),loading:e(r)},null,8,["liqs","loading"]),t(e($e),{discounts:e(a),liqs:e(c),loading:e(_)||e(r)},null,8,["discounts","liqs","loading"])]))}}),Ne=D(Qe,[["__scopeId","data-v-d3d09c2f"]]),Ke={style:{display:"flex"}},He={ref:"chartRef",class:"chart"},Ye=C({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(n){const m=I(),{items:_,toggles:h,disabled:i}=X(()=>{const{blue:u,yellow:g,purple:k}=m.value.colors;return[{id:"supply",label:"Supply",color:u},{id:"debt",label:"Debt",color:g},{id:"util",label:"Util %",color:k,togglable:!0}]}),{isFetching:a,data:l}=P(w(()=>n.market),w(()=>n.chain)),s=E("card"),{chart:r,series:c}=Q({createChartOptions:N(f(()=>({leftPriceScale:{visible:h.util.value}}))),series:[{type:W,name:"supply",options:f(()=>({priceFormat:{type:"custom",formatter:u=>`$${M(u,0,"dollar")}${Y(u)}`,minMove:.01},lineWidth:2,color:m.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:W,name:"debt",options:f(()=>({priceFormat:{type:"custom",formatter:u=>`$${M(u,0,"dollar")}${Y(u)}`,minMove:.01},lineWidth:2,color:m.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:W,name:"util",options:f(()=>({priceFormat:{type:"custom",formatter:u=>`${Math.round(u*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:m.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});z(o);function o(){if(!r.value||!c.supply||!c.debt||!c.util)return;const u=l.value.map(d=>({time:d.timestamp.getUTCTimestamp(),value:d.totalAssetsUsd})).uniqWith((d,y)=>d.time===y.time).orderBy(d=>d.time,"asc"),g=l.value.map(d=>({time:d.timestamp.getUTCTimestamp(),value:d.totalDebtUsd})).uniqWith((d,y)=>d.time===y.time).orderBy(d=>d.time,"asc"),k=u.zip(g).map(([d,y])=>({time:y.time,value:d.value>0?y.value/d.value:0})).uniqWith((d,y)=>d.time===y.time).orderBy(d=>d.time,"asc");c.supply.setData(u),c.debt.setData(g),c.util.setData(k),c.util.applyOptions({visible:h.util.value}),r.value.timeScale().fitContent()}return(u,g)=>{const k=K,d=H,y=Z,q=U;return b(),$(q,{ref_key:"card",ref:s,title:"Supply & Debt",loading:e(a)},{actions:p(()=>[v("div",Ke,[t(k,{filename:"supply_debt_util",series:e(c)},null,8,["series"]),t(d,{chart:e(r),target:e(s)},null,8,["chart","target"])])]),"actions-secondary":p(()=>[t(y,{items:e(_),disabled:e(i),onToggle:g[0]||(g[0]=B=>e(h)[B].value=!e(h)[B].value)},null,8,["items","disabled"])]),default:p(()=>[v("div",He,null,512)]),_:1},8,["loading"])}}}),je={style:{display:"flex"}},Ge={ref:"chartRef",class:"chart"},Je=C({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(n){const{isFetching:m,data:_}=P(w(()=>n.market),w(()=>n.chain)),h=I(),i=f(()=>n.market?n.market.collateralToken.symbol:"?"),a=f(()=>n.market?n.market.borrowedToken.symbol:"?"),{items:l}=X(()=>[{id:i.value,label:i.value,color:h.value.colors.blue},{id:a.value,label:a.value,color:h.value.colors.yellow}]),s=V(!0),r=E("card"),{chart:c,series:o}=Q({createChartOptions:N(),series:[{type:W,name:"collateral",options:f(()=>({priceFormat:{type:"custom",formatter:g},lineWidth:2,color:h.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:W,name:"borrowed",options:f(()=>({priceFormat:{type:"custom",formatter:g},lineWidth:2,color:h.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});z(u);function u(){if(!c.value||!o.collateral||!o.borrowed)return;const k=s.value;o.collateral.setData(_.value.map(d=>({time:d.timestamp.getUTCTimestamp(),value:k?d.collateralBalanceUsd:d.collateralBalance})).uniqWith((d,y)=>d.time===y.time).orderBy(d=>d.time,"asc")),o.borrowed.setData(_.value.map(d=>({time:d.timestamp.getUTCTimestamp(),value:k?d.borrowedBalanceUsd:d.borrowedBalance})).uniqWith((d,y)=>d.time===y.time).orderBy(d=>d.time,"asc")),c.value.timeScale().fitContent()}function g(k){return`${s.value?"$":""}${M(k,0,"dollar")}${Y(k)}`}return(k,d)=>{const y=De,q=K,B=H,L=Z,T=U;return b(),$(T,{ref_key:"card",ref:r,title:"Collateral",loading:e(m)},{actions:p(()=>[v("div",je,[t(y,{style:{"margin-right":"1rem"},"model-value":e(s),onClick:d[0]||(d[0]=A=>s.value=!e(s))},{default:p(()=>d[1]||(d[1]=[R(" Dollars ")])),_:1,__:[1]},8,["model-value"]),t(q,{filename:"collateral",series:e(o)},null,8,["series"]),t(B,{chart:e(c),target:e(r)},null,8,["chart","target"])])]),"actions-secondary":p(()=>[t(L,{items:e(l)},null,8,["items"])]),default:p(()=>[v("div",Ge,null,512)]),_:1},8,["loading"])}}}),Xe={style:{display:"flex"}},Ze={ref:"chartRef",class:"chart"},xe=C({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(n){const{isFetching:m,data:_}=P(w(()=>n.market),w(()=>n.chain)),h=I(),i=E("card"),{chart:a,series:l}=Q({createChartOptions:N(),series:{type:Se,name:"loans",options:f(()=>({color:h.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});z(s);function s(){!a.value||!l.loans||(l.loans.setData(_.value.map(r=>({time:r.timestamp.getUTCTimestamp(),value:r.numLoans})).uniqWith((r,c)=>r.time===c.time).orderBy(r=>r.time,"asc")),a.value.timeScale().fitContent())}return(r,c)=>{const o=K,u=H,g=U;return b(),$(g,{ref_key:"card",ref:i,title:"Loans",loading:e(m)},{actions:p(()=>[v("div",Xe,[t(o,{filename:"loans",series:e(l)},null,8,["series"]),t(u,{chart:e(a),target:e(i)},null,8,["chart","target"])])]),default:p(()=>[v("div",Ze,null,512)]),_:1},8,["loading"])}}}),ea={style:{display:"flex"}},aa={ref:"chartRef",class:"chart"},ta=C({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(n){const m=I(),{items:_}=X(()=>[{id:"borrow",label:"Borrow APY",color:m.value.colors.red},{id:"lend",label:"Lend APY",color:m.value.colors.green}]),{isFetching:h,data:i}=P(w(()=>n.market),w(()=>n.chain)),a=E("card"),{chart:l,series:s}=Q({createChartOptions:N({localization:{priceFormatter:o=>c(o)}}),series:[{type:W,name:"borrowApy",options:f(()=>({priceFormat:{type:"custom",formatter:c},lineWidth:2,color:m.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:W,name:"lendApy",options:f(()=>({priceFormat:{type:"custom",formatter:c},lineWidth:2,color:m.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});z(r);function r(){!l.value||!s.borrowApy||!s.lendApy||(s.borrowApy.setData(i.value.map(o=>({time:o.timestamp.getUTCTimestamp(),value:o.borrowApy})).uniqWith((o,u)=>o.time===u.time).orderBy(o=>o.time,"asc")),s.lendApy.setData(i.value.map(o=>({time:o.timestamp.getUTCTimestamp(),value:o.lendApy})).uniqWith((o,u)=>o.time===u.time).orderBy(o=>o.time,"asc")),l.value.timeScale().fitContent())}function c(o){return`${M(o*100,0,"percentage")}%`}return(o,u)=>{const g=K,k=H,d=Z,y=U;return b(),$(y,{ref_key:"card",ref:a,title:"Rates",loading:e(h)},{actions:p(()=>[v("div",ea,[t(g,{filename:"rates",series:e(s)},null,8,["series"]),t(k,{chart:e(l),target:e(a)},null,8,["chart","target"])])]),"actions-secondary":p(()=>[t(d,{items:e(_)},null,8,["items"])]),default:p(()=>[v("div",aa,null,512)]),_:1},8,["loading"])}}}),la=["href"],sa={key:1},oa=C({__name:"Addresses",props:{market:{}},setup(n){const m=f(()=>{var i,a,l,s,r;return[{description:"Controller",address:(i=n.market)==null?void 0:i.controller},{description:"Vault",address:(a=n.market)==null?void 0:a.vault},{description:"Llamma",address:(l=n.market)==null?void 0:l.llamma},{description:"Policy",address:(s=n.market)==null?void 0:s.policy},{description:"Oracle",address:(r=n.market)==null?void 0:r.oracle}]}),_=i=>`https://etherscan.io/address/${i}`,h=async i=>{await navigator.clipboard.writeText(i)};return(i,a)=>{const l=te,s=ee,r=ae,c=U;return b(),$(c,{title:"Addresses",class:"addresses"},{default:p(()=>[t(r,{class:"addresses-table",rows:e(m)},{row:p(({item:{description:o,address:u}})=>[v("div",null,F(o),1),v("div",null,[u?(b(),S("a",{key:0,class:"font-mono",target:"_blank",href:_(u)},F(u),9,la)):(b(),S("span",sa,"?"))]),v("div",null,[u?(b(),$(s,{key:0,onClick:g=>h(u)},{default:p(()=>[t(l)]),_:2},1032,["onClick"])):O("",!0)])]),_:1},8,["rows"])]),_:1})}}}),na=D(oa,[["__scopeId","data-v-f805545c"]]),ra={class:"usage"},ia={class:"two-sides"},ca={class:"collateral"},da={class:"two-sides"},ua={class:"two-sides"},ma=C({__name:"KPIUsage",props:{market:{}},setup(n){const m=f(()=>{var i,a;return(((i=n.market)==null?void 0:i.collateralBalanceUsd)??0)+(((a=n.market)==null?void 0:a.borrowedBalanceUsd)??0)}),_=f(()=>{var s,r;const i="Collateral",a=((s=n.market)==null?void 0:s.collateralToken.symbol)??"?",l=((r=n.market)==null?void 0:r.borrowedToken.symbol)??"?";return`${i} (${a} / ${l})`}),h=f(()=>n.market?n.market.totalAssetsUsd===0?0:n.market.totalDebtUsd/n.market.totalAssetsUsd:0);return(i,a)=>{var r,c;const l=J,s=G;return b(),S("div",ra,[t(s,{style:{"grid-area":"kpi1"},label:e(_),"has-value":!!i.market},{default:p(()=>{var o,u;return[v("div",ia,[v("div",ca,[t(l,{"show-zero":"",type:"dollar",value:(o=i.market)==null?void 0:o.collateralBalance,"show-symbol":!1},null,8,["value"]),a[0]||(a[0]=v("span",{style:{color:"var(--c-lvl5)"}},"/",-1)),t(l,{"show-zero":"",type:"dollar",value:(u=i.market)==null?void 0:u.borrowedBalance,"show-symbol":!1},null,8,["value"])]),t(l,{"show-zero":"",type:"dollar",value:e(m)},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(s,{style:{"grid-area":"kpi2"},label:`Borrowed (${((r=i.market)==null?void 0:r.borrowedToken.symbol)??"?"})`,"has-value":!!i.market},{default:p(()=>{var o,u;return[v("div",da,[t(l,{"show-zero":"",type:"dollar",value:(o=i.market)==null?void 0:o.totalDebt,"show-symbol":!1},null,8,["value"]),t(l,{"show-zero":"",type:"dollar",value:(u=i.market)==null?void 0:u.totalDebtUsd},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(s,{style:{"grid-area":"kpi3"},label:`Supplied (${((c=i.market)==null?void 0:c.collateralToken.symbol)??"?"})`,"has-value":!!i.market},{default:p(()=>{var o,u;return[v("div",ua,[t(l,{"show-zero":"",type:"dollar",value:(o=i.market)==null?void 0:o.totalAssets,"show-symbol":!1},null,8,["value"]),t(l,{"show-zero":"",type:"dollar",value:(u=i.market)==null?void 0:u.totalAssetsUsd},null,8,["value"])])]}),_:1},8,["label","has-value"]),t(s,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:"Utilization Rate",tooltip:"Utilization rate is total supplied divided by total borrowed","has-value":!!i.market},{default:p(()=>[t(l,{"show-zero":"",type:"percentage",value:e(h)*100},null,8,["value"])]),_:1},8,["has-value"])])}}}),pa=D(ma,[["__scopeId","data-v-09943df6"]]),ha={class:"token-info"},va=["href"],_a={class:"token-info"},ga=["href"],fa=C({__name:"Properties",props:{market:{},chain:{}},setup(n){const m=f(()=>{var a,l,s,r;return{type:"token",symbol:((l=(a=n.market)==null?void 0:a.collateralToken)==null?void 0:l.symbol)??"?",address:((r=(s=n.market)==null?void 0:s.collateralToken)==null?void 0:r.address)??"?"}}),_=f(()=>{var a,l,s,r;return{type:"token",symbol:((l=(a=n.market)==null?void 0:a.borrowedToken)==null?void 0:l.symbol)??"?",address:((r=(s=n.market)==null?void 0:s.borrowedToken)==null?void 0:r.address)??"?"}}),h=a=>`https://etherscan.io/address/${a}`,i=async a=>{await navigator.clipboard.writeText(a)};return(a,l)=>{const s=Oe,r=te,c=ee,o=Pe,u=ae,g=U;return b(),$(g,{class:"properties",title:"Properties"},{default:p(()=>[t(u,{class:"properties-table"},{default:p(()=>[t(o,null,{default:p(()=>[l[2]||(l[2]=v("div",null,"Collateral",-1)),v("div",ha,[t(s,{chain:a.chain,address:e(m).address},null,8,["chain","address"]),v("div",null,F(e(m).symbol),1),v("div",null,[v("a",{class:"font-mono",target:"_blank",href:h(e(m).address)},F(e(m).address),9,va)]),v("div",null,[t(c,{onClick:l[0]||(l[0]=k=>i(e(m).address))},{default:p(()=>[t(r)]),_:1})])])]),_:1,__:[2]}),t(o,null,{default:p(()=>[l[3]||(l[3]=v("div",null,"Borrowed",-1)),v("div",_a,[t(s,{chain:a.chain,address:e(_).address},null,8,["chain","address"]),v("div",null,F(e(_).symbol),1),v("div",null,[v("a",{class:"font-mono",target:"_blank",href:h(e(_).address)},F(e(_).address),9,ga)]),v("div",null,[t(c,{onClick:l[1]||(l[1]=k=>i(e(_).address))},{default:p(()=>[t(r)]),_:1})])])]),_:1,__:[3]})]),_:1})]),_:1})}}}),ya=D(fa,[["__scopeId","data-v-fc596782"]]),ka={class:"dashboard-grid"},ba=C({__name:"MarketOverview",props:{market:{},chain:{}},setup(n){const{isFetching:m,data:_}=P(w(()=>n.market),w(()=>n.chain)),h=f(()=>_.value.map(({timestamp:a,collateralBalanceUsd:l,borrowedBalanceUsd:s,totalDebtUsd:r})=>({timestamp:a,ratio:r>0?(l+s)/r:0}))),i=f(()=>_.value.map(({timestamp:a,collateralBalanceUsd:l,borrowedBalanceUsd:s,totalDebtUsd:r})=>({timestamp:a,equity:l+s-r})));return(a,l)=>{const s=J,r=G;return b(),S("div",ka,[t(r,{style:{"grid-area":"kpi1"},label:"Borrow APY","has-value":!!a.market},{default:p(()=>{var c;return[t(s,{type:"percentage",value:(c=a.market)==null?void 0:c.apyBorrow},null,8,["value"])]}),_:1},8,["has-value"]),t(r,{style:{"grid-area":"kpi2"},label:"Lend APY","has-value":!!a.market},{default:p(()=>{var c;return[t(s,{type:"percentage",value:(c=a.market)==null?void 0:c.apyLend},null,8,["value"])]}),_:1},8,["has-value"]),t(r,{style:{"grid-area":"kpi3"},label:"Loans","has-value":!!a.market},{default:p(()=>{var c;return[R(F(((c=a.market)==null?void 0:c.nLoans)??0),1)]}),_:1},8,["has-value"]),t(r,{style:{"grid-area":"kpi4"},label:"TVL","has-value":!!a.market},{default:p(()=>[t(s,{type:"dollar",value:e(Ue)(a.market)},null,8,["value"])]),_:1},8,["has-value"]),t(e(Ye),{style:{"grid-area":"supply"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(Je),{style:{"grid-area":"collateral"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(Le),{style:{"grid-area":"colratio"},ratios:e(h),loading:e(m)},null,8,["ratios","loading"]),t(e(Ee),{style:{"grid-area":"equity"},equity:e(i),loading:e(m)},null,8,["equity","loading"]),t(e(ta),{style:{"grid-area":"rates"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(xe),{style:{"grid-area":"loans"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(na),{style:{"grid-area":"addresses"},market:a.market},null,8,["market"]),t(e(ya),{style:{"grid-area":"properties"},market:a.market,chain:a.chain},null,8,["market","chain"]),t(e(pa),{style:{"grid-area":"usage"},market:a.market},null,8,["market"])])}}}),wa=D(ba,[["__scopeId","data-v-c4af7549"]]),$a={class:"dashboard-grid"},La=C({__name:"Trading",props:{market:{},chain:{}},setup(n){const m=f(()=>{var o;return(o=n.market)==null?void 0:o.llamma}),{isFetching:_,data:h}=Ce("lending",m,w(()=>n.chain)),i=V(1),{isFetching:a,data:l}=Te("lending",m,w(()=>n.chain),i),s=V(1),{isFetching:r,data:c}=qe("lending",m,w(()=>n.chain),s);return(o,u)=>{var d,y,q,B;const g=J,k=G;return b(),S("div",$a,[t(k,{style:{"grid-area":"oracle"},label:"Oracle Price","has-value":!!o.market},{default:p(()=>{var L;return[t(g,{type:"dollar",value:(L=o.market)==null?void 0:L.priceOracle},null,8,["value"])]}),_:1},8,["has-value"]),t(k,{style:{"grid-area":"amm"},label:"AMM Price","has-value":!!o.market},{default:p(()=>{var L;return[t(g,{type:"dollar",value:(L=o.market)==null?void 0:L.ammPrice},null,8,["value"])]}),_:1},8,["has-value"]),t(e(Be),{style:{"grid-area":"ohlc"},ohlc:e(h)??[],loading:e(_)},null,8,["ohlc","loading"]),t(e(Ve),{style:{"grid-area":"trades"},trades:((d=e(l))==null?void 0:d.trades)??[],count:((y=e(l))==null?void 0:y.count)??0,chain:o.chain,loading:e(a),onPage:u[0]||(u[0]=L=>i.value=L)},null,8,["trades","count","chain","loading"]),t(e(Ae),{style:{"grid-area":"events"},events:((q=e(c))==null?void 0:q.events)??[],count:((B=e(c))==null?void 0:B.count)??0,loading:e(r),onPage:u[1]||(u[1]=L=>s.value=L)},null,8,["events","count","loading"])])}}}),Ca=D(La,[["__scopeId","data-v-ae2f31ac"]]),Ta={class:"dashboard"},qa=C({__name:"Market.page",setup(n){const m=x("chain"),_=x("marketAddr"),{isFetching:h,data:i}=ce(m),a=f(()=>{var c;return(c=i.value)==null?void 0:c.find(o=>o.controller===_.value)}),{crumbs:l}=oe(ne());re(a,c=>{l.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:m.value})},{id:"market",label:`Market: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0});const{tabActive:s,tabActiveIndex:r}=Re(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:m.value,marketAddr:_.value}));return(c,o)=>{const u=ie,g=le,k=se;return b(),S("div",Ta,[t(u,{loading:e(h)},null,8,["loading"]),!e(h)&&e(a)?(b(),$(k,{key:0,active:e(r),onTab:o[0]||(o[0]=d=>r.value=d.index)},{default:p(()=>[t(g,{header:"Overview"},{default:p(()=>[(b(),$(j,null,[e(s)==="overview"?(b(),$(wa,{key:0,market:e(a),chain:e(m)},null,8,["market","chain"])):O("",!0)],1024))]),_:1}),t(g,{header:"Trading"},{default:p(()=>[(b(),$(j,null,[e(s)==="trading"?(b(),$(Ca,{key:0,market:e(a),chain:e(m)},null,8,["market","chain"])):O("",!0)],1024))]),_:1}),t(g,{header:"Liquidations"},{default:p(()=>[(b(),$(j,null,[e(s)==="liquidations"?(b(),$(Ne,{key:0,market:e(a),chain:e(m)},null,8,["market","chain"])):O("",!0)],1024))]),_:1})]),_:1},8,["active"])):O("",!0)])}}}),Ja=D(qa,[["__scopeId","data-v-319230a0"]]);export{Ja as default};

import{d as x,I as R,z,a1 as E,h as S,o as n,w as k,a as l,u as a,b as t,Q,K as p,t as r,c as _,T as v,N as U,V as F,L as K,_ as M,g as G,ac as W,ad as j}from"./index-BYnNAfSP.js";import{_ as q}from"./Table-CkrHHA0S.js";import{_ as H}from"./IconExpander-Cg0RjqCc.js";import{_ as J}from"./InputText-B41kNJQc.js";import{u as O,_ as X}from"./UsePagination-6my4nle6.js";import{a as Y}from"./gauge-D9uEVD_S.js";import{u as Z}from"./UseSort-BgHBlkv6.js";const ee={style:{display:"flex","flex-wrap":"wrap",gap:"1rem"}},oe=["href"],se=["href"],ae={key:1},te=["href"],ne={class:"end"},re={class:"end"},le=["href"],P=15,ce=x({__name:"TableGauges",setup(N){const{isFetching:g,data:w}=Y(),$=[{id:"name",label:"Name / Address",sort:!1},{id:"destination",label:"Destination",sort:!1},{id:"lp",label:"LP Token",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"creation",label:"Creation",sort:!0,align:"end"}],{sorting:m,onSort:V}=Z("weight"),c=R(""),C=z(()=>w.value.filter(o=>{var i,u,d;const s=c.value.toLocaleLowerCase().split(" ");return(f=>s.some(b=>f.toLocaleLowerCase().includes(b)))(`${o.address} ${((i=o.pool)==null?void 0:i.name)??""} ${((u=o.pool)==null?void 0:u.address)??""} ${((d=o.market)==null?void 0:d.name)??""} ${o.lpToken??""}`)}).orderBy(o=>{switch(m.value.column){case"weight":return Number(o.weight);case"creation":return o.creationDate.getTime()}},m.value.order)),{page:L,rowsPage:B,onPage:D}=O(C,P);function h(o){return o.replace("Curve.fi","").replace("Gauge Deposit","").trim()}function T(o){switch(o){case"arbitrum":return"arbiscan.io";case"ethereum":return"etherscan.io";default:return"etherscan.io"}}const I=E(),A=async o=>{await I.push({name:"gauge",params:{tab:"",gaugeAddr:o.address}})};return(o,s)=>{const y=X,i=J,u=F,d=H,f=q,b=M;return n(),S(b,{title:"Gauges",loading:a(g)},{actions:k(()=>[t("div",ee,[l(y,{"items-count":a(C).length,"items-per-page":P,page:a(L),onPage:a(D)},null,8,["items-count","page","onPage"]),l(i,{modelValue:a(c),"onUpdate:modelValue":s[0]||(s[0]=e=>K(c)?c.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"])])]),default:k(()=>[l(f,{rows:a(B),columns:$,sorting:a(m),onSortColumn:a(V),onSelect:A},{row:k(({item:e})=>[t("div",{style:{display:"contents"},class:Q({killed:e.killed})},[t("div",null,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${e.address}`,onClick:s[1]||(s[1]=p(()=>{},["stop"]))},r(h(e.name??e.address)),9,oe)]),t("div",null,[e.pool?(n(),_("a",{key:0,class:"font-mono",target:"_blank",href:`https://${T(e.pool.chain)}/address/${e.pool.address}`,onClick:s[2]||(s[2]=p(()=>{},["stop"]))},r(h(e.pool.name)),9,se)):e.market?(n(),_("span",ae,r(h(e.market.name)),1)):v("",!0)]),t("div",null,[e.lpToken&&e.pool?(n(),_("a",{key:0,class:"font-mono",target:"_blank",href:`https://${T(e.pool.chain)}/address/${e.lpToken}`,onClick:s[3]||(s[3]=p(()=>{},["stop"]))},r(("addressShort"in o?o.addressShort:a(U))(e.lpToken)),9,te)):v("",!0)]),t("div",ne,[e.weight>0?(n(),S(u,{key:0,value:Number(e.weight)/10**18},null,8,["value"])):v("",!0)]),t("div",re,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/tx/${e.creationTx}`,onClick:s[4]||(s[4]=p(()=>{},["stop"]))},r(e.creationDate.toLocaleDateString()),9,le)]),l(d)],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["loading"])}}}),ie=G(ce,[["__scopeId","data-v-bb093c98"]]),ue={class:"dashboard"},de=x({__name:"Gauges.page",setup(N){const{crumbs:g}=W(j());return g.value=[{id:"gauges",label:"Gauges",pathName:"gauges"},{id:"pool",label:"Select gauge for details",hint:!0}],(w,$)=>(n(),_("div",ue,[l(ie,{style:{"grid-area":"gauges"}})]))}}),ke=G(de,[["__scopeId","data-v-65bba532"]]);export{ke as default};

import{d as C,r as f,h as V,o as l,w as $,a as i,t as N,u as e,a4 as F,e as k,K as T,f as g,c as y,b as o,O as L,W as E,F as R,l as K,X as O,R as Q}from"./index-CSl7mF5e.js";import{a as U,_ as W}from"./UsePagination-U5dRa32E.js";import{_ as X}from"./InputText-CnhV3Bmf.js";import{_ as j,a as q}from"./TabItem.vue_vue_type_script_setup_true_lang-DcHCyqQN.js";import{c as G}from"./proposal-BWw-OMgI.js";import{P as H}from"./Proposal-DRtLarMy.js";import{c as J}from"./String-TwmdtJxb.js";import"./getAction-DtNaNS4j.js";import"./useQuery-BH3fKRjE.js";import"./timestamp-DkvXAN4c.js";import"./AsyncValue-CiuJBQIu.js";import"./Number-Clxxgc0l.js";import"./KPI-D93aqXd-.js";import"./writeContract-DbqHy8DF.js";import"./link-ClgwhiOp.js";const M=["ownership","parameter"],Y={class:"option"},Z={class:"label"},ee=C({__name:"ProposalTypeSelect",emits:["select"],setup(B,{emit:_}){const n=_,u=[...M],c=f("ownership"),s=t=>{c.value=t,n("select",c.value)};return(t,h)=>{const v=F;return l(),V(v,{options:u.map(p=>p),selected:e(c),onSelect:s},{option:$(({option:p})=>[i("div",Y,[i("div",Z,N(("capitalize"in t?t.capitalize:e(J))(p)),1)])]),_:1},8,["options","selected"])}}}),oe=k(ee,[["__scopeId","data-v-8f96e859"]]),se={class:"dashboard"},te={class:"filters"},ae={style:{display:"flex",gap:"1rem","flex-wrap":"wrap"}},ne={class:"proposals-content"},ce={key:0},pe=C({__name:"Proposals.page",setup(B){const _=f(0),{page:n,onPage:u}=U(),c=T(n,200),s=f(""),t=T(s,300),h=f("ownership"),v=g(()=>{switch(_.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),p=g(()=>t.value.toLocaleLowerCase()),P=g(()=>w.value?.count??0),S=g(()=>(w.value?.proposals??[]).orderBy(d=>d.start,"desc")),{isFetching:b,data:w}=G(c,h,v,p),D=d=>{h.value=d};return(d,m)=>{const r=j,z=q,A=X,x=W,I=Q;return l(),y("div",se,[o(z,{onTab:m[0]||(m[0]=a=>_.value=a.index)},{default:$(()=>[o(r,{header:"All"}),o(r,{header:"Active"}),o(r,{header:"Passed"}),o(r,{header:"Denied"}),o(r,{header:"Executed"})]),_:1}),i("div",te,[o(A,{modelValue:e(s),"onUpdate:modelValue":m[1]||(m[1]=a=>L(s)?s.value=a:null),search:"",placeholder:"Search for Curve proposals"},null,8,["modelValue"]),i("div",ae,[o(oe,{style:{"flex-grow":"1"},onSelect:D}),o(x,{class:"pagination","items-count":e(P),"items-per-page":10,page:e(n),onPage:e(u)},null,8,["items-count","page","onPage"])])]),i("div",ne,[(l(!0),y(R,null,K(e(S),a=>(l(),V(H,{key:a.id,class:O(["loading-backdrop",{loading:e(b)}]),proposal:a},null,8,["proposal","class"]))),128)),o(x,{class:"pagination","items-count":e(P),"items-per-page":10,page:e(n),onPage:e(u)},null,8,["items-count","page","onPage"]),e(S).length===0?(l(),y("div",ce,"No proposals could be found.")):E("",!0),o(I,{loading:e(b)},null,8,["loading"])])])}}}),we=k(pe,[["__scopeId","data-v-c4f2dfda"]]);export{we as default};

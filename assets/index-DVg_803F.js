import{o as b,c as S,p as ie,a as re,b as m,d as A,e as P,n as q,f as V,g as B,t as M,r as J,w as C,h,i as _e,j as Bn,F as se,T as zl,k as xl,l as Pl,m as O,I as ue,C as ce,B as Rl,D as Un,u as Wn,q as z,s as w,v as D,x as Ne,y as s,z as Re,A as Il,E as Vl,W as Ol,G as Dl,H as Fl,J as ql,K as Se,L as I,M as Y,N as El,O as he,P as qe,V as Bl,Q as Ul,R as Yo,S as Zo,U as Wl,X as Nl,Y as Q,Z as be,_ as Hl,$ as Kl,a0 as Xl,a1 as jl,a2 as Ql,a3 as Te,a4 as it,a5 as E,a6 as de,a7 as qt,a8 as Gl,a9 as _t,aa as N,ab as $e,ac as Jo,ad as Yl,ae as Zl,af as we,ag as He,ah as Nn,ai as Hn,aj as ei,ak as Kn,al as ti,am as Xn,an as me,ao as Jl,ap as eu,aq as jn,ar as ni,as as ai,at as tu,au as nu,av as au,aw as su,ax as ou,ay as iu,az as ru,aA as lu}from"./vendor-D73l9TCM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function e(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=e(o);fetch(o.href,l)}})();const x=(n,t)=>{const e=n.__vccOpts||n;for(const[a,o]of t)e[a]=o;return e},uu={},si=n=>(ie("data-v-ad2adcec"),n=n(),re(),n),cu={class:"lds-ripple"},pu=si(()=>m("div",null,null,-1)),du=si(()=>m("div",null,null,-1)),mu=[pu,du];function yu(n,t){return b(),S("div",cu,mu)}const Ie=x(uu,[["render",yu],["__scopeId","data-v-ad2adcec"]]),_u=["inert"],vu={class:"text"},fu=A({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(n){return(t,e)=>{const a=Ie;return b(),S("div",{class:"card",inert:!!t.loading},[t.loading!==null?(b(),P(a,{key:0,class:q(["loader",{loading:t.loading}])},null,8,["class"])):V("",!0),m("div",{class:q(["card-container",{loading:t.loading}])},[t.title?(b(),S("div",{key:0,class:q(["card-header",{collapsible:t.collapsible}])},[m("div",vu,[t.icon?(b(),S("i",{key:0,class:q(["icon",t.icon])},null,2)):V("",!0),B(" "+M(t.title),1)]),J(t.$slots,"actions",{},void 0,!0)],2)):(b(),S("div",{key:1,class:q(["card-no-header",{compact:t.compact}])},null,2)),m("div",{class:q(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[J(t.$slots,"default",{},void 0,!0)],2)],2)],8,_u)}}}),G=x(fu,[["__scopeId","data-v-67011bf6"]]),hu={key:0,class:"fas fa-chevron-right"},bu=A({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(n,{emit:t}){const e=t,a=l=>{var i;const u=n.active?n.active.id===l.id:((i=n.crumbs.filter(r=>!r.hint).at(-1))==null?void 0:i.id)===l.id;return l.hint??u},o=l=>{var u;return((u=n.crumbs.at(-1))==null?void 0:u.id)===l.id};return(l,u)=>{const i=G;return b(),P(i,null,{default:C(()=>[h(zl,{name:"fade",tag:"ul"},{default:C(()=>[(b(!0),S(se,null,_e(l.crumbs,r=>(b(),S("li",{key:r.id},[(b(),P(Bn(a(r)?"span":"a"),{class:q({active:a(r),hint:r.hint}),onClick:c=>e("crumb",r)},{default:C(()=>[B(M(r.label),1)]),_:2},1032,["class","onClick"])),!o(r)||l.crumbs.length===1?(b(),S("i",hu)):V("",!0)]))),128))]),_:1})]),_:1})}}}),gu=x(bu,[["__scopeId","data-v-1c1116d3"]]),wu={class:"collapsible-inside"},Tu=A({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(n){return(t,e)=>(b(),S("div",{class:q(["collapsible-outside",{expanded:t.expanded}])},[m("div",wu,[J(t.$slots,"default",{},void 0,!0)])],2))}}),ht=x(Tu,[["__scopeId","data-v-25b74378"]]),$u={class:"chip"},ku={class:"label"},Cu=A({__name:"Chip",props:{label:{default:""}},setup(n){return(t,e)=>(b(),S("div",$u,[m("div",ku,M(t.label),1)]))}}),Su=x(Cu,[["__scopeId","data-v-1eb2caf8"]]);function Mt(n){return(n==null?void 0:n.children)!==void 0}function Ia(n){return(n==null?void 0:n.to)!==void 0}function Mu(n,t,e){return n.reduce((a,o)=>({...a,[t(o)]:e(o)}),{})}function Lu(n){return n!=null}function Au(n){function t(_){return _<10?"0"+_.toString():_.toString()}const e=n.getTime()-new Date().getTime();if(e<=0)return"00:00:00:00";const a=1e3,o=a*60,l=o*60,u=l*24,i=Math.floor(e/u),r=Math.floor(e%u/l),c=Math.floor(e%l/o),d=Math.floor(e%o/a);return t(i)+":"+t(r)+":"+t(c)+":"+t(d)}function Ue(n,t=0,e=".",a=","){const o=isFinite(+n)?+n:0,l=isFinite(+t)?Math.abs(t):0,u=typeof a>"u"?",":a,i=typeof e>"u"?".":e,r=function(d,_){const p=Math.pow(10,_);return Math.round(d*p)/p},c=(l?r(o,l):Math.round(o)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(c[1]||"").length<l&&(c[1]=c[1]||"",c[1]+=new Array(l-c[1].length+1).join("0")),c.join(i)}function H(n,t){const e=Math.abs(n);return t==="percentage"?"%":t==="dollar"?e>=1*10**12?"t":e>=1*10**9?"b":e>=1*10**6?"m":e>=1*10**3?"k":"":""}function K(n,t,e){const a=Math.abs(n);return t===1/0?n.toLocaleString():e==="percentage"?Ue(n,t):e==="dollar"?a>=1*10**12?Ue(n/10**12,t):a>=1*10**9?Ue(n/10**9,t):a>=1*10**6?Ue(n/10**6,t):a>=1*10**3?Ue(n/10**3,t):Ue(n,t):n.toString()}function We(n){return Number(n.toFixed(n>100?0:2)).toLocaleString()}function Fe(n,t){return parseFloat(Pl(n,t))}function Qn(n,t){return xl(n.toFixed(Number(t)),Number(t)).toBigInt()}async function oi(n,t=0,e=1e3){const a=await n(t,e),o=await(a.length>=e?oi(n,t+1,e):Promise.resolve([]));return a.concat(o)}const ii={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},tn=["tricrypto","usdm"];function ke(n){const t=ii[n];return t||n}function Gn(n){const t=O.invert(ii)[n];return t||n}function zu(n){return!!(tn.find(t=>t===n)??tn.find(t=>t===ke(n))??tn.find(t=>t===Gn(n)))}async function vt(n,t=250){const e=new Promise(o=>setTimeout(()=>{o(null)},t)),[,a]=await Promise.all([e,n]);return a}function zn(n,t){return(Array.isArray(n)?n:[n]).some(a=>t.path.startsWith(a))}const Yn="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",xu="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Pu="0x657ce046d98d163ef4f846210f25919fa7b31944",Va="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",ri="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",li="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Lt="0xe478de485ad2fe566d49342cbd03e49ed7db3356",Ru="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",Iu="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",nn=[{inputs:[{internalType:"address",name:"_stkcvxcrv",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"convexProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"crv",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvx",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxCrvStaking",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxMining",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"externalRewardContracts",outputs:[{internalType:"address[]",name:"rewardContracts",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardContract",type:"address"}],name:"singleRewardRate",outputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"rate",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"stkcvxcrv",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],pa=class pa{static createInterface(){return new ue(nn)}static connect(t,e){return new ce(t,nn,e)}};pa.abi=nn;let xn=pa;const an=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Recovered",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_token",type:"address"},{indexed:!1,internalType:"uint256",name:"_reward",type:"uint256"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_reward",type:"address"},{indexed:!0,internalType:"address",name:"_distributor",type:"address"}],name:"RewardAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_reward",type:"address"},{indexed:!0,internalType:"address",name:"_distributor",type:"address"}],name:"RewardDistributorApproved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_rewardsToken",type:"address"},{indexed:!1,internalType:"uint256",name:"_reward",type:"uint256"}],name:"RewardPaid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"},{indexed:!1,internalType:"address",name:"_forward",type:"address"}],name:"RewardRedirected",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Staked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!1,internalType:"uint256",name:"_amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_distributor",type:"address"}],name:"addReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"approveRewardDistributor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"claimableRewards",outputs:[{components:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],internalType:"struct cvxFxsStaking.EarnedData[]",name:"userRewards",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"cvxfxs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"bool",name:"_lock",type:"bool"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fxs",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fxsDepositor",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"},{internalType:"address",name:"_forwardTo",type:"address"}],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getReward",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"getRewardForDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"lastTimeRewardApplicable",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"},{internalType:"uint256",name:"_reward",type:"uint256"}],name:"notifyRewardAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_tokenAddress",type:"address"},{internalType:"uint256",name:"_tokenAmount",type:"uint256"}],name:"recoverERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardData",outputs:[{internalType:"uint256",name:"periodFinish",type:"uint256"},{internalType:"uint256",name:"rewardRate",type:"uint256"},{internalType:"uint256",name:"lastUpdateTime",type:"uint256"},{internalType:"uint256",name:"rewardPerTokenStored",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewardDistributors",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardsToken",type:"address"}],name:"rewardPerToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"rewardRedirect",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardTokenLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"rewardTokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardsDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"setRewardRedirect",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stakeAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_for",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"stakeFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"userRewardPerTokenPaid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"vefxsProxy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"}],da=class da{static createInterface(){return new ue(an)}static connect(t,e){return new ce(t,an,e)}};da.abi=an;let Oa=da;const sn=[{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"int128"},{name:"j",type:"int128"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]}],ma=class ma{static createInterface(){return new ue(sn)}static connect(t,e){return new ce(t,sn,e)}};ma.abi=sn;let Da=ma;const on=[{name:"TokenExchange",inputs:[{name:"buyer",type:"address",indexed:!0},{name:"sold_id",type:"uint256",indexed:!1},{name:"tokens_sold",type:"uint256",indexed:!1},{name:"bought_id",type:"uint256",indexed:!1},{name:"tokens_bought",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"AddLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"fee",type:"uint256",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidity",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amounts",type:"uint256[2]",indexed:!1},{name:"token_supply",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RemoveLiquidityOne",inputs:[{name:"provider",type:"address",indexed:!0},{name:"token_amount",type:"uint256",indexed:!1},{name:"coin_index",type:"uint256",indexed:!1},{name:"coin_amount",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"CommitNewParameters",inputs:[{name:"deadline",type:"uint256",indexed:!0},{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"NewParameters",inputs:[{name:"admin_fee",type:"uint256",indexed:!1},{name:"mid_fee",type:"uint256",indexed:!1},{name:"out_fee",type:"uint256",indexed:!1},{name:"fee_gamma",type:"uint256",indexed:!1},{name:"allowed_extra_profit",type:"uint256",indexed:!1},{name:"adjustment_step",type:"uint256",indexed:!1},{name:"ma_half_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"RampAgamma",inputs:[{name:"initial_A",type:"uint256",indexed:!1},{name:"future_A",type:"uint256",indexed:!1},{name:"initial_gamma",type:"uint256",indexed:!1},{name:"future_gamma",type:"uint256",indexed:!1},{name:"initial_time",type:"uint256",indexed:!1},{name:"future_time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"StopRampA",inputs:[{name:"current_A",type:"uint256",indexed:!1},{name:"current_gamma",type:"uint256",indexed:!1},{name:"time",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{name:"ClaimAdminFee",inputs:[{name:"admin",type:"address",indexed:!0},{name:"tokens",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_weth",type:"address"}],outputs:[]},{stateMutability:"payable",type:"fallback"},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_underlying",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"exchange_extended",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"},{name:"min_dy",type:"uint256"},{name:"use_eth",type:"bool"},{name:"sender",type:"address"},{name:"receiver",type:"address"},{name:"cb",type:"bytes32"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"payable",type:"function",name:"add_liquidity",inputs:[{name:"amounts",type:"uint256[2]"},{name:"min_mint_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity",inputs:[{name:"_amount",type:"uint256"},{name:"min_amounts",type:"uint256[2]"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"remove_liquidity_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"},{name:"min_amount",type:"uint256"},{name:"use_eth",type:"bool"},{name:"receiver",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"claim_admin_fees",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"ramp_A_gamma",inputs:[{name:"future_A",type:"uint256"},{name:"future_gamma",type:"uint256"},{name:"future_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_ramp_A_gamma",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"commit_new_parameters",inputs:[{name:"_new_mid_fee",type:"uint256"},{name:"_new_out_fee",type:"uint256"},{name:"_new_admin_fee",type:"uint256"},{name:"_new_fee_gamma",type:"uint256"},{name:"_new_allowed_extra_profit",type:"uint256"},{name:"_new_adjustment_step",type:"uint256"},{name:"_new_ma_half_time",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"apply_new_parameters",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"revert_new_parameters",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"get_dy",inputs:[{name:"i",type:"uint256"},{name:"j",type:"uint256"},{name:"dx",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_token_amount",inputs:[{name:"amounts",type:"uint256[2]"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"calc_withdraw_one_coin",inputs:[{name:"token_amount",type:"uint256"},{name:"i",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"lp_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"A",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"price_oracle",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"nonpayable",type:"function",name:"initialize",inputs:[{name:"A",type:"uint256"},{name:"gamma",type:"uint256"},{name:"mid_fee",type:"uint256"},{name:"out_fee",type:"uint256"},{name:"allowed_extra_profit",type:"uint256"},{name:"fee_gamma",type:"uint256"},{name:"adjustment_step",type:"uint256"},{name:"admin_fee",type:"uint256"},{name:"ma_half_time",type:"uint256"},{name:"initial_price",type:"uint256"},{name:"_token",type:"address"},{name:"_coins",type:"address[2]"},{name:"_precisions",type:"uint256"}],outputs:[]},{stateMutability:"view",type:"function",name:"token",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"coins",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"price_scale",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"last_prices_timestamp",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"initial_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_A_gamma_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_allowed_extra_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_fee_gamma",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_adjustment_step",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_ma_half_time",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_mid_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_out_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"future_admin_fee",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"balances",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"D",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"factory",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"xcp_profit",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"xcp_profit_a",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"virtual_price",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"admin_actions_deadline",inputs:[],outputs:[{name:"",type:"uint256"}]}],ya=class ya{static createInterface(){return new ue(on)}static connect(t,e){return new ce(t,on,e)}};ya.abi=on;let Fa=ya;const rn=[{name:"CommitOwnership",inputs:[{type:"address",name:"admin",indexed:!1}],anonymous:!1,type:"event"},{name:"ApplyOwnership",inputs:[{type:"address",name:"admin",indexed:!1}],anonymous:!1,type:"event"},{name:"Deposit",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"value",indexed:!1},{type:"uint256",name:"locktime",indexed:!0},{type:"int128",name:"type",indexed:!1},{type:"uint256",name:"ts",indexed:!1}],anonymous:!1,type:"event"},{name:"Withdraw",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"value",indexed:!1},{type:"uint256",name:"ts",indexed:!1}],anonymous:!1,type:"event"},{name:"Supply",inputs:[{type:"uint256",name:"prevSupply",indexed:!1},{type:"uint256",name:"supply",indexed:!1}],anonymous:!1,type:"event"},{outputs:[],inputs:[{type:"address",name:"token_addr"},{type:"string",name:"_name"},{type:"string",name:"_symbol"},{type:"string",name:"_version"}],stateMutability:"nonpayable",type:"constructor"},{name:"commit_transfer_ownership",outputs:[],inputs:[{type:"address",name:"addr"}],stateMutability:"nonpayable",type:"function"},{name:"apply_transfer_ownership",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"commit_smart_wallet_checker",outputs:[],inputs:[{type:"address",name:"addr"}],stateMutability:"nonpayable",type:"function"},{name:"apply_smart_wallet_checker",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"get_last_user_slope",outputs:[{type:"int128",name:""}],inputs:[{type:"address",name:"addr"}],stateMutability:"view",type:"function"},{name:"user_point_history__ts",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"_addr"},{type:"uint256",name:"_idx"}],stateMutability:"view",type:"function"},{name:"locked__end",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"_addr"}],stateMutability:"view",type:"function"},{name:"checkpoint",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"deposit_for",outputs:[],inputs:[{type:"address",name:"_addr"},{type:"uint256",name:"_value"}],stateMutability:"nonpayable",type:"function"},{name:"create_lock",outputs:[],inputs:[{type:"uint256",name:"_value"},{type:"uint256",name:"_unlock_time"}],stateMutability:"nonpayable",type:"function"},{name:"increase_amount",outputs:[],inputs:[{type:"uint256",name:"_value"}],stateMutability:"nonpayable",type:"function"},{name:"increase_unlock_time",outputs:[],inputs:[{type:"uint256",name:"_unlock_time"}],stateMutability:"nonpayable",type:"function"},{name:"withdraw",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"balanceOf",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"}],stateMutability:"view",type:"function"},{name:"balanceOf",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_t"}],stateMutability:"view",type:"function"},{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"},{name:"totalSupply",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"totalSupply",outputs:[{type:"uint256",name:""}],inputs:[{type:"uint256",name:"t"}],stateMutability:"view",type:"function"},{name:"totalSupplyAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"},{name:"changeController",outputs:[],inputs:[{type:"address",name:"_newController"}],stateMutability:"nonpayable",type:"function"},{name:"token",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"supply",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"locked",outputs:[{type:"int128",name:"amount"},{type:"uint256",name:"end"}],inputs:[{type:"address",name:"arg0"}],stateMutability:"view",type:"function"},{name:"epoch",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"point_history",outputs:[{type:"int128",name:"bias"},{type:"int128",name:"slope"},{type:"uint256",name:"ts"},{type:"uint256",name:"blk"}],inputs:[{type:"uint256",name:"arg0"}],stateMutability:"view",type:"function"},{name:"user_point_history",outputs:[{type:"int128",name:"bias"},{type:"int128",name:"slope"},{type:"uint256",name:"ts"},{type:"uint256",name:"blk"}],inputs:[{type:"address",name:"arg0"},{type:"uint256",name:"arg1"}],stateMutability:"view",type:"function"},{name:"user_point_epoch",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"arg0"}],stateMutability:"view",type:"function"},{name:"slope_changes",outputs:[{type:"int128",name:""}],inputs:[{type:"uint256",name:"arg0"}],stateMutability:"view",type:"function"},{name:"controller",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"transfersEnabled",outputs:[{type:"bool",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"name",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"symbol",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"version",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"decimals",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"future_smart_wallet_checker",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"smart_wallet_checker",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"admin",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"future_admin",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"}],_a=class _a{static createInterface(){return new ue(rn)}static connect(t,e){return new ce(t,rn,e)}};_a.abi=rn;let Pn=_a;const ln=[{constant:!0,inputs:[],name:"hasInitialized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_script",type:"bytes"}],name:"getEVMScriptExecutor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"}],name:"canCreateNewVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getRecoveryVault",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MODIFY_QUORUM_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minAcceptQuorumPct",type:"uint64"}],name:"changeMinAcceptQuorumPct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MODIFY_SUPPORT_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"lastCreateVoteTimes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_supportRequiredPct",type:"uint64"}],name:"changeSupportRequiredPct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"allowRecoverability",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"appId",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ENABLE_VOTE_CREATION",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getInitializationBlock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalanceUpperLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minTime",type:"uint256"}],name:"setMinTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"}],name:"transferToVault",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"},{name:"_role",type:"bytes32"},{name:"_params",type:"uint256[]"}],name:"canPerform",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getEVMScriptRegistry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_supportRequiredPct",type:"uint64"},{name:"_minAcceptQuorumPct",type:"uint64"},{name:"_voteTime",type:"uint64"},{name:"_minBalance",type:"uint256"},{name:"_minTime",type:"uint256"},{name:"_minBalanceLowerLimit",type:"uint256"},{name:"_minBalanceUpperLimit",type:"uint256"},{name:"_minTimeLowerLimit",type:"uint256"},{name:"_minTimeUpperLimit",type:"uint256"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SET_MIN_BALANCE_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minTimeLowerLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"voteTime",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"CREATE_VOTES_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"},{name:"",type:"bytes"}],name:"canForward",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SET_MIN_TIME_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minBalance",type:"uint256"}],name:"setMinBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"kernel",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_evmScript",type:"bytes"}],name:"forward",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"disableVoteCreationOnce",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minAcceptQuorumPct",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isPetrified",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"votesLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteData",type:"uint256"},{name:"_supports",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"vote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"enableVoteCreationOnce",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minTimeUpperLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalanceLowerLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"enableVoteCreation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"supportRequiredPct",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isForwarder",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"DISABLE_VOTE_CREATION",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!1,name:"metadata",type:"string"},{indexed:!1,name:"minBalance",type:"uint256"},{indexed:!1,name:"minTime",type:"uint256"},{indexed:!1,name:"totalSupply",type:"uint256"},{indexed:!1,name:"creatorVotingPower",type:"uint256"}],name:"StartVote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"},{indexed:!0,name:"voter",type:"address"},{indexed:!1,name:"supports",type:"bool"},{indexed:!1,name:"stake",type:"uint256"}],name:"CastVote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"}],name:"ExecuteVote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"supportRequiredPct",type:"uint64"}],name:"ChangeSupportRequired",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minAcceptQuorumPct",type:"uint64"}],name:"ChangeMinQuorum",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minBalance",type:"uint256"}],name:"MinimumBalanceSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minTime",type:"uint256"}],name:"MinimumTimeSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executor",type:"address"},{indexed:!1,name:"script",type:"bytes"},{indexed:!1,name:"input",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"ScriptResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"vault",type:"address"},{indexed:!0,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"RecoverToVault",type:"event"}],va=class va{static createInterface(){return new ue(ln)}static connect(t,e){return new ce(t,ln,e)}};va.abi=ln;let at=va;const un=[{inputs:[{internalType:"address",name:"_prismaCore",type:"address"},{internalType:"contract IPrismaToken",name:"_token",type:"address"},{internalType:"contract IIncentiveVoting",name:"_voter",type:"address"},{internalType:"address",name:"_manager",type:"address"},{internalType:"uint256",name:"_lockToTokenRatio",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_weeks",type:"uint256"}],name:"LockCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"_weeks",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newWeeks",type:"uint256"}],name:"LockExtended",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],indexed:!1,internalType:"struct TokenLocker.LockData[]",name:"newLocks",type:"tuple[]"}],name:"LocksCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"currentWeeks",type:"uint256"},{internalType:"uint256",name:"newWeeks",type:"uint256"}],indexed:!1,internalType:"struct TokenLocker.ExtendLockData[]",name:"locks",type:"tuple[]"}],name:"LocksExtended",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LocksFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"LocksUnfrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawn",type:"uint256"},{indexed:!1,internalType:"uint256",name:"penalty",type:"uint256"}],name:"LocksWithdrawn",type:"event"},{inputs:[],name:"MAX_LOCK_WEEKS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRISMA_CORE",outputs:[{internalType:"contract IPrismaCore",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"allowPenaltyWithdrawAfter",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"deploymentManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_weeks",type:"uint256"},{internalType:"uint256",name:"_newWeeks",type:"uint256"}],name:"extendLock",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"currentWeeks",type:"uint256"},{internalType:"uint256",name:"newWeeks",type:"uint256"}],internalType:"struct TokenLocker.ExtendLockData[]",name:"newExtendLocks",type:"tuple[]"}],name:"extendMany",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"freeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"minWeeks",type:"uint256"}],name:"getAccountActiveLocks",outputs:[{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],internalType:"struct TokenLocker.LockData[]",name:"lockData",type:"tuple[]"},{internalType:"uint256",name:"frozenAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountBalances",outputs:[{internalType:"uint256",name:"locked",type:"uint256"},{internalType:"uint256",name:"unlocked",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"week",type:"uint256"}],name:"getAccountWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getAccountWeightWrite",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getTotalWeight",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"week",type:"uint256"}],name:"getTotalWeightAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTotalWeightWrite",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getWeek",outputs:[{internalType:"uint256",name:"week",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amountToWithdraw",type:"uint256"}],name:"getWithdrawWithPenaltyAmounts",outputs:[{internalType:"uint256",name:"amountWithdrawn",type:"uint256"},{internalType:"uint256",name:"penaltyAmountPaid",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"guardian",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"incentiveVoter",outputs:[{internalType:"contract IIncentiveVoting",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_weeks",type:"uint256"}],name:"lock",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"},{components:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"weeksToUnlock",type:"uint256"}],internalType:"struct TokenLocker.LockData[]",name:"newLocks",type:"tuple[]"}],name:"lockMany",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"lockToTokenRatio",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"lockToken",outputs:[{internalType:"contract IPrismaToken",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"penaltyWithdrawalsEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"prismaCore",outputs:[{internalType:"contract IPrismaCore",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_timestamp",type:"uint256"}],name:"setAllowPenaltyWithdrawAfter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_enabled",type:"bool"}],name:"setPenaltyWithdrawalsEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalDecayRate",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUpdatedWeek",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"keepIncentivesVote",type:"bool"}],name:"unfreeze",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_weeks",type:"uint256"}],name:"withdrawExpiredLocks",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountToWithdraw",type:"uint256"}],name:"withdrawWithPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],fa=class fa{static createInterface(){return new ue(un)}static connect(t,e){return new ce(t,un,e)}};fa.abi=un;let qa=fa;const cn=[{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"assetAllocations",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"members",type:"address[]"}],name:"getAllocations",outputs:[{internalType:"uint16[16][]",name:"",type:"uint16[16][]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16[16]",name:"choices",type:"uint16[16]"}],name:"recordAllocation",outputs:[],stateMutability:"nonpayable",type:"function"}],ha=class ha{static createInterface(){return new ue(cn)}static connect(t,e){return new ce(t,cn,e)}};ha.abi=cn;let Ea=ha;const pn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"uint256",name:"_end",type:"uint256"}],name:"expReg",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_start",type:"uint256"}],name:"setReg",type:"event"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"}],name:"batchAddressCheck",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"eDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"execute",outputs:[{internalType:"bool",name:"",type:"bool"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"},{internalType:"address",name:"_to",type:"address"}],name:"forceRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_from",type:"address"}],name:"forceToExpire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"forwardHistory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"forwardLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"page",type:"uint256"}],name:"forwardPage",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"inForwardHistory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"inOptOutHistory",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextEpoch",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"optOutHistory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"optOutLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"size",type:"uint256"},{internalType:"uint256",name:"page",type:"uint256"}],name:"optOutPage",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"registry",outputs:[{internalType:"uint256",name:"start",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"expiration",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"setRegistry",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setToExpire",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],ba=class ba{static createInterface(){return new ue(pn)}static connect(t,e){return new ce(t,pn,e)}};ba.abi=pn;let Ba=ba;const dn=[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"}],ga=class ga{static createInterface(){return new ue(dn)}static connect(t,e){return new ce(t,dn,e)}};ga.abi=dn;let Ua=ga;const mn=[{name:"Transfer",inputs:[{name:"_from",type:"address",indexed:!0},{name:"_to",type:"address",indexed:!0},{name:"_tokenId",type:"uint256",indexed:!0}],anonymous:!1,type:"event"},{name:"Approval",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_approved",type:"address",indexed:!0},{name:"_tokenId",type:"uint256",indexed:!0}],anonymous:!1,type:"event"},{name:"ApprovalForAll",inputs:[{name:"_owner",type:"address",indexed:!0},{name:"_operator",type:"address",indexed:!0},{name:"_approved",type:"bool",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"preminters",type:"address[235]"}],outputs:[]},{stateMutability:"pure",type:"function",name:"supportsInterface",inputs:[{name:"interface_id",type:"bytes4"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"balanceOf",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"ownerOf",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"getApproved",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"isApprovedForAll",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{name:"",type:"bool"}]},{stateMutability:"nonpayable",type:"function",name:"transferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"safeTransferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"safeTransferFrom",inputs:[{name:"from_addr",type:"address"},{name:"to_addr",type:"address"},{name:"token_id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"approve",inputs:[{name:"approved",type:"address"},{name:"token_id",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"setApprovalForAll",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{stateMutability:"payable",type:"function",name:"allowlistMint",inputs:[{name:"mint_amount",type:"uint256"},{name:"approved_amount",type:"uint256"},{name:"sig",type:"bytes"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"mint",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenURI",inputs:[{name:"token_id",type:"uint256"}],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"contractURI",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"nonpayable",type:"function",name:"set_minter",inputs:[{name:"minter",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_al_signer",inputs:[{name:"al_signer",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_base_uri",inputs:[{name:"base_uri",type:"string"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_contract_uri",inputs:[{name:"new_uri",type:"string"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_owner",inputs:[{name:"new_addr",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"set_revealed",inputs:[{name:"flag",type:"bool"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"withdraw",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"admin_withdraw_erc20",inputs:[{name:"coin",type:"address"},{name:"target",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"start_al_mint",inputs:[],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"stop_al_mint",inputs:[],outputs:[]},{stateMutability:"view",type:"function",name:"totalSupply",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenByIndex",inputs:[{name:"_index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokenOfOwnerByIndex",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"tokensForOwner",inputs:[{name:"owner",type:"address"}],outputs:[{name:"",type:"uint256[]"}]},{stateMutability:"view",type:"function",name:"symbol",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"name",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"owner",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"base_uri",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"revealed",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"default_uri",inputs:[],outputs:[{name:"",type:"string"}]},{stateMutability:"view",type:"function",name:"al_mint_started",inputs:[],outputs:[{name:"",type:"bool"}]},{stateMutability:"view",type:"function",name:"al_signer",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"minter",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"al_mint_amount",inputs:[{name:"arg0",type:"address"}],outputs:[{name:"",type:"uint256"}]}],wa=class wa{static createInterface(){return new ue(mn)}static connect(t,e){return new ce(t,mn,e)}};wa.abi=mn;let Wa=wa;const yn=[{inputs:[{internalType:"address",name:"_token",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_incentive",type:"uint256"}],name:"CallerIncentiveUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_caller",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_strategy",type:"address"}],name:"StrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CALL_INCENTIVE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callIncentive",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"depositAll",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_incentive",type:"uint256"}],name:"setCallIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_strategy",type:"address"}],name:"setStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strategy",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnderlying",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlying",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"withdrawAll",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Ta=class Ta{static createInterface(){return new ue(yn)}static connect(t,e){return new ce(t,yn,e)}};Ta.abi=yn;let Na=Ta;const _n=[{inputs:[{internalType:"address",name:"pxCvx",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"AlreadySet",type:"error"},{inputs:[],name:"ExceedsMax",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_strategy",type:"address"}],name:"StrategySet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"uint256",name:"assets",type:"uint256"},{indexed:!1,internalType:"uint256",name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{internalType:"contract ERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"deposit",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"maxMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"shares",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"redeem",outputs:[{internalType:"uint256",name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_strategy",type:"address"}],name:"setStrategy",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"strategy",outputs:[{internalType:"contract UnionPirexStaking",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAssets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"assets",type:"uint256"},{internalType:"address",name:"receiver",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],$a=class $a{static createInterface(){return new ue(_n)}static connect(t,e){return new ce(t,_n,e)}};$a.abi=_n;let Ha=$a;const vn=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_incentive",type:"uint256"}],name:"CallerIncentiveUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_caller",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_fee",type:"uint256"}],name:"PlatformFeeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_platform",type:"address"}],name:"PlatformUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"}],name:"Withdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"_penalty",type:"uint256"}],name:"WithdrawalPenaltyUpdated",type:"event"},{inputs:[],name:"CRVETH_CRV_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRVETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CRV_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXCRV_CRV_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVX_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_CRV_INDEX",outputs:[{internalType:"int128",name:"",type:"int128"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_CVXCRV_INDEX",outputs:[{internalType:"int128",name:"",type:"int128"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_STAKING_CONTRACT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXCRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_CVX_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_CALL_INCENTIVE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_PLATFORM_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_WITHDRAWAL_PENALTY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"balanceOfUnderlying",outputs:[{internalType:"uint256",name:"amount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callIncentive",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"deposit",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"depositAll",outputs:[{internalType:"uint256",name:"_shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"harvest",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstanding3CrvRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstandingCrvRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"outstandingCvxRewards",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platform",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"platformFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_incentive",type:"uint256"}],name:"setCallIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_platform",type:"address"}],name:"setPlatform",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_fee",type:"uint256"}],name:"setPlatformFee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_penalty",type:"uint256"}],name:"setWithdrawalPenalty",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalUnderlying",outputs:[{internalType:"uint256",name:"total",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"underlying",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"}],name:"withdrawAll",outputs:[{internalType:"uint256",name:"withdrawn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"withdrawAllAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"}],name:"withdrawAllAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"}],name:"withdrawAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_shares",type:"uint256"},{internalType:"enum ClaimZaps.Option",name:"option",type:"uint8"},{internalType:"uint256",name:"minAmountOut",type:"uint256"}],name:"withdrawAs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdrawalPenalty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],ka=class ka{static createInterface(){return new ue(vn)}static connect(t,e){return new ce(t,vn,e)}};ka.abi=vn;let Ka=ka;const fn=[{inputs:[{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"oldOption",type:"uint8"},{indexed:!1,internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"newOption",type:"uint8"}],name:"OptionChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"CRVETH_CRV_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRVETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CRV_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CRV_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXFXS_FXS_LP_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVXFXS_FXS_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_CVX_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_FRAX_USDC_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CURVE_FXS_ETH_POOL",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_CVX_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXETH_ETH_INDEX",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVXFXS_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"CVX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FRAX_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FXS_DEPOSIT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FXS_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNISWAP_ROUTER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"UNIV3_ROUTER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"USDC_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"USDT_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH_TOKEN",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"_claimAsEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"claimFromVaultAsCvx",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsEth",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsFxs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromVaultViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositFromEth",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositFromFxs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"depositFromUFxs",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"inputToken",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"depositViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"_newOption",type:"uint8"}],name:"setSwapOption",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapOption",outputs:[{internalType:"enum stkCvxFxsStrategyBase.SwapOption",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}],Ca=class Ca{static createInterface(){return new ue(fn)}static connect(t,e){return new ce(t,fn,e)}};Ca.abi=fn;let Xa=Ca;const hn=[{inputs:[{internalType:"address",name:"_strategyZaps",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bool",name:"lock",type:"bool"}],name:"claimFromDistributorAsCvx",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"assetIndex",type:"uint256"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUnderlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributor",outputs:[{internalType:"contract IGenericDistributor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"zaps",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Sa=class Sa{static createInterface(){return new ue(hn)}static connect(t,e){return new ce(t,hn,e)}};Sa.abi=hn;let ja=Sa;const bn=[{inputs:[{internalType:"address",name:"_strategyZaps",type:"address"},{internalType:"address",name:"_distributor",type:"address"},{internalType:"address",name:"_vault",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsEth",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsPrisma",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUnderlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorAsUsdt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"},{internalType:"uint256",name:"minAmountOut",type:"uint256"},{internalType:"address",name:"router",type:"address"},{internalType:"address",name:"outputToken",type:"address"},{internalType:"address",name:"to",type:"address"}],name:"claimFromDistributorViaUniV2EthPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"distributor",outputs:[{internalType:"contract IGenericDistributor",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"setApprovals",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"vault",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"zaps",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],Ma=class Ma{static createInterface(){return new ue(bn)}static connect(t,e){return new ce(t,bn,e)}};Ma.abi=bn;let Qa=Ma;const gn=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],La=class La{static createInterface(){return new ue(gn)}static connect(t,e){return new ce(t,gn,e)}};La.abi=gn;let Rn=La;const wn=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Aa=class Aa{static createInterface(){return new ue(wn)}static connect(t,e){return new ce(t,wn,e)}};Aa.abi=wn;let In=Aa;const Tn=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],za=class za{static createInterface(){return new ue(Tn)}static connect(t,e){return new ce(t,Tn,e)}};za.abi=Tn;let Vn=za;const $n=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}],xa=class xa{static createInterface(){return new ue($n)}static connect(t,e){return new ce(t,$n,e)}};xa.abi=$n;let On=xa;const Vu="https://api.llama.airforce/";async function Ou(n,t,e){try{const a=await fetch(n,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:e});if(a.ok)return a;throw new Error(`Fetch error ${a.status} for URL: ${n}`)}catch(a){throw a instanceof Error?a:new Error("Unknown fetch error")}}async function Du(n,t,e){return await(await Ou(n,t,e)).json()}class oe{constructor(t){this.host=t}async fetch(t,e,a){return Du(t,e,a)}}class ui extends oe{async getPrice(t){const e=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${e}`).then(a=>a.coins[e])}async getPrices(t){const e=t.map(a=>`ethereum:${a}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${e}`).then(a=>a.coins)}}async function Fu(n,t,e){const a=xn.connect(Iu,n),o=await a.mainRewardRates().then(_=>O.zip(_.tokens,_.rates)),l=await a.extraRewardRates().then(_=>O.zip(_.tokens,_.rates)),u=O.chain(o).concat(l).filter(_=>_[1].gt(0)).groupBy(_=>_[0]).map((_,p)=>({address:p,rate:_.reduce((v,y)=>v.add(y[1]),Rl.from(0))})).value(),i=O.chain(u).map(_=>_.address).concat([Va]).uniq().value(),r=await t.getPrices(i).then(_=>Mu(Object.keys(_).map(p=>({address:p.replace("ethereum:","").toLocaleLowerCase(),price:_[p].price})),p=>p.address,p=>Qn(p.price,18n))),c=[],d=r[Va];for(const _ of u){const p=await a.apr(_.rate,r[_.address.toLocaleLowerCase()],d).then(y=>y.toBigInt()),v=Fe(p,18n);c.push(v)}return c}function ci(n){return n.message.includes("Exchange resulted in fewer coins than expected")||n.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":n.message}async function qu(n){try{return await n()}catch(t){const e=t instanceof Error?ci(t):JSON.stringify(t);Un({text:e,type:"error"});return}}async function Dt(n,t){n.value=!0;try{return await t()}catch(e){const a=e instanceof Error?ci(e):JSON.stringify(e);Un({text:a,type:"error"});return}finally{n.value=!1}}const Eu={key:0},Bu={class:"nav-link-container"},Uu={class:"nav-link-container"},Wu={class:"left"},Nu={key:0,class:"icon"},Hu={class:"right"},Ku=A({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(n,{emit:t}){const e=t,a=Wn(),o=z(!0),l=w(()=>Ia(n.item)?[n.item]:Mt(n.item)?n.item.children:[]),u=()=>{Mt(n.item)&&n.item.children.filter(d=>zn(d.to,a)).length>0&&(o.value=!0)},i=c=>typeof c.label=="string"?c.label:c.label();D(()=>n.item,c=>{Mt(c)&&(o.value=!c.initCollapsed),u()},{immediate:!0}),D(()=>a.fullPath,()=>{u()},{immediate:!0});const r=()=>{o.value=!o.value};return(c,d)=>{const _=Su,p=Ne("router-link"),v=ht;return b(),S(se,null,[s(Mt)(c.item)?(b(),S("li",Eu,[m("a",{class:"nav-link node",onClick:r},[m("div",Bu,[B(M(c.item.label)+" ",1),m("i",{class:q(["expander fas fa-chevron-up",{expanded:s(o)}])},null,2)])])])):V("",!0),h(v,{class:"items",expanded:s(o)},{default:C(()=>[m("ul",null,[(b(!0),S(se,null,_e(s(l),y=>(b(),S("li",{key:i(y)},[s(Ia)(y)?(b(),P(p,{key:0,to:y.to,class:q(["nav-link leaf",{"router-link-active":s(zn)(y.to,s(a))}]),onClick:d[0]||(d[0]=f=>e("navigated"))},{default:C(()=>[m("div",Uu,[m("div",Wu,[y.icon?(b(),S("div",Nu,[m("i",{class:q(y.icon)},null,2)])):V("",!0),B(" "+M(i(y)),1)]),m("div",Hu,[y.tag?(b(),P(_,{key:0,label:y.tag},null,8,["label"])):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Xu=x(Ku,[["__scopeId","data-v-ff023aa0"]]),ju=A({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(n,{emit:t}){const e=t,a=Wn(),o=w(()=>n.pages.find(i=>zn(i.titleRoute,a))),l=w(()=>{var i;return((i=o.value)==null?void 0:i.menuItems)??[]}),u=i=>typeof i.label=="string"?i.label:i.label();return(i,r)=>(b(),S("nav",null,[(b(!0),S(se,null,_e(s(l),c=>(b(),S("ul",{key:u(c)},[h(Xu,{item:c,onNavigated:r[0]||(r[0]=d=>e("navigated"))},null,8,["item"])]))),128))]))}}),Qu=x(ju,[["__scopeId","data-v-6a18bfcc"]]),pi=Re("walletStore",()=>{const n=z(),t=z(!1),e=z();function a(o){n.value=o==null?void 0:o.toLocaleLowerCase()}return{address:n,connected:t,network:e,setAddress:a}}),Gu=Il(),Yu=Vl({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),Zu=Fl({darkMode:!0}),Ju=ql();let Pe=null;function ec(){const n=Dl({wallets:[Gu,Yu,Zu,Ju],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return n.state.actions.updateAccountCenter({enabled:!1}),n}let Dn=null;async function tc(n=!1){Pe||(Pe=ec());let[t]=Pe.state.get().wallets;if(!t){const e=window.localStorage.getItem("connectedWallet");e?[t]=await Pe.connectWallet({autoSelect:{label:e,disableModals:!0}}):n&&([t]=await(Pe==null?void 0:Pe.connectWallet())??[null],t&&window.localStorage.setItem("connectedWallet",t.label))}Dn=t||null}async function nc(){if(!Pe)return;const[n]=Pe.state.get().wallets;await Pe.disconnectWallet({label:n.label}),window.localStorage.removeItem("connectedWallet")}function yt(){return Dn?new Ol(Dn.provider):void 0}async function ac(n){if(!n)return!1;try{const e=await n.getSigner().getAddress();return!0}catch{return!1}}async function di(n){if(n)try{const{name:t,chainId:e}=await n.getNetwork();return t==="homestead"&&e===1?"ethereum":e===8453?"base":void 0}catch{return}}async function sc(n){return await n.getSigner().getAddress()}function Me(n,t=6){if(!n)return"0x000...000";const e=t/2+2,a=n.length-t/2;return`${n.substring(0,e)}...${n.substring(a)}`}function Ee(){const n=pi(),t=w(()=>n.connected),e=w(()=>n.network),a=w(()=>n.address),o=async(_=!1)=>{await tc(_);const p=yt(),v=await ac(p);n.connected=v;const y=await di(p);n.network=y},l=async()=>{await nc(),n.connected=!1},u=()=>{var _;return(_=yt())==null?void 0:_.getSigner()};return{connected:t,network:e,address:a,getProvider:yt,getSigner:u,withProvider:(_,p)=>(...v)=>{const y=yt();return!y||!a.value?new Promise(f=>{p&&p(...v),f()}):_(y,a.value,...v)},withProviderReturn:(_,p)=>(...v)=>{const y=yt();return!y||!a.value?new Promise(f=>{const T=p(...v);f(T)}):_(y,a.value,...v)},withSigner:(_,p)=>(...v)=>{const y=u();return!y||!a.value?new Promise(f=>{p&&p(...v),f()}):_(y,a.value,...v)},withSignerReturn:(_,p)=>(...v)=>{const y=u();return!y||!a.value?new Promise(f=>{const T=p(...v);f(T)}):_(y,a.value,...v)},connectWallet:o,disconnectWallet:l}}function oc(){return!1}const ic=A({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:t}){const e=t,{withProvider:a}=Ee(),o=async l=>{l.stopImmediatePropagation(),n.web3&&oc()&&await a(async u=>{await di(u)!=="ethereum"&&(await u.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())})(),e("click")};return(l,u)=>(b(),S("button",{class:q({primary:l.primary}),onClick:o},[J(l.$slots,"default",{},()=>[l.icon?(b(),S("i",{key:0,class:q(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):V("",!0),B(" "+M(l.value),1)],!0)],2))}}),Ae=x(ic,[["__scopeId","data-v-a5f3519d"]]),rc="/assets/crv-CKEIQw2g.png",lc="/assets/hat-D1qfnSjv.png",uc={},mi=n=>(ie("data-v-c65244ad"),n=n(),re(),n),cc={class:"logo"},pc=mi(()=>m("div",{class:"visual"},[m("img",{src:rc}),m("img",{src:lc})],-1)),dc=mi(()=>m("span",null,"curve.monitor",-1)),mc=[pc,dc];function yc(n,t){return b(),S("div",cc,mc)}const _c=x(uc,[["render",yc],["__scopeId","data-v-c65244ad"]]),vc={class:"header"},fc={class:"buttons"},hc=A({__name:"Header",emits:["toggle-expansion","navigated"],setup(n,{emit:t}){const e=t;return(a,o)=>{const l=Ne("router-link"),u=Ae;return b(),S("div",vc,[h(l,{class:"logo",to:"/",onClick:o[0]||(o[0]=i=>e("navigated"))},{default:C(()=>[h(_c,{class:"logo"})]),_:1}),m("div",fc,[h(u,{icon:"fas fa-bars",onClick:o[1]||(o[1]=i=>e("toggle-expansion"))})])])}}}),bc=x(hc,[["__scopeId","data-v-edc55270"]]),gc=n=>(ie("data-v-8e55132f"),n=n(),re(),n),wc={class:"select"},Tc={class:"item"},$c={key:0,class:"label"},kc=["onClick"],Cc=gc(()=>m("div",{class:"chevrons"},[m("i",{class:"fas fa-chevron-up"}),m("i",{class:"fas fa-chevron-down"})],-1)),Sc=A({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(n,{emit:t}){const e=t;return(a,o)=>(b(),S("div",{class:"select-container",tabindex:"0",onClick:o[0]||(o[0]=Se(l=>e("open"),["stop"])),onBlur:o[1]||(o[1]=l=>e("close"))},[m("div",wc,[m("div",{class:q(["selected",{open:a.open}])},[J(a.$slots,"item",{item:a.selected},()=>[m("div",Tc,M(a.selected),1)],!0),a.label?(b(),S("div",$c,M(a.label),1)):V("",!0)],2),m("div",{class:q(["items",{selectHide:!a.open}])},[(b(!0),S(se,null,_e(a.options,(l,u)=>(b(),S("div",{key:u,onClick:i=>e("input",l)},[J(a.$slots,"item",{item:l},()=>[B(M(l),1)],!0)],8,kc))),128))],2)]),Cc],32))}}),bt=x(Sc,[["__scopeId","data-v-8e55132f"]]),Mc=["en","zh","fr"],Lc={class:"item"},Ac={class:"label"},Ga="locale",yi=A({__name:"SelectLanguage",props:{locales:{default:()=>Mc},direction:{default:"up"}},setup(n){const{t}=I(),{locale:e}=I({useScope:"global"}),a=z("en"),o=z(!1);Y(()=>{const i=localStorage.getItem(Ga);i&&n.locales.some(r=>r===i)&&u(i)});const l=()=>{o.value=!o.value},u=i=>{a.value=i,e.value=a.value,localStorage.setItem(Ga,a.value)};return(i,r)=>{const c=bt;return b(),P(c,{class:q(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(d=>d),selected:s(a),open:s(o),onOpen:l,onClose:r[0]||(r[0]=d=>o.value=!1),onInput:u},{item:C(d=>[m("div",Lc,[m("div",Ac,M(s(t)(d.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function Ya(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{en:e=>{const{normalize:a}=e;return a(["English"])},zh:e=>{const{normalize:a}=e;return a(["中文"])},fr:e=>{const{normalize:a}=e;return a(["Français"])}}})}typeof Ya=="function"&&Ya(yi);const zc=x(yi,[["__scopeId","data-v-ecdcd3b5"]]),xc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Pc={key:1,src:xc},Rc=A({__name:"Tooltip",props:{icon:{default:""}},setup(n){const t=z(!1);return(e,a)=>(b(),P(s(El),{class:"tooltip",show:s(t)},{content:C(()=>[J(e.$slots,"default",{},void 0,!0)]),default:C(()=>[m("div",{onMouseover:a[0]||(a[0]=o=>t.value=!0),onMouseleave:a[1]||(a[1]=o=>t.value=!1)},[J(e.$slots,"item",{},()=>[e.icon?(b(),S("i",{key:0,class:q(e.icon)},null,2)):(b(),S("img",Pc))],!0)],32)]),_:3},8,["show"]))}}),gt=x(Rc,[["__scopeId","data-v-c6dd286f"]]),Ic=n=>(ie("data-v-8094da34"),n=n(),re(),n),Vc={class:"buttons"},Oc=Ic(()=>m("i",{class:"fas fa-trash"},null,-1)),Dc=["innerHTML"],Zn=A({__name:"WalletConnectButton",setup(n){const{t}=I(),{connectWallet:e}=Ee(),a=()=>{window.localStorage.removeItem("connectedWallet")};return(o,l)=>{const u=Ae,i=gt;return b(),S("div",Vc,[h(u,{class:"button",primary:!0,onClick:l[0]||(l[0]=r=>s(e)(!0))},{default:C(()=>[B(M(s(t)("connect-your-wallet")),1)]),_:1}),h(i,{class:"tooltip"},{item:C(()=>[h(u,{class:"button clear",onClick:a},{default:C(()=>[Oc]),_:1})]),default:C(()=>[m("div",{class:"ping",innerHTML:s(t)("clear-cache")},null,8,Dc)]),_:1})])}}});function Za(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"connect-your-wallet":e=>{const{normalize:a}=e;return a(["Connect Wallet"])},"clear-cache":e=>{const{normalize:a}=e;return a(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function Ja(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"connect-your-wallet":e=>{const{normalize:a}=e;return a(["连接你的钱包"])},"clear-cache":e=>{const{normalize:a}=e;return a(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof Za=="function"&&Za(Zn);typeof Ja=="function"&&Ja(Zn);const Fc=x(Zn,[["__scopeId","data-v-8094da34"]]),qc={class:"wallet"},Ec={key:0,class:"connected"},Bc={key:0,class:"unsupportedNetwork"},Uc={class:"info"},Wc={key:1,class:"notConnected"},Nc={key:0,class:"info"},_i=A({__name:"Wallet",props:{labelPleaseConnect:{}},setup(n){const{t}=I(),e=pi(),{connected:a,network:o,address:l,connectWallet:u,disconnectWallet:i,getProvider:r,withProvider:c}=Ee(),d=w(()=>o.value==="ethereum");Y(u),D(a,async p=>{const v=r(),y=v&&p?await sc(v):void 0;e.setAddress(y)},{immediate:!0});const _=c(async p=>{await p.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload()});return(p,v)=>{const y=Ae;return b(),S("div",qc,[s(a)?(b(),S("div",Ec,[s(d)?V("",!0):(b(),S("div",Bc,[h(y,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:s(_)},null,8,["onClick"]),m("span",Uc,M(s(t)("incorrect-network")),1)])),h(y,{class:"disconnect",icon:"fas fa-check",value:s(Me)(s(l)),onClick:s(i)},null,8,["value","onClick"])])):(b(),S("div",Wc,[h(Fc),p.labelPleaseConnect?(b(),S("span",Nc,M(p.labelPleaseConnect),1)):V("",!0)]))])}}});function es(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"incorrect-network":e=>{const{normalize:a}=e;return a(["You are not on the correct network; should be Ethereum"])}}})}typeof es=="function"&&es(_i);const Hc=x(_i,[["__scopeId","data-v-b57cb9b4"]]),Je={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Kc=[Je.blue,Je.yellow,Je.green,Je.red,Je.purple],et={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Xc=[et.blue,et.yellow,et.green,et.red,et.purple],tt={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},jc=[tt.blue,tt.yellow,tt.green,tt.red,tt.purple];function Ot(n){switch(n){case"chad":return tt;case"light":return et;default:return Je}}function Qc(n){switch(n){case"chad":return jc;case"light":return Xc;default:return Kc}}const U=Re("settingsStore",()=>{const n=z("light"),t=w(()=>({colors:Ot(n.value),colorsArray:Qc(n.value)}));return{themeId:n,theme:t}}),Gc={class:"theme"},Yc={class:"label"},Zc={class:"colors"},Jc=A({__name:"SelectTheme",setup(n){const t=[{id:"chad",colors:Ot("chad")},{id:"dark",colors:Ot("dark")},{id:"light",colors:Ot("light")}],e=U(),a=z(t[0]),o=z(!1);Y(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme");if(!r&&i)u(t.find(c=>c.id==="dark"));else{const c=t.find(d=>d.id===r)??t.find(d=>d.id==="light")??t[0];u(c)}});const l=()=>{o.value=!o.value},u=i=>{a.value=i,window.document.documentElement.setAttribute("data-theme",a.value.id),e.themeId=a.value.id,localStorage.setItem("theme",a.value.id)};return(i,r)=>{const c=bt;return b(),P(c,{class:"select direction-up",options:t.map(d=>d),selected:s(a),open:s(o),onOpen:l,onClose:r[0]||(r[0]=d=>o.value=!1),onInput:u},{item:C(d=>[m("div",Gc,[m("div",Yc,M(d.item.id),1),m("div",Zc,[m("div",{class:"color",style:he({"background-color":d.item.colors.backgroundColor})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.level1})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.level2})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.blue})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.yellow})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.green})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.red})},null,4),m("div",{class:"color",style:he({"background-color":d.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),ep=x(Jc,[["__scopeId","data-v-f01d9716"]]),tp={class:"bottom"},np={class:"buttons"},ap={href:"https://twitter.com/0xAlunara",target:"_blank"},sp={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},op={class:"selectors"},ip=A({__name:"Bottom",emits:["navigated"],setup(n,{emit:t}){const e=t,a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(o,l)=>{const u=Ae,i=Ne("router-link"),r=zc;return b(),S("div",tp,[m("div",np,[h(u,{class:"copy",icon:"fas fa-link",onClick:a}),m("a",ap,[h(u,{icon:"fab fa-twitter"})]),m("a",sp,[h(u,{icon:"fab fa-github"})]),h(i,{to:"/code"},{default:C(()=>[h(u,{icon:"fas fa-code",onClick:l[0]||(l[0]=c=>e("navigated"))})]),_:1})]),m("div",op,[h(ep,{class:"themes"}),h(r,{class:"langs",locales:["en"]})]),h(Hc)])}}}),rp=x(ip,[["__scopeId","data-v-45533ed7"]]),Jn=()=>Re("pageStore",()=>{const n=z([]),t=z([]);return{pages:n,routes:t}})(),lp=A({__name:"Navigation",emits:["navigated"],setup(n,{emit:t}){const e=t,a=Jn(),o=z(!1),l=()=>{o.value=!1,e("navigated")};return(u,i)=>{const r=Qu,c=ht;return b(),S("div",{class:q(["menu-desktop",{expanded:s(o)}])},[h(bc,{onToggleExpansion:i[0]||(i[0]=d=>o.value=!s(o)),onNavigated:l}),h(c,{class:"menu-content",expanded:s(o)},{default:C(()=>[h(r,{pages:s(a).pages,onNavigated:l},null,8,["pages"]),h(rp,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),up=x(lp,[["__scopeId","data-v-fee1447d"]]),Ke=Re("breadcrumbStore",()=>{const n=z([]),t=z(!1);return{crumbs:n,show:t}}),cp=n=>(ie("data-v-deb9683e"),n=n(),re(),n),pp={class:"root"},dp={class:"main"},mp={class:"toolbar-container"},yp=cp(()=>m("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),_p={class:"content"},vp=A({__name:"App",setup(n){const t=Ke(),e=Wn(),a=qe();D(()=>e.fullPath,l=>{l.includes("crvusd")||l.includes("lending")||(t.show=!1)});const o=async l=>{l.pathName&&await a.push({name:l.pathName})};return(l,u)=>{const i=Ne("notifications"),r=gu,c=Ne("router-view");return b(),S("div",pp,[h(i,{width:600,duration:-1}),h(s(Bl)),h(up,{class:"navigation"}),m("main",dp,[m("div",mp,[s(t).show?(b(),P(r,{key:0,class:"breadcrumb",crumbs:s(t).crumbs,onCrumb:o},null,8,["crumbs"])):V("",!0),yp]),m("div",_p,[h(c,null,{default:C(({Component:d})=>[h(Ul,{name:"fade",mode:"out-in"},{default:C(()=>[(b(),P(Bn(d)))]),_:2},1024)]),_:1})])])])}}}),fp=x(vp,[["__scopeId","data-v-deb9683e"]]),hp="/assets/404-DGbqGNxT.png",bp=n=>(ie("data-v-3987f8f8"),n=n(),re(),n),gp={class:"not-found"},wp={class:"not-found-container"},Tp=bp(()=>m("img",{src:hp},null,-1)),vi=A({__name:"NotFound.page",setup(n){const{t}=I();return(e,a)=>{const o=G;return b(),S("div",gp,[m("div",wp,[h(o,null,{default:C(()=>[B(M(s(t)("404")),1)]),_:1}),Tp])])}}});function ts(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{404:e=>{const{normalize:a}=e;return a(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof ts=="function"&&ts(vi);const $p=x(vi,[["__scopeId","data-v-3987f8f8"]]),fi=n=>(ie("data-v-757ed965"),n=n(),re(),n),kp=fi(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),Cp=[kp],Sp=fi(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),Mp=[Sp],Lp={class:"row-details"},Ap=A({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(n,{emit:t}){const e=t,a=Yo(),o=w(()=>{var i;const u=a["row-details"];if(u){const r=(i=u()[0])==null?void 0:i.children;if(r)return r.length>0}return!1}),l=()=>{e("click",n.data)};return(u,i)=>{const r=ht;return b(),S("div",{class:q(["row",{expanded:u.expanded}])},[m("div",{class:q(["row-data item",[u.columns,{active:u.selected,expandable:s(o),"has-data":!!u.data}]]),onClick:l},[u.data&&s(o)&&u.expandSide==="left"?(b(),S("div",{key:0,class:q(["expander",{expanded:u.expanded}])},Cp,2)):V("",!0),J(u.$slots,"row",{},void 0,!0),u.data&&s(o)&&u.expandSide!=="left"?(b(),S("div",{key:1,class:q(["expander",{expanded:u.expanded}])},Mp,2)):V("",!0)],2),u.data?(b(),P(r,{key:0,expanded:u.expanded},{default:C(()=>[m("div",Lp,[J(u.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):V("",!0)],2)}}}),zp=x(Ap,[["__scopeId","data-v-757ed965"]]);var fe=(n=>(n.Ascending="Ascending",n.Descending="Descending",n))(fe||{});const xp=["inert"],Pp={key:0,class:"header"},Rp={key:0,class:"header-icon"},Ip={class:"list"},Vp=["onClick"],Op={key:0,class:"sorting-arrows"},Dp={key:0,class:"sorting-arrow fa fa-caret-up"},Fp={key:1,class:"sorting-arrow fa fa-caret-down"},qp={key:2,class:"sorting-arrow"},Ep={class:"rows"},Bp={key:1,class:"no-data"},ea=A({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(n,{emit:t}){const e=t,a=z(""),o=z(fe.Ascending),l=w(()=>`grid-template-columns: ${n.columnsHeader}`),u=w(()=>{if(n.rowsMin===null)return[];const f=Math.max(0,n.rowsMin-n.rows.length);return new Array(f)});Zo(()=>{n.sortingDefaultColumn&&(a.value=n.sortingDefaultColumn),n.sortingDefaultDir&&(o.value=n.sortingDefaultDir===fe.Ascending?fe.Ascending:fe.Descending)});const i=f=>{e("selected",f)},{t:r}=I(),c=f=>{const T=f+1;return!!(n.rows[f+1]&&n.rows.findIndex(L=>L===n.selectedRow)===T)},d=f=>n.expanded.includes(f),_=f=>{const T=n.sortingColumns[f];return n.sortingColumnsEnabled.includes(T)},p=f=>a.value===n.sortingColumns[f]&&o.value===fe.Ascending,v=f=>a.value===n.sortingColumns[f]&&o.value===fe.Descending,y=f=>{if(!n.sorting||!n.sortingColumns||!_(f))return;const T=n.sortingColumns[f];T===a.value?o.value=o.value===fe.Ascending?fe.Descending:fe.Ascending:o.value=fe.Ascending,a.value=T,e("sortColumn",a.value,o.value)};return(f,T)=>{const g=Ie,k=zp;return b(),S("div",{class:q(["datatable",{loading:f.loading}]),inert:!!f.loading},[f.header?(b(),S("div",Pp,[f.icon?(b(),S("div",Rp,[m("i",{class:q(f.icon)},null,2)])):V("",!0),m("div",{class:"header-content",style:he(s(l))},[J(f.$slots,"header-content",{},void 0,!0)],4)])):V("",!0),m("div",Ip,[f.columns.length>0?(b(),S("div",{key:0,class:q(["row-data",[f.columnsData,{"selected-below":c(-1)}]])},[J(f.$slots,"column-headers",{},()=>[(b(!0),S(se,null,_e(f.columns,(L,$)=>(b(),S("div",{key:L,class:q(["column-header",{"sortable-header":f.sorting&&_($),"current-sort":s(a)==f.sortingColumns[$]}]),onClick:R=>y($)},[B(M(L)+" ",1),f.sorting&&_($)?(b(),S("div",Op,[p($)?(b(),S("i",Dp)):v($)?(b(),S("i",Fp)):(b(),S("span",qp," — "))])):V("",!0)],10,Vp))),128))],!0)],2)):V("",!0),m("div",Ep,[f.loading!==null?(b(),P(g,{key:0,class:q(["loader",{loading:f.loading}])},null,8,["class"])):V("",!0),(b(!0),S(se,null,_e(f.rows,(L,$)=>(b(),P(k,{key:L,data:L,class:q({"selected-below":c($)}),columns:f.columnsData,selected:f.selectedRow===L,expanded:d(L),"expand-side":f.expandSide,onClick:i},{row:C(()=>[J(f.$slots,"row",{item:L},void 0,!0)]),"row-details":C(()=>[J(f.$slots,"row-details",{item:L},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(b(!0),S(se,null,_e(s(u),L=>(b(),P(k,{key:L}))),128)),!f.rowsMin&&(!f.rows||f.rows.length===0)&&!f.loading?(b(),S("div",Bp,[J(f.$slots,"no-data",{},()=>[B(M(s(r)("no-data")),1)],!0)])):V("",!0),f.$slots["row-aggregation"]&&f.rows.length>0?(b(),P(k,{key:2,class:"aggregation",columns:f.columnsData},{row:C(()=>[J(f.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])],10,xp)}}});function ns(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-data":e=>{const{normalize:a}=e;return a(["No data :("])}}})}function as(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"no-data":e=>{const{normalize:a}=e;return a(["没有数据 :("])}}})}typeof ns=="function"&&ns(ea);typeof as=="function"&&as(ea);const pe=x(ea,[["__scopeId","data-v-08b53a5f"]]),Up={class:"contracts"},Wp={class:"row"},Np={class:"title"},Hp=["href"],Kp={class:"title"},Xp=["href"],hi=A({__name:"Code.page",setup(n){const{t}=I(),o=[{name:"Llama Airforce",contracts:[{contract:Yn,description:"multisig",gnosis:!0},{contract:xu,description:"treasury",gnosis:!0},{contract:Pu,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:ri,description:"gauge-factory"},{contract:li,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],u=i=>{switch(i.network){case"arbitrum":return i.gnosis?`https://app.safe.global/home?safe=arb1:${i.contract}`:`https://arbiscan.io/address/${i.contract}`;case"ethereum":default:return i.gnosis?`https://app.safe.global/home?safe=eth:${i.contract}`:`https://etherscan.io/address/${i.contract}`}};return(i,r)=>{const c=pe;return b(),S("div",Up,[m("div",Wp,[h(c,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[s(t)("repository"),s(t)("description")]},{"header-content":C(()=>[m("div",Np,M(s(t)("repositories")),1)]),row:C(d=>[m("div",null,[m("a",{href:d.item.url,target:"_blank"},M(d.item.name),9,Hp)]),m("div",null,M(s(t)(d.item.description)),1)]),_:1},8,["columns"])]),(b(),S(se,null,_e(o,(d,_)=>h(c,{key:_,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:d.contracts,columns:[s(t)("contract"),s(t)("description")]},{"header-content":C(()=>[m("div",Kp,M(s(t)(d.name)),1)]),row:C(p=>[m("div",null,[m("a",{href:u(p.item),target:"_blank"},M(p.item.contract),9,Xp)]),m("div",null,M(s(t)(p.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function ss(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{repositories:e=>{const{normalize:a}=e;return a(["Repositories"])},repository:e=>{const{normalize:a}=e;return a(["Repository"])},description:e=>{const{normalize:a}=e;return a(["Description"])},contract:e=>{const{normalize:a}=e;return a(["Contract"])},other:e=>{const{normalize:a}=e;return a(["Other"])},"repo-laf":e=>{const{normalize:a}=e;return a(["This website's front-end, excluding the Union"])},"repo-graphs":e=>{const{normalize:a}=e;return a(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:e=>{const{normalize:a}=e;return a(["Multisig"])},treasury:e=>{const{normalize:a}=e;return a(["Treasury"])},"treasury-arbitrum":e=>{const{normalize:a}=e;return a(["Treasury Arbitrum"])},"gauge-factory":e=>{const{normalize:a}=e;return a(["Gauge Factory"])},"gauge-controller":e=>{const{normalize:a}=e;return a(["Gauge Controller"])}}})}typeof ss=="function"&&ss(hi);const jp=x(hi,[["__scopeId","data-v-797f7191"]]);function Qp(){const n=Jn(),t=[{path:"/code",component:jp},...n.routes.flatMap(a=>a),{path:"/:pathMatch(.*)*",name:"NotFound",component:$p}];return Wl({history:Nl(),routes:t})}const Gp=n=>(ie("data-v-0b69e9b9"),n=n(),re(),n),Yp={class:"input-text"},Zp={key:0,class:"icon"},Jp=Gp(()=>m("i",{class:"fas fa-search"},null,-1)),ed=[Jp],td=["type","value","placeholder"],nd=["onClick"],ad=A({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(n,{emit:t}){const e=t,a=w(()=>{const l=n.options.filter(i=>n.filter(n.modelValue,i));return n.sort?[...l].sort(n.sort):l}),o=l=>{const u=l.target.value;e("update:modelValue",u),e("input",u)};return(l,u)=>(b(),S("div",Yp,[l.search?(b(),S("span",Zp,ed)):V("",!0),m("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:Se(o,["stop"]),onSelect:u[0]||(u[0]=Se(()=>{},["stop"]))},null,40,td),l.options&&l.autoComplete?(b(),S("div",{key:1,class:q(["items",{selectHide:!l.autoComplete}])},[(b(!0),S(se,null,_e(s(a),(i,r)=>(b(),S("div",{key:r,onClick:c=>e("select",i)},[J(l.$slots,"item",{item:i,idx:r},()=>[B(M(i),1)],!0)],8,nd))),128))],2)):V("",!0)]))}}),ge=x(ad,[["__scopeId","data-v-0b69e9b9"]]),sd={key:0,class:"value"},od={key:1,class:"value"},id=["innerHTML"],rd={key:0,class:"value"},ld={key:1,class:"value"},ud=["innerHTML"],cd={class:"labels"},pd={class:"label"},dd={class:"label-second"},md=A({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(n){return(t,e)=>{const a=gt;return b(),S("div",{class:q(["kpi",{disabled:!t.hasValue}])},[m("div",{class:q(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[J(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(b(),P(a,{key:0},{item:C(()=>[t.hasValue?(b(),S("span",sd,M(t.value),1)):(b(),S("span",od," ? "))]),default:C(()=>[J(t.$slots,"tooltip",{},()=>[m("span",{innerHTML:t.tooltip},null,8,id)],!0)]),_:3})):(b(),S(se,{key:1},[t.hasValue?(b(),S("span",rd,M(t.value),1)):(b(),S("span",ld," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(b(),P(a,{key:0},{default:C(()=>[m("span",{innerHTML:t.tooltip},null,8,ud)]),_:1})):V("",!0)],2),m("div",cd,[J(t.$slots,"label",{},()=>[m("div",pd,M(t.label),1)],!0),J(t.$slots,"label-second",{},()=>[m("div",dd,M(t.labelSecond),1)],!0)])],2)}}}),Ce=x(md,[["__scopeId","data-v-913a939c"]]),yd={key:0,class:"async-value"},_d="|/-\\",ee=A({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(n){let t=0,e=0;const a=z("|"),o=w(()=>n.value?K(n.value,typeof n.precision=="function"?n.precision(n.value):n.precision,n.type??""):n.value===0&&n.showZero?"0":n.value===null||n.value===void 0?a.value:"?"),l=w(()=>n.precision===1/0?"":!n.value||!n.type||!O.isFinite(n.value)?n.showUnit&&n.type?H(0,n.type):"":H(n.value,n.type));return D(()=>n.value,u=>{if(clearInterval(e),t=0,u)return;const i=()=>{t=(t+1)%4,a.value=_d[t]};e=window.setInterval(i,250)},{immediate:!0}),(u,i)=>u.inline?(b(),S(se,{key:1},[B(M(u.showSymbol&&u.type==="dollar"?"$":"")+M(s(o))+M(u.showUnit?s(l):""),1)],64)):(b(),S("div",yd,M(u.showSymbol&&u.type==="dollar"?"$":"")+M(s(o))+M(u.showUnit?s(l):""),1))}}),vd=n=>({chain:n.chain,total:{tvl:n.total.total_tvl,tradingVolume24h:n.total.trading_volume_24h,tradingFee24h:n.total.trading_volume_24h,liquidityVolume24h:n.total.liquidity_volume_24h,liquidityFee24h:n.total.liquidity_fee_24h}}),fd="https://prices.curve.fi";class hd extends oe{async getChainInfo(t){const e=await this.fetch(`${fd}/v1/chains/${t}?page=1&per_page=1`);return vd(e)}}function ae(){return Vu}const bd=new hd(ae());function bi(n){return Q({queryKey:["curve-chain",n],queryFn:({queryKey:[,t]})=>bd.getChainInfo(t),enabled:w(()=>!!n.value)})}class gd{constructor(t){this.get$=new be(e=>{let a=1/0,o=!1;const l=()=>{e.next(Date.now()-a),o=!1};t.on("pong",l);const u=Hl({}).pipe(Kl(()=>{if(o){e.next(1/0);return}o=!0,a=Date.now(),t.emit("ping")}),Xl(5e3),jl()).subscribe();return()=>{u.unsubscribe(),t.off("pong",l)}}).pipe(Ql({refCount:!0,bufferSize:1}))}}let wd=class{constructor(t){this.socket=t}get(t){const e=new Promise(a=>{this.socket.once("search_res",o=>{const l=Object.entries(o).map(([u,i])=>({id:u.toLocaleLowerCase(),name:i}));a(l)})});return this.socket.emit("search",t),e}};class Td{constructor(t){this.get$=new be(e=>{const a=o=>{const l=$d(o);e.next(l)};return t.on("token names inside pool",a),()=>{t.off("token names inside pool",a)}}).pipe(Te())}}function $d(n){return n.map(t=>({name:t}))}class gi{constructor(t){this.socket=t,this.update$=new be(e=>{const a=o=>{e.next(o)};return t.on("price_chart_combination",a),()=>{t.off("price_chart_combination",a)}}).pipe(Te())}update(t,e){this.socket.emit("new combination",[t,e[0],e[1]])}}class kd{constructor(t){this.socket=t}update(t){this.socket.emit(t)}}function rt(n){const[t,e]=n.split("T"),[a,o,l]=t.split("-").map(Number),[u,i,r]=e.split(":").map(Number);return Date.UTC(a,o-1,l,u,i,r)/1e3}const Cd=n=>({name:n.collateral_token.symbol,address:n.address.toLocaleLowerCase(),factory:n.factory_address.toLocaleLowerCase(),llamma:n.llamma.toLocaleLowerCase(),rate:n.rate,borrowed:n.total_debt,borrowable:n.borrowable,collateral:n.collateral_amount,collateralUsd:n.collateral_amount_usd,loans:n.n_loans,collateral_token:{symbol:n.collateral_token.symbol,address:n.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:n.stablecoin_token.symbol,address:n.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:n.pending_fees,collected:n.collected_fees}}),Sd=n=>({timestamp:new Date(n.dt).getTime()/1e3,rate:n.rate,nLoans:n.n_loans,minted:n.minted,redeemed:n.redeemed,totalCollateral:n.total_collateral,totalCollateralUsd:n.total_collateral_usd,totalStablecoin:n.total_stablecoin,totalDebt:n.total_debt,priceAMM:n.amm_price,priceOracle:n.price_oracle,borrowable:n.borrowable,discountLiquidation:n.liquidation_discount,discountLoan:n.loan_discount}),Md=n=>({address:n.address.toLocaleLowerCase(),pool:n.pool,pool_address:n.pool_address.toLocaleLowerCase(),pair:n.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:n.active,total_debt:n.total_debt,total_profit:n.total_profit}),Ld=n=>({timestamp:rt(n.timestamp),market:n.market,supply:n.supply,borrowable:n.borrowable}),os="https://api-py.llama.airforce/curve",At="https://prices.curve.fi";class Ad extends oe{async getMarkets(t,e){return(await this.fetch(`${At}/v1/crvusd/markets/${t}?fetch_on_chain=false&page=${e}&per_page=10`)).data.map(Cd)}async getSnapshots(t,e){return(await this.fetch(`${At}/v1/crvusd/markets/${t}/${e}/snapshots?fetch_on_chain=false&agg=day`)).data.map(Sd)}async getCrvUsdPriceHistogram(){return this.fetch(`${os}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${At}/v1/crvusd/markets/${t}/supply`)).data.map(Ld)}async getKeepers(t){return(await this.fetch(`${At}/v1/crvusd/pegkeepers/${t}`)).keepers.map(Md)}async getYield(){return this.fetch(`${os}/v1/crvusd/yield`).then(t=>t.yields)}}const zd=n=>({time:n.time,open:n.open,high:n.high,low:n.low,close:n.close}),xd="https://prices.curve.fi";class Pd extends oe{async getOHLC(t,e,a,o){const u=Math.floor(new Date().getTime()/1e3),i=Math.floor(u-72e5),r=`${xd}/v1/ohlc/${t}/${it.getAddress(e)}?main_token=${it.getAddress(a)}&reference_token=${it.getAddress(o)}&agg_number=1&agg_units=day&start=${i}&end=${u}`;return(await this.fetch(r)).data.map(zd)}}const wt=new Ad(ae()),Rd=new Pd(ae());function Id(n){return w(()=>{var t;return(t=n.value)==null?void 0:t.address})}function Et(){return{initialData:[],initialDataUpdatedAt:0}}function Vd(n,t){return{enabled:w(()=>!!n.value&&!0)}}function Od(){return Q({queryKey:["crvusd-supply"],queryFn:()=>wt.getCrvUsdSupply("ethereum"),...Et()})}function Dd(){return Q({queryKey:["crvusd-price-deviation"],queryFn:()=>wt.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Bt(n){return Q({queryKey:["crvusd-market-snapshots",Id(n)],queryFn:({queryKey:[,t]})=>wt.getSnapshots("ethereum",t),...Vd(n),...Et()})}function Fd(n){return Q({queryKey:["crvusd-keepers-prices",w(()=>n.value.map(t=>t.pool_address))],queryFn:async()=>{const t=n.value.map(async o=>{const l=o.pair.find(r=>r.symbol!=="crvUSD"),u=o.pair.find(r=>r.symbol==="crvUSD");return!l||!u?[]:(await Rd.getOHLC("ethereum",o.pool_address,l.address,u.address)).map(r=>({time:r.time,price:(r.high+r.low)/2,coin:l.symbol}))}),e=(await Promise.all(t)).flat(),a=O.chain(e).groupBy(o=>o.time).map((o,l)=>({timestamp:Number(l),...Object.fromEntries(o.map(u=>[u.coin,u.price]))})).value();return a.length>0?a:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function ta(){return Q({queryKey:["crvusd-markets"],queryFn:()=>wt.getMarkets("ethereum",1),...Et()})}function wi(){return Q({queryKey:["crvusd-keepers"],queryFn:()=>wt.getKeepers("ethereum"),...Et()})}const qd={class:"kpis"},Ed=A({__name:"KPIs",setup(n){const t=new ui(ae()),{data:e}=ta(),a=w(()=>{var r;return((r=e.value)==null?void 0:r.reduce((c,d)=>c+d.borrowed,0))??0}),{data:o}=bi(z("ethereum")),l=w(()=>{var r;return((r=o==null?void 0:o.value)==null?void 0:r.total.tvl)??0}),u=w(()=>{var r;return((r=o==null?void 0:o.value)==null?void 0:r.total.tradingVolume24h)??0}),{data:i}=Q({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price),initialData:0,initialDataUpdatedAt:0});return(r,c)=>{const d=ee,_=Ce;return b(),S("div",qd,[h(_,{label:"CRV Price","has-value":!!s(i)},{default:C(()=>[h(d,{value:s(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(_,{label:"crvUSD Borrowed","has-value":!!s(a)},{default:C(()=>[h(d,{value:s(a),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(_,{label:"Total Value Locked","has-value":!!s(l)},{default:C(()=>[h(d,{value:s(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),h(_,{label:"7-day Volume","has-value":!!s(u)},{default:C(()=>[h(d,{value:s(u),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Bd=x(Ed,[["__scopeId","data-v-fe12ccc1"]]),Ud=A({__name:"ChartApex",props:{options:{},series:{}},setup(n){return(t,e)=>{const a=Ne("apexchart");return b(),P(a,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),Ut=x(Ud,[["__scopeId","data-v-310d0826"]]),Wd=A({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(n){return(t,e)=>{const a=Ut,o=G;return b(),P(o,{class:"cart-chart",title:t.title,loading:t.loading},{actions:C(()=>[J(t.$slots,"actions",{},void 0,!0)]),default:C(()=>[h(a,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),J(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),le=x(Wd,[["__scopeId","data-v-98df8c5f"]]),Nd=n=>({chart:{id:"chart",background:"transparant",foreColor:n.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:n.colorsArray,grid:{borderColor:n.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:n.colors.level5,height:1},axisTicks:{color:n.colors.level5},title:{color:n.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:n.colors.level5},axisTicks:{color:n.colors.level5},title:{color:n.colors.level5}}});function ne(n,t){const e=Nd(n),a=(o,l)=>{if(typeof l=="object"){O.mergeWith(o,l,a);return}else return o||l};return O.mergeWith(t,e,a)}const Hd=n=>({pool:n.pool,chain:n.chain,name:n.name,liq_use:n.liq_use}),Kd=n=>({pool:n.pool,chain:n.chain,name:n.name,tx:n.tx,value:n.value}),Xd=n=>({pool:n.pool,chain:n.chain,name:n.name,tvl_growth:n.tvl_growth}),jd=n=>({pool:n.pool,chain:n.chain,name:n.name,tvl_growth:n.tvl_growth}),Qd=n=>({type:n.type,tvl:n.tvl}),Gd=n=>({chain:n.chain,tvl:n.tvl}),Yd=n=>({type:n.type,volumeUSD:n.volumeUSD}),Zd=n=>({chain:n.chain,volumeUSD:n.volumeUSD}),De="https://api-py.llama.airforce/curve/v1";class Jd extends oe{async getLiquidityTop(){return(await this.fetch(`${De}/protocol/liquidity/top`)).liquidity_use.map(Hd)}async getTradesLarge(){return(await this.fetch(`${De}/protocol/size/trades`)).large_trades.map(Kd)}async getTvlGainers(){return(await this.fetch(`${De}/protocol/tvl/gainers`)).tvl_gainers.map(Xd)}async getTvlLosers(){return(await this.fetch(`${De}/protocol/tvl/losers`)).tvl_losers.map(jd)}async getTvlBreakdownType(){return(await this.fetch(`${De}/protocol/tvl/type_breakdown`)).tvl_breakdown_type.map(Qd)}async getTvlBreakdownChain(){return(await this.fetch(`${De}/protocol/tvl/chain_breakdown`)).tvl_breakdown_chain.map(Gd)}async getVolumeBreakdownType(){return(await this.fetch(`${De}/protocol/volume/type_breakdown`)).volume_breakdown_type.map(Yd)}async getVolumeBreakdownChain(){return(await this.fetch(`${De}/protocol/volume/chain_breakdown`)).volume_breakdown_chain.map(Zd)}}const ft=new Jd(ae());function Wt(){return{initialData:[],initialDataUpdatedAt:0}}function em(){return Q({queryKey:["curve-tvl-breakdown"],queryFn:()=>ft.getTvlBreakdownChain().then(n=>n.sort((t,e)=>e.tvl-t.tvl)),...Wt()})}function tm(){return Q({queryKey:["curve-tvl-gainers-losers"],queryFn:async()=>{const n=ft.getTvlGainers(),t=ft.getTvlLosers(),[e,a]=[await n,await t];return[...e,...a].sort((o,l)=>l.tvl_growth-o.tvl_growth)},...Wt()})}function nm(){return Q({queryKey:["curve-liquidity-top"],queryFn:()=>ft.getLiquidityTop().then(n=>n.sort((t,e)=>e.liq_use-t.liq_use)),...Wt()})}function am(){return Q({queryKey:["curve-trades-large"],queryFn:()=>ft.getTradesLarge().then(n=>n.sort((t,e)=>e.value-t.value)).then(n=>n.slice(0,10)),...Wt()})}const sm=A({__name:"ChartChainType",setup(n){const{theme:t}=E(U()),{isFetching:e,data:a}=em(),o=w(()=>ne(t.value,{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const r=l.value[i.seriesIndex].name,c=i.series[i.seriesIndex][i.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${u(c[0])}</div>`].join("")}}})),l=w(()=>[...a.value.map(i=>({name:i.chain,data:[i.tvl,i.tvl]}))]),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"chart",title:"TVL & Volume per Chain",loading:s(e),options:s(o),series:s(l)},null,8,["loading","options","series"])}}}),om=x(sm,[["__scopeId","data-v-aa5e8737"]]),im=A({__name:"ChartLiquidityTop",setup(n){const{theme:t}=E(U()),{isFetching:e,data:a}=nm(),o=w(()=>ne(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:c=>{var y;const d=l.value[c.dataPointIndex],_=c.series[0][c.dataPointIndex],p=(y=a.value.find(f=>f.name===d))==null?void 0:y.chain;return`
            <div><b>${d}</b>:</div>
            <div>${i(_)}</div>
            <div>${p}<div>`}}})),l=w(()=>a.value.map(c=>c.name)),u=w(()=>[{data:a.value.map(c=>c.liq_use)}]),i=c=>`${K(Math.abs(c),2,"dollar")}`,r=c=>c.toString().substring(0,12);return(c,d)=>{const _=le;return b(),P(_,{class:"chart",title:"Liquidity Usage",loading:s(e),options:s(o),series:s(u)},null,8,["loading","options","series"])}}}),rm=x(im,[["__scopeId","data-v-2a8168dc"]]),lm=A({__name:"ChartRanking",setup(n){const{theme:t}=E(U()),{isFetching:e,data:a}=tm(),o=w(()=>{const{colors:c}=t.value;return ne(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[d=>d.value<0?c.red:c.green],xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{var f;const _=l.value[d.dataPointIndex],p=d.series[0][d.dataPointIndex],v=(f=a.value.find(T=>T.name===_))==null?void 0:f.chain;return`
            <div><b>${_}</b>:</div>
            <div>${r(p)}</div>
            <div>${v}<div>`}}})}),l=w(()=>a.value.map(c=>c.name)),u=w(()=>[{data:a.value.map(c=>c.tvl_growth)}]),i=c=>c.toString().substring(0,12),r=c=>`${K(c,0,"dollar")}${H(c,"percentage")}`;return(c,d)=>{const _=le;return b(),P(_,{class:"chart",title:"TVL Gainers & Losers",loading:s(e),options:s(o),series:s(u)},null,8,["loading","options","series"])}}}),um=x(lm,[["__scopeId","data-v-03dd506f"]]),cm=n=>(ie("data-v-ea4b31b3"),n=n(),re(),n),pm=cm(()=>m("div",{class:"title"},"Largest Trades",-1)),dm=["href"],mm={class:"number"},ym=A({__name:"TableTrades",setup(n){const{data:t}=am();return(e,a)=>{const o=ee,l=pe;return b(),P(l,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:s(t),columns:["Tx","Name","Value"]},{"header-content":C(()=>[pm]),row:C(u=>[m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/tx/${u.item.tx}`,target:"_blank",onClick:a[0]||(a[0]=Se(()=>{},["stop"]))},M(s(Me)(u.item.tx)),9,dm)]),m("div",null,M(u.item.name),1),m("div",mm,[h(o,{value:u.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}}),_m=x(ym,[["__scopeId","data-v-ea4b31b3"]]),vm={class:"home"},fm={class:"controls-container"},hm={class:"data-1"},bm={class:"data-2"},gm=A({__name:"Home.page",setup(n){const t=z("");return(e,a)=>{const o=ge;return b(),S("div",vm,[m("div",fm,[h(o,{modelValue:s(t),"onUpdate:modelValue":a[0]||(a[0]=l=>de(t)?t.value=l:null),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),m("div",hm,[h(Bd),h(s(om)),h(s(rm))]),m("div",bm,[h(_m),h(s(um))])])}}}),wm=x(gm,[["__scopeId","data-v-024dc482"]]),Tm="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",$m="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",km="/assets/arbitrum-Z8VMulXH.png",Cm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Sm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Mm="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",Lm="/assets/moonbeam-CHDPiRRO.png",Am="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",zm="/assets/optimism-CcABTbCu.png";function Ft(n){return{ethereum:Tm,arbitrum:km,optimism:zm,fantom:Cm,avalanche:$m,xdai:Sm,matic:Am,harmony:Mm,moonbeam:Lm,all:""}[n]}const xm={key:0,class:"item"},Pm=["src"],Rm={key:1,class:"empty"},Im={class:"label"},Vm=A({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(n,{emit:t}){const e=t,a=z(!1),o=w(()=>[...n.all?[{chain:"all",label:"All"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"}].filter(c=>!n.chains||n.chains.includes(c.chain))),l=w(()=>o.value.find(c=>c.chain===n.chain)??null),u=c=>c.label,i=()=>{a.value=!a.value},r=c=>{const{chain:d}=c;e("select-chain",d)};return(c,d)=>{const _=bt;return b(),P(_,{class:"select",options:s(o),selected:s(l),open:s(a),onOpen:i,onClose:d[0]||(d[0]=p=>a.value=!1),onInput:r},{item:C(p=>[p.item?(b(),S("div",xm,[s(Ft)(p.item.chain)?(b(),S("img",{key:0,src:s(Ft)(p.item.chain)},null,8,Pm)):(b(),S("div",Rm)),m("div",Im,M(u(p.item)),1)])):V("",!0)]),_:1},8,["options","selected","open"])}}}),Nt=x(Vm,[["__scopeId","data-v-8ba70ac0"]]),Om=["src"],Dm=A({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{}},setup(n){const t=z("");function e(o){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${n.chain!=="ethereum"?`-${n.chain}`:""}/${o}.png`}const a=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};return D(()=>n.address,o=>{t.value=e(o.toLowerCase())},{immediate:!0}),(o,l)=>(b(),S("img",{src:t.value,onError:a},null,40,Om))}}),Tt=x(Dm,[["__scopeId","data-v-3faa27cd"]]),na=n=>(ie("data-v-c920758b"),n=n(),re(),n),Fm={key:0},qm=na(()=>m("button",null,"1",-1)),Em=[qm],Bm=na(()=>m("button",null,[m("i",{class:"fas fa-chevron-left"})],-1)),Um=[Bm],Wm=["onClick"],Nm=na(()=>m("button",null,[m("i",{class:"fas fa-chevron-right"})],-1)),Hm=[Nm],Km=A({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(n,{emit:t}){const e=t,a=w(()=>Math.ceil(n.itemsCount/n.itemsPerPage)),o=w(()=>{const _=[...Array(12).keys()].map(g=>g-6+n.page).filter(g=>g>=1&&g<=a.value),p=_.findIndex(g=>g===n.page),v=[],y=[],f=n.page!==1&&n.page!==a.value?[n.page]:[];let T=1;for(;;){const g=_[p-T];if(g&&g!==1&&v.unshift(g),v.length+y.length+f.length>=5||T>_.length)break;const k=_[p+T];if(k&&k!==a.value&&y.push(k),T++,v.length+y.length+f.length>=5||T>_.length)break}return[...v,...f,...y]});D(o,()=>{const c=l(n.page,1,a.value);n.page!==c&&e("page",c)});const l=(c,d,_)=>(_<d&&(_=d),Math.min(Math.max(c,d),_)),u=()=>e("page",l(n.page-1,1,a.value)),i=()=>e("page",l(n.page+1,1,a.value)),r=c=>e("page",l(c,1,a.value));return(c,d)=>s(a)>1?(b(),S("ul",Fm,[m("li",{class:q({active:c.page===1}),onClick:d[0]||(d[0]=_=>r(1))},Em,2),s(a)>2?(b(),S("li",{key:0,onClick:u},Um)):V("",!0),(b(!0),S(se,null,_e(s(o),(_,p)=>(b(),S("li",{key:p,class:q({active:_===c.page}),onClick:v=>r(_)},[m("button",null,M(_),1)],10,Wm))),128)),s(a)>2?(b(),S("li",{key:1,onClick:i},Hm)):V("",!0),s(a)>1?(b(),S("li",{key:2,class:q({active:c.page===s(a)}),onClick:d[1]||(d[1]=_=>r(s(a)))},[m("button",null,M(s(a)),1)],2)):V("",!0)])):V("",!0)}}),Xe=x(Km,[["__scopeId","data-v-c920758b"]]),Xm=n=>({tvl:n.total_tvl,tradingVolume24h:n.trading_volume_24h*1e4,tradingFee24h:n.trading_volume_24h*1e4,liquidityVolume24h:n.liquidity_volume_24h*1e4,liquidityFee24h:n.liquidity_fee_24h*1e4}),is=n=>{var t,e;return{name:n.name,address:n.address.toLocaleLowerCase(),numCoins:n.n_coins,tvlUsd:n.tvl_usd,tradingVolume24h:n.trading_fee_24h*1e4,tradingFee24h:n.trading_fee_24h*1e4,liquidityVolume24h:n.liquidity_volume_24h*1e4,liquidityFee24h:n.liquidity_fee_24h*1e4,coins:((t=n.coins)==null?void 0:t.map(a=>({poolIndex:a.pool_index,symbol:a.symbol,address:a.address.toLocaleLowerCase()})))??[],baseDailyApr:n.base_daily_apr,baseWeeklyApr:n.base_weekly_apr,virtualPrice:n.virtual_price,poolMethods:((e=n.pool_methods)==null?void 0:e.map(a=>a))??[]}},rs="https://prices.curve.fi";let jm=class extends oe{async getPools(t,e){const a=await this.fetch(`${rs}/v1/chains/${t}?page=${e}&per_page=20`);return{chain:a.chain,totals:Xm(a.total),pools:a.data.map(is)}}async getPool(t,e){const a=await this.fetch(`${rs}/v1/pools/${t}/${e}`);return is(a)}};const Ti=new jm(ae());function $i(n,t){return Q({queryKey:["curve-pools",n,t],queryFn:async({queryKey:[,e,a]})=>Ti.getPools(e,a),placeholderData:qt,enabled:w(()=>!!n.value)})}function Qm(n,t){const e=w(()=>t.value.map(a=>({queryKey:["curve-pool",a],queryFn:()=>Ti.getPool(n.value,a),enabled:w(()=>!!n.value)})));return Gl({queries:e})}function ki(n,t){const e=z(1),a=w(()=>O.chain(n.value).drop((e.value-1)*t).take(t).value()),o=l=>{e.value=l};return D(a,l=>{l.length===0&&(e.value=Math.max(1,Math.ceil(n.value.length/t)))}),{page:e,rowsPage:a,onPage:o}}function Ht(){const n=z(1);return{page:n,onPage:e=>{n.value=e}}}const Gm={class:"title"},Ym={style:{display:"flex",gap:"1rem"}},Zm={class:"tokens"},Jm={class:"number"},ey={class:"number"},Ci=A({__name:"TablePools",props:{chain:{}},setup(n){const{t}=I(),{page:e,onPage:a}=Ht(),o=_t(e,200),{isFetching:l,data:u}=$i(N(()=>n.chain),o),i=w(()=>{var r;return O.chain((r=u.value)==null?void 0:r.pools).orderBy(c=>c.tvlUsd).value()});return(r,c)=>{const d=Xe,_=Tt,p=ee,v=pe;return b(),P(v,{class:"datatable-pools","columns-header":"1fr auto","columns-data":"pools-columns-data","expand-side":"left",rows:s(i),loading:s(l),columns:["","","Name","Volume","TVL"]},{"header-content":C(()=>[m("div",Gm,M(s(t)("title")),1),m("div",Ym,[h(d,{class:"pagination","items-count":100,"items-per-page":10,page:s(e),onPage:s(a)},null,8,["page","onPage"])])]),row:C(({item:y})=>[m("div",Zm,[(b(!0),S(se,null,_e(y.coins,f=>(b(),P(_,{key:f.address,chain:r.chain,address:f.address},null,8,["chain","address"]))),128))]),m("div",null,M(y.name),1),m("div",Jm,[h(p,{value:y.tradingVolume24h,precision:2,type:"dollar"},null,8,["value"])]),m("div",ey,[h(p,{value:y.tvlUsd,precision:2,type:"dollar"},null,8,["value"])])]),"row-details":C(()=>[B("   ")]),_:1},8,["rows","loading"])}}});function ls(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Pools"])}}})}typeof ls=="function"&&ls(Ci);const ty=x(Ci,[["__scopeId","data-v-7f593155"]]),ny={class:"pools"},ay={class:"toolbar"},Si=A({__name:"Pools.page",setup(n){const{t}=I(),e=["ethereum"],a=$e("chain"),o=w({get(){return a.value===""?"ethereum":a.value},set(p){a.value=p}}),l=z(""),{isFetching:u,data:i}=bi(o),{show:r,crumbs:c}=E(Ke());Y(()=>{r.value=!0,c.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const d=qe(),_=async p=>{await d.push({name:"poolspool",params:{tab:"",chain:o.value,poolAddr:p.address}})};return(p,v)=>{const y=ge,f=ee,T=Ce;return b(),S("div",ny,[(b(),P(Jo,{to:"#toolbar"},[m("div",ay,[h(y,{modelValue:s(l),"onUpdate:modelValue":v[0]||(v[0]=g=>de(l)?l.value=g:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(Nt,{class:"chain-select",chain:s(o),chains:e,onSelectChain:v[1]||(v[1]=g=>o.value=g==="all"?"ethereum":g)},null,8,["chain"])])])),h(T,{style:{"grid-area":"kpi1"},label:s(t)("tvl"),"has-value":!s(u)},{default:C(()=>{var g;return[h(f,{value:((g=s(i))==null?void 0:g.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(T,{style:{"grid-area":"kpi2"},label:s(t)("volume"),"has-value":!s(u)},{default:C(()=>{var g;return[h(f,{value:((g=s(i))==null?void 0:g.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(T,{style:{"grid-area":"kpi3"},label:s(t)("fee-trading"),"has-value":!s(u)},{default:C(()=>{var g;return[h(f,{value:((g=s(i))==null?void 0:g.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(T,{style:{"grid-area":"kpi4"},label:s(t)("fee-liquidity"),"has-value":!s(u)},{default:C(()=>{var g;return[h(f,{value:((g=s(i))==null?void 0:g.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(s(ty),{style:{"grid-area":"pools"},chain:s(o),onSelected:_},null,8,["chain"])])}}});function us(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])},volume:e=>{const{normalize:a}=e;return a(["Volume (24h)"])},"fee-trading":e=>{const{normalize:a}=e;return a(["Fees Trading (24h)"])},"fee-liquidity":e=>{const{normalize:a}=e;return a(["Fees Liquidity (24h)"])}}})}typeof us=="function"&&us(Si);const sy=x(Si,[["__scopeId","data-v-ce2e88a3"]]),oy={class:"tab-view"},iy={class:"tab-headers"},ry=["onClick"],ly={class:"tabs"},uy=A({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(n,{emit:t}){const e=t,a=z(null),o=Yo(),l=w(()=>(o!=null&&o.default?o.default():[]).filter(r=>r.props));D(()=>n.active,i=>{a.value=i,e("tab",{tab:l.value[i],index:a.value})},{immediate:!0});const u=(i,r)=>{i.props.disabled||(a.value=r,e("tab",{tab:l.value[r],index:a.value}))};return(i,r)=>(b(),S("div",oy,[m("ul",iy,[(b(!0),S(se,null,_e(s(l),(c,d)=>(b(),S("li",{key:d,class:q(["tab-header",{active:s(a)===d,disabled:c.props.disabled}]),onClick:_=>u(c,d)},M(c.props.header),11,ry))),128))]),m("div",ly,[(b(!0),S(se,null,_e(s(l),(c,d)=>Yl((b(),S("div",{key:d,class:"tab"},[(b(),P(Bn(c)))])),[[Zl,s(a)===d]])),128))])]))}}),je=x(uy,[["__scopeId","data-v-cb076fcc"]]),Qe=A({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(n){return(t,e)=>J(t.$slots,"default")}}),cy={},py={class:"pool-overview"};function dy(n,t){return b(),S("div",py,"Pool overview goes here")}const my=x(cy,[["render",dy],["__scopeId","data-v-fbf84abc"]]),yy={},_y={class:"gauge"};function vy(n,t){return b(),S("div",_y,"Gauge goes here")}const fy=x(yy,[["render",vy],["__scopeId","data-v-d3275186"]]),hy={},by={class:"mev"};function gy(n,t){return b(),S("div",by,"MEV goes here")}const wy=x(hy,[["render",gy],["__scopeId","data-v-284efb34"]]);function Kt(n,t,e){const a=qe(),o=$e("tab",n[0]),l=z(-1);return D(o,u=>l.value=n.findIndex(i=>i===u),{immediate:!0}),D(l,async u=>{u===-1&&(u=0),await a.push({name:t,params:{tab:n[u],...(e==null?void 0:e())??{}},replace:o.value===""})},{immediate:!0}),{tabActive:o,tabActiveIndex:l}}const Ty={class:"pool"},$y=A({__name:"Pool.page",setup(n){const{show:t,crumbs:e}=E(Ke()),a=$e("chain"),o=$e("poolAddr"),{isFetching:l,data:u}=$i(a,z(1)),i=w(()=>{var d,_;return(_=(d=u.value)==null?void 0:d.pools)==null?void 0:_.find(p=>p.address===o.value)});D(i,d=>{e.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),Y(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:c}=Kt(["overview","gauge","mev"],"poolspool",()=>({chain:a.value,poolAddr:o.value}));return(d,_)=>{const p=Ie,v=Qe,y=je;return b(),S("div",Ty,[h(p,{class:q(["spinner",{loading:s(l)}])},null,8,["class"]),!s(l)&&s(i)?(b(),P(y,{key:0,active:s(c),onTab:_[0]||(_[0]=f=>c.value=f.index)},{default:C(()=>[h(v,{header:"Overview"},{default:C(()=>[(b(),P(we,null,[s(r)==="overview"?(b(),P(my,{key:0,pool:s(i),chain:s(a)},null,8,["pool","chain"])):V("",!0)],1024))]),_:1}),h(v,{header:"Gauge"},{default:C(()=>[(b(),P(we,null,[s(r)==="gauge"?(b(),P(fy,{key:0,pool:s(i),chain:s(a)},null,8,["pool","chain"])):V("",!0)],1024))]),_:1}),h(v,{header:"MEV"},{default:C(()=>[(b(),P(we,null,[s(r)==="mev"?(b(),P(wy,{key:0,pool:s(i),chain:s(a)},null,8,["pool","chain"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])):V("",!0)])}}}),ky=x($y,[["__scopeId","data-v-7208b5c9"]]),lt=Re("curvePoolsStore",()=>{const n=z([]),t=z(!1),e=z(!1),a=z({}),o=z({}),l=z({});function u(c,d){a.value[c]=d}function i(c,d){o.value[c]=d}function r(c,d){l.value[c]=d}return{pools:n,poolsLoading:t,poolsLoadingError:e,candles:a,reserves:o,volumes:l,setCandles:u,setReserves:i,setVolumes:r}});function Cy(n,t){const e=n.toLocaleLowerCase(),a=ke(t.name).toLocaleLowerCase().includes(e),o=t.symbol.toLocaleLowerCase().includes(e),l=e.startsWith("0x")&&t.address.toLocaleLowerCase().includes(e);return a||o||l}const Sy={key:0,class:"item"},My={class:"label"},Ly={key:0,class:"description"},Ay={class:"volume"},Mi=A({__name:"SearchPool",props:{modelValue:{}},emits:["update:modelValue","select"],setup(n,{emit:t}){const{t:e}=I(),a=t,o=lt(),l=z(!1),u=z(e("search-placeholder")),i=w(()=>o.pools),r=(y,f)=>Cy(y,f),c=(y,f)=>d(f)-d(y),d=y=>y.cumulativeVolumeUSD,_=y=>{const f=ke(y.name);return f.startsWith("Curve.fi ")?f.slice(9):f},p=y=>{l.value=!!y},v=y=>{const f=y;l.value=!1,a("select",f)};return D([()=>o.poolsLoading,()=>o.poolsLoadingError],([y,f])=>{f?u.value=e("search-error"):y?u.value=e("search-loading"):u.value=e("search-placeholder")}),(y,f)=>{const T=ee,g=ge;return b(),P(g,{class:"select-pool","model-value":y.modelValue,placeholder:s(u),search:!0,"auto-complete":s(l),options:s(i),filter:r,sort:c,"onUpdate:modelValue":f[0]||(f[0]=k=>a("update:modelValue",k)),onInput:p,onSelect:v},{item:C(k=>[k.item?(b(),S("div",Sy,[m("div",My,M(_(k.item)),1),k.idx===0?(b(),S("div",Ly,M(s(e)("search-description")),1)):V("",!0),m("div",Ay,[h(T,{value:d(k.item),precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"])}}});function cs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-loading":e=>{const{normalize:a}=e;return a(["Loading pools, please wait..."])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for Curve pools"])},"search-error":e=>{const{normalize:a}=e;return a(["Failed loading Curve pools"])},"search-description":e=>{const{normalize:a}=e;return a(["Cumulative Volume"])}}})}typeof cs=="function"&&cs(Mi);const zy=x(Mi,[["__scopeId","data-v-f50a72cd"]]),Li=A({__name:"Balances",props:{poolSelected:{}},setup(n){const{t}=I(),e=lt(),{theme:a}=E(U()),o=w(()=>n.poolSelected?e.reserves[n.poolSelected.address]??[]:[]),l=w(()=>{var p,v,y;return n.poolSelected?(y=(v=(p=e.reserves[n.poolSelected.address])==null?void 0:p[0])==null?void 0:v.reservesUSD)==null?void 0:y.length:0}),u=w(()=>ne(a.value,{chart:{id:"balances",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:[...Array(l.value).keys()].map(p=>c(p)),dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:p=>[...Array(l.value).keys()].map(f=>p.w.globals.initialSeries[f].data[p.dataPointIndex].y).map((f,T)=>`<div><b>${r(T).substring(0,10)}</b>:</div><div>${_(f)}</div>`).join("")}})),i=w(()=>[...Array(l.value).keys()].map(p=>d(p))),r=p=>{var v,y;return((y=(v=n.poolSelected)==null?void 0:v.coins)==null?void 0:y[p])??"0x?"},c=p=>({seriesName:r(p),tickAmount:4,labels:{formatter:v=>_(v)},min:0,max:100,show:p===0}),d=p=>({name:r(p),type:"line",data:o.value.map(v=>({x:v.timestamp*1e3,y:v.reservesUSD[p]/v.reservesUSD.reduce((y,f)=>y+f,0)*100}))}),_=p=>`${K(p,2,"percentage")}${H(p,"percentage")}`;return(p,v)=>{const y=le;return b(),P(y,{class:"balances",title:s(t)("title"),options:s(u),series:s(i)},null,8,["title","options","series"])}}});function ps(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Balances"])}}})}typeof ps=="function"&&ps(Li);const xy=x(Li,[["__scopeId","data-v-90934571"]]),Ai=A({__name:"Reserves",props:{poolSelected:{}},setup(n){const{t}=I(),e=lt(),{theme:a}=E(U()),o=w(()=>n.poolSelected?e.reserves[n.poolSelected.address]??[]:[]),l=w(()=>{const{colorsArray:r}=a.value;return ne(a.value,{chart:{id:"reserves",type:"area",animations:{enabled:!1}},colors:r,xaxis:{type:"datetime"},yaxis:{labels:{formatter:c=>i(c)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:c=>{const d=c.w.globals.initialSeries[c.seriesIndex].data[c.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${i(d)}</div>`}}})}),u=w(()=>[{name:"reserves",data:o.value.map(r=>({x:r.timestamp*1e3,y:r.reservesUSD.reduce((c,d)=>c+d,0)}))}]),i=r=>`$${K(r,1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=le;return b(),P(d,{class:"reserves",title:s(t)("title"),options:s(l),series:s(u)},null,8,["title","options","series"])}}});function ds(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Reserves"])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])}}})}typeof ds=="function"&&ds(Ai);const Py=x(Ai,[["__scopeId","data-v-96882f25"]]),Ry=A({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,a=()=>{e("update:modelValue",!n.modelValue)};return(o,l)=>(b(),S("button",{class:q({toggled:o.modelValue}),onClick:a},[J(o.$slots,"default",{},()=>[o.icon?(b(),S("i",{key:0,class:q(["icon",o.icon])},null,2)):V("",!0),B(" "+M(o.value),1)],!0)],2))}}),ut=x(Ry,[["__scopeId","data-v-a2cabc6a"]]),Iy={class:"buttons"},zi=A({__name:"Candles",props:{poolSelected:{}},setup(n){const{t}=I();let e,a,o,l=1,u=0;const i=lt(),{theme:r}=E(U()),c=z(null),d=z(!1);Y(()=>{if(!c.value)return;const{colors:y}=r.value;e=He(c.value,{width:c.value.clientWidth,height:c.value.clientHeight,layout:{background:{type:Nn.Solid,color:y.backgroundColor},textColor:y.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:y.level2,style:Hn.Dashed}},crosshair:{mode:ei.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:f=>v(f)}}),a=e.addCandlestickSeries({upColor:y.green,borderUpColor:y.green,wickUpColor:y.green,downColor:y.red,borderDownColor:y.red,wickDownColor:y.red,priceFormat:{type:"price",precision:6,minMove:1e-6}}),o=e.addHistogramSeries({color:y.blue,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left"})});const _=w(()=>{var f;const y=(f=n.poolSelected)==null?void 0:f.address;return y?i.candles[y]??[]:[]});D(_,y=>{p(y,d.value)}),D(d,y=>{p(_.value,y)});const p=(y,f)=>{if(!e||!a||!o||!n.poolSelected)return;let T=n.poolSelected.coins[0].toLocaleLowerCase()===Ru?-1:1;T=T*(f?-1:1);const g=O.chain(y).map($=>({time:$.timestamp,open:Math.pow($.open,T),high:Math.pow($.high,T),low:Math.pow($.low,T),close:Math.pow($.close,T)})).uniqWith(($,R)=>$.time===R.time).orderBy($=>$.time,"asc").value(),{colors:k}=r.value,L=O.chain(y).map($=>({time:$.timestamp,value:$.token0TotalAmount,color:k.blue})).uniqWith(($,R)=>$.time===R.time).orderBy($=>$.time,"asc").value();g.length>0&&L.length>0&&(a.setData(g),o.setData(L),e.timeScale().fitContent(),u=Math.min(...g.map($=>$.low)),l=Math.max(...g.map($=>$.high)))},v=y=>{const f=l-u,T=f>1?f-Math.floor(f):f,g=-Math.floor(Math.log10(T)+1)+2;return`${K(y,g,"dollar")}${H(y,"dollar")}`};return(y,f)=>{const T=ut,g=G;return b(),P(g,{class:"candles",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512),m("div",Iy,[h(T,{modelValue:s(d),"onUpdate:modelValue":f[0]||(f[0]=k=>de(d)?d.value=k:null)},{default:C(()=>[B(M(s(t)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"])}}});function ms(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Price"])},invert:e=>{const{normalize:a}=e;return a(["Invert"])}}})}typeof ms=="function"&&ms(zi);const Vy=x(zi,[["__scopeId","data-v-9c79d1a7"]]),xi=A({__name:"Volume",props:{poolSelected:{}},setup(n){const{t}=I(),e=lt(),{theme:a}=E(U()),o=w(()=>n.poolSelected?e.volumes[n.poolSelected.address]??[]:[]),l=w(()=>{const{colorsArray:r}=a.value;return ne(a.value,{chart:{id:"volumes",type:"area",animations:{enabled:!1}},colors:r,xaxis:{type:"datetime"},yaxis:{seriesName:"volume",tickAmount:4,labels:{formatter:c=>i(c)},min:Math.min(...o.value.map(c=>c.volumeUSD)),max:Math.max(...o.value.map(c=>c.volumeUSD))},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:c=>{const d=c.w.globals.initialSeries[0].data[c.dataPointIndex].y;return[`<div><b>${t("volume")}</b>:</div><div>${i(d)}</div>`].join("")}}})}),u=w(()=>[{name:t("volume"),data:o.value.map(r=>({x:r.timestamp*1e3,y:r.volumeUSD}))}]),i=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=le;return b(),P(d,{class:"volumes",title:s(t)("volume"),options:s(l),series:s(u)},null,8,["title","options","series"])}}});function ys(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{volume:e=>{const{normalize:a}=e;return a(["Volume"])}}})}typeof ys=="function"&&ys(xi);const Oy=x(xi,[["__scopeId","data-v-87a3cee8"]]),Dy="https://api-py.llama.airforce/curve/v1";let Fy=class extends oe{async get(){return this.fetch(`${Dy}/pools/mainnet/all`)}};const qy="https://api.thegraph.com/subgraphs/name/convex-community/volume-mainnet";class Ey extends oe{async get(t){let e=0;return oi(async(o,l)=>{const u=`{
        candles(
          where: {
            pool: "${t.address}"
            period: 3600
            timestamp_gte: ${e}
          }
          first: ${l}
        ) {
          timestamp
          open
          close
          low
          high
          token0TotalAmount
        }
      }`,i=await this.fetch(qy,{query:u}).then(r=>r.data.candles.map(c=>({timestamp:parseInt(c.timestamp,10),open:parseFloat(c.open),high:parseFloat(c.high),low:parseFloat(c.low),close:parseFloat(c.close),token0TotalAmount:parseFloat(c.token0TotalAmount)})));return e=Math.max(...i.map(r=>r.timestamp)),i})}}const By="https://api-py.llama.airforce/curve/v1";class Uy extends oe{async get(t){return this.fetch(`${By}/pools/mainnet/reserves/${t.address}`)}}const Wy="https://api-py.llama.airforce/curve/v1";let Ny=class extends oe{async get(t){return this.fetch(`${Wy}/pools/mainnet/volume/${t.address}`)}};async function Hy(n,t){if(n.pools.length>0||n.poolsLoading)return;n.poolsLoading=!0;const{pools:e}=await t.get();n.pools=e,n.poolsLoading=!1}async function Ky(n,t,e){if(e&&!n.reserves[e.name]){n.poolsLoading=!0;try{const{reserves:a}=await t.get(e);n.setReserves(e.address,a)}finally{n.poolsLoading=!1}}}async function Xy(n,t,e){if(e&&!n.candles[e.name]){n.poolsLoading=!0;try{const a=await t.get(e);a&&n.setCandles(e.address,a)}finally{n.poolsLoading=!1}}}async function jy(n,t,e){if(e&&!n.volumes[e.name]){n.poolsLoading=!0;try{const{volume:a}=await t.get(e);n.setVolumes(e.address,a)}finally{n.poolsLoading=!1}}}const Qy={class:"pools"},Gy=A({__name:"Pools.page",setup(n){const t=new Fy(ae()),e=new Uy(ae()),a=new Ey(ae()),o=new Ny(ae()),l=lt(),u=z(""),i=z(null);Y(async()=>{await Hy(l,t)});const r=c=>{const d=c;u.value=ke(d.name),i.value=d,Xy(l,a,d),Ky(l,e,d),jy(l,o,d)};return(c,d)=>{const _=Ie;return b(),S("div",Qy,[h(zy,{modelValue:s(u),"onUpdate:modelValue":d[0]||(d[0]=p=>de(u)?u.value=p:null),onSelect:r},null,8,["modelValue"]),m("div",{class:q(["data",{loading:s(l).poolsLoading}])},[s(i)?(b(),P(Vy,{key:0,class:"candles","pool-selected":s(i)},null,8,["pool-selected"])):V("",!0),s(i)?(b(),P(Py,{key:1,class:"reserves","pool-selected":s(i)},null,8,["pool-selected"])):V("",!0),s(i)?(b(),P(Oy,{key:2,class:"volumes","pool-selected":s(i)},null,8,["pool-selected"])):V("",!0),s(i)?(b(),P(xy,{key:3,class:"balances","pool-selected":s(i)},null,8,["pool-selected"])):V("",!0),s(l).poolsLoading?(b(),P(_,{key:4,class:"spinner"})):V("",!0)],2)])}}}),Yy=x(Gy,[["__scopeId","data-v-9155dc92"]]),aa=Re("curveStore",()=>{const n=z([]),t=z({}),e=z({});function a(l,u){t.value[l]=u}function o(l,u){e.value[l]=u}return{gauges:n,emissions:t,fees:e,setEmissions:a,setFees:o}});function Ye(n){const t=n.reduce((e,{timeStamp:a,value:o})=>e.set(a,(e.get(a)??0)+o),new Map);return Array.from(t).map(e=>({timeStamp:e[0],value:e[1]}))}const Pi=A({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(n){const{t}=I(),e=aa(),{theme:a}=E(U()),o=w(()=>{let y=t("title");return n.gaugeSelected&&(y+=` - ${ke(n.gaugeSelected.name)}`),y}),l=w(()=>n.gaugeSelected?e.emissions[n.gaugeSelected.name]??[]:[]),u=w(()=>n.gaugeSelected?e.fees[n.gaugeSelected.name]??[]:[]),i=w(()=>Math.min(...Ye(l.value).map(y=>y.value).concat(Ye(u.value).map(y=>y.value)))),r=w(()=>Math.max(...Ye(l.value).map(y=>y.value).concat(Ye(u.value).map(y=>y.value)).map(y=>Math.abs(y)))),c=w(()=>ne(a.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:y=>_(y)},min:i,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:y=>p(y)},show:!1,min:i,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:y=>{const f=y.w.globals.initialSeries[0].data[y.dataPointIndex].y,T=y.w.globals.initialSeries[1].data[y.dataPointIndex]?y.w.globals.initialSeries[1].data[y.dataPointIndex].y:0;return[`<div><b>${t("emissions")}</b>:</div><div>${_(f)}</div>`,`<div><b>${t("fees")}</b>:</div><div>${p(T)}</div>`,`<div><b>${t("ratio")}</b>:</div><div>${v(T/f)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(y){return y}}})),d=w(()=>{const y=Ye(l.value),f=Ye(u.value),T=Object.assign({},...f.map(g=>({[g.timeStamp]:g.value})));return[{name:t("emissions"),type:"line",data:y.map(g=>({x:g.timeStamp*1e3,y:g.value}))},{name:t("fees"),type:"line",data:y.map(g=>({x:g.timeStamp*1e3,y:T[g.timeStamp]?Math.abs(T[g.timeStamp]):0}))}]}),_=y=>`$${K(Math.abs(y),1,"dollar")}${H(y,"dollar")}`,p=y=>`$${K(y,1,"dollar")}${H(y,"dollar")}`,v=y=>`${Ue(y,2)}`;return(y,f)=>{const T=le;return b(),P(T,{class:"emissions",title:s(o),options:s(c),series:s(d)},null,8,["title","options","series"])}}});function _s(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Emissions & Revenues"])},emissions:e=>{const{normalize:a}=e;return a(["Emissions"])},fees:e=>{const{normalize:a}=e;return a(["Fees"])},ratio:e=>{const{normalize:a}=e;return a(["Ratio"])}}})}typeof _s=="function"&&_s(Pi);const Zy=x(Pi,[["__scopeId","data-v-1834ea2d"]]);function Ri(n,t){const e=z(n),a=z(fe.Descending);return{sortColumn:e,sortOrder:a,onSort:(l,u)=>{e.value=l,a.value=u}}}const Jy={class:"title"},e_={class:"number"},t_={key:0,class:"charts"},n_={key:1},Ii=A({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(n){const{t}=I(),e=aa(),{sortColumn:a,sortOrder:o,onSort:l}=Ri("tvl"),u=w(()=>O.orderBy(e.gauges,i=>{switch(a.value){case"name":return ke(i.name);case"tvl":return i.tvl;default:return i.tvl}},o.value===fe.Descending?"desc":"asc"));return(i,r)=>{const c=ee,d=pe;return b(),P(d,{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:s(u),columns:["",s(t)("name"),s(t)("tvl")],sorting:!0,"sorting-columns":["","name","tvl"],"sorting-columns-enabled":["name","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:i.expanded,onSortColumn:s(l)},{"header-content":C(()=>[m("div",Jy,M(s(t)("title")),1)]),row:C(_=>[m("div",null,M(s(ke)(_.item.name)),1),m("div",e_,[h(c,{value:_.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":C(_=>[i.expanded.includes(_.item)?(b(),S("div",t_,[h(Zy,{class:"fees-and-emissions","gauge-selected":_.item},null,8,["gauge-selected"])])):(b(),S("span",n_))]),_:1},8,["rows","columns","expanded","onSortColumn"])}}});function vs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{name:e=>{const{normalize:a}=e;return a(["Name"])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])},title:e=>{const{normalize:a}=e;return a(["Curve Pools"])}}})}typeof vs=="function"&&vs(Ii);const a_=x(Ii,[["__scopeId","data-v-e3ed63c7"]]);class s_ extends oe{async get(){return this.fetch(`${this.host}/curvepool`)}}class o_ extends oe{async get(t){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:t.name})}}function sa(){const n=z([]);return{expanded:n,toggleExpansion:e=>n.value.includes(e)?(n.value=n.value.filter(a=>a!==e),!1):(n.value.push(e),!0)}}const i_={class:"gauges"},r_=A({__name:"Gauges.page",setup(n){let t=!1;const e=new s_(ae()),a=new o_(ae()),o=aa(),l=qe(),u=$e("gauge"),{expanded:i,toggleExpansion:r}=sa();Y(async()=>{t=!0;const p=await vt(e.get());if(p){const v=p.pools;if(v.sort((y,f)=>f.tvl-y.tvl),o.gauges=v,!t)return;u.value&&d(u.value)}}),Kn(()=>{t=!1});const c=async p=>{if(!p||o.fees[p.name]&&o.emissions[p.name])return;const v=await vt(a.get(p),500);if(v){const y=v.data.feeSnapshots,f=v.data.emissionSnapshots;o.setFees(p.name,y),o.setEmissions(p.name,f)}},d=p=>{const v=Gn(p),y=o.gauges.find(f=>f.name===v);y&&r(y)&&c(y)},_=async p=>{r(p)&&(c(p),await l.push({name:"curvegauges",params:{gauge:ke(p.name)}}))};return(p,v)=>(b(),S("div",i_,[h(a_,{class:"datatable-gauges",expanded:s(i),onSelected:_},null,8,["expanded"])]))}}),l_=x(r_,[["__scopeId","data-v-79bb6e3d"]]),u_={class:"legend"},c_=["onClick"],p_={class:"label"},d_=A({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(n,{emit:t}){const e=t,a=o=>n.colors[o];return(o,l)=>(b(),S("div",u_,[(b(!0),S(se,null,_e(o.items,(u,i)=>(b(),S("div",{key:u,class:q(["item",{clickable:o.clickable,disabled:o.disabled.includes(u)}]),onClick:r=>{o.clickable&&e("click",u)}},[m("div",{class:"color",style:he({"background-color":a(i)})},null,4),m("div",p_,M(u),1)],10,c_))),128))]))}}),Be=x(d_,[["__scopeId","data-v-b0a9ca48"]]),m_=n=>({week:n.week,label:n.label,total_fees:n.total_fees}),y_=n=>({chain:n.chain,totalDailyFeesUSD:n.totalDailyFeesUSD}),__=n=>({name:n.name,totalDailyFeesUSD:n.totalDailyFeesUSD}),v_=n=>({pool:n.pool,address:n.address.toLowerCase(),chain:n.chain,coins:n.coins.map(t=>t.toLocaleLowerCase()),coinNames:n.coinNames,balance:n.balance,value:n.value,totalUSD:n.totalUSD}),zt="https://api-py.llama.airforce/curve/v1";class f_ extends oe{async getBreakdown(t){return(await this.fetch(`${zt}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(m_)}async getByChain(t){return(await this.fetch(`${zt}/protocol/revenue/chains`,void 0,t)).revenue.map(y_)}async getTopPools(t,e=10){const a=t==="ethereum"?"mainnet":t;return(await this.fetch(`${zt}/protocol/revenue/${a}/toppools/${e}`)).revenue.map(__)}async getCushions(){return(await this.fetch(`${zt}/protocol/couch/cushions`)).cushions.map(v_)}}const Xt=new f_(ae());function jt(){return{initialData:[],initialDataUpdatedAt:0}}function h_(){return Q({queryKey:["curve-cushions"],queryFn:()=>Xt.getCushions().then(n=>n.sort((t,e)=>e.totalUSD-t.totalUSD)),...jt()})}function b_(n){return Q({queryKey:["curve-revenue-top-pools",n],queryFn:({queryKey:[,t]})=>Xt.getTopPools(t),...jt()})}function g_(){return Q({queryKey:["curve-revenue-chain"],queryFn:()=>Xt.getByChain().then(n=>n.sort((t,e)=>e.totalDailyFeesUSD-t.totalDailyFeesUSD)),...jt()})}function w_(){return Q({queryKey:["curve-revenue-breakdown"],queryFn:()=>Xt.getBreakdown(),...jt()})}const T_={class:"actions"},Vi=A({__name:"ChartRevenueBreakdown",setup(n){const{t}=I(),{theme:e}=E(U()),{isFetching:a,data:o}=w_(),l=w(()=>{const{colors:p,colorsArray:v}={colors:e.value.colors,colorsArray:[e.value.colorsArray[0],_(e.value.colorsArray[0],10),_(e.value.colorsArray[0],20),e.value.colorsArray[1],_(e.value.colorsArray[1],10)]};return ne({colors:p,colorsArray:v},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:i.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:d},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),u=w(()=>O.chain(o.value).groupBy(p=>p.week).map(p=>({week:p[0].week,numLabels:p.length})).orderBy(p=>p.week,"asc").dropWhile(p=>p.numLabels<3).map(p=>p.week).value()),i=w(()=>O.chain(u.value).map(p=>new Date(p*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),r=w(()=>O.chain(o.value).groupBy(p=>p.label).map((p,v)=>({name:v,data:O.chain(u.value).map(y=>({week:y,breakdown:p.find(f=>f.week===y)})).map(y=>{var f;return{x:new Date(y.week*1e3).toLocaleDateString(),y:((f=y.breakdown)==null?void 0:f.total_fees)??0}}).value()})).orderBy(p=>p.name).value()),c=p=>p,d=p=>`$${K(p,0,"dollar")}${H(p,"dollar")}`,_=(p,v)=>{let[y,f,T]=[p.slice(1,3),p.slice(3,5),p.slice(5,7)].map(k=>parseInt(k,16));const g=(k,L)=>Math.min(255,Math.max(0,L+Math.round(2.55*k)));return y=g(v,y),f=g(v,f),T=g(v,T),`#${y.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${T.toString(16).padStart(2,"0")}`};return(p,v)=>{const y=Be,f=gt,T=le;return b(),P(T,{class:"chart",options:s(l),series:s(r),loading:s(a),title:s(t)("title")},{actions:C(()=>[m("div",T_,[h(y,{items:["DAO","Liquidity Providers"],colors:s(e).colorsArray},null,8,["colors"]),h(f,{placement:"left"},{default:C(()=>[m("div",null,M(s(t)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function fs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Revenue breakdown by source"])},"legend-explanation":e=>{const{normalize:a}=e;return a(["DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"])}}})}typeof fs=="function"&&fs(Vi);const $_=x(Vi,[["__scopeId","data-v-9e3866fc"]]),Oi=A({__name:"ChartRevenueChain",setup(n){const{t}=I(),{theme:e}=E(U()),{isFetching:a,data:o}=g_(),l=w(()=>ne(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const c=r.w.globals.labels[r.seriesIndex],d=r.series[r.seriesIndex][0];return[`<div><b>${c}</b>:</div><div>${i(d)}</div>`].join("")}},labels:o.value.map(r=>r.chain)})),u=w(()=>o.value.map(r=>r.totalDailyFeesUSD)),i=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=le;return b(),P(d,{class:"chart",options:s(l),series:s(u),loading:s(a),title:s(t)("title")},null,8,["options","series","loading","title"])}}});function hs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Total revenue by chain"])}}})}typeof hs=="function"&&hs(Oi);const k_=x(Oi,[["__scopeId","data-v-46939793"]]),Di=A({__name:"ChartRevenueTopPools",setup(n){const{t}=I(),{theme:e}=E(U()),a=z("ethereum"),{isFetching:o,data:l}=b_(a),u=w(()=>ne(e.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(d=>d.name),labels:{formatter:r}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:r,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));Y(()=>{c("ethereum")});const i=w(()=>[{data:l.value.map(d=>d.totalDailyFeesUSD)}]),r=d=>`$${K(Math.abs(d),1,"dollar")}${H(d,"dollar")}`,c=d=>{d!=="all"&&(a.value=d)};return(d,_)=>{const p=le;return b(),P(p,{class:"graph",options:s(u),series:s(i),loading:s(o),title:s(t)("title")},{default:C(()=>[m("div",{class:q(["selector",{loading:s(o)}])},[h(Nt,{chain:s(a),onSelectChain:c},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function bs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Top 10 pools by revenue (last 7 days)"])}}})}typeof bs=="function"&&bs(Di);const C_=x(Di,[["__scopeId","data-v-b08b859a"]]),S_={class:"revenue-charts"},M_=A({__name:"Dashboard",setup(n){return(t,e)=>(b(),S("div",S_,[h(k_,{class:"chain-revenues"}),h(C_,{class:"chain-top-pools"}),h($_,{class:"breakdown"})]))}}),L_=x(M_,[["__scopeId","data-v-d71af22f"]]),oa=n=>(ie("data-v-9c1d9e86"),n=n(),re(),n),A_={class:"title"},z_={class:"chain"},x_=["src"],P_={class:"label"},R_={class:"number"},I_=oa(()=>m("div",null,null,-1)),V_=oa(()=>m("div",null,null,-1)),O_=oa(()=>m("div",null,null,-1)),D_={class:"number"},Fi=A({__name:"TableCushions",setup(n){const{t}=I(),e=z(""),a=z("all"),o=w(()=>O.chain(u.value).filter(i=>i.totalUSD>100).filter(i=>{const r=e.value.toLocaleLowerCase().split(" "),c=_=>r.some(p=>_.toLocaleLowerCase().includes(p)),d=a.value==="all"?!0:a.value===i.chain;return(c(i.pool)||c(i.address)||c(i.chain)||c(i.coins.join(" ")))&&d}).value()),{isFetching:l,data:u}=h_();return(i,r)=>{const c=ge,d=ee,_=pe;return b(),P(_,{class:"datatable-cushions","columns-header":"1fr 14rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:s(l),rows:s(o),columns:["Name","Coins","Chain","Fees ($)"]},{"header-content":C(()=>[m("div",A_,M(s(t)("title")),1),h(Nt,{class:"chain-select",chain:s(a),all:!0,onSelectChain:r[0]||(r[0]=p=>a.value=p)},null,8,["chain"]),h(c,{modelValue:s(e),"onUpdate:modelValue":r[1]||(r[1]=p=>de(e)?e.value=p:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:C(p=>[m("div",null,M(p.item.pool),1),m("div",null,M(p.item.coinNames.join(" / ")),1),m("div",z_,[s(Ft)(p.item.chain)?(b(),S("img",{key:0,src:s(Ft)(p.item.chain)},null,8,x_)):V("",!0),m("span",P_,M(p.item.chain),1)]),m("div",R_,[h(d,{value:p.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[I_,V_,O_,m("div",D_,[h(d,{value:s(o).reduce((p,v)=>p+v.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function gs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Cushions"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof gs=="function"&&gs(Fi);const F_=x(Fi,[["__scopeId","data-v-9c1d9e86"]]),q_={class:"cushions"},E_=A({__name:"Cushions",setup(n){return(t,e)=>(b(),S("div",q_,[h(F_)]))}}),B_=x(E_,[["__scopeId","data-v-8d09f656"]]),U_={class:"revenue"},W_=A({__name:"Revenue.page",setup(n){const{tabActive:t,tabActiveIndex:e}=Kt(["overview","cushions"],"revenue");return(a,o)=>{const l=Qe,u=je;return b(),S("div",U_,[h(u,{active:s(e),onTab:o[0]||(o[0]=i=>e.value=i.index)},{default:C(()=>[h(l,{header:"Revenue"},{default:C(()=>[(b(),P(we,null,[s(t)==="overview"?(b(),P(L_,{key:0})):V("",!0)],1024))]),_:1}),h(l,{header:"Cushions"},{default:C(()=>[(b(),P(we,null,[s(t)==="cushions"?(b(),P(B_,{key:0})):V("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),N_=x(W_,[["__scopeId","data-v-09b9805f"]]),H_=n=>(ie("data-v-b87155e9"),n=n(),re(),n),K_={class:"title"},X_={class:"number"},j_={class:"number"},Q_={class:"number"},G_={class:"number"},Y_=H_(()=>m("div",null,null,-1)),Z_={class:"number"},J_={class:"number"},ev={class:"number"},tv={class:"number"},qi=A({__name:"TablePegkeepers",setup(n){const{t}=I(),e=z(""),a=w(()=>_.value||u.value),o=w(()=>O.chain(i.value).map(y=>{const f=p.value.find(T=>y.pool_address===T.address);if(f)return{...f,...y}}).filter(Lu).sortBy(y=>y.tvlUsd).value()),l=w(()=>O.chain(o.value).filter(y=>{const f=e.value.toLocaleLowerCase().split(" "),T=g=>f.some(k=>g.toLocaleLowerCase().includes(k));return T(y.name)||T(y.address)}).value()),{isFetching:u,data:i}=wi(),r=y=>`${y.pair[1].symbol} / ${y.pair[0].symbol}`,c=w(()=>i.value.map(y=>y.pool_address)),d=Qm(z("ethereum"),c),_=w(()=>d.value.some(y=>y.isFetching)),p=w(()=>d.value.filter(y=>y.data).map(y=>y.data)),v=y=>y>=1e6?2:0;return(y,f)=>{const T=ge,g=ee,k=pe;return b(),P(k,{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:s(a),rows:s(l),columns:["Name","Debt","TVL","Volume","Fees"]},{"header-content":C(()=>[m("div",K_,M(s(t)("title")),1),h(T,{modelValue:s(e),"onUpdate:modelValue":f[0]||(f[0]=L=>de(e)?e.value=L:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:C(L=>[m("div",null,M(r(L.item)),1),m("div",X_,[h(g,{value:L.item.total_debt,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",j_,[h(g,{value:L.item.tvlUsd,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Q_,[h(g,{value:L.item.tradingVolume24h,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",G_,[h(g,{value:L.item.total_profit,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[Y_,m("div",Z_,[h(g,{value:s(l).reduce((L,$)=>L+$.total_debt,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",J_,[h(g,{value:s(l).reduce((L,$)=>L+$.tvlUsd,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",ev,[h(g,{value:s(l).reduce((L,$)=>L+$.tradingVolume24h,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",tv,[h(g,{value:s(l).reduce((L,$)=>L+$.total_profit,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function ws(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Pegkeepers"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof ws=="function"&&ws(qi);const nv=x(qi,[["__scopeId","data-v-b87155e9"]]),ia=n=>(ie("data-v-8219e181"),n=n(),re(),n),av={class:"title"},sv={class:"number"},ov={class:"number"},iv={class:"number"},rv={class:"number"},lv={class:"number"},uv={class:"number"},cv=ia(()=>m("div",null,null,-1)),pv=ia(()=>m("div",null,null,-1)),dv={class:"number"},mv=ia(()=>m("div",null,null,-1)),yv={class:"number"},_v={class:"number"},vv={class:"number"},fv={class:"number"},Ei=A({__name:"TableMarkets",setup(n){const{t}=I(),e=z(""),a=w(()=>O.chain(l.value).filter(i=>{const r=e.value.toLocaleLowerCase().split(" "),c=d=>r.some(_=>d.toLocaleLowerCase().includes(_));return c(i.name)||c(i.address)}).orderBy(i=>i.borrowed,"desc").value()),{isFetching:o,data:l}=ta(),u=i=>i>=1e6?2:0;return(i,r)=>{const c=ge,d=ee,_=pe;return b(),P(_,{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data","expand-side":"left",loading:s(o),rows:s(a),columns:["","Name","Loans","Rate","Borrowed","Collateral","Fees Pending","Fees Collected"]},{"header-content":C(()=>[m("div",av,M(s(t)("title")),1),h(c,{modelValue:s(e),"onUpdate:modelValue":r[0]||(r[0]=p=>de(e)?e.value=p:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:C(p=>[m("div",null,M(p.item.name),1),m("div",sv,M(p.item.loans),1),m("div",ov,[h(d,{value:p.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),m("div",iv,[h(d,{value:p.item.borrowed,precision:u,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",rv,[h(d,{value:p.item.collateralUsd,precision:u,type:"dollar"},null,8,["value"])]),m("div",lv,[h(d,{value:p.item.fees.pending,precision:u,type:"dollar"},null,8,["value"])]),m("div",uv,[h(d,{value:p.item.fees.collected,precision:u,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[cv,pv,m("div",dv,M(s(a).reduce((p,v)=>p+v.loans,0)),1),mv,m("div",yv,[h(d,{value:s(a).reduce((p,v)=>p+v.borrowed,0),precision:u,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",_v,[h(d,{value:s(a).reduce((p,v)=>p+v.collateralUsd,0),precision:u,type:"dollar"},null,8,["value"])]),m("div",vv,[h(d,{value:s(a).reduce((p,v)=>p+v.fees.pending,0),precision:u,type:"dollar"},null,8,["value"])]),m("div",fv,[h(d,{value:s(a).reduce((p,v)=>p+v.fees.collected,0),precision:u,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":C(()=>[B("   ")]),_:1},8,["loading","rows"])}}});function Ts(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Markets"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof Ts=="function"&&Ts(Ei);const hv=x(Ei,[["__scopeId","data-v-8219e181"]]),bv=A({__name:"ChartCrvUsdPriceHistogram",setup(n){const{theme:t}=E(U()),{isFetching:e,data:a}=Dd(),o=w(()=>ne(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:c=>{const d=l.value[c.dataPointIndex],_=c.series[0][c.dataPointIndex];return[`<div><b>${d}</b>:</div><div>${r(_)}</div>`].join("")}}})),l=w(()=>a.value.x.map(c=>c.toString())),u=w(()=>[{data:a.value.y}]),i=c=>{const d=c-1;return d<0?`-$${d.toString().substring(2,7)}`:`$${d.toString().substring(1,6)}`},r=c=>{var p,v;const d=((v=(p=u.value[0])==null?void 0:p.data)==null?void 0:v.reduce((y,f)=>y+f,0))??1,_=c/d*100;return`${K(_,0,"dollar")}${H(_,"percentage")}`};return(c,d)=>{const _=le;return b(),P(_,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:s(e),options:s(o),series:s(u)},null,8,["loading","options","series"])}}}),gv=x(bv,[["__scopeId","data-v-6059264b"]]),wv={class:"actions"},Tv={class:"chart-types"},Bi=A({__name:"ChartCrvUsdSupply",setup(n){const{t}=I(),{theme:e}=E(U()),a=z("line"),{isFetching:o,data:l}=Od(),u=i=>{a.value!==i&&(a.value=i)};return(i,r)=>{const c=Be,d=ut,_=G;return b(),P(_,{class:"chart-container",title:s(t)("title"),loading:s(o)},{actions:C(()=>[m("div",wv,[s(a)==="line"?(b(),P(c,{key:0,items:["Supply","Borrowed"],colors:s(e).colorsArray},null,8,["colors"])):V("",!0),m("div",Tv,[h(d,{value:"Line","model-value":s(a)==="line",onClick:r[0]||(r[0]=p=>u("line"))},null,8,["model-value"]),h(d,{value:"Breakdown","model-value":s(a)==="breakdown",onClick:r[1]||(r[1]=p=>u("breakdown"))},null,8,["model-value"])])])]),default:C(()=>[(b(),P(we,null,[s(a)==="line"?(b(),P(s(Lv),{key:0,data:s(l)},null,8,["data"])):V("",!0)],1024)),(b(),P(we,null,[s(a)==="breakdown"?(b(),P(s(Cv),{key:0,data:s(l)},null,8,["data"])):V("",!0)],1024))]),_:1},8,["title","loading"])}}});function $s(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["crvUSD Supply"])}}})}typeof $s=="function"&&$s(Bi);const $v=x(Bi,[["__scopeId","data-v-ca5f640d"]]),kv=A({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(n){const{theme:t}=E(U()),e=w(()=>ne(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=w(()=>O.chain(n.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"").value()),o=w(()=>O.chain(n.data).groupBy(r=>r.market).map((r,c)=>({name:c,data:O.chain(r).groupBy(d=>d.timestamp).map((d,_)=>({x:new Date(parseInt(_,10)*1e3).toLocaleDateString(),y:d.reduce((p,v)=>p+v.supply,0)})).orderBy(d=>d.x,"asc").value()})).value()),l=w(()=>Math.max(...O.chain(n.data).groupBy(r=>r.timestamp).map(r=>r.reduce((c,d)=>c+d.supply,0)).value())*1.1),u=r=>r,i=r=>`${K(r,1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=Ut;return b(),P(d,{class:"chart",options:s(e),series:s(o)},null,8,["options","series"])}}}),Cv=x(kv,[["__scopeId","data-v-1651e212"]]),Sv=(n,t)=>{const{colors:e}=t;return{width:n.clientWidth,height:n.clientHeight,layout:{background:{type:Nn.Solid,color:e.backgroundColor},textColor:e.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:e.level4,style:Hn.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ye(n,t,e){const a=Sv(n,t),o=(l,u)=>{if(typeof u=="object"){O.mergeWith(l,u,o);return}else return l||u};return O.mergeWith(e,a,o)}function ve(n,t,e){const a=z(void 0),o=z(void 0);let l=null;return Y(async()=>{a.value&&(await ti(),o.value=He(a.value,t(a.value)),e&&o.value&&e(o.value),l=new ResizeObserver(()=>{var u;o.value&&o.value.applyOptions({width:(u=a.value)==null?void 0:u.clientWidth})}),a.value.parentElement&&l.observe(a.value.parentElement))}),Xn(()=>{o.value&&(o.value.remove(),o.value=void 0),l&&(l.disconnect(),l=null)}),D(n,()=>{a.value&&o.value&&o.value.applyOptions(t(a.value))}),{chartRef:a,chart:o}}const Mv=A({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(n){let t,e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,u,_=>{t=_.addAreaSeries(i()),e=_.addLineSeries(r())});D([()=>n.data,o],c),D(a,()=>{t.applyOptions(i()),e.applyOptions(r())});function u(_){return ye(_,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:p=>d(p)}})}function i(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:a.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function c([_,p]){if(!p||!t)return;const v=O.chain(_).groupBy(f=>f.timestamp).mapValues(f=>{var T;return{time:f[0].timestamp,value:f.reduce((g,k)=>g+k.supply,0),debt:((T=f.find(g=>g.market==="Keepers debt"))==null?void 0:T.supply)??0}}).entries().map(f=>f[1]).uniqWith((f,T)=>f.time===T.time).orderBy(f=>f.time,"asc").value(),y=v.map(f=>({time:f.time,value:f.value-f.debt}));v.length>0&&t.setData(v),y.length>0&&e.setData(y),p.timeScale().fitContent()}const d=_=>`${K(_,1,"dollar")}${H(_,"dollar")}`;return(_,p)=>(b(),S("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}}),Lv=x(Mv,[["__scopeId","data-v-ff4f5568"]]);class st{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return st.instance||(st.instance=new st),st.instance}connect(t){this.ws||(this.ws=new WebSocket(t),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(t),1e3)},this.ws.onmessage=e=>{try{const o=JSON.parse(e.data).channel.slice(0,-6);if(this.listeners[o])for(const l of this.listeners[o])l(e.data);else this.messageQueue.push(e.data)}catch(a){console.error("WSManager error parsing message: ",a)}})}registerListener(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e);const a=this.messageQueue.filter(o=>JSON.parse(o).channel===t);for(const o of a)e(o);this.messageQueue=this.messageQueue.filter(o=>!a.includes(o))}send(t){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(t):this.messageQueue.push(t)}processMessageQueue(){for(;this.messageQueue.length>0;){const t=this.messageQueue.shift();t&&this.send(t)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var Fn=(n=>(n.subscribe="subscribe",n.unsubscribe="unsubscribe",n.snapshots="snapshots",n))(Fn||{}),qn=(n=>(n.update="update",n.snapshot="snapshot",n))(qn||{});class ks{constructor(t,e,a,o,l,u){this.url=t,this.llamma=e,this.chain=a,this.interval=o,this.start=l,this.end=u,this.currentOHLCData=[],this.wsManager=st.getInstance(),this.wsManager.connect(t),this.dataSubject=new Jl,this.data$=this.dataSubject.pipe(eu((i,r)=>this.reconcileData(i,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",i=>{try{const r=JSON.parse(i);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",i)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const t={action:Fn.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(t)}subscribeToUpdates(){const t={action:Fn.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(t)}reconcileData(t,e){return e.type===qn.snapshot?e.payload:e.type===qn.update?(e.payload.forEach(a=>{const o=t.findIndex(l=>l.time===a.time);o!==-1?t[o]=a:t.push(a)}),[...t]):t}send(t){this.wsManager.send(JSON.stringify(t))}}const Av={class:"buttons"},Cs="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",Ss="ethereum",Ms=86400,zv=A({__name:"ChartLlammaCandles",props:{market:{}},setup(n){const{t}=I();let e,a,o,l=1,u=0;const{theme:i}=E(U()),r=z([]);let c;const d=z(null),_=z(!1),p=w(()=>n.market?`Daily candles ${_.value?`crvUSD/${n.market.name}`:`${n.market.name}/crvUSD`}`:t("title"));Y(async()=>{if(!d.value||!n.market)return;await ti();const f=it.getAddress(n.market.llamma),T=Date.now(),g=15*24*60*60*1e3,k=Math.floor(T/1e3),L=Math.floor((T-g)/1e3);e=new ks(Cs,f,Ss,Ms,L,k);const{colors:$}=i.value;c=e.data$.subscribe(R=>{r.value=R,v(R,_.value)}),a=He(d.value,{width:d.value.clientWidth,height:d.value.clientHeight,layout:{background:{type:Nn.Solid,color:$.backgroundColor},textColor:$.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:$.level2,style:Hn.Dashed}},crosshair:{mode:ei.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:R=>y(R)}}),o=a.addCandlestickSeries({upColor:$.green,borderUpColor:$.green,wickUpColor:$.green,downColor:$.red,borderDownColor:$.red,wickDownColor:$.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),Xn(()=>{c.unsubscribe()}),D(r,f=>{v(f,_.value)}),D(_,f=>{v(r.value,f)}),D(()=>n.market,(f,T)=>{if(f&&f!==T){c.unsubscribe();const g=it.getAddress(f.llamma),k=Date.now(),L=15*24*60*60*1e3,$=Math.floor(k/1e3),R=Math.floor((k-L)/1e3);e=new ks(Cs,g,Ss,Ms,R,$),c=e.data$.subscribe(W=>{r.value=W,v(W,_.value)})}});const v=(f,T)=>{if(!a||!o||!f)return;const g=T?-1:1,k=O.chain(f).map(L=>({time:L.time,open:Math.pow(L.open,g),high:Math.pow(L.high,g),low:Math.pow(L.low,g),close:Math.pow(L.close,g)})).uniqWith((L,$)=>L.time===$.time).orderBy(L=>L.time,"asc").value();k.length>0&&(o.setData(k),a.timeScale().fitContent(),u=Math.min(...k.map(L=>L.low)),l=Math.max(...k.map(L=>L.high)))},y=f=>{const T=l-u,g=T>1?T-Math.floor(T):T,k=-Math.floor(Math.log10(g)+1)+2;return`${K(f,k,"dollar")}${H(f,"dollar")}`};return(f,T)=>{const g=ut,k=G;return b(),P(k,{class:"candles",title:s(p)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512),m("div",Av,[h(g,{modelValue:s(_),"onUpdate:modelValue":T[0]||(T[0]=L=>de(_)?_.value=L:null)},{default:C(()=>[B(M(s(t)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"])}}});function Ls(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Price"])},invert:e=>{const{normalize:a}=e;return a(["Invert"])}}})}typeof Ls=="function"&&Ls(zv);const Ui=A({__name:"ChartMarketAvailableCap",props:{market:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,r,p=>e=p.addAreaSeries(c())),{isFetching:u,data:i}=Bt(N(()=>n.market));D([i,o],d),D(a,()=>e.applyOptions(c()));function r(p){return ye(p,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>_(v)}})}function c(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function d([p,v]){if(!v||!e)return;const y=O.chain(p).map(f=>({time:f.timestamp,value:f.borrowable})).uniqWith((f,T)=>f.time===T.time).orderBy(f=>f.time,"asc").dropWhile(f=>f.value===0).value();y.length>0&&e.setData(y),v.timeScale().fitContent()}const _=p=>`$${K(p,1,"dollar")}${H(p,"dollar")}`;return(p,v)=>{const y=G;return b(),P(y,{class:"chart-container",title:s(t)("title"),loading:s(u)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function As(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Borrowable & Debt Ceiling"])}}})}typeof As=="function"&&As(Ui);const xv=x(Ui,[["__scopeId","data-v-b1e82dab"]]),Wi=A({__name:"ChartMarketLoans",props:{market:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,r,p=>{e=p.addHistogramSeries(c())}),{isFetching:u,data:i}=Bt(N(()=>n.market));D([i,o],d),D(a,()=>e.applyOptions(c()));function r(p){return ye(p,a.value,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:_}})}function c(){return{color:a.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function d([p,v]){if(!v||!e)return;const y=O.chain(p).map(f=>({time:f.timestamp,value:f.nLoans})).uniqWith((f,T)=>f.time===T.time).orderBy(f=>f.time,"asc").value();if(y.length>0){e.setData(y);const f=y[0].time,T=y[y.length-1].time;v.timeScale().setVisibleRange({from:f,to:T})}}const _=p=>Math.round(p).toString();return(p,v)=>{const y=G;return b(),P(y,{class:"chart-container",title:s(t)("title"),loading:s(u)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function zs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Loans"])}}})}typeof zs=="function"&&zs(Wi);const Pv=x(Wi,[["__scopeId","data-v-c8574dc4"]]),Rv=["min","max","value"],Iv=A({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,a=o=>{e("update:modelValue",o.target.value)};return(o,l)=>(b(),S("input",{type:"number",min:o.min,max:o.max,value:o.modelValue,onInput:a},null,40,Rv))}}),Ni=x(Iv,[["__scopeId","data-v-65b94541"]]),Vv={class:"actions"},Hi=A({__name:"ChartMarketRates",props:{market:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),{chart:l,chartRef:u}=ve(o,d,T=>{e=T.addAreaSeries(_()),a=T.addLineSeries(p())}),i=z(null),{isFetching:r,data:c}=Bt(N(()=>n.market));D([c,l],v),D(i,()=>v([c.value,l.value])),D(o,()=>{e.applyOptions(_()),a.applyOptions(p())});function d(T){return ye(T,o.value,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:g=>y(g)}})}function _(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function p(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function v([T,g]){if(!g||!e)return;const k=O.chain(T).map(R=>({time:R.timestamp,value:R.rate})).uniqWith((R,W)=>R.time===W.time).orderBy(R=>R.time,"asc").value(),L=f(k.map(R=>R.value),i.value??31),$=O.chain(L).zip(k).map(R=>({time:R[1].time,value:R[0]})).value();if($.length>0&&a.setData($),k.length>0){e.setData(k);const R=k[0].time,W=k[k.length-1].time;g.timeScale().setVisibleRange({from:R,to:W})}}const y=T=>`${K(T*100,2,"percentage")}${H(T,"percentage")}`,f=(T,g=7)=>T.map((k,L)=>{const $=Math.max(L-(g-1),0),R=L+1,W=T.slice($,R);return W.reduce((X,Le)=>X+Le,0)/W.length});return(T,g)=>{const k=Ni,L=G;return b(),P(L,{class:"chart-container",title:s(t)("title"),loading:s(r)},{actions:C(()=>[m("div",Vv,[h(k,{modelValue:s(i),"onUpdate:modelValue":g[0]||(g[0]=$=>de(i)?i.value=$:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function xs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Rates"])}}})}typeof xs=="function"&&xs(Hi);const Ov=x(Hi,[["__scopeId","data-v-c6a2b016"]]),Dv=n=>{const t=n.provider.toLocaleLowerCase(),e=n.deposit?{amount:n.deposit.amount,n1:n.deposit.n1,n2:n.deposit.n2}:null,a=n.withdrawal?{amount_borrowed:n.withdrawal.amount_borrowed,amount_collateral:n.withdrawal.amount_collateral}:null,o=n.block_number,l=n.timestamp,u=n.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:e,withdrawal:a,block_number:o,timestamp:l,transaction_hash:u}},Fv=n=>({sold_id:n.sold_id,bought_id:n.bought_id,token_sold:{symbol:n.token_sold.symbol,address:n.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:n.token_bought.symbol,address:n.token_bought.address.toLocaleLowerCase()},amount_sold:n.amount_sold,amount_bought:n.amount_bought,price:n.price,buyer:n.buyer.toLocaleLowerCase(),fee_x:n.fee_x,fee_y:n.fee_y,block_number:n.block_number,timestamp:n.timestamp,transaction_hash:n.transaction_hash}),qv=n=>({time:n.time,open:n.open,close:n.close,high:n.high,low:n.low,base_price:n.base_price,oracle_price:n.oracle_price,volume:n.volume}),kn="https://prices.curve.fi";class Ev extends oe{async getEvents(t,e,a,o){const l=await this.fetch(`${kn}/v1/${t}/llamma_events/${e}/${a}?page=${o}&per_page=10`);return{events:l.data.map(Dv),count:l.count}}async getTrades(t,e,a,o){const l=await this.fetch(`${kn}/v1/${t}/llamma_trades/${e}/${a}?page=${o}&per_page=10`);return{trades:l.data.map(Fv),count:l.count}}async getOHLC(t,e,a){const o=Math.floor(new Date().getTime()/1e3),l=o-10*24*60*60;return(await this.fetch(`${kn}/v1/${t}/llamma_ohlc/${e}/${a}?agg_number=1&agg_units=hour&start=${l}&end=${o}`)).data.map(qv)}}const ra=new Ev(ae());function Ki(n,t,e,a){return Q({queryKey:["llamma-market-events",t,a],queryFn:({queryKey:[,o,l]})=>ra.getEvents(n.value,e.value,o,l),placeholderData:qt,enabled:w(()=>!!t.value&&!!e.value)})}function Xi(n,t,e,a){return Q({queryKey:["llamma-market-trades",t,a],queryFn:({queryKey:[,o,l]})=>ra.getTrades(n.value,e.value,o,l),placeholderData:qt,enabled:w(()=>!!t.value&&!!e.value)})}function la(n,t,e){return Q({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,a]})=>ra.getOHLC(n.value,e.value,a),enabled:w(()=>!!t.value&&!!e.value)})}const ji=A({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,r,p=>{e=p.addAreaSeries(c())}),{isFetching:u,data:i}=la(N("crvusd"),w(()=>{var p;return(p=n.market)==null?void 0:p.llamma}),N(()=>n.chain));D([i,o],d),D(a,()=>e.applyOptions(c()));function r(p){return ye(p,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>_(v)}})}function c(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function d([p,v]){if(!v||!e)return;const y=O.chain(p).map(f=>({time:f.time,value:f.volume})).uniqWith((f,T)=>f.time===T.time).orderBy(f=>f.time,"asc").value();y.length>0&&e.setData(y),v.timeScale().fitContent()}const _=p=>`$${K(p,1,"dollar")}${H(p,"dollar")}`;return(p,v)=>{const y=G;return b(),P(y,{class:"chart-container",title:s(t)("title"),loading:s(u)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ps(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Volume"])}}})}typeof Ps=="function"&&Ps(ji);const Bv=x(ji,[["__scopeId","data-v-3e583378"]]),Qi=A({__name:"ChartKeeperPrices",setup(n){const{t}=I();let e=[];const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,y,()=>{T()}),u=z([]),i=["USDC","USDT","TUSD","USDP"],r=w(()=>Object.keys(v.value[0]).filter($=>$!=="timestamp"&&$!=="USD"&&i.includes($))),c=w(()=>d.value||p.value),{isFetching:d,data:_}=wi(),{isFetching:p,data:v}=Fd(_);D([v,o],([$,R])=>{T(),g([$,R])}),D(u,()=>{T(),g([v.value,o.value])}),D(a,()=>{for(const[$,R]of e.entries())R.applyOptions(f($))});function y($){return ye($,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k}})}function f($){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:a.value.colorsArray[$],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:R=>{const W=R();return W!==null&&(W.priceRange.minValue=Math.max(.98,W.priceRange.minValue),W.priceRange.maxValue=Math.min(1.02,W.priceRange.maxValue)),W}}}function T(){if(o.value){for(const $ of e)o.value.removeSeries($);e=[];for(let $=0;$<r.value.length;$++){const R=o.value.addLineSeries(f($));e.push(R)}}}function g([$,R]){if(!(!R||e.length<0)){for(const[W,F]of r.value.entries()){if(u.value.includes(F)){e[W].setData([]);continue}const X=O.chain($).map(Le=>({time:Le.timestamp,value:Le[F]})).uniqWith((Le,mt)=>Le.time===mt.time).orderBy(Le=>Le.time,"asc").value();X.length>0&&e[W].setData(X)}R.timeScale().fitContent()}}const k=$=>`${K($,3,"dollar")}${H($,"dollar")}`,L=$=>{if(u.value.includes($)){const R=new Set(u.value);R.delete($),u.value=Array.from(R)}else u.value=Array.from(new Set([$,...u.value]))};return($,R)=>{const W=Be,F=G;return b(),P(F,{class:"chart-container",title:s(t)("title"),loading:s(c)},{default:C(()=>[h(W,{items:s(r),disabled:s(u),clickable:!0,colors:s(a).colorsArray,onClick:L},null,8,["items","disabled","colors"]),m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Rs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Stablecoin Prices of Pegkeepers"])}}})}typeof Rs=="function"&&Rs(Qi);const Uv=x(Qi,[["__scopeId","data-v-61da6660"]]),Wv={class:"crvusd"},Nv={class:"col"},Hv={class:"col"},Kv=A({__name:"CrvUsd.page",setup(n){const{show:t,crumbs:e}=E(Ke());Y(()=>{t.value=!0,e.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const a=qe(),o=async l=>{await a.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,u)=>(b(),S("div",Wv,[h(s(hv),{style:{"grid-column":"1 / -1"},onSelected:o}),m("div",Nv,[h(s(nv)),h(s(Uv))]),m("div",Hv,[h(s($v)),h(s(gv),{class:"price"})])]))}}),Xv=x(Kv,[["__scopeId","data-v-6bc36b5e"]]),jv={class:"addresses"},Qv={class:"title"},Gv=["href"],Yv={key:1},Gi=A({__name:"Addresses",props:{market:{}},setup(n){const{t}=I(),e=w(()=>{var l,u,i;return[{description:"controller",address:(l=n.market)==null?void 0:l.address},{description:"factory",address:(u=n.market)==null?void 0:u.factory},{description:"llamma",address:(i=n.market)==null?void 0:i.llamma}]}),a=l=>`https://etherscan.io/address/${l}`,o=async l=>{await navigator.clipboard.writeText(l)};return(l,u)=>{const i=Ae,r=pe;return b(),S("div",jv,[h(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:s(e)},{"header-content":C(()=>[m("div",Qv,M(s(t)("addresses")),1)]),row:C(({item:{description:c,address:d}})=>[m("div",null,M(s(t)(c)),1),m("div",null,[d?(b(),S("a",{key:0,class:"font-mono",href:a(d),target:"_blank"},M(d),9,Gv)):(b(),S("span",Yv,"?"))]),m("div",null,[h(i,{icon:"fas fa-link",onClick:_=>o(d)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function Is(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:a}=e;return a(["Description"])},address:e=>{const{normalize:a}=e;return a(["Address"])},addresses:e=>{const{normalize:a}=e;return a(["Addresses"])},controller:e=>{const{normalize:a}=e;return a(["Controller"])},factory:e=>{const{normalize:a}=e;return a(["Factory"])},llamma:e=>{const{normalize:a}=e;return a(["Llamma"])}}})}typeof Is=="function"&&Is(Gi);const Zv=x(Gi,[["__scopeId","data-v-e7d4d5dd"]]),Jv={class:"properties"},ef={class:"title"},tf={key:0},nf={class:"token-info"},af=["href"],sf={key:1},Yi=A({__name:"Properties",props:{market:{},chain:{}},setup(n){const{t}=I();function e(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function a(i,r){var c,d;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((c=r==null?void 0:r.collateral_token)==null?void 0:c.address)??""}:{type:"token",symbol:(r==null?void 0:r.stablecoin_token.symbol)??"?",address:((d=r==null?void 0:r.stablecoin_token)==null?void 0:d.address)??""}}const o=w(()=>[{description:"collateral",value:a("collateral",n.market)},{description:"borrowed",value:a("borrowed",n.market)}]),l=i=>`https://etherscan.io/address/${i}`,u=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const c=Tt,d=Ae,_=pe;return b(),S("div",Jv,[h(_,{class:"datatable-properties","columns-data":"properties-columns-data",rows:s(o)},{"header-content":C(()=>[m("div",ef,M(s(t)("properties")),1)]),row:C(({item:{description:p,value:v}})=>[m("div",null,M(s(t)(p)),1),e(v)?(b(),S("div",tf,[m("div",nf,[h(c,{chain:i.chain,address:v.address},null,8,["chain","address"]),m("div",null,M(v.symbol),1),m("div",null,[m("a",{class:"font-mono",href:l(v.address),target:"_blank"},M(v.address),9,af)]),m("div",null,[h(d,{icon:"fas fa-link",onClick:y=>u(v.address)},null,8,["onClick"])])])])):(b(),S("div",sf,M(v),1))]),_:1},8,["rows"])])}}});function Vs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:e=>{const{normalize:a}=e;return a(["Properties"])},oracleamm:e=>{const{normalize:a}=e;return a(["Oracle / AMM Prices"])},collateral:e=>{const{normalize:a}=e;return a(["Collateral"])},borrowed:e=>{const{normalize:a}=e;return a(["Borrowed"])}}})}typeof Vs=="function"&&Vs(Yi);const of=x(Yi,[["__scopeId","data-v-40db79a1"]]),rf={class:"market"},Zi=A({__name:"MarketOverview",props:{market:{},chain:{}},setup(n){const{t}=I();return(e,a)=>{const o=ee,l=Ce;return b(),S("div",rf,[h(l,{style:{"grid-area":"kpi1"},label:s(t)("borrow-rate"),"has-value":!!e.market},{default:C(()=>{var u;return[h(o,{value:100*(((u=e.market)==null?void 0:u.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi2"},label:s(t)("borrowed"),"has-value":!!e.market},{default:C(()=>{var u;return[h(o,{value:(u=e.market)==null?void 0:u.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi3"},label:s(t)("borrowable"),"has-value":!!e.market},{default:C(()=>{var u;return[h(o,{value:(u=e.market)==null?void 0:u.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(l,{style:{"grid-area":"kpi4"},label:s(t)("loans"),"has-value":!!e.market},{default:C(()=>{var u;return[B(M(((u=e.market)==null?void 0:u.loans)??0),1)]}),_:1},8,["label","has-value"]),h(s(Ov),{style:{"grid-area":"rates"},market:e.market},null,8,["market"]),h(s(xv),{style:{"grid-area":"cap"},market:e.market},null,8,["market"]),h(s(Pv),{style:{"grid-area":"loans"},market:e.market},null,8,["market"]),h(s(Bv),{style:{"grid-area":"volume"},market:e.market,chain:e.chain},null,8,["market","chain"]),h(s(of),{style:{"grid-area":"properties"},market:e.market,chain:e.chain},null,8,["market","chain"]),h(s(Zv),{style:{"grid-area":"addresses"},market:e.market,chain:e.chain},null,8,["market","chain"])])}}});function Os(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-rate":e=>{const{normalize:a}=e;return a(["Borrow Rate"])},borrowed:e=>{const{normalize:a}=e;return a(["Borrowed"])},borrowable:e=>{const{normalize:a}=e;return a(["Borrowable"])},loans:e=>{const{normalize:a}=e;return a(["Loans"])}}})}typeof Os=="function"&&Os(Zi);const lf=x(Zi,[["__scopeId","data-v-0122bf85"]]),uf=n=>({timestamp:rt(n.timestamp),proportion:n.proportion/100}),cf=n=>({timestamp:rt(n.dt),user:n.user.toLocaleLowerCase(),liquidator:n.liquidator.toLocaleLowerCase(),self:n.self,collateralReceived:n.collateral_received,collateralReceivedUsd:n.collateral_received_usd,stablecoinReceived:n.stablecoin_received,priceOracle:n.oracle_price,debt:n.debt,n1:n.n1,n2:n.n2,tx:n.tx.toLocaleLowerCase(),block:n.block}),pf=n=>({timestamp:rt(n.timestamp),selfCount:n.self_count,hardCount:n.hard_count,selfValue:n.self_value,hardValue:n.hard_value,price:n.price}),df=n=>({softLiqUsers:n.soft_liquidation_users,liqablePositions:n.liquidatable_positions,liqableDebtUsd:n.liquidatable_pos_debt_usd,liqableCollatUsd:n.liquidatable_collateral_usd,liqableStableUsd:n.liquidatable_stablecoin_usd,medianHealth:n.median_health,avgHealth:n.average_health,collatRatio:n.collat_ratio}),mf=n=>({timestamp:rt(n.timestamp),pctLossAverage:n.avg_pct_loss,pctLossMedian:n.median_pct_loss,absoluteLossAverage:n.avg_abs_loss,absoluteLossMedian:n.median_abs_loss,numTotalUsers:n.total_users,numUsersWithLosses:n.users_with_losses,ratio:n.ratio}),yf=n=>({decile:n.health_decile,collateralUsdValue:n.collateral,debt:n.debt,stablecoin:n.stablecoin}),Ze="https://prices.curve.fi";class _f extends oe{async getSoftLiqRatios(t,e,a){return(await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/soft_liquidation_ratio`)).data.map(uf)}async getLiqsDetailed(t,e,a){return(await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/history/detailed`)).data.map(cf)}async getLiqsAggregate(t,e,a){return(await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/history/aggregated`)).data.map(pf)}async getLiqOverview(t,e,a){const o=await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/overview`);return df(o)}async getLiqLosses(t,e,a){return(await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/losses/history`)).data.map(mf)}async getLiqHealthDeciles(t,e,a){return(await this.fetch(`${Ze}/v1/${t}/liquidations/${e}/${a}/health/distribution`)).data.map(yf)}}const ct=new _f(ae());function $t(){return{initialData:[],initialDataUpdatedAt:0}}function pt(n,t){return{enabled:w(()=>!!n.value&&(t?!!t.value:!0))}}function Ji(n,t,e){return Q({queryKey:["liqs-soft-liqs",e],queryFn:({queryKey:[,a]})=>ct.getSoftLiqRatios(n.value,t.value,a),...pt(e,t),...$t()})}function er(n,t,e){return Q({queryKey:["liqs-detailed",e],queryFn:({queryKey:[,a]})=>ct.getLiqsDetailed(n.value,t.value,a),...pt(e,t),...$t()})}function tr(n,t,e){return Q({queryKey:["liqs-aggregate",e],queryFn:({queryKey:[,a]})=>ct.getLiqsAggregate(n.value,t.value,a),...pt(e,t),...$t()})}function nr(n,t,e){return Q({queryKey:["liqs-overview",e],queryFn:({queryKey:[,a]})=>ct.getLiqOverview(n.value,t.value,a),...pt(e,t)})}function ar(n,t,e){return Q({queryKey:["liqs-losses",e],queryFn:({queryKey:[,a]})=>ct.getLiqLosses(n.value,t.value,a),...pt(e,t),...$t()})}function sr(n,t,e){return Q({queryKey:["liqs-health-deciles",e],queryFn:({queryKey:[,a]})=>ct.getLiqHealthDeciles(n.value,t.value,a),...pt(e,t),...$t()})}const vf={class:"actions"},ff={class:"chart-types"},or=A({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(n){const{t}=I(),e=z("count"),a=o=>{e.value!==o&&(e.value=o)};return(o,l)=>{const u=ut,i=G;return b(),P(i,{class:"chart-container",title:s(t)("title")},{actions:C(()=>[m("div",vf,[m("div",ff,[h(u,{value:"Count","model-value":s(e)==="count",onClick:l[0]||(l[0]=r=>a("count"))},null,8,["model-value"]),h(u,{value:"Value","model-value":s(e)==="value",onClick:l[1]||(l[1]=r=>a("value"))},null,8,["model-value"])])])]),default:C(()=>[s(e)==="count"?(b(),P(s(bf),{key:0,liqs:o.liqs},null,8,["liqs"])):(b(),P(s(wf),{key:1,liqs:o.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Ds(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Self & Hard Liquidations"])}}})}typeof Ds=="function"&&Ds(or);const ir=x(or,[["__scopeId","data-v-365eb02e"]]),hf=A({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(n){const{theme:t}=E(U()),e=w(()=>ne(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=w(()=>O.chain(n.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"").value()),o=w(()=>[{name:"Self liquidations",data:Object.values(n.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(n.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=w(()=>Math.max(...O.chain(n.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((c,d)=>c+d.selfCount+d.hardCount,0)).value())*1.1),u=r=>r,i=r=>`${K(r,1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=Ut;return b(),P(d,{class:"chart",options:s(e),series:s(o)},null,8,["options","series"])}}}),bf=x(hf,[["__scopeId","data-v-58d11eea"]]),gf=A({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(n){const{theme:t}=E(U()),e=w(()=>ne(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),a=w(()=>O.chain(n.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,c)=>c%8===0?r:"").value()),o=w(()=>[{name:"Self liquidations",data:Object.values(n.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(n.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=w(()=>Math.max(...O.chain(n.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((c,d)=>c+d.selfValue+d.hardValue,0)).value())*1.1),u=r=>r,i=r=>`${K(r,1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=Ut;return b(),P(d,{class:"chart",options:s(e),series:s(o)},null,8,["options","series"])}}}),wf=x(gf,[["__scopeId","data-v-e512276c"]]),rr=A({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,u,c=>{e=c.addAreaSeries(i())});D([N(()=>n.losses),o],r),D(a,()=>e.applyOptions(i()));function u(c){return ye(c,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([c,d]){if(!d||!e)return;const _=O.chain(c).map(p=>({time:p.timestamp,value:p.pctLossMedian})).uniqWith((p,v)=>p.time===v.time).orderBy(p=>p.time,"asc").value();_.length>0&&e.setData(_),d.timeScale().fitContent()}return(c,d)=>{const _=G;return b(),P(_,{class:"chart-container",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Fs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Median Loss % Among Loans with Losses"])}}})}typeof Fs=="function"&&Fs(rr);const lr=x(rr,[["__scopeId","data-v-1c1548f9"]]),ur=A({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,u,c=>{e=c.addAreaSeries(i())});D([N(()=>n.losses),o],r),D(a,()=>e.applyOptions(i()));function u(c){return ye(c,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([c,d]){if(!d||!e)return;const _=O.chain(c).map(p=>({time:p.timestamp,value:p.numTotalUsers>0?100*p.numUsersWithLosses/p.numTotalUsers:0})).uniqWith((p,v)=>p.time===v.time).orderBy(p=>p.time,"asc").value();_.length>0&&e.setData(_),d.timeScale().fitContent()}return(c,d)=>{const _=G;return b(),P(_,{class:"chart-container",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function qs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Proportion of Loans with Losses"])}}})}typeof qs=="function"&&qs(ur);const cr=x(ur,[["__scopeId","data-v-a6f9e882"]]),Tf=A({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(n){const{theme:t}=E(U()),e=w(()=>ne(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:a.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:u}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const r=i.series[0][i.dataPointIndex],c=i.series[1][i.dataPointIndex],d=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${u(c)}</div>`,`<div><b>Debt</b>: ${u(r)}</div>`,`<div><b>Stablecoin</b>: ${u(d)}</div>`].join("")}}})),a=w(()=>n.deciles.map(i=>i.decile)),o=w(()=>[{name:"Debt",data:Object.values(n.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(n.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(n.deciles).map(i=>i.stablecoin)}]),l=i=>i,u=i=>`$${K(i,0,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"chart",title:"Debt & Assets per Health Deciles",options:s(e),series:s(o)},null,8,["options","series"])}}}),pr=x(Tf,[["__scopeId","data-v-772fcd0d"]]),$f={class:"actions"},dr=A({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),{chart:l,chartRef:u}=ve(o,i,_=>{e=_.addAreaSeries(c()),a=_.addAreaSeries(r())});D([N(()=>n.ratios),N(()=>n.pricesOracle),l],d),D(o,()=>{e.applyOptions(c()),a.applyOptions(r())});function i(_){return ye(_,o.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:me.WithSteps,lineColor:o.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function c(){return{priceFormat:{type:"percent",precision:2,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:o.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function d([_,p,v]){var g;if(!v||!e)return;const y=O.chain(_).map(k=>({time:k.timestamp,value:k.proportion*100})).uniqWith((k,L)=>k.time===L.time).orderBy(k=>k.time,"asc").value(),f=((g=y[0])==null?void 0:g.time)??0,T=O.chain(p).filter(k=>k.timestamp>=f).map(k=>({time:k.timestamp,value:k.priceOracle})).uniqWith((k,L)=>k.time===L.time).orderBy(k=>k.time,"asc").value();T.length>0&&a.setData(T),y.length>0&&e.setData(y),v.timeScale().fitContent()}return(_,p)=>{const v=Be,y=G;return b(),P(y,{class:"chart-container",title:s(t)("title")},{actions:C(()=>[m("div",$f,[h(v,{items:["% of loans in soft liquidation","Collateral price ($)"],colors:s(o).colorsArray},null,8,["colors"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function Es(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Soft Liquidations Ratio"])}}})}typeof Es=="function"&&Es(dr);const mr=x(dr,[["__scopeId","data-v-7970775b"]]),kf={class:"actions"},yr=A({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),{chart:l,chartRef:u}=ve(o,i,_=>{e=_.addAreaSeries(c()),a=_.addAreaSeries(r())});D([N(()=>n.discounts),N(()=>n.liqs),l],d),D(o,()=>{e.applyOptions(c()),a.applyOptions(r())});function i(_){return ye(_,o.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function r(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:me.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function c(){return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:o.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function d([_,p,v]){var g;if(!v||!e||!a)return;const y=O.chain(p).map(k=>({time:k.timestamp,value:k.debt})).uniqWith((k,L)=>k.time===L.time).orderBy(k=>k.time,"asc").reduce((k,L)=>{const $=k.length>0?k[k.length-1].value:0;return k.push({time:L.time,value:L.value+$}),k},[]).value(),f=((g=y[0])==null?void 0:g.time)??0,T=O.chain(_).filter(k=>k.timestamp>=f).map(k=>({time:k.timestamp,value:k.discount*100})).uniqWith((k,L)=>k.time===L.time).orderBy(k=>k.time,"asc").value();y.length>0&&a.setData(y),T.length>0&&e.setData(T),v.timeScale().fitContent()}return(_,p)=>{const v=Be,y=G;return b(),P(y,{class:"chart-container",title:s(t)("title")},{actions:C(()=>[m("div",kf,[h(v,{items:["Liquidator Revenue","Discount"],colors:s(o).colorsArray},null,8,["colors"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function Bs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Liquidator Revenue"])}}})}typeof Bs=="function"&&Bs(yr);const _r=x(yr,[["__scopeId","data-v-e6556cc7"]]),Cf={class:"title"},Sf={class:"number"},Mf={key:1},vr=A({__name:"TableLiqOverview",props:{overview:{}},setup(n){const{t}=I(),e=w(()=>{var a,o,l,u,i,r;return[{description:"Users in soft liquidation",value:((a=n.overview)==null?void 0:a.softLiqUsers)??0,type:"number"},{description:"Median health",value:((o=n.overview)==null?void 0:o.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((l=n.overview)==null?void 0:l.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((u=n.overview)==null?void 0:u.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((i=n.overview)==null?void 0:i.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral",value:((r=n.overview)==null?void 0:r.liqableCollatUsd)??0,type:"dollar"}]});return(a,o)=>{const l=ee,u=pe;return b(),P(u,{class:"datatable-liq-overview","columns-data":"liq-overview-columns-data",rows:s(e)},{"header-content":C(()=>[m("div",Cf,M(s(t)("title")),1)]),row:C(({item:{description:i,value:r,type:c}})=>[m("div",null,M(i),1),m("div",Sf,[c!=="number"?(b(),P(l,{key:0,value:r,"show-zero":!0,type:c},null,8,["value","type"])):(b(),S("span",Mf,M(r),1))])]),_:1},8,["rows"])}}});function Us(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["General Health Metrics"])}}})}typeof Us=="function"&&Us(vr);const fr=x(vr,[["__scopeId","data-v-3b0ca374"]]),Lf={class:"title"},Af={class:"address"},zf=["href"],xf={class:"number"},Pf={class:"number"},hr=A({__name:"TableTopLiquidators",props:{liqs:{}},setup(n){const{t}=I(),e=w(()=>O.chain(n.liqs).groupBy(a=>a.liquidator).map((a,o)=>({liquidator:o,count:a.length,value:a.reduce((l,u)=>l+u.collateralReceivedUsd,0)})).orderBy(a=>a.value,"desc").take(5).value());return(a,o)=>{const l=ee,u=pe;return b(),P(u,{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",rows:s(e),columns:["Address","Count","Value"]},{"header-content":C(()=>[m("div",Lf,M(s(t)("title")),1)]),row:C(i=>[m("div",Af,[m("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},M(s(Me)(i.item.liquidator,8)),9,zf)]),m("div",xf,[h(l,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),m("div",Pf,[h(l,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}});function Ws(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Top Liquidators"])}}})}typeof Ws=="function"&&Ws(hr);const br=x(hr,[["__scopeId","data-v-05b42bd5"]]),gr=A({__name:"ChartCollateralRatio",props:{ratios:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,u,c=>{e=c.addAreaSeries(i())});D([N(()=>n.ratios),o],r),D(a,()=>e.applyOptions(i()));function u(c){return ye(c,a.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:me.WithSteps,lineColor:a.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([c,d]){if(!d||!e)return;const _=O.chain(c).map(p=>({time:p.timestamp,value:p.ratio*100})).uniqWith((p,v)=>p.time===v.time).orderBy(p=>p.time,"asc").value();_.length>0&&e.setData(_),d.timeScale().fitContent()}return(c,d)=>{const _=G;return b(),P(_,{class:"chart-container",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ns(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Collateral Ratio"])}}})}typeof Ns=="function"&&Ns(gr);const wr=x(gr,[["__scopeId","data-v-87bc6c95"]]),Tr=A({__name:"ChartLoanDistribution",props:{distribution:{}},setup(n){const{t}=I(),{theme:e}=E(U()),a=w(()=>ne(e.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:r=>{const c=r.series[0][r.dataPointIndex],d=r.series[1][r.dataPointIndex],_=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(d)}</div>`,`<div><b>Debt</b>: ${i(c)}</div>`,`<div><b>Stablecoin</b>: ${i(_)}</div>`].join("")}}})),o=w(()=>n.distribution.debt.map(r=>r.label)),l=w(()=>[{name:"Debt",data:n.distribution.debt.map(r=>r.value)}]),u=r=>r,i=r=>`$${K(r,0,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=le;return b(),P(d,{class:"chart",title:s(t)("title"),options:s(a),series:s(l)},null,8,["title","options","series"])}}});function Hs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Loan Distribution"])}}})}typeof Hs=="function"&&Hs(Tr);const Rf=x(Tr,[["__scopeId","data-v-b61a0c0a"]]),If={class:"liquidations"},Vf=A({__name:"Liquidations",props:{market:{},chain:{}},setup(n){const t=w(()=>{var L;return(L=n.market)==null?void 0:L.address}),{isFetching:e,data:a}=nr(z("crvusd"),N(()=>n.chain),t),{isFetching:o,data:l}=Bt(N(()=>n.market)),u=w(()=>l.value.map(({timestamp:L,priceOracle:$})=>({timestamp:L,priceOracle:$}))),i=w(()=>l.value.map(({timestamp:L,discountLiquidation:$})=>({timestamp:L,discount:$}))),r=w(()=>l.value.map(({timestamp:L,totalCollateralUsd:$,totalDebt:R})=>({timestamp:L,ratio:$/R})).filter(({ratio:L})=>L<1e3)),{isFetching:c,data:d}=Ji(z("crvusd"),N(()=>n.chain),t),{isFetching:_,data:p}=tr(z("crvusd"),N(()=>n.chain),t),{isFetching:v,data:y}=er(z("crvusd"),N(()=>n.chain),t),{isFetching:f,data:T}=sr(z("crvusd"),N(()=>n.chain),t),{isFetching:g,data:k}=ar(z("crvusd"),N(()=>n.chain),t);return(L,$)=>(b(),S("div",If,[h(s(fr),{overview:s(a),loading:s(e)},null,8,["overview","loading"]),h(s(mr),{ratios:s(d),"prices-oracle":s(u),loading:s(c)||s(o)},null,8,["ratios","prices-oracle","loading"]),h(s(lr),{losses:s(k),loading:s(g)},null,8,["losses","loading"]),h(s(cr),{losses:s(k),loading:s(g)},null,8,["losses","loading"]),h(s(pr),{deciles:s(T),loading:s(f)},null,8,["deciles","loading"]),h(s(wr),{ratios:s(r),loading:s(o)},null,8,["ratios","loading"]),h(s(ir),{liqs:s(p),loading:s(_)},null,8,["liqs","loading"]),h(s(br),{liqs:s(y),loading:s(v)},null,8,["liqs","loading"]),h(s(_r),{discounts:s(i),liqs:s(y),loading:s(o)||s(v)},null,8,["discounts","liqs","loading"])]))}}),Of=x(Vf,[["__scopeId","data-v-4a24d757"]]),Df={class:"controls"},$r=A({__name:"ChartOHLC",props:{ohlc:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),l=z(!1),u=z(!1);let i=1,r=0;const{chart:c,chartRef:d}=ve(o,_,T=>{e=T.addCandlestickSeries(p()),a=T.addLineSeries(v())});D([N(()=>n.ohlc),c,l,u],y),D(o,()=>{e==null||e.applyOptions(p()),a==null||a.applyOptions(v())});function _(T){return ye(T,o.value,{height:400,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:g=>f(g)}})}function p(){const{colors:T}=o.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red}}function v(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function y([T,g,k,L]){if(!g||!e)return;const $=k?-1:1,R=O.chain(T).map(F=>({time:F.time,open:Math.pow(F.open,$),high:Math.pow(F.high,$),low:Math.pow(F.low,$),close:Math.pow(F.close,$)})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value();R.length>0&&(e.setData(R),r=Math.min(...R.map(F=>F.low)),i=Math.max(...R.map(F=>F.high)));const W=O.chain(T).map(F=>({time:F.time,value:Math.pow(F.oracle_price,$)})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value();W.length>0&&a.setData(W),a.applyOptions({visible:L}),g.timeScale().fitContent()}const f=T=>{const g=i-r,k=g>1?g-Math.floor(g):g,L=-Math.floor(Math.log10(k)+1)+2;return`${K(T,L,"dollar")}${H(T,"dollar")}`};return(T,g)=>{const k=ut,L=G;return b(),P(L,{class:"chart-container",title:s(t)("title")},{actions:C(()=>[m("div",Df,[h(k,{value:"Oracle Price","model-value":s(u),onClick:g[0]||(g[0]=$=>u.value=!s(u))},null,8,["model-value"]),h(k,{value:"Invert","model-value":s(l),onClick:g[1]||(g[1]=$=>l.value=!s(l))},null,8,["model-value"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ks(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Price"])}}})}typeof Ks=="function"&&Ks($r);const kr=x($r,[["__scopeId","data-v-3f1f087b"]]);function Ff(n,t){const a=Math.round(n.value/1e3)-t;return a<60?`${Math.round(a)} seconds ago`:a<60*60?`${Math.round(a/60)} minutes ago`:a<60*60*24?`${Math.round(a/(60*60))} hours ago`:`${Math.round(a/(60*60*24))} days ago`}function kt(){const n=z(Date.now());return Y(()=>{setInterval(()=>{n.value=Date.now()})}),{relativeTime:e=>Ff(n,e)}}const qf=n=>(ie("data-v-7453ec6f"),n=n(),re(),n),Ef={class:"title"},Bf={class:"number"},Uf=qf(()=>m("div",null,null,-1)),Wf=["href"],Nf={class:"number"},Hf=["href"],Cr=A({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(n,{emit:t}){const{t:e}=I(),a=t,{page:o,onPage:l}=Ht(),u=_t(o,200);D(u,_=>a("page",_));const{relativeTime:i}=kt(),r=_=>_<1?_.toFixed(4):_>1e3?_.toFixed(0):_.toFixed(2),c=_=>{var p,v;return r(((p=_.deposit)==null?void 0:p.amount)??((v=_.withdrawal)==null?void 0:v.amount_collateral)??0)},d=_=>_.deposit?e("deposit"):_.withdrawal?e("withdrawal"):e("unknown");return(_,p)=>{const v=Xe,y=pe;return b(),P(y,{class:"datatable-events","columns-header":"1fr","columns-data":"events-columns-data",rows:_.events,columns:["Type","Amount","","Provider","Time"]},{"header-content":C(()=>[m("div",Ef,M(s(e)("title")),1),h(v,{class:"pagination","items-count":_.count,"items-per-page":10,page:s(o),onPage:s(l)},null,8,["items-count","page","onPage"])]),row:C(({item:f})=>[m("div",null,M(d(f)),1),m("div",Bf,M(c(f)),1),Uf,m("div",null,[m("a",{href:`https://etherscan.io/address/${f.provider}`,target:"_blank",onClick:p[0]||(p[0]=Se(()=>{},["stop"]))},M(s(Me)(f.provider)),9,Wf)]),m("div",Nf,[m("a",{href:`https://etherscan.io/tx/${f.transaction_hash}`,target:"_blank",onClick:p[1]||(p[1]=Se(()=>{},["stop"]))},M(s(i)(f.timestamp)),9,Hf)])]),_:1},8,["rows"])}}});function Xs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Events"])},deposit:e=>{const{normalize:a}=e;return a(["Deposit"])},withdrawal:e=>{const{normalize:a}=e;return a(["Withdrawal"])},unknown:e=>{const{normalize:a}=e;return a(["Unknown"])}}})}typeof Xs=="function"&&Xs(Cr);const Sr=x(Cr,[["__scopeId","data-v-7453ec6f"]]),Kf={class:"title"},Xf={class:"number"},jf=["href"],Qf={class:"number"},Gf=["href"],Yf=["href"],Zf={class:"number"},Jf=["href"],Mr=A({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(n,{emit:t}){const{t:e}=I(),a=t,{page:o,onPage:l}=Ht(),u=_t(o,200);D(u,c=>a("page",c));const{relativeTime:i}=kt(),r=c=>c<1?c.toFixed(4):c>1e3?c.toFixed(0):c.toFixed(2);return(c,d)=>{const _=Xe,p=Tt,v=pe;return b(),P(v,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:c.trades,columns:["Bought","","","Sold","","","Market Maker","Time"]},{"header-content":C(()=>[m("div",Kf,M(s(e)("title")),1),h(_,{class:"pagination","items-count":c.count,"items-per-page":10,page:s(o),onPage:s(l)},null,8,["items-count","page","onPage"])]),row:C(({item:y})=>[m("div",Xf,M(r(y.amount_bought)),1),h(p,{chain:c.chain,address:y.token_bought.address},null,8,["chain","address"]),m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${y.token_bought.address}`},M(y.token_bought.symbol),9,jf)]),m("div",Qf,M(r(y.amount_sold)),1),h(p,{chain:c.chain,address:y.token_sold.address},null,8,["chain","address"]),m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${y.token_sold.address}`},M(y.token_sold.symbol),9,Gf)]),m("div",null,[m("a",{href:`https://etherscan.io/address/${y.buyer}`,target:"_blank",onClick:d[0]||(d[0]=Se(()=>{},["stop"]))},M(s(Me)(y.buyer)),9,Yf)]),m("div",Zf,[m("a",{href:`https://etherscan.io/tx/${y.transaction_hash}`,target:"_blank",onClick:d[1]||(d[1]=Se(()=>{},["stop"]))},M(s(i)(y.timestamp)),9,Jf)])]),_:1},8,["rows"])}}});function js(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Trades"])}}})}typeof js=="function"&&js(Mr);const Lr=x(Mr,[["__scopeId","data-v-4d3e08c6"]]),eh={class:"trading"},Ar=A({__name:"Trading",props:{market:{},chain:{}},setup(n){const t=w(()=>{var d;return(d=n.market)==null?void 0:d.llamma}),{isFetching:e,data:a}=la(z("crvusd"),t,N(()=>n.chain)),o=z(1),{isFetching:l,data:u}=Xi(z("crvusd"),t,N(()=>n.chain),o),i=z(1),{isFetching:r,data:c}=Ki(z("crvusd"),t,N(()=>n.chain),i);return(d,_)=>{var p,v,y,f;return b(),S("div",eh,[h(s(kr),{style:{"grid-area":"ohlc"},ohlc:s(a)??[],loading:s(e)},null,8,["ohlc","loading"]),h(s(Lr),{style:{"grid-area":"trades"},trades:((p=s(u))==null?void 0:p.trades)??[],count:((v=s(u))==null?void 0:v.count)??0,chain:d.chain,loading:s(l),onPage:_[0]||(_[0]=T=>o.value=T)},null,8,["trades","count","chain","loading"]),h(s(Sr),{style:{"grid-area":"events"},events:((y=s(c))==null?void 0:y.events)??[],count:((f=s(c))==null?void 0:f.count)??0,loading:s(r),onPage:_[1]||(_[1]=T=>i.value=T)},null,8,["events","count","loading"])])}}});function Qs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:e=>{const{normalize:a}=e;return a(["Oracle price"])},amm:e=>{const{normalize:a}=e;return a(["AMM price"])}}})}typeof Qs=="function"&&Qs(Ar);const th=x(Ar,[["__scopeId","data-v-6a0c8cc5"]]),nh={class:"market-overview"},ah=A({__name:"Market.page",setup(n){const{show:t,crumbs:e}=E(Ke()),a=$e("marketAddr"),{isFetching:o,data:l}=ta(),u=w(()=>l.value.find(c=>c.address===a.value));D(u,c=>{e.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0}),Y(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:r}=Kt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:a.value}));return(c,d)=>{const _=Ie,p=Qe,v=je;return b(),S("div",nh,[h(_,{class:q(["spinner",{loading:s(o)}])},null,8,["class"]),!s(o)&&s(u)?(b(),P(v,{key:0,active:s(r),onTab:d[0]||(d[0]=y=>r.value=y.index)},{default:C(()=>[h(p,{header:"Overview"},{default:C(()=>[(b(),P(we,null,[s(i)==="overview"?(b(),P(lf,{key:0,market:s(u),chain:"ethereum"},null,8,["market"])):V("",!0)],1024))]),_:1}),h(p,{header:"Trading"},{default:C(()=>[(b(),P(we,null,[s(i)==="trading"?(b(),P(th,{key:0,market:s(u),chain:"ethereum"},null,8,["market"])):V("",!0)],1024))]),_:1}),h(p,{header:"Liquidations"},{default:C(()=>[(b(),P(we,null,[s(i)==="liquidations"?(b(),P(Of,{key:0,market:s(u),chain:"ethereum"},null,8,["market"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])):V("",!0)])}}}),sh=x(ah,[["__scopeId","data-v-77146060"]]);function nt(n){return n?n.total_assets_usd+n.collateral_balance_usd:0}const oh=n=>({name:n.name,controller:n.controller.toLocaleLowerCase(),vault:n.vault.toLocaleLowerCase(),llamma:n.llamma.toLocaleLowerCase(),policy:n.policy.toLocaleLowerCase(),oracle:n.oracle.toLocaleLowerCase(),rate:parseFloat(n.rate),borrow_apy:parseFloat(n.borrow_apy),lend_apy:parseFloat(n.lend_apy),n_loans:n.n_loans,price_oracle:parseFloat(n.price_oracle),amm_price:parseFloat(n.amm_price),total_debt:parseFloat(n.total_debt),total_assets:parseFloat(n.total_assets),total_debt_usd:parseFloat(n.total_debt_usd),total_assets_usd:parseFloat(n.total_assets_usd),minted:parseFloat(n.minted),redeemed:parseFloat(n.redeemed),minted_usd:parseFloat(n.minted_usd),redeemed_usd:parseFloat(n.redeemed_usd),collateral_balance:parseFloat(n.collateral_balance),borrowed_balance:parseFloat(n.borrowed_balance),collateral_balance_usd:parseFloat(n.collateral_balance_usd),borrowed_balance_usd:parseFloat(n.borrowed_balance_usd),collateral_token:{symbol:n.collateral_token.symbol,address:n.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:n.borrowed_token.symbol,address:n.borrowed_token.address.toLocaleLowerCase()}}),ih=n=>{const t=parseFloat(n.rate),e=parseFloat(n.borrow_apy)/100,a=parseFloat(n.lend_apy)/100,o=n.n_loans,l=parseFloat(n.price_oracle),u=parseFloat(n.amm_price),i=parseFloat(n.total_debt),r=parseFloat(n.total_debt_usd),c=parseFloat(n.total_assets),d=parseFloat(n.total_assets_usd),_=parseFloat(n.minted),p=parseFloat(n.redeemed),v=parseFloat(n.collateral_balance),y=parseFloat(n.collateral_balance_usd),f=parseFloat(n.borrowed_balance),T=parseFloat(n.borrowed_balance_usd),g=rt(n.timestamp),k=n.liquidation_discount,L=n.loan_discount;return{rate:t,borrowApy:e,lendApy:a,numLoans:o,priceOracle:l,ammPrice:u,totalDebt:i,totalDebtUsd:r,totalAssets:c,totalAssetsUsd:d,minted:_,redeemed:p,collateralBalance:v,collateralBalanceUsd:y,borrowedBalance:f,borrowedBalanceUsd:T,timestamp:g,discountLiquidation:k,discountLoan:L}},Cn="https://prices.curve.fi";class rh extends oe{async getChains(){return this.fetch(`${Cn}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${Cn}/v1/lending/markets/${t}?page=1&per_page=100`)).data.map(oh)}async getSnapshots(t,e){return(await this.fetch(`${Cn}/v1/lending/markets/${t}/${e}/snapshots?agg=day`)).data.map(ih)}}const ua=new rh(ae());function lh(n){return w(()=>{var t;return(t=n.value)==null?void 0:t.controller})}function uh(){return{initialData:[],initialDataUpdatedAt:0}}function ch(){return Q({queryKey:["llama-markets-chains"],queryFn:()=>ua.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function zr(n){return Q({queryKey:["llama-markets",n],queryFn:({queryKey:[,t]})=>ua.getMarkets(t)})}function Qt(n,t){return Q({queryKey:["llama-market-snapshots",lh(n)],queryFn:({queryKey:[,e]})=>ua.getSnapshots(t.value,e),...uh(),enabled:w(()=>!!n.value&&!!t.value)})}const Ct=n=>(ie("data-v-84fe8393"),n=n(),re(),n),ph={class:"title"},dh={class:"number"},mh={class:"number"},yh={class:"number"},_h={class:"number"},vh=Ct(()=>m("div",null,null,-1)),fh=Ct(()=>m("div",null,null,-1)),hh=Ct(()=>m("div",null,null,-1)),bh=Ct(()=>m("div",null,null,-1)),gh=Ct(()=>m("div",null,null,-1)),wh={class:"number"},Th={class:"number"},xr=A({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},setup(n){const{t}=I(),e=w(()=>t(n.type==="long"?"title-long":"title-short")),a=w(()=>O.chain(n.pairs).map(u=>({count:(u.long?1:0)+(u.short?1:0),...u})).orderBy(["count",({long:u,short:i})=>nt(u)+nt(i)],["desc","desc"]).map(({long:u,short:i})=>n.type==="long"?u:i).value());function o(u){return u.name.replace(/(-long|-short)/i,"")}const l=u=>n.type==="long"?u.collateral_token.address:u.borrowed_token.address;return(u,i)=>{const r=Tt,c=ee,d=pe;return b(),P(d,{class:"datatable-markets","columns-header":"1fr","columns-data":"markets-columns-data","expand-side":"left",loading:u.loading,rows:s(a),columns:["","","Name","Borrow Rate","Lend Rate","TVL","Loans"]},{"header-content":C(()=>[m("div",ph,M(s(e)),1)]),row:C(({item:_})=>[_?(b(),S(se,{key:0},[h(r,{chain:u.chain,address:l(_)},null,8,["chain","address"]),m("div",null,M(o(_)),1),m("div",dh,[_.borrow_apy?(b(),P(c,{key:0,value:_.borrow_apy,type:"percentage"},null,8,["value"])):V("",!0)]),m("div",mh,[_.lend_apy?(b(),P(c,{key:0,value:_.lend_apy,type:"percentage"},null,8,["value"])):V("",!0)]),m("div",yh,[s(nt)(_)?(b(),P(c,{key:0,value:s(nt)(_),type:"dollar"},null,8,["value"])):V("",!0)]),m("div",_h,M(_.n_loans),1)],64)):V("",!0)]),"row-aggregation":C(()=>[vh,fh,hh,bh,gh,m("div",wh,[h(c,{value:s(a).filter(_=>_).map(_=>_).reduce((_,p)=>_+s(nt)(p),0),type:"dollar"},null,8,["value"])]),m("div",Th,M(s(a).filter(_=>_).map(_=>_).reduce((_,p)=>_+p.n_loans,0)),1)]),"row-details":C(()=>[B("   ")]),_:1},8,["loading","rows"])}}});function Gs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"title-long":e=>{const{normalize:a}=e;return a(["Markets - Long"])},"title-short":e=>{const{normalize:a}=e;return a(["Markets - Short"])}}})}typeof Gs=="function"&&Gs(xr);const Ys=x(xr,[["__scopeId","data-v-84fe8393"]]),$h={class:"llamalend"},kh={class:"toolbar"},Ch={class:"markets"},Sh={class:"kpis"},Mh={class:"markets"},Lh={class:"kpis"},Pr=A({__name:"LlamaLend.page",setup(n){const{t}=I(),e=$e("chain"),a=w({get(){return e.value===""?"ethereum":e.value},set(T){e.value=T}}),o=z(""),l=w(()=>O.chain(u.value).filter(({long:T,short:g})=>{const k=o.value.toLocaleLowerCase().split(" ");return($=>k.some(R=>$.toLocaleLowerCase().includes(R)))(`${(T==null?void 0:T.name)??""}${(g==null?void 0:g.name)??""}`)}).value()),u=w(()=>{const T=["crvusd"],g=(r.value??[]).map($=>({market:$,isLong:T.includes($.borrowed_token.symbol.toLocaleLowerCase()),isShort:T.includes($.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:$,isShort:R})=>$||R),k=[],L=new Set;for(const{market:$,isLong:R,isShort:W}of g){if(L.has($.controller))continue;L.add($.controller);const F=g.find(X=>X.market.borrowed_token.address===$.collateral_token.address&&X.market.collateral_token.address===$.borrowed_token.address);F&&L.add(F.market.controller),k.push({long:R?$:F==null?void 0:F.market,short:W?$:F==null?void 0:F.market})}return k}),{isFetching:i,data:r}=zr(a),{data:c}=ch(),{show:d,crumbs:_}=E(Ke());Y(()=>{d.value=!0,_.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend"},{id:"market",label:"Select market for details",hint:!0}]});const p=qe(),v=async T=>{await p.push({name:"llamalendmarket",params:{tab:"",chain:a.value,marketAddr:T.controller}})},y=T=>l.value.map(g=>T==="long"?g.long:g.short).filter(g=>!!g).map(g=>g).reduce((g,k)=>g+k.total_debt_usd,0),f=T=>{const g=l.value.map(k=>T==="long"?k.long:k.short).filter(k=>!!k).map(k=>k).reduce(({debt:k,assets:L},$)=>({debt:k+$.total_debt_usd,assets:L+$.total_assets_usd}),{debt:0,assets:0});return g.assets===0?0:g.debt/g.assets*100};return(T,g)=>{const k=ge,L=ee,$=Ce;return b(),S("div",$h,[(b(),P(Jo,{to:"#toolbar"},[m("div",kh,[h(k,{modelValue:s(o),"onUpdate:modelValue":g[0]||(g[0]=R=>de(o)?o.value=R:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(Nt,{class:"chain-select",chain:s(a),chains:s(c),onSelectChain:g[1]||(g[1]=R=>a.value=R==="all"?"ethereum":R)},null,8,["chain","chains"])])])),m("div",Ch,[m("div",Sh,[h($,{label:s(t)("open-interest"),"has-value":!s(i)},{default:C(()=>[h(L,{value:y("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h($,{"tooltip-type":"icon",label:s(t)("avg-util-rate"),"has-value":!s(i),tooltip:s(t)("avg-util-rate-tooltip")},{default:C(()=>[h(L,{value:f("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),h(s(Ys),{style:{"grid-column":"1"},type:"long",pairs:s(l),loading:s(i),chain:s(a),onSelected:v},null,8,["pairs","loading","chain"])]),m("div",Mh,[m("div",Lh,[h($,{label:s(t)("open-interest"),"has-value":!s(i)},{default:C(()=>[h(L,{value:y("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h($,{"tooltip-type":"icon",label:s(t)("avg-util-rate"),"has-value":!s(i),tooltip:s(t)("avg-util-rate-tooltip")},{default:C(()=>[h(L,{value:f("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),h(s(Ys),{style:{"grid-column":"2"},type:"short",pairs:s(l),loading:s(i),chain:s(a),onSelected:v},null,8,["pairs","loading","chain"])])])}}});function Zs(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])},"open-interest":e=>{const{normalize:a}=e;return a(["Open Interest"])},"avg-util-rate":e=>{const{normalize:a}=e;return a(["Average Utilization Rate"])},"avg-util-rate-tooltip":e=>{const{normalize:a}=e;return a(["Aggregate debt divided by aggregate assets"])}}})}typeof Zs=="function"&&Zs(Pr);const Ah=x(Pr,[["__scopeId","data-v-346c661e"]]),zh=n=>({stablecoin:n.stablecoin.map(t=>({value:t.value,label:t.label})),debt:n.debt.map(t=>({value:t.value,label:t.label})),collateral:n.collateral.map(t=>({value:t.value,label:t.label}))}),xh="https://prices.curve.fi";class Ph extends oe{async getLoanDistribution(t,e,a){const o=await this.fetch(`${xh}/v1/${t}/markets/${e}/${a}/loans/distribution`);return zh(o)}}const Rh=new Ph(ae());function Ih(n,t,e){return Q({queryKey:["lending-loan-distribution",t],queryFn:({queryKey:[,a]})=>Rh.getLoanDistribution(n.value,e.value,a),initialData:{stablecoin:[],debt:[],collateral:[]},initialDataUpdatedAt:0,enabled:w(()=>!!t.value&&!!e.value)})}const Vh={class:"actions"},Rr=A({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),{chart:l,chartRef:u}=ve(o,d,f=>{e=f.addLineSeries(_()),a=f.addLineSeries(p())}),i=w(()=>{const{colors:f}=o.value;return[f.blue,f.yellow]}),{isFetching:r,data:c}=Qt(N(()=>n.market),N(()=>n.chain));D([c,l],v),D(o,()=>{e.applyOptions(_()),a.applyOptions(p())});function d(f){return ye(f,o.value,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>y(T)}})}function _(){return{priceFormat:{type:"price",precision:2,minMove:.01},lineWidth:2,color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function p(){return{priceFormat:{type:"price",precision:2,minMove:.01},lineWidth:2,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function v([f,T]){var L,$,R,W;if(!T||!e||!a)return;const g=O.chain(f).map(F=>({time:F.timestamp,value:F.totalAssets})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value(),k=O.chain(f).map(F=>({time:F.timestamp,value:F.totalDebt})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value();if(g.length>0&&e.setData(g),k.length>0&&a.setData(k),g.length>0||k.length>0){const F=Math.min(((L=g[0])==null?void 0:L.time)??1/0,(($=k[0])==null?void 0:$.time)??1/0),X=Math.max(((R=g[g.length-1])==null?void 0:R.time)??-1/0,((W=k[k.length-1])==null?void 0:W.time)??-1/0);T.timeScale().setVisibleRange({from:F,to:X})}}const y=f=>`$${K(f,2,"dollar")}${H(f,"dollar")}`;return(f,T)=>{const g=Be,k=G;return b(),P(k,{class:"chart-container",title:s(t)("title"),loading:s(r)},{actions:C(()=>[m("div",Vh,[h(g,{items:[s(t)("supply"),s(t)("debt")],colors:s(i)},null,8,["items","colors"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Js(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Supply & Debt"])},supply:e=>{const{normalize:a}=e;return a(["Supply"])},debt:e=>{const{normalize:a}=e;return a(["Debt"])}}})}typeof Js=="function"&&Js(Rr);const Oh=x(Rr,[["__scopeId","data-v-4bbe2c2d"]]),Ir=A({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(n){const{t}=I();let e;const{theme:a}=E(U()),{chart:o,chartRef:l}=ve(a,r,p=>{e=p.addHistogramSeries(c())}),{isFetching:u,data:i}=Qt(N(()=>n.market),N(()=>n.chain));D([i,o],d),D(a,()=>e.applyOptions(c()));function r(p){return ye(p,a.value,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:_}})}function c(){return{color:a.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function d([p,v]){if(!v||!e)return;const y=O.chain(p).map(f=>({time:f.timestamp,value:f.numLoans})).uniqWith((f,T)=>f.time===T.time).orderBy(f=>f.time,"asc").value();if(y.length>0){e.setData(y);const f=y[0].time,T=y[y.length-1].time;v.timeScale().setVisibleRange({from:f,to:T})}}const _=p=>Math.round(p).toString();return(p,v)=>{const y=G;return b(),P(y,{class:"chart-container",title:s(t)("title"),loading:s(u)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function eo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Loans"])}}})}typeof eo=="function"&&eo(Ir);const Dh=x(Ir,[["__scopeId","data-v-05eef7db"]]),Fh={class:"actions"},Vr=A({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(n){const{t}=I();let e,a;const{theme:o}=E(U()),{chart:l,chartRef:u}=ve(o,d,f=>{e=f.addLineSeries(_()),a=f.addLineSeries(p())}),i=w(()=>{const{colors:f}=o.value;return[f.red,f.green]}),{isFetching:r,data:c}=Qt(N(()=>n.market),N(()=>n.chain));D([c,l],v),D(o,()=>{e.applyOptions(_()),a.applyOptions(p())});function d(f){return ye(f,o.value,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>y(T)}})}function _(){return{priceFormat:{type:"price",precision:2,minMove:.01},lineWidth:2,color:o.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}}function p(){return{priceFormat:{type:"price",precision:2,minMove:.01},lineWidth:2,color:o.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}}function v([f,T]){var L,$,R,W;if(!T||!e||!a)return;const g=O.chain(f).map(F=>({time:F.timestamp,value:F.borrowApy})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value(),k=O.chain(f).map(F=>({time:F.timestamp,value:F.lendApy})).uniqWith((F,X)=>F.time===X.time).orderBy(F=>F.time,"asc").value();if(g.length>0&&e.setData(g),k.length>0&&a.setData(k),g.length>0||k.length>0){const F=Math.min(((L=g[0])==null?void 0:L.time)??1/0,(($=k[0])==null?void 0:$.time)??1/0),X=Math.max(((R=g[g.length-1])==null?void 0:R.time)??-1/0,((W=k[k.length-1])==null?void 0:W.time)??-1/0);T.timeScale().setVisibleRange({from:F,to:X})}}const y=f=>`${K(f*100,2,"percentage")}${H(f,"percentage")}`;return(f,T)=>{const g=Be,k=G;return b(),P(k,{class:"chart-container",title:s(t)("title"),loading:s(r)},{actions:C(()=>[m("div",Fh,[h(g,{items:[s(t)("borrow-apy"),s(t)("lend-apy")],colors:s(i)},null,8,["items","colors"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function to(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Rates"])},"borrow-apy":e=>{const{normalize:a}=e;return a(["Borrow APY"])},"lend-apy":e=>{const{normalize:a}=e;return a(["Lend APY"])}}})}typeof to=="function"&&to(Vr);const qh=x(Vr,[["__scopeId","data-v-cc9f4a2a"]]),Eh={class:"addresses"},Bh={class:"title"},Uh=["href"],Wh={key:1},Or=A({__name:"Addresses",props:{market:{}},setup(n){const{t}=I(),e=w(()=>{var l,u,i,r,c;return[{description:"controller",address:(l=n.market)==null?void 0:l.controller},{description:"vault",address:(u=n.market)==null?void 0:u.vault},{description:"llamma",address:(i=n.market)==null?void 0:i.llamma},{description:"policy",address:(r=n.market)==null?void 0:r.policy},{description:"oracle",address:(c=n.market)==null?void 0:c.oracle}]}),a=l=>`https://etherscan.io/address/${l}`,o=async l=>{await navigator.clipboard.writeText(l)};return(l,u)=>{const i=Ae,r=pe;return b(),S("div",Eh,[h(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:s(e)},{"header-content":C(()=>[m("div",Bh,M(s(t)("addresses")),1)]),row:C(({item:{description:c,address:d}})=>[m("div",null,M(s(t)(c)),1),m("div",null,[d?(b(),S("a",{key:0,class:"font-mono",href:a(d),target:"_blank"},M(d),9,Uh)):(b(),S("span",Wh,"?"))]),m("div",null,[h(i,{icon:"fas fa-link",onClick:_=>o(d)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function no(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:a}=e;return a(["Description"])},address:e=>{const{normalize:a}=e;return a(["Address"])},addresses:e=>{const{normalize:a}=e;return a(["Addresses"])},controller:e=>{const{normalize:a}=e;return a(["Controller"])},vault:e=>{const{normalize:a}=e;return a(["Vault"])},llamma:e=>{const{normalize:a}=e;return a(["Llamma"])},policy:e=>{const{normalize:a}=e;return a(["Policy"])},oracle:e=>{const{normalize:a}=e;return a(["Oracle"])}}})}typeof no=="function"&&no(Or);const Nh=x(Or,[["__scopeId","data-v-5433b69f"]]),Hh={class:"usage"},Kh={class:"two-values"},Xh={class:"two-values"},jh={class:"two-values"},Dr=A({__name:"KPIUsage",props:{market:{}},setup(n){const{t}=I(),e=w(()=>n.market?n.market.total_assets_usd===0?0:n.market.total_debt_usd/n.market.total_assets_usd:0);return(a,o)=>{var i,r,c;const l=ee,u=Ce;return b(),S("div",Hh,[h(u,{label:s(t)("collateral")+` (${((i=a.market)==null?void 0:i.collateral_token.symbol)??"?"})`,"has-value":!!a.market},{default:C(()=>{var d,_;return[m("div",Kh,[h(l,{value:(d=a.market)==null?void 0:d.collateral_balance,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),h(l,{value:(_=a.market)==null?void 0:_.collateral_balance_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(u,{label:s(t)("borrowed")+` (${((r=a.market)==null?void 0:r.borrowed_token.symbol)??"?"})`,"has-value":!!a.market},{default:C(()=>{var d,_;return[m("div",Xh,[h(l,{value:(d=a.market)==null?void 0:d.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),h(l,{value:(_=a.market)==null?void 0:_.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(u,{label:s(t)("supplied")+` (${((c=a.market)==null?void 0:c.borrowed_token.symbol)??"?"})`,"has-value":!!a.market},{default:C(()=>{var d,_;return[m("div",jh,[h(l,{value:(d=a.market)==null?void 0:d.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),h(l,{value:(_=a.market)==null?void 0:_.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),h(u,{"tooltip-type":"icon",label:s(t)("util-rate"),"has-value":!!a.market,tooltip:s(t)("util-rate-tooltip")},{default:C(()=>[h(l,{value:s(e),"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function ao(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{collateral:e=>{const{normalize:a}=e;return a(["Collateral"])},borrowed:e=>{const{normalize:a}=e;return a(["Borrowed"])},supplied:e=>{const{normalize:a}=e;return a(["Supplied"])},"util-rate":e=>{const{normalize:a}=e;return a(["Utilization Rate"])},"util-rate-tooltip":e=>{const{normalize:a}=e;return a(["Utilization rate is total supplied divided by total borrowed"])}}})}typeof ao=="function"&&ao(Dr);const Qh=x(Dr,[["__scopeId","data-v-267d7f07"]]),Gh={class:"properties"},Yh={class:"title"},Zh={key:0},Jh={class:"token-info"},eb=["href"],tb={key:1},Fr=A({__name:"Properties",props:{market:{},chain:{}},setup(n){const{t}=I();function e(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function a(i,r){var c,d;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((c=r==null?void 0:r.collateral_token)==null?void 0:c.address)??""}:{type:"token",symbol:(r==null?void 0:r.borrowed_token.symbol)??"?",address:((d=r==null?void 0:r.borrowed_token)==null?void 0:d.address)??""}}const o=w(()=>[{description:"collateral",value:a("collateral",n.market)},{description:"borrowed",value:a("borrowed",n.market)}]),l=i=>`https://etherscan.io/address/${i}`,u=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const c=Tt,d=Ae,_=pe;return b(),S("div",Gh,[h(_,{class:"datatable-properties","columns-data":"properties-columns-data",rows:s(o)},{"header-content":C(()=>[m("div",Yh,M(s(t)("properties")),1)]),row:C(({item:{description:p,value:v}})=>[m("div",null,M(s(t)(p)),1),e(v)?(b(),S("div",Zh,[m("div",Jh,[h(c,{chain:i.chain,address:v.address},null,8,["chain","address"]),m("div",null,M(v.symbol),1),m("div",null,[m("a",{class:"font-mono",href:l(v.address),target:"_blank"},M(v.address),9,eb)]),m("div",null,[h(d,{icon:"fas fa-link",onClick:y=>u(v.address)},null,8,["onClick"])])])])):(b(),S("div",tb,M(v),1))]),_:1},8,["rows"])])}}});function so(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:e=>{const{normalize:a}=e;return a(["Properties"])},oracleamm:e=>{const{normalize:a}=e;return a(["Oracle / AMM Prices"])},collateral:e=>{const{normalize:a}=e;return a(["Collateral"])},borrowed:e=>{const{normalize:a}=e;return a(["Borrowed"])}}})}typeof so=="function"&&so(Fr);const nb=x(Fr,[["__scopeId","data-v-c505e087"]]),ab={class:"market"},qr=A({__name:"MarketOverview",props:{market:{},chain:{}},setup(n){const{t}=I(),e=w(()=>{var l;return(l=n.market)==null?void 0:l.controller}),{isFetching:a,data:o}=Ih(z("lending"),e,N(()=>n.chain));return(l,u)=>{const i=ee,r=Ce;return b(),S("div",ab,[h(r,{style:{"grid-area":"kpi1"},label:s(t)("borrow-apy"),"has-value":!!l.market},{default:C(()=>{var c;return[h(i,{value:(c=l.market)==null?void 0:c.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(r,{style:{"grid-area":"kpi2"},label:s(t)("lend-apy"),"has-value":!!l.market},{default:C(()=>{var c;return[h(i,{value:(c=l.market)==null?void 0:c.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(r,{style:{"grid-area":"kpi3"},label:s(t)("loans"),"has-value":!!l.market},{default:C(()=>{var c;return[B(M(((c=l.market)==null?void 0:c.n_loans)??0),1)]}),_:1},8,["label","has-value"]),h(r,{style:{"grid-area":"kpi4"},label:s(t)("tvl"),"has-value":!!l.market},{default:C(()=>[h(i,{value:s(nt)(l.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(s(Oh),{style:{"grid-area":"supply"},market:l.market,chain:l.chain},null,8,["market","chain"]),h(s(Rf),{style:{"grid-area":"distribution"},distribution:s(o),loading:s(a)},null,8,["distribution","loading"]),h(s(qh),{style:{"grid-area":"rates"},market:l.market,chain:l.chain},null,8,["market","chain"]),h(s(Dh),{style:{"grid-area":"loans"},market:l.market,chain:l.chain},null,8,["market","chain"]),h(s(Nh),{style:{"grid-area":"addresses"},market:l.market},null,8,["market"]),h(s(nb),{style:{"grid-area":"properties"},market:l.market,chain:l.chain},null,8,["market","chain"]),h(s(Qh),{style:{"grid-area":"usage"},market:l.market},null,8,["market"])])}}});function oo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-apy":e=>{const{normalize:a}=e;return a(["Borrow APY"])},"lend-apy":e=>{const{normalize:a}=e;return a(["Lend APY"])},loans:e=>{const{normalize:a}=e;return a(["Loans"])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])}}})}typeof oo=="function"&&oo(qr);const sb=x(qr,[["__scopeId","data-v-2ab911e9"]]),ob={class:"trading"},Er=A({__name:"Trading",props:{market:{},chain:{}},setup(n){const{t}=I(),e=w(()=>{var _;return(_=n.market)==null?void 0:_.llamma}),{isFetching:a,data:o}=la(z("lending"),e,N(()=>n.chain)),l=z(1),{isFetching:u,data:i}=Xi(z("lending"),e,N(()=>n.chain),l),r=z(1),{isFetching:c,data:d}=Ki(z("lending"),e,N(()=>n.chain),r);return(_,p)=>{var f,T,g,k;const v=ee,y=Ce;return b(),S("div",ob,[h(y,{style:{"grid-area":"oracle"},label:s(t)("oracle"),"has-value":!!_.market},{default:C(()=>{var L;return[h(v,{value:(L=_.market)==null?void 0:L.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(y,{style:{"grid-area":"amm"},label:s(t)("amm"),"has-value":!!_.market},{default:C(()=>{var L;return[h(v,{value:(L=_.market)==null?void 0:L.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),h(s(kr),{style:{"grid-area":"ohlc"},ohlc:s(o)??[],loading:s(a)},null,8,["ohlc","loading"]),h(s(Lr),{style:{"grid-area":"trades"},trades:((f=s(i))==null?void 0:f.trades)??[],count:((T=s(i))==null?void 0:T.count)??0,chain:_.chain,loading:s(u),onPage:p[0]||(p[0]=L=>l.value=L)},null,8,["trades","count","chain","loading"]),h(s(Sr),{style:{"grid-area":"events"},events:((g=s(d))==null?void 0:g.events)??[],count:((k=s(d))==null?void 0:k.count)??0,loading:s(c),onPage:p[1]||(p[1]=L=>r.value=L)},null,8,["events","count","loading"])])}}});function io(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:e=>{const{normalize:a}=e;return a(["Oracle price"])},amm:e=>{const{normalize:a}=e;return a(["AMM price"])}}})}typeof io=="function"&&io(Er);const ib=x(Er,[["__scopeId","data-v-cf50be15"]]),rb={class:"liquidations"},lb=A({__name:"Liquidations",props:{market:{},chain:{}},setup(n){const t=w(()=>{var $;return($=n.market)==null?void 0:$.controller}),{isFetching:e,data:a}=Qt(N(()=>n.market),N(()=>n.chain)),o=w(()=>a.value.map(({timestamp:$,priceOracle:R})=>({timestamp:$,priceOracle:R}))),l=w(()=>a.value.map(({timestamp:$,discountLiquidation:R})=>({timestamp:$,discount:R}))),u=w(()=>a.value.map(({timestamp:$,collateralBalanceUsd:R,totalDebtUsd:W})=>({timestamp:$,ratio:R/W})).filter(({ratio:$})=>$<1e3)),{isFetching:i,data:r}=tr(z("lending"),N(()=>n.chain),t),{isFetching:c,data:d}=er(z("lending"),N(()=>n.chain),t),{isFetching:_,data:p}=Ji(z("lending"),N(()=>n.chain),t),v=w(()=>p.value.map(({timestamp:$,proportion:R})=>({timestamp:$,proportion:R*100}))),{isFetching:y,data:f}=nr(z("lending"),N(()=>n.chain),t),{isFetching:T,data:g}=ar(z("lending"),N(()=>n.chain),t),{isFetching:k,data:L}=sr(z("lending"),N(()=>n.chain),t);return($,R)=>(b(),S("div",rb,[h(s(fr),{overview:s(f),loading:s(y)},null,8,["overview","loading"]),h(s(mr),{ratios:s(v),"prices-oracle":s(o),loading:s(_)||s(e)},null,8,["ratios","prices-oracle","loading"]),h(s(lr),{losses:s(g),loading:s(T)},null,8,["losses","loading"]),h(s(cr),{losses:s(g),loading:s(T)},null,8,["losses","loading"]),h(s(pr),{deciles:s(L),loading:s(k)},null,8,["deciles","loading"]),h(s(wr),{ratios:s(u),loading:s(e)},null,8,["ratios","loading"]),h(s(ir),{liqs:s(r),loading:s(i)},null,8,["liqs","loading"]),h(s(br),{liqs:s(d),loading:s(c)},null,8,["liqs","loading"]),h(s(_r),{discounts:s(l),liqs:s(d),loading:s(e)||s(c)},null,8,["discounts","liqs","loading"])]))}}),ub=x(lb,[["__scopeId","data-v-eb2a1e88"]]),cb={class:"market-overview"},pb=A({__name:"Market.page",setup(n){const{show:t,crumbs:e}=E(Ke()),a=$e("chain"),o=$e("marketAddr"),{isFetching:l,data:u}=zr(a),i=w(()=>{var d;return(d=u.value)==null?void 0:d.find(_=>_.controller===o.value)});D(i,d=>{e.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),Y(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:c}=Kt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:a.value,marketAddr:o.value}));return(d,_)=>{const p=Ie,v=Qe,y=je;return b(),S("div",cb,[h(p,{class:q(["spinner",{loading:s(l)}])},null,8,["class"]),!s(l)&&s(i)?(b(),P(y,{key:0,active:s(c),onTab:_[0]||(_[0]=f=>c.value=f.index)},{default:C(()=>[h(v,{header:"Overview"},{default:C(()=>[(b(),P(we,null,[s(r)==="overview"?(b(),P(sb,{key:0,market:s(i),chain:s(a)},null,8,["market","chain"])):V("",!0)],1024))]),_:1}),h(v,{header:"Trading"},{default:C(()=>[(b(),P(we,null,[s(r)==="trading"?(b(),P(ib,{key:0,market:s(i),chain:s(a)},null,8,["market","chain"])):V("",!0)],1024))]),_:1}),h(v,{header:"Liquidations"},{default:C(()=>[(b(),P(we,null,[s(r)==="liquidations"?(b(),P(ub,{key:0,market:s(i),chain:s(a)},null,8,["market","chain"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])):V("",!0)])}}}),db=x(pb,[["__scopeId","data-v-72ca3ee4"]]),ze=Re("monitorStore",()=>{const n=z(null),t=z(null),e=z(null),a=z([]),o=z(!1),l=z([]),u=z([]),i=z([]),r=z([]),c=z([]),d=z({curve:[],balanceCoin0:0,balanceCoin1:0}),_=z([]),p=z(null),v=z("month");return{socket:n,socketPool:t,pool:e,pools:a,poolsLoadingError:o,prices:l,balances:u,volumes:i,transactions:r,tvl:c,bonding:d,coins:_,pair:p,timeRange:v}});class mb{constructor(t){this.init$=new be(e=>{const a=o=>{const l=o.map(u=>ro(u));e.next(l)};return t.on("price_chart",a),()=>{t.off("price_chart",a)}}).pipe(Te()),this.update$=new be(e=>{const a=o=>{const l=ro(o);e.next(l)};return t.on("Update Price-Chart",a),()=>{t.off("Update Price-Chart",a)}}).pipe(Te())}}function ro(n){const t=Object.keys(n)[0],e=parseInt(t,10),a=n[t];return{timestamp:e,value:a}}class yb{constructor(t){this.init$=new be(e=>{const a=o=>{const l=o.map(u=>lo(u));e.next(l)};return t.on("balances_chart",a),()=>{t.off("balances_chart",a)}}).pipe(Te()),this.update$=new be(e=>{const a=o=>{const l=lo(o);e.next(l)};return t.on("Update Balance-Chart",a),()=>{t.off("Update Balance-Chart",a)}}).pipe(Te())}}function lo(n){const t=Object.keys(n)[0],e=parseInt(t,10),a=n[t];return{timestamp:e,balances:a}}class _b{constructor(t){this.init$=new be(e=>{const a=o=>{const l=o.map(u=>uo(u));e.next(l)};return t.on("volume_chart",a),()=>{t.off("volume_chart",a)}}).pipe(Te()),this.update$=new be(e=>{const a=o=>{const l=uo(o);e.next(l)};return t.on("Update Volume-Chart",a),()=>{t.off("Update Volume-Chart",a)}}).pipe(Te())}}function uo(n){const t=Object.keys(n)[0],e=parseInt(t,10),a=n[t];return{timestamp:e,volume:a}}class vb{constructor(t){this.init$=new be(e=>{const a=o=>{const l=o.map(u=>co(u)).flat(1);e.next(l)};return t.on("table_all",a),()=>{t.off("table_all",a)}}).pipe(Te()),this.update$=new be(e=>{const a=o=>{const l=co(o);for(const u of l)e.next(u)};return t.on("Update Table-ALL",a),()=>{t.off("Update Table-ALL",a)}}).pipe(Te())}}function co(n){let t;if(n.type==="swap")t="swap";else if(n.type==="deposit")t="deposit";else if(n.type==="remove")t="withdraw";else return[];const e=n.txHash.toLocaleLowerCase(),a=n.blockNumber,o=n.trader.toLocaleLowerCase(),l=n.unixtime;let u;if(t==="swap"){const i=n;return u=[{type:t,txHash:e,blockNumber:a,trader:o,timestamp:l,fee:i.tradeDetails.feeUSD,value:i.tradeDetails.valueUSD,amountIn:i.tradeDetails.amountIn,amountOut:i.tradeDetails.amountOut,tokenIn:i.tradeDetails.nameIn,tokenOut:i.tradeDetails.nameOut}],u}else t==="deposit"?u=n.tradeDetails.map(r=>({type:"deposit",txHash:e,blockNumber:a,trader:o,timestamp:l,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):u=n.tradeDetails.map(r=>({type:"withdraw",txHash:e,blockNumber:a,trader:o,timestamp:l,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return u}class fb{constructor(t){this.init$=new be(e=>{const a=o=>{const l=o.map(u=>po(u));e.next(l)};return t.on("tvl_chart",a),()=>{t.off("tvl_chart",a)}}).pipe(Te()),this.update$=new be(e=>{const a=o=>{const l=po(o);e.next(l)};return t.on("Update TVL-Chart",a),()=>{t.off("Update TVL-Chart",a)}}).pipe(Te())}}function po(n){const t=Object.keys(n)[0],e=parseInt(t,10),a=n[t];return{timestamp:e,tvl:a}}class hb{constructor(t){this.get$=new be(e=>{const a=o=>{const l=bb(o);e.next(l)};return t.on("bonding_curve",a),()=>{t.off("bonding_curve",a)}}).pipe(Te())}}function bb(n){return{curve:O.zipWith(n.x,n.y,(e,a)=>({x:e,y:a})),balanceCoin0:n.balance0,balanceCoin1:n.balance1}}function gb(n){return jn(`${n}/`,{autoConnect:!1,secure:!0})}function wb(n,t){return jn(`${n}/${t}`,{autoConnect:!1,secure:!0})}function Tb(n){return jn(`${n}/main`,{autoConnect:!1,secure:!0})}function $b(n,t,e){const a=wb(t,e),o=new _b(a),l=new mb(a),u=new vb(a),i=new yb(a),r=new fb(a),c=new hb(a),d=new Td(a),_=new gi(a);return Ab(n,u),Mb(n,l),Cb(n,i),Sb(n,r),Lb(n,o),zb(n,c),xb(n,d),Pb(n,_),a.connect(),a}async function kb(n,t,e){const a=await t.get(e);a?n.pools=a:n.poolsLoadingError=!0}let xt=null;function Cb(n,t){xt&&xt.unsubscribe();try{xt=t.init$.subscribe({next:e=>{n.balances=e},error:e=>console.error(e)}),xt.add(t.update$.subscribe({next:e=>{n.balances.push(e)},error:e=>console.error(e)}))}catch{n.poolsLoadingError=!0}}let Pt=null;function Sb(n,t){Pt&&Pt.unsubscribe();try{Pt=t.init$.subscribe({next:e=>{n.tvl=e},error:e=>console.error(e)}),Pt.add(t.update$.subscribe({next:e=>{n.tvl.push(e)},error:e=>console.error(e)}))}catch{n.poolsLoadingError=!0}}let Rt=null;function Mb(n,t){Rt&&Rt.unsubscribe();try{Rt=t.init$.subscribe({next:e=>{n.prices=e},error:e=>console.error(e)}),Rt.add(t.update$.subscribe({next:e=>{n.prices.push(e)},error:e=>console.error(e)}))}catch{n.poolsLoadingError=!0}}let It=null;function Lb(n,t){It&&It.unsubscribe();try{It=t.init$.subscribe({next:e=>{n.volumes=e},error:e=>console.error(e)}),It.add(t.update$.subscribe({next:e=>{n.volumes.push(e)},error:e=>console.error(e)}))}catch{n.poolsLoadingError=!0}}let Vt=null;function Ab(n,t){Vt&&Vt.unsubscribe();try{Vt=t.init$.subscribe({next:e=>{n.transactions=e},error:e=>console.error(e)}),Vt.add(t.update$.subscribe({next:e=>{n.transactions.push(e)},error:e=>console.error(e)}))}catch{n.poolsLoadingError=!0}}let Sn=null;function zb(n,t){Sn&&Sn.unsubscribe();try{Sn=t.get$.subscribe({next:e=>{n.bonding=e},error:e=>console.error(e)})}catch{n.poolsLoadingError=!0}}let Mn=null;function xb(n,t){Mn&&Mn.unsubscribe();try{Mn=t.get$.subscribe({next:e=>{n.coins=e},error:e=>console.error(e)})}catch{n.poolsLoadingError=!0}}let Ln=null;function Pb(n,t){Ln&&Ln.unsubscribe();try{Ln=t.update$.subscribe({next:e=>{n.pair=e},error:e=>console.error(e)})}catch{n.poolsLoadingError=!0}}const Rb={key:0,class:"item"},Ib={class:"label"},Br=A({__name:"SearchPool",props:{modelValue:{},poolService:{}},emits:["update:modelValue","select"],setup(n,{emit:t}){const{t:e}=I(),a=t,o=ze(),l=z(!1),u=z(e("search-placeholder")),i=w(()=>o.pools),r=p=>{const v=ke(p.name);return v.startsWith("Curve.fi ")?v.slice(9):v},c=O.debounce(kb,200,{maxWait:1e3}),d=p=>{c(o,n.poolService,p),l.value=!!p},_=p=>{const v=p;l.value=!1,a("select",v)};return D(()=>o.poolsLoadingError,p=>{p?u.value=e("search-error"):u.value=e("search-placeholder")}),(p,v)=>{const y=ge;return b(),P(y,{class:"select-pool","model-value":p.modelValue,placeholder:s(u),search:!0,"auto-complete":s(l),options:s(i),"onUpdate:modelValue":v[0]||(v[0]=f=>a("update:modelValue",f)),onInput:d,onSelect:_},{item:C(f=>[f.item?(b(),S("div",Rb,[m("div",Ib,M(r(f.item)),1)])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"])}}});function mo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-loading":e=>{const{normalize:a}=e;return a(["Loading pools, please wait..."])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for Curve pools"])},"search-error":e=>{const{normalize:a}=e;return a(["Failed loading Curve pools"])}}})}typeof mo=="function"&&mo(Br);const Vb=x(Br,[["__scopeId","data-v-1ba8ff4a"]]),Ob={class:"status"},Db={class:"ping"},Fb=A({__name:"Status",setup(n){const t=ze(),e=z(1/0),a=z("bad");return D(()=>t.socket,o=>{if(!o)return;new gd(o).get$.subscribe(u=>{e.value=u,a.value=u<=50?"good":u<=500?"meh":"bad"})},{immediate:!0}),(o,l)=>{const u=gt;return b(),S("div",Ob,[h(u,{class:"tooltip"},{item:C(()=>[m("div",{class:q(["indicator",s(a)])},null,2)]),default:C(()=>[m("div",Db,"Ping: "+M(s(e)===1/0?"?":s(e))+"ms",1)]),_:1})])}}}),qb=x(Fb,[["__scopeId","data-v-a782295f"]]),Eb=n=>(ie("data-v-817c5577"),n=n(),re(),n),Bb={class:"header"},Ub={class:"header-content"},Wb=Eb(()=>m("div",{class:"title"},"Live monitor",-1)),Nb={class:"controls"},Hb=A({__name:"Header",props:{poolService:{}},setup(n){const t=ze(),e=z(""),a=o=>{const l=o;e.value=ke(l.name),t.pool=l};return(o,l)=>{const u=G;return b(),S("div",Bb,[h(u,null,{default:C(()=>[m("div",Ub,[Wb,m("div",Nb,[h(Vb,{modelValue:s(e),"onUpdate:modelValue":l[0]||(l[0]=i=>de(e)?e.value=i:null),class:"search","pool-service":o.poolService,onSelect:a},null,8,["modelValue","pool-service"]),h(qb)])])]),_:1})])}}}),Kb=x(Hb,[["__scopeId","data-v-817c5577"]]),Xb={class:"pair"},jb={class:"item"},Qb=["src"],Gb={class:"label"},Yb={class:"item"},Zb=["src"],Jb={class:"label"},eg=A({__name:"SelectorPair",setup(n){const t=ze(),e=z([!1,!1]),a=z([null,null]),o=w(()=>t.coins.map(d=>({label:d.name}))),l=w(()=>t.pair?[{label:t.pair[0]},{label:t.pair[1]}]:null),u=d=>d!=null&&d.logo?`${d.logo}`:"",i=d=>d?`${d.label}`:"?",r=d=>{e.value[d]=!e.value[d]},c=(d,_,p)=>{var T,g;const v=d===0?1:0,y=a.value[d],f=_;(y==null?void 0:y.label)!==f.label&&(a.value[d]=f,((T=a.value[d])==null?void 0:T.label)===((g=a.value[v])==null?void 0:g.label)&&(a.value[v]=y),p&&t.socketPool&&a.value[0]&&a.value[1]&&new gi(t.socketPool).update(t.timeRange,[a.value[0].label,a.value[1].label]))};return D(l,()=>{c(0,l.value?l.value[0]:null,!1),c(1,l.value?l.value[1]:null,!1)}),(d,_)=>{const p=bt;return b(),S("div",Xb,[h(p,{class:"select",options:s(o),selected:s(a)[0],open:s(e)[0],onOpen:_[0]||(_[0]=v=>r(0)),onClose:_[1]||(_[1]=v=>s(e)[0]=!1),onInput:_[2]||(_[2]=v=>c(0,v,!0))},{item:C(v=>{var y;return[m("div",jb,[(y=v.item)!=null&&y.logo?(b(),S("img",{key:0,src:u(v.item)},null,8,Qb)):V("",!0),m("div",Gb,M(i(v.item)),1)])]}),_:1},8,["options","selected","open"]),h(p,{class:"select",options:s(o),selected:s(a)[1],open:s(e)[1],onOpen:_[3]||(_[3]=v=>r(1)),onClose:_[4]||(_[4]=v=>s(e)[1]=!1),onInput:_[5]||(_[5]=v=>c(1,v,!0))},{item:C(v=>{var y;return[m("div",Yb,[(y=v.item)!=null&&y.logo?(b(),S("img",{key:0,src:u(v.item)},null,8,Zb)):V("",!0),m("div",Jb,M(i(v.item)),1)])]}),_:1},8,["options","selected","open"])])}}}),tg=x(eg,[["__scopeId","data-v-8937b68a"]]),ng=["day","week","month"],ag={class:"ranges"},Ur=A({__name:"SelectorRange",setup(n){const{t}=I(),e=ze(),a=o=>{e.timeRange!==o&&(e.timeRange=o,e.pair&&new kd(e.socketPool).update(o))};return(o,l)=>{const u=ut;return b(),S("div",ag,[(b(!0),S(se,null,_e(s(ng),i=>(b(),P(u,{key:i,"model-value":s(e).timeRange===i,value:s(t)(i),onClick:r=>a(i)},null,8,["model-value","value","onClick"]))),128))])}}});function yo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{day:e=>{const{normalize:a}=e;return a(["Day"])},week:e=>{const{normalize:a}=e;return a(["Week"])},month:e=>{const{normalize:a}=e;return a(["Month"])}}})}typeof yo=="function"&&yo(Ur);const sg=x(Ur,[["__scopeId","data-v-2eb91b18"]]),Wr=n=>(ie("data-v-10ded877"),n=n(),re(),n),og={class:"controls"},ig=Wr(()=>m("div",{class:"gutter"},null,-1)),rg={class:"rows"},lg=Wr(()=>m("div",{class:"title"},"Charts",-1)),ug={class:"items"},cg=A({__name:"Controls",setup(n){return(t,e)=>(b(),S("div",og,[ig,m("div",rg,[lg,m("div",ug,[h(tg),h(sg)])])]))}}),pg=x(cg,[["__scopeId","data-v-10ded877"]]);function dg(n){return n.type==="swap"}function mg(n){return n.type==="deposit"}function yg(n){return n.type==="withdraw"}const _g={style:{display:"grid","grid-template-columns":"auto auto"}},vg={class:"title"},fg={style:{display:"flex",gap:"1rem"}},hg={key:0,class:"fas fa-arrow-up"},bg={key:1,class:"fas fa-arrow-down"},gg={key:2,class:"fas fa-exchange-alt"},wg={key:0,class:"number"},Tg=["href"],$g=["href"],kg=["href"],Cg=["innerHTML"],Sg={key:0},Mg={key:1,class:"number"},_o=10,Nr=A({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(n){const{t}=I(),e=ze(),{relativeTime:a}=kt(),o=z(""),l=z(["swap","deposit","withdraw"]),u=w(()=>n.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=w(()=>O.chain(n.txs?n.txs:e.transactions).filter(v=>l.value.includes(v.type)).filter(v=>{const y=o.value.toLocaleLowerCase().split(" "),f=T=>y.some(g=>T.toLocaleLowerCase().includes(g));return f(v.blockNumber.toString())||f(v.trader)||f(v.txHash)}).reverse().value()),{page:r,rowsPage:c,onPage:d}=ki(i,_o),_=v=>{if(dg(v)){const y=v.amountIn.toLocaleString(),f=v.amountOut.toLocaleString(),T=`<span>${y} ${v.tokenIn}</span>`,g="<i class='fas fa-arrow-right'></i>",k=`<span style='justify-self: end;'>${f} ${v.tokenOut}</span>`;return`${T}${g}${k}`}else{if(mg(v))return`${v.amountIn.toLocaleString()} ${v.tokenIn}`;if(yg(v))return`${v.amountOut.toLocaleString()} ${v.tokenOut}`}return"???"},p=v=>{v===0?l.value=["swap","deposit","withdraw"]:v===1?l.value=["swap"]:v===2?l.value=["deposit"]:v===3?l.value=["withdraw"]:l.value=[]};return(v,y)=>{const f=Qe,T=je,g=ge,k=Xe,L=pe;return b(),P(L,{class:q(["datatable-trades",{compact:v.compact,time:v.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:s(c),columns:s(u)},ni({row:C($=>[m("div",{class:q(["type",{deposit:$.item.type==="deposit",withdraw:$.item.type==="withdraw",swap:$.item.type==="swap"}])},[$.item.type==="deposit"?(b(),S("i",hg)):$.item.type==="withdraw"?(b(),S("i",bg)):(b(),S("i",gg)),B(" "+M(s(t)($.item.type)),1)],2),v.time?(b(),S("div",wg,[m("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.blockNumber}`,target:"_blank"},M($.item.blockNumber),9,Tg)])):V("",!0),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.txHash}`,target:"_blank",onClick:y[2]||(y[2]=Se(()=>{},["stop"]))},M(s(Me)($.item.txHash)),9,$g)]),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank",onClick:y[3]||(y[3]=Se(()=>{},["stop"]))},M(s(Me)($.item.trader)),9,kg)]),m("div",{class:q(["assets",{swap:$.item.type==="swap"}]),innerHTML:_($.item)},null,10,Cg),m("div",{class:q({number:v.time})},[$.item.type==="swap"?(b(),S("span",Sg," $"+M(s(O.round)($.item.fee).toLocaleString()),1)):V("",!0)],2),v.time?(b(),S("div",Mg,M(s(a)($.item.timestamp)),1)):V("",!0)]),_:2},[v.header?{name:"header-content",fn:C(()=>[m("div",_g,[m("div",vg,M(s(t)("title")),1),h(T,{class:"types",onTab:y[0]||(y[0]=$=>p($.index))},{default:C(()=>[h(f,{header:"All"}),h(f,{header:"Swaps"}),h(f,{header:"Deposits"}),h(f,{header:"Withdrawals"})]),_:1})]),m("div",fg,[h(g,{modelValue:s(o),"onUpdate:modelValue":y[1]||(y[1]=$=>de(o)?o.value=$:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(k,{class:"pagination","items-count":s(i).length,"items-per-page":_o,page:s(r),onPage:s(d)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns"])}}});function vo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Transactions"])},swap:e=>{const{normalize:a}=e;return a(["Swap"])},withdraw:e=>{const{normalize:a}=e;return a(["Withdraw"])},deposit:e=>{const{normalize:a}=e;return a(["Deposit"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof vo=="function"&&vo(Nr);const Lg=x(Nr,[["__scopeId","data-v-a568caa2"]]),Hr=A({__name:"TVL",setup(n){const{t}=I();let e,a;const o=ze(),{theme:l}=E(U()),u=z(null),i=w(()=>o.tvl);Y(()=>{u.value&&(e=He(u.value,r(u.value)),a=e.addAreaSeries(c()),d(i.value))}),D(i,p=>{d(p)}),D(l,()=>{u.value&&(e.applyOptions(r(u.value)),a.applyOptions(c()))});const r=p=>ye(p,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>_(v)}}),c=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),d=p=>{if(!e||!a)return;const v=O.chain(p).map(y=>({time:y.timestamp,value:y.tvl})).uniqWith((y,f)=>y.time===f.time).orderBy(y=>y.time,"asc").value();v.length>0&&a.setData(v),e.timeScale().fitContent()},_=p=>`$${K(p,1,"dollar")}${H(p,"dollar")}`;return(p,v)=>{const y=G;return b(),P(y,{class:"tvl",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function fo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["TVL"])}}})}typeof fo=="function"&&fo(Hr);const Ag=x(Hr,[["__scopeId","data-v-277ab4b2"]]),Kr=A({__name:"Bonding",setup(n){const{t}=I();let e,a;const o=ze(),{theme:l}=E(U()),u=z(null),i=w(()=>o.bonding);Y(()=>{u.value&&(e=He(u.value,r(u.value)),a=e.addLineSeries(c()),_(i.value))}),D(i,v=>{_(v)}),D(l.value,()=>{u.value&&(e.applyOptions(r(u.value)),a.applyOptions(c()),d())});const r=v=>ye(v,l.value,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:y=>p(y)},localization:{priceFormatter:y=>p(y),timeFormatter:y=>p(y)}}),c=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}),d=()=>{const v=[{time:i.value.balanceCoin1,position:"inBar",color:l.value.colors.yellow,shape:"circle"}];a.setMarkers(v)},_=v=>{if(!e||!a)return;const y=O.chain(v.curve).map(f=>({time:f.x,value:f.y})).value();y.length>0&&(a.setData(y),d()),e.timeScale().fitContent()},p=v=>v<0?"":`${K(Math.abs(v),0,"dollar")}${H(v,"dollar")}`;return(v,y)=>{const f=G;return b(),P(f,{class:"bondings",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function ho(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Bonding Curve"])}}})}typeof ho=="function"&&ho(Kr);const zg=x(Kr,[["__scopeId","data-v-42e9972e"]]),Xr=A({__name:"Balances",setup(n){const{t}=I();let e,a=[];const o=ze(),{theme:l}=E(U()),u=z(null),i=w(()=>o.balances),r=w(()=>{var y,f;return((f=(y=o.balances[0])==null?void 0:y.balances)==null?void 0:f.length)??0});Y(()=>{u.value&&(e=He(u.value,c(u.value)),_(),p(i.value))}),D(i,y=>{_(),p(y)}),D(l.value,()=>{if(u.value){e.applyOptions(c(u.value));for(const[y,f]of a.entries())f.applyOptions(d(y))}});const c=y=>ye(y,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>v(f)}}),d=y=>{const{colorsArray:f}=l.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,color:f[y],lastValueVisible:!1,priceLineVisible:!1}},_=()=>{if(e){for(const y of a)e.removeSeries(y);a=[];for(let y=0;y<r.value;y++){const f=e.addLineSeries(d(y));a.push(f)}}},p=y=>{if(!(!e||a.length<0)){for(let f=0;f<r.value;f++){const T=O.chain(y).map(g=>({time:g.timestamp,value:g.balances[f]})).uniqWith((g,k)=>g.time===k.time).orderBy(g=>g.time,"asc").value();T.length>0&&a[f].setData(T)}e.timeScale().fitContent()}},v=y=>`${K(y,1,"dollar")}${H(y,"dollar")}`;return(y,f)=>{const T=Be,g=G;return b(),P(g,{class:"balances",title:s(t)("title")},{default:C(()=>[h(T,{items:s(o).coins.map(k=>k.name),colors:s(l).colorsArray},null,8,["items","colors"]),m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function bo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Balances"])}}})}typeof bo=="function"&&bo(Xr);const xg=x(Xr,[["__scopeId","data-v-ebf4bdd7"]]),jr=A({__name:"Prices",setup(n){const{t}=I();let e,a,o,l=1,u=0;const i=ze(),{theme:r}=E(U()),c=z(null),d=w(()=>i.prices),_=w(()=>i.volumes);Y(()=>{c.value&&(e=He(c.value,p(c.value)),a=e.addAreaSeries(v()),o=e.addHistogramSeries(y()),f(d.value),T(_.value))}),D(d,k=>{f(k)}),D(_,k=>{T(k)}),D(r.value,()=>{c.value&&(e.applyOptions(p(c.value)),a.applyOptions(v()),o.applyOptions(y()))});const p=k=>ye(k,r.value,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:L=>g(L)}}),v=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:me.WithSteps,lineColor:r.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),y=()=>({color:r.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),f=k=>{if(!e||!a)return;const L=O.chain(k).map($=>({time:$.timestamp,value:$.value})).uniqWith(($,R)=>$.time===R.time).orderBy($=>$.time,"asc").value();if(L.length>0){a.setData(L);const $=L[0].time,R=L[L.length-1].time;e.timeScale().setVisibleRange({from:$,to:R}),u=Math.min(...L.map(W=>W.value)),l=Math.max(...L.map(W=>W.value))}},T=k=>{if(!e||!o)return;const L=O.chain(k).map($=>({time:$.timestamp,value:$.volume})).uniqWith(($,R)=>$.time===R.time).orderBy($=>$.time,"asc").value();L.length>0&&o.setData(L)},g=k=>{const L=l-u,$=L>1?L-Math.floor(L):L,R=-Math.floor(Math.log10($)+1)+2;return`${K(k,R,"dollar")}${H(k,"dollar")}`};return(k,L)=>{const $=G;return b(),P($,{class:"prices",title:s(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function go(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Price"])}}})}typeof go=="function"&&go(jr);const Pg=x(jr,[["__scopeId","data-v-292a0f72"]]),Rg={class:"curve-monitor"},Ig={key:0,class:"data"},wo="https://ws.llama.airforce:2053",Vg=A({__name:"Monitor.page",setup(n){const t=gb(wo),e=new wd(t),a=qe(),o=ze();o.socket=t;const l=$e("pool"),u=w(()=>o.pool!==null);let i="";Y(async()=>{await c(l.value),t.connect()});const r=async(d,_)=>{var v;i!==d.id&&(o.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(v=o.socketPool)==null||v.close(),o.socketPool=$b(o,wo,o.pool.id),i=o.pool.id,_&&await a.push({name:"curvemonitor",params:{pool:o.pool.id}}))},c=async d=>{d&&typeof d=="string"&&await r({id:d,name:"???"},!1)};return D(()=>o.pool,async d=>{await r(d,!0)}),D(l,async d=>{await c(d)}),(d,_)=>(b(),S("div",Rg,[h(Kb,{class:"header","pool-service":s(e)},null,8,["pool-service"]),s(u)?(b(),S("div",Ig,[h(pg,{class:"controls"}),h(Pg,{class:"prices"}),h(Lg,{class:"transactions"}),h(xg,{class:"balances"}),h(Ag,{class:"tvl"}),h(zg,{class:"bonding"})])):V("",!0)]))}}),Og=x(Vg,[["__scopeId","data-v-dcf2bb05"]]);class Qr{constructor(t){this.socket=t}search(t){const e=new Promise(a=>{this.socket.once("userSearchResult",o=>{a(o)})});return this.socket.emit("getUserSearchResult",t),e}getSandwichLabelOccurrences(){const t=new Promise(e=>{this.socket.once("sandwichLabelOccurrences",a=>{e(a)})});return this.socket.emit("getSandwichLabelOccurrences"),t}getAbsoluteLabelsRanking(){const t=new Promise(e=>{this.socket.once("absoluteLabelsRanking",a=>{e(a)})});return this.socket.emit("getAbsoluteLabelsRanking"),t}getSandwiches(t=1){const e=new Promise(a=>{this.socket.once("fullSandwichTableContent",({data:o,totalPages:l})=>{a({sandwiches:o,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",t),e}}const Gt=Re("mevStore",()=>{const n=z(null),t=z([]),e=z({cur:0,total:0}),a=z([]),o=z([]);return{socket:n,sandwiches:t,sandwichesPage:e,labelRankingShort:a,labelRankingExtended:o}}),Dg=A({__name:"LabelsWorstRelative",setup(n){const t=Gt(),{theme:e}=E(U()),a=r=>r.filter(c=>c.numOfAllTx>=12).map(c=>({...c,ratio:Number((c.occurrences/c.numOfAllTx*100).toFixed(2))})).sort((c,d)=>d.ratio-c.ratio).slice(0,10),o=w(()=>a(t.labelRankingExtended).map(r=>r.label)),l=w(()=>a(t.labelRankingExtended).map(r=>r.ratio)),u=w(()=>ne(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const c=r.w.globals.labels[r.seriesIndex],d=r.series[r.seriesIndex];return[`<div><b>${c}</b>:</div><div>Ratio: ${i(d)}</div>`].join("")}},labels:o.value})),i=r=>`${r}%`;return(r,c)=>{const d=le;return b(),P(d,{class:"mevLabels",title:"Worst relative offenders",options:s(u),series:s(l)},null,8,["options","series"])}}}),Fg=x(Dg,[["__scopeId","data-v-e636b1be"]]),qg=A({__name:"LabelsWorstAbsolute",setup(n){const t=Gt(),{theme:e}=E(U()),a=r=>r.filter(c=>c.numOfAllTx>=12).map(c=>({...c,occurrences:c.occurrences})).sort((c,d)=>d.occurrences-c.occurrences).slice(0,10),o=w(()=>a(t.labelRankingExtended).map(r=>r.label)),l=w(()=>a(t.labelRankingExtended).map(r=>r.occurrences)),u=w(()=>ne(e.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const c=r.w.globals.labels[r.seriesIndex],d=r.series[r.seriesIndex];return[`<div><b>${c}</b>:</div><div>Occurences: ${i(d)}</div>`].join("")}},labels:o.value})),i=r=>`${r}`;return(r,c)=>{const d=le;return b(),P(d,{class:"mevLabels",title:"Worst absolute offenders",options:s(u),series:s(l)},null,8,["options","series"])}}}),Eg=x(qg,[["__scopeId","data-v-0cbb10d5"]]),Bg={style:{display:"grid","grid-template-columns":"auto auto"}},Ug={class:"title"},Wg={style:{display:"flex",gap:"1rem"}},Ng={key:0,class:"fas fa-arrow-up"},Hg={key:1,class:"fas fa-arrow-down"},Kg={key:2,class:"fas fa-exchange-alt"},Xg={key:0,class:"number"},jg=["href"],Qg=["href"],Gg=["href"],Yg=["innerHTML"],Zg={key:1,class:"number"},To=10,Gr=A({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(n){const{t}=I(),{relativeTime:e}=kt(),a=z(""),o=z(["swap","deposit","remove"]),l=w(()=>n.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),u=w(()=>O.chain(n.txs).filter(p=>o.value.includes(p.transaction_type)).filter(p=>{const v=a.value.toLocaleLowerCase().split(" "),y=f=>v.some(T=>f.toLocaleLowerCase().includes(T));return y(p.block_number.toString())||y(p.trader)||y(p.tx_hash)}).value()),{page:i,rowsPage:r,onPage:c}=ki(u,To),d=p=>{if(p.transaction_type==="swap"){const v=p.coins_leaving_wallet[0],y=p.coins_entering_wallet[0],f=We(parseFloat(v.amount)),T=We(parseFloat(y.amount)),g=`<span>${f} ${v.name}</span>`,k="<i class='fas fa-arrow-right'></i>",L=`<span style='justify-self: end;'>${T} ${y.name}</span>`;return`${g}${k}${L}`}else if(p.transaction_type==="deposit"){const v=p.coins_entering_wallet[0];return`${We(parseFloat(v.amount))} ${v.name}`}else if(p.transaction_type==="remove"){const v=p.coins_leaving_wallet[0];return`${We(parseFloat(v.amount))} ${v.name}`}return"???"},_=p=>{p===0?o.value=["swap","deposit","remove"]:p===1?o.value=["swap"]:p===2?o.value=["deposit"]:p===3?o.value=["remove"]:o.value=[]};return(p,v)=>{const y=Qe,f=je,T=ge,g=Xe,k=pe;return b(),P(k,{class:q(["datatable-trades",{compact:p.compact,time:p.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:s(r),columns:s(l),header:p.header},ni({row:C(L=>[m("div",{class:q(["type",{deposit:L.item.transaction_type==="deposit",remove:L.item.transaction_type==="remove",swap:L.item.transaction_type==="swap"}])},[L.item.transaction_type==="deposit"?(b(),S("i",Ng)):L.item.transaction_type==="remove"?(b(),S("i",Hg)):(b(),S("i",Kg)),B(" "+M(s(t)(L.item.transaction_type)),1)],2),p.time?(b(),S("div",Xg,[m("a",{class:"vote-link",href:`https://etherscan.io/block/${L.item.block_number}`,target:"_blank"},M(L.item.block_number),9,jg)])):V("",!0),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/tx/${L.item.tx_hash}`,target:"_blank",onClick:v[2]||(v[2]=Se(()=>{},["stop"]))},M(s(Me)(L.item.tx_hash)),9,Qg)]),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/address/${L.item.trader}`,target:"_blank",onClick:v[3]||(v[3]=Se(()=>{},["stop"]))},M(s(Me)(L.item.trader)),9,Gg)]),m("div",{class:q(["assets",{swap:L.item.transaction_type==="swap"}]),innerHTML:d(L.item)},null,10,Yg),p.time?(b(),S("div",Zg,M(s(e)(L.item.block_unixtime)),1)):V("",!0)]),_:2},[p.header?{name:"header-content",fn:C(()=>[m("div",Bg,[m("div",Ug,M(s(t)("title")),1),h(f,{class:"types",onTab:v[0]||(v[0]=L=>_(L.index))},{default:C(()=>[h(y,{header:"All"}),h(y,{header:"Swaps"}),h(y,{header:"Deposits"}),h(y,{header:"Removals"})]),_:1})]),m("div",Wg,[h(T,{modelValue:s(a),"onUpdate:modelValue":v[1]||(v[1]=L=>de(a)?a.value=L:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),h(g,{class:"pagination","items-count":s(u).length,"items-per-page":To,page:s(i),onPage:s(c)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns","header"])}}});function $o(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Transactions"])},swap:e=>{const{normalize:a}=e;return a(["Swap"])},deposit:e=>{const{normalize:a}=e;return a(["Deposit"])},remove:e=>{const{normalize:a}=e;return a(["Remove"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof $o=="function"&&$o(Gr);const Jg=x(Gr,[["__scopeId","data-v-529d4f8a"]]),e1={class:"title"},t1={style:{display:"flex",gap:"1rem"}},n1=["href"],a1={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},s1=["href"],o1={class:"number"},An=10,Yr=A({__name:"Sandwiches",setup(n){const{t}=I(),e=Gt(),{expanded:a,toggleExpansion:o}=sa(),{relativeTime:l}=kt(),u=z(""),i=w(()=>e.sandwichesPage.cur),r=w(()=>e.sandwichesPage.total*An),c=w(()=>O.chain(e.sandwiches).filter(p=>{const v=u.value.toLocaleLowerCase().split(" "),y=f=>v.some(T=>f.toLocaleLowerCase().includes(T));return y(p.poolName.toString())||y(p.poolAddress.toString())||y(p.label.toString())}).orderBy([p=>p.frontrun.block_unixtime,p=>p.frontrun.tx_position],"desc").value()),d=p=>O.orderBy([p.frontrun,...p.center,p.backrun],[v=>v.block_unixtime,v=>v.tx_position]),_=async p=>{if(!e.socket)return;const v=new Qr(e.socket),{sandwiches:y,totalPages:f}=await v.getSandwiches(p);e.sandwiches=y,e.sandwichesPage={cur:p,total:f}};return(p,v)=>{const y=ge,f=Xe,T=pe;return b(),P(T,{class:"datatable-sandwiches","columns-header":"1fr 2fr","columns-data":"sandwiches-columns-data",rows:s(c),columns:["Pool","Action","Affected Contract","Time"],expanded:s(a),onSelected:v[1]||(v[1]=g=>s(o)(g))},{"header-content":C(()=>[m("div",e1,M(s(t)("title")),1),m("div",t1,[h(y,{modelValue:s(u),"onUpdate:modelValue":v[0]||(v[0]=g=>de(u)?u.value=g:null),class:"search",search:!0,placeholder:s(t)("search-placeholder")},null,8,["modelValue","placeholder"]),s(r)>An?(b(),P(f,{key:0,class:"pagination","items-count":s(r),"items-per-page":An,page:s(i),onPage:_},null,8,["items-count","page"])):V("",!0)])]),row:C(g=>[m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/address/${g.item.poolAddress}`,target:"_blank"},M(g.item.poolName),9,n1)]),m("div",null,[m("div",a1,[m("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${g.item.center[0].trader}`},M(s(Me)(g.item.center[0].trader)),9,s1),m("span",null," lost "+M(s(We)(g.item.user_losses_details.reduce((k,L)=>k+L.amount,0)))+" "+M(g.item.user_losses_details[0].unit),1),m("span",null,M(s(We)(-g.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+M(s(We)(g.item.lossInUsd)),1)])]),m("div",null,M(g.item.label),1),m("div",o1,M(s(l)(g.item.frontrun.block_unixtime)),1)]),"row-details":C(g=>[h(Jg,{class:"transactions",txs:d(g.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])}}});function ko(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Sandwiches"])},"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for..."])}}})}typeof ko=="function"&&ko(Yr);const i1=x(Yr,[["__scopeId","data-v-0c9fd84b"]]),r1={class:"mev"},l1="wss://api.curvemonitor.com",u1=A({__name:"MEV.page",setup(n){const t=Tb(l1),e=new Qr(t),a=Gt();return a.socket=t,Y(()=>{t.connect(),e.getSandwichLabelOccurrences().then(o=>{a.labelRankingExtended=o}),e.getSandwiches().then(o=>{a.sandwiches=o.sandwiches,a.sandwichesPage={cur:1,total:o.totalPages}})}),(o,l)=>(b(),S("div",r1,[h(Fg,{style:{"grid-row":"1","grid-column":"1"}}),h(Eg,{style:{"grid-row":"1","grid-column":"2"}}),h(i1,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),c1=x(u1,[["__scopeId","data-v-af19cb5f"]]),p1=["all","ownership","parameter","other"];function ot(n){return n.executed?"executed":n.end>new Date().getTime()/1e3?"active":el(n)&&Jr(n)&&Zr(n)?"passed":"denied"}function Zr(n){return n.votesFor>n.support*n.quorum*n.totalSupply}function Jr(n){return n.votesFor>n.quorum*n.totalSupply}function el(n){return n.votesFor>n.votesAgainst}const tl=n=>{var f;const t=n.vote_id,e=n.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",a=(f=n.metadata)!=null&&f.startsWith('"')?n.metadata.substring(1):n.metadata??"",o=n.creator.toLocaleLowerCase(),l=n.snapshot_block,u=n.start_date,i=u+604800,r=Fe(BigInt(n.min_accept_quorum),18n),c=Fe(BigInt(n.support_required),18n),d=n.vote_count,_=Fe(BigInt(n.votes_for),18n),p=Fe(BigInt(n.votes_against),18n),v=n.executed,y=Fe(BigInt(n.total_supply),18n);return{id:t,type:e,metadata:a,proposer:o,block:l,start:u,end:i,quorum:r,support:c,voteCount:d,votesFor:_,votesAgainst:p,executed:v,totalSupply:y}},d1=n=>{const t=tl(n),e=n.script,a=n.votes.map(o=>({voter:o.voter.toLocaleLowerCase(),supports:o.supports,votingPower:Fe(BigInt(o.voting_power),18n)}));return{...t,script:e,votes:a}},Co="https://prices.curve.fi";class m1 extends oe{async getProposals(t,e,a,o){const l=await this.fetch(`${Co}/v1/dao/proposals?pagination=10&page=${t}&search_string=${e}&type_filter=${a}&status_filter=${o}`);return{proposals:l.proposals.map(tl),count:l.count}}async getProposal(t,e){const a=await this.fetch(`${Co}/v1/dao/proposals/details/${e}/${t}`);return d1(a)}}const nl=new m1(ae());function al(n,t,e){return Q({queryKey:["curve-proposal",n,t],queryFn:({queryKey:[,a,o]})=>nl.getProposal(a,o),...e&&{enabled:e}})}function y1(n,t,e,a){return Q({queryKey:["curve-proposals",n,a,t,e],queryFn:({queryKey:[,o,l,u,i]})=>nl.getProposals(o,l,u,i),placeholderData:qt})}const sl=A({__name:"Status",props:{proposal:{}},setup(n){const{t}=I(),e=w(()=>{if(ot(n.proposal)==="denied")if(Jr(n.proposal))if(el(n.proposal)){if(!Zr(n.proposal))return t("no-support")}else return t("no-win");else return t("no-quorum");return""}),a=w(()=>{switch(ot(n.proposal)){case"active":return t("active");case"denied":return t("denied");case"passed":return t("passed");case"executed":return t("executed");default:return"Unk. Status"}});return(o,l)=>{const u=gt,i=Ce;return b(),P(i,{class:"status","tooltip-type":"underline",label:s(t)("status"),"has-value":!0,tooltip:s(e)},{default:C(()=>[s(e)?(b(),P(u,{key:0},{item:C(()=>[m("span",{class:q(["status-value",s(ot)(o.proposal)])},M(s(a)),3)]),default:C(()=>[B(" "+M(s(e)),1)]),_:1})):(b(),S("span",{key:1,class:q(["status-value",s(ot)(o.proposal)])},M(s(a)),3))]),_:1},8,["label","tooltip"])}}});function So(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{status:e=>{const{normalize:a}=e;return a(["Status"])},active:e=>{const{normalize:a}=e;return a(["Active"])},denied:e=>{const{normalize:a}=e;return a(["Denied"])},passed:e=>{const{normalize:a}=e;return a(["Passed"])},executed:e=>{const{normalize:a}=e;return a(["Executed"])},"no-quorum":e=>{const{normalize:a}=e;return a(["Quorum was not reached (yes votes need to pass this number)"])},"no-support":e=>{const{normalize:a}=e;return a(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":e=>{const{normalize:a}=e;return a(["More 'against' votes than 'for' votes"])}}})}typeof So=="function"&&So(sl);const _1=x(sl,[["__scopeId","data-v-9e86fade"]]),ol=A({__name:"Type",props:{proposal:{}},setup(n){const{t}=I(),e=w(()=>{switch(n.proposal.type){case"ownership":return t("ownership");case"parameter":return t("parameter");case"other":return t("other");default:return"Unk. Type"}});return(a,o)=>{const l=Ce;return b(),P(l,{class:"type",label:s(t)("type"),value:s(e),"has-value":!0},null,8,["label","value"])}}});function Mo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{type:e=>{const{normalize:a}=e;return a(["Type"])},ownership:e=>{const{normalize:a}=e;return a(["Ownership"])},parameter:e=>{const{normalize:a}=e;return a(["Parameter"])},other:e=>{const{normalize:a}=e;return a(["Other"])}}})}typeof Mo=="function"&&Mo(ol);const v1=["href"],il=A({__name:"Proposer",props:{proposal:{}},setup(n){const{t}=I();return(e,a)=>{const o=Ce;return b(),P(o,{class:"proposer",label:s(t)("proposer"),"has-value":!0},{default:C(()=>[m("a",{href:`https://etherscan.io/address/${e.proposal.proposer}`,target:"_blank"},M(s(Me)(e.proposal.proposer)),9,v1)]),_:1},8,["label"])}}});function Lo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{proposer:e=>{const{normalize:a}=e;return a(["Proposer"])}}})}typeof Lo=="function"&&Lo(il);const En=A({__name:"Date",props:{proposal:{},type:{}},setup(n){const{t}=I();let e;const a=z(""),o=w(()=>{switch(n.type){case"start":return t("start");case"end":return t("end");default:return"Unk. Type"}}),l=w(()=>{switch(n.type){case"start":return new Date(n.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(n.proposal.end*1e3);return r>new Date?a.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=w(()=>{switch(n.type){case"start":return new Date(n.proposal.start*1e3).toLocaleDateString()+" "+new Date(n.proposal.start*1e3).toTimeString();case"end":return new Date(n.proposal.end*1e3).toLocaleDateString()+" "+new Date(n.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});Y(()=>{i()});const i=()=>{const r=new Date(n.proposal.end*1e3);e&&clearInterval(e),e=setInterval(()=>{a.value=Au(r)})};return(r,c)=>{const d=Ce;return b(),P(d,{class:"date","tooltip-type":"underline",label:s(o),value:s(l),"has-value":!0,tooltip:s(u)},null,8,["label","value","tooltip"])}}});function Ao(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{start:e=>{const{normalize:a}=e;return a(["Start"])},end:e=>{const{normalize:a}=e;return a(["End"])}}})}typeof Ao=="function"&&Ao(En);const rl=n=>(ie("data-v-0512624e"),n=n(),re(),n),f1=rl(()=>m("i",{class:"fas fa-link"},null,-1)),h1={class:"metadata"},b1={class:"row"},g1=rl(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),w1=[g1],ll=A({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(n,{emit:t}){const{t:e}=I(),a=t,o=w(()=>`/dao/proposal/${n.proposal.type}/${n.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${n.proposal.type}/${n.proposal.id}`)};return(u,i)=>{const r=Ne("router-link");return b(),S("div",{class:"proposal-summary",onClick:i[0]||(i[0]=c=>a("toggleExpand"))},[m("div",{class:q(["title",{"no-title":!u.proposal.metadata}])},[h(r,{to:s(o),class:"id",onClick:l},{default:C(()=>[f1,B(" "+M(u.proposal.id),1)]),_:1},8,["to"]),m("div",h1,M(u.proposal.metadata||s(e)("no-title")),1)],2),m("div",b1,[h(_1,{class:"item",proposal:u.proposal},null,8,["proposal"]),h(ol,{class:"item",proposal:u.proposal},null,8,["proposal"]),h(il,{class:"item",proposal:u.proposal},null,8,["proposal"]),h(En,{class:"item",proposal:u.proposal,type:"start"},null,8,["proposal"]),h(En,{class:"item",proposal:u.proposal,type:"end"},null,8,["proposal"]),m("div",{class:q(["item expander",{expanded:u.expanded}])},w1,2)])])}}});function zo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-title":e=>{const{normalize:a}=e;return a(["< No Title >"])}}})}typeof zo=="function"&&zo(ll);const T1=x(ll,[["__scopeId","data-v-0512624e"]]),dt=n=>(ie("data-v-d48830ac"),n=n(),re(),n),$1={class:"results"},k1={class:"heading"},C1={class:"choice"},S1={class:"label"},M1={class:"amount"},L1={class:"left"},A1=dt(()=>m("span",null," veCRV",-1)),z1={class:"right"},x1=dt(()=>m("span",null,"(",-1)),P1=dt(()=>m("span",null,")",-1)),R1={class:"choice"},I1={class:"label"},V1={class:"amount"},O1={class:"left"},D1=dt(()=>m("span",null," veCRV",-1)),F1={class:"right"},q1=dt(()=>m("span",null,"(",-1)),E1=dt(()=>m("span",null,")",-1)),xo=4,ul=A({__name:"VotingResults",props:{proposal:{}},setup(n){const{t}=I(),e=w(()=>n.proposal.votesFor+n.proposal.votesAgainst),a=w(()=>n.proposal.votesFor/e.value*100),o=w(()=>n.proposal.votesAgainst/e.value*100);return(l,u)=>{const i=ee;return b(),S("div",$1,[m("div",k1,M(s(t)("results")),1),m("div",C1,[m("div",S1,M(s(t)("for")),1),m("div",M1,[m("div",L1,[h(i,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),A1]),m("div",z1,[x1,h(i,{value:s(a),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),P1])]),m("div",{class:"bar",style:he({width:`${Math.max(xo,s(a))}%`})},null,4)]),m("div",R1,[m("div",I1,M(s(t)("against")),1),m("div",V1,[m("div",O1,[h(i,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),D1]),m("div",F1,[q1,h(i,{value:s(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),E1])]),m("div",{class:"bar",style:he({width:`${Math.max(xo,s(o))}%`})},null,4)])])}}});function Po(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{results:e=>{const{normalize:a}=e;return a(["Results"])},for:e=>{const{normalize:a}=e;return a(["For"])},against:e=>{const{normalize:a}=e;return a(["Against"])}}})}typeof Po=="function"&&Po(ul);const B1=x(ul,[["__scopeId","data-v-d48830ac"]]),U1=n=>(ie("data-v-7c213e10"),n=n(),re(),n),W1={class:"quorum"},N1={class:"heading"},H1={class:"amount"},K1={class:"bar"},X1={class:"percentages"},j1=U1(()=>m("div",{class:"zero"},"0%",-1)),Q1={class:"quorum"},cl=A({__name:"VotingQuorum",props:{proposal:{}},setup(n){const{t}=I(),e=w(()=>n.proposal.votesFor),a=w(()=>n.proposal.quorum*n.proposal.totalSupply),o=w(()=>e.value/a.value*100);return(l,u)=>{const i=ee;return b(),S("div",W1,[m("div",N1,M(s(t)("quorum")),1),m("div",H1,[h(i,{value:s(e),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),B(" / "),h(i,{value:s(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),B(" veCRV ")]),m("div",K1,[m("div",{class:"support",style:he({width:`${s(o)}%`})},null,4),m("div",{class:"quorum",style:he({width:`${100-s(o)}%`})},null,4)]),m("div",X1,[j1,m("div",Q1,[h(i,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Ro(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{quorum:e=>{const{normalize:a}=e;return a(["Quorum"])}}})}typeof Ro=="function"&&Ro(cl);const G1=x(cl,[["__scopeId","data-v-7c213e10"]]),Y1={key:0,class:"modal"},Z1={class:"modal-popup"},J1=A({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:t}){const e=t,a=o=>{o.code==="Escape"&&e("close")};return Y(()=>{document.addEventListener("keydown",a)}),Xn(()=>{document.removeEventListener("keydown",a)}),D(()=>n.show,o=>{document.body.style.overflow=o?"hidden":""}),(o,l)=>o.show?(b(),S("div",Y1,[m("div",{class:"modal-mask",onClick:l[0]||(l[0]=u=>e("close"))}),m("div",Z1,[J(o.$slots,"default",{},void 0,!0)])])):V("",!0)}}),e2=x(J1,[["__scopeId","data-v-586f3ea1"]]),t2=["min","max","value"],n2=A({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(n,{emit:t}){const e=t,a=o=>{e("update:modelValue",o.target.value)};return(o,l)=>(b(),S("input",{type:"range",min:o.min,max:o.max,value:o.modelValue,onInput:a},null,40,t2))}}),a2=x(n2,[["__scopeId","data-v-d52b357b"]]),s2={class:"buttons"},o2={class:"vecrv"},i2={class:"info"},r2={class:"kpis"},l2={class:"description"},u2={class:"title"},c2={class:"options"},p2={class:"label"},d2={class:"middle"},m2=["contenteditable","textContent"],y2={class:"label"},pl=A({__name:"VotingButtons",props:{proposal:{}},setup(n){const{t}=I(),{address:e,withProvider:a,withSigner:o}=Ee(),l=z(!1),u=z(!1),i=z(!1),r=z(!1),c=z(0n),d=z(0),_=z(50),p=z(null),v=z(!1),y=w(()=>{var j;return v.value?`${_.value}.`:_.value===0&&!v.value&&((j=p.value)==null?void 0:j.textContent)!=="0"?"":_.value.toString()}),f=w(()=>c.value>0n&&!r.value&&k.value&&d.value===0),T=w(()=>f.value?"submit":r.value?"voting":k.value?d.value!==0?"voted":"not-enough-voting-power":"voting-closed"),g=w(()=>Fe(c.value,18n)),k=w(()=>ot(n.proposal)==="active"),L=w(()=>ot(n.proposal)==="passed"),$=()=>{const j=window.getSelection();return j&&j.rangeCount>0?j.getRangeAt(0).startOffset:0},R=j=>{if(p.value){const te=document.createRange();te.setStart(p.value.firstChild??p.value,j),te.collapse(!0);const Z=window.getSelection();Z&&(Z.removeAllRanges(),Z.addRange(te))}},W=()=>{_.value=0,p.value&&(p.value.textContent="0")},F=()=>{_.value=100,p.value&&(p.value.textContent="100")},X=j=>{j.target===j.currentTarget&&p.value&&p.value.focus()},Le=()=>{if(p.value){const j=p.value.textContent??"",te=$();if(/^\d*(\.\d*)?$/.test(j))if(v.value=j.endsWith("."),j){const Z=parseFloat(j);Z>=0&&Z<=100?_.value=Z:(p.value.textContent=y.value,R(te-1))}else _.value=0;else p.value.textContent=y.value,R(te-1)}},mt=j=>{_.value=parseFloat(j)},Pa=o((j,te)=>Dt(r,async()=>{const Z=at.connect(Lt,j);d.value=await Z.getVoterState(n.proposal.id,te);const Ve=await Z.PCT_BASE().then(en=>en.toBigInt()),Oe=BigInt(Math.log10(Number(Ve))),Ge=Qn(_.value/100,Oe),Zt=Ve-Ge,St=[n.proposal.id,Ge,Zt,!1],Jt=await Z.estimateGas.votePct(...St);await Z.votePct(...St,{gasLimit:Jt.mul(125).div(100)}).then(en=>en.wait()),l.value=!1})),Ra=o(j=>Dt(u,async()=>{const te=at.connect(Lt,j),Z=[n.proposal.id],Ve=await te.estimateGas.executeVote(...Z);await te.executeVote(...Z,{gasLimit:Ve.mul(125).div(100)}).then(Oe=>Oe.wait()),i.value=await te.canExecute(n.proposal.id)})),Yt=a(async(j,te)=>{const Z=at.connect(Lt,j),Ve=await Z.token();d.value=await Z.getVoterState(n.proposal.id,te);const Oe=Pn.connect(Ve,j);c.value=await Oe.balanceOfAt(te,n.proposal.block).then(Ge=>Ge.toBigInt())});return D(l,async j=>{j&&await qu(Yt)}),D(e,a(async j=>{if(!L.value)return;const te=at.connect(Lt,j);i.value=await te.canExecute(n.proposal.id)}),{immediate:!0}),(j,te)=>{const Z=Ae,Ve=ee,Oe=Ce,Ge=a2,Zt=G,St=e2;return b(),S(se,null,[m("div",s2,[h(Z,{value:s(t)("vote"),primary:!0,onClick:te[0]||(te[0]=Jt=>l.value=!0)},null,8,["value"]),s(L)?(b(),P(Z,{key:0,value:s(t)(s(u)?"executing":"execute"),primary:!0,disabled:!s(i)||s(u),onClick:s(Ra)},null,8,["value","disabled","onClick"])):V("",!0)]),h(St,{class:"vote-modal",show:s(l),onClose:te[1]||(te[1]=Jt=>l.value=!1)},{default:C(()=>[h(Zt,{title:s(t)("vote-with-vecrv"),class:"vote-content"},{default:C(()=>[m("div",o2,[m("div",i2,[m("div",r2,[h(Oe,{label:s(t)("voting-power"),"has-value":!0},{default:C(()=>[h(Ve,{value:s(g),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),B(" veCRV ")]),_:1},8,["label"]),h(Oe,{label:s(t)("block"),value:j.proposal.block,"has-value":!0},null,8,["label","value"])]),m("div",l2,[m("span",u2,M(s(t)("description"))+": ",1),m("span",null,M(j.proposal.metadata),1)])]),m("div",c2,[h(Z,{class:q(["no",{winning:s(_)<50}]),disabled:!s(f),onClick:W},{default:C(()=>[m("span",p2,M(s(t)("no")),1)]),_:1},8,["class","disabled"]),m("div",d2,[m("i",{class:q(["fas fa-times",{winning:s(_)<50}])},null,2),m("div",{class:q(["value",{disabled:!s(f)}]),onClick:X},[m("span",{ref_key:"editor",ref:p,contenteditable:s(f),onInput:Le,textContent:M(s(y))},null,40,m2),B(" % ")],2),m("i",{class:q(["fas fa-check",{winning:s(_)>50}])},null,2)]),h(Z,{class:q(["yes",{winning:s(_)>50}]),disabled:!s(f),onClick:F},{default:C(()=>[m("span",y2,M(s(t)("yes")),1)]),_:1},8,["class","disabled"])]),h(Ge,{class:"slider",disabled:!s(f),min:0,max:100,"model-value":s(_),"onUpdate:modelValue":mt},null,8,["disabled","model-value"]),h(Z,{class:"submit",value:s(t)(s(T)),primary:!0,disabled:!s(f),web3:!0,onClick:s(Pa)},null,8,["value","disabled","onClick"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Io(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{vote:e=>{const{normalize:a}=e;return a(["Vote"])},"vote-with-vecrv":e=>{const{normalize:a}=e;return a(["Vote with veCRV"])},voting:e=>{const{normalize:a}=e;return a(["Voting..."])},"voting-closed":e=>{const{normalize:a}=e;return a(["Voting closed"])},voted:e=>{const{normalize:a}=e;return a(["You've already voted"])},description:e=>{const{normalize:a}=e;return a(["Description"])},"voting-power":e=>{const{normalize:a}=e;return a(["Voting power"])},block:e=>{const{normalize:a}=e;return a(["Block"])},yes:e=>{const{normalize:a}=e;return a(["Yes"])},no:e=>{const{normalize:a}=e;return a(["No"])},submit:e=>{const{normalize:a}=e;return a(["Submit"])},"not-enough-voting-power":e=>{const{normalize:a}=e;return a(["Not enough veCRV voting power"])},execute:e=>{const{normalize:a}=e;return a(["Execute"])},executing:e=>{const{normalize:a}=e;return a(["Executing..."])}}})}typeof Io=="function"&&Io(pl);const _2=x(pl,[["__scopeId","data-v-d86b8549"]]),v2={class:"voting"},f2=A({__name:"Voting",props:{proposal:{}},setup(n){return(t,e)=>(b(),S("div",v2,[h(G1,{proposal:t.proposal},null,8,["proposal"]),h(B1,{proposal:t.proposal},null,8,["proposal"]),h(_2,{proposal:t.proposal},null,8,["proposal"])]))}}),h2=x(f2,[["__scopeId","data-v-35456808"]]),b2={class:"voters"},g2={class:"for"},w2={class:"title"},T2={class:"address"},$2=["href"],k2={class:"amount"},C2={class:"percentage"},S2={class:"against"},M2={class:"title"},L2={class:"percentage"},A2={class:"amount"},z2={class:"address"},x2=["href"],dl=A({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(n){const{t}=I(),{address:e}=Ee(),a=w(()=>n.proposalDetails?O.chain(n.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.votingPower,"desc").value():null),o=w(()=>n.proposalDetails?O.chain(n.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Me(r,12),u=r=>r/(n.proposal.votesFor+n.proposal.votesAgainst)*100,i=r=>r===e.value;return(r,c)=>{const d=ee;return b(),S("div",b2,[m("div",g2,[m("div",w2,M(s(t)("for")),1),(b(!0),S(se,null,_e(s(a),_=>(b(),S("div",{key:_.voter,class:"vote"},[m("div",T2,[m("a",{target:"_blank",href:`https://etherscan.io/address/${_.voter}`,class:q({you:i(_.voter)})},M(l(_.voter)),11,$2)]),m("div",k2,[h(d,{value:_.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",C2,[h(d,{value:u(_.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),m("div",S2,[m("div",M2,M(s(t)("against")),1),(b(!0),S(se,null,_e(s(o),_=>(b(),S("div",{key:_.voter,class:"vote"},[m("div",L2,[h(d,{value:u(_.votingPower),precision:0,type:"percentage"},null,8,["value"])]),m("div",A2,[h(d,{value:_.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",z2,[m("a",{target:"_blank",href:`https://etherscan.io/address/${_.voter}`,class:q({you:i(_.voter)})},M(l(_.voter)),11,x2)])]))),128))])])}}});function Vo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{for:e=>{const{normalize:a}=e;return a(["For"])},against:e=>{const{normalize:a}=e;return a(["Against"])}}})}typeof Vo=="function"&&Vo(dl);const P2=x(dl,[["__scopeId","data-v-091c77d3"]]),R2={class:"technicals"},I2={class:"technical"},V2={class:"heading"},O2={class:"description"},D2={class:"technical"},F2={class:"technical"},q2=["innerHTML"],ml=A({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(n){const{t}=I(),e=z(!0),a=z(n.proposal.voteCount>0),{data:o}=al(N(()=>n.proposal.id),N(()=>n.proposal.type),N(()=>n.expanded)),l=w(()=>o.value?O.uniqWith(o.value.votes,(i,r)=>i.voter===r.voter).length:null),u=w(()=>o.value?o.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&it.isAddress(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i):null);return(i,r)=>{const c=ht;return b(),S("div",R2,[m("div",I2,[m("div",V2,M(s(t)("description")),1),m("div",O2,M(i.proposal.metadata),1)]),m("div",D2,[m("div",{class:"heading",onClick:r[0]||(r[0]=d=>a.value=!s(a))},[B(M(s(t)("voters"))+" ("+M(s(l)??"?")+") ",1),m("i",{class:q(["fas fa-chevron-up expander",{expandedVoters:s(a)}])},null,2)]),h(c,{expanded:s(a)},{default:C(()=>[s(o)?(b(),P(P2,{key:0,class:"voters",proposal:i.proposal,"proposal-details":s(o)},null,8,["proposal","proposal-details"])):V("",!0)]),_:1},8,["expanded"])]),m("div",F2,[m("div",{class:"heading",onClick:r[1]||(r[1]=d=>e.value=!s(e))},[B(M(s(t)("calldata"))+" ",1),m("i",{class:q(["fas fa-chevron-up expander",{expandedCallData:s(e)}])},null,2)]),h(c,{expanded:s(e)},{default:C(()=>[s(o)?(b(),S("div",{key:0,class:"calldata",innerHTML:s(u)},null,8,q2)):V("",!0)]),_:1},8,["expanded"])])])}}});function Oo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:a}=e;return a(["Description"])},calldata:e=>{const{normalize:a}=e;return a(["Calldata"])},voters:e=>{const{normalize:a}=e;return a(["Voters"])}}})}typeof Oo=="function"&&Oo(ml);const E2=x(ml,[["__scopeId","data-v-1fce7967"]]),B2={class:"proposal-details"},U2={class:"proposal-details-container"},W2=A({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(n){return(t,e)=>(b(),S("div",B2,[m("div",U2,[h(E2,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),h(h2,{proposal:t.proposal},null,8,["proposal"])])]))}}),N2=x(W2,[["__scopeId","data-v-9b919bde"]]),H2=A({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(n){const t=z(n.initExpanded);return(e,a)=>{const o=ht,l=G;return b(),P(l,{class:"proposal",compact:!0},{default:C(()=>[h(T1,{proposal:e.proposal,expanded:s(t),onToggleExpand:a[0]||(a[0]=u=>t.value=!s(t))},null,8,["proposal","expanded"]),h(o,{class:"proposal-details-collapsible",expanded:s(t)},{default:C(()=>[h(N2,{proposal:e.proposal,expanded:s(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),yl=x(H2,[["__scopeId","data-v-f3a8d1b2"]]),K2={class:"item"},X2={class:"label"},_l=A({__name:"ProposalTypeSelect",emits:["select"],setup(n,{emit:t}){const{t:e}=I(),a=[...p1].filter(c=>c!=="other"),o=t,l=z(!1),u=z("all"),i=()=>{l.value=!l.value},r=c=>{u.value=c,o("select",u.value)};return(c,d)=>{const _=bt;return b(),P(_,{class:"select",options:s(a).map(p=>p),selected:s(u),open:s(l),onOpen:i,onClose:d[0]||(d[0]=p=>l.value=!1),onInput:r},{item:C(p=>[m("div",K2,[m("div",X2,M(s(e)(p.item)),1)])]),_:1},8,["options","selected","open"])}}});function Do(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:e=>{const{normalize:a}=e;return a(["All"])},ownership:e=>{const{normalize:a}=e;return a(["Ownership"])},parameter:e=>{const{normalize:a}=e;return a(["Parameter"])},other:e=>{const{normalize:a}=e;return a(["Other"])}}})}typeof Do=="function"&&Do(_l);const j2=x(_l,[["__scopeId","data-v-5ba09e40"]]),Q2={class:"proposals"},G2={class:"filters"},Y2={style:{display:"flex",gap:"1rem"}},Z2={class:"proposals-content"},J2={key:0},vl=A({__name:"Proposals.page",setup(n){const{t}=I(),e=z(0),{page:a,onPage:o}=Ht(),l=_t(a,200),u=z(t("search-placeholder")),i=z(""),r=_t(i,300),c=z("all"),d=w(()=>{switch(e.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),_=w(()=>r.value.toLocaleLowerCase()),p=w(()=>{var g;return((g=f.value)==null?void 0:g.count)??0}),v=w(()=>{var g;return O.orderBy(((g=f.value)==null?void 0:g.proposals)??[],k=>k.start,"desc")}),{isFetching:y,data:f}=y1(l,c,d,_),T=g=>{c.value=g};return(g,k)=>{const L=Qe,$=je,R=ge,W=Xe,F=Ie;return b(),S("div",Q2,[h($,{onTab:k[0]||(k[0]=X=>e.value=X.index)},{default:C(()=>[h(L,{header:s(t)("all")},null,8,["header"]),h(L,{header:s(t)("active")},null,8,["header"]),h(L,{header:s(t)("passed")},null,8,["header"]),h(L,{header:s(t)("denied")},null,8,["header"]),h(L,{header:s(t)("executed")},null,8,["header"])]),_:1}),m("div",G2,[h(R,{modelValue:s(i),"onUpdate:modelValue":k[1]||(k[1]=X=>de(i)?i.value=X:null),class:"search",placeholder:s(u),search:!0},null,8,["modelValue","placeholder"]),m("div",Y2,[h(j2,{style:{"flex-grow":"1"},onSelect:T}),h(W,{class:"pagination","items-count":s(p),"items-per-page":10,page:s(a),onPage:s(o)},null,8,["items-count","page","onPage"])])]),m("div",Z2,[(b(!0),S(se,null,_e(s(v),X=>(b(),P(yl,{key:X.id,proposal:X,class:q({loading:s(y)})},null,8,["proposal","class"]))),128)),h(W,{class:"pagination","items-count":s(p),"items-per-page":10,page:s(a),onPage:s(o)},null,8,["items-count","page","onPage"]),s(v).length===0?(b(),S("div",J2,M(s(t)("no-proposals")),1)):V("",!0),h(F,{class:q(["spinner",{loading:s(y)}])},null,8,["class"])])])}}});function Fo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":e=>{const{normalize:a}=e;return a(["Search for Curve proposals"])},"no-proposals":e=>{const{normalize:a}=e;return a(["No proposals could be found."])},all:e=>{const{normalize:a}=e;return a(["All"])},active:e=>{const{normalize:a}=e;return a(["Active"])},passed:e=>{const{normalize:a}=e;return a(["Passed"])},denied:e=>{const{normalize:a}=e;return a(["Denied"])},executed:e=>{const{normalize:a}=e;return a(["Executed"])}}})}typeof Fo=="function"&&Fo(vl);const ew=x(vl,[["__scopeId","data-v-288924ec"]]),tw={class:"proposal-container"},nw=A({__name:"Proposal.page",setup(n){const t=$e("proposalId",0,{transform:Number}),e=$e("proposalType"),{isFetching:a,data:o}=al(t,e);return(l,u)=>{const i=Ie;return b(),S("div",tw,[h(i,{class:q(["spinner",{loading:s(a)}])},null,8,["class"]),!s(a)&&s(o)?(b(),P(yl,{key:0,proposal:s(o),"init-expanded":!0},null,8,["proposal"])):V("",!0)])}}}),aw=x(nw,[["__scopeId","data-v-b5eb5204"]]),sw={class:"form"},ow={class:"field"},iw={class:"label"},rw={class:"value"},lw={class:"field"},uw={class:"label"},cw={class:"value"},fl=A({__name:"DeployGauge",emits:["gauge"],setup(n,{emit:t}){const{t:e}=I(),a=t,{withSigner:o}=Ee(),l=z(!1),u=z(""),i=z(0),r=w(()=>Yn),c=w(()=>ai(u.value.toLocaleLowerCase())&&i.value>0),d=o(_=>{if(!u.value||!i.value)return new Promise(y=>y());const p=On.connect(ri,_);typeof i.value=="string"&&(i.value=parseFloat(i.value));const v=Qn(i.value,18n);return Dt(l,async()=>{const y=await p.deploy_gauge(u.value.toLocaleLowerCase(),v);a("gauge",y)})});return(_,p)=>{const v=ge,y=Ni,f=Ae,T=G;return b(),P(T,{class:"add-new",title:"Gauge Creation"},{default:C(()=>[m("div",sw,[m("div",ow,[m("div",iw,M(s(e)("receiver"))+":",1),m("div",rw,[h(v,{modelValue:s(u),"onUpdate:modelValue":p[0]||(p[0]=g=>de(u)?u.value=g:null),placeholder:s(r)},null,8,["modelValue","placeholder"])])]),m("div",lw,[m("div",uw,M(s(e)("amount"))+":",1),m("div",cw,[h(y,{modelValue:s(i),"onUpdate:modelValue":p[1]||(p[1]=g=>de(i)?i.value=g:null),min:1,max:3303030299},null,8,["modelValue"])])])]),h(f,{class:"action-button request",value:s(e)("submit"),disabled:!s(c)||s(l),primary:!0,web3:!0,onClick:s(d)},null,8,["value","disabled","onClick"])]),_:1})}}});function qo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{receiver:e=>{const{normalize:a}=e;return a(["Receiver"])},amount:e=>{const{normalize:a}=e;return a(["CRV Amount (Max)"])},submit:e=>{const{normalize:a}=e;return a(["Create Fundraising Gauge"])}}})}typeof qo=="function"&&qo(fl);const pw=x(fl,[["__scopeId","data-v-abf38e33"]]),dw={class:"form"},mw={class:"field"},yw={class:"label"},_w={class:"value"},vw={class:"field"},fw={class:"label"},hw={class:"value"},hl=A({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(n,{emit:t}){const{t:e}=I(),a=t,{withSigner:o}=Ee(),l=z(!1),u=z(""),i=z(e("placeholder")),r=w(()=>Yn),c=w(()=>ai(u.value)&&!!i.value),d=w(()=>c.value&&!l.value);D(()=>n.gauge,v=>{u.value=v.toLocaleLowerCase()});const _=o(v=>u.value?Dt(l,async()=>{await p(v),a("request")}):new Promise(y=>y())),p=async v=>{const y="0xe478de485ad2fe566d49342cbd03e49ed7db3356",f="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",T=(te,Z)=>String(te).padStart(Z,"0"),g=Vn.createInterface(),k=Rn.createInterface(),$=g.encodeFunctionData("add_gauge",[u.value,"10",0]);let R="0x00000001";const W=k.encodeFunctionData("execute",[li,0,$]).substring(2),F=T((Math.floor(W.length)/2).toString(16),8);R=`${R}${f.substring(2)}${F}${W}`;const X=new FormData,mt={text:i.value.replace(/(\r\n|\n|\r)/gm,"")};X.append("file",JSON.stringify(mt));const Yt=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:X})).json()).Hash;await In.connect(y,v).newVote(R,`ipfs:${Yt}`,!1,!1,{gasLimit:1e6})};return(v,y)=>{const f=ge,T=Ae,g=G;return b(),P(g,{class:"add-new",title:"Gauge Addition Vote"},{default:C(()=>[m("div",dw,[m("div",mw,[m("div",yw,M(s(e)("gauge"))+":",1),m("div",_w,[h(f,{modelValue:s(u),"onUpdate:modelValue":y[0]||(y[0]=k=>de(u)?u.value=k:null),placeholder:s(r)},null,8,["modelValue","placeholder"])])]),m("div",vw,[m("div",fw,M(s(e)("description"))+":",1),m("div",hw,[h(f,{modelValue:s(i),"onUpdate:modelValue":y[1]||(y[1]=k=>de(i)?i.value=k:null)},null,8,["modelValue"])])])]),h(T,{class:"action-button request",value:s(e)("submit"),disabled:!s(d),primary:!0,web3:!0,onClick:s(_)},null,8,["value","disabled","onClick"])]),_:1})}}});function Eo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{gauge:e=>{const{normalize:a}=e;return a(["Gauge Address"])},description:e=>{const{normalize:a}=e;return a(["Vote Description"])},placeholder:e=>{const{normalize:a}=e;return a(["Add a grant gauge: "])},submit:e=>{const{normalize:a}=e;return a(["Create Gauge Addition Vote"])}}})}typeof Eo=="function"&&Eo(hl);const bw=x(hl,[["__scopeId","data-v-ad4243e8"]]),gw={class:"ve-funder"},ww={class:"explanation"},Tw={class:"step-one"},$w=["innerHTML"],kw=["innerHTML"],Cw={class:"step-two"},Sw=["innerHTML"],Mw={href:"https://gov.curve.fi/",target:"_blank"},Lw={class:"forms"},bl=A({__name:"VeFunder.page",setup(n){const{t}=I(),e=z(""),a=o=>{e.value=o};return(o,l)=>{const u=G;return b(),S("div",gw,[m("div",ww,[h(u,null,{default:C(()=>[m("div",Tw,[m("span",{innerHTML:s(t)("process")},null,8,$w),m("ol",null,[m("li",null,M(s(t)("process-1")),1),m("li",{innerHTML:s(t)("process-2")},null,8,kw)])]),m("div",Cw,[m("span",{innerHTML:s(t)("requirements")},null,8,Sw),m("ol",null,[m("li",null,[B(M(s(t)("requirements-1a"))+" ",1),m("a",Mw,M(s(t)("requirements-1b")),1)]),m("li",null,M(s(t)("requirements-2")),1)])])]),_:1})]),m("div",Lw,[h(pw,{onGauge:a}),h(bw,{gauge:s(e)},null,8,["gauge"])])])}}});function Bo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{process:e=>{const{normalize:a}=e;return a(["<strong>veFunder</strong> process:"])},"process-1":e=>{const{normalize:a}=e;return a(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":e=>{const{normalize:a}=e;return a(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:e=>{const{normalize:a}=e;return a(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":e=>{const{normalize:a}=e;return a(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":e=>{const{normalize:a}=e;return a(["at this address"])},"requirements-2":e=>{const{normalize:a}=e;return a(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Bo=="function"&&Bo(bl);const Aw=x(bl,[["__scopeId","data-v-39495f2a"]]),zw="/assets/header--BhHUuM7.png",xw={},Pw=n=>(ie("data-v-80c6610f"),n=n(),re(),n),Rw={class:"header"},Iw=Pw(()=>m("img",{class:"header-image",src:zw},null,-1)),Vw=[Iw];function Ow(n,t){return b(),S("div",Rw,Vw)}const Dw=x(xw,[["render",Ow],["__scopeId","data-v-80c6610f"]]),Fw={class:"general"},qw=["innerHTML"],gl=A({__name:"General",props:{model:{}},setup(n){const{t}=I(),e=w(()=>{var r;return(r=n.model)==null?void 0:r.crvLockedDollars}),a=w(()=>{var r;return(r=n.model)==null?void 0:r.crvLockedDollarsMonthly}),o=w(()=>{var r;return(r=n.model)==null?void 0:r.cvxTvl}),l=w(()=>{var r;return(r=n.model)==null?void 0:r.cvxVotingPercentage}),u=w(()=>{var r;return(r=n.model)==null?void 0:r.cvxMarketCap}),i=w(()=>{var r;return(r=n.model)==null?void 0:r.cvxMarketCapFullyDiluted});return(r,c)=>{const d=ee;return b(),S("div",Fw,[m("div",{class:"title",innerHTML:s(t)("description")},null,8,qw),m("ul",null,[m("li",null,[h(d,{value:s(e),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("locked-1"))+" ",1),h(d,{value:s(a),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("locked-2")),1)]),m("li",null,[h(d,{value:s(o),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("locked-2"))+" ",1),h(d,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),B(" "+M(s(t)("locked-3")),1)]),m("li",null,[B(M(s(t)("mcap-1"))+" ",1),h(d,{value:s(u),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("mcap-2"))+" ",1),h(d,{value:s(i),precision:0,type:"dollar"},null,8,["value"]),B(". ")])])])}}});function Uo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:e=>{const{normalize:a}=e;return a(["Total locked value, incentives &amp; market cap"])},"locked-1":e=>{const{normalize:a}=e;return a(["worth of CRV permanently locked in its contract, and is continuing to see a rate of about"])},"locked-2":e=>{const{normalize:a}=e;return a(["worth of CRV permanently locked in its contract per month."])},"locked-3":e=>{const{normalize:a}=e;return a(["of the voting power of Curve."])},"tvl-1":e=>{const{normalize:a}=e;return a(["Convex currently has about"])},"tvl-2":e=>{const{normalize:a}=e;return a(["TVL and controls close to"])},"tvl-3":e=>{const{normalize:a}=e;return a(["of the voting power of Curve."])},"mcap-1":e=>{const{normalize:a}=e;return a(["Convex's market cap is just"])},"mcap-2":e=>{const{normalize:a}=e;return a(["with a fully diluted valuation of"])}}})}typeof Uo=="function"&&Uo(gl);const Ew=x(gl,[["__scopeId","data-v-6364a161"]]),Bw={class:"bribes"},Uw={class:"title"},wl=A({__name:"Bribes",props:{model:{}},setup(n){const{t}=I(),e=w(()=>{var o;return(o=n.model)==null?void 0:o.bribesIncomeAnnually}),a=w(()=>{var o;return(o=n.model)==null?void 0:o.bribesIncomeBiWeekly});return(o,l)=>{const u=ee;return b(),S("div",Bw,[m("div",Uw,M(s(t)("incentives")),1),m("ul",null,[m("li",null,M(s(t)("description")),1),m("li",null,[B(M(s(t)("annual-1"))+" ",1),h(u,{value:s(e),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("annual-2")),1)]),m("li",null,[B(M(s(t)("biweek-1"))+" ",1),h(u,{value:s(a),precision:0,type:"dollar"},null,8,["value"]),B(" "+M(s(t)("biweek-2")),1)])])])}}});function Wo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{incentives:e=>{const{normalize:a}=e;return a(["Incentives"])},description:e=>{const{normalize:a}=e;return a(["CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."])},"annual-1":e=>{const{normalize:a}=e;return a(["CVX holders will potentially earn over"])},"annual-2":e=>{const{normalize:a}=e;return a(["in incentives over a 1 year period."])},"biweek-1":e=>{const{normalize:a}=e;return a(["Incentives to CVX holders are very likely to reach"])},"biweek-2":e=>{const{normalize:a}=e;return a(["biweekly in the coming weeks (based on total rewards paid by Votium app)"])}}})}typeof Wo=="function"&&Wo(wl);const Ww=x(wl,[["__scopeId","data-v-65bc4727"]]),Nw="/assets/cvx-PJG1_7yb.png",Hw="/assets/cvxcrv-B_jSbKBn.png",Tl=n=>(ie("data-v-9c632b4e"),n=n(),re(),n),Kw={class:"farm"},Xw={class:"title"},jw={class:"values"},Qw={class:"cvx"},Gw={class:"content"},Yw={class:"value"},Zw={class:"description"},Jw=Tl(()=>m("img",{class:"logo",src:Nw},null,-1)),e0={class:"crv"},t0=Tl(()=>m("img",{class:"logo",src:Hw},null,-1)),n0={class:"content"},a0={class:"value"},s0={class:"description"},$l=A({__name:"Farm",props:{model:{}},setup(n){const{t}=I(),e=new ui(ae()),{address:a,withProvider:o}=Ee(),l=z(void 0),u=w(()=>{var r;return(r=n.model)==null?void 0:r.cvxApr});Y(async()=>{await i()});const i=o(async r=>{const d=(await Fu(r,e)).reduce((_,p)=>_+p,0)/2;l.value=d*100});return D(a,i),Y(async()=>{await i()}),(r,c)=>{const d=ee;return b(),S("div",Kw,[m("div",Xw,M(s(t)("income")),1),m("div",jw,[m("div",Qw,[m("div",Gw,[m("span",Yw,[h(d,{value:s(u),precision:0,type:"percentage"},null,8,["value"]),B(" "+M(s(t)("apr")),1)]),m("span",Zw,[B(M(s(t)("apr-1"))+" ",1),h(d,{value:s(u),precision:0,type:"percentage"},null,8,["value"]),B(" "+M(s(t)("apr-2")),1)])]),Jw]),m("div",e0,[t0,m("div",n0,[m("span",a0,[h(d,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),B(" "+M(s(t)("apr")),1)]),m("span",s0,[B(M(s(t)("staked"))+" ",1),h(d,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),B(" "+M(s(t)("apr"))+". ",1)])])])])])}}});function No(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{income:e=>{const{normalize:a}=e;return a(["Income"])},apr:e=>{const{normalize:a}=e;return a(["APR"])},"apr-1":e=>{const{normalize:a}=e;return a(["Locked CVX earns"])},"apr-2":e=>{const{normalize:a}=e;return a(["APR with incentives."])},staked:e=>{const{normalize:a}=e;return a(["Staked cvxCRV earns"])}}})}typeof No=="function"&&No($l);const o0=x($l,[["__scopeId","data-v-9c632b4e"]]);class i0 extends oe{async getConvex(){return this.fetch(`${this.host}/dashboard`,{id:"flyer-convex"})}async getAura(){return this.fetch(`${this.host}/dashboard`,{id:"flyer-aura"})}}const r0={class:"flyer"},l0={class:"flyer-items"},u0=A({__name:"Flyer.page",setup(n){const t=new i0(ae()),e=z(null);return Y(async()=>{const a=await vt(t.getConvex());a.success&&a.dashboard&&(e.value=a.dashboard)}),(a,o)=>(b(),S("div",r0,[m("div",l0,[h(Dw),h(o0,{model:s(e)},null,8,["model"]),h(Ew,{model:s(e)},null,8,["model"]),h(Ww,{model:s(e)},null,8,["model"])])]))}}),c0=x(u0,[["__scopeId","data-v-6a28d1aa"]]),p0={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},d0={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},xe=Re("convexStore",()=>{const n=z([]),t=z({}),e=z(p0),a=z([d0]);function o(l,u){t.value[l.name]=u}return{pools:n,snapshots:t,revenue:e,historicalRevenue:a,setSnapshots:o}});function m0(n){return n.baseApr+n.crvApr+n.cvxApr+n.extraRewardsApr}const kl=A({__name:"ChartApr",props:{poolSelected:{}},setup(n){const{t}=I(),e=xe(),{theme:a}=E(U()),o=w(()=>n.poolSelected?e.snapshots[n.poolSelected.name]??[]:[]),l=w(()=>ne(a.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const c=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].snapshot;return[`<div><b>${t("base")}</b>:</div><div>${i(c.baseApr)}</div>`,`<div><b>${t("crv")}</b>:</div><div>${i(c.crvApr)}</div>`,`<div><b>${t("cvx")}</b>:</div><div>${i(c.cvxApr)}</div>`,`<div><b>${t("extra")}</b>:</div><div>${i(c.extraRewardsApr)}</div>`].join("")}}})),u=w(()=>[{name:"APR",data:o.value.map(r=>({x:r.timeStamp*1e3,y:m0(r),snapshot:r}))}]),i=r=>(r*=100,`${K(r,1,"percentage")}${H(r,"percentage")}`);return(r,c)=>{const d=le;return b(),P(d,{class:"apr",title:s(t)("title"),options:s(l),series:s(u)},null,8,["title","options","series"])}}});function Ho(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Annual Percentage Rate"])},base:e=>{const{normalize:a}=e;return a(["Base"])},crv:e=>{const{normalize:a}=e;return a(["CRV"])},cvx:e=>{const{normalize:a}=e;return a(["CVX"])},exta:e=>{const{normalize:a}=e;return a(["Extra"])}}})}typeof Ho=="function"&&Ho(kl);const y0=x(kl,[["__scopeId","data-v-9f5d4783"]]),Cl=A({__name:"ChartTvl",props:{poolSelected:{}},setup(n){const{t}=I(),e=xe(),{theme:a}=E(U()),o=w(()=>n.poolSelected?e.snapshots[n.poolSelected.name]??[]:[]),l=w(()=>ne(a.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const c=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${i(c)}</div>`}}})),u=w(()=>[{name:"tvl",data:o.value.map(r=>({x:r.timeStamp*1e3,y:r.tvl}))}]),i=r=>`$${K(r,1,"dollar")}${H(r,"dollar")}`;return(r,c)=>{const d=le;return b(),P(d,{class:"tvl",title:s(t)("title"),options:s(l),series:s(u)},null,8,["title","options","series"])}}});function Ko(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Total Value Locked"])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])}}})}typeof Ko=="function"&&Ko(Cl);const _0=x(Cl,[["__scopeId","data-v-5ff1fd6a"]]);function Xo(n){return n.baseApr+n.crvApr+n.cvxApr+n.extraRewardsApr}const v0={class:"title"},f0={class:"number"},h0={class:"number"},b0={key:0,class:"charts"},Sl=A({__name:"TablePools",props:{expanded:{default:()=>[]}},setup(n){const{t}=I(),e=xe(),{sortColumn:a,sortOrder:o,onSort:l}=Ri("tvl"),u=w(()=>O.orderBy(e.pools.filter(i=>!zu(i.name)),i=>{switch(a.value){case"name":return ke(i.name);case"apr":return Xo(i);case"tvl":return i.tvl;default:return i.tvl}},o.value===fe.Descending?"desc":"asc"));return(i,r)=>{const c=ee,d=pe;return b(),P(d,{class:"datatable-pools","columns-header":"1fr","columns-data":"pools-columns-data",rows:s(u),columns:["",s(t)("name"),s(t)("apr"),s(t)("tvl")],sorting:!0,"sorting-columns":["","name","apr","tvl"],"sorting-columns-enabled":["name","apr","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:i.expanded,onSortColumn:s(l)},{"header-content":C(()=>[m("div",v0,M(s(t)("title")),1)]),row:C(_=>[m("div",null,M(s(ke)(_.item.name)),1),m("div",f0,[h(c,{value:s(Xo)(_.item)*100,precision:1,type:"percentage"},null,8,["value"])]),m("div",h0,[h(c,{value:_.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":C(_=>[i.expanded.includes(_.item)?(b(),S("div",b0,[h(s(_0),{class:"tvl","pool-selected":_.item},null,8,["pool-selected"]),h(s(y0),{class:"apr","pool-selected":_.item},null,8,["pool-selected"])])):V("",!0)]),_:1},8,["rows","columns","expanded","onSortColumn"])}}});function jo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:e=>{const{normalize:a}=e;return a(["Convex Pools"])},name:e=>{const{normalize:a}=e;return a(["Name"])},tvl:e=>{const{normalize:a}=e;return a(["TVL"])},apr:e=>{const{normalize:a}=e;return a(["APR"])}}})}typeof jo=="function"&&jo(Sl);const g0=x(Sl,[["__scopeId","data-v-58942786"]]);class w0 extends oe{async get(){return this.fetch(`${this.host}/pool`)}}class T0 extends oe{async get(t){return this.fetch(`${this.host}/poolsnapshots`,{pool:t.name})}}const $0={class:"pools"},k0={class:"dashboard"},C0=A({__name:"Pools.page",setup(n){let t=!1;const e=new w0(ae()),a=new T0(ae()),o=xe(),l=$e("pool"),u=qe(),{expanded:i,toggleExpansion:r}=sa();Y(async()=>{t=!0;const p=await vt(e.get());if(p){const v=p.pools;if(v.sort((y,f)=>f.tvl-y.tvl),o.pools=v.filter(y=>y.tvl>1e3),!t)return;l.value&&d(l.value)}}),Kn(()=>{t=!1});const c=async p=>{if(!p||o.snapshots[p.name])return;const v=await vt(a.get(p),500);if(v){const y=v.data.snapshots;o.setSnapshots(p,y)}},d=p=>{const v=Gn(p),y=o.pools.find(f=>f.name===v);y&&r(y)&&c(y)},_=async p=>{r(p)&&(c(p),await u.push({name:"convexpools",params:{pool:ke(p.name)}}))};return(p,v)=>(b(),S("div",$0,[m("div",k0,[h(g0,{class:"datatable-pools",expanded:s(i),onSelected:_},null,8,["expanded"])])]))}}),S0=x(C0,[["__scopeId","data-v-3ab3ee7a"]]),M0="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",L0="https://api-py.llama.airforce/convex/v1/platform/revenue";class A0 extends oe{get(){return this.fetch(L0).then(t=>t.revenue[0])}}class z0 extends oe{get(){return this.fetch(M0).then(t=>t.revenue)}}const x0=A({__name:"RevenueSources",setup(n){const t=xe(),{theme:e}=E(U()),a=w(()=>[{source:"CRV",value:t.revenue.totalCrvRevenue},{source:"3CRV",value:t.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:t.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:t.revenue.totalOtherRevenue},{source:"Bribes",value:t.revenue.totalBribeRevenue}]),o=w(()=>{const{colors:i}=e.value;return ne(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(r){return Math.round(r).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[i.blue,i.green,i.purple,i.yellow,i.red],labels:a.value.map(r=>r.source)})}),l=w(()=>a.value.map(i=>i.value)),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"breakdown-revenue",options:s(o),series:s(l)},null,8,["options","series"])}}}),P0=A({__name:"LPRevenue",setup(n){const t=xe(),{theme:e}=E(U()),a=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToLpProvidersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToLpProvidersAmount)}]),o=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return ne(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:o.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.purple],labels:a.value.map(r=>r.name)})}),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"lp-revenue",options:s(l),series:s(a)},null,8,["options","series"])}}}),R0=A({__name:"HolderRevenue",setup(n){const t=xe(),{theme:e}=E(U()),a=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)}]),o=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return ne(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:o.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.red],labels:a.value.map(r=>r.name)})}),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"holder-revenue",options:s(l),series:s(a)},null,8,["options","series"])}}}),I0=A({__name:"HistoricalRevenue",setup(n){const t=xe(),{theme:e}=E(U()),a=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.totalCrvRevenue)},{name:"FXS",data:t.historicalRevenue.map(i=>i.totalFxsRevenue)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)},{name:"Others",data:t.historicalRevenue.map(i=>i.otherRevenue)}]),o=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return ne(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:o.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.green,i.red,i.yellow],labels:a.value.map(r=>r.name)})}),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"historical-revenue",options:s(l),series:s(a)},null,8,["options","series"])}}}),V0=A({__name:"LiquidRevenue",setup(n){const t=xe(),{theme:e}=E(U()),a=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxFxsStakersAmount)}]),o=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=e.value;return ne(e.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:o.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.green,i.purple],labels:a.value.map(r=>r.name)})}),u=i=>`$${K(Math.abs(i),1,"dollar")}${H(i,"dollar")}`;return(i,r)=>{const c=le;return b(),P(c,{class:"liquid-revenue",options:s(l),series:s(a)},null,8,["options","series"])}}}),O0={class:"summary"},Ml=A({__name:"Summary",setup(n){const{t}=I(),e=xe(),a=w(()=>e.revenue.totalBribeRevenue+e.revenue.totalThreeCrvRevenueToCvxCrvStakers+e.revenue.totalCrvRevenue+e.revenue.totalFxsRevenue+e.revenue.totalOtherRevenue),o=w(()=>e.revenue.totalCrvRevenueToLpProviders+e.revenue.totalFxsRevenueToLpProviders+e.revenue.totalCvxRevenueToLpProviders),l=w(()=>e.revenue.totalCrvRevenueToPlatform+e.revenue.totalFxsRevenueToPlatform+e.revenue.totalFxsRevenueToCallers+e.revenue.totalOtherRevenue),u=w(()=>e.revenue.totalBribeRevenue+e.revenue.totalCrvRevenueToCvxStakers+e.revenue.totalFxsRevenueToCvxStakers),i=w(()=>e.revenue.totalCrvRevenueToCvxCrvStakers+e.revenue.totalCvxRevenueToCvxCrvStakers+e.revenue.totalFxsRevenueToCvxFxsStakers+e.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(r,c)=>{const d=ee,_=Ce;return b(),S("div",O0,[h(_,{class:"all-time-revenue",label:s(t)("all-time-revenue"),"has-value":!!s(a)},{default:C(()=>[h(d,{value:s(a),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(_,{class:"lp-revenue",label:s(t)("lp-revenue"),"has-value":!!s(o)},{default:C(()=>[h(d,{value:s(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(_,{class:"holder",label:s(t)("holder-revenue"),"has-value":!!s(u)},{default:C(()=>[h(d,{value:s(u),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(_,{class:"liquid-revenue",label:s(t)("liquid-revenue"),"has-value":!!s(i)},{default:C(()=>[h(d,{value:s(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),h(_,{class:"protocol-revenue",label:s(t)("protocol-revenue"),"has-value":!!s(l)},{default:C(()=>[h(d,{value:s(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function Qo(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"all-time-revenue":e=>{const{normalize:a}=e;return a(["All time total revenue"])},"lp-revenue":e=>{const{normalize:a}=e;return a(["Revenue for LPs (incl. CVX emissions)"])},"protocol-revenue":e=>{const{normalize:a}=e;return a(["Revenue directed to Convex treasury"])},"holder-revenue":e=>{const{normalize:a}=e;return a(["Revenue for CVX lockers"])},"liquid-revenue":e=>{const{normalize:a}=e;return a(["Revenue for liquid lockers (cvxCRV, cvxFXS)"])}}})}typeof Qo=="function"&&Qo(Ml);const D0=x(Ml,[["__scopeId","data-v-12aa5999"]]),F0={class:"revenue"},q0={class:"revenue-charts"},Ll=A({__name:"Revenue.page",setup(n){const{t}=I(),e=new A0(ae()),a=new z0(ae());let o=!1;const l=xe(),u=z(!1);return Zo(async()=>{if(o)return;o=!0,u.value=!0;const i=await e.get();i&&(l.revenue=i);const r=await a.get();r&&(l.historicalRevenue=r),u.value=!1,o=!1}),Kn(()=>{o=!1}),(i,r)=>{const c=Ie;return b(),S("div",F0,[m("div",{class:q(["dashboard",{loading:s(u)}])},[s(u)?(b(),P(c,{key:0,class:"spinner"})):V("",!0),m("div",q0,[h(D0,{class:"summary"}),h(x0,{class:"chart-revenue-sources",title:s(t)("revenue-breakdown")},null,8,["title"]),h(I0,{class:"chart-historical-revenue",title:s(t)("revenue-historical")},null,8,["title"]),h(P0,{class:"chart-lp-revenue",title:s(t)("revenue-lp")},null,8,["title"]),h(R0,{class:"chart-holder-revenue",title:s(t)("revenue-holder")},null,8,["title"]),h(V0,{class:"chart-liquid-revenue",title:s(t)("revenue-liquid")},null,8,["title"])])],2)])}}});function Go(n){const t=n;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"revenue-breakdown":e=>{const{normalize:a}=e;return a(["Breakdown of total revenue by source"])},"revenue-lp":e=>{const{normalize:a}=e;return a(["Liquidity providers rewards breakdown"])},"revenue-holder":e=>{const{normalize:a}=e;return a(["CVX holders rewards breakdown"])},"revenue-historical":e=>{const{normalize:a}=e;return a(["Historical total revenue breakdown"])},"revenue-liquid":e=>{const{normalize:a}=e;return a(["Liquid lockers rewards breakdown"])}}})}typeof Go=="function"&&Go(Ll);const E0=x(Ll,[["__scopeId","data-v-847cd7e6"]]),B0=[{path:"/",component:wm},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/pools/:chain?",name:"pools",component:sy},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:ky},{path:"/platform/pools/old",component:Yy},{path:"/platform/gauges/old",component:l_},{path:"/platform/revenue/:tab?",name:"revenue",component:N_},{path:"/platform/crvusd",name:"crvusd",component:Xv},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:sh},{path:"/platform/lending/:chain?",name:"llamalend",component:Ah},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:db},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Og},{path:"/pool/mev",component:c1},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:ew},{path:"/dao/proposal/:proposalType/:proposalId",component:aw},{path:"/dao/vefunder",component:Aw},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:c0},{path:"/convex/pools/:pool?",name:"convexpools",component:S0},{path:"/convex/revenue",name:"convexrevenue",component:E0}],U0={titleRoute:"/",menuItems:[{label:"Platform",children:[{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]},ca=tu(fp),W0=nu({legacy:!1,locale:"en",fallbackLocale:"en"});ca.use(W0);const N0=au();ca.use(N0);const H0=[U0],K0=[B0],Al=Jn();Al.pages=H0;Al.routes=K0;const X0=new su({defaultOptions:{queries:{staleTime:1e3*60*5}},queryCache:new ou({onError:(n,t)=>{Un({text:`Failed querying ${t.queryHash} >>> ${n.message}`,type:"error"})}})}),j0=Qp();ca.use(j0).use(iu).use(ru,{queryClient:X0}).use(lu).mount("#app");

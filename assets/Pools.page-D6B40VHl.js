import{_ as R}from"./KPI-DOF055xo.js";import{_ as I}from"./AsyncValue-BL6mrwNv.js";import{_ as U}from"./SelectChain-1adMq90K.js";import{_ as x}from"./InputText-DA38UbY7.js";import{u as z}from"./chains-CzD1_wrE.js";import{u as N}from"./pools-BUCFNO2I.js";import{d as L,f as S,h as T,o as b,w as d,b as o,u as e,a as c,c as $,F as A,l as q,t as E,_ as Q,e as B,r as D,a5 as K,a6 as O,$ as j,O as G}from"./index-8S3F9N49.js";import{_ as H}from"./Table-Bukb5G_Q.js";import{_ as J}from"./TokenIcon-BEGQU8nj.js";import{_ as M}from"./IconExpander-BHV2qRbF.js";import{u as W,_ as X}from"./UsePagination-EjExv51k.js";import{u as Y}from"./UseSort-B2zbCU99.js";import{a as Z}from"./index-BVSmwH_m.js";import"./Number-BTEZFKBa.js";import"./ChainIcon-BuYD_jpN.js";import"./timestamp-DkvXAN4c.js";import"./useQuery-DaXkcnuD.js";import"./fetch-bVCl_krR.js";import"./UseHost-CvRX-CS1.js";const ee={class:"tokens"},oe={class:"end"},ae={class:"end"},se={class:"end"},te={class:"end"},k=20,ne=L({__name:"TablePools",props:{chain:{},pools:{}},emits:["select"],setup(F,{emit:y}){const v=y,n=["","",{id:"name",label:"Name",sort:!0},{id:"fees",label:"Fees (24h)",sort:!0,align:"end"},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:l,onSort:m}=Y("tvl"),p=S(()=>F.pools.orderBy(a=>{switch(l.value.column){case"name":return a.name;case"fees":return a.tradingFee24h;case"volume":return a.tradingVolume24h;case"tvl":return a.tvlUsd;case"util":return g(a)}},l.value.order)),{page:P,rowsPage:w,onPage:V}=W(p,k);function g(a){return a.tvlUsd!==0?100*a.tradingVolume24h/a.tvlUsd:0}return(a,f)=>{const t=X,r=M,_=J,i=I,u=H,h=Q;return b(),T(h,{title:"Pools"},{actions:d(()=>[o(t,{"items-count":a.pools.length,"items-per-page":k,page:e(P),onPage:e(V)},null,8,["items-count","page","onPage"])]),default:d(()=>[o(u,{class:"pools-table",rows:e(w),columns:n,sorting:e(l),onSortColumn:e(m),onSelect:f[0]||(f[0]=s=>v("select",s))},{row:d(({item:s})=>[o(r),c("div",ee,[(b(!0),$(A,null,q(s.coins,C=>(b(),T(_,{key:C.address,chain:a.chain,address:C.address},null,8,["chain","address"]))),128))]),c("div",null,E(s.name),1),c("div",oe,[o(i,{"show-zero":"",type:"dollar",value:s.tradingFee24h,precision:2},null,8,["value"])]),c("div",ae,[o(i,{"show-zero":"",type:"dollar",value:s.tradingVolume24h,precision:2},null,8,["value"])]),c("div",se,[o(i,{"show-zero":"",type:"dollar",value:s.tvlUsd,precision:2},null,8,["value"])]),c("div",te,[o(i,{"show-zero":"",type:"percentage",value:g(s),precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),le=B(ne,[["__scopeId","data-v-95f3524a"]]),re={class:"dashboard"},ie={class:"toolbar"},ue=L({__name:"Pools.page",setup(F){const y=["ethereum","arbitrum"],v=Z("chain"),n=S({get(){return v.value?v.value:"ethereum"},set(t){v.value=t}}),l=D(""),{isFetching:m,data:p}=z(n),{isFetching:P,data:w}=N(n),V=S(()=>(w.value?.pools??[]).filter(t=>{const r=l.value.toLocaleLowerCase().split(" "),_=i=>r.some(u=>i.toLocaleLowerCase().includes(u));return _(t.name)||_(t.address)})),{crumbs:g}=K(O());g.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}];const a=j(),f=async t=>{await a.push({name:"poolspool",params:{tab:"",chain:n.value,poolAddr:t.address}})};return(t,r)=>{const _=x,i=U,u=I,h=R;return b(),$("div",re,[c("div",ie,[o(_,{modelValue:e(l),"onUpdate:modelValue":r[0]||(r[0]=s=>G(l)?l.value=s:null),search:"",placeholder:"Search for..."},null,8,["modelValue"]),o(i,{class:"chain-select",chain:e(n),chains:y,onSelectChain:r[1]||(r[1]=s=>n.value=s==="all"?"ethereum":s)},null,8,["chain"])]),o(h,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!e(m)},{default:d(()=>[o(u,{type:"dollar",value:e(p)?.total.tvl??0},null,8,["value"])]),_:1},8,["has-value"]),o(h,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!e(m)},{default:d(()=>[o(u,{type:"dollar",value:e(p)?.total.tradingVolume24h??0},null,8,["value"])]),_:1},8,["has-value"]),o(h,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!e(m)},{default:d(()=>[o(u,{type:"dollar",value:e(p)?.total.tradingFee24h??0},null,8,["value"])]),_:1},8,["has-value"]),o(h,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!e(m)},{default:d(()=>[o(u,{type:"dollar",value:e(p)?.total.liquidityFee24h??0},null,8,["value"])]),_:1},8,["has-value"]),o(le,{style:{"grid-area":"pools"},chain:e(n),pools:e(V),loading:e(P),onSelect:f},null,8,["chain","pools","loading"])])}}}),Ie=B(ue,[["__scopeId","data-v-de200a3b"]]);export{Ie as default};

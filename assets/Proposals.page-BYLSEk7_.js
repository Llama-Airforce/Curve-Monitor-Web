import{d as C,I as f,h as V,o as _,w as $,b as u,t as L,u as e,a7 as N,g as k,E as w,z as g,c as y,a as o,L as E,T as F,F as Q,r as O,Q as R,O as U}from"./index-BYnNAfSP.js";import{a as j,_ as q}from"./UsePagination-6my4nle6.js";import{_ as G}from"./InputText-B41kNJQc.js";import{_ as H,a as J}from"./TabItem.vue_vue_type_script_setup_true_lang-aHLn9g5N.js";import{c as K}from"./proposal-CtMNOAW6.js";import{P as M}from"./Proposal-fPU2zzj_.js";import{c as W}from"./String-TwmdtJxb.js";import"./getAction-Co2sJJHG.js";import"./link-D7XIkfCK.js";import"./writeContract-DLDbbozm.js";const X=["all","ownership","parameter","other"],Y={class:"option"},Z={class:"label"},ee=C({__name:"ProposalTypeSelect",emits:["select"],setup(z,{emit:d}){const l=d,m=[...X].filter(s=>s!=="other"),p=f("all"),t=s=>{p.value=s,l("select",p.value)};return(s,h)=>{const v=N;return _(),V(v,{options:e(m).map(r=>r),selected:e(p),onSelect:t},{option:$(({option:r})=>[u("div",Y,[u("div",Z,L(("capitalize"in s?s.capitalize:e(W))(r)),1)])]),_:1},8,["options","selected"])}}}),oe=k(ee,[["__scopeId","data-v-40150856"]]),se={class:"dashboard"},ae={class:"filters"},te={style:{display:"flex",gap:"1rem","flex-wrap":"wrap"}},ne={class:"proposals-content"},ce={key:0},le=C({__name:"Proposals.page",setup(z){const d=f(0),{page:l,onPage:m}=j(),p=w(l,200),t=f(""),s=w(t,300),h=f("all"),v=g(()=>{switch(d.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),r=g(()=>s.value.toLocaleLowerCase()),P=g(()=>{var a;return((a=T.value)==null?void 0:a.count)??0}),S=g(()=>{var a;return(((a=T.value)==null?void 0:a.proposals)??[]).orderBy(n=>n.start,"desc")}),{isFetching:b,data:T}=K(p,h,v,r),B=a=>{h.value=a};return(a,n)=>{const i=H,D=J,I=G,x=q,A=U;return _(),y("div",se,[o(D,{onTab:n[0]||(n[0]=c=>d.value=c.index)},{default:$(()=>[o(i,{header:"All"}),o(i,{header:"Active"}),o(i,{header:"Passed"}),o(i,{header:"Denied"}),o(i,{header:"Executed"})]),_:1}),u("div",ae,[o(I,{modelValue:e(t),"onUpdate:modelValue":n[1]||(n[1]=c=>E(t)?t.value=c:null),search:"",placeholder:"Search for Curve proposals"},null,8,["modelValue"]),u("div",te,[o(oe,{style:{"flex-grow":"1"},onSelect:B}),o(x,{class:"pagination","items-count":e(P),"items-per-page":10,page:e(l),onPage:e(m)},null,8,["items-count","page","onPage"])])]),u("div",ne,[(_(!0),y(Q,null,O(e(S),c=>(_(),V(M,{key:c.id,class:R(["loading-backdrop",{loading:e(b)}]),proposal:c},null,8,["proposal","class"]))),128)),o(x,{class:"pagination","items-count":e(P),"items-per-page":10,page:e(l),onPage:e(m)},null,8,["items-count","page","onPage"]),e(S).length===0?(_(),y("div",ce,"No proposals could be found.")):F("",!0),o(A,{loading:e(b)},null,8,["loading"])])])}}}),ve=k(le,[["__scopeId","data-v-a5702901"]]);export{ve as default};

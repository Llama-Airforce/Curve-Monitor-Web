import{_ as R}from"./KPI-DSm4wSN4.js";import{_ as I}from"./AsyncValue-bJbRvNiS.js";import{_ as U}from"./SelectChain-DlZYFS-r.js";import{_ as x}from"./InputText-JfmknQe4.js";import{u as N}from"./chains-CyQEnumK.js";import{u as z}from"./pools-rVBKVSWb.js";import{d as L,c as S,e as k,o as b,w as d,b as a,u as o,f as _,a as $,F as A,l as q,i as E,g as Q,_ as B,r as D,a4 as K,a5 as O,$ as j,O as G}from"./index-D-zH55uQ.js";import{_ as H}from"./Table-Cq7d-cLh.js";import{_ as J}from"./TokenIcon-UT9gTCWz.js";import{_ as M}from"./IconExpander-Df3JG6bZ.js";import{u as W,_ as X}from"./UsePagination-B7FyrMJy.js";import{u as Y}from"./UseSort-Dx-e8QHH.js";import{a as Z}from"./index-m-7GxTUb.js";import"./Number-dIoHFtFk.js";import"./ChainIcon-KbAbzktU.js";import"./timestamp-Dfir0V72.js";import"./useQuery-COnkORT4.js";import"./UseHost-B0Oz4LA1.js";const ee={class:"tokens"},oe={class:"end"},ae={class:"end"},se={class:"end"},F=20,te=L({__name:"TablePools",props:{chain:{},pools:{}},emits:["select"],setup(C,{emit:y}){const h=y,l=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:r,onSort:m}=Y("tvl"),p=S(()=>C.pools.orderBy(s=>{switch(r.value.column){case"name":return s.name;case"volume":return s.tradingVolume24h;case"tvl":return s.tvlUsd;case"util":return v(s)}},r.value.order)),{page:P,rowsPage:w,onPage:V}=W(p,F);function v(s){return s.tvlUsd!==0?100*s.tradingVolume24h/s.tvlUsd:0}return(s,f)=>{const t=X,n=M,g=J,u=I,i=H,c=Q;return b(),k(c,{title:"Pools"},{actions:d(()=>[a(t,{"items-count":s.pools.length,"items-per-page":F,page:o(P),onPage:o(V)},null,8,["items-count","page","onPage"])]),default:d(()=>[a(i,{class:"pools-table",rows:o(w),columns:l,sorting:o(r),onSortColumn:o(m),onSelect:f[0]||(f[0]=e=>h("select",e))},{row:d(({item:e})=>[a(n),_("div",ee,[(b(!0),$(A,null,q(e.coins,T=>(b(),k(g,{key:T.address,chain:s.chain,address:T.address},null,8,["chain","address"]))),128))]),_("div",null,E(e.name),1),_("div",oe,[a(u,{"show-zero":"",type:"dollar",value:e.tradingVolume24h,precision:2},null,8,["value"])]),_("div",ae,[a(u,{"show-zero":"",type:"dollar",value:e.tvlUsd,precision:2},null,8,["value"])]),_("div",se,[a(u,{"show-zero":"",type:"percentage",value:v(e),precision:2},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),ne=B(te,[["__scopeId","data-v-fb7b5f9c"]]),le={class:"dashboard"},re={class:"toolbar"},ue=L({__name:"Pools.page",setup(C){const y=["ethereum","arbitrum"],h=Z("chain"),l=S({get(){return h.value?h.value:"ethereum"},set(t){h.value=t}}),r=D(""),{isFetching:m,data:p}=N(l),{isFetching:P,data:w}=z(l),V=S(()=>{var t;return(((t=w.value)==null?void 0:t.pools)??[]).filter(n=>{const g=r.value.toLocaleLowerCase().split(" "),u=i=>g.some(c=>i.toLocaleLowerCase().includes(c));return u(n.name)||u(n.address)})}),{crumbs:v}=K(O());v.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}];const s=j(),f=async t=>{await s.push({name:"poolspool",params:{tab:"",chain:l.value,poolAddr:t.address}})};return(t,n)=>{const g=x,u=U,i=I,c=R;return b(),$("div",le,[_("div",re,[a(g,{modelValue:o(r),"onUpdate:modelValue":n[0]||(n[0]=e=>G(r)?r.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"]),a(u,{class:"chain-select",chain:o(l),chains:y,onSelectChain:n[1]||(n[1]=e=>l.value=e==="all"?"ethereum":e)},null,8,["chain"])]),a(c,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(m)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tvl)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(m)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tradingVolume24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(m)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.tradingFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(c,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(m)},{default:d(()=>{var e;return[a(i,{type:"dollar",value:((e=o(p))==null?void 0:e.total.liquidityFee24h)??0},null,8,["value"])]}),_:1},8,["has-value"]),a(ne,{style:{"grid-area":"pools"},chain:o(l),pools:o(V),loading:o(P),onSelect:f},null,8,["chain","pools","loading"])])}}}),ke=B(ue,[["__scopeId","data-v-50c001fc"]]);export{ke as default};

var fo=Object.defineProperty;var go=(e,t,a)=>t in e?fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var Qt=(e,t,a)=>go(e,typeof t!="symbol"?t+"":t,a);import{o as _,c as C,p as H,a as z,b as p,d as L,e as A,n as M,f as D,r as j,g as U,t as V,w as b,h as m,T as yo,F as Z,i as le,j as da,k as pa,l as q,u as st,m as Ne,q as o,V as bo,s as wo,v as ko,x as $o,D as Se,y as ma,z as y,A as G,B as Co,C as So,E as Qa,G as ve,H as Dt,I as Bt,J as ja,K as Ao,L as Lo,M as To,N as xe,O as fe,P as Io,Q as _e,R as Ga,S as Vo,U as qo,W,X as jt,Y as qe,Z as ot,_ as Po,$ as Fo,a0 as ca,a1 as Do,a2 as O,a3 as J,a4 as ae,a5 as re,a6 as Bo,a7 as Mo,a8 as be,a9 as Mt,aa as Ro,ab as va,ac as Uo,ad as E,ae as de,af as Xa,ag as Ft,ah as Oo,ai as Eo,aj as Wo,ak as Ko,al as pt,am as Pa,an as Fa,ao as At,ap as ha,aq as Ya,ar as No,as as Za,at as Ja,au as Da,av as xo,aw as es,ax as Ho,ay as Ba,az as zo,aA as Ma,aB as Qo,aC as jo,aD as Go,aE as Xo,aF as Yo,aG as Zo,aH as Jo,aI as en,aJ as tn,aK as an}from"./vendor-Rgltwwz4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();class sn{constructor(t){this.value=t}entries(){return Object.entries(this.value)}}Array.prototype.take=function(e){return this.slice(0,e)};Array.prototype.takeRight=function(e){return this.slice(-e)};Array.prototype.drop=function(e=1){return this.slice(Math.max(0,e))};Array.prototype.dropWhile=function(e){const t=this.findIndex((a,s,n)=>!e(a,s,n));return t===-1?[]:this.slice(t)};Array.prototype.zip=function(...e){return this.map((t,a)=>[t,...e.map(s=>s[a])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(e){return this.filter((t,a)=>this.findIndex(s=>e(t,s))===a)};Array.prototype.orderBy=function(e,t="asc"){const a=Array.isArray(e)?e:[e],s=Array.isArray(t)?t:[t];return[...this].sort((n,r)=>{for(let l=0;l<a.length;l++){const i=a[l],c=Array.isArray(t)?s[l]||"asc":t,d=i(n),u=i(r);if(d!==u)return(d>u?1:-1)*(c==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(e){const t=Object.groupBy(this,e);return new sn(t)};Array.prototype.sumBy=function(e){return this.reduce((t,a)=>t+e(a),0)};Array.prototype.meanBy=function(e){const t=this.sumBy(e);return this.length>0?t/this.length:0};Array.prototype.maxBy=function(e){return this.reduce((t,a)=>e(a)>e(t)?a:t)};Array.prototype.difference=function(...e){const t=new Set(e.flat());return this.filter(a=>!t.has(a))};const T=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},on={},ts=e=>(H("data-v-66c6ff87"),e=e(),z(),e),nn={class:"lds-ripple"},ln=ts(()=>p("div",null,null,-1)),rn=ts(()=>p("div",null,null,-1)),cn=[ln,rn];function un(e,t){return _(),C("div",nn,cn)}const nt=T(on,[["render",un],["__scopeId","data-v-66c6ff87"]]),dn=["inert"],pn={key:0,class:"title"},mn=L({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const s=nt;return _(),C("div",{class:M(["card",{loading:t.loading}]),inert:!!t.loading},[t.loading!==null?(_(),A(s,{key:0,class:M(["loader",{loading:t.loading}])},null,8,["class"])):D("",!0),t.title||t.$slots.title||t.$slots.actions?(_(),C("div",{key:1,class:M(["card-header",{collapsible:t.collapsible}])},[j(t.$slots,"title",{},()=>[t.title?(_(),C("div",pn,[t.icon?(_(),C("i",{key:0,class:M(["icon",t.icon])},null,2)):D("",!0),U(" "+V(t.title),1)])):D("",!0)],!0),j(t.$slots,"actions",{},void 0,!0)],2)):(_(),C("div",{key:2,class:M(["card-no-header",{compact:t.compact}])},null,2)),p("div",{class:M(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[j(t.$slots,"default",{},void 0,!0)],2)],10,dn)}}}),R=T(mn,[["__scopeId","data-v-ad3de834"]]),vn={key:0,class:"fas fa-chevron-right"},hn=L({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const a=t,s=r=>{var i;const l=e.active?e.active.id===r.id:((i=e.crumbs.filter(c=>!c.hint).at(-1))==null?void 0:i.id)===r.id;return r.hint??l},n=r=>{var l;return((l=e.crumbs.at(-1))==null?void 0:l.id)===r.id};return(r,l)=>{const i=R;return _(),A(i,null,{default:b(()=>[m(yo,{name:"fade",tag:"ul"},{default:b(()=>[(_(!0),C(Z,null,le(r.crumbs,c=>(_(),C("li",{key:c.id},[(_(),A(da(s(c)?"span":"a"),{class:M({active:s(c),hint:c.hint}),onClick:d=>a("crumb",c)},{default:b(()=>[U(V(c.label),1)]),_:2},1032,["class","onClick"])),!n(c)||r.crumbs.length===1?(_(),C("i",vn)):D("",!0)]))),128))]),_:1})]),_:1})}}}),_n=T(hn,[["__scopeId","data-v-de1572c6"]]),Pe=pa("breadcrumbStore",()=>{const e=q([]),t=q(!1);return{crumbs:e,show:t}}),fn=e=>(H("data-v-e4c02f1b"),e=e(),z(),e),gn={class:"root"},yn={class:"toolbar-container"},bn=fn(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),wn={class:"content"},kn=L({__name:"Layout",setup(e){const t=Pe(),a=st(),s=async n=>{n.pathName&&await a.push({name:n.pathName,...n.params&&{params:n.params()}})};return(n,r)=>{const l=Ne("notifications"),i=_n,c=Ne("router-view");return _(),C("div",gn,[m(l,{width:600,duration:-1}),m(o(bo)),j(n.$slots,"navigation",{},void 0,!0),p("main",null,[p("div",yn,[o(t).show?(_(),A(i,{key:0,class:"breadcrumb",crumbs:o(t).crumbs,onCrumb:s},null,8,["crumbs"])):D("",!0),bn]),p("div",wn,[m(c,null,{default:b(({Component:d})=>[m(wo,{name:"fade",mode:"out-in"},{default:b(()=>[(_(),A(da(d)))]),_:2},1024)]),_:1})])])])}}}),$n=T(kn,[["__scopeId","data-v-e4c02f1b"]]),Cn={class:"collapsible-inside"},Sn=L({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,a)=>(_(),C("div",{class:M(["collapsible-outside",{expanded:t.expanded}])},[p("div",Cn,[j(t.$slots,"default",{},void 0,!0)])],2))}}),ht=T(Sn,[["__scopeId","data-v-f4edd7a4"]]),An={class:"badge"},Ln={class:"label"},Tn=L({__name:"Badge",props:{label:{default:""}},setup(e){return(t,a)=>(_(),C("div",An,[p("div",Ln,V(t.label),1)]))}}),In=T(Tn,[["__scopeId","data-v-8a0a03f3"]]);function mt(e){return!!e.children}function Gt(e){return!!e.to}function Vn(e){return!!e.url}function qn(e){return e!=null}function Pn(e){function t(v){return v<10?"0"+v.toString():v.toString()}const a=e.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const s=1e3,n=s*60,r=n*60,l=r*24,i=Math.floor(a/l),c=Math.floor(a%l/r),d=Math.floor(a%r/n),u=Math.floor(a%n/s);return t(i)+":"+t(c)+":"+t(d)+":"+t(u)}function je(e,t=0,a=".",s=","){const n=isFinite(+e)?+e:0,r=isFinite(+t)?Math.abs(t):0,l=typeof s>"u"?",":s,i=typeof a>"u"?".":a,c=function(u,v){const h=Math.pow(10,v);return Math.round(u*h)/h},d=(r?c(n,r):Math.round(n)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(d[1]||"").length<r&&(d[1]=d[1]||"",d[1]+=new Array(r-d[1].length+1).join("0")),d.join(i)}function x(e,t){const a=Math.abs(e);return t==="percentage"?"%":t==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function Q(e,t,a){const s=Math.abs(e);return t===1/0?e.toLocaleString():a==="percentage"?je(e,t):a==="dollar"?s>=1*10**12?je(e/10**12,t):s>=1*10**9?je(e/10**9,t):s>=1*10**6?je(e/10**6,t):s>=1*10**3?je(e/10**3,t):je(e,t):e.toString()}function Ke(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function We(e,t){return parseFloat($o(e,Number(t)))}function as(e,t){const a=Number(t),s=Number.isInteger(e)?e.toString():e.toFixed(a);return ko(s,a)}function _a(e,t){const a={...e};for(const s in t)Array.isArray(t[s])?a[s]=[...t[s]]:typeof t[s]=="object"&&t[s]!==null?a[s]=_a(a[s],t[s]):a[s]=t[s];return a}async function ss(e,t=0,a=1e3){const s=await e(t,a),n=await(s.length>=a?ss(e,t+1,a):Promise.resolve([]));return s.concat(n)}function Vt(e,t){return(Array.isArray(e)?e:[e]).some(s=>t.path.startsWith(s))}function _t(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}const os="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",ns="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",ls="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Ge="0xe478de485ad2fe566d49342cbd03e49ed7db3356",Fn={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class Dn extends Error{constructor(t,a){super(a),this.status=t}}async function Bn(e,t,a){try{const s=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:a});if(s.ok)return s;throw new Dn(s.status,`Fetch error ${s.status} for URL: ${e}`)}catch(s){throw s instanceof Error?s:new Error("Unknown fetch error")}}async function Mn(e,t,a){return await(await Bn(e,t,a)).json()}class Te{async fetch(t,a,s){return Mn(t,a,s)}}class rs extends Te{constructor(a){super();Qt(this,"host");this.host=a}async getHost(){return await this.host}}class Rn extends Te{async getPrice(t){const a=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins[a])}async getPrices(t){const a=t.map(s=>`ethereum:${s}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins)}}function qt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function is(e,t){e.value=!0;try{return await t()}catch(a){Se({text:qt(a),type:"error"});return}finally{e.value=!1}}const Xt={};function Un(e="$llama$"){Xt[e]||(Xt[e]=0);const t=++Xt[e];return e==="$llama$"?`${t}`:`${e}${t}`}const On={key:0},En=["href"],Wn={class:"nav-link-container"},Kn={key:1},Nn={class:"nav-link-container"},xn={class:"left"},Hn={key:0,class:"icon"},zn={class:"right"},Qn={key:2},jn={class:"nav-link-container"},Gn={class:"nav-link-container"},Xn={class:"left"},Yn={key:0,class:"icon"},Zn={class:"right"},Jn=L({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=ma(),n=q(!0),r=y(()=>Gt(e.item)?[e.item]:mt(e.item)?e.item.children:[]),l=()=>{mt(e.item)&&e.item.children.filter(u=>Vt(u.to,s)).length>0&&(n.value=!0)},i=d=>typeof d.label=="string"?d.label:d.label();G(()=>e.item,d=>{mt(d)&&(n.value=!d.initCollapsed),l()},{immediate:!0}),G(()=>s.fullPath,()=>{l()},{immediate:!0});const c=()=>{n.value=!n.value};return(d,u)=>{const v=In,h=Ne("router-link"),g=ht;return _(),C(Z,null,[o(Vn)(d.item)?(_(),C("li",On,[p("a",{class:"nav-link root",href:d.item.url,target:"_blank"},[p("div",Wn,V(d.item.label),1)],8,En)])):o(Gt)(d.item)?(_(),C("li",Kn,[m(h,{to:d.item.to,class:M(["nav-link root",{"router-link-active":o(Vt)(d.item.to,o(s))}]),onClick:u[0]||(u[0]=f=>a("navigated"))},{default:b(()=>[p("div",Nn,[p("div",xn,[d.item.icon?(_(),C("div",Hn,[p("i",{class:M(d.item.icon)},null,2)])):D("",!0),U(" "+V(i(d.item)),1)]),p("div",zn,[d.item.tag?(_(),A(v,{key:0,label:d.item.tag},null,8,["label"])):D("",!0)])])]),_:1},8,["to","class"])])):o(mt)(d.item)?(_(),C("li",Qn,[p("a",{class:"nav-link root",onClick:c},[p("div",jn,[U(V(d.item.label)+" ",1),p("i",{class:M(["expander fas fa-chevron-up",{expanded:o(n)}])},null,2)])])])):D("",!0),o(mt)(d.item)?(_(),A(g,{key:3,class:"items",expanded:o(n)},{default:b(()=>[p("ul",null,[(_(!0),C(Z,null,le(o(r),f=>(_(),C("li",{key:i(f)},[o(Gt)(f)?(_(),A(h,{key:0,to:f.to,class:M(["nav-link",{"router-link-active":o(Vt)(f.to,o(s))}]),onClick:u[1]||(u[1]=w=>a("navigated"))},{default:b(()=>[p("div",Gn,[p("div",Xn,[f.icon?(_(),C("div",Yn,[p("i",{class:M(f.icon)},null,2)])):D("",!0),U(" "+V(i(f)),1)]),p("div",Zn,[f.tag?(_(),A(v,{key:0,label:f.tag},null,8,["label"])):D("",!0)])])]),_:2},1032,["to","class"])):D("",!0)]))),128))])]),_:1},8,["expanded"])):D("",!0)],64)}}}),el=T(Jn,[["__scopeId","data-v-766d2c2e"]]),tl=L({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=ma(),n=y(()=>e.pages.find(i=>Vt(i.titleRoute,s))),r=y(()=>{var i;return((i=n.value)==null?void 0:i.menuItems)??[]}),l=i=>typeof i.label=="string"?i.label:i.label();return(i,c)=>(_(),C("nav",null,[(_(!0),C(Z,null,le(o(r),d=>(_(),C("ul",{key:l(d)},[m(el,{item:d,onNavigated:c[0]||(c[0]=u=>a("navigated"))},null,8,["item"])]))),128))]))}}),al=T(tl,[["__scopeId","data-v-da87cf2c"]]);function Rt(){const{address:e,isConnected:t,chainId:a}=Co(),s=So(),n=y(()=>s.data.value&&e.value?e.value.toLocaleLowerCase():void 0);return{isConnected:t,chainId:a,address:n}}function we(e,t=6){if(!e)return"0x000...000";const a=t/2+2,s=e.length-t/2;return`${e.substring(0,a)}...${e.substring(s)}`}function sl(e,t=6){if(!e)return"0x000";const a=Math.min(e.length,t+2);return e.length>a?`${e.substring(0,a)}...`:e}const ol=L({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},chainId:{}},emits:["click"],setup(e,{emit:t}){const a=t,{chainId:s}=Rt(),{switchChain:n}=Qa(),r=l=>{if(l.stopImmediatePropagation(),e.chainId){if(s.value===void 0){Se({text:"Wallet not connected",type:"error"});return}s.value!==e.chainId&&n({chainId:e.chainId})}a("click")};return(l,i)=>(_(),C("button",{class:M({primary:l.primary}),onClick:r},[j(l.$slots,"default",{},()=>[l.icon?(_(),C("i",{key:0,class:M(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):D("",!0),U(" "+V(l.value),1)],!0)],2))}}),he=T(ol,[["__scopeId","data-v-8db3aeb3"]]),nl="/assets/crv-CKEIQw2g.png",ll="/assets/hat-D1qfnSjv.png",rl={},cs=e=>(H("data-v-757199dd"),e=e(),z(),e),il={class:"logo"},cl=cs(()=>p("div",{class:"visual"},[p("img",{src:nl}),p("img",{src:ll})],-1)),ul=cs(()=>p("span",null,"curve.monitor",-1)),dl=[cl,ul];function pl(e,t){return _(),C("div",il,dl)}const ml=T(rl,[["render",pl],["__scopeId","data-v-757199dd"]]),vl={class:"header"},hl={class:"buttons"},_l=L({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const a=t;return(s,n)=>{const r=Ne("router-link"),l=he;return _(),C("div",vl,[m(r,{class:"logo",to:"/",onClick:n[0]||(n[0]=i=>a("navigated"))},{default:b(()=>[m(ml,{class:"logo"})]),_:1}),p("div",hl,[m(l,{icon:"fas fa-bars",onClick:n[1]||(n[1]=i=>a("toggle-expansion"))})])])}}}),fl=T(_l,[["__scopeId","data-v-e6d3c72b"]]),gl={key:0,class:"modal"},yl={class:"modal-popup"},bl=L({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,s=n=>{n.code==="Escape"&&a("close")};return ve(()=>{document.addEventListener("keydown",s)}),Dt(()=>{document.removeEventListener("keydown",s)}),G(()=>e.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,r)=>(_(),A(Bt,{to:"body"},[n.show?(_(),C("div",gl,[p("div",{class:"modal-mask",onClick:r[0]||(r[0]=l=>a("close"))}),p("div",yl,[j(n.$slots,"default",{},void 0,!0)])])):D("",!0)]))}}),Ut=T(bl,[["__scopeId","data-v-cc1a9f70"]]),wl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",kl={key:1,src:wl},$l=L({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(null),r=q(null);G(s,u=>{a("show",u),u&&ja(()=>{d()})});let l;function i(){l&&(clearTimeout(l),l=void 0),s.value=!0}function c(){l&&clearTimeout(l),l=setTimeout(()=>{s.value=!1,l=void 0},50)}ve(()=>{d(),window.addEventListener("resize",d)}),Dt(()=>{window.removeEventListener("resize",d)});function d(){if(!n.value||!r.value)return;const u=n.value.getBoundingClientRect(),v=r.value.getBoundingClientRect(),h=14,g=h,f=window.innerHeight-v.height-h,w=Math.min(Math.max(g,u.top-v.height-h),f),k=h,$=window.innerWidth-v.width-h,I=Math.min(Math.max(k,u.left+u.width/2-v.width/2),$);r.value.style.top=`${w}px`,r.value.style.left=`${I}px`}return(u,v)=>(_(),C("div",{class:M(["tooltip",{show:o(s)}])},[p("div",{ref_key:"triggerRef",ref:n,class:"trigger",onMouseover:i,onMouseleave:c,onTouchstart:i,onTouchend:c},[j(u.$slots,"trigger",{},()=>[u.icon?(_(),C("i",{key:0,class:M(u.icon)},null,2)):(_(),C("img",kl))],!0)],544),p("div",{ref_key:"contentRef",ref:r,class:"content",onMouseover:i,onMouseleave:c,onTouchstart:i,onTouchend:c},[j(u.$slots,"default",{},void 0,!0)],544)],2))}}),Ot=T($l,[["__scopeId","data-v-69dad8d5"]]),Cl="/assets/injected-DW80ouY-.webp",Sl="/assets/rabby-CG__llS3.svg",Al="/assets/walletconnect-BCBhrtde.webp",Ll="/assets/coinbase-CsqSq8Nj.webp",Tl="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Il=e=>(H("data-v-cae4603a"),e=e(),z(),e),Vl={class:"buttons"},ql={class:"connectors-body"},Pl=Il(()=>p("div",{class:"title"},"Connect Your Wallet",-1)),Fl={class:"connectors"},Dl=["src"],Bl={key:1,class:"empty"},Ml={class:"name"},Rl=L({__name:"WalletConnectButton",setup(e){const{connect:t}=Ao(),a=Lo(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],n=y(()=>a.value.filter(d=>s.includes(d.id))),r=q(!1);function l(d){switch(d.id){case"injected":return Cl;case"walletConnect":return Al;case"coinbaseWalletSDK":return Ll;case"safe":return Tl;case"io.rabby":return Sl;default:return""}}function i(d){return d.id==="injected"?"Browser Extension":d.name}function c(d){t({connector:d}),r.value=!1}return(d,u)=>{const v=he,h=R,g=Ut;return _(),C("div",Vl,[m(v,{class:"button",primary:!0,onClick:u[0]||(u[0]=f=>r.value=!0)},{default:b(()=>[U(" Connect Wallet ")]),_:1}),D("",!0),m(g,{show:o(r),onClose:u[1]||(u[1]=f=>r.value=!1)},{default:b(()=>[m(h,null,{default:b(()=>[p("div",ql,[Pl,p("div",Fl,[(_(!0),C(Z,null,le(o(n),f=>(_(),C("div",{key:f.id,class:"connector"},[m(v,{onClick:w=>c(f)},{default:b(()=>[l(f)?(_(),C("img",{key:0,src:l(f)},null,8,Dl)):(_(),C("div",Bl)),p("div",Ml,V(i(f)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}}),Ul=T(Rl,[["__scopeId","data-v-cae4603a"]]),Ol={class:"wallet"},El={key:0},Wl={key:1},Kl={key:0,class:"info"},Nl=L({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{disconnect:t}=To(),{isConnected:a,chainId:s,address:n}=Rt(),{switchChain:r}=Qa(),l=y(()=>s.value===xe.id),i=()=>{r({chainId:xe.id})};return(c,d)=>{const u=he;return _(),C("div",Ol,[o(a)?(_(),C("div",El,[o(l)?(_(),A(u,{key:1,class:"disconnect",icon:"fas fa-check",value:o(we)(o(n)),onClick:o(t)},null,8,["value","onClick"])):(_(),A(u,{key:0,class:"change",value:"Change Network",primary:!0,onClick:i}))])):(_(),C("div",Wl,[m(Ul),c.labelPleaseConnect?(_(),C("span",Kl,V(c.labelPleaseConnect),1)):D("",!0)]))])}}}),xl=T(Nl,[["__scopeId","data-v-8fd60889"]]),Hl=e=>(H("data-v-f6c127d0"),e=e(),z(),e),zl={class:"select"},Ql={class:"item"},jl={key:0,class:"label"},Gl=["onClick"],Xl=Hl(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),Yl=L({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(e,{emit:t}){const a=t;return(s,n)=>(_(),C("div",{class:"select-container",tabindex:"0",onClick:n[0]||(n[0]=fe(r=>a("open"),["stop"])),onBlur:n[1]||(n[1]=r=>a("close"))},[p("div",zl,[p("div",{class:M(["selected",{open:s.open}])},[j(s.$slots,"item",{item:s.selected},()=>[p("div",Ql,V(s.selected),1)],!0),s.label?(_(),C("div",jl,V(s.label),1)):D("",!0)],2),p("div",{class:M(["items",{selectHide:!s.open}])},[(_(!0),C(Z,null,le(s.options,(r,l)=>(_(),C("div",{key:l,onClick:i=>a("input",r)},[j(s.$slots,"item",{item:r},()=>[U(V(r),1)],!0)],8,Gl))),128))],2)]),Xl],32))}}),ft=T(Yl,[["__scopeId","data-v-f6c127d0"]]),Ze={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Zl=[Ze.blue,Ze.yellow,Ze.green,Ze.red,Ze.purple],Je={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Jl=[Je.blue,Je.yellow,Je.green,Je.red,Je.purple],et={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},er=[et.blue,et.yellow,et.green,et.red,et.purple];function Pt(e){switch(e){case"chad":return et;case"light":return Je;default:return Ze}}function tr(e){switch(e){case"chad":return er;case"light":return Jl;default:return Zl}}const N=pa("settingsStore",()=>{const e=q("light"),t=y(()=>({colors:Pt(e.value),colorsArray:tr(e.value)}));return{themeId:e,theme:t}}),ar={class:"theme"},sr={class:"label"},or={class:"colors"},nr="theme",lr=L({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Pt("chad")},{id:"dark",colors:Pt("dark")},{id:"light",colors:Pt("light")}],a=N(),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",r=Io(nr,t.find(d=>d.id===n)??t[0],void 0,{serializer:{read:d=>t.find(u=>u.id===d)??t[0],write:d=>d.id}});ve(()=>{c(r.value)});const l=q(!1),i=()=>{l.value=!l.value},c=d=>{r.value=d,window.document.documentElement.setAttribute("data-theme",d.id),a.themeId=d.id};return(d,u)=>{const v=ft;return _(),A(v,{class:"select direction-up",options:t.map(h=>h),selected:o(r),open:o(l),onOpen:i,onClose:u[0]||(u[0]=h=>l.value=!1),onInput:c},{item:b(h=>[p("div",ar,[p("div",sr,V(h.item.id),1),p("div",or,[p("div",{class:"color",style:_e({"background-color":h.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.level1})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.level2})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.blue})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.yellow})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.green})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.red})},null,4),p("div",{class:"color",style:_e({"background-color":h.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),rr=T(lr,[["__scopeId","data-v-3b33aa87"]]),ir={class:"bottom"},cr={class:"buttons"},ur={href:"https://twitter.com/0xAlunara",target:"_blank"},dr=L({__name:"Bottom",setup(e){const t=st();return(a,s)=>{const n=he;return _(),C("div",ir,[p("div",cr,[p("a",ur,[m(n,{icon:"fab fa-twitter"})]),m(n,{icon:"fas fa-code",onClick:s[0]||(s[0]=r=>o(t).push("/code"))})]),m(rr,{class:"themes"}),m(xl)])}}}),pr=T(dr,[["__scopeId","data-v-60358ade"]]),fa=()=>pa("pageStore",()=>{const e=q([]),t=q([]);return{pages:e,routes:t}})(),mr=L({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const a=t,s=fa(),n=q(!1),r=()=>{n.value=!1,a("navigated")};return(l,i)=>{const c=al,d=ht;return _(),C("div",{class:M(["menu-desktop",{expanded:o(n)}])},[m(fl,{onToggleExpansion:i[0]||(i[0]=u=>n.value=!o(n)),onNavigated:r}),m(d,{class:"menu-content",expanded:o(n)},{default:b(()=>[m(c,{pages:o(s).pages,onNavigated:r},null,8,["pages"]),m(pr,{onNavigated:r})]),_:1},8,["expanded"])],2)}}}),vr=T(mr,[["__scopeId","data-v-ed03439a"]]),hr=L({__name:"App",setup(e){const t=Pe(),a=ma();return G(()=>a.fullPath,s=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(r=>s.startsWith(r))||(t.show=!1)}),(s,n)=>{const r=$n;return _(),A(r,null,{navigation:b(()=>[m(vr,{class:"navigation"})]),_:1})}}}),_r=T(hr,[["__scopeId","data-v-20311da9"]]),fr="/assets/404-DGbqGNxT.png",gr={},yr=e=>(H("data-v-b15b1b06"),e=e(),z(),e),br={class:"not-found"},wr={class:"not-found-container"},kr=yr(()=>p("img",{src:fr},null,-1));function $r(e,t){const a=R;return _(),C("div",br,[p("div",wr,[m(a,null,{default:b(()=>[U(" Where are you going, pilot? Page not found, please return home fren. ")]),_:1}),kr])])}const Cr=T(gr,[["render",$r],["__scopeId","data-v-b15b1b06"]]),us=e=>(H("data-v-7dbdbcc8"),e=e(),z(),e),Sr={key:0,class:"expander"},Ar=us(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),Lr=[Ar],Tr={key:1,class:"expander"},Ir=us(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),Vr=[Ir],qr={class:"row-details"},Pr=L({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const a=t,s=Ga(),n=y(()=>{var i;const l=s["row-details"];if(l){const c=(i=l()[0])==null?void 0:i.children;if(c)return c.length>0}return!1}),r=()=>{a("click",e.data)};return(l,i)=>{const c=ht;return _(),C("div",{class:M(["row",{expanded:l.expanded}])},[p("div",{class:M(["row-data",{active:l.selected,expandable:o(n),"has-data":!!l.data}]),onClick:r},[l.data&&o(n)&&l.expandSide==="left"?(_(),C("div",Sr,Lr)):D("",!0),j(l.$slots,"row",{},void 0,!0),l.data&&o(n)&&l.expandSide!=="left"?(_(),C("div",Tr,Vr)):D("",!0)],2),l.data?(_(),A(c,{key:0,expanded:l.expanded},{default:b(()=>[p("div",qr,[j(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):D("",!0)],2)}}}),Fr=T(Pr,[["__scopeId","data-v-7dbdbcc8"]]),Dr={class:"table"},Br=["onClick"],Mr={key:1,class:"no-data"},Rr=L({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const a=t,s=y(()=>{if(e.rowsMin===null)return[];const u=Math.max(0,e.rowsMin-e.rows.length);return new Array(u)}),n=y(()=>e.columns.map(u=>typeof u=="string"?{id:u,label:u}:u)),r=u=>{u&&a("selected",u)},l=u=>{const v=u+1;return!!(e.rows[u+1]&&e.rows.findIndex(f=>f===e.selectedRow)===v)},i=u=>e.sorting.column===u.id&&e.sorting.order==="asc",c=u=>e.sorting.column===u.id&&e.sorting.order==="desc",d=u=>{if(!u.sort)return;const v=u.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";a("sortColumn",u.id,v)};return(u,v)=>{const h=Fr;return _(),C("div",Dr,[u.columns.length>0?(_(),A(h,{key:0,class:M({"selected-below":l(-1)})},{row:b(()=>[(_(!0),C(Z,null,le(o(n),g=>(_(),C("div",{key:g.id,class:M(["column-header",{sortable:g.sort,sorting:g.sort&&u.sorting.column===g.id,[g.align||""]:!!g.align}]),onClick:f=>d(g)},[p("span",null,V(g.label),1),g.sort?(_(),C("i",{key:0,class:M(["sorting-arrow fa fa-caret-right",{asc:i(g),desc:c(g)}])},null,2)):D("",!0)],10,Br))),128))]),_:1},8,["class"])):D("",!0),(_(!0),C(Z,null,le(u.rows,(g,f)=>(_(),A(h,{key:g,data:g,class:M({"selected-below":l(f)}),selected:u.selectedRow===g,expanded:u.expanded.includes(g),"expand-side":u.expandSide,onClick:r},{row:b(()=>[j(u.$slots,"row",{item:g},void 0,!0)]),"row-details":b(()=>[j(u.$slots,"row-details",{item:g},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(_(!0),C(Z,null,le(o(s),g=>(_(),A(h,{key:g}))),128)),!u.rowsMin&&(!u.rows||u.rows.length===0)?(_(),C("div",Mr,[j(u.$slots,"no-data",{},()=>[U("No data")],!0)])):D("",!0),u.$slots["row-aggregation"]&&u.rows.length>0?(_(),A(h,{key:2,class:"aggregation"},{row:b(()=>[j(u.$slots,"row-aggregation",{},void 0,!0)]),_:3})):D("",!0)])}}}),se=T(Rr,[["__scopeId","data-v-07bfbe17"]]),Ur=e=>(H("data-v-6e93c6b1"),e=e(),z(),e),Or={class:"code"},Er=["href"],Wr=["href"],Kr=["href"],Nr=Ur(()=>p("div",{class:"notices"},[U(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),p("span",null,[p("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)),xr=L({__name:"Code.page",setup(e){const a=[{name:"veFunder",contracts:[{contract:ns,description:"Gauge Factory"},{contract:ls,description:"Gauge Controller"}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"This website's front-end, excluding the Union"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"The Graph subgraphs related to Curve, Convex, Votium and more"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],n=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],r=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,i)=>{const c=se,d=R;return _(),C("div",Or,[m(d,{title:"Repositories"},{default:b(()=>[m(c,{class:"repositories-table",rows:s,columns:["Repository","Description"],title:"Yolo"},{row:b(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},V(u.item.name),9,Er)]),p("div",null,V(u.item.description),1)]),_:1})]),_:1}),m(d,{title:"APIs"},{default:b(()=>[m(c,{class:"apis-table","columns-data":"apis-columns-data",rows:n,columns:["API","Description"]},{row:b(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},V(u.item.name),9,Wr)]),p("div",null,V(u.item.description),1)]),_:1})]),_:1}),(_(),C(Z,null,le(a,(u,v)=>m(d,{key:v,title:u.name},{default:b(()=>[m(c,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:["Contract","Description"]},{row:b(h=>[p("div",null,[p("a",{href:r(h.item),target:"_blank"},V(h.item.contract),9,Kr)]),p("div",null,V(h.item.description),1)]),_:2},1032,["rows"])]),_:2},1032,["title"])),64)),m(d,null,{default:b(()=>[Nr]),_:1})])}}}),Hr=T(xr,[["__scopeId","data-v-6e93c6b1"]]);function zr(){const e=fa(),t=[{path:"/code",component:Hr},...e.routes.flatMap(s=>s),{path:"/:pathMatch(.*)*",name:"NotFound",component:Cr}];return Vo({history:qo(),routes:t})}const Qr="/assets/llama-cloud-transparant-BquaG1Iu.png",jr={key:0,class:"value"},Gr={key:1,class:"value"},Xr=["innerHTML"],Yr={key:0,class:"value"},Zr={key:1,class:"value"},Jr=["innerHTML"],ei={class:"labels"},ti={class:"label"},ai={class:"label-second"},si=L({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const s=Ot;return _(),C("div",{class:M(["kpi",{disabled:!t.hasValue}])},[p("div",{class:M(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[j(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(_(),A(s,{key:0},{trigger:b(()=>[t.hasValue?(_(),C("span",jr,V(t.value),1)):(_(),C("span",Gr," ? "))]),default:b(()=>[j(t.$slots,"tooltip",{},()=>[p("span",{innerHTML:t.tooltip},null,8,Xr)],!0)]),_:3})):(_(),C(Z,{key:1},[t.hasValue?(_(),C("span",Yr,V(t.value),1)):(_(),C("span",Zr," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(_(),A(s,{key:0},{default:b(()=>[p("span",{innerHTML:t.tooltip},null,8,Jr)]),_:1})):D("",!0)],2),p("div",ei,[j(t.$slots,"label",{},()=>[p("div",ti,V(t.label),1)],!0),j(t.$slots,"label-second",{},()=>[p("div",ai,V(t.labelSecond),1)],!0)])],2)}}}),pe=T(si,[["__scopeId","data-v-ce995eb5"]]),oi={key:0,class:"async-value"},ni="|/-\\",Y=L({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,a=0;const s=q("|"),n=y(()=>e.value?Q(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?s.value:"?"),r=y(()=>e.precision===1/0?"":!e.value||!e.type||!isFinite(e.value)?e.showUnit&&e.type?x(0,e.type):"":x(e.value,e.type));return G(()=>e.value,l=>{if(clearInterval(a),t=0,l)return;const i=()=>{t=(t+1)%4,s.value=ni[t]};a=window.setInterval(i,250)},{immediate:!0}),(l,i)=>l.inline?(_(),C(Z,{key:1},[U(V(l.showSymbol&&l.type==="dollar"?"$":"")+V(o(n))+V(l.showUnit?o(r):""),1)],64)):(_(),C("div",oi,V(l.showSymbol&&l.type==="dollar"?"$":"")+V(o(n))+V(l.showUnit?o(r):""),1))}}),li=["crvusd","lending","pools","router","dao"];function ke(e){const[t,a]=e.split("T"),[s,n,r]=t.split("-").map(Number),[l,i,c]=a.split(":").map(Number);return Date.UTC(s,n-1,r,l,i,c)/1e3}const ri=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],ii="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",ci="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",ui="/assets/arbitrum-Z8VMulXH.png",di="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",pi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",mi="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",vi="/assets/moonbeam-CHDPiRRO.png",hi="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",_i="/assets/optimism-CcABTbCu.png",fi="/assets/base-AohAhS4D.webp",gi="/assets/polygon-GPEdhIuq.png",yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Ra(e){return{ethereum:ii,arbitrum:ui,optimism:_i,fantom:di,avalanche:ci,xdai:pi,matic:hi,harmony:mi,moonbeam:vi,base:fi,polygon:gi,fraxtal:yi,all:""}[e]}const bi=e=>e.data.map(t=>t.name).filter(t=>ri.includes(t)),wi=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),ki=e=>e.data.flatMap(t=>t.transactions.map(a=>({chain:t.chain,timestamp:ke(a.timestamp),type:a.type,transactions:a.transactions}))),$i=e=>e.data.flatMap(t=>t.users.map(a=>({chain:t.chain,timestamp:ke(a.timestamp),type:a.type,users:a.users}))),Lt="https://prices.curve.fi";class Ci extends Te{async getSupportedChains(){const t=await this.fetch(`${Lt}/v1/chains/`);return bi(t)}async getChainInfo(t){const a=await this.fetch(`${Lt}/v1/chains/${t}?page=1&per_page=1`);return wi(a)}async getTxs(){const t=await this.fetch(`${Lt}/v1/chains/activity/transactions`);return ki(t)}async getUsers(){const t=await this.fetch(`${Lt}/v1/chains/activity/users`);return $i(t)}}const Et=new Ci;function ga(){return{initialData:[],initialDataUpdatedAt:0}}function Si(){return W({queryKey:["chains-supported"],queryFn:()=>Et.getSupportedChains(),...ga()})}function ds(e){return W({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Et.getChainInfo(t),enabled:y(()=>!!e.value)})}function Ai(){return W({queryKey:["chains-txs"],queryFn:()=>Et.getTxs(),...ga()})}function Li(){return W({queryKey:["chains-users"],queryFn:()=>Et.getUsers(),...ga()})}const Ti=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),Ii=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),Vi=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),qi=e=>({timestamp:ke(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),Ua="https://api-py.llama.airforce/curve",Tt="https://prices.curve.fi";class Pi extends Te{async getMarkets(t,a){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${a}&per_page=10`)).data.map(Ti)}async getSnapshots(t,a){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Ii)}async getCrvUsdPriceHistogram(){return this.fetch(`${Ua}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}/supply`)).data.map(qi)}async getKeepers(t){return(await this.fetch(`${Tt}/v1/crvusd/pegkeepers/${t}`)).keepers.map(Vi)}async getYield(){return this.fetch(`${Ua}/v1/crvusd/yield`).then(t=>t.yields)}}const Fi=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),Di="https://prices.curve.fi";class ps extends Te{async getOHLC(t,a,s,n){const l=Math.floor(new Date().getTime()/1e3),i=Math.floor(l-72e5),c=`${Di}/v1/ohlc/${t}/${jt(a)}?main_token=${jt(s)}&reference_token=${jt(n)}&agg_number=1&agg_units=day&start=${i}&end=${l}`;return(await this.fetch(c)).data.map(Fi)}}const gt=new Pi,Bi=new ps;function Mi(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.address})}function Wt(){return{initialData:[],initialDataUpdatedAt:0}}function Ri(e,t){return{enabled:y(()=>!!e.value&&!0)}}function Ui(){return W({queryKey:["crvusd-supply"],queryFn:()=>gt.getCrvUsdSupply("ethereum"),...Wt()})}function Oi(){return W({queryKey:["crvusd-price-deviation"],queryFn:()=>gt.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Kt(e){return W({queryKey:["crvusd-market-snapshots",Mi(e)],queryFn:({queryKey:[,t]})=>gt.getSnapshots("ethereum",t),...Ri(e),...Wt()})}function Ei(e){return W({queryKey:["crvusd-keepers-prices",y(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async n=>{const r=n.pair.find(c=>c.symbol!=="crvUSD"),l=n.pair.find(c=>c.symbol==="crvUSD");return!r||!l?[]:(await Bi.getOHLC("ethereum",n.pool_address,r.address,l.address)).map(c=>({time:c.time,price:(c.high+c.low)/2,coin:r.symbol}))}),s=(await Promise.all(t)).flat().groupBy(n=>n.time).entries().map(([n,r])=>({timestamp:Number(n),...Object.fromEntries(r.map(l=>[l.coin,l.price]))}));return s.length>0?s:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function ya(){return W({queryKey:["crvusd-markets"],queryFn:()=>gt.getMarkets("ethereum",1),...Wt()})}function ms(){return W({queryKey:["crvusd-keepers"],queryFn:()=>gt.getKeepers("ethereum"),...Wt()})}const Wi={class:"kpis"},Ki=L({__name:"KPIs",setup(e){const t=new Rn,{data:a}=ya(),s=y(()=>a.value.reduce((c,d)=>c+d.borrowed,0)),{data:n}=ds(q("ethereum")),r=y(()=>{var c;return((c=n.value)==null?void 0:c.total.tvl)??0}),l=y(()=>{var c;return((c=n.value)==null?void 0:c.total.tradingVolume24h)??0}),{data:i}=W({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(c=>c.price),initialData:0,initialDataUpdatedAt:0});return(c,d)=>{const u=Y,v=pe;return _(),C("div",Wi,[m(v,{label:"CRV Price","has-value":!!o(i)},{default:b(()=>[m(u,{value:o(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{label:"crvUSD Borrowed","has-value":!!o(s)},{default:b(()=>[m(u,{value:o(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{label:"Total Value Locked","has-value":!!o(r)},{default:b(()=>[m(u,{value:o(r),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(v,{label:"24h Volume","has-value":!!o(l)},{default:b(()=>[m(u,{value:o(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Ni=T(Ki,[["__scopeId","data-v-9439060c"]]),xi="/assets/telegram-DU4d4zRw.webp",yt=e=>(H("data-v-b0a43d97"),e=e(),z(),e),Hi={class:"telegram-body"},zi=yt(()=>p("div",{class:"item crvUSD"}," This Telegram channel provides real-time updates on crvUSD transactions, including loan activity, collateral movements, peg maintenance, and major asset swaps on the Ethereum blockchain. It's a valuable resource for staying informed about crvUSD market dynamics and related metrics. ",-1)),Qi={class:"item crvUSD"},ji=yt(()=>p("li",null,"/list - List all your Ethereum addresses",-1)),Gi=yt(()=>p("li",null,"/removeAll - Remove all your Ethereum addresses",-1)),Xi=yt(()=>p("li",null,"/gib - Prints all your health stats",-1)),Yi=yt(()=>p("li",null,"/help - Show help message and some QoL commands",-1)),Yt="https://t.me/curve_monitor_backup",Zt="https://t.me/crvUSD_community_bot",Zi=L({__name:"TelegramModal",emits:["close"],setup(e,{emit:t}){const a=t;function s(n){window.open(n,"_blank")}return(n,r)=>{const l=R,i=Ne("emph"),c=Ut;return _(),A(c,{onClose:r[2]||(r[2]=d=>a("close"))},{default:b(()=>[p("div",Hi,[m(l,{title:"Curve Monitor",onClick:r[0]||(r[0]=fe(d=>s(Yt),["prevent"]))},{actions:b(()=>[p("a",{href:Yt},V(Yt))]),default:b(()=>[zi]),_:1}),m(l,{title:"crvUSD",onClick:r[1]||(r[1]=fe(d=>s(Zt),["prevent"]))},{actions:b(()=>[p("a",{href:Zt},V(Zt))]),default:b(()=>[p("div",Qi,[U(" Health Monitoring bot for Curve LlamaLend positions: "),p("ul",null,[p("li",null,[U("/add "),m(i,null,{default:b(()=>[U("address")]),_:1}),U(" - Add an Ethereum address")]),p("li",null,[U("/remove "),m(i,null,{default:b(()=>[U("address")]),_:1}),U(" - Remove an Ethereum address")]),ji,Gi,Xi,Yi])])]),_:1})])]),_:1})}}}),Ji=T(Zi,[["__scopeId","data-v-b0a43d97"]]),ec=e=>(H("data-v-b54a4475"),e=e(),z(),e),tc={class:"telegram"},ac=ec(()=>p("div",{class:"telegram-card"},[p("picture",null,[p("img",{class:"llama",src:xi})]),p("div",{class:"info"},[U(" Try our "),p("strong",null,"Telegram"),U(" bots and monitor channels to get notified about the latest liquidations and events. ")])],-1)),sc=L({__name:"Telegram",setup(e){const t=q(!1);return(a,s)=>{const n=R;return _(),C("div",tc,[m(n,{onClick:s[0]||(s[0]=r=>t.value=!0)},{default:b(()=>[ac]),_:1}),m(Ji,{show:o(t),onClose:s[1]||(s[1]=r=>t.value=!1)},null,8,["show"])])}}}),oc=T(sc,[["__scopeId","data-v-b54a4475"]]),nc=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function lc(e,t){const a=Math.round(e.value/1e3)-t;for(const{unit:s,seconds:n}of nc)if(a>=n){const r=Math.round(a/n);return`${r} ${r===1?s:s+"s"} ago`}return"just now"}function He(){const e=q(Date.now());return ve(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:a=>lc(e,a)}}const ge=e=>(H("data-v-e85444a6"),e=e(),z(),e),rc={class:"articles"},ic=ge(()=>p("div",{class:"title"},"Articles",-1)),cc={class:"articles-cards"},uc={class:"article"},dc=ge(()=>p("div",{class:"title"},"Who are Curve's Users?",-1)),pc=ge(()=>p("div",{class:"description"}," A look at the differences between users of Curve's products ",-1)),mc={class:"date"},vc=ge(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/curve-users/",target:"_blank"}," Read now ")],-1)),hc={class:"article"},_c=ge(()=>p("div",{class:"title"},"How to Do Cheaper, Approval-Free Swaps",-1)),fc=ge(()=>p("div",{class:"description"}," A deep dive into the exchange_received function on NG pools which allows users to trade without approvals and can significantly reduce transaction gas costs. ",-1)),gc={class:"date"},yc=ge(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/exchange-received/",target:"_blank"}," Read now ")],-1)),bc={class:"article"},wc=ge(()=>p("div",{class:"title"},"Impact of Dynamic Fees on MEV Activity",-1)),kc=ge(()=>p("div",{class:"description"}," This post compares MEV activity on StableSwap NG pools and pools with the original implementation. It explains dynamic fees and their impact on certain types of MEV activity. ",-1)),$c={class:"date"},Cc=ge(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/ng-mev/",target:"_blank"}," Read now ")],-1)),Sc={class:"article"},Ac=ge(()=>p("div",{class:"title"},"Parameter Ramping",-1)),Lc=ge(()=>p("div",{class:"description"}," Why aren't parameter changes on Curve pools applied instantly? This post dwelves into the reasons behind gradual parameter changes. ",-1)),Tc={class:"date"},Ic=ge(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/parameter-ramping/",target:"_blank"}," Read now ")],-1)),Vc=L({__name:"Articles",setup(e){const{relativeTime:t}=He();function a(s){window.open(s,"_blank")}return(s,n)=>{const r=R;return _(),C("div",rc,[ic,p("div",cc,[m(r,{onClick:n[0]||(n[0]=l=>a("https://blog.curvemonitor.com/posts/curve-users/"))},{default:b(()=>[p("div",uc,[dc,pc,p("div",mc,V(o(t)(1723586400)),1),vc])]),_:1}),m(r,{onClick:n[1]||(n[1]=l=>a("https://blog.curvemonitor.com/posts/exchange-received/"))},{default:b(()=>[p("div",hc,[_c,fc,p("div",gc,V(o(t)(1711234800)),1),yc])]),_:1}),m(r,{onClick:n[2]||(n[2]=l=>a("https://blog.curvemonitor.com/posts/ng-mev/"))},{default:b(()=>[p("div",bc,[wc,kc,p("div",$c,V(o(t)(1710025200)),1),Cc])]),_:1}),m(r,{onClick:n[3]||(n[3]=l=>a("https://blog.curvemonitor.com/posts/parameter-ramping/"))},{default:b(()=>[p("div",Sc,[Ac,Lc,p("div",Tc,V(o(t)(1707606e3)),1),Ic])]),_:1})])])}}}),qc=T(Vc,[["__scopeId","data-v-e85444a6"]]),vs=e=>(H("data-v-ef7b1d91"),e=e(),z(),e),Pc={class:"home"},Fc=vs(()=>p("div",{class:"description"},[p("span",{class:"title"},"Curve Monitor"),p("span",{class:"tag"}," Airdropping knowledge bombs about the Curve ecosystem. ")],-1)),Dc=vs(()=>p("img",{class:"llama",src:Qr},null,-1)),Bc={class:"highlights"},Mc=L({__name:"Home.page",setup(e){return(t,a)=>(_(),C("div",Pc,[Fc,Dc,p("div",Bc,[m(Ni),m(oc)]),m(qc,{style:{"grid-area":"articles"}})]))}}),Rc=T(Mc,[["__scopeId","data-v-ef7b1d91"]]),Uc={key:0,class:"item"},Oc=["src"],Ec={key:1,class:"empty"},Wc={class:"label"},Kc=L({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const a=t,s=q(!1),n=y(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(d=>!e.chains||e.chains.includes(d.chain))),r=y(()=>n.value.find(d=>d.chain===e.chain)??null),l=d=>d.label,i=()=>{s.value=!s.value},c=d=>{a("select-chain",d.chain)};return(d,u)=>{const v=ft;return _(),A(v,{class:"select",options:o(n),selected:o(r),open:o(s),onOpen:i,onClose:u[0]||(u[0]=h=>s.value=!1),onInput:c},{item:b(h=>[h.item?(_(),C("div",Uc,[o(Ra)(h.item.chain)?(_(),C("img",{key:0,src:o(Ra)(h.item.chain)},null,8,Oc)):(_(),C("div",Ec)),p("div",Wc,V(l(h.item)),1)])):D("",!0)]),_:1},8,["options","selected","open"])}}}),bt=T(Kc,[["__scopeId","data-v-72f8e421"]]),Nc=L({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const a=t,s=q(void 0);let n,r=null;G(s,(c,d)=>{e.target&&(c?l(e.target,c):d&&n&&i(e.target,n,d))});function l(c,d){n=c.parentNode,r=c.nextSibling,n&&(a("enterBefore",d),n.removeChild(c),d.appendChild(c),a("enter",d))}function i(c,d,u){a("exitBefore",u),u.removeChild(c),r?d.insertBefore(c,r):d.appendChild(c),a("exit",u)}return(c,d)=>{const u=Ut;return _(),A(u,null,{default:b(()=>[p("div",{ref_key:"modalRef",ref:s,class:"fullscreen-content"},null,512)]),_:1})}}}),hs=T(Nc,[["__scopeId","data-v-08e2932c"]]),xc=p("i",{class:"fas fa-expand"},null,-1),lt=L({__name:"BtnChartLWFullscreen",props:qe({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ot(e,"modelValue");let a=0,s=0;function n(){const l=e.chart.chartElement().parentElement;a=(l==null?void 0:l.clientHeight)??0,s=(l==null?void 0:l.clientWidth)??0}function r(){e.chart.applyOptions({height:a,width:s})}return(l,i)=>{const c=hs,d=he;return _(),A(d,{disabled:!l.chart,onClick:i[1]||(i[1]=u=>t.value=!t.value)},{default:b(()=>[xc,m(c,{target:l.target,show:t.value,onClose:i[0]||(i[0]=u=>t.value=!1),onEnterBefore:n,onExit:r},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Hc=(e,t)=>{const{colors:a}=t;return{width:e.clientWidth,height:e.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:Po.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:Fo.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ee(e,t,a){const s=Hc(e,t);return a?_a(s,a):s}function te(e){const{recreateChartTrigger:t,createChartOptions:a,series:s}=e,n={},r=Array.isArray(s)?s:[s],l=ca(void 0),i=ca(void 0);let c=null;ve(async()=>{if(!l.value)return;await ja();const d=Do(l.value,a(l.value));i.value=d;for(const u of r){const v=zc(d,u);n[u.name]=v}c=new ResizeObserver(u=>{const v=u[0].target;i.value&&l.value&&(i.value.applyOptions({width:v.clientWidth,height:v.clientHeight}),i.value.timeScale().fitContent())}),l.value.parentElement&&c.observe(l.value.parentElement)}),Dt(()=>{i.value&&(i.value.remove(),i.value=void 0),c&&(c.disconnect(),c=null)}),G(t,()=>{l.value&&i.value&&i.value.applyOptions(a(l.value))});for(const{name:d,options:u}of r)G(u,v=>{const h=n[d];h==null||h.applyOptions(v)});return{chart:i,chartRef:l,series:n}}function zc(e,{type:t,options:a}){return{Area:e.addAreaSeries.bind(e),Bar:e.addBarSeries.bind(e),Baseline:e.addBaselineSeries.bind(e),Line:e.addLineSeries.bind(e),Candlestick:e.addCandlestickSeries.bind(e),Histogram:e.addHistogramSeries.bind(e)}[t](a.value)}const Qc={class:"actions"},jc=L({__name:"ChartTxs",props:{txs:{}},setup(e){const{theme:t}=O(N()),a=q(!1),s=q(void 0),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:t,createChartOptions:c=>ee(c,t.value),series:{type:"Area",name:"txs",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${Q(c,0,"dollar")}${x(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.txs)return;const c=e.txs.map(d=>({time:d.timestamp,value:d.count})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc");l.txs.setData(c),n.value.timeScale().fitContent()}return(c,d)=>{const u=R;return _(),A(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Transactions"},{actions:b(()=>{var v;return[p("div",Qc,[m(o(lt),{modelValue:o(a),"onUpdate:modelValue":d[0]||(d[0]=h=>ae(a)?a.value=h:null),chart:o(n),target:(v=o(s))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},512)}}}),Gc=T(jc,[["__scopeId","data-v-db2dcf06"]]),Xc={class:"actions"},Yc=L({__name:"ChartUsers",props:{users:{}},setup(e){const{theme:t}=O(N()),a=q(!1),s=q(void 0),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:t,createChartOptions:c=>ee(c,t.value),series:{type:"Area",name:"users",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${Q(c,0,"dollar")}${x(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.users)return;const c=e.users.map(d=>({time:d.timestamp,value:d.count})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc");l.users.setData(c),n.value.timeScale().fitContent()}return(c,d)=>{const u=R;return _(),A(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Users"},{actions:b(()=>{var v;return[p("div",Xc,[m(o(lt),{modelValue:o(a),"onUpdate:modelValue":d[0]||(d[0]=h=>ae(a)?a.value=h:null),chart:o(n),target:(v=o(s))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},512)}}}),Zc=T(Yc,[["__scopeId","data-v-3e796ee5"]]),Jc=L({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,a)=>{const s=Ne("apexchart");return _(),A(s,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),Nt=T(Jc,[["__scopeId","data-v-b55fca0c"]]),eu=L({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,a)=>{const s=Nt,n=R;return _(),A(n,{class:"cart-chart",title:t.title,loading:t.loading},{actions:b(()=>[j(t.$slots,"actions",{},void 0,!0)]),default:b(()=>[m(s,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),j(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),Fe=T(eu,[["__scopeId","data-v-25a61ef4"]]),tu={class:"legend"},au=["onClick"],su={class:"label"},ou=L({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const a=t;return(s,n)=>(_(),C("div",tu,[(_(!0),C(Z,null,le(s.items,r=>(_(),C("div",{key:r.id,class:M(["item",{togglable:r.togglable,disabled:s.disabled.includes(r.id)}]),onClick:l=>{r.togglable&&a("toggle",r.id)}},[p("div",{class:"color",style:_e({"background-color":r.color})},null,4),p("div",su,V(r.label),1)],10,au))),128))]))}}),Ie=T(ou,[["__scopeId","data-v-c53e0ed6"]]),nu=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function $e(e,t){const a=nu(e);return t?_a(a,t):a}function Ve(e){const t=y(e),a=Bo(Mo(Object.fromEntries(t.value.map(n=>[n.id,!0])))),s=y(()=>t.value.filter(n=>!a[n.id].value).map(n=>n.id));return{items:t,toggles:a,disabled:s}}const lu={class:"actions"},ru=L({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{theme:t}=O(N()),a=y(()=>`Top Chains (${e.type==="all"?"All Types":_t(e.type)})`),{items:s,toggles:n,disabled:r}=Ve(()=>{const{blue:f,yellow:w}=t.value.colors;return[{id:"txs",label:"Transactions",color:f,togglable:!0},{id:"users",label:"Users",color:w,togglable:!0}]});function l(f){return f.groupBy(w=>w.chain).entries().map(([w,k])=>{const $=k.reduce((I,S)=>I+S.value,0);return{chain:w,count:$}}).orderBy(w=>w.count,"desc")}const i=y(()=>{const{colors:f}=t.value;return $e(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[f.blue,f.yellow],xaxis:{categories:u.value,labels:{formatter:h}},yaxis:{labels:{formatter:g}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>n.txs.value?l(e.txs):[]),d=y(()=>n.users.value?l(e.users):[]),u=y(()=>c.value.concat(d.value).orderBy(f=>f.count,"desc").map(f=>f.chain).uniq()),v=y(()=>{const f=u.value.map(k=>{const $=c.value.find(I=>I.chain===k);return $?$.count:0}),w=u.value.map(k=>{const $=d.value.find(I=>I.chain===k);return $?$.count:0});return[{data:n.txs.value?f:[]},{data:n.users.value?w:[]}]}),h=f=>f,g=f=>`${Q(f,0,"dollar")}${x(f,"dollar")}`;return(f,w)=>{const k=Ie,$=Fe;return _(),A($,{class:"chart",title:o(a),options:o(i),series:o(v)},{actions:b(()=>[p("div",lu,[m(k,{items:o(s),disabled:o(r),onToggle:w[0]||(w[0]=I=>o(n)[I].value=!o(n)[I].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}}),iu=T(ru,[["__scopeId","data-v-53c98af5"]]),cu={class:"actions"},uu=L({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{theme:t}=O(N()),a=y(()=>`Top Types (${e.chain==="all"?"All Chains":_t(e.chain)})`),{items:s,toggles:n,disabled:r}=Ve(()=>{const{blue:f,yellow:w}=t.value.colors;return[{id:"txs",label:"Transactions",color:f,togglable:!0},{id:"users",label:"Users",color:w,togglable:!0}]});function l(f){return f.groupBy(w=>w.type).entries().map(([w,k])=>{const $=k.reduce((I,S)=>I+S.value,0);return{type:w,count:$}}).orderBy(w=>w.count,"desc")}const i=y(()=>{const{colors:f}=t.value;return $e(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[f.blue,f.yellow],xaxis:{categories:u.value,labels:{formatter:h}},yaxis:{labels:{formatter:g}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>n.txs.value?l(e.txs):[]),d=y(()=>n.users.value?l(e.users):[]),u=y(()=>c.value.concat(d.value).orderBy(f=>f.count,"desc").map(f=>f.type).uniq()),v=y(()=>{const f=u.value.map(k=>{const $=c.value.find(I=>I.type===k);return $?$.count:0}),w=u.value.map(k=>{const $=d.value.find(I=>I.type===k);return $?$.count:0});return[{data:n.txs.value?f:[]},{data:n.users.value?w:[]}]}),h=f=>f,g=f=>`${Q(f,0,"dollar")}${x(f,"dollar")}`;return(f,w)=>{const k=Ie,$=Fe;return _(),A($,{class:"chart",title:o(a),options:o(i),series:o(v)},{actions:b(()=>[p("div",cu,[m(k,{items:o(s),disabled:o(r),onToggle:w[0]||(w[0]=I=>o(n)[I].value=!o(n)[I].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}}),du=T(uu,[["__scopeId","data-v-199b23b5"]]),pu={class:"item"},mu={class:"label"},vu=L({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const a=["all",...li],s=t,n=q(!1),r=q("all");function l(d){switch(d){case"all":return"All Types";case"crvusd":return"crvUSD";case"lending":return"Lending";case"pools":return"Pools";case"router":return"Router";case"dao":return"DAO"}}function i(){n.value=!n.value}function c(d){r.value=d,s("select",r.value)}return(d,u)=>{const v=ft;return _(),A(v,{class:"select",options:a.map(h=>h),selected:o(r),open:o(n),onOpen:i,onClose:u[0]||(u[0]=h=>n.value=!1),onInput:c},{item:b(h=>[p("div",pu,[p("div",mu,V(l(h.item)),1)])]),_:1},8,["options","selected","open"])}}}),hu=T(vu,[["__scopeId","data-v-abdd9a72"]]),_u={class:"chains"},fu={class:"toolbar"},gu={class:"activity"},yu=L({__name:"Chains.page",setup(e){const{show:t}=O(Pe());ve(()=>{t.value=!1});const a=be("chain"),s=y({get(){return a.value?a.value:"all"},set(B){a.value=B}}),n=y(()=>{const B=d.value.map(oe=>oe.chain).concat(v.value.map(oe=>oe.chain)).concat(s.value!=="all"?[s.value]:[]).uniq().orderBy(oe=>oe,"asc"),ie=["ethereum"],ce=B.difference(ie).orderBy(oe=>oe,"asc");return["all",...ie,...ce]}),r=be("type"),l=y({get(){return r.value?r.value:"all"},set(B){r.value=B}}),i=B=>{l.value=B},{isFetching:c,data:d}=Ai(),{isFetching:u,data:v}=Li();function h(B,ie,ce,oe){return B.filter(ne=>ie==="all"?!0:ne.chain===ie).filter(ne=>ce==="all"?!0:ne.type===ce).groupBy(ne=>ne.timestamp).entries().map(([ne,Qe])=>{const Ee=Qe.reduce((dt,Ht)=>dt+oe(Ht),0);return{timestamp:Number(ne),count:Ee}})}const g=y(()=>h(d.value,s.value,l.value,B=>B.transactions)),f=y(()=>h(v.value,s.value,l.value,B=>B.users));function w(B){const oe=Math.floor(Date.now()/1e3)-7*24*60*60,Qe=B.filter(Ee=>Ee.timestamp>=oe).reduce((Ee,dt)=>Ee+dt.count,0);return Math.round(Qe/7)}const k=y(()=>{var B;return((B=g.value.at(-1))==null?void 0:B.count)??0}),$=y(()=>w(g.value)),I=y(()=>{var B;return((B=f.value.at(-1))==null?void 0:B.count)??0}),S=y(()=>w(f.value));function P(B,ie,ce,oe){return B.filter(ne=>ie==="all"?!0:ne.chain===ie).filter(ne=>ce==="all"?!0:ne.type===ce).map(ne=>({chain:ne.chain,type:ne.type,value:oe(ne)}))}const F=y(()=>P(d.value,"all",l.value,B=>B.transactions)),K=y(()=>P(v.value,"all",l.value,B=>B.users)),Ce=y(()=>P(d.value,s.value,"all",B=>B.transactions)),Oe=y(()=>P(v.value,s.value,"all",B=>B.users));return(B,ie)=>{const ce=Y,oe=pe;return _(),C("div",_u,[(_(),A(Bt,{to:"#toolbar"},[p("div",fu,[m(o(hu),{style:{"grid-area":"type"},onSelect:i}),m(bt,{style:{"grid-area":"chain"},class:"chain-select",chain:o(s),chains:o(n),all:!0,onSelectChain:ie[0]||(ie[0]=ne=>s.value=ne)},null,8,["chain","chains"])])])),p("div",gu,[m(oe,{style:{"grid-area":"kpi1"},label:"Transactions Today","has-value":!!o(c)},{default:b(()=>[m(ce,{type:"dollar",value:o(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(oe,{style:{"grid-area":"kpi2"},label:"Avg Transactions / 7 Days","has-value":!!o(c)},{default:b(()=>[m(ce,{type:"dollar",value:o($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(oe,{style:{"grid-area":"kpi3"},label:"Avg Users / 7 Days","has-value":!!o(u)},{default:b(()=>[m(ce,{type:"dollar",value:o(I),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(oe,{style:{"grid-area":"kpi4"},label:"Users Today","has-value":!!o(u)},{default:b(()=>[m(ce,{type:"dollar",value:o(S),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(o(Gc),{style:{"grid-area":"txs"},txs:o(g),loading:o(c)},null,8,["txs","loading"]),m(o(Zc),{style:{"grid-area":"users"},users:o(f),loading:o(u)},null,8,["users","loading"]),m(o(iu),{style:{"grid-area":"top-chains"},type:o(l),txs:o(F),users:o(K),loading:o(c)||o(u)},null,8,["type","txs","users","loading"]),m(o(du),{style:{"grid-area":"top-types"},chain:o(s),txs:o(Ce),users:o(Oe),loading:o(c)||o(u)},null,8,["chain","txs","users","loading"])])])}}}),bu=T(yu,[["__scopeId","data-v-d951844b"]]),wu=e=>(H("data-v-a8bfcf8d"),e=e(),z(),e),ku={class:"input-text"},$u={key:0,class:"icon"},Cu=wu(()=>p("i",{class:"fas fa-search"},null,-1)),Su=[Cu],Au=["type","value","placeholder"],Lu=["onClick"],Tu=L({__name:"InputText",props:qe({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:qe(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const a=ot(e,"modelValue"),s=t,n=y(()=>{const l=e.options.filter(c=>e.filter(a.value,c));return e.sort?[...l].sort(e.sort):l}),r=l=>{const i=l.target.value;a.value=i,s("input",i)};return(l,i)=>(_(),C("div",ku,[l.search?(_(),C("span",$u,Su)):D("",!0),p("input",{type:l.search?"search":"text",value:a.value,placeholder:l.placeholder,onInput:fe(r,["stop"]),onSelect:i[0]||(i[0]=fe(()=>{},["stop"]))},null,40,Au),l.options&&l.autoComplete?(_(),C("div",{key:1,class:M(["items",{selectHide:!l.autoComplete}])},[(_(!0),C(Z,null,le(o(n),(c,d)=>(_(),C("div",{key:d,onClick:u=>s("select",c)},[j(l.$slots,"item",{item:c,idx:d},()=>[U(V(c),1)],!0)],8,Lu))),128))],2)):D("",!0)]))}}),Ae=T(Tu,[["__scopeId","data-v-a8bfcf8d"]]),Iu=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),Oa=e=>{var t,a;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(s=>({poolIndex:s.pool_index,symbol:s.symbol,address:s.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((a=e.pool_methods)==null?void 0:a.map(s=>s))??[]}},Vu=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),qu=e=>({timestamp:e.timestamp,tvlUSD:e.tvl_usd??0}),Jt="https://prices.curve.fi";class Pu extends rs{async getPools(t){const a=await this.getHost(),s=await this.fetch(`${a}/chains/${t}`);return{chain:s.chain,totals:Iu(s.total),pools:s.data.map(Oa)}}async getPool(t,a){const s=await this.fetch(`${Jt}/v1/pools/${t}/${a}`);return Oa(s)}async getVolume(t,a){const n=Math.floor(new Date().getTime()/1e3),r=Math.floor(n-72e5);return(await this.fetch(`${Jt}/v1/volume/usd/${t}/${a}?interval=day&start=${r}&end=${n}`)).data.map(Vu)}async getTvl(t,a){const n=Math.floor(new Date().getTime()/1e3),r=Math.floor(n-72e5);return(await this.fetch(`${Jt}/v1/snapshots/${t}/${a}/tvl?interval=day&start=${r}&end=${n}`)).data.map(qu)}}const Fu=["cb","laf","cm","pm","pm-lrt"];function Du(){const e="cm";if(!Fu.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Se({text:t,type:"error"}),new Error(t)}return e}const It={};function Bu(e){return Fn[e]}async function _s(e){const t=Du(),a=t;if(It[a])return Promise.resolve(It[a]);const s=Bu(t);return It[a]=s,It[a]}const wt=new Pu(_s());function Mu(e){return W({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>wt.getPools(t),placeholderData:Mt,enabled:y(()=>!!e.value)})}function Ru(e,t){return W({queryKey:["curve-pool",t],queryFn:async({queryKey:[,a]})=>wt.getPool(e.value,a),enabled:y(()=>!!e.value)})}function Uu(e,t){const a=y(()=>t.value.map(s=>({queryKey:["curve-pool",s],queryFn:()=>wt.getPool(e.value,s),enabled:y(()=>!!e.value)})));return Ro({queries:a})}function Ou(e,t){return W({queryKey:["curve-pool-volume",t],queryFn:async({queryKey:[,a]})=>wt.getVolume(e.value,a),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}function Eu(e,t){return W({queryKey:["curve-pool-tvl",t],queryFn:async({queryKey:[,a]})=>wt.getTvl(e.value,a),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const Wu=["src"],Ku=["href"],Nu=["src"],xu=L({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=q("");function a(r){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${r}.png`}const s=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};G(()=>e.address,r=>{t.value=a(r.toLowerCase())},{immediate:!0});const n=y(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(r,l)=>r.clickable?(_(),C("a",{key:1,target:"_blank",href:o(n)},[p("img",{src:t.value,onError:s},null,40,Nu)],8,Ku)):(_(),C("img",{key:0,src:t.value,onError:s},null,40,Wu))}}),Le=T(xu,[["__scopeId","data-v-e852da0c"]]),ba=e=>(H("data-v-1322d4c0"),e=e(),z(),e),Hu={key:0},zu=ba(()=>p("button",null,"1",-1)),Qu=[zu],ju=ba(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),Gu=[ju],Xu=["onClick"],Yu=ba(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),Zu=[Yu],Ju=L({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const a=t,s=y(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),n=y(()=>{const v=[...Array(12).keys()].map($=>$-6+e.page).filter($=>$>=1&&$<=s.value),h=v.findIndex($=>$===e.page),g=[],f=[],w=e.page!==1&&e.page!==s.value?[e.page]:[];let k=1;for(;;){const $=v[h-k];if($&&$!==1&&g.unshift($),g.length+f.length+w.length>=5||k>v.length)break;const I=v[h+k];if(I&&I!==s.value&&f.push(I),k++,g.length+f.length+w.length>=5||k>v.length)break}return[...g,...w,...f]});G(n,()=>{const d=r(e.page,1,s.value);e.page!==d&&a("page",d)});const r=(d,u,v)=>(v<u&&(v=u),Math.min(Math.max(d,u),v)),l=()=>a("page",r(e.page-1,1,s.value)),i=()=>a("page",r(e.page+1,1,s.value)),c=d=>a("page",r(d,1,s.value));return(d,u)=>o(s)>1?(_(),C("ul",Hu,[p("li",{class:M({active:d.page===1}),onClick:u[0]||(u[0]=v=>c(1))},Qu,2),o(s)>2?(_(),C("li",{key:0,onClick:l},Gu)):D("",!0),(_(!0),C(Z,null,le(o(n),(v,h)=>(_(),C("li",{key:h,class:M({active:v===d.page}),onClick:g=>c(v)},[p("button",null,V(v),1)],10,Xu))),128)),o(s)>2?(_(),C("li",{key:1,onClick:i},Zu)):D("",!0),o(s)>1?(_(),C("li",{key:2,class:M({active:d.page===o(s)}),onClick:u[1]||(u[1]=v=>c(o(s)))},[p("button",null,V(o(s)),1)],2)):D("",!0)])):D("",!0)}}),Be=T(Ju,[["__scopeId","data-v-1322d4c0"]]);function kt(e,t){const a=q(e),s=q("desc"),n=(l,i)=>{a.value=l,s.value=i},r=y(()=>({column:a.value,order:s.value}));return{sortColumn:a,sortOrder:s,sorting:r,onSort:n}}function xt(e,t){const a=q(1),s=y(()=>e.value.drop((a.value-1)*t).take(t)),n=r=>{a.value=r};return G(s,r=>{r.length===0&&(a.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:a,rowsPage:s,onPage:n}}function wa(){const e=q(1);return{page:e,onPage:a=>{e.value=a}}}const ed={class:"tokens"},td={class:"end"},ad={class:"end"},sd={class:"end"},Ea=20,od=L({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const a=t,s=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:n,onSort:r}=kt("tvl"),l=y(()=>e.pools.orderBy(v=>{switch(n.value.column){case"name":return v.name;case"volume":return v.tradingVolume24h;case"tvl":return v.tvlUsd;case"util":return u(v)}},n.value.order)),{page:i,rowsPage:c,onPage:d}=xt(l,Ea);function u(v){return v.tvlUsd!==0?100*v.tradingVolume24h/v.tvlUsd:0}return(v,h)=>{const g=Be,f=Le,w=Y,k=se,$=R;return _(),A($,{title:"Pools"},{actions:b(()=>[m(g,{"items-count":v.pools.length,"items-per-page":Ea,page:o(i),onPage:o(d)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(k,{class:"pools-table","expand-side":"left",rows:o(c),columns:s,sorting:o(n),onSortColumn:o(r),onSelected:h[0]||(h[0]=I=>a("selected",I))},{row:b(({item:I})=>[p("div",ed,[(_(!0),C(Z,null,le(I.coins,S=>(_(),A(f,{key:S.address,chain:v.chain,address:S.address},null,8,["chain","address"]))),128))]),p("div",null,V(I.name),1),p("div",td,[m(w,{value:I.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",ad,[m(w,{value:I.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",sd,[m(w,{value:u(I),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":b(()=>[U("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),nd=T(od,[["__scopeId","data-v-2f78c210"]]),ld={class:"pools"},rd={class:"toolbar"},id=L({__name:"Pools.page",setup(e){const t=["ethereum","arbitrum"],a=be("chain"),s=y({get(){return a.value?a.value:"ethereum"},set(f){a.value=f}}),n=q(""),{isFetching:r,data:l}=ds(s),{isFetching:i,data:c}=Mu(s),d=y(()=>{var f;return(((f=c.value)==null?void 0:f.pools)??[]).filter(w=>{const k=n.value.toLocaleLowerCase().split(" "),$=I=>k.some(S=>I.toLocaleLowerCase().includes(S));return $(w.name)||$(w.address)})}),{show:u,crumbs:v}=O(Pe());ve(()=>{u.value=!0,v.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const h=st(),g=async f=>{await h.push({name:"poolspool",params:{tab:"",chain:s.value,poolAddr:f.address}})};return(f,w)=>{const k=Ae,$=Y,I=pe;return _(),C("div",ld,[(_(),A(Bt,{to:"#toolbar"},[p("div",rd,[m(k,{modelValue:o(n),"onUpdate:modelValue":w[0]||(w[0]=S=>ae(n)?n.value=S:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(bt,{class:"chain-select",chain:o(s),chains:t,onSelectChain:w[1]||(w[1]=S=>s.value=S==="all"?"ethereum":S)},null,8,["chain"])])])),m(I,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(r)},{default:b(()=>{var S;return[m($,{value:((S=o(l))==null?void 0:S.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(I,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(r)},{default:b(()=>{var S;return[m($,{value:((S=o(l))==null?void 0:S.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(I,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(r)},{default:b(()=>{var S;return[m($,{value:((S=o(l))==null?void 0:S.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(I,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(r)},{default:b(()=>{var S;return[m($,{value:((S=o(l))==null?void 0:S.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(nd),{style:{"grid-area":"pools"},chain:o(s),pools:o(d),loading:o(i),onSelected:g},null,8,["chain","pools","loading"])])}}}),cd=T(id,[["__scopeId","data-v-c5404b72"]]),ud={class:"tab-view"},dd={class:"tab-headers"},pd=["onClick"],md={class:"tabs"},vd=L({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const a=t,s=q(null),n=Ga(),r=y(()=>(n.default?n.default():[]).filter(c=>c.props));G(()=>e.active,i=>{s.value=i,a("tab",{tab:r.value[i],index:s.value})},{immediate:!0});const l=(i,c)=>{i.props.disabled||(s.value=c,a("tab",{tab:r.value[c],index:s.value}))};return(i,c)=>(_(),C("div",ud,[p("ul",dd,[(_(!0),C(Z,null,le(o(r),(d,u)=>(_(),C("li",{key:u,class:M(["tab-header",{active:o(s)===u,disabled:d.props.disabled}]),onClick:v=>l(d,u)},V(d.props.header),11,pd))),128))]),p("div",md,[(_(!0),C(Z,null,le(o(r),(d,u)=>va((_(),C("div",{key:u,class:"tab"},[(_(),A(da(d)))])),[[Uo,o(s)===u]])),128))])]))}}),Me=T(vd,[["__scopeId","data-v-0fb1a0bc"]]),Re=L({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,a)=>j(t.$slots,"default")}}),hd=new ps;function _d(e,t,a,s){return W({queryKey:["curve-token-price",t,a,s],queryFn:({queryKey:[,n,r,l]})=>hd.getOHLC(e.value,n,r,l),enabled:y(()=>!!e.value&&!!t.value&&!!a.value&&!!s.value),initialData:[],initialDataUpdatedAt:0})}const fd=L({__name:"ButtonToggle",props:qe({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:qe(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=ot(e,"modelValue"),s=t,n=()=>{const r=!a.value;a.value=r,s("change",r)};return(r,l)=>(_(),C("button",{class:M({toggled:a.value}),onClick:n},[j(r.$slots,"default",{},()=>[r.icon?(_(),C("i",{key:0,class:M(["icon",r.icon])},null,2)):D("",!0),U(" "+V(r.value),1)],!0)],2))}}),$t=T(fd,[["__scopeId","data-v-b6760b51"]]),gd={class:"controls"},yd=L({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{theme:t}=O(N()),a=q(!1);let s=1,n=0;const{chart:r,chartRef:l,series:i}=te({recreateChartTrigger:t,createChartOptions:u=>ee(u,t.value),series:{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:u}=t.value;return{priceFormat:{type:"custom",formatter:d},upColor:u.green,borderUpColor:u.green,wickUpColor:u.green,downColor:u.red,borderDownColor:u.red,wickDownColor:u.red}})}});J(c);function c(){if(!r.value||!i.ohlc)return;const u=a.value?-1:1,v=e.ohlc.map(h=>({time:h.time,open:Math.pow(h.open,u),high:Math.pow(h.high,u),low:Math.pow(h.low,u),close:Math.pow(h.close,u)})).uniqWith((h,g)=>h.time===g.time).orderBy(h=>h.time,"asc");v.length>0&&(i.ohlc.setData(v),n=Math.min(...v.map(h=>h.low)),s=Math.max(...v.map(h=>h.high))),r.value.timeScale().fitContent()}function d(u){const v=s-n,h=v>1?v-Math.floor(v):v,g=-Math.floor(Math.log10(h)+1)+2;return`${Q(u,g,"dollar")}${x(u,"dollar")}`}return(u,v)=>{const h=$t,g=R;return _(),A(g,{class:"chart-container",title:"Price"},{actions:b(()=>[p("div",gd,[m(h,{value:"Invert","model-value":o(a),onClick:v[0]||(v[0]=f=>a.value=!o(a))},null,8,["model-value"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1})}}}),bd=T(yd,[["__scopeId","data-v-208f081b"]]),wd=L({__name:"ChartVolume",props:{volume:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`$${Q(l,1,"dollar")}${x(l,"dollar")}`},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(r);function r(){if(!a.value||!n.volume)return;const l=e.volume.map(i=>({time:i.timestamp,value:i.volume})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.volume.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=R;return _(),A(c,{class:"chart-container",title:"Volume"},{default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),kd=T(wd,[["__scopeId","data-v-05a20892"]]),$d=L({__name:"ChartTvl",props:{tvl:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Area",name:"tvl",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`$${Q(l,1,"dollar")}${x(l,"dollar")}`},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(r);function r(){if(!a.value||!n.tvl)return;const l=e.tvl.map(i=>({time:i.timestamp,value:i.tvl})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.tvl.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=R;return _(),A(c,{class:"chart-container",title:"TVL"},{default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Cd=T($d,[["__scopeId","data-v-d072e37a"]]),Sd={class:"pool-overview"},Ad={class:"tokens"},Ld=L({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const t=y(()=>{var h;return(h=e.pool)==null?void 0:h.address}),a=y(()=>{var h;return(h=e.pool)==null?void 0:h.coins[0].address}),s=y(()=>{var h;return(h=e.pool)==null?void 0:h.coins[1].address}),{isFetching:n,data:r}=_d(E(()=>e.chain),t,a,s),{isFetching:l,data:i}=Ou(E(()=>e.chain),t),{isFetching:c,data:d}=Eu(E(()=>e.chain),t),u=y(()=>i.value.map(h=>({timestamp:h.timestamp,volume:h.volume}))),v=y(()=>d.value.map(h=>({timestamp:h.timestamp,tvl:h.tvlUSD})));return(h,g)=>{const f=Le,w=pe,k=Y;return _(),C("div",Sd,[m(w,{style:{"grid-area":"kpi1"},label:"Tokens","has-value":!!h.pool},{default:b(()=>{var $;return[p("div",Ad,[(_(!0),C(Z,null,le((($=h.pool)==null?void 0:$.coins)??[],I=>(_(),A(f,{key:I.address,chain:h.chain,address:I.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["has-value"]),m(w,{style:{"grid-area":"kpi2"},label:"TVL","has-value":!!h.pool},{default:b(()=>{var $;return[m(k,{value:(($=h.pool)==null?void 0:$.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(w,{style:{"grid-area":"kpi3"},label:"Volume (24h)","has-value":!!h.pool},{default:b(()=>{var $;return[m(k,{value:(($=h.pool)==null?void 0:$.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(w,{style:{"grid-area":"kpi4"},label:"Fees (24h)","has-value":!!h.pool},{default:b(()=>{var $;return[m(k,{value:(($=h.pool)==null?void 0:$.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(bd),{style:{"grid-area":"price"},ohlc:o(r),loading:o(n)},null,8,["ohlc","loading"]),m(o(kd),{style:{"grid-area":"volume"},volume:o(u),loading:o(l)},null,8,["volume","loading"]),m(o(Cd),{style:{"grid-area":"tvl"},tvl:o(v),loading:o(c)},null,8,["tvl","loading"])])}}}),Td=T(Ld,[["__scopeId","data-v-d0ed3f63"]]),Id={},Vd={class:"mev"};function qd(e,t){return _(),C("div",Vd,"MEV goes here")}const Pd=T(Id,[["render",qd],["__scopeId","data-v-1b58cb9c"]]);function rt(e,t,a){const s=st(),n=be("tab",e[0]),r=q(-1);return G(n,l=>r.value=e.findIndex(i=>i===l),{immediate:!0}),G(r,async l=>{l===-1&&(l=0),await s.push({name:t,params:{tab:e[l],...(a==null?void 0:a())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:r}}const Fd={class:"pool"},Dd=L({__name:"Pool.page",setup(e){const{show:t,crumbs:a}=O(Pe()),s=be("chain"),n=be("poolAddr"),{isFetching:r,data:l}=Ru(s,n.value);G(l,d=>{a.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:s.value})},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ve(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:c}=rt(["overview","mev"],"poolspool",()=>({chain:s.value,poolAddr:n.value}));return(d,u)=>{const v=nt,h=Re,g=Me;return _(),C("div",Fd,[m(v,{class:M(["spinner",{loading:o(r)}])},null,8,["class"]),!o(r)&&o(l)?(_(),A(g,{key:0,active:o(c),onTab:u[0]||(u[0]=f=>c.value=f.index)},{default:b(()=>[m(h,{header:"Overview"},{default:b(()=>[(_(),A(de,null,[o(i)==="overview"?(_(),A(Td,{key:0,pool:o(l),chain:o(s)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1}),m(h,{header:"MEV"},{default:b(()=>[(_(),A(de,null,[o(i)==="mev"?(_(),A(Pd,{key:0,pool:o(l),chain:o(s)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),Bd=T(Dd,[["__scopeId","data-v-5ee3289f"]]),Md=e=>({week:e.week,label:e.label,total_fees:e.total_fees}),Rd=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),Ud=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),Od=e=>({timestamp:ke(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),Ed=e=>({timestamp:ke(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),Wd=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),Kd=e=>({timestamp:ke(e.timestamp),feesUsd:e.fees_usd}),Nd=e=>({timestamp:ke(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),xd=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Hd=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),ea="https://api-py.llama.airforce/curve/v1",ta="https://prices.curve.fi";class zd extends rs{async getBreakdown(t){return(await this.fetch(`${ea}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(Md)}async getByChain(t){return(await this.fetch(`${ea}/protocol/revenue/chains`,void 0,t)).revenue.map(Rd)}async getTopPools(t,a=10){const s=t==="ethereum"?"mainnet":t;return(await this.fetch(`${ea}/protocol/revenue/${s}/toppools/${a}`)).revenue.map(Ud)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(Od)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(Ed)}async getCushions(t){return(await this.fetch(`${ta}/v1/dao/fees/${t}/pending`)).data.map(Wd)}async getDistributions(){return await ss(s=>this.fetch(`${ta}/v1/dao/fees/distributions?page=${s}&per_page=100`).then(n=>n.distributions.map(Kd)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${ta}/v1/dao/fees/settlements${t?"?timestamp="+t.toString():""}`)).data.map(Nd)}async getFeesCollected(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-collected`)).data.map(xd)}async getFeesStaged(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-staged`)).data.map(Hd)}}const Ue=new zd(_s());function ze(){return{initialData:[],initialDataUpdatedAt:0}}function Qd(e){return W({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>Ue.getCushions(t).then(a=>a.sort((s,n)=>n.usdValue-s.usdValue)),...ze()})}function jd(e){return W({queryKey:["curve-revenue-top-pools",e],queryFn:({queryKey:[,t]})=>Ue.getTopPools(t),...ze()})}function Gd(){return W({queryKey:["curve-revenue-chain"],queryFn:()=>Ue.getByChain().then(e=>e.sort((t,a)=>a.totalDailyFeesUSD-t.totalDailyFeesUSD)),...ze()})}function Xd(){return W({queryKey:["curve-revenue-breakdown"],queryFn:()=>Ue.getBreakdown(),...ze()})}function Yd(){return W({queryKey:["curve-revenue-distributions"],queryFn:()=>Ue.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function Zd(){return W({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>Ue.getCowSwapSettlements(),...ze()})}function Jd(){return W({queryKey:["curve-revenue-fees-collected"],queryFn:()=>Ue.getFeesCollected(),...ze()})}function ep(){return W({queryKey:["curve-revenue-fees-staged"],queryFn:()=>Ue.getFeesStaged(),...ze()})}const tp=e=>(H("data-v-8fedb755"),e=e(),z(),e),ap={class:"actions"},sp=tp(()=>p("div",null," DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP ",-1)),op=L({__name:"ChartBreakdown",setup(e){const{theme:t}=O(N()),{items:a}=Ve(()=>[{id:"dao",label:"DAO",color:t.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:t.value.colorsArray[1]}]),{isFetching:s,data:n}=Xd(),r=y(()=>{const{colors:h,colorsArray:g}={colors:t.value.colors,colorsArray:[t.value.colorsArray[0],v(t.value.colorsArray[0],10),v(t.value.colorsArray[0],20),t.value.colorsArray[1],v(t.value.colorsArray[1],10)]};return $e({colors:h,colorsArray:g},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:i.value,labels:{formatter:d,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:u},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),l=y(()=>n.value.groupBy(h=>h.week).entries().map(([,h])=>({week:h[0].week,numLabels:h.length})).orderBy(h=>h.week,"asc").dropWhile(h=>h.numLabels<3).map(h=>h.week)),i=y(()=>l.value.map(h=>new Date(h*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=y(()=>n.value.groupBy(h=>h.label).entries().map(([h,g])=>({name:h,data:l.value.map(f=>({week:f,breakdown:g.find(w=>w.week===f)})).map(f=>{var w;return{x:new Date(f.week*1e3).toLocaleDateString(),y:((w=f.breakdown)==null?void 0:w.total_fees)??0}})})).orderBy(h=>h.name,"asc")),d=h=>h,u=h=>`$${Q(h,0,"dollar")}${x(h,"dollar")}`,v=(h,g)=>{let[f,w,k]=[h.slice(1,3),h.slice(3,5),h.slice(5,7)].map(I=>parseInt(I,16));const $=(I,S)=>Math.min(255,Math.max(0,S+Math.round(2.55*I)));return f=$(g,f),w=$(g,w),k=$(g,k),`#${f.toString(16).padStart(2,"0")}${w.toString(16).padStart(2,"0")}${k.toString(16).padStart(2,"0")}`};return(h,g)=>{const f=Ie,w=Ot,k=Fe;return _(),A(k,{class:"chart",title:"Revenue breakdown by source",options:o(r),series:o(c),loading:o(s)},{actions:b(()=>[p("div",ap,[m(f,{items:o(a)},null,8,["items"]),m(w,null,{default:b(()=>[sp]),_:1})])]),_:1},8,["options","series","loading"])}}}),np=T(op,[["__scopeId","data-v-8fedb755"]]),lp=L({__name:"ChartChain",setup(e){const{theme:t}=O(N()),{isFetching:a,data:s}=Gd(),n=y(()=>$e(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:i=>{const c=i.w.globals.labels[i.seriesIndex],d=i.series[i.seriesIndex][0];return[`<div><b>${c}</b>:</div><div>${l(d)}</div>`].join("")}},labels:s.value.map(i=>i.chain)})),r=y(()=>s.value.map(i=>i.totalDailyFeesUSD)),l=i=>`$${Q(Math.abs(i),1,"dollar")}${x(i,"dollar")}`;return(i,c)=>{const d=Fe;return _(),A(d,{class:"chart",title:"Total revenue by chain",options:o(n),series:o(r),loading:o(a)},null,8,["options","series","loading"])}}}),rp=T(lp,[["__scopeId","data-v-b03db282"]]),ip=L({__name:"ChartTopPools",setup(e){const{theme:t}=O(N()),a=q("ethereum"),{isFetching:s,data:n}=jd(a),r=y(()=>$e(t.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:n.value.map(d=>d.name),labels:{formatter:i}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:i,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));ve(()=>{c("ethereum")});const l=y(()=>[{data:n.value.map(d=>d.totalDailyFeesUSD)}]),i=d=>`$${Q(Math.abs(d),1,"dollar")}${x(d,"dollar")}`,c=d=>{d!=="all"&&(a.value=d)};return(d,u)=>{const v=Fe;return _(),A(v,{class:"graph",title:"Top 10 pools by revenue (last 7 days)",options:o(r),series:o(l),loading:o(s)},{actions:b(()=>[p("div",{class:M(["selector",{loading:o(s)}])},[m(bt,{chain:o(a),onSelectChain:c},null,8,["chain"])],2)]),_:1},8,["options","series","loading"])}}}),cp=T(ip,[["__scopeId","data-v-bca33465"]]),up={class:"revenue-charts"},dp=L({__name:"Dashboard",setup(e){return(t,a)=>(_(),C("div",up,[m(np,{style:{"grid-area":"breakdown"},class:"breakdown"}),m(rp,{style:{"grid-area":"chain"},class:"chain"}),m(cp,{style:{"grid-area":"top-pools"}})]))}}),pp=T(dp,[["__scopeId","data-v-603b54ec"]]),mp={class:"end"},vp=L({__name:"TableDistributions",props:{distributions:{}},setup(e){const t=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:a,onSort:s}=kt("timestamp"),n=y(()=>e.distributions.orderBy(l=>{switch(a.value.column){case"timestamp":return l.timestamp;case"fees":return l.feesUsd}},a.value.order));function r(l){return new Date(l*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(l,i)=>{const c=Y,d=se,u=R;return _(),A(u,{title:"Distributions"},{default:b(()=>[m(d,{class:"distributions-table",rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:{timestamp:v,feesUsd:h}})=>[p("div",null,V(r(v)),1),p("div",mp,[m(c,{value:h,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),hp=T(vp,[["__scopeId","data-v-7e3c6121"]]),_p={class:"actions"},fp=L({__name:"ChartDistributions",props:{distributions:{}},setup(e){const{theme:t}=O(N()),a=q(!1),s=q(void 0),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:t,createChartOptions:c=>ee(c,t.value),series:{type:"Histogram",name:"distributions",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${x(c,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.distributions)return;const c=e.distributions.map(d=>({time:d.timestamp,value:d.feesUsd})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc").takeRight(52);if(c.length>0){l.distributions.setData(c);const d=c[0].time,u=c[c.length-1].time;n.value.timeScale().setVisibleRange({from:d,to:u})}}return(c,d)=>{const u=R;return _(),A(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Distributions (1y)"},{actions:b(()=>{var v;return[p("div",_p,[m(o(lt),{modelValue:o(a),"onUpdate:modelValue":d[0]||(d[0]=h=>ae(a)?a.value=h:null),chart:o(n),target:(v=o(s))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},512)}}}),gp=T(fp,[["__scopeId","data-v-6eb65d1c"]]),yp={class:"actions"},bp=L({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const{theme:t}=O(N()),a=q(!1),s=q(void 0),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:t,createChartOptions:c=>ee(c,t.value),series:{type:"Histogram",name:"deltas",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${x(c,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.deltas)return;const{colors:c}=t.value,d=e.distributions.map(u=>({time:u.timestamp,value:u.feesUsd})).uniqWith((u,v)=>u.time===v.time).orderBy(u=>u.time,"asc").takeRight(53).reduce((u,v,h,g)=>{if(h===0)return u;const f=v.value-g[h-1].value,w=f<0?c.red:c.green;return u.push({time:v.time,value:f,color:w}),u},[]);if(d.length>0){l.deltas.setData(d);const u=d[0].time,v=d[d.length-1].time;n.value.timeScale().setVisibleRange({from:u,to:v})}}return(c,d)=>{const u=R;return _(),A(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Distributions Change (1y)"},{actions:b(()=>{var v;return[p("div",yp,[m(o(lt),{modelValue:o(a),"onUpdate:modelValue":d[0]||(d[0]=h=>ae(a)?a.value=h:null),chart:o(n),target:(v=o(s))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},512)}}}),wp=T(bp,[["__scopeId","data-v-84bafe91"]]),kp={class:"distributions"},$p=L({__name:"Distributions",setup(e){const{isFetching:t,data:a}=Yd(),s=y(()=>a.value.sumBy(l=>l.feesUsd)),n=y(()=>a.value.orderBy(l=>l.timestamp,"desc").take(52).meanBy(l=>l.feesUsd)),r=y(()=>{const l=a.value.orderBy(d=>d.timestamp,"desc").take(52).map(d=>d.feesUsd),i=l.meanBy(d=>d),c=l.map(d=>Math.pow(d-i,2));return Math.sqrt(c.sumBy(d=>d)/(l.length-1))});return(l,i)=>{const c=Y,d=pe;return _(),C("div",kp,[m(d,{style:{"grid-area":"kpi1"},label:"Total","has-value":o(a).length>0},{default:b(()=>[m(c,{value:o(s),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi2"},label:"Average (1y)","has-value":o(a).length>0},{default:b(()=>[m(c,{value:o(n),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi3"},label:"Standard Deviation (1y)","has-value":o(a).length>0},{default:b(()=>[m(c,{value:o(r),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(gp,{style:{"grid-area":"chart"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"]),m(wp,{style:{"grid-area":"delta"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"]),m(hp,{style:{"grid-area":"table"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"])])}}}),Cp=T($p,[["__scopeId","data-v-323bca14"]]),fs=e=>(H("data-v-657998a2"),e=e(),z(),e),Sp=["href"],Ap={class:"end"},Lp=fs(()=>p("div",null,null,-1)),Tp=fs(()=>p("div",null,null,-1)),Ip={class:"end"},Vp=L({__name:"TableCushions",setup(e){const t=q(""),a=y(()=>r.value||c.value),s=q("ethereum"),{data:n,isFetching:r}=Si(),l=y(()=>i.value.filter(u=>u.usdValue>100).filter(u=>{const v=t.value.toLocaleLowerCase().split(" "),h=g=>v.some(f=>g.toLocaleLowerCase().includes(f));return h(u.pool)||h(u.name)})),{data:i,isFetching:c}=Qd(s),d=u=>`https://etherscan.io/address/${u}`;return(u,v)=>{const h=Ae,g=Y,f=se,w=R;return _(),A(w,{class:"cushions-card",title:"Cushions",loading:o(a)},{actions:b(()=>[m(bt,{class:"chain-select",chain:o(s),chains:o(n),onSelectChain:v[0]||(v[0]=k=>s.value=k==="all"?"ethereum":k)},null,8,["chain","chains"]),m(h,{modelValue:o(t),"onUpdate:modelValue":v[1]||(v[1]=k=>ae(t)?t.value=k:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:b(()=>[m(f,{class:"cushions-table",rows:o(l),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:b(k=>[p("div",null,V(k.item.name),1),p("div",null,[p("a",{class:"font-mono",href:d(k.item.pool),target:"_blank"},V(k.item.pool),9,Sp)]),p("div",Ap,[m(g,{value:k.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Lp,Tp,p("div",Ip,[m(g,{value:o(l).reduce((k,$)=>k+$.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),qp=T(Vp,[["__scopeId","data-v-657998a2"]]),Pp={class:"cushions"},Fp=L({__name:"Cushions",setup(e){return(t,a)=>(_(),C("div",Pp,[m(qp)]))}}),Dp=T(Fp,[["__scopeId","data-v-78dd0726"]]),Bp=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[a,s])=>(t[a]=BigInt(s),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((a,[s,n])=>(a[s]=BigInt(n),a),{}),orders:t.orders.map(a=>({id:a.id,sellAmount:BigInt(a.sellAmount),buyAmount:BigInt(a.buyAmount)}))}))}),Mp="https://api.cow.fi";class Rp extends Te{async getCompetition(t){const a=await this.fetch(`${Mp}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return Bp(a)}}const Up=new Rp;function Op(e){return W({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>Up.getCompetition(t)})}const Ep=e=>(H("data-v-e66b8ca2"),e=e(),z(),e),Wp={class:"settlement-details-body"},Kp={class:"info col"},Np={class:"buttons"},xp=Ep(()=>p("i",{class:"fas fa-expand"},null,-1)),Hp={class:"font-mono json"},zp={key:0,class:"fas fa-trophy"},Qp={key:1},jp=["href"],Gp=L({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:a}=Op(E(()=>e.settlement.txHash)),s=y(()=>t.value?JSON.stringify(t.value,(v,h)=>typeof h=="bigint"?h.toString():h,2):"no data"),n=y(()=>t.value?t.value.solutions.orderBy(v=>v.ranking,"asc"):[]);function r(v){return`https://etherscan.io/address/${v}`}async function l(v){await navigator.clipboard.writeText(v)}async function i(){await navigator.clipboard.writeText(s.value)}function c(v){switch(v){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const d=q(!1),u=q(void 0);return(v,h)=>{const g=pe,f=he,w=hs,k=R,$=se;return _(),A(k,{class:"settlement-details"},{default:b(()=>[p("div",Wp,[p("div",Kp,[m(g,{label:"Auction Start Block","has-value":!o(a)},{default:b(()=>{var I;return[U(V(((I=o(t))==null?void 0:I.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),m(g,{label:"Solvers","has-value":!o(a)},{default:b(()=>{var I,S;return[U(V(((S=(I=o(t))==null?void 0:I.solutions)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),m(g,{label:"Orders","has-value":!o(a)},{default:b(()=>{var I,S;return[U(V(((S=(I=o(t))==null?void 0:I.orders)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),m(k,{ref_key:"cardJson",ref:u,class:"card-json col",title:"Json"},{actions:b(()=>[p("div",Np,[m(f,{icon:"fas fa-link",onClick:h[0]||(h[0]=I=>i())}),m(f,{onClick:h[2]||(h[2]=I=>d.value=!o(d))},{default:b(()=>{var I;return[xp,m(w,{target:(I=o(u))==null?void 0:I.$el,show:o(d),onClose:h[1]||(h[1]=S=>d.value=!1)},null,8,["target","show"])]}),_:1})])]),default:b(()=>[p("div",Hp,V(o(s)),1)]),_:1},512)]),m(k,{class:"col",title:"Solvers"},{default:b(()=>[m($,{class:"solvers-table col",rows:o(n)},{row:b(({item:{solver:I,solverAddress:S,ranking:P,score:F}})=>[p("div",{class:M(["trophy",c(P)])},[P<=3?(_(),C("i",zp)):(_(),C("span",Qp,V(P),1))],2),p("div",null,[p("a",{class:"font-mono",href:r(S),target:"_blank"},V(I),9,jp)]),p("div",null,V(F),1),p("div",null,[m(f,{icon:"fas fa-link",onClick:K=>l(S)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),Xp=T(Gp,[["__scopeId","data-v-e66b8ca2"]]);function gs(){const e=q([]);return{expanded:e,toggleExpansion:a=>{const s=e.value.findIndex(n=>n===a);return s===-1?(e.value.push(a),!0):(e.value.splice(s,1),!1)}}}const Yp=e=>(H("data-v-8ab7e470"),e=e(),z(),e),Zp={class:"header-content"},Jp={class:"token"},em=["href"],tm={class:"end"},am={class:"end"},sm={class:"end"},om={class:"end profit"},nm={class:"end"},lm=["href"],rm={class:"end"},im=Yp(()=>p("div",{class:"empty"},null,-1)),Wa=15,cm=L({__name:"TableSettlements",props:{settlements:{}},setup(e){const t=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:a,onSort:s}=kt("timestamp"),n=y(()=>e.settlements.orderBy(f=>{switch(a.value.column){case"amount":return f.amountReceived;case"quote":return f.routerReceived;case"profit":return v(f);case"profitPct":return h(f);case"timestamp":return f.timestamp}},a.value.order)),{page:r,rowsPage:l,onPage:i}=xt(n,Wa),{expanded:c,toggleExpansion:d}=gs(),{relativeTime:u}=He();function v(f){return f.amountReceived-f.routerReceived}function h(f){return 100*f.amountReceived/f.routerReceived-100}function g(f){const w=f.coin.symbol;return w.includes(":")?w.split(":")[1]:w}return(f,w)=>{const k=Be,$=Le,I=Y,S=se,P=R;return _(),A(P,{title:"CowSwap Settlements"},{actions:b(()=>[p("div",Zp,[m(k,{"items-count":o(n).length,"items-per-page":Wa,page:o(r),onPage:o(i)},null,8,["items-count","page","onPage"])])]),default:b(()=>[m(S,{class:"settlements-table",rows:o(l),columns:t,sorting:o(a),expanded:o(c),"expand-side":"right",onSortColumn:o(s),onSelected:o(d)},{row:b(({item:F})=>[p("div",Jp,[m($,{address:F.coin.address},null,8,["address"]),p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${F.coin.address}`},V(g(F)),9,em)]),p("div",tm,[m(I,{value:F.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",am,[m(I,{value:F.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",sm,[F.routerReceived>1?(_(),A(I,{key:0,value:v(F),precision:2,inline:!1,type:"dollar"},null,8,["value"])):D("",!0)]),p("div",om,[F.routerReceived>1?(_(),A(I,{key:0,class:M(["pct",{green:h(F)>0}]),value:h(F),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):D("",!0)]),p("div",nm,[p("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${F.txHash}`,target:"_blank",onClick:w[0]||(w[0]=fe(()=>{},["stop"]))},V(o(we)(F.txHash)),9,lm)]),p("div",rm,V(o(u)(F.timestamp)),1)]),"row-details":b(({item:F})=>[im,o(c).includes(F)?(_(),A(Xp,{key:0,settlement:F},null,8,["settlement"])):D("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1})}}}),um=T(cm,[["__scopeId","data-v-8ab7e470"]]),dm={class:"settlements"},pm=L({__name:"Settlements",setup(e){const{isFetching:t,data:a}=Zd();return(s,n)=>(_(),C("div",dm,[m(um,{style:{"grid-area":"table"},settlements:o(a),loading:o(t)},null,8,["settlements","loading"])]))}}),mm=T(pm,[["__scopeId","data-v-3297d635"]]),ka=e=>(H("data-v-6adacae7"),e=e(),z(),e),vm=["href"],hm={class:"end"},_m={class:"end"},fm=ka(()=>p("div",null,null,-1)),gm=ka(()=>p("div",null,null,-1)),ym=ka(()=>p("div",null,null,-1)),bm={class:"end"},wm=L({__name:"TableFeesCollected",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:s}=kt("amountUsd"),n=y(()=>e.fees.orderBy(r=>{switch(a.value.column){case"symbol":return r.coin.symbol;case"amount":return r.amount;default:return r.amountUsd}},a.value.order));return(r,l)=>{const i=Le,c=Y,d=se,u=R;return _(),A(u,{title:"Fees Collected"},{default:b(()=>[m(d,{rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:v})=>[m(i,{address:v.coin.address},null,8,["address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.coin.address}`},V(v.coin.symbol),9,vm)]),p("div",hm,[m(c,{value:v.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",_m,[m(c,{value:v.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[fm,gm,ym,p("div",bm,[m(c,{value:o(n).reduce((v,h)=>v+h.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),km=T(wm,[["__scopeId","data-v-6adacae7"]]),$a=e=>(H("data-v-a71a8f4a"),e=e(),z(),e),$m=["href"],Cm={class:"end"},Sm={class:"end"},Am=$a(()=>p("div",null,null,-1)),Lm=$a(()=>p("div",null,null,-1)),Tm=$a(()=>p("div",null,null,-1)),Im={class:"end"},Vm=L({__name:"TableFeesStaged",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:s}=kt("amountUsd"),n=y(()=>e.fees.orderBy(r=>{switch(a.value.column){case"symbol":return r.coin.symbol;case"amount":return r.amount;default:return r.amountUsd}},a.value.order));return(r,l)=>{const i=Le,c=Y,d=se,u=R;return _(),A(u,{title:"Fees Staged"},{default:b(()=>[m(d,{rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:v})=>[m(i,{address:v.coin.address},null,8,["address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.coin.address}`},V(v.coin.symbol),9,$m)]),p("div",Cm,[m(c,{value:v.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Sm,[m(c,{value:v.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Am,Lm,Tm,p("div",Im,[m(c,{value:o(n).reduce((v,h)=>v+h.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),qm=T(Vm,[["__scopeId","data-v-a71a8f4a"]]),Pm={class:"harvesting"},Fm=L({__name:"Harvesting",setup(e){const{isFetching:t,data:a}=Jd(),{isFetching:s,data:n}=ep();return(r,l)=>(_(),C("div",Pm,[m(km,{style:{"grid-area":"collected"},fees:o(a),loading:o(t)},null,8,["fees","loading"]),m(qm,{style:{"grid-area":"staged"},fees:o(n),loading:o(s)},null,8,["fees","loading"])]))}}),Dm=T(Fm,[["__scopeId","data-v-2bec8864"]]),Bm={class:"revenue"},Mm=L({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["overview","distributions","cushions","settlements","harvesting"],"revenue");return(s,n)=>{const r=Re,l=Me;return _(),C("div",Bm,[m(l,{active:o(a),onTab:n[0]||(n[0]=i=>a.value=i.index)},{default:b(()=>[m(r,{header:"Revenue"},{default:b(()=>[(_(),A(de,null,[o(t)==="overview"?(_(),A(pp,{key:0})):D("",!0)],1024))]),_:1}),m(r,{header:"Distributions"},{default:b(()=>[(_(),A(de,null,[o(t)==="distributions"?(_(),A(Cp,{key:0})):D("",!0)],1024))]),_:1}),m(r,{header:"Cushions"},{default:b(()=>[(_(),A(de,null,[o(t)==="cushions"?(_(),A(Dp,{key:0})):D("",!0)],1024))]),_:1}),m(r,{header:"Settlements"},{default:b(()=>[(_(),A(de,null,[o(t)==="settlements"?(_(),A(mm,{key:0})):D("",!0)],1024))]),_:1}),m(r,{header:"Harvesting"},{default:b(()=>[(_(),A(de,null,[o(t)==="harvesting"?(_(),A(Dm,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Rm=T(Mm,[["__scopeId","data-v-cb282f5b"]]),Um=e=>(H("data-v-2597b74b"),e=e(),z(),e),Om={class:"end"},Em={class:"end"},Wm={class:"end"},Km={class:"end"},Nm=Um(()=>p("div",null,null,-1)),xm={class:"end"},Hm={class:"end"},zm={class:"end"},Qm={class:"end"},jm=L({__name:"TablePegkeepers",setup(e){const t=q(""),a=y(()=>u.value||r.value),s=y(()=>l.value.map(g=>{const f=v.value.find(w=>g.pool_address===w.address);if(f)return{...f,...g}}).filter(qn).orderBy(g=>g.tvlUsd,"desc")),n=y(()=>s.value.filter(g=>{const f=t.value.toLocaleLowerCase().split(" "),w=k=>f.some($=>k.toLocaleLowerCase().includes($));return w(g.name)||w(g.address)})),{isFetching:r,data:l}=ms(),i=g=>`${g.pair[1].symbol} / ${g.pair[0].symbol}`,c=y(()=>l.value.map(g=>g.pool_address)),d=Uu(q("ethereum"),c),u=y(()=>d.value.some(g=>g.isFetching)),v=y(()=>d.value.filter(g=>g.data).map(g=>g.data)),h=g=>g>=1e6?2:0;return(g,f)=>{const w=Ae,k=Y,$=se,I=R;return _(),A(I,{class:"pegkeepers-card",title:"Pegkeepers",loading:o(a)},{actions:b(()=>[m(w,{modelValue:o(t),"onUpdate:modelValue":f[0]||(f[0]=S=>ae(t)?t.value=S:null),placeholder:"Search for..",search:!0},null,8,["modelValue"])]),default:b(()=>[m($,{class:"pegkeepers-table",rows:o(n),columns:["Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:b(S=>[p("div",null,V(i(S.item)),1),p("div",Om,[m(k,{value:S.item.total_debt,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Em,[m(k,{value:S.item.tvlUsd,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Wm,[m(k,{value:S.item.tradingVolume24h,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Km,[m(k,{value:S.item.total_profit,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Nm,p("div",xm,[m(k,{value:o(n).reduce((S,P)=>S+P.total_debt,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Hm,[m(k,{value:o(n).reduce((S,P)=>S+P.tvlUsd,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",zm,[m(k,{value:o(n).reduce((S,P)=>S+P.tradingVolume24h,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Qm,[m(k,{value:o(n).reduce((S,P)=>S+P.total_profit,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),Gm=T(jm,[["__scopeId","data-v-2597b74b"]]),Ca=e=>(H("data-v-6dd6abdd"),e=e(),z(),e),Xm={class:"end"},Ym={class:"end"},Zm={class:"end"},Jm={class:"end"},ev={class:"end"},tv={class:"end"},av=Ca(()=>p("div",null,null,-1)),sv=Ca(()=>p("div",null,null,-1)),ov={class:"end"},nv=Ca(()=>p("div",null,null,-1)),lv={class:"end"},rv={class:"end"},iv={class:"end"},cv={class:"end"},uv=L({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const a=t,s=q(""),n=y(()=>l.value.filter(c=>{const d=s.value.toLocaleLowerCase().split(" "),u=v=>d.some(h=>v.toLocaleLowerCase().includes(h));return u(c.name)||u(c.address)}).orderBy(c=>c.borrowed,"desc")),{isFetching:r,data:l}=ya(),i=c=>c>=1e6?2:0;return(c,d)=>{const u=Ae,v=Y,h=se,g=R;return _(),A(g,{class:"markets-card",title:"Markets",loading:o(r)},{actions:b(()=>[m(u,{modelValue:o(s),"onUpdate:modelValue":d[0]||(d[0]=f=>ae(s)?s.value=f:null),placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:b(()=>[m(h,{class:"markets-table","expand-side":"left",rows:o(n),columns:["","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:d[1]||(d[1]=f=>a("selected",f))},{row:b(f=>[p("div",null,V(f.item.name),1),p("div",Xm,V(f.item.loans),1),p("div",Ym,[m(v,{value:f.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),p("div",Zm,[m(v,{value:f.item.borrowed,precision:i,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",Jm,[m(v,{value:f.item.collateralUsd,precision:i,type:"dollar"},null,8,["value"])]),p("div",ev,[m(v,{value:f.item.fees.pending,precision:i,type:"dollar"},null,8,["value"])]),p("div",tv,[m(v,{value:f.item.fees.collected,precision:i,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[av,sv,p("div",ov,V(o(n).reduce((f,w)=>f+w.loans,0)),1),nv,p("div",lv,[m(v,{value:o(n).reduce((f,w)=>f+w.borrowed,0),precision:i,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",rv,[m(v,{value:o(n).reduce((f,w)=>f+w.collateralUsd,0),precision:i,type:"dollar"},null,8,["value"])]),p("div",iv,[m(v,{value:o(n).reduce((f,w)=>f+w.fees.pending,0),precision:i,type:"dollar"},null,8,["value"])]),p("div",cv,[m(v,{value:o(n).reduce((f,w)=>f+w.fees.collected,0),precision:i,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":b(()=>[U("   ")]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),dv=T(uv,[["__scopeId","data-v-6dd6abdd"]]),pv=L({__name:"ChartCrvUsdPriceHistogram",setup(e){const{theme:t}=O(N()),{isFetching:a,data:s}=Oi(),n=y(()=>$e(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:r.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:d=>{const u=r.value[d.dataPointIndex],v=d.series[0][d.dataPointIndex];return[`<div><b>${u}</b>:</div><div>${c(v)}</div>`].join("")}}})),r=y(()=>s.value.x.map(d=>d.toString())),l=y(()=>[{data:s.value.y}]),i=d=>{const u=d-1;return u<0?`-$${u.toString().substring(2,7)}`:`$${u.toString().substring(1,6)}`},c=d=>{var h,g;const u=((g=(h=l.value[0])==null?void 0:h.data)==null?void 0:g.reduce((f,w)=>f+w,0))??1,v=d/u*100;return`${Q(v,0,"dollar")}${x(v,"percentage")}`};return(d,u)=>{const v=Fe;return _(),A(v,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:o(a),options:o(n),series:o(l)},null,8,["loading","options","series"])}}}),mv=T(pv,[["__scopeId","data-v-c5b8eb50"]]),vv={class:"actions"},hv={class:"chart-types"},_v=L({__name:"ChartCrvUsdSupply",setup(e){const{theme:t}=O(N()),a=q("line"),{items:s}=Ve(()=>[{id:"supply",label:"Supply",color:t.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:t.value.colorsArray[1]}]),{isFetching:n,data:r}=Ui(),l=i=>{a.value!==i&&(a.value=i)};return(i,c)=>{const d=Ie,u=$t,v=R;return _(),A(v,{class:"chart-container",title:"crvUSD Supply",loading:o(n)},{actions:b(()=>[p("div",vv,[o(a)==="line"?(_(),A(d,{key:0,items:o(s)},null,8,["items"])):D("",!0),p("div",hv,[m(u,{value:"Line","model-value":o(a)==="line",onClick:c[0]||(c[0]=h=>l("line"))},null,8,["model-value"]),m(u,{value:"Breakdown","model-value":o(a)==="breakdown",onClick:c[1]||(c[1]=h=>l("breakdown"))},null,8,["model-value"])])])]),default:b(()=>[(_(),A(de,null,[o(a)==="line"?(_(),A(o(bv),{key:0,data:o(r)},null,8,["data"])):D("",!0)],1024)),(_(),A(de,null,[o(a)==="breakdown"?(_(),A(o(yv),{key:0,data:o(r)},null,8,["data"])):D("",!0)],1024))]),_:1},8,["loading"])}}}),fv=T(_v,[["__scopeId","data-v-47d6feeb"]]),gv=L({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=O(N()),a=y(()=>$e(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.data.orderBy(c=>c.timestamp,"asc").groupBy(c=>c.timestamp).entries().map(([c])=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((c,d)=>d%8===0?c:"")),n=y(()=>e.data.groupBy(c=>c.market).entries().map(([c,d])=>({name:c,data:d.groupBy(u=>u.timestamp).entries().map(([u,v])=>({x:new Date(parseInt(u,10)*1e3).toLocaleDateString(),y:v.reduce((h,g)=>h+g.supply,0)})).orderBy(u=>u.x,"asc")}))),r=y(()=>Math.max(...e.data.groupBy(c=>c.timestamp).entries().map(([,c])=>c.reduce((d,u)=>d+u.supply,0)))*1.1),l=c=>c,i=c=>`${Q(c,1,"dollar")}${x(c,"dollar")}`;return(c,d)=>{const u=Nt;return _(),A(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),yv=T(gv,[["__scopeId","data-v-1ccdf5c2"]]),bv=L({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:i=>ee(i,t.value),series:[{type:"Area",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:l},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:l},lineWidth:2,lineType:re.WithSteps,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(r);function r(){if(!a.value||!n.debt||!n.supply)return;const i=e.data.groupBy(d=>d.timestamp).entries().map(([,d])=>{var u;return{time:d[0].timestamp,value:d.reduce((v,h)=>v+h.supply,0),debt:((u=d.find(v=>v.market==="Keepers debt"))==null?void 0:u.supply)??0}}).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc"),c=i.map(d=>({time:d.time,value:d.value-d.debt}));i.length>0&&n.supply.setData(i),c.length>0&&n.debt.setData(c),a.value.timeScale().fitContent()}function l(i){return`${Q(i,0,"dollar")}${x(i,"dollar")}`}return(i,c)=>(_(),C("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512))}}),wv=L({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{isFetching:t,data:a}=Kt(E(()=>e.market)),{theme:s}=O(N()),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value),series:{type:"Area",name:"available",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${x(c,"dollar")}`},lineWidth:2,lineType:re.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.available)return;const c=a.value.map(d=>({time:d.timestamp,value:d.borrowable})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc").dropWhile(d=>d.value===0);c.length>0&&l.available.setData(c),n.value.timeScale().fitContent()}return(c,d)=>{const u=R;return _(),A(u,{class:"chart-container",title:"Borrowable & Debt Ceiling",loading:o(t)},{default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["loading"])}}}),kv=T(wv,[["__scopeId","data-v-c9d93c4c"]]),$v=L({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{isFetching:t,data:a}=Kt(E(()=>e.market)),{theme:s}=O(N()),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{localization:{priceFormatter:d=>Math.round(d).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.loans)return;const c=a.value.map(d=>({time:d.timestamp,value:d.nLoans})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc");if(c.length>0){l.loans.setData(c);const d=c[0].time,u=c[c.length-1].time;n.value.timeScale().setVisibleRange({from:d,to:u})}}return(c,d)=>{const u=R;return _(),A(u,{class:"chart-container",title:"Loans",loading:o(t)},{default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Cv=T($v,[["__scopeId","data-v-30e5e2d2"]]),Sv=["min","max"],Av=L({__name:"InputNumber",props:qe({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ot(e,"modelValue");return G(t,a=>{a===""?t.value=null:typeof a=="number"&&(t.value=Math.min(Math.max(a,e.min),e.max))}),(a,s)=>va((_(),C("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),type:"number",min:a.min,max:a.max},null,8,Sv)),[[Xa,t.value]])}}),Sa=T(Av,[["__scopeId","data-v-4bb37a2c"]]),Lv={class:"actions"},Tv=L({__name:"ChartMarketRates",props:{market:{}},setup(e){const{isFetching:t,data:a}=Kt(E(()=>e.market)),{theme:s}=O(N()),n=q(null),{chart:r,chartRef:l,series:i}=te({recreateChartTrigger:s,createChartOptions:v=>ee(v,s.value),series:[{type:"Area",name:"rates",options:y(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:re.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"ema",options:y(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:re.WithSteps,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(c);function c(){if(!r.value||!i.rates||!i.ema)return;const v=a.value.map(f=>({time:f.timestamp,value:f.rate})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc"),g=u(v.map(f=>f.value),n.value??31).zip(v).map(f=>({time:f[1].time,value:f[0]}));if(g.length>0&&i.ema.setData(g),v.length>0){i.rates.setData(v);const f=v[0].time,w=v[v.length-1].time;r.value.timeScale().setVisibleRange({from:f,to:w})}}function d(v){return`${Q(v*100,0,"percentage")}${x(v,"percentage")}`}const u=(v,h=7)=>v.map((g,f)=>{const w=Math.max(f-(h-1),0),k=f+1,$=v.slice(w,k);return $.reduce((S,P)=>S+P,0)/$.length});return(v,h)=>{const g=Sa,f=R;return _(),A(f,{class:"chart-container",title:"Rates",loading:o(t)},{actions:b(()=>[p("div",Lv,[m(g,{modelValue:o(n),"onUpdate:modelValue":h[0]||(h[0]=w=>ae(n)?n.value=w:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Iv=T(Tv,[["__scopeId","data-v-10d7e239"]]),Vv=e=>{const t=e.provider.toLocaleLowerCase(),a=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,s=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,n=e.block_number,r=e.timestamp,l=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:a,withdrawal:s,block_number:n,timestamp:r,transaction_hash:l}},qv=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),Pv=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),aa="https://prices.curve.fi";class Fv extends Te{async getEvents(t,a,s,n){const r=await this.fetch(`${aa}/v1/${t}/llamma_events/${a}/${s}?page=${n}&per_page=10`);return{events:r.data.map(Vv),count:r.count}}async getTrades(t,a,s,n){const r=await this.fetch(`${aa}/v1/${t}/llamma_trades/${a}/${s}?page=${n}&per_page=10`);return{trades:r.data.map(qv),count:r.count}}async getOHLC(t,a,s){const n=Math.floor(new Date().getTime()/1e3),r=n-10*24*60*60;return(await this.fetch(`${aa}/v1/${t}/llamma_ohlc/${a}/${s}?agg_number=1&agg_units=hour&start=${r}&end=${n}`)).data.map(Pv)}}const Aa=new Fv;function ys(e,t,a,s){return W({queryKey:["llamma-market-events",t,s],queryFn:({queryKey:[,n,r]})=>Aa.getEvents(e.value,a.value,n,r),placeholderData:Mt,enabled:y(()=>!!t.value&&!!a.value)})}function bs(e,t,a,s){return W({queryKey:["llamma-market-trades",t,s],queryFn:({queryKey:[,n,r]})=>Aa.getTrades(e.value,a.value,n,r),placeholderData:Mt,enabled:y(()=>!!t.value&&!!a.value)})}function La(e,t,a){return W({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,s]})=>Aa.getOHLC(e.value,a.value,s),enabled:y(()=>!!t.value&&!!a.value)})}const Dv=L({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=La(E("crvusd"),y(()=>{var c;return(c=e.market)==null?void 0:c.llamma}),E(()=>e.chain)),{theme:s}=O(N()),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${x(c,"dollar")}`},lineWidth:2,lineType:re.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.volume)return;const c=(a.value??[]).map(d=>({time:d.time,value:d.volume})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc");c.length>0&&l.volume.setData(c),n.value.timeScale().fitContent()}return(c,d)=>{const u=R;return _(),A(u,{class:"chart-container",title:"Volume",loading:o(t)},{default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Bv=T(Dv,[["__scopeId","data-v-4276f7f8"]]),Mv={class:"actions"},Rv=L({__name:"ChartKeeperPrices",setup(e){const{theme:t}=O(N()),a=["USDC","USDT","TUSD","USDP"],{items:s,toggles:n,disabled:r}=Ve(()=>a.map(($,I)=>({id:$,label:$,color:t.value.colorsArray[I],togglable:!0}))),l=y(()=>i.value||d.value),{isFetching:i,data:c}=ms(),{isFetching:d,data:u}=Ei(c),v=q(!1),h=q(void 0),{chart:g,chartRef:f,series:w}=te({recreateChartTrigger:t,createChartOptions:$=>ee($,t.value),series:a.map(($,I)=>({type:"Line",name:$,options:y(()=>({priceFormat:{type:"custom",formatter:S=>`${Q(S,3,"dollar")}${x(S,"dollar")}`},lineWidth:2,lineType:re.WithSteps,color:t.value.colorsArray[I],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:S=>{const P=S();return P!==null&&(P.priceRange.minValue=Math.max(.98,P.priceRange.minValue),P.priceRange.maxValue=Math.min(1.02,P.priceRange.maxValue)),P}}))}))});J(k);function k(){var $,I;if(!(!g.value||Object.values(w).length<0)){for(const[,S]of a.entries()){if(!n[S].value){($=w[S])==null||$.setData([]);continue}const P=u.value.map(F=>({time:F.timestamp,value:F[S]})).uniqWith((F,K)=>F.time===K.time).orderBy(F=>F.time,"asc");P.length>0&&((I=w[S])==null||I.setData(P))}g.value.timeScale().fitContent()}}return($,I)=>{const S=Ie,P=R;return _(),A(P,{ref_key:"chartCard",ref:h,class:"chart-container",title:"Stablecoin Prices of Pegkeepers",loading:o(l)},{actions:b(()=>{var F;return[p("div",Mv,[m(S,{items:o(s),disabled:o(r),onToggle:I[0]||(I[0]=K=>o(n)[K].value=!o(n)[K].value)},null,8,["items","disabled"]),m(o(lt),{modelValue:o(v),"onUpdate:modelValue":I[1]||(I[1]=K=>ae(v)?v.value=K:null),chart:o(g),target:(F=o(h))==null?void 0:F.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:f,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Uv=T(Rv,[["__scopeId","data-v-d6623148"]]),Ov={class:"crvusd"},Ev={class:"col"},Wv={class:"col"},Kv=L({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:a}=O(Pe());ve(()=>{t.value=!0,a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const s=st(),n=async r=>{await s.push({name:"crvusdmarket",params:{tab:"",marketAddr:r.address}})};return(r,l)=>(_(),C("div",Ov,[m(o(dv),{style:{"grid-column":"1 / -1"},onSelected:n}),p("div",Ev,[m(o(Gm)),m(o(Uv))]),p("div",Wv,[m(o(fv)),m(o(mv))])]))}}),Nv=T(Kv,[["__scopeId","data-v-c459ffd2"]]),xv=["href"],Hv={key:1},zv=L({__name:"Addresses",props:{market:{}},setup(e){const t=y(()=>{var n,r,l;return[{description:"Controller",address:(n=e.market)==null?void 0:n.address},{description:"Factory",address:(r=e.market)==null?void 0:r.factory},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma}]}),a=n=>`https://etherscan.io/address/${n}`,s=async n=>{await navigator.clipboard.writeText(n)};return(n,r)=>{const l=he,i=se,c=R;return _(),A(c,{class:"addresses",title:"Addresses"},{default:b(()=>[m(i,{class:"addresses-table",rows:o(t)},{row:b(({item:{description:d,address:u}})=>[p("div",null,V(d),1),p("div",null,[u?(_(),C("a",{key:0,class:"font-mono",href:a(u),target:"_blank"},V(u),9,xv)):(_(),C("span",Hv,"?"))]),p("div",null,[m(l,{icon:"fas fa-link",onClick:v=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})}}}),Qv=T(zv,[["__scopeId","data-v-ab0b00a1"]]),jv={key:0},Gv={class:"token-info"},Xv=["href"],Yv={key:1},Zv=L({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,i){return i?l==="collateral"?{type:"token",symbol:i.collateral_token.symbol,address:i.collateral_token.address}:{type:"token",symbol:i.stablecoin_token.symbol,address:i.stablecoin_token.address}:{type:"token",symbol:"?",address:"?"}}const s=y(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,r=async l=>{await navigator.clipboard.writeText(l)};return(l,i)=>{const c=Le,d=he,u=se,v=R;return _(),A(v,{class:"properties",title:"Properties"},{default:b(()=>[m(u,{class:"properties-table",rows:o(s)},{row:b(({item:{description:h,value:g}})=>[p("div",null,V(h),1),t(g)?(_(),C("div",jv,[p("div",Gv,[m(c,{chain:l.chain,address:g.address},null,8,["chain","address"]),p("div",null,V(g.symbol),1),p("div",null,[p("a",{class:"font-mono",href:n(g.address),target:"_blank"},V(g.address),9,Xv)]),p("div",null,[m(d,{icon:"fas fa-link",onClick:f=>r(g.address)},null,8,["onClick"])])])])):(_(),C("div",Yv,V(g),1))]),_:1},8,["rows"])]),_:1})}}}),Jv=T(Zv,[["__scopeId","data-v-f07f33c1"]]),eh={class:"market"},th=L({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){return(t,a)=>{const s=Y,n=pe;return _(),C("div",eh,[m(n,{style:{"grid-area":"kpi1"},label:"Borrow Rate","has-value":!!t.market},{default:b(()=>{var r;return[m(s,{value:100*(((r=t.market)==null?void 0:r.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi2"},label:"Borrowed","has-value":!!t.market},{default:b(()=>{var r;return[m(s,{value:(r=t.market)==null?void 0:r.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi3"},label:"Borrowable","has-value":!!t.market},{default:b(()=>{var r;return[m(s,{value:(r=t.market)==null?void 0:r.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi4"},label:"Loans","has-value":!!t.market},{default:b(()=>{var r;return[U(V(((r=t.market)==null?void 0:r.loans)??0),1)]}),_:1},8,["has-value"]),m(o(Iv),{style:{"grid-area":"rates"},market:t.market},null,8,["market"]),m(o(kv),{style:{"grid-area":"cap"},market:t.market},null,8,["market"]),m(o(Cv),{style:{"grid-area":"loans"},market:t.market},null,8,["market"]),m(o(Bv),{style:{"grid-area":"volume"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(o(Jv),{style:{"grid-area":"properties"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(o(Qv),{style:{"grid-area":"addresses"},market:t.market,chain:t.chain},null,8,["market","chain"])])}}}),ah=T(th,[["__scopeId","data-v-945ab763"]]),sh=e=>({timestamp:ke(e.timestamp),proportion:e.proportion/100}),oh=e=>({timestamp:ke(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),nh=e=>({timestamp:ke(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),lh=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),rh=e=>({timestamp:ke(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),ih=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),Xe="https://prices.curve.fi";class ch extends Te{async getSoftLiqRatios(t,a,s){return(await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/soft_liquidation_ratio`)).data.map(sh)}async getLiqsDetailed(t,a,s){return(await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/history/detailed`)).data.map(oh)}async getLiqsAggregate(t,a,s){return(await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/history/aggregated`)).data.map(nh)}async getLiqOverview(t,a,s){const n=await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/overview?fetch_on_chain=true`);return lh(n)}async getLiqLosses(t,a,s){return(await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/losses/history`)).data.map(rh)}async getLiqHealthDeciles(t,a,s){return(await this.fetch(`${Xe}/v1/${t}/liquidations/${a}/${s}/health/distribution`)).data.map(ih)}}const it=new ch;function Ct(){return{initialData:[],initialDataUpdatedAt:0}}function ct(e,t){return{enabled:y(()=>!!e.value&&(t?!!t.value:!0))}}function ws(e,t,a){return W({queryKey:["liqs-soft-liqs",a],queryFn:({queryKey:[,s]})=>it.getSoftLiqRatios(e.value,t.value,s),...ct(a,t),...Ct()})}function ks(e,t,a){return W({queryKey:["liqs-detailed",a],queryFn:({queryKey:[,s]})=>it.getLiqsDetailed(e.value,t.value,s),...ct(a,t),...Ct()})}function $s(e,t,a){return W({queryKey:["liqs-aggregate",a],queryFn:({queryKey:[,s]})=>it.getLiqsAggregate(e.value,t.value,s),...ct(a,t),...Ct()})}function Cs(e,t,a){return W({queryKey:["liqs-overview",a],queryFn:({queryKey:[,s]})=>it.getLiqOverview(e.value,t.value,s),...ct(a,t)})}function Ss(e,t,a){return W({queryKey:["liqs-losses",a],queryFn:({queryKey:[,s]})=>it.getLiqLosses(e.value,t.value,s),...ct(a,t),...Ct()})}function As(e,t,a){return W({queryKey:["liqs-health-deciles",a],queryFn:({queryKey:[,s]})=>it.getLiqHealthDeciles(e.value,t.value,s),...ct(a,t),...Ct()})}const uh={class:"actions"},dh={class:"chart-types"},ph=L({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const t=q("count"),a=s=>{t.value!==s&&(t.value=s)};return(s,n)=>{const r=$t,l=R;return _(),A(l,{class:"chart-container",title:"Self & Hard Liquidations"},{actions:b(()=>[p("div",uh,[p("div",dh,[m(r,{value:"Count","model-value":o(t)==="count",onClick:n[0]||(n[0]=i=>a("count"))},null,8,["model-value"]),m(r,{value:"Value","model-value":o(t)==="value",onClick:n[1]||(n[1]=i=>a("value"))},null,8,["model-value"])])])]),default:b(()=>[o(t)==="count"?(_(),A(o(vh),{key:0,liqs:s.liqs},null,8,["liqs"])):(_(),A(o(_h),{key:1,liqs:s.liqs},null,8,["liqs"]))]),_:1})}}}),Ls=T(ph,[["__scopeId","data-v-55fa1b9b"]]),mh=L({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=O(N()),a=y(()=>$e(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.liqs.orderBy(c=>c.timestamp,"asc").groupBy(c=>c.timestamp).entries().map(([c])=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((c,d)=>d%8===0?c:"")),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(c=>({x:new Date(c.timestamp*1e3).toLocaleDateString(),y:c.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(c=>({x:new Date(c.timestamp*1e3).toLocaleDateString(),y:c.hardCount}))}]),r=y(()=>Math.max(...e.liqs.groupBy(c=>c.timestamp).entries().map(([,c])=>c.reduce((d,u)=>d+u.selfCount+u.hardCount,0)))*1.1),l=c=>c,i=c=>`${Q(c,1,"dollar")}${x(c,"dollar")}`;return(c,d)=>{const u=Nt;return _(),A(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),vh=T(mh,[["__scopeId","data-v-90b199b1"]]),hh=L({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=O(N()),a=y(()=>$e(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.liqs.orderBy(c=>c.timestamp,"asc").groupBy(c=>c.timestamp).entries().map(([c])=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((c,d)=>d%8===0?c:"")),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(c=>({x:new Date(c.timestamp*1e3).toLocaleDateString(),y:c.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(c=>({x:new Date(c.timestamp*1e3).toLocaleDateString(),y:c.hardValue}))}]),r=y(()=>Math.max(...e.liqs.groupBy(c=>c.timestamp).entries().map(([,c])=>c.reduce((d,u)=>d+u.selfValue+u.hardValue,0)))*1.1),l=c=>c,i=c=>`${Q(c,1,"dollar")}${x(c,"dollar")}`;return(c,d)=>{const u=Nt;return _(),A(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),_h=T(hh,[["__scopeId","data-v-11507ff4"]]),fh=L({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${Q(l,0,"percentage")}${x(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(r);function r(){if(!a.value||!n.losses)return;const l=e.losses.map(i=>({time:i.timestamp,value:i.pctLossMedian})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.losses.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=R;return _(),A(c,{class:"chart-container",title:"Median Loss % Among Loans with Losses"},{default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Ts=T(fh,[["__scopeId","data-v-a3d777f5"]]),gh=L({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${Q(l,0,"percentage")}${x(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(r);function r(){if(!a.value||!n.losses)return;const l=e.losses.map(i=>({time:i.timestamp,value:i.numTotalUsers>0?100*i.numUsersWithLosses/i.numTotalUsers:0})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.losses.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=R;return _(),A(c,{class:"chart-container",title:"Proportion of Loans with Losses"},{default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Is=T(gh,[["__scopeId","data-v-64aa176d"]]),yh=L({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=O(N()),a=y(()=>$e(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const c=i.series[0][i.dataPointIndex],d=i.series[1][i.dataPointIndex],u=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${l(d)}</div>`,`<div><b>Debt</b>: ${l(c)}</div>`,`<div><b>Stablecoin</b>: ${l(u)}</div>`].join("")}}})),s=y(()=>e.deciles.map(i=>i.decile)),n=y(()=>[{name:"Debt",data:Object.values(e.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(e.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(i=>i.stablecoin)}]),r=i=>i,l=i=>`$${Q(i,0,"dollar")}${x(i,"dollar")}`;return(i,c)=>{const d=Fe;return _(),A(d,{class:"chart",title:"Debt & Assets per Health Deciles",options:o(a),series:o(n)},null,8,["options","series"])}}}),Vs=T(yh,[["__scopeId","data-v-7e53d83b"]]),bh={class:"actions"},wh=L({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{theme:t}=O(N()),{items:a}=Ve(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:t.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:t.value.colorsArray[1]}]),{chart:s,chartRef:n,series:r}=te({recreateChartTrigger:t,createChartOptions:i=>ee(i,t.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"price",options:y(()=>({priceFormat:{type:"custom",formatter:i=>`$${Q(i,2,"dollar")}${x(i,"dollar")}`},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"ratio",options:y(()=>({priceFormat:{type:"custom",formatter:i=>`${Q(i,0,"percentage")}${x(i,"percentage")}`},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});J(l);function l(){if(!s.value||!r.price||!r.ratio)return;const i=e.ratios.map(u=>({time:u.timestamp,value:u.proportion})).uniqWith((u,v)=>u.time===v.time).orderBy(u=>u.time,"asc"),c=i.length>0?i[0].time:0,d=e.pricesOracle.filter(u=>u.timestamp>=c).map(u=>({time:u.timestamp,value:u.priceOracle})).uniqWith((u,v)=>u.time===v.time).orderBy(u=>u.time,"asc");d.length>0&&r.price.setData(d),i.length>0&&r.ratio.setData(i),s.value.timeScale().fitContent()}return(i,c)=>{const d=Ie,u=R;return _(),A(u,{class:"chart-container",title:"Soft Liquidations Ratio"},{actions:b(()=>[p("div",bh,[m(d,{items:o(a)},null,8,["items"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1})}}}),qs=T(wh,[["__scopeId","data-v-e2b66e3b"]]),kh={class:"actions"},$h=L({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{theme:t}=O(N()),{items:a}=Ve(()=>[{id:"revenue",label:"Liquidator Revenue",color:t.value.colorsArray[0]},{id:"discount",label:"Discount",color:t.value.colorsArray[1]}]),{chart:s,chartRef:n,series:r}=te({recreateChartTrigger:t,createChartOptions:i=>ee(i,t.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"revenue",options:y(()=>({priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"discount",options:y(()=>({priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});J(l);function l(){if(!s.value||!r.discount||!r.revenue)return;const i=e.liqs.map(u=>({time:u.timestamp,value:u.debt})).uniqWith((u,v)=>u.time===v.time).orderBy(u=>u.time,"asc").reduce((u,v)=>{const h=u.length>0?u[u.length-1].value:0;return u.push({time:v.time,value:v.value+h}),u},[]),c=i.length>0?i[0].time:0,d=e.discounts.filter(u=>u.timestamp>=c).map(u=>({time:u.timestamp,value:u.discount*100})).uniqWith((u,v)=>u.time===v.time).orderBy(u=>u.time,"asc");i.length>0&&r.revenue.setData(i),d.length>0&&r.discount.setData(d),s.value.timeScale().fitContent()}return(i,c)=>{const d=Ie,u=R;return _(),A(u,{class:"chart-container",title:"Liquidator Revenue"},{actions:b(()=>[p("div",kh,[m(d,{items:o(a)},null,8,["items"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1})}}}),Ps=T($h,[["__scopeId","data-v-6e4e397d"]]),Ch={key:0,class:"end"},Sh={key:1,class:"end"},Ah={key:2},Lh=L({__name:"TableLiqOverview",props:{overview:{}},setup(e){const t=y(()=>{if(!e.overview)return[];const s=e.overview.liqableDebtUsd,n=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,r=s-n;return r<=0?[]:[{description:"Bad debt",value:r,type:"bad-debt"}]}),a=y(()=>{var s,n,r,l,i,c,d;return[{description:"Users in soft liquidation",value:((s=e.overview)==null?void 0:s.softLiqUsers)??0,type:"number"},{description:"Median health",value:((n=e.overview)==null?void 0:n.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((r=e.overview)==null?void 0:r.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((l=e.overview)==null?void 0:l.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((i=e.overview)==null?void 0:i.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((c=e.overview)==null?void 0:c.liqableCollatUsd)??0,((d=e.overview)==null?void 0:d.liqableBorrowedUsd)??0],type:"collateral"},...t.value]});return(s,n)=>{const r=Y,l=se,i=R;return _(),A(i,{title:"General Health Metrics"},{default:b(()=>[m(l,{class:"liq-overview-table",rows:o(a)},{row:b(({item:{description:c,value:d,type:u}})=>[p("div",null,V(c),1),u==="collateral"?(_(),C("div",Ch,[m(r,{value:d[0],"show-zero":!0,type:"dollar"},null,8,["value"]),U(" / "),m(r,{value:d[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(_(),C("div",Sh,[u==="bad-debt"?(_(),A(r,{key:0,class:"red",value:d,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):u!=="number"?(_(),A(r,{key:1,value:d,"show-zero":!0,type:u},null,8,["value","type"])):(_(),C("span",Ah,V(d),1))]))]),_:1},8,["rows"])]),_:1})}}}),Fs=T(Lh,[["__scopeId","data-v-ef463f79"]]),Th={class:"address"},Ih=["href"],Vh={class:"end"},qh={class:"end"},Ph=L({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const t=y(()=>e.liqs.groupBy(a=>a.liquidator).entries().map(([a,s])=>({liquidator:a,count:s.length,value:s.reduce((n,r)=>n+r.collateralReceivedUsd,0)})).orderBy(a=>a.value,"desc").take(5));return(a,s)=>{const n=Y,r=se,l=R;return _(),A(l,{title:"Top Liquidators"},{default:b(()=>[m(r,{class:"liquidators-table",rows:o(t),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:b(i=>[p("div",Th,[p("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},V(o(we)(i.item.liquidator,8)),9,Ih)]),p("div",Vh,[m(n,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),p("div",qh,[m(n,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1})}}}),Ds=T(Ph,[["__scopeId","data-v-e5a62507"]]),Fh=L({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Area",name:"ratios",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${Q(l,0,"percentage")}${x(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:re.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});J(r);function r(){if(!a.value||!n.ratios)return;const l=e.ratios.map(i=>({time:i.timestamp,value:i.ratio*100})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.ratios.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=R;return _(),A(c,{class:"chart-container",title:"Collateral Ratio"},{default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Bs=T(Fh,[["__scopeId","data-v-542ef5aa"]]),Dh=e=>(H("data-v-780de7cc"),e=e(),z(),e),Bh={class:"actions"},Mh=Dh(()=>p("span",null,[U(" This chart shows the difference between the value of the collateral and the debt."),p("br"),p("br"),U(" Positive values indicate net equity (collateral exceeds debt),"),p("br"),U(" while negative values indicate a deficit (debt exceeds collateral, also known as bad debt). ")],-1)),Rh=L({__name:"ChartEquity",props:{equity:{}},setup(e){const{theme:t}=O(N()),{chart:a,chartRef:s,series:n}=te({recreateChartTrigger:t,createChartOptions:l=>ee(l,t.value),series:{type:"Baseline",name:"equity",options:y(()=>{const{colors:l}=t.value;return{priceFormat:{type:"custom",formatter:i=>`$${Q(i,0,"dollar")}${x(i,"dollar")}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:l.green,bottomLineColor:l.red,lastValueVisible:!1,priceLineVisible:!1}})}});J(r);function r(){if(!a.value||!n.equity)return;const l=e.equity.map(i=>({time:i.timestamp,value:i.equity})).uniqWith((i,c)=>i.time===c.time).orderBy(i=>i.time,"asc");l.length>0&&n.equity.setData(l),a.value.timeScale().fitContent()}return(l,i)=>{const c=Ot,d=R;return _(),A(d,{class:"chart-container",title:"Equity"},{actions:b(()=>[p("div",Bh,[m(c,null,{default:b(()=>[Mh]),_:1})])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Uh=T(Rh,[["__scopeId","data-v-780de7cc"]]),Oh={class:"liquidations"},Eh=L({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var S;return(S=e.market)==null?void 0:S.address}),{isFetching:a,data:s}=Cs(q("crvusd"),E(()=>e.chain),t),{isFetching:n,data:r}=Kt(E(()=>e.market)),l=y(()=>r.value.map(({timestamp:S,priceOracle:P})=>({timestamp:S,priceOracle:P}))),i=y(()=>r.value.map(({timestamp:S,discountLiquidation:P})=>({timestamp:S,discount:P}))),c=y(()=>r.value.map(({timestamp:S,totalCollateralUsd:P,totalDebt:F})=>({timestamp:S,ratio:P/F}))),{isFetching:d,data:u}=ws(q("crvusd"),E(()=>e.chain),t),{isFetching:v,data:h}=$s(q("crvusd"),E(()=>e.chain),t),{isFetching:g,data:f}=ks(q("crvusd"),E(()=>e.chain),t),{isFetching:w,data:k}=As(q("crvusd"),E(()=>e.chain),t),{isFetching:$,data:I}=Ss(q("crvusd"),E(()=>e.chain),t);return(S,P)=>(_(),C("div",Oh,[m(o(Fs),{overview:o(s),loading:o(a)},null,8,["overview","loading"]),m(o(qs),{ratios:o(u),"prices-oracle":o(l),loading:o(d)||o(n)},null,8,["ratios","prices-oracle","loading"]),m(o(Ts),{losses:o(I),loading:o($)},null,8,["losses","loading"]),m(o(Is),{losses:o(I),loading:o($)},null,8,["losses","loading"]),m(o(Vs),{deciles:o(k),loading:o(w)},null,8,["deciles","loading"]),m(o(Bs),{ratios:o(c),loading:o(n)},null,8,["ratios","loading"]),m(o(Ls),{liqs:o(h),loading:o(v)},null,8,["liqs","loading"]),m(o(Ds),{liqs:o(f),loading:o(g)},null,8,["liqs","loading"]),m(o(Ps),{discounts:o(i),liqs:o(f),loading:o(n)||o(g)},null,8,["discounts","liqs","loading"])]))}}),Wh=T(Eh,[["__scopeId","data-v-08e46367"]]),Kh={class:"controls"},Nh=L({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{theme:t}=O(N()),a=q(!1),s=q(!1);let n=1,r=0;const{chart:l,chartRef:i,series:c}=te({recreateChartTrigger:t,createChartOptions:v=>ee(v,t.value,{localization:{priceFormatter:h=>u(h)}}),series:[{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:v}=t.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:v.green,borderUpColor:v.green,wickUpColor:v.green,downColor:v.red,borderDownColor:v.red,wickDownColor:v.red}})},{type:"Line",name:"oracle",options:y(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:re.WithSteps,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}]});J(d);function d(){if(!l.value||!c.ohlc||!c.oracle)return;const v=a.value?-1:1,h=e.ohlc.map(f=>({time:f.time,open:Math.pow(f.open,v),high:Math.pow(f.high,v),low:Math.pow(f.low,v),close:Math.pow(f.close,v)})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc");h.length>0&&(c.ohlc.setData(h),r=Math.min(...h.map(f=>f.low)),n=Math.max(...h.map(f=>f.high)));const g=e.ohlc.map(f=>({time:f.time,value:Math.pow(f.oracle_price,v)})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc");g.length>0&&c.oracle.setData(g),c.oracle.applyOptions({visible:s.value}),l.value.timeScale().fitContent()}const u=v=>{const h=n-r,g=h>1?h-Math.floor(h):h,f=-Math.floor(Math.log10(g)+1)+2;return`${Q(v,f,"dollar")}${x(v,"dollar")}`};return(v,h)=>{const g=$t,f=R;return _(),A(f,{class:"chart-container",title:"Price"},{actions:b(()=>[p("div",Kh,[m(g,{value:"Oracle Price","model-value":o(s),onClick:h[0]||(h[0]=w=>s.value=!o(s))},null,8,["model-value"]),m(g,{value:"Invert","model-value":o(a),onClick:h[1]||(h[1]=w=>a.value=!o(a))},null,8,["model-value"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1})}}}),Ms=T(Nh,[["__scopeId","data-v-5595004d"]]),xh=e=>(H("data-v-b563290d"),e=e(),z(),e),Hh={class:"end"},zh=xh(()=>p("div",null,null,-1)),Qh=["href"],jh={class:"end"},Gh=["href"],Xh=L({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:s,onPage:n}=wa(),r=Ft(s,200);G(r,u=>{a("page",u)});const{relativeTime:l}=He(),i=u=>u<1?u.toFixed(4):u>1e3?u.toFixed(0):u.toFixed(2),c=u=>{var v,h;return i(((v=u.deposit)==null?void 0:v.amount)??((h=u.withdrawal)==null?void 0:h.amount_collateral)??0)},d=u=>u.deposit?"Deposit":u.withdrawal?"Withdrawal":"Unknown";return(u,v)=>{const h=Be,g=se,f=R;return _(),A(f,{title:"Events"},{actions:b(()=>[m(h,{"items-count":u.count,"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(g,{class:"events-table",rows:u.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:b(({item:w})=>[p("div",null,V(d(w)),1),p("div",Hh,V(c(w)),1),zh,p("div",null,[p("a",{href:`https://etherscan.io/address/${w.provider}`,target:"_blank",onClick:v[0]||(v[0]=fe(()=>{},["stop"]))},V(o(we)(w.provider)),9,Qh)]),p("div",jh,[p("a",{href:`https://etherscan.io/tx/${w.transaction_hash}`,target:"_blank",onClick:v[1]||(v[1]=fe(()=>{},["stop"]))},V(o(l)(w.timestamp)),9,Gh)])]),_:1},8,["rows"])]),_:1})}}}),Rs=T(Xh,[["__scopeId","data-v-b563290d"]]),Yh={class:"end"},Zh=["href"],Jh={class:"end"},e_=["href"],t_=["href"],a_={class:"end"},s_=["href"],o_=L({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:s,onPage:n}=wa(),r=Ft(s,200);G(r,c=>{a("page",c)});const{relativeTime:l}=He(),i=c=>c<1?c.toFixed(4):c>1e3?c.toFixed(0):c.toFixed(2);return(c,d)=>{const u=Be,v=Le,h=se,g=R;return _(),A(g,{title:"Trades"},{actions:b(()=>[m(u,{"items-count":c.count,"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(h,{class:"trades-table",rows:c.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:b(({item:f})=>[p("div",Yh,V(i(f.amount_bought)),1),m(v,{chain:c.chain,address:f.token_bought.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${f.token_bought.address}`},V(f.token_bought.symbol),9,Zh)]),p("div",Jh,V(i(f.amount_sold)),1),m(v,{chain:c.chain,address:f.token_sold.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${f.token_sold.address}`},V(f.token_sold.symbol),9,e_)]),p("div",null,[p("a",{href:`https://etherscan.io/address/${f.buyer}`,target:"_blank",onClick:d[0]||(d[0]=fe(()=>{},["stop"]))},V(o(we)(f.buyer)),9,t_)]),p("div",a_,[p("a",{href:`https://etherscan.io/tx/${f.transaction_hash}`,target:"_blank",onClick:d[1]||(d[1]=fe(()=>{},["stop"]))},V(o(l)(f.timestamp)),9,s_)])]),_:1},8,["rows"])]),_:1})}}}),Us=T(o_,[["__scopeId","data-v-f1af0563"]]),n_={class:"trading"},l_=L({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var u;return(u=e.market)==null?void 0:u.llamma}),{isFetching:a,data:s}=La(q("crvusd"),t,E(()=>e.chain)),n=q(1),{isFetching:r,data:l}=bs(q("crvusd"),t,E(()=>e.chain),n),i=q(1),{isFetching:c,data:d}=ys(q("crvusd"),t,E(()=>e.chain),i);return(u,v)=>{var h,g,f,w;return _(),C("div",n_,[m(o(Ms),{style:{"grid-area":"ohlc"},ohlc:o(s)??[],loading:o(a)},null,8,["ohlc","loading"]),m(o(Us),{style:{"grid-area":"trades"},trades:((h=o(l))==null?void 0:h.trades)??[],count:((g=o(l))==null?void 0:g.count)??0,chain:u.chain,loading:o(r),onPage:v[0]||(v[0]=k=>n.value=k)},null,8,["trades","count","chain","loading"]),m(o(Rs),{style:{"grid-area":"events"},events:((f=o(d))==null?void 0:f.events)??[],count:((w=o(d))==null?void 0:w.count)??0,loading:o(c),onPage:v[1]||(v[1]=k=>i.value=k)},null,8,["events","count","loading"])])}}}),r_=T(l_,[["__scopeId","data-v-fb72a747"]]),i_={class:"market-overview"},c_=L({__name:"Market.page",setup(e){const{show:t,crumbs:a}=O(Pe()),s=be("marketAddr"),{isFetching:n,data:r}=ya(),l=y(()=>r.value.find(d=>d.address===s.value));G(l,d=>{a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ve(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:c}=rt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:s.value}));return(d,u)=>{const v=nt,h=Re,g=Me;return _(),C("div",i_,[m(v,{class:M(["spinner",{loading:o(n)}])},null,8,["class"]),!o(n)&&o(l)?(_(),A(g,{key:0,active:o(c),onTab:u[0]||(u[0]=f=>c.value=f.index)},{default:b(()=>[m(h,{header:"Overview"},{default:b(()=>[(_(),A(de,null,[o(i)==="overview"?(_(),A(ah,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),m(h,{header:"Trading"},{default:b(()=>[(_(),A(de,null,[o(i)==="trading"?(_(),A(r_,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),m(h,{header:"Liquidations"},{default:b(()=>[(_(),A(de,null,[o(i)==="liquidations"?(_(),A(Wh,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),u_=T(c_,[["__scopeId","data-v-9ba821e5"]]);function tt(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const d_=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),p_=e=>{const t=parseFloat(e.rate),a=parseFloat(e.borrow_apy)/100,s=parseFloat(e.lend_apy)/100,n=e.n_loans,r=parseFloat(e.price_oracle),l=parseFloat(e.amm_price),i=parseFloat(e.total_debt),c=parseFloat(e.total_debt_usd),d=parseFloat(e.total_assets),u=parseFloat(e.total_assets_usd),v=parseFloat(e.minted),h=parseFloat(e.redeemed),g=parseFloat(e.collateral_balance),f=parseFloat(e.collateral_balance_usd),w=parseFloat(e.borrowed_balance),k=parseFloat(e.borrowed_balance_usd),$=ke(e.timestamp),I=e.liquidation_discount,S=e.loan_discount;return{rate:t,borrowApy:a,lendApy:s,numLoans:n,priceOracle:r,ammPrice:l,totalDebt:i,totalDebtUsd:c,totalAssets:d,totalAssetsUsd:u,minted:v,redeemed:h,collateralBalance:g,collateralBalanceUsd:f,borrowedBalance:w,borrowedBalanceUsd:k,timestamp:$,discountLiquidation:I,discountLoan:S}},sa="https://prices.curve.fi";class m_ extends Te{async getChains(){return this.fetch(`${sa}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${sa}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(d_)}async getSnapshots(t,a){return(await this.fetch(`${sa}/v1/lending/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(p_)}}const Ta=new m_;function v_(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function h_(){return{initialData:[],initialDataUpdatedAt:0}}function __(){return W({queryKey:["llama-markets-chains"],queryFn:()=>Ta.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Os(e){return W({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>Ta.getMarkets(t)})}function ut(e,t){return W({queryKey:["llama-market-snapshots",v_(e)],queryFn:({queryKey:[,a]})=>Ta.getSnapshots(t.value,a),...h_(),enabled:y(()=>!!e.value&&!!t.value)})}const St=e=>(H("data-v-06735a04"),e=e(),z(),e),f_={class:"end"},g_={class:"end"},y_={class:"end"},b_={class:"end"},w_=St(()=>p("div",null,null,-1)),k_=St(()=>p("div",null,null,-1)),$_=St(()=>p("div",null,null,-1)),C_=St(()=>p("div",null,null,-1)),S_=St(()=>p("div",null,null,-1)),A_={class:"end"},L_={class:"end"},T_=L({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const a=t,s=y(()=>e.type==="long"?"Markets - Long":"Markets - Short"),n=y(()=>e.pairs.map(i=>({count:(i.long?1:0)+(i.short?1:0),...i})).orderBy([i=>i.count,({long:i,short:c})=>tt(i)+tt(c)],["desc","desc"]).map(({long:i,short:c})=>e.type==="long"?i:c));function r(i){return i.name.replace(/(-long|-short)/i,"")}const l=i=>e.type==="long"?i.collateral_token.address:i.borrowed_token.address;return(i,c)=>{const d=Le,u=Y,v=se,h=R;return _(),A(h,{title:o(s),loading:i.loading},{default:b(()=>[m(v,{class:"markets-table","expand-side":"left",rows:o(n),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:c[0]||(c[0]=g=>a("selected",g))},{row:b(({item:g})=>[g?(_(),C(Z,{key:0},[m(d,{chain:i.chain,address:l(g)},null,8,["chain","address"]),p("div",null,V(r(g)),1),p("div",f_,[g.borrow_apy?(_(),A(u,{key:0,value:g.borrow_apy,type:"percentage"},null,8,["value"])):D("",!0)]),p("div",g_,[g.lend_apy?(_(),A(u,{key:0,value:g.lend_apy,type:"percentage"},null,8,["value"])):D("",!0)]),p("div",y_,[o(tt)(g)?(_(),A(u,{key:0,value:o(tt)(g),type:"dollar"},null,8,["value"])):D("",!0)]),p("div",b_,V(g.n_loans),1)],64)):D("",!0)]),"row-aggregation":b(()=>[w_,k_,$_,C_,S_,p("div",A_,[m(u,{value:o(n).filter(g=>g).map(g=>g).reduce((g,f)=>g+o(tt)(f),0),type:"dollar"},null,8,["value"])]),p("div",L_,V(o(n).filter(g=>g).map(g=>g).reduce((g,f)=>g+f.n_loans,0)),1)]),"row-details":b(()=>[U("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}}),Ka=T(T_,[["__scopeId","data-v-06735a04"]]),I_={class:"llamalend"},V_={class:"toolbar"},q_={class:"markets"},P_={class:"kpis"},F_={class:"markets"},D_={class:"kpis"},B_=L({__name:"LlamaLend.page",setup(e){const t=be("chain"),a=y({get(){return t.value?t.value:"ethereum"},set(w){t.value=w}}),s=q(""),n=y(()=>r.value.filter(({long:w,short:k})=>{const $=s.value.toLocaleLowerCase().split(" ");return(S=>$.some(P=>S.toLocaleLowerCase().includes(P)))(`${(w==null?void 0:w.name)??""}${(k==null?void 0:k.name)??""}`)})),r=y(()=>{const w=["crvusd"],k=(i.value??[]).map(S=>({market:S,isLong:w.includes(S.borrowed_token.symbol.toLocaleLowerCase()),isShort:w.includes(S.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:S,isShort:P})=>S||P),$=[],I=new Set;for(const{market:S,isLong:P,isShort:F}of k){if(I.has(S.controller))continue;I.add(S.controller);const K=k.find(Ce=>Ce.market.borrowed_token.address===S.collateral_token.address&&Ce.market.collateral_token.address===S.borrowed_token.address);K&&I.add(K.market.controller),$.push({long:P?S:K==null?void 0:K.market,short:F?S:K==null?void 0:K.market})}return $}),{isFetching:l,data:i}=Os(a),{data:c}=__(),{show:d,crumbs:u}=O(Pe());ve(()=>{d.value=!0,u.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:a.value})},{id:"market",label:"Select market for details",hint:!0}]});const v=st(),h=async w=>{w&&await v.push({name:"llamalendmarket",params:{tab:"",chain:a.value,marketAddr:w.controller}})},g=w=>n.value.map(k=>w==="long"?k.long:k.short).filter(k=>!!k).reduce((k,$)=>k+$.total_debt_usd,0),f=w=>{const k=n.value.map($=>w==="long"?$.long:$.short).filter($=>!!$).reduce(({debt:$,assets:I},S)=>({debt:$+S.total_debt_usd,assets:I+S.total_assets_usd}),{debt:0,assets:0});return k.assets===0?0:k.debt/k.assets*100};return(w,k)=>{const $=Ae,I=Y,S=pe;return _(),C("div",I_,[(_(),A(Bt,{to:"#toolbar"},[p("div",V_,[m($,{modelValue:o(s),"onUpdate:modelValue":k[0]||(k[0]=P=>ae(s)?s.value=P:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(bt,{class:"chain-select",chain:o(a),chains:o(c),onSelectChain:k[1]||(k[1]=P=>a.value=P==="all"?"ethereum":P)},null,8,["chain","chains"])])])),p("div",q_,[p("div",P_,[m(S,{label:"Open Interest","has-value":!o(l)},{default:b(()=>[m(I,{value:g("long"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(S,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!o(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:b(()=>[m(I,{value:f("long"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(o(Ka),{style:{"grid-column":"1"},type:"long",pairs:o(n),loading:o(l),chain:o(a),onSelected:h},null,8,["pairs","loading","chain"])]),p("div",F_,[p("div",D_,[m(S,{label:"Open Interest","has-value":!o(l)},{default:b(()=>[m(I,{value:g("short"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(S,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!o(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:b(()=>[m(I,{value:f("short"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(o(Ka),{style:{"grid-column":"2"},type:"short",pairs:o(n),loading:o(l),chain:o(a),onSelected:h},null,8,["pairs","loading","chain"])])])}}}),M_=T(B_,[["__scopeId","data-v-26901192"]]),R_={class:"actions"},U_=L({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{theme:t,themeId:a}=O(N()),{items:s,toggles:n,disabled:r}=Ve(()=>{const{blue:f,yellow:w,purple:k}=t.value.colors;return[{id:"supply",label:"Supply",color:f},{id:"debt",label:"Debt",color:w},{id:"util",label:"Util %",color:k,togglable:!0}]}),{isFetching:l,data:i}=ut(E(()=>e.market),E(()=>e.chain)),c=q(!1),d=q(void 0),{chart:u,chartRef:v,series:h}=te({recreateChartTrigger:y(()=>`${a.value}-${n.util.value}`),createChartOptions:f=>ee(f,t.value,{leftPriceScale:{visible:n.util.value}}),series:[{type:"Line",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:f=>`$${Q(f,0,"dollar")}${x(f,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:f=>`$${Q(f,0,"dollar")}${x(f,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:y(()=>({priceFormat:{type:"custom",formatter:f=>`${Math.round(f*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:t.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});J(g);function g(){var $,I,S,P;if(!u.value||!h.supply||!h.debt||!h.util)return;const f=i.value.map(F=>({time:F.timestamp,value:F.totalAssetsUsd})).uniqWith((F,K)=>F.time===K.time).orderBy(F=>F.time,"asc"),w=i.value.map(F=>({time:F.timestamp,value:F.totalDebtUsd})).uniqWith((F,K)=>F.time===K.time).orderBy(F=>F.time,"asc"),k=(n.util.value?f:[]).zip(w).map(([F,K])=>({time:K.time,value:F.value>0?K.value/F.value:0})).uniqWith((F,K)=>F.time===K.time).orderBy(F=>F.time,"asc");if(h.supply.setData(f),h.debt.setData(w),h.util.setData(k),h.util.applyOptions({visible:n.util.value}),f.length>0||w.length>0){const F=Math.min((($=f.at(0))==null?void 0:$.time)??1/0,((I=w.at(0))==null?void 0:I.time)??1/0),K=Math.max(((S=f.at(-1))==null?void 0:S.time)??-1/0,((P=w.at(-1))==null?void 0:P.time)??-1/0);u.value.timeScale().setVisibleRange({from:F,to:K})}}return(f,w)=>{const k=Ie,$=R;return _(),A($,{ref_key:"chartCard",ref:d,class:"chart-card",title:"Supply & Debt",loading:o(l)},{actions:b(()=>{var I;return[p("div",R_,[m(k,{items:o(s),disabled:o(r),onToggle:w[0]||(w[0]=S=>o(n)[S].value=!o(n)[S].value)},null,8,["items","disabled"]),m(o(lt),{modelValue:o(c),"onUpdate:modelValue":w[1]||(w[1]=S=>ae(c)?c.value=S:null),chart:o(u),target:(I=o(d))==null?void 0:I.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[p("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["loading"])}}}),O_=T(U_,[["__scopeId","data-v-06df5b01"]]),E_={class:"actions"},W_=L({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=ut(E(()=>e.market),E(()=>e.chain)),{theme:s}=O(N()),n=y(()=>e.market?e.market.collateral_token.symbol:"?"),r=y(()=>e.market?e.market.borrowed_token.symbol:"?"),{items:l}=Ve(()=>[{id:n.value,label:n.value,color:s.value.colors.blue},{id:r.value,label:r.value,color:s.value.colors.yellow}]),i=q(!0),{chart:c,chartRef:d,series:u}=te({recreateChartTrigger:s,createChartOptions:g=>ee(g,s.value),series:[{type:"Line",name:"collateral",options:y(()=>({priceFormat:{type:"custom",formatter:h},lineWidth:2,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:y(()=>({priceFormat:{type:"custom",formatter:h},lineWidth:2,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});J(v);function v(){var k,$,I,S;if(!c.value||!u.collateral||!u.borrowed)return;const g=i.value,f=a.value.map(P=>({time:P.timestamp,value:g?P.collateralBalanceUsd:P.collateralBalance})).uniqWith((P,F)=>P.time===F.time).orderBy(P=>P.time,"asc"),w=a.value.map(P=>({time:P.timestamp,value:g?P.borrowedBalanceUsd:P.borrowedBalance})).uniqWith((P,F)=>P.time===F.time).orderBy(P=>P.time,"asc");if(f.length>0&&u.collateral.setData(f),w.length>0&&u.borrowed.setData(w),f.length>0||w.length>0){const P=Math.min(((k=f.at(0))==null?void 0:k.time)??1/0,(($=w.at(0))==null?void 0:$.time)??1/0),F=Math.max(((I=f.at(-1))==null?void 0:I.time)??-1/0,((S=w.at(-1))==null?void 0:S.time)??-1/0);c.value.timeScale().setVisibleRange({from:P,to:F})}}function h(g){return`${i.value?"$":""}${Q(g,0,"dollar")}${x(g,"dollar")}`}return(g,f)=>{const w=Ie,k=$t,$=R;return _(),A($,{class:"chart-container",title:"Collateral",loading:o(t)},{actions:b(()=>[p("div",E_,[m(w,{items:o(l)},null,8,["items"]),m(k,{value:"Dollars","model-value":o(i),onClick:f[0]||(f[0]=I=>i.value=!o(i))},null,8,["model-value"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["loading"])}}}),K_=T(W_,[["__scopeId","data-v-af52026f"]]),N_=L({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=ut(E(()=>e.market),E(()=>e.chain)),{theme:s}=O(N()),{chart:n,chartRef:r,series:l}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{localization:{priceFormatter:d=>Math.round(d).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});J(i);function i(){if(!n.value||!l.loans)return;const c=a.value.map(d=>({time:d.timestamp,value:d.numLoans})).uniqWith((d,u)=>d.time===u.time).orderBy(d=>d.time,"asc");if(c.length>0){l.loans.setData(c);const d=c[0].time,u=c[c.length-1].time;n.value.timeScale().setVisibleRange({from:d,to:u})}}return(c,d)=>{const u=R;return _(),A(u,{class:"chart-container",title:"Loans",loading:o(t)},{default:b(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["loading"])}}}),x_=T(N_,[["__scopeId","data-v-ca308a0a"]]),H_={class:"actions"},z_=L({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{theme:t}=O(N()),{items:a}=Ve(()=>[{id:"borrow",label:"Borrow APY",color:t.value.colors.red},{id:"lend",label:"Lend APY",color:t.value.colors.green}]),{isFetching:s,data:n}=ut(E(()=>e.market),E(()=>e.chain)),{chart:r,chartRef:l,series:i}=te({recreateChartTrigger:t,createChartOptions:u=>ee(u,t.value,{localization:{priceFormatter:v=>d(v)}}),series:[{type:"Line",name:"borrowApy",options:y(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,color:t.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:y(()=>({priceFormat:{type:"custom",formatter:d},lineWidth:2,color:t.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});J(c);function c(){var h,g,f,w;if(!r.value||!i.borrowApy||!i.lendApy)return;const u=n.value.map(k=>({time:k.timestamp,value:k.borrowApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc"),v=n.value.map(k=>({time:k.timestamp,value:k.lendApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc");if(u.length>0&&i.borrowApy.setData(u),v.length>0&&i.lendApy.setData(v),u.length>0||v.length>0){const k=Math.min(((h=u.at(0))==null?void 0:h.time)??1/0,((g=v.at(0))==null?void 0:g.time)??1/0),$=Math.max(((f=u.at(-1))==null?void 0:f.time)??-1/0,((w=v.at(-1))==null?void 0:w.time)??-1/0);r.value.timeScale().setVisibleRange({from:k,to:$})}}function d(u){return`${Q(u*100,0,"percentage")}${x(u,"percentage")}`}return(u,v)=>{const h=Ie,g=R;return _(),A(g,{class:"chart-container",title:"Rates",loading:o(s)},{actions:b(()=>[p("div",H_,[m(h,{items:o(a)},null,8,["items"])])]),default:b(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Q_=T(z_,[["__scopeId","data-v-60a8a6c6"]]),j_=["href"],G_={key:1},X_=L({__name:"Addresses",props:{market:{}},setup(e){const t=y(()=>{var n,r,l,i,c;return[{description:"Controller",address:(n=e.market)==null?void 0:n.controller},{description:"Vault",address:(r=e.market)==null?void 0:r.vault},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma},{description:"Policy",address:(i=e.market)==null?void 0:i.policy},{description:"Oracle",address:(c=e.market)==null?void 0:c.oracle}]}),a=n=>`https://etherscan.io/address/${n}`,s=async n=>{await navigator.clipboard.writeText(n)};return(n,r)=>{const l=he,i=se,c=R;return _(),A(c,{title:"Addresses",class:"addresses"},{default:b(()=>[m(i,{class:"addresses-table",rows:o(t)},{row:b(({item:{description:d,address:u}})=>[p("div",null,V(d),1),p("div",null,[u?(_(),C("a",{key:0,class:"font-mono",href:a(u),target:"_blank"},V(u),9,j_)):(_(),C("span",G_,"?"))]),p("div",null,[m(l,{icon:"fas fa-link",onClick:v=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})}}}),Y_=T(X_,[["__scopeId","data-v-4bc733a1"]]),Z_={class:"usage"},J_={class:"two-sides"},ef={class:"collateral"},tf={class:"two-sides"},af={class:"two-sides"},sf=L({__name:"KPIUsage",props:{market:{}},setup(e){const t=y(()=>{var n,r;return(((n=e.market)==null?void 0:n.collateral_balance_usd)??0)+(((r=e.market)==null?void 0:r.borrowed_balance_usd)??0)}),a=y(()=>{var i,c;const n="Collateral",r=((i=e.market)==null?void 0:i.collateral_token.symbol)??"?",l=((c=e.market)==null?void 0:c.borrowed_token.symbol)??"?";return`${n} (${r} / ${l})`}),s=y(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(n,r)=>{var c,d;const l=Y,i=pe;return _(),C("div",Z_,[m(i,{style:{"grid-area":"kpi1"},label:o(a),"has-value":!!n.market},{default:b(()=>{var u,v;return[p("div",J_,[p("div",ef,[m(l,{value:(u=n.market)==null?void 0:u.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),U(" / "),m(l,{value:(v=n.market)==null?void 0:v.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),m(l,{value:o(t),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(i,{style:{"grid-area":"kpi2"},label:`Borrowed (${((c=n.market)==null?void 0:c.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:b(()=>{var u,v;return[p("div",tf,[m(l,{value:(u=n.market)==null?void 0:u.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(v=n.market)==null?void 0:v.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(i,{style:{"grid-area":"kpi3"},label:`Supplied (${((d=n.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:b(()=>{var u,v;return[p("div",af,[m(l,{value:(u=n.market)==null?void 0:u.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(v=n.market)==null?void 0:v.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(i,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:"Utilization Rate",tooltip:"Utilization rate is total supplied divided by total borrowed","has-value":!!n.market},{default:b(()=>[m(l,{value:o(s)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])])}}}),of=T(sf,[["__scopeId","data-v-917ee38f"]]),nf={key:0},lf={class:"token-info"},rf=["href"],cf={key:1},uf=L({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,i){return i?l==="collateral"?{type:"token",symbol:i.collateral_token.symbol,address:i.collateral_token.address}:{type:"token",symbol:i.borrowed_token.symbol,address:i.borrowed_token.address}:{type:"token",symbol:"?",address:"?"}}const s=y(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,r=async l=>{await navigator.clipboard.writeText(l)};return(l,i)=>{const c=Le,d=he,u=se,v=R;return _(),A(v,{class:"properties",title:"Properties"},{default:b(()=>[m(u,{class:"properties-table",rows:o(s)},{row:b(({item:{description:h,value:g}})=>[p("div",null,V(h),1),t(g)?(_(),C("div",nf,[p("div",lf,[m(c,{chain:l.chain,address:g.address},null,8,["chain","address"]),p("div",null,V(g.symbol),1),p("div",null,[p("a",{class:"font-mono",href:n(g.address),target:"_blank"},V(g.address),9,rf)]),p("div",null,[m(d,{icon:"fas fa-link",onClick:f=>r(g.address)},null,8,["onClick"])])])])):(_(),C("div",cf,V(g),1))]),_:1},8,["rows"])]),_:1})}}}),df=T(uf,[["__scopeId","data-v-09259739"]]),pf={class:"market"},mf=L({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=ut(E(()=>e.market),E(()=>e.chain)),s=y(()=>a.value.map(({timestamp:r,collateralBalanceUsd:l,borrowedBalanceUsd:i,totalDebtUsd:c})=>({timestamp:r,ratio:c>0?(l+i)/c:0}))),n=y(()=>a.value.map(({timestamp:r,collateralBalanceUsd:l,borrowedBalanceUsd:i,totalDebtUsd:c})=>({timestamp:r,equity:l+i-c})));return(r,l)=>{const i=Y,c=pe;return _(),C("div",pf,[m(c,{style:{"grid-area":"kpi1"},label:"Borrow APY","has-value":!!r.market},{default:b(()=>{var d;return[m(i,{value:(d=r.market)==null?void 0:d.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi2"},label:"Lend APY","has-value":!!r.market},{default:b(()=>{var d;return[m(i,{value:(d=r.market)==null?void 0:d.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi3"},label:"Loans","has-value":!!r.market},{default:b(()=>{var d;return[U(V(((d=r.market)==null?void 0:d.n_loans)??0),1)]}),_:1},8,["has-value"]),m(c,{style:{"grid-area":"kpi4"},label:"TVL","has-value":!!r.market},{default:b(()=>[m(i,{value:o(tt)(r.market),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(o(O_),{style:{"grid-area":"supply"},market:r.market,chain:r.chain},null,8,["market","chain"]),m(o(K_),{style:{"grid-area":"collateral"},market:r.market,chain:r.chain},null,8,["market","chain"]),m(o(Bs),{style:{"grid-area":"colratio"},ratios:o(s),loading:o(t)},null,8,["ratios","loading"]),m(o(Uh),{style:{"grid-area":"equity"},equity:o(n),loading:o(t)},null,8,["equity","loading"]),m(o(Q_),{style:{"grid-area":"rates"},market:r.market,chain:r.chain},null,8,["market","chain"]),m(o(x_),{style:{"grid-area":"loans"},market:r.market,chain:r.chain},null,8,["market","chain"]),m(o(Y_),{style:{"grid-area":"addresses"},market:r.market},null,8,["market"]),m(o(df),{style:{"grid-area":"properties"},market:r.market,chain:r.chain},null,8,["market","chain"]),m(o(of),{style:{"grid-area":"usage"},market:r.market},null,8,["market"])])}}}),vf=T(mf,[["__scopeId","data-v-b4052d65"]]),hf={class:"trading"},_f=L({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var u;return(u=e.market)==null?void 0:u.llamma}),{isFetching:a,data:s}=La(q("lending"),t,E(()=>e.chain)),n=q(1),{isFetching:r,data:l}=bs(q("lending"),t,E(()=>e.chain),n),i=q(1),{isFetching:c,data:d}=ys(q("lending"),t,E(()=>e.chain),i);return(u,v)=>{var f,w,k,$;const h=Y,g=pe;return _(),C("div",hf,[m(g,{style:{"grid-area":"oracle"},label:"Oracle Price","has-value":!!u.market},{default:b(()=>{var I;return[m(h,{value:(I=u.market)==null?void 0:I.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(g,{style:{"grid-area":"amm"},label:"AMM Price","has-value":!!u.market},{default:b(()=>{var I;return[m(h,{value:(I=u.market)==null?void 0:I.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(Ms),{style:{"grid-area":"ohlc"},ohlc:o(s)??[],loading:o(a)},null,8,["ohlc","loading"]),m(o(Us),{style:{"grid-area":"trades"},trades:((f=o(l))==null?void 0:f.trades)??[],count:((w=o(l))==null?void 0:w.count)??0,chain:u.chain,loading:o(r),onPage:v[0]||(v[0]=I=>n.value=I)},null,8,["trades","count","chain","loading"]),m(o(Rs),{style:{"grid-area":"events"},events:((k=o(d))==null?void 0:k.events)??[],count:(($=o(d))==null?void 0:$.count)??0,loading:o(c),onPage:v[1]||(v[1]=I=>i.value=I)},null,8,["events","count","loading"])])}}}),ff=T(_f,[["__scopeId","data-v-67a87885"]]),gf={class:"liquidations"},yf=L({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var S;return(S=e.market)==null?void 0:S.controller}),{isFetching:a,data:s}=ut(E(()=>e.market),E(()=>e.chain)),n=y(()=>s.value.map(({timestamp:S,priceOracle:P})=>({timestamp:S,priceOracle:P}))),r=y(()=>s.value.map(({timestamp:S,discountLiquidation:P})=>({timestamp:S,discount:P}))),{isFetching:l,data:i}=$s(q("lending"),E(()=>e.chain),t),{isFetching:c,data:d}=ks(q("lending"),E(()=>e.chain),t),{isFetching:u,data:v}=ws(q("lending"),E(()=>e.chain),t),h=y(()=>v.value.map(({timestamp:S,proportion:P})=>({timestamp:S,proportion:P*100}))),{isFetching:g,data:f}=Cs(q("lending"),E(()=>e.chain),t),{isFetching:w,data:k}=Ss(q("lending"),E(()=>e.chain),t),{isFetching:$,data:I}=As(q("lending"),E(()=>e.chain),t);return(S,P)=>(_(),C("div",gf,[m(o(Fs),{overview:o(f),loading:o(g)},null,8,["overview","loading"]),m(o(qs),{ratios:o(h),"prices-oracle":o(n),loading:o(u)||o(a)},null,8,["ratios","prices-oracle","loading"]),m(o(Ts),{losses:o(k),loading:o(w)},null,8,["losses","loading"]),m(o(Is),{losses:o(k),loading:o(w)},null,8,["losses","loading"]),m(o(Vs),{deciles:o(I),loading:o($)},null,8,["deciles","loading"]),m(o(Ls),{liqs:o(i),loading:o(l)},null,8,["liqs","loading"]),m(o(Ds),{liqs:o(d),loading:o(c)},null,8,["liqs","loading"]),m(o(Ps),{discounts:o(r),liqs:o(d),loading:o(a)||o(c)},null,8,["discounts","liqs","loading"])]))}}),bf=T(yf,[["__scopeId","data-v-34d8f6cb"]]),wf={class:"market-overview"},kf=L({__name:"Market.page",setup(e){const{show:t,crumbs:a}=O(Pe()),s=be("chain"),n=be("marketAddr"),{isFetching:r,data:l}=Os(s),i=y(()=>{var u;return(u=l.value)==null?void 0:u.find(v=>v.controller===n.value)});G(i,u=>{a.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:s.value})},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),ve(()=>{t.value=!0});const{tabActive:c,tabActiveIndex:d}=rt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:s.value,marketAddr:n.value}));return(u,v)=>{const h=nt,g=Re,f=Me;return _(),C("div",wf,[m(h,{class:M(["spinner",{loading:o(r)}])},null,8,["class"]),!o(r)&&o(i)?(_(),A(f,{key:0,active:o(d),onTab:v[0]||(v[0]=w=>d.value=w.index)},{default:b(()=>[m(g,{header:"Overview"},{default:b(()=>[(_(),A(de,null,[o(c)==="overview"?(_(),A(vf,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),m(g,{header:"Trading"},{default:b(()=>[(_(),A(de,null,[o(c)==="trading"?(_(),A(ff,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),m(g,{header:"Liquidations"},{default:b(()=>[(_(),A(de,null,[o(c)==="liquidations"?(_(),A(bf,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),$f=T(kf,[["__scopeId","data-v-5c0a9226"]]);function Es(e){const{url:t,connectOnMount:a=!0}=e,s=ca(null),n=q("");function r(){return s.value&&v(),n.value=typeof t=="function"?t():t,Oo(n.value,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",g=>{Se({text:`Socket.IO error: ${g.message}`,type:"error"})})}const l=q(!1),i=q(!1);function c(){l.value=!1,i.value=!0}function d(){Se({text:`Failed to connect to ${n.value}`,type:"error"}),l.value=!1}function u(){s.value=null,i.value=!1}function v(){var g,f,w,k;(g=s.value)==null||g.off("connect",c),(f=s.value)==null||f.off("connect_error",d),(w=s.value)==null||w.off("disconnect",u),(k=s.value)==null||k.disconnect(),u()}function h(){l.value||(s.value&&v(),s.value=r(),s.value.on("connect",c),s.value.on("connect_error",d),s.value.on("disconnect",u),l.value=!0,s.value.connect())}return a&&ve(h),{socket:s,connecting:l,isConnected:i,connect:h,disconnect:v,url:n}}var ye=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))(ye||{});let oa;function Ws(){return oa||(oa=Es({url:"wss://api.curvemonitor.com/main"})),oa}function na(e,t,a,...s){return new Promise(n=>{e.once(a,n),e.emit(t,...s)})}function Cf(e,t,a){return new Eo(s=>{const n=r=>{s.next(r)};return e.on(t,n),()=>e.off(t,n)}).pipe(Wo())}class Ks{constructor(t){this.socket=t}getSandwiches(){return na(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return na(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return na(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function Ns(){const{socket:e,isConnected:t,url:a}=Ws(),s=y(()=>e.value?new Ks(e.value):null),n=y(()=>["mev-labels",a.value]);return W({queryKey:n,queryFn:()=>{var r;return(r=s.value)==null?void 0:r.getLabels()},enabled:t})}function Sf(){const{socket:e,isConnected:t,url:a}=Ws(),s=y(()=>e.value?new Ks(e.value):null),n=y(()=>["mev-sandwiches-tx",a.value]);return W({queryKey:n,queryFn:()=>{var r;return(r=s.value)==null?void 0:r.getSandwiches()},enabled:t})}const Af=L({__name:"LabelsWorstRelative",setup(e){const{theme:t}=O(N()),{data:a,isFetching:s}=Ns(),n=d=>(d??[]).filter(u=>u.numOfAllTx>=12).map(u=>({...u,ratio:Number((u.occurrences/u.numOfAllTx*100).toFixed(2))})).sort((u,v)=>v.ratio-u.ratio).slice(0,10),r=y(()=>n(a.value).map(d=>d.label)),l=y(()=>n(a.value).map(d=>d.ratio)),i=y(()=>$e(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const u=d.w.globals.labels[d.seriesIndex],v=d.series[d.seriesIndex];return[`<div><b>${u}</b>:</div><div>Ratio: ${c(v)}</div>`].join("")}},labels:r.value})),c=d=>`${d}%`;return(d,u)=>{const v=Fe;return _(),A(v,{class:"mevLabels",title:"Worst relative offenders",options:o(i),series:o(l),loading:o(s)},null,8,["options","series","loading"])}}}),Lf=T(Af,[["__scopeId","data-v-323edaa5"]]),Tf=L({__name:"LabelsWorstAbsolute",setup(e){const{theme:t}=O(N()),{data:a,isFetching:s}=Ns(),n=d=>(d??[]).filter(u=>u.numOfAllTx>=12).map(u=>({...u,occurrences:u.occurrences})).sort((u,v)=>v.occurrences-u.occurrences).slice(0,10),r=y(()=>n(a.value).map(d=>d.label)),l=y(()=>n(a.value).map(d=>d.occurrences)),i=y(()=>$e(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const u=d.w.globals.labels[d.seriesIndex],v=d.series[d.seriesIndex];return[`<div><b>${u}</b>:</div><div>Occurences: ${c(v)}</div>`].join("")}},labels:r.value})),c=d=>`${d}`;return(d,u)=>{const v=Fe;return _(),A(v,{class:"mevLabels",title:"Worst absolute offenders",options:o(i),series:o(l),loading:o(s)},null,8,["options","series","loading"])}}}),If=T(Tf,[["__scopeId","data-v-a1d10c28"]]),Vf={style:{display:"grid","grid-template-columns":"auto auto"}},qf={style:{display:"flex",gap:"1rem"}},Pf={key:0,class:"fas fa-arrow-up"},Ff={key:1,class:"fas fa-arrow-down"},Df={key:2,class:"fas fa-exchange-alt"},Bf={key:0,class:"end"},Mf=["href"],Rf=["href"],Uf=["href"],Of=["innerHTML"],Ef={key:1,class:"end"},Na=10,Wf=L({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{relativeTime:t}=He(),a=q(""),s=q([ye.Swap,ye.Deposit,ye.Remove]),n=y(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),r=y(()=>(e.txs??[]).filter(v=>s.value.includes(v.transaction_type)).filter(v=>{const h=a.value.toLocaleLowerCase().split(" "),g=f=>h.some(w=>f.toLocaleLowerCase().includes(w));return g(v.block_number.toString())||g(v.trader)||g(v.tx_hash)})),{page:l,rowsPage:i,onPage:c}=xt(r,Na),d=v=>{if(v.transaction_type===ye.Swap){const h=v.coins_leaving_wallet[0],g=v.coins_entering_wallet[0],f=Ke(parseFloat(h.amount.toString())),w=Ke(parseFloat(g.amount.toString())),k=`<span>${f} ${h.name}</span>`,$="<i class='fas fa-arrow-right'></i>",I=`<span style='justify-self: end;'>${w} ${g.name}</span>`;return`${k}${$}${I}`}else if(v.transaction_type===ye.Deposit){const h=v.coins_entering_wallet[0];return`${Ke(parseFloat(h.amount.toString()))} ${h.name}`}else{const h=v.coins_leaving_wallet[0];return`${Ke(parseFloat(h.amount.toString()))} ${h.name}`}},u=v=>{v===0?s.value=[ye.Swap,ye.Deposit,ye.Remove]:v===1?s.value=[ye.Swap]:v===2?s.value=[ye.Deposit]:v===3?s.value=[ye.Remove]:s.value=[]};return(v,h)=>{const g=Re,f=Me,w=Ae,k=Be,$=se,I=R;return _(),A(I,{class:"trades-card",title:"Transactions"},Ko({default:b(()=>[m($,{class:M(["trades-table",{compact:v.compact,time:v.time}]),rows:o(i),columns:o(n)},{row:b(S=>[p("div",{class:M(["type",{deposit:S.item.transaction_type==="deposit",remove:S.item.transaction_type==="remove",swap:S.item.transaction_type==="swap"}])},[S.item.transaction_type==="deposit"?(_(),C("i",Pf)):S.item.transaction_type==="remove"?(_(),C("i",Ff)):(_(),C("i",Df)),U(" "+V(o(_t)(S.item.transaction_type)),1)],2),v.time?(_(),C("div",Bf,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${S.item.block_number}`,target:"_blank"},V(S.item.block_number),9,Mf)])):D("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${S.item.tx_hash}`,target:"_blank",onClick:h[2]||(h[2]=fe(()=>{},["stop"]))},V(o(we)(S.item.tx_hash)),9,Rf)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${S.item.trader}`,target:"_blank",onClick:h[3]||(h[3]=fe(()=>{},["stop"]))},V(o(we)(S.item.trader)),9,Uf)]),p("div",{class:M(["assets",{swap:S.item.transaction_type==="swap"}]),innerHTML:d(S.item)},null,10,Of),v.time?(_(),C("div",Ef,V(o(t)(S.item.block_unixtime)),1)):D("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[v.header?{name:"actions",fn:b(()=>[p("div",Vf,[m(f,{class:"types",onTab:h[0]||(h[0]=S=>u(S.index))},{default:b(()=>[m(g,{header:"All"}),m(g,{header:"Swaps"}),m(g,{header:"Deposits"}),m(g,{header:"Removals"})]),_:1})]),p("div",qf,[m(w,{modelValue:o(a),"onUpdate:modelValue":h[1]||(h[1]=S=>ae(a)?a.value=S:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(k,{class:"pagination","items-count":o(r).length,"items-per-page":Na,page:o(l),onPage:o(c)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1024)}}}),Kf=T(Wf,[["__scopeId","data-v-3c3f60b0"]]),Nf={style:{display:"flex",gap:"1rem"}},xf=["href"],Hf={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},zf=["href"],Qf={class:"end"},la=10,jf=L({__name:"Sandwiches",setup(e){const t=q(1),{data:a,isFetching:s}=Sf(),{expanded:n,toggleExpansion:r}=gs(),{relativeTime:l}=He(),i=q(""),c=y(()=>{var v;return((v=a.value)==null?void 0:v.totalPages)??0*la}),d=y(()=>{var v;return(((v=a.value)==null?void 0:v.data)??[]).filter(h=>{const g=i.value.toLocaleLowerCase().split(" "),f=w=>g.some(k=>w.toLocaleLowerCase().includes(k));return f(h.poolName)||f(h.poolAddress)||f(h.label)}).orderBy([h=>h.frontrun.block_unixtime,h=>h.frontrun.tx_position],"desc")}),u=v=>[v.frontrun,...v.center,v.backrun].orderBy([h=>h.block_unixtime,h=>h.tx_position]);return(v,h)=>{const g=Ae,f=Be,w=se,k=R;return _(),A(k,{class:"sandwiches-card",title:"Sandwiches",loading:o(s)},{actions:b(()=>[p("div",Nf,[m(g,{modelValue:o(i),"onUpdate:modelValue":h[0]||(h[0]=$=>ae(i)?i.value=$:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),o(c)>la?(_(),A(f,{key:0,class:"pagination","items-count":o(c),"items-per-page":la,page:o(t),onPage:h[1]||(h[1]=$=>t.value=$)},null,8,["items-count","page"])):D("",!0)])]),default:b(()=>[m(w,{class:"sandwiches-table",rows:o(d),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:o(n),onSelected:h[2]||(h[2]=$=>o(r)($))},{row:b($=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.poolAddress}`,target:"_blank"},V($.item.poolName),9,xf)]),p("div",null,[p("div",Hf,[p("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${$.item.center[0].trader}`},V(o(we)($.item.center[0].trader)),9,zf),p("span",null," lost "+V(o(Ke)($.item.user_losses_details.reduce((I,S)=>I+S.amount,0)))+" "+V($.item.user_losses_details[0].unit),1),p("span",null,V(o(Ke)(-$.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+V(o(Ke)($.item.lossInUsd)),1)])]),p("div",null,V($.item.label),1),p("div",Qf,V(o(l)($.item.frontrun.block_unixtime)),1)]),"row-details":b($=>[m(Kf,{class:"transactions",txs:u($.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["loading"])}}}),Gf=T(jf,[["__scopeId","data-v-df4130f4"]]),Xf={class:"mev"},Yf=L({__name:"MEV",setup(e){return(t,a)=>(_(),C("div",Xf,[m(Gf,{style:{"grid-area":"sws"}}),m(Lf,{style:{"grid-area":"relative"}}),m(If,{style:{"grid-area":"absolute"}})]))}}),Zf=T(Yf,[["__scopeId","data-v-861d7244"]]),Jf={class:"monitor"},eg=L({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["mev"],"monitor");return(s,n)=>{const r=Re,l=Me;return _(),C("div",Jf,[m(l,{active:o(a),onTab:n[0]||(n[0]=i=>a.value=i.index)},{default:b(()=>[m(r,{header:"MEV"},{default:b(()=>[(_(),A(de,null,[o(t)==="mev"?(_(),A(Zf,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),tg=T(eg,[["__scopeId","data-v-b5d30464"]]),ag=["all","ownership","parameter","other"];function at(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":zs(e)&&Hs(e)&&xs(e)?"passed":"denied"}function xs(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function Hs(e){return e.votesFor>e.quorum*e.totalSupply}function zs(e){return e.votesFor>e.votesAgainst}const Qs=e=>{var w;const t=e.vote_id,a=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",s=(w=e.metadata)!=null&&w.startsWith('"')?e.metadata.substring(1):e.metadata??"",n=e.creator.toLocaleLowerCase(),r=e.snapshot_block,l=e.start_date,i=l+604800,c=We(BigInt(e.min_accept_quorum),18n),d=We(BigInt(e.support_required),18n),u=e.vote_count,v=We(BigInt(e.votes_for),18n),h=We(BigInt(e.votes_against),18n),g=e.executed,f=We(BigInt(e.total_supply),18n);return{id:t,type:a,metadata:s,proposer:n,block:r,start:l,end:i,quorum:c,support:d,voteCount:u,votesFor:v,votesAgainst:h,executed:g,totalSupply:f}},sg=e=>{const t=Qs(e),a=e.script,s=e.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:We(BigInt(n.voting_power),18n)}));return{...t,script:a,votes:s}},xa="https://prices.curve.fi";class og extends Te{async getProposals(t,a,s,n){const r=await this.fetch(`${xa}/v1/dao/proposals?pagination=10&page=${t}&search_string=${a}&type_filter=${s}&status_filter=${n}`);return{proposals:r.proposals.map(Qs),count:r.count}}async getProposal(t,a){const s=await this.fetch(`${xa}/v1/dao/proposals/details/${a}/${t}`);return sg(s)}}const js=new og;function Gs(e,t,a){return W({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,s,n]})=>js.getProposal(s,n),...a&&{enabled:a}})}function ng(e,t,a,s){return W({queryKey:["curve-proposals",e,s,t,a],queryFn:({queryKey:[,n,r,l,i]})=>js.getProposals(n,r,l,i),placeholderData:Mt})}const lg=L({__name:"Status",props:{proposal:{}},setup(e){const t=y(()=>{if(at(e.proposal)==="denied")if(Hs(e.proposal))if(zs(e.proposal)){if(!xs(e.proposal))return"Quorum was reached and 'for' won, but not enough for support"}else return"More 'against' votes than 'for' votes";else return"Quorum was not reached (yes votes need to pass this number)";return""}),a=y(()=>{switch(at(e.proposal)){case"active":return"Active";case"denied":return"Denied";case"passed":return"Passed";case"executed":return"Executed";default:return"Unk. Status"}});return(s,n)=>{const r=Ot,l=pe;return _(),A(l,{class:"status","tooltip-type":"underline",label:"Status","has-value":!0,tooltip:o(t)},{default:b(()=>[o(t)?(_(),A(r,{key:0},{trigger:b(()=>[p("span",{class:M(["status-value",o(at)(s.proposal)])},V(o(a)),3)]),default:b(()=>[U(" "+V(o(t)),1)]),_:1})):(_(),C("span",{key:1,class:M(["status-value",o(at)(s.proposal)])},V(o(a)),3))]),_:1},8,["tooltip"])}}}),rg=T(lg,[["__scopeId","data-v-2f9513ce"]]),ig=L({__name:"Type",props:{proposal:{}},setup(e){return(t,a)=>{const s=pe;return _(),A(s,{class:"type",label:"Type",value:o(_t)(t.proposal.type),"has-value":!0},null,8,["value"])}}}),cg=["href"],ug=L({__name:"Proposer",props:{proposal:{}},setup(e){return(t,a)=>{const s=pe;return _(),A(s,{class:"proposer",label:"Proposer","has-value":!0},{default:b(()=>[p("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},V(o(we)(t.proposal.proposer)),9,cg)]),_:1})}}}),Ha=L({__name:"Date",props:{proposal:{},type:{}},setup(e){let t;const a=q(""),s=y(()=>{switch(e.type){case"start":return"Start";case"end":return"End";default:return"Unk. Type"}}),n=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const i=new Date(e.proposal.end*1e3);return i>new Date?a.value:i.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),r=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});ve(()=>{l()});const l=()=>{const i=new Date(e.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=Pn(i)})};return(i,c)=>{const d=pe;return _(),A(d,{class:"date","tooltip-type":"underline",label:o(s),value:o(n),"has-value":!0,tooltip:o(r)},null,8,["label","value","tooltip"])}}}),Xs=e=>(H("data-v-a0e3f25a"),e=e(),z(),e),dg=Xs(()=>p("i",{class:"fas fa-link"},null,-1)),pg={class:"metadata"},mg={class:"row"},vg=Xs(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),hg=[vg],_g=L({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const a=t,s=y(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),n=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(r,l)=>{const i=Ne("router-link");return _(),C("div",{class:"proposal-summary",onClick:l[0]||(l[0]=c=>a("toggleExpand"))},[p("div",{class:M(["title",{"no-title":!r.proposal.metadata}])},[m(i,{to:o(s),class:"id",onClick:n},{default:b(()=>[dg,U(" "+V(r.proposal.id),1)]),_:1},8,["to"]),p("div",pg,V(r.proposal.metadata||"< No Title >"),1)],2),p("div",mg,[m(rg,{class:"item",proposal:r.proposal},null,8,["proposal"]),m(ig,{class:"item",proposal:r.proposal},null,8,["proposal"]),m(ug,{class:"item",proposal:r.proposal},null,8,["proposal"]),m(Ha,{class:"item",proposal:r.proposal,type:"start"},null,8,["proposal"]),m(Ha,{class:"item",proposal:r.proposal,type:"end"},null,8,["proposal"]),p("div",{class:M(["item expander",{expanded:r.expanded}])},hg,2)])])}}}),fg=T(_g,[["__scopeId","data-v-a0e3f25a"]]),De=e=>(H("data-v-7df0a29d"),e=e(),z(),e),gg={class:"results"},yg=De(()=>p("div",{class:"heading"},"Results",-1)),bg={class:"choice"},wg=De(()=>p("div",{class:"label"},"For",-1)),kg={class:"amount"},$g={class:"left"},Cg=De(()=>p("span",null," veCRV",-1)),Sg={class:"right"},Ag=De(()=>p("span",null,"(",-1)),Lg=De(()=>p("span",null,")",-1)),Tg={class:"choice"},Ig=De(()=>p("div",{class:"label"},"Against",-1)),Vg={class:"amount"},qg={class:"left"},Pg=De(()=>p("span",null," veCRV",-1)),Fg={class:"right"},Dg=De(()=>p("span",null,"(",-1)),Bg=De(()=>p("span",null,")",-1)),za=4,Mg=L({__name:"VotingResults",props:{proposal:{}},setup(e){const t=y(()=>e.proposal.votesFor+e.proposal.votesAgainst),a=y(()=>e.proposal.votesFor/t.value*100),s=y(()=>e.proposal.votesAgainst/t.value*100);return(n,r)=>{const l=Y;return _(),C("div",gg,[yg,p("div",bg,[wg,p("div",kg,[p("div",$g,[m(l,{value:n.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Cg]),p("div",Sg,[Ag,m(l,{value:o(a),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Lg])]),p("div",{class:"bar",style:_e({width:`${Math.max(za,o(a))}%`})},null,4)]),p("div",Tg,[Ig,p("div",Vg,[p("div",qg,[m(l,{value:n.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Pg]),p("div",Fg,[Dg,m(l,{value:o(s),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Bg])]),p("div",{class:"bar",style:_e({width:`${Math.max(za,o(s))}%`})},null,4)])])}}}),Rg=T(Mg,[["__scopeId","data-v-7df0a29d"]]),Ys=e=>(H("data-v-d418450d"),e=e(),z(),e),Ug={class:"quorum"},Og=Ys(()=>p("div",{class:"heading"},"Quorum",-1)),Eg={class:"amount"},Wg={class:"bar"},Kg={class:"percentages"},Ng=Ys(()=>p("div",{class:"zero"},"0%",-1)),xg={class:"quorum"},Hg=L({__name:"VotingQuorum",props:{proposal:{}},setup(e){const t=y(()=>e.proposal.votesFor),a=y(()=>e.proposal.quorum*e.proposal.totalSupply),s=y(()=>t.value/a.value*100);return(n,r)=>{const l=Y;return _(),C("div",Ug,[Og,p("div",Eg,[m(l,{value:o(t),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" / "),m(l,{value:o(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" veCRV ")]),p("div",Wg,[p("div",{class:"support",style:_e({width:`${o(s)}%`})},null,4),p("div",{class:"quorum",style:_e({width:`${100-o(s)}%`})},null,4)]),p("div",Kg,[Ng,p("div",xg,[m(l,{value:n.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}}),zg=T(Hg,[["__scopeId","data-v-d418450d"]]),Qg=["min","max"],jg=L({__name:"Slider",props:qe({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ot(e,"modelValue",{set(a){return Number(a)}});return(a,s)=>va((_(),C("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),type:"range",min:a.min,max:a.max},null,8,Qg)),[[Xa,t.value]])}}),Gg=T(jg,[["__scopeId","data-v-f0a8da37"]]),Xg=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],Ye=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],Ia=e=>(H("data-v-8b3d2b54"),e=e(),z(),e),Yg={class:"buttons"},Zg={class:"vecrv"},Jg={class:"info"},e1={class:"kpis"},t1={class:"description"},a1=Ia(()=>p("span",{class:"title"},"Description: ",-1)),s1={class:"options"},o1=Ia(()=>p("span",{class:"label"},"No",-1)),n1={class:"middle"},l1=["contenteditable","textContent"],r1=Ia(()=>p("span",{class:"label"},"Yes",-1)),i1=L({__name:"VotingButtons",props:{proposal:{}},setup(e){const{address:t}=Rt(),a=q(!1),s=q(50),n=q(null),r=q(!1),l=y(()=>{var X;return r.value?`${s.value}.`:s.value===0&&((X=n.value)==null?void 0:X.textContent)!=="0"?"":s.value.toString()}),i=y(()=>(P.value??0n)>0n&&!Qe.value&&u.value&&S.value===0),c=y(()=>i.value?"Submit":Qe.value?"Voting...":u.value?S.value!==0?"You've already voted":"Not enough voting power":"Voting closed"),d=y(()=>We(P.value??0n,18n)),u=y(()=>at(e.proposal)==="active"),v=y(()=>at(e.proposal)==="passed"),h=()=>{const X=window.getSelection();return X&&X.rangeCount>0?X.getRangeAt(0).startOffset:0},g=X=>{if(n.value){const ue=document.createRange();ue.setStart(n.value.firstChild??n.value,X),ue.collapse(!0);const me=window.getSelection();me&&(me.removeAllRanges(),me.addRange(ue))}},f=()=>{s.value=0,n.value&&(n.value.textContent="0")},w=()=>{s.value=100,n.value&&(n.value.textContent="100")},k=X=>{X.target===X.currentTarget&&n.value&&n.value.focus()},$=()=>{if(n.value){const X=n.value.textContent??"",ue=h();if(/^\d*(\.\d*)?$/.test(X))if(r.value=X.endsWith("."),X){const me=parseFloat(X);me>=0&&me<=100?s.value=me:(n.value.textContent=l.value,g(ue-1))}else s.value=0;else n.value.textContent=l.value,g(ue-1)}},{data:I}=pt({abi:Ye,address:Ge,functionName:"token",query:{enabled:a}}),{data:S}=pt({abi:Ye,address:Ge,functionName:"getVoterState",args:y(()=>[BigInt(e.proposal.id),t.value]),query:{enabled:y(()=>!!t.value&&a.value),initialData:0,initialDataUpdatedAt:0}}),{data:P}=pt({abi:Xg,address:I,functionName:"balanceOfAt",args:y(()=>[t.value,BigInt(e.proposal.block)]),query:{enabled:y(()=>!!I.value&&!!t.value&&a.value),initialData:0n,initialDataUpdatedAt:0}}),{data:F,refetch:K}=pt({abi:Ye,address:Ge,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:y(()=>v.value&&a.value),initialData:!1,initialDataUpdatedAt:0}}),{data:Ce}=pt({abi:Ye,address:Ge,functionName:"PCT_BASE",query:{enabled:a}}),{data:Oe,error:B,isPending:ie,writeContract:ce}=Pa(),{isLoading:oe,isSuccess:ne}=Fa({hash:Oe}),Qe=y(()=>ie.value||oe.value);function Ee(){if(!Ce.value){Se({text:qt("Missing PCT_BASE"),type:"error"});return}const X=BigInt(Math.log10(Number(Ce.value))),ue=as(s.value/100,X),me=Ce.value-ue;ce({abi:Ye,address:Ge,functionName:"votePct",args:[BigInt(e.proposal.id),ue,me,!1]})}At(B,X=>{Se({text:qt(X),type:"error"})}),At(ne,()=>{Se({text:"Voted",type:"success"})});const{data:dt,error:Ht,isPending:ro,writeContract:io}=Pa(),{isLoading:co,isSuccess:uo}=Fa({hash:dt}),Va=y(()=>ro.value||co.value);function po(){io({abi:Ye,address:Ge,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),K()}return At(Ht,X=>{Se({text:qt(X),type:"error"})}),At(uo,()=>{Se({text:"Executed proposal",type:"success"})}),(X,ue)=>{const me=he,mo=Y,qa=pe,vo=Gg,ho=R,_o=Ut;return _(),C(Z,null,[p("div",Yg,[m(me,{value:"Vote",primary:!0,onClick:ue[0]||(ue[0]=zt=>a.value=!0)}),o(v)?(_(),A(me,{key:0,value:o(Va)?"Executing...":"Execute",primary:!0,disabled:!o(F)||o(Va),onClick:po},null,8,["value","disabled"])):D("",!0)]),m(_o,{show:o(a),onClose:ue[2]||(ue[2]=zt=>a.value=!1)},{default:b(()=>[m(ho,{title:"Vote with veCRV",class:"vote-content"},{default:b(()=>[p("div",Zg,[p("div",Jg,[p("div",e1,[m(qa,{label:"Voting power","has-value":!0},{default:b(()=>[m(mo,{value:o(d),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),U(" veCRV ")]),_:1}),m(qa,{label:"Block",value:X.proposal.block,"has-value":!0},null,8,["value"])]),p("div",t1,[a1,p("span",null,V(X.proposal.metadata),1)])]),p("div",s1,[m(me,{class:M(["no",{winning:o(s)<50}]),disabled:!o(i),onClick:f},{default:b(()=>[o1]),_:1},8,["class","disabled"]),p("div",n1,[p("i",{class:M(["fas fa-times",{winning:o(s)<50}])},null,2),p("div",{class:M(["value",{disabled:!o(i)}]),onClick:k},[p("span",{ref_key:"editor",ref:n,contenteditable:o(i),onInput:$,textContent:V(o(l))},null,40,l1),U(" % ")],2),p("i",{class:M(["fas fa-check",{winning:o(s)>50}])},null,2)]),m(me,{class:M(["yes",{winning:o(s)>50}]),disabled:!o(i),onClick:w},{default:b(()=>[r1]),_:1},8,["class","disabled"])]),m(vo,{modelValue:o(s),"onUpdate:modelValue":ue[1]||(ue[1]=zt=>ae(s)?s.value=zt:null),class:"slider",disabled:!o(i),min:0,max:100},null,8,["modelValue","disabled"]),m(me,{class:"submit",value:o(c),primary:!0,disabled:!o(i),"chain-id":o(xe).id,onClick:Ee},null,8,["value","disabled","chain-id"])])]),_:1})]),_:1},8,["show"])],64)}}}),c1=T(i1,[["__scopeId","data-v-8b3d2b54"]]),u1={class:"voting"},d1=L({__name:"Voting",props:{proposal:{}},setup(e){return(t,a)=>(_(),C("div",u1,[m(zg,{proposal:t.proposal},null,8,["proposal"]),m(Rg,{proposal:t.proposal},null,8,["proposal"]),m(c1,{proposal:t.proposal},null,8,["proposal"])]))}}),p1=T(d1,[["__scopeId","data-v-8e776315"]]),Zs=e=>(H("data-v-817e3bb8"),e=e(),z(),e),m1={class:"voters"},v1={class:"for"},h1=Zs(()=>p("div",{class:"title"},"For",-1)),_1={class:"address"},f1=["href"],g1={class:"amount"},y1={class:"percentage"},b1={class:"against"},w1=Zs(()=>p("div",{class:"title"},"Against",-1)),k1={class:"percentage"},$1={class:"amount"},C1={class:"address"},S1=["href"],A1=L({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{address:t}=Rt(),a=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(i=>i.supports).orderBy(i=>i.votingPower,"desc"):null),s=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(i=>!i.supports).orderBy(i=>i.votingPower,"desc"):null),n=i=>i==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":i==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":i==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":we(i,12),r=i=>i/(e.proposal.votesFor+e.proposal.votesAgainst)*100,l=i=>i===t.value;return(i,c)=>{const d=Y;return _(),C("div",m1,[p("div",v1,[h1,(_(!0),C(Z,null,le(o(a),u=>(_(),C("div",{key:u.voter,class:"vote"},[p("div",_1,[p("a",{target:"_blank",href:`https://etherscan.io/address/${u.voter}`,class:M({you:l(u.voter)})},V(n(u.voter)),11,f1)]),p("div",g1,[m(d,{value:u.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",y1,[m(d,{value:r(u.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),p("div",b1,[w1,(_(!0),C(Z,null,le(o(s),u=>(_(),C("div",{key:u.voter,class:"vote"},[p("div",k1,[m(d,{value:r(u.votingPower),precision:0,type:"percentage"},null,8,["value"])]),p("div",$1,[m(d,{value:u.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",C1,[p("a",{target:"_blank",href:`https://etherscan.io/address/${u.voter}`,class:M({you:l(u.voter)})},V(n(u.voter)),11,S1)])]))),128))])])}}}),L1=T(A1,[["__scopeId","data-v-817e3bb8"]]),T1=e=>(H("data-v-5705cc25"),e=e(),z(),e),I1={class:"technicals"},V1={class:"technical"},q1=T1(()=>p("div",{class:"heading"},"Description",-1)),P1={class:"description"},F1={class:"technical"},D1={class:"technical"},B1=["innerHTML"],M1=L({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const t=q(!0),a=q(e.proposal.voteCount>0),{data:s}=Gs(E(()=>e.proposal.id),E(()=>e.proposal.type),E(()=>e.expanded)),n=y(()=>s.value?s.value.votes.uniqWith((l,i)=>l.voter===i.voter).length:null),r=y(()=>s.value?s.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,l=>/[A-F]/g.test(l)&&ha(l)?`<a href='https://etherscan.io/address/${l}'>${l}</a>`:l):null);return(l,i)=>{const c=ht;return _(),C("div",I1,[p("div",V1,[q1,p("div",P1,V(l.proposal.metadata),1)]),p("div",F1,[p("div",{class:"heading",onClick:i[0]||(i[0]=d=>a.value=!o(a))},[U(" Voters ("+V(o(n)??"?")+") ",1),p("i",{class:M(["fas fa-chevron-up expander",{expandedVoters:o(a)}])},null,2)]),m(c,{expanded:o(a)},{default:b(()=>[o(s)?(_(),A(L1,{key:0,class:"voters",proposal:l.proposal,"proposal-details":o(s)},null,8,["proposal","proposal-details"])):D("",!0)]),_:1},8,["expanded"])]),p("div",D1,[p("div",{class:"heading",onClick:i[1]||(i[1]=d=>t.value=!o(t))},[U(" Calldata "),p("i",{class:M(["fas fa-chevron-up expander",{expandedCallData:o(t)}])},null,2)]),m(c,{expanded:o(t)},{default:b(()=>[o(s)?(_(),C("div",{key:0,class:"calldata",innerHTML:o(r)},null,8,B1)):D("",!0)]),_:1},8,["expanded"])])])}}}),R1=T(M1,[["__scopeId","data-v-5705cc25"]]),U1={class:"proposal-details"},O1={class:"proposal-details-container"},E1=L({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,a)=>(_(),C("div",U1,[p("div",O1,[m(R1,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),m(p1,{proposal:t.proposal},null,8,["proposal"])])]))}}),W1=T(E1,[["__scopeId","data-v-33738e05"]]),K1=L({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=q(e.initExpanded);return(a,s)=>{const n=ht,r=R;return _(),A(r,{class:"proposal",compact:!0},{default:b(()=>[m(fg,{proposal:a.proposal,expanded:o(t),onToggleExpand:s[0]||(s[0]=l=>t.value=!o(t))},null,8,["proposal","expanded"]),m(n,{class:"proposal-details-collapsible",expanded:o(t)},{default:b(()=>[m(W1,{proposal:a.proposal,expanded:o(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Js=T(K1,[["__scopeId","data-v-c308539c"]]),N1={class:"item"},x1={class:"label"},H1=L({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const a=[...ag].filter(c=>c!=="other"),s=t,n=q(!1),r=q("all"),l=()=>{n.value=!n.value},i=c=>{r.value=c,s("select",r.value)};return(c,d)=>{const u=ft;return _(),A(u,{class:"select",options:o(a).map(v=>v),selected:o(r),open:o(n),onOpen:l,onClose:d[0]||(d[0]=v=>n.value=!1),onInput:i},{item:b(v=>[p("div",N1,[p("div",x1,V(o(_t)(v.item)),1)])]),_:1},8,["options","selected","open"])}}}),z1=T(H1,[["__scopeId","data-v-ed37546b"]]),Q1={class:"proposals"},j1={class:"filters"},G1={style:{display:"flex",gap:"1rem"}},X1={class:"proposals-content"},Y1={key:0},Z1=L({__name:"Proposals.page",setup(e){const t=q(0),{page:a,onPage:s}=wa(),n=Ft(a,200),r=q(""),l=Ft(r,300),i=q("all"),c=y(()=>{switch(t.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),d=y(()=>l.value.toLocaleLowerCase()),u=y(()=>{var w;return((w=g.value)==null?void 0:w.count)??0}),v=y(()=>{var w;return(((w=g.value)==null?void 0:w.proposals)??[]).orderBy(k=>k.start,"desc")}),{isFetching:h,data:g}=ng(n,i,c,d),f=w=>{i.value=w};return(w,k)=>{const $=Re,I=Me,S=Ae,P=Be,F=nt;return _(),C("div",Q1,[m(I,{onTab:k[0]||(k[0]=K=>t.value=K.index)},{default:b(()=>[m($,{header:"All"}),m($,{header:"Active"}),m($,{header:"Passed"}),m($,{header:"Denied"}),m($,{header:"Executed"})]),_:1}),p("div",j1,[m(S,{modelValue:o(r),"onUpdate:modelValue":k[1]||(k[1]=K=>ae(r)?r.value=K:null),class:"search",placeholder:"Search for Curve proposals",search:!0},null,8,["modelValue"]),p("div",G1,[m(z1,{style:{"flex-grow":"1"},onSelect:f}),m(P,{class:"pagination","items-count":o(u),"items-per-page":10,page:o(a),onPage:o(s)},null,8,["items-count","page","onPage"])])]),p("div",X1,[(_(!0),C(Z,null,le(o(v),K=>(_(),A(Js,{key:K.id,proposal:K,class:M({loading:o(h)})},null,8,["proposal","class"]))),128)),m(P,{class:"pagination","items-count":o(u),"items-per-page":10,page:o(a),onPage:o(s)},null,8,["items-count","page","onPage"]),o(v).length===0?(_(),C("div",Y1,"No proposals could be found.")):D("",!0),m(F,{class:M(["spinner",{loading:o(h)}])},null,8,["class"])])])}}}),J1=T(Z1,[["__scopeId","data-v-6a7a4ce5"]]),e0={class:"proposal-container"},t0=L({__name:"Proposal.page",setup(e){const t=be("proposalId",0,{transform:Number}),a=be("proposalType"),{isFetching:s,data:n}=Gs(t,a);return(r,l)=>{const i=nt;return _(),C("div",e0,[m(i,{class:M(["spinner",{loading:o(s)}])},null,8,["class"]),!o(s)&&o(n)?(_(),A(Js,{key:0,proposal:o(n),"init-expanded":!0},null,8,["proposal"])):D("",!0)])}}}),a0=T(t0,[["__scopeId","data-v-9afd57bb"]]),s0=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],eo=e=>(H("data-v-f41a9b71"),e=e(),z(),e),o0={class:"form"},n0={class:"field"},l0=eo(()=>p("div",{class:"label"},"Receiver:",-1)),r0={class:"value"},i0={class:"field"},c0=eo(()=>p("div",{class:"label"},"CRV Amount (Max):",-1)),u0={class:"value"},d0=L({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(""),r=q(0),l=y(()=>os),i=y(()=>ha(n.value.toLocaleLowerCase())&&typeof r.value=="number"&&r.value>0),c=Ya();async function d(){const u=n.value.toLocaleLowerCase();typeof r.value=="string"&&(r.value=parseFloat(r.value));const v=as(r.value,18n);return is(s,async()=>{const{result:h,request:g}=await No(c,{abi:s0,address:ns,functionName:"deploy_gauge",args:[u,v]}),f=await Za(c,g);await Ja(c,{hash:f}),a("gauge",h)})}return(u,v)=>{const h=Ae,g=Sa,f=he,w=R;return _(),A(w,{class:"add-new",title:"Gauge Creation"},{default:b(()=>[p("div",o0,[p("div",n0,[l0,p("div",r0,[m(h,{modelValue:o(n),"onUpdate:modelValue":v[0]||(v[0]=k=>ae(n)?n.value=k:null),placeholder:o(l)},null,8,["modelValue","placeholder"])])]),p("div",i0,[c0,p("div",u0,[m(g,{modelValue:o(r),"onUpdate:modelValue":v[1]||(v[1]=k=>ae(r)?r.value=k:null),min:1,max:3303030299},null,8,["modelValue"])])])]),m(f,{class:"action-button request",value:"Create Fundraising Gauge",disabled:!o(i)||o(s),primary:!0,"chain-id":o(xe).id,onClick:d},null,8,["disabled","chain-id"])]),_:1})}}}),p0=T(d0,[["__scopeId","data-v-f41a9b71"]]),m0=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],v0=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],h0=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],to=e=>(H("data-v-80d90fe0"),e=e(),z(),e),_0={class:"form"},f0={class:"field"},g0=to(()=>p("div",{class:"label"},"Gauge Address:",-1)),y0={class:"value"},b0={class:"field"},w0=to(()=>p("div",{class:"label"},"Vote Description:",-1)),k0={class:"value"},$0=L({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(""),r=q("Add a grant gauge: "),l=y(()=>os),i=y(()=>ha(n.value)&&!!r.value),c=y(()=>i.value&&!s.value);G(()=>e.gauge,h=>{n.value=h.toLocaleLowerCase()});async function d(){if(n.value)return is(s,async()=>{await v(),a("request")})}const u=Ya();async function v(){const h="0xe478de485ad2fe566d49342cbd03e49ed7db3356",g="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",f=(ie,ce)=>String(ie).padStart(ce,"0"),w=Da({abi:h0,functionName:"add_gauge",args:[n.value,10n,0n]});let k="0x00000001";const $=Da({abi:m0,functionName:"execute",args:[ls,0n,w]}).substring(2),I=f((Math.floor($.length)/2).toString(16),8);k=`${k}${g.substring(2)}${I}${$}`;const S=new FormData,F={text:r.value.replace(/(\r\n|\n|\r)/gm,"")};S.append("file",JSON.stringify(F));const Oe=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:S})).json()).Hash,B=await Za(u,{abi:v0,address:h,functionName:"newVote",args:[k,`ipfs:${Oe}`,!1,!1]});await Ja(u,{hash:B})}return(h,g)=>{const f=Ae,w=he,k=R;return _(),A(k,{class:"add-new",title:"Gauge Addition Vote"},{default:b(()=>[p("div",_0,[p("div",f0,[g0,p("div",y0,[m(f,{modelValue:o(n),"onUpdate:modelValue":g[0]||(g[0]=$=>ae(n)?n.value=$:null),placeholder:o(l)},null,8,["modelValue","placeholder"])])]),p("div",b0,[w0,p("div",k0,[m(f,{modelValue:o(r),"onUpdate:modelValue":g[1]||(g[1]=$=>ae(r)?r.value=$:null)},null,8,["modelValue"])])])]),m(w,{class:"action-button request",value:"Create Gauge Addition Vote",disabled:!o(c),primary:!0,"chain-id":o(xe).id,onClick:d},null,8,["disabled","chain-id"])]),_:1})}}}),C0=T($0,[["__scopeId","data-v-80d90fe0"]]),ao=e=>(H("data-v-8bd18cb3"),e=e(),z(),e),S0={class:"ve-funder"},A0={class:"explanation"},L0=ao(()=>p("div",{class:"step-one"},[p("span",null,[p("strong",null,"veFunder"),U(" process:")]),p("ol",null,[p("li",null," Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV. "),p("li",null,[U(" Request a vote to add the gauge to the controller."),p("br"),U("When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions. ")])])],-1)),T0=ao(()=>p("div",{class:"step-two"},[p("span",null,[p("strong",null,"Gauge vote requirements:")]),p("ol",null,[p("li",null,[U(" New gauge votes must have a vote on the governance forum "),p("a",{href:"https://gov.curve.fi/",target:"_blank"}," at this address ")]),p("li",null,"You must have a minimum of 2,500 veCRV to create this vote")])],-1)),I0={class:"forms"},V0=L({__name:"VeFunder.page",setup(e){const t=q(""),a=s=>{t.value=s};return(s,n)=>{const r=R;return _(),C("div",S0,[p("div",A0,[m(r,null,{default:b(()=>[L0,T0]),_:1})]),p("div",I0,[m(p0,{onGauge:a}),m(C0,{gauge:o(t)},null,8,["gauge"])])])}}}),q0=T(V0,[["__scopeId","data-v-8bd18cb3"]]),P0={class:"item"},F0={class:"label"},D0=L({__name:"SelectToken",props:qe({tokens:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:qe(["select"],["update:modelValue"]),setup(e,{emit:t}){const a=t,s=ot(e,"modelValue"),n=q(!1),r=()=>{n.value=!n.value},l=i=>{a("select",i)};return G(()=>e.tokens,()=>{e.tokens.length>0&&l(e.tokens[0])},{immediate:!0}),(i,c)=>{const d=Le,u=ft;return _(),A(u,{class:"select",options:i.tokens,selected:s.value,open:o(n),onOpen:r,onClose:c[0]||(c[0]=v=>n.value=!1),onInput:l},{item:b(({item:{address:v,symbol:h}})=>[p("div",P0,[m(d,{class:"icon",address:v},null,8,["address"]),p("div",F0,V(h??"?"),1)])]),_:1},8,["options","selected","open"])}}}),B0=T(D0,[["__scopeId","data-v-3b11c816"]]);let ra;function M0(){return ra||(ra=Es({url:"wss://api.defimonitor.com/main"})),ra}class R0{constructor(t,a){Qt(this,"transfers$");this.socket=t,this.transfers$=(a==null?void 0:a.transfers$)??Cf(t,"NewTransfersForToken")}subTransfers(t){this.socket.emit("connectToGeneralErc20Livestream",t)}}const vt=new Map,so=new xo(void 0),ua=e=>JSON.stringify(e);function U0({queryKey:e,queryFn:t,enabled:a,observable:s,setQueryData:n,resetOnSubscribe:r}){const l=es(),i=y(()=>a.value&&!!s.value),c=W({queryKey:e,queryFn:()=>new Promise((d,u)=>{r&&l.setQueryData(e.value,null);const v=ua(e.value);let h=vt.get(v);const g=h==null?void 0:h.subscription;g==null||g.unsubscribe(),h={subscription:s.value.subscribe({next:f=>{const w=l.getQueryData(e),k=n(w,f);l.setQueryData(e.value,k),d(k)},error:f=>{u(f instanceof Error?f:new Error(String(f)))}}),users:new Set},vt.set(v,h),so.next(h),t()}),enabled:i,staleTime:1/0});return G(s,async(d,u)=>{u&&d!==u&&await l.invalidateQueries({queryKey:e})}),O0(e,i),c}function O0(e,t){const a=es(),s=Un(),n=so.subscribe(l=>{l&&t.value&&l.users.add(s)});G(t,async l=>{if(!l)await r(e.value);else{const i=ua(e.value),c=vt.get(i);c&&c.users.add(s)}}),G(e,async(l,i)=>{await r(i)}),Dt(async()=>{await r(e.value),n.unsubscribe()});async function r(l){const i=ua(l),c=vt.get(i);c&&(c.users.delete(s),c.users.size===0&&(c.subscription.unsubscribe(),vt.delete(i),await a.invalidateQueries({queryKey:l})))}return r}function E0(e){const{socket:t,isConnected:a,url:s}=M0(),n=y(()=>t.value?new R0(t.value):null),r=y(()=>["defimonitor-transfers",s.value,e.value]);return U0({queryKey:r,queryFn:()=>{var i;return(i=n.value)==null?void 0:i.subTransfers(e.value)},enabled:a,observable:y(()=>{var i;return(i=n.value)==null?void 0:i.transfers$}),setQueryData:(i,c)=>[...i??[],...c.transfers.flat().filter(d=>d.coinAddress.toLocaleLowerCase()===e.value.toLocaleLowerCase())].takeRight(200),resetOnSubscribe:!0})}const oo=e=>(H("data-v-900864aa"),e=e(),z(),e),W0={style:{display:"flex",gap:"1rem"}},K0={class:"transfers-card-body"},N0={class:"transfers-options"},x0={class:"option"},H0=oo(()=>p("div",{class:"label"},"Token",-1)),z0={class:"option"},Q0=oo(()=>p("div",{class:"label"},"Min Amount",-1)),j0={class:"hash"},G0=["href"],X0=["href"],Y0=["href"],Z0=["href"],J0={class:"token"},ey=["href"],ty={class:"end"},ay=["href"],ia=10,sy=L({__name:"TableTransfers",setup(e){const t=[{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC"}],a=q(t[0]),s=q(0),n=y(()=>{const w=s.value;return typeof w=="string"?parseFloat(w)||0:w||0}),{data:r,isFetching:l}=E0(y(()=>a.value.address)),{relativeTime:i}=He(),c=q(""),d=y(()=>(r.value??[]).filter(w=>{const k=c.value.toLocaleLowerCase().split(" "),$=I=>k.some(S=>I.toLocaleLowerCase().includes(S));return($(w.transferFrom)||$(w.transferTo))&&w.parsedAmount>=n.value}).orderBy([w=>w.blockUnixtime,w=>w.positionInBlock],"desc")),{page:u,rowsPage:v,onPage:h}=xt(d,ia),g=w=>w<1?w.toFixed(4):w>1e3?w.toFixed(0):w.toFixed(2),f=async w=>{await navigator.clipboard.writeText(w)};return(w,k)=>{const $=Ae,I=Be,S=B0,P=Sa,F=he,K=Le,Ce=se,Oe=R;return _(),A(Oe,{class:"transfers-card",title:"Transfers",loading:o(l)},{actions:b(()=>[p("div",W0,[m($,{modelValue:o(c),"onUpdate:modelValue":k[0]||(k[0]=B=>ae(c)?c.value=B:null),placeholder:"Search for...",search:!0},null,8,["modelValue"]),o(d).length>ia?(_(),A(I,{key:0,"items-count":o(d).length,"items-per-page":ia,page:o(u),onPage:o(h)},null,8,["items-count","page","onPage"])):D("",!0)])]),default:b(()=>[p("div",K0,[p("div",N0,[p("div",x0,[H0,m(S,{modelValue:o(a),"onUpdate:modelValue":k[1]||(k[1]=B=>ae(a)?a.value=B:null),tokens:t,onSelect:k[2]||(k[2]=B=>a.value=B)},null,8,["modelValue"])]),p("div",z0,[Q0,m(P,{modelValue:o(s),"onUpdate:modelValue":k[3]||(k[3]=B=>ae(s)?s.value=B:null),min:0,max:1/0},null,8,["modelValue"])])]),m(Ce,{class:"transfers-table",rows:o(v),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}]},{row:b(({item:B})=>[p("div",j0,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${B.txHash}`,target:"_blank"},V(o(sl)(B.txHash,10)),9,G0),m(F,{icon:"fas fa-link",onClick:ie=>f(B.txHash)},null,8,["onClick"])]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/block/${B.blockNumber}`,target:"_blank"},V(B.blockNumber),9,X0)]),p("div",null,V(B.gasInGwei),1),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${B.transferFrom}`,target:"_blank"},V(o(we)(B.transferFrom,10)),9,Y0)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${B.transferTo}`,target:"_blank"},V(o(we)(B.transferTo,10)),9,Z0)]),p("div",null,V(g(B.parsedAmount)),1),p("div",J0,[m(K,{chain:"ethereum",address:B.coinAddress},null,8,["address"]),p("a",{target:"_blank",href:`https://etherscan.io/address/${B.coinAddress}`},V(B.coinSymbol),9,ey)]),p("div",ty,[p("a",{href:`https://etherscan.io/tx/${B.txHash}`,target:"_blank",onClick:k[4]||(k[4]=fe(()=>{},["stop"]))},V(o(i)(B.blockUnixtime)),9,ay)])]),_:1},8,["rows"])])]),_:1},8,["loading"])}}}),oy=T(sy,[["__scopeId","data-v-900864aa"]]),ny={class:"transfers"},ly=L({__name:"Transfers",setup(e){return(t,a)=>(_(),C("div",ny,[m(oy,{style:{"grid-area":"transfers"}})]))}}),ry=T(ly,[["__scopeId","data-v-74e96c37"]]),iy={class:"monitor"},cy=L({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["transfers"],"defimonitor");return(s,n)=>{const r=Re,l=Me;return _(),C("div",iy,[m(l,{active:o(a),onTab:n[0]||(n[0]=i=>a.value=i.index)},{default:b(()=>[m(r,{header:"Transfers"},{default:b(()=>[(_(),A(de,null,[o(t)==="transfers"?(_(),A(ry,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),uy=T(cy,[["__scopeId","data-v-2a89a41c"]]),dy=[{path:"/",component:Rc},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:bu},{path:"/platform/pools/:chain?",name:"pools",component:cd},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:Bd},{path:"/platform/revenue/:tab?",name:"revenue",component:Rm},{path:"/platform/crvusd",name:"crvusd",component:Nv},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:u_},{path:"/platform/lending/:chain?",name:"llamalend",component:M_},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:$f},{path:"/platform/monitor",name:"monitor",component:tg},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:J1},{path:"/dao/proposal/:proposalType/:proposalId",component:a0},{path:"/dao/vefunder",component:q0},{path:"/defimonitor",name:"defimonitor",component:uy}],py={titleRoute:"/",menuItems:[{label:"Articles",url:"https://blog.curvemonitor.com/"},{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};let no="http://localhost:8545";no=void 0;function my(e=[]){return Ho({chains:[xe],connectors:[Ba(),...e],transports:{[xe.id]:zo([Ma(no,{batch:{wait:100}}),Qo(Ba),Ma("https://eth.llamarpc.com",{batch:{wait:200}})])}})}function vy(e,t){const a=jo(e);for(const r of[])a.use(r);const s=Go();a.use(s);const n=new Xo({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Yo}},queryCache:new Zo({onError:(r,l)=>{r.message.includes("Connector not connected")||r.message.includes("connector2.getAccounts is not a function")||r.message.includes("getAccounts is not a function")||Se({text:`Failed querying ${l.queryHash} >>> ${r.message}`,type:"error"})}})});return a.use(Jo).use(en,{queryClient:n}).use(tn).use(an,{config:my(t==null?void 0:t.extraWagmiConnectors)}),{app:a,pinia:s}}const{app:hy}=vy(_r),_y=[py],fy=[dy],lo=fa();lo.pages=_y;lo.routes=fy;const gy=zr();hy.use(gy).mount("#app");

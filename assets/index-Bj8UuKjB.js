var Kr=Object.defineProperty;var Nr=(e,t,s)=>t in e?Kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Jt=(e,t,s)=>Nr(e,typeof t!="symbol"?t+"":t,s);import{o as h,c as S,p as Y,a as Z,b as d,d as L,e as T,n as M,f as D,r as X,g as E,t as A,w,h as v,T as zr,F as ee,i as ce,j as fa,k as kt,l as P,u as Ue,m as dt,q as a,V as Qr,s as jr,v as Gr,x as Xr,y as Yr,D as Le,z as ba,A as y,B as G,C as Zr,E as Jr,G as Qo,H as pe,I as Et,J as Wt,K as jo,L as F,M as ei,N as ti,O as ai,P as je,Q as Ie,R as si,S as Ce,U as Go,W as oi,X as ni,Y as z,Z as ea,_ as De,$ as pt,a0 as li,a1 as ri,a2 as ma,a3 as ii,a4 as O,a5 as te,a6 as ne,a7 as ue,a8 as ci,a9 as ui,aa as ye,ab as Ht,ac as di,ad as ga,ae as pi,af as N,ag as fe,ah as ya,ai as Xo,aj as Ot,ak as mi,al as vi,am as _i,an as hi,ao as yt,ap as Ka,aq as Na,ar as Ft,as as wa,at as Ca,au as fi,av as Yo,aw as Zo,ax as za,ay as bi,az as gi,aA as yi,aB as Jo,aC as wi,aD as Qa,aE as Ci,aF as ki,aG as $i,aH as ja,aI as Si,aJ as Ai,aK as Ti,aL as Li,aM as Ii,aN as Ri,aO as Vi,aP as Pi,aQ as Fi,aR as qi,aS as Di}from"./vendor-CIaFekH1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(l){if(l.ep)return;l.ep=!0;const i=s(l);fetch(l.href,i)}})();class Bi{constructor(t){this.value=t}entries(){return Object.entries(this.value)}}Array.prototype.take=function(e){return this.slice(0,e)};Array.prototype.takeRight=function(e){return this.slice(-e)};Array.prototype.drop=function(e=1){return this.slice(Math.max(0,e))};Array.prototype.dropWhile=function(e){const t=this.findIndex((s,o,l)=>!e(s,o,l));return t===-1?[]:this.slice(t)};Array.prototype.zip=function(...e){return this.map((t,s)=>[t,...e.map(o=>o[s])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(e){return this.filter((t,s)=>this.findIndex(o=>e(t,o))===s)};Array.prototype.orderBy=function(e,t="asc"){const s=Array.isArray(e)?e:[e],o=Array.isArray(t)?t:[t];return[...this].sort((l,i)=>{for(let u=0;u<s.length;u++){const r=s[u],n=Array.isArray(t)?o[u]||"asc":t,c=r(l),m=r(i);if(c!==m)return(c>m?1:-1)*(n==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(e){const t=Object.groupBy(this,e);return new Bi(t)};Array.prototype.sumBy=function(e){return this.reduce((t,s)=>t+e(s),0)};Array.prototype.meanBy=function(e){const t=this.sumBy(e);return this.length>0?t/this.length:0};Array.prototype.maxBy=function(e){return this.reduce((t,s)=>e(s)>e(t)?s:t)};Array.prototype.difference=function(...e){const t=new Set(e.flat());return this.filter(s=>!t.has(s))};const I=(e,t)=>{const s=e.__vccOpts||e;for(const[o,l]of t)s[o]=l;return s},xi={},en=e=>(Y("data-v-66c6ff87"),e=e(),Z(),e),Mi={class:"lds-ripple"},Ui=en(()=>d("div",null,null,-1)),Oi=en(()=>d("div",null,null,-1)),Ei=[Ui,Oi];function Wi(e,t){return h(),S("div",Mi,Ei)}const Xe=I(xi,[["render",Wi],["__scopeId","data-v-66c6ff87"]]),Hi=["inert"],Ki={key:0,class:"title"},Ni=L({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){return(t,s)=>{const o=Xe;return h(),S("div",{class:M(["card",{loading:t.loading}]),inert:!!t.loading},[t.loading!==null?(h(),T(o,{key:0,class:M(["loader",{loading:t.loading}])},null,8,["class"])):D("",!0),t.title||t.$slots.title||t.$slots.actions?(h(),S("div",{key:1,class:M(["card-header",{collapsible:t.collapsible}])},[X(t.$slots,"title",{},()=>[t.title?(h(),S("div",Ki,[t.icon?(h(),S("i",{key:0,class:M(["icon",t.icon])},null,2)):D("",!0),E(" "+A(t.title),1)])):D("",!0)],!0),X(t.$slots,"actions",{},void 0,!0)],2)):(h(),S("div",{key:2,class:M(["card-no-header",{compact:t.compact}])},null,2)),d("div",{class:M(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[X(t.$slots,"default",{},void 0,!0)],2)],10,Hi)}}}),U=I(Ni,[["__scopeId","data-v-ad3de834"]]),zi={key:0,class:"fas fa-chevron-right"},Qi=L({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const s=t,o=i=>{var r;const u=e.active?e.active.id===i.id:((r=e.crumbs.filter(n=>!n.hint).at(-1))==null?void 0:r.id)===i.id;return i.hint??u},l=i=>{var u;return((u=e.crumbs.at(-1))==null?void 0:u.id)===i.id};return(i,u)=>{const r=U;return h(),T(r,null,{default:w(()=>[v(zr,{name:"fade",tag:"ul"},{default:w(()=>[(h(!0),S(ee,null,ce(i.crumbs,n=>(h(),S("li",{key:n.id},[(h(),T(fa(o(n)?"span":"a"),{class:M({active:o(n),hint:n.hint}),onClick:c=>s("crumb",n)},{default:w(()=>[E(A(n.label),1)]),_:2},1032,["class","onClick"])),!l(n)||i.crumbs.length===1?(h(),S("i",zi)):D("",!0)]))),128))]),_:1})]),_:1})}}}),ji=I(Qi,[["__scopeId","data-v-de1572c6"]]),Be=kt("breadcrumbStore",()=>{const e=P([]),t=P(!1);return{crumbs:e,show:t}}),Gi=e=>(Y("data-v-e4c02f1b"),e=e(),Z(),e),Xi={class:"root"},Yi={class:"toolbar-container"},Zi=Gi(()=>d("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Ji={class:"content"},ec=L({__name:"Layout",setup(e){const t=Be(),s=Ue(),o=async l=>{l.pathName&&await s.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,i)=>{const u=dt("notifications"),r=ji,n=dt("router-view");return h(),S("div",Xi,[v(u,{width:600,duration:-1}),v(a(Qr)),X(l.$slots,"navigation",{},void 0,!0),d("main",null,[d("div",Yi,[a(t).show?(h(),T(r,{key:0,class:"breadcrumb",crumbs:a(t).crumbs,onCrumb:o},null,8,["crumbs"])):D("",!0),Zi]),d("div",Ji,[v(n,null,{default:w(({Component:c})=>[v(jr,{name:"fade",mode:"out-in"},{default:w(()=>[(h(),T(fa(c)))]),_:2},1024)]),_:1})])])])}}}),tc=I(ec,[["__scopeId","data-v-e4c02f1b"]]),ac={class:"collapsible-inside"},sc=L({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,s)=>(h(),S("div",{class:M(["collapsible-outside",{expanded:t.expanded}])},[d("div",ac,[X(t.$slots,"default",{},void 0,!0)])],2))}}),$t=I(sc,[["__scopeId","data-v-f4edd7a4"]]),oc={class:"badge"},nc={class:"label"},lc=L({__name:"Badge",props:{label:{default:""}},setup(e){return(t,s)=>(h(),S("div",oc,[d("div",nc,A(t.label),1)]))}}),rc=I(lc,[["__scopeId","data-v-8a0a03f3"]]);function qt(e){return!!e.children}function Ga(e){return!!e.to}function ic(e){return!!e.url}function cc(e,t,s){return e.reduce((o,l)=>({...o,[t(l)]:s(l)}),{})}function uc(e){return e!=null}function dc(e){function t(p){return p<10?"0"+p.toString():p.toString()}const s=e.getTime()-new Date().getTime();if(s<=0)return"00:00:00:00";const o=1e3,l=o*60,i=l*60,u=i*24,r=Math.floor(s/u),n=Math.floor(s%u/i),c=Math.floor(s%i/l),m=Math.floor(s%l/o);return t(r)+":"+t(n)+":"+t(c)+":"+t(m)}function ze(e,t=0,s=".",o=","){const l=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,u=typeof o>"u"?",":o,r=typeof s>"u"?".":s,n=function(m,p){const _=Math.pow(10,p);return Math.round(m*_)/_},c=(i?n(l,i):Math.round(l)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(c[1]||"").length<i&&(c[1]=c[1]||"",c[1]+=new Array(i-c[1].length+1).join("0")),c.join(r)}function H(e,t){const s=Math.abs(e);return t==="percentage"?"%":t==="dollar"?s>=1*10**12?"t":s>=1*10**9?"b":s>=1*10**6?"m":s>=1*10**3?"k":"":""}function K(e,t,s){const o=Math.abs(e);return t===1/0?e.toLocaleString():s==="percentage"?ze(e,t):s==="dollar"?o>=1*10**12?ze(e/10**12,t):o>=1*10**9?ze(e/10**9,t):o>=1*10**6?ze(e/10**6,t):o>=1*10**3?ze(e/10**3,t):ze(e,t):e.toString()}function Qe(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function xe(e,t){return parseFloat(Gr(e,Number(t)))}function ka(e,t){const s=Number(t),o=Number.isInteger(e)?e.toString():e.toFixed(s);return Xr(o,s)}function $a(e,t){const s={...e};for(const o in t)Array.isArray(t[o])?s[o]=[...t[o]]:typeof t[o]=="object"&&t[o]!==null?s[o]=$a(s[o],t[o]):s[o]=t[o];return s}async function tn(e,t=0,s=1e3){const o=await e(t,s),l=await(o.length>=s?tn(e,t+1,s):Promise.resolve([]));return o.concat(l)}function pc(e){return Object.fromEntries(Object.entries(e).map(([t,s])=>[s,t]))}const an={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},ta=["tricrypto","usdm"];function Me(e){const t=an[e];return t||e}function Sa(e){const t=pc(an)[e];return t||e}function mc(e){return!!(ta.find(t=>t===e)??ta.find(t=>t===Me(e))??ta.find(t=>t===Sa(e)))}async function Ct(e,t=250){const s=new Promise(l=>setTimeout(()=>{l(null)},t)),[,o]=await Promise.all([s,e]);return o}function va(e,t){return(Array.isArray(e)?e:[e]).some(o=>t.path.startsWith(o))}function sn(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}const on="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Xa="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",nn="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",ln="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",at="0xe478de485ad2fe566d49342cbd03e49ed7db3356",vc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",_c=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],hc={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class fc extends Error{constructor(t,s){super(s),this.status=t}}async function bc(e,t,s){try{const o=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:s});if(o.ok)return o;throw new fc(o.status,`Fetch error ${o.status} for URL: ${e}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function gc(e,t,s){return await(await bc(e,t,s)).json()}class Ae{async fetch(t,s,o){return gc(t,s,o)}}class Ye extends Ae{constructor(s){super();Jt(this,"host");this.host=s}async getHost(){return await this.host}}class rn extends Ae{async getPrice(t){const s=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${s}`).then(o=>o.coins[s])}async getPrices(t){const s=t.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${s}`).then(o=>o.coins)}}async function yc(e,t,s){const o=Yr({abi:_c,address:vc,client:e}),l=await o.read.mainRewardRates().then(([p,_])=>[...p].zip([..._])),i=await o.read.extraRewardRates().then(([p,_])=>[...p].zip([..._])),u=l.concat(i).filter(p=>p[1]>0).groupBy(p=>p[0]).entries().map(([p,_])=>({address:p,rate:_.reduce((f,b)=>f+b[1],BigInt(0))})),r=u.map(p=>p.address).concat([Xa]).uniq(),n=await t.getPrices(r).then(p=>cc(Object.keys(p).map(_=>({address:_.replace("ethereum:","").toLocaleLowerCase(),price:p[_].price})),_=>_.address,_=>ka(_.price,18n))),c=[],m=n[Xa];for(const p of u){const _=await o.read.apr([p.rate,n[p.address.toLocaleLowerCase()],m]),f=xe(_,18n);c.push(f)}return c}function Mt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function cn(e,t){e.value=!0;try{return await t()}catch(s){Le({text:Mt(s),type:"error"});return}finally{e.value=!1}}const aa={};function wc(e="$llama$"){aa[e]||(aa[e]=0);const t=++aa[e];return e==="$llama$"?`${t}`:`${e}${t}`}const Cc={key:0},kc={class:"nav-link-container"},$c={key:1},Sc=["href"],Ac={class:"nav-link-container"},Tc={class:"nav-link-container"},Lc={class:"left"},Ic={key:0,class:"icon"},Rc={class:"right"},Vc=L({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const s=t,o=ba(),l=P(!0),i=y(()=>Ga(e.item)?[e.item]:qt(e.item)?e.item.children:[]),u=()=>{qt(e.item)&&e.item.children.filter(m=>va(m.to,o)).length>0&&(l.value=!0)},r=c=>typeof c.label=="string"?c.label:c.label();G(()=>e.item,c=>{qt(c)&&(l.value=!c.initCollapsed),u()},{immediate:!0}),G(()=>o.fullPath,()=>{u()},{immediate:!0});const n=()=>{l.value=!l.value};return(c,m)=>{const p=rc,_=dt("router-link"),f=$t;return h(),S(ee,null,[a(qt)(c.item)?(h(),S("li",Cc,[d("a",{class:"nav-link node",onClick:n},[d("div",kc,[E(A(c.item.label)+" ",1),d("i",{class:M(["expander fas fa-chevron-up",{expanded:a(l)}])},null,2)])])])):D("",!0),a(ic)(c.item)?(h(),S("li",$c,[d("a",{class:"nav-link node",href:c.item.url,target:"_blank"},[d("div",Ac,A(c.item.label),1)],8,Sc)])):D("",!0),v(f,{class:"items",expanded:a(l)},{default:w(()=>[d("ul",null,[(h(!0),S(ee,null,ce(a(i),b=>(h(),S("li",{key:r(b)},[a(Ga)(b)?(h(),T(_,{key:0,to:b.to,class:M(["nav-link leaf",{"router-link-active":a(va)(b.to,a(o))}]),onClick:m[0]||(m[0]=g=>s("navigated"))},{default:w(()=>[d("div",Tc,[d("div",Lc,[b.icon?(h(),S("div",Ic,[d("i",{class:M(b.icon)},null,2)])):D("",!0),E(" "+A(r(b)),1)]),d("div",Rc,[b.tag?(h(),T(p,{key:0,label:b.tag},null,8,["label"])):D("",!0)])])]),_:2},1032,["to","class"])):D("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Pc=I(Vc,[["__scopeId","data-v-2430c9e7"]]),Fc=L({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const s=t,o=ba(),l=y(()=>e.pages.find(r=>va(r.titleRoute,o))),i=y(()=>{var r;return((r=l.value)==null?void 0:r.menuItems)??[]}),u=r=>typeof r.label=="string"?r.label:r.label();return(r,n)=>(h(),S("nav",null,[(h(!0),S(ee,null,ce(a(i),c=>(h(),S("ul",{key:u(c)},[v(Pc,{item:c,onNavigated:n[0]||(n[0]=m=>s("navigated"))},null,8,["item"])]))),128))]))}}),qc=I(Fc,[["__scopeId","data-v-58b98e53"]]);function St(){const{address:e,isConnected:t,chainId:s}=Zr(),o=Jr(),l=y(()=>o.data.value&&e.value?e.value.toLocaleLowerCase():void 0);return{isConnected:t,chainId:s,address:l}}function Se(e,t=6){if(!e)return"0x000...000";const s=t/2+2,o=e.length-t/2;return`${e.substring(0,s)}...${e.substring(o)}`}function Dc(e,t=6){if(!e)return"0x000";const s=Math.min(e.length,t+2);return e.length>s?`${e.substring(0,s)}...`:e}const Bc=L({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},chainId:{}},emits:["click"],setup(e,{emit:t}){const s=t,{chainId:o}=St(),{switchChain:l}=Qo(),i=u=>{if(u.stopImmediatePropagation(),e.chainId){if(o.value===void 0){Le({text:"Wallet not connected",type:"error"});return}o.value!==e.chainId&&l({chainId:e.chainId})}s("click")};return(u,r)=>(h(),S("button",{class:M({primary:u.primary}),onClick:i},[X(u.$slots,"default",{},()=>[u.icon?(h(),S("i",{key:0,class:M(["icon",[u.icon,{noValue:!!u.value}]])},null,2)):D("",!0),E(" "+A(u.value),1)],!0)],2))}}),we=I(Bc,[["__scopeId","data-v-8db3aeb3"]]),xc="/assets/crv-CKEIQw2g.png",Mc="/assets/hat-D1qfnSjv.png",Uc={},un=e=>(Y("data-v-757199dd"),e=e(),Z(),e),Oc={class:"logo"},Ec=un(()=>d("div",{class:"visual"},[d("img",{src:xc}),d("img",{src:Mc})],-1)),Wc=un(()=>d("span",null,"curve.monitor",-1)),Hc=[Ec,Wc];function Kc(e,t){return h(),S("div",Oc,Hc)}const Nc=I(Uc,[["render",Kc],["__scopeId","data-v-757199dd"]]),zc={class:"header"},Qc={class:"buttons"},jc=L({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const s=t;return(o,l)=>{const i=dt("router-link"),u=we;return h(),S("div",zc,[v(i,{class:"logo",to:"/",onClick:l[0]||(l[0]=r=>s("navigated"))},{default:w(()=>[v(Nc,{class:"logo"})]),_:1}),d("div",Qc,[v(u,{icon:"fas fa-bars",onClick:l[1]||(l[1]=r=>s("toggle-expansion"))})])])}}}),Gc=I(jc,[["__scopeId","data-v-e6d3c72b"]]),Xc={key:0,class:"modal"},Yc={class:"modal-popup"},Zc=L({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const s=t,o=l=>{l.code==="Escape"&&s("close")};return pe(()=>{document.addEventListener("keydown",o)}),Et(()=>{document.removeEventListener("keydown",o)}),G(()=>e.show,l=>{document.body.style.overflow=l?"hidden":""}),(l,i)=>(h(),T(Wt,{to:"body"},[l.show?(h(),S("div",Xc,[d("div",{class:"modal-mask",onClick:i[0]||(i[0]=u=>s("close"))}),d("div",Yc,[X(l.$slots,"default",{},void 0,!0)])])):D("",!0)]))}}),Aa=I(Zc,[["__scopeId","data-v-bd5f9d8a"]]),Jc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",eu={key:1,src:Jc},tu=L({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const s=t,o=P(!1),l=P(null),i=P(null);G(o,m=>{s("show",m),m&&jo(()=>{c()})});let u;function r(){u&&(clearTimeout(u),u=void 0),o.value=!0}function n(){u&&clearTimeout(u),u=setTimeout(()=>{o.value=!1,u=void 0},50)}pe(()=>{c(),window.addEventListener("resize",c)}),Et(()=>{window.removeEventListener("resize",c)});function c(){if(!l.value||!i.value)return;const m=l.value.getBoundingClientRect(),p=i.value.getBoundingClientRect(),_=14,f=_,b=window.innerHeight-p.height-_,g=Math.min(Math.max(f,m.top-p.height-_),b),C=_,k=window.innerWidth-p.width-_,$=Math.min(Math.max(C,m.left+m.width/2-p.width/2),k);i.value.style.top=`${g}px`,i.value.style.left=`${$}px`}return(m,p)=>(h(),S("div",{class:M(["tooltip",{show:a(o)}])},[d("div",{ref_key:"triggerRef",ref:l,class:"trigger",onMouseover:r,onMouseleave:n,onTouchstart:r,onTouchend:n},[X(m.$slots,"trigger",{},()=>[m.icon?(h(),S("i",{key:0,class:M(m.icon)},null,2)):(h(),S("img",eu))],!0)],544),d("div",{ref_key:"contentRef",ref:i,class:"content",onMouseover:r,onMouseleave:n,onTouchstart:r,onTouchend:n},[X(m.$slots,"default",{},void 0,!0)],544)],2))}}),Kt=I(tu,[["__scopeId","data-v-69dad8d5"]]),au="/assets/injected-DW80ouY-.webp",su="/assets/rabby-CG__llS3.svg",ou="/assets/walletconnect-BCBhrtde.webp",nu="/assets/coinbase-CsqSq8Nj.webp",lu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",ru={class:"buttons"},iu={class:"connectors-body"},cu={class:"title"},uu={class:"connectors"},du=["src"],pu={key:1,class:"empty"},mu={class:"name"},Ta=L({__name:"WalletConnectButton",setup(e){const{t}=F(),{connect:s}=ei(),o=ti(),l=["injected","walletConnect","coinbaseWalletSDK","safe"],i=y(()=>o.value.filter(m=>l.includes(m.id))),u=P(!1);function r(m){switch(m.id){case"injected":return au;case"walletConnect":return ou;case"coinbaseWalletSDK":return nu;case"safe":return lu;case"io.rabby":return su;default:return""}}function n(m){return m.id==="injected"?"Browser Extension":m.name}function c(m){s({connector:m}),u.value=!1}return(m,p)=>{const _=we,f=U,b=Aa;return h(),S("div",ru,[v(_,{class:"button",primary:!0,onClick:p[0]||(p[0]=g=>u.value=!0)},{default:w(()=>[E(A(a(t)("connect-your-wallet")),1)]),_:1}),D("",!0),v(b,{show:a(u),onClose:p[1]||(p[1]=g=>u.value=!1)},{default:w(()=>[v(f,null,{default:w(()=>[d("div",iu,[d("div",cu,A(a(t)("connect-your-wallet")),1),d("div",uu,[(h(!0),S(ee,null,ce(a(i),g=>(h(),S("div",{key:g.id,class:"connector"},[v(_,{onClick:C=>c(g)},{default:w(()=>[r(g)?(h(),S("img",{key:0,src:r(g)},null,8,du)):(h(),S("div",pu)),d("div",mu,A(n(g)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function Ya(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function Za(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof Ya=="function"&&Ya(Ta);typeof Za=="function"&&Za(Ta);const vu=I(Ta,[["__scopeId","data-v-85fcb376"]]),_u={class:"wallet"},hu={key:0},fu={key:1},bu={key:0,class:"info"},gu=L({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{disconnect:t}=ai(),{isConnected:s,chainId:o,address:l}=St(),{switchChain:i}=Qo(),u=y(()=>o.value===je.id),r=()=>{i({chainId:je.id})};return(n,c)=>{const m=we;return h(),S("div",_u,[a(s)?(h(),S("div",hu,[a(u)?(h(),T(m,{key:1,class:"disconnect",icon:"fas fa-check",value:a(Se)(a(l)),onClick:a(t)},null,8,["value","onClick"])):(h(),T(m,{key:0,class:"change",value:"Change Network",primary:!0,onClick:r}))])):(h(),S("div",fu,[v(vu),n.labelPleaseConnect?(h(),S("span",bu,A(n.labelPleaseConnect),1)):D("",!0)]))])}}}),yu=I(gu,[["__scopeId","data-v-8fd60889"]]),wu=e=>(Y("data-v-f6c127d0"),e=e(),Z(),e),Cu={class:"select"},ku={class:"item"},$u={key:0,class:"label"},Su=["onClick"],Au=wu(()=>d("div",{class:"chevrons"},[d("i",{class:"fas fa-chevron-up"}),d("i",{class:"fas fa-chevron-down"})],-1)),Tu=L({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(e,{emit:t}){const s=t;return(o,l)=>(h(),S("div",{class:"select-container",tabindex:"0",onClick:l[0]||(l[0]=Ie(i=>s("open"),["stop"])),onBlur:l[1]||(l[1]=i=>s("close"))},[d("div",Cu,[d("div",{class:M(["selected",{open:o.open}])},[X(o.$slots,"item",{item:o.selected},()=>[d("div",ku,A(o.selected),1)],!0),o.label?(h(),S("div",$u,A(o.label),1)):D("",!0)],2),d("div",{class:M(["items",{selectHide:!o.open}])},[(h(!0),S(ee,null,ce(o.options,(i,u)=>(h(),S("div",{key:u,onClick:r=>s("input",i)},[X(o.$slots,"item",{item:i},()=>[E(A(i),1)],!0)],8,Su))),128))],2)]),Au],32))}}),At=I(Tu,[["__scopeId","data-v-f6c127d0"]]),lt={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Lu=[lt.blue,lt.yellow,lt.green,lt.red,lt.purple],rt={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Iu=[rt.blue,rt.yellow,rt.green,rt.red,rt.purple],it={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},Ru=[it.blue,it.yellow,it.green,it.red,it.purple];function Ut(e){switch(e){case"chad":return it;case"light":return rt;default:return lt}}function Vu(e){switch(e){case"chad":return Ru;case"light":return Iu;default:return Lu}}const W=kt("settingsStore",()=>{const e=P("light"),t=y(()=>({colors:Ut(e.value),colorsArray:Vu(e.value)}));return{themeId:e,theme:t}}),Pu={class:"theme"},Fu={class:"label"},qu={class:"colors"},Du="theme",Bu=L({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Ut("chad")},{id:"dark",colors:Ut("dark")},{id:"light",colors:Ut("light")}],s=W(),l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=si(Du,t.find(c=>c.id===l)??t[0],void 0,{serializer:{read:c=>t.find(m=>m.id===c)??t[0],write:c=>c.id}});pe(()=>{n(i.value)});const u=P(!1),r=()=>{u.value=!u.value},n=c=>{i.value=c,window.document.documentElement.setAttribute("data-theme",c.id),s.themeId=c.id};return(c,m)=>{const p=At;return h(),T(p,{class:"select direction-up",options:t.map(_=>_),selected:a(i),open:a(u),onOpen:r,onClose:m[0]||(m[0]=_=>u.value=!1),onInput:n},{item:w(_=>[d("div",Pu,[d("div",Fu,A(_.item.id),1),d("div",qu,[d("div",{class:"color",style:Ce({"background-color":_.item.colors.backgroundColor})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.level1})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.level2})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.blue})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.yellow})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.green})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.red})},null,4),d("div",{class:"color",style:Ce({"background-color":_.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),xu=I(Bu,[["__scopeId","data-v-3b33aa87"]]),Mu={class:"bottom"},Uu={class:"buttons"},Ou={href:"https://twitter.com/0xAlunara",target:"_blank"},Eu=L({__name:"Bottom",setup(e){const t=Ue();return(s,o)=>{const l=we;return h(),S("div",Mu,[d("div",Uu,[d("a",Ou,[v(l,{icon:"fab fa-twitter"})]),v(l,{icon:"fas fa-code",onClick:o[0]||(o[0]=i=>a(t).push("/code"))})]),v(xu,{class:"themes"}),v(yu)])}}}),Wu=I(Eu,[["__scopeId","data-v-60358ade"]]),La=()=>kt("pageStore",()=>{const e=P([]),t=P([]);return{pages:e,routes:t}})(),Hu=L({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const s=t,o=La(),l=P(!1),i=()=>{l.value=!1,s("navigated")};return(u,r)=>{const n=qc,c=$t;return h(),S("div",{class:M(["menu-desktop",{expanded:a(l)}])},[v(Gc,{onToggleExpansion:r[0]||(r[0]=m=>l.value=!a(l)),onNavigated:i}),v(c,{class:"menu-content",expanded:a(l)},{default:w(()=>[v(n,{pages:a(o).pages,onNavigated:i},null,8,["pages"]),v(Wu,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),Ku=I(Hu,[["__scopeId","data-v-ed03439a"]]),Nu=L({__name:"App",setup(e){const t=Be(),s=ba();return G(()=>s.fullPath,o=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(i=>o.startsWith(i))||(t.show=!1)}),(o,l)=>{const i=tc;return h(),T(i,null,{navigation:w(()=>[v(Ku,{class:"navigation"})]),_:1})}}}),zu=I(Nu,[["__scopeId","data-v-20311da9"]]),Qu="/assets/404-DGbqGNxT.png",ju=e=>(Y("data-v-775a253f"),e=e(),Z(),e),Gu={class:"not-found"},Xu={class:"not-found-container"},Yu=ju(()=>d("img",{src:Qu},null,-1)),dn=L({__name:"NotFound.page",setup(e){const{t}=F();return(s,o)=>{const l=U;return h(),S("div",Gu,[d("div",Xu,[v(l,null,{default:w(()=>[E(A(a(t)("404")),1)]),_:1}),Yu])])}}});function Ja(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof Ja=="function"&&Ja(dn);const Zu=I(dn,[["__scopeId","data-v-775a253f"]]),pn=e=>(Y("data-v-7dbdbcc8"),e=e(),Z(),e),Ju={key:0,class:"expander"},ed=pn(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),td=[ed],ad={key:1,class:"expander"},sd=pn(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),od=[sd],nd={class:"row-details"},ld=L({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const s=t,o=Go(),l=y(()=>{var r;const u=o["row-details"];if(u){const n=(r=u()[0])==null?void 0:r.children;if(n)return n.length>0}return!1}),i=()=>{s("click",e.data)};return(u,r)=>{const n=$t;return h(),S("div",{class:M(["row",{expanded:u.expanded}])},[d("div",{class:M(["row-data",{active:u.selected,expandable:a(l),"has-data":!!u.data}]),onClick:i},[u.data&&a(l)&&u.expandSide==="left"?(h(),S("div",Ju,td)):D("",!0),X(u.$slots,"row",{},void 0,!0),u.data&&a(l)&&u.expandSide!=="left"?(h(),S("div",ad,od)):D("",!0)],2),u.data?(h(),T(n,{key:0,expanded:u.expanded},{default:w(()=>[d("div",nd,[X(u.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):D("",!0)],2)}}}),rd=I(ld,[["__scopeId","data-v-7dbdbcc8"]]),id={class:"table"},cd=["onClick"],ud={key:1,class:"no-data"},Ia=L({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=y(()=>{if(e.rowsMin===null)return[];const p=Math.max(0,e.rowsMin-e.rows.length);return new Array(p)}),i=y(()=>e.columns.map(p=>typeof p=="string"?{id:p,label:p}:p)),u=p=>{p&&o("selected",p)},r=p=>{const _=p+1;return!!(e.rows[p+1]&&e.rows.findIndex(g=>g===e.selectedRow)===_)},n=p=>e.sorting.column===p.id&&e.sorting.order==="asc",c=p=>e.sorting.column===p.id&&e.sorting.order==="desc",m=p=>{if(!p.sort)return;const _=p.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";o("sortColumn",p.id,_)};return(p,_)=>{const f=rd;return h(),S("div",id,[p.columns.length>0?(h(),T(f,{key:0,class:M({"selected-below":r(-1)})},{row:w(()=>[(h(!0),S(ee,null,ce(a(i),b=>(h(),S("div",{key:b.id,class:M(["column-header",{sortable:b.sort,sorting:b.sort&&p.sorting.column===b.id,[b.align||""]:!!b.align}]),onClick:g=>m(b)},[d("span",null,A(b.label),1),b.sort?(h(),S("i",{key:0,class:M(["sorting-arrow fa fa-caret-right",{asc:n(b),desc:c(b)}])},null,2)):D("",!0)],10,cd))),128))]),_:1},8,["class"])):D("",!0),(h(!0),S(ee,null,ce(p.rows,(b,g)=>(h(),T(f,{key:b,data:b,class:M({"selected-below":r(g)}),selected:p.selectedRow===b,expanded:p.expanded.includes(b),"expand-side":p.expandSide,onClick:u},{row:w(()=>[X(p.$slots,"row",{item:b},void 0,!0)]),"row-details":w(()=>[X(p.$slots,"row-details",{item:b},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(h(!0),S(ee,null,ce(a(l),b=>(h(),T(f,{key:b}))),128)),!p.rowsMin&&(!p.rows||p.rows.length===0)?(h(),S("div",ud,[X(p.$slots,"no-data",{},()=>[E(A(a(s)("no-data")),1)],!0)])):D("",!0),p.$slots["row-aggregation"]&&p.rows.length>0?(h(),T(f,{key:2,class:"aggregation"},{row:w(()=>[X(p.$slots,"row-aggregation",{},void 0,!0)]),_:3})):D("",!0)])}}});function es(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function ts(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof es=="function"&&es(Ia);typeof ts=="function"&&ts(Ia);const ae=I(Ia,[["__scopeId","data-v-05f1c62e"]]),dd=e=>(Y("data-v-8d4cd3d8"),e=e(),Z(),e),pd={class:"code"},md=["href"],vd=["href"],_d=["href"],hd=dd(()=>d("div",{class:"notices"},[E(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),d("span",null,[d("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)),mn=L({__name:"Code.page",setup(e){const{t}=F(),o=[{name:"veFunder",contracts:[{contract:nn,description:"gauge-factory"},{contract:ln,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],i=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],u=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/home?safe=arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/home?safe=eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,n)=>{const c=ae,m=U;return h(),S("div",pd,[v(m,{title:a(t)("repositories")},{default:w(()=>[v(c,{class:"repositories-table",rows:l,columns:[a(t)("repository"),a(t)("description")],title:"Yolo"},{row:w(p=>[d("div",null,[d("a",{href:p.item.url,target:"_blank"},A(p.item.name),9,md)]),d("div",null,A(a(t)(p.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),v(m,{title:a(t)("apis")},{default:w(()=>[v(c,{class:"apis-table","columns-data":"apis-columns-data",rows:i,columns:[a(t)("api"),a(t)("description")]},{row:w(p=>[d("div",null,[d("a",{href:p.item.url,target:"_blank"},A(p.item.name),9,vd)]),d("div",null,A(a(t)(p.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),(h(),S(ee,null,ce(o,(p,_)=>v(m,{key:_,title:a(t)(p.name)},{default:w(()=>[v(c,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:[a(t)("contract"),a(t)("description")]},{row:w(f=>[d("div",null,[d("a",{href:u(f.item),target:"_blank"},A(f.item.contract),9,_d)]),d("div",null,A(a(t)(f.item.description)),1)]),_:2},1032,["rows","columns"])]),_:2},1032,["title"])),64)),v(m,null,{default:w(()=>[hd]),_:1})])}}});function as(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},apis:{t:0,b:{t:2,i:[{t:3}],s:"APIs"}},api:{t:0,b:{t:2,i:[{t:3}],s:"API"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},"repo-graphs":{t:0,b:{t:2,i:[{t:3}],s:"The Graph subgraphs related to Curve, Convex, Votium and more"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}},"gauge-factory":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Factory"}},"gauge-controller":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Controller"}}}})}typeof as=="function"&&as(mn);const fd=I(mn,[["__scopeId","data-v-8d4cd3d8"]]);function bd(){const e=La(),t=[{path:"/code",component:fd},...e.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:Zu}];return oi({history:ni(),routes:t})}const gd="/assets/llama-cloud-transparant-BquaG1Iu.png",yd={key:0,class:"value"},wd={key:1,class:"value"},Cd=["innerHTML"],kd={key:0,class:"value"},$d={key:1,class:"value"},Sd=["innerHTML"],Ad={class:"labels"},Td={class:"label"},Ld={class:"label-second"},Id=L({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,s)=>{const o=Kt;return h(),S("div",{class:M(["kpi",{disabled:!t.hasValue}])},[d("div",{class:M(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[X(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(h(),T(o,{key:0},{trigger:w(()=>[t.hasValue?(h(),S("span",yd,A(t.value),1)):(h(),S("span",wd," ? "))]),default:w(()=>[X(t.$slots,"tooltip",{},()=>[d("span",{innerHTML:t.tooltip},null,8,Cd)],!0)]),_:3})):(h(),S(ee,{key:1},[t.hasValue?(h(),S("span",kd,A(t.value),1)):(h(),S("span",$d," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(h(),T(o,{key:0},{default:w(()=>[d("span",{innerHTML:t.tooltip},null,8,Sd)]),_:1})):D("",!0)],2),d("div",Ad,[X(t.$slots,"label",{},()=>[d("div",Td,A(t.label),1)],!0),X(t.$slots,"label-second",{},()=>[d("div",Ld,A(t.labelSecond),1)],!0)])],2)}}}),be=I(Id,[["__scopeId","data-v-ce995eb5"]]),Rd={key:0,class:"async-value"},Vd="|/-\\",j=L({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,s=0;const o=P("|"),l=y(()=>e.value?K(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?o.value:"?"),i=y(()=>e.precision===1/0?"":!e.value||!e.type||!isFinite(e.value)?e.showUnit&&e.type?H(0,e.type):"":H(e.value,e.type));return G(()=>e.value,u=>{if(clearInterval(s),t=0,u)return;const r=()=>{t=(t+1)%4,o.value=Vd[t]};s=window.setInterval(r,250)},{immediate:!0}),(u,r)=>u.inline?(h(),S(ee,{key:1},[E(A(u.showSymbol&&u.type==="dollar"?"$":"")+A(a(l))+A(u.showUnit?a(i):""),1)],64)):(h(),S("div",Rd,A(u.showSymbol&&u.type==="dollar"?"$":"")+A(a(l))+A(u.showUnit?a(i):""),1))}}),Pd=["crvusd","lending","pools","router","dao"];function Te(e){const[t,s]=e.split("T"),[o,l,i]=t.split("-").map(Number),[u,r,n]=s.split(":").map(Number);return Date.UTC(o,l-1,i,u,r,n)/1e3}const Fd=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],qd="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Dd="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",Bd="/assets/arbitrum-Z8VMulXH.png",xd="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Md="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Ud="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",Od="/assets/moonbeam-CHDPiRRO.png",Ed="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",Wd="/assets/optimism-CcABTbCu.png",Hd="/assets/base-AohAhS4D.webp",Kd="/assets/polygon-GPEdhIuq.png",Nd="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function ss(e){return{ethereum:qd,arbitrum:Bd,optimism:Wd,fantom:xd,avalanche:Dd,xdai:Md,matic:Ed,harmony:Ud,moonbeam:Od,base:Hd,polygon:Kd,fraxtal:Nd,all:""}[e]}const zd=e=>e.data.map(t=>t.name).filter(t=>Fd.includes(t)),Qd=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),jd=e=>e.data.flatMap(t=>t.transactions.map(s=>({chain:t.chain,timestamp:Te(s.timestamp),type:s.type,transactions:s.transactions}))),Gd=e=>e.data.flatMap(t=>t.users.map(s=>({chain:t.chain,timestamp:Te(s.timestamp),type:s.type,users:s.users}))),Dt="https://prices.curve.fi";class Xd extends Ae{async getSupportedChains(){const t=await this.fetch(`${Dt}/v1/chains/`);return zd(t)}async getChainInfo(t){const s=await this.fetch(`${Dt}/v1/chains/${t}?page=1&per_page=1`);return Qd(s)}async getTxs(){const t=await this.fetch(`${Dt}/v1/chains/activity/transactions`);return jd(t)}async getUsers(){const t=await this.fetch(`${Dt}/v1/chains/activity/users`);return Gd(t)}}const Nt=new Xd;function Ra(){return{initialData:[],initialDataUpdatedAt:0}}function Yd(){return z({queryKey:["chains-supported"],queryFn:()=>Nt.getSupportedChains(),...Ra()})}function vn(e){return z({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Nt.getChainInfo(t),enabled:y(()=>!!e.value)})}function Zd(){return z({queryKey:["chains-txs"],queryFn:()=>Nt.getTxs(),...Ra()})}function Jd(){return z({queryKey:["chains-users"],queryFn:()=>Nt.getUsers(),...Ra()})}const ep=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),tp=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),ap=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),sp=e=>({timestamp:Te(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),os="https://api-py.llama.airforce/curve",Bt="https://prices.curve.fi";class op extends Ae{async getMarkets(t,s){return(await this.fetch(`${Bt}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${s}&per_page=10`)).data.map(ep)}async getSnapshots(t,s){return(await this.fetch(`${Bt}/v1/crvusd/markets/${t}/${s}/snapshots?fetch_on_chain=true&agg=day`)).data.map(tp)}async getCrvUsdPriceHistogram(){return this.fetch(`${os}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${Bt}/v1/crvusd/markets/${t}/supply`)).data.map(sp)}async getKeepers(t){return(await this.fetch(`${Bt}/v1/crvusd/pegkeepers/${t}`)).keepers.map(ap)}async getYield(){return this.fetch(`${os}/v1/crvusd/yield`).then(t=>t.yields)}}const np=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),lp="https://prices.curve.fi";class _n extends Ae{async getOHLC(t,s,o,l){const u=Math.floor(new Date().getTime()/1e3),r=Math.floor(u-72e5),n=`${lp}/v1/ohlc/${t}/${ea(s)}?main_token=${ea(o)}&reference_token=${ea(l)}&agg_number=1&agg_units=day&start=${r}&end=${u}`;return(await this.fetch(n)).data.map(np)}}const Tt=new op,rp=new _n;function ip(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.address})}function zt(){return{initialData:[],initialDataUpdatedAt:0}}function cp(e,t){return{enabled:y(()=>!!e.value&&!0)}}function up(){return z({queryKey:["crvusd-supply"],queryFn:()=>Tt.getCrvUsdSupply("ethereum"),...zt()})}function dp(){return z({queryKey:["crvusd-price-deviation"],queryFn:()=>Tt.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Qt(e){return z({queryKey:["crvusd-market-snapshots",ip(e)],queryFn:({queryKey:[,t]})=>Tt.getSnapshots("ethereum",t),...cp(e),...zt()})}function pp(e){return z({queryKey:["crvusd-keepers-prices",y(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async l=>{const i=l.pair.find(n=>n.symbol!=="crvUSD"),u=l.pair.find(n=>n.symbol==="crvUSD");return!i||!u?[]:(await rp.getOHLC("ethereum",l.pool_address,i.address,u.address)).map(n=>({time:n.time,price:(n.high+n.low)/2,coin:i.symbol}))}),o=(await Promise.all(t)).flat().groupBy(l=>l.time).entries().map(([l,i])=>({timestamp:Number(l),...Object.fromEntries(i.map(u=>[u.coin,u.price]))}));return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function Va(){return z({queryKey:["crvusd-markets"],queryFn:()=>Tt.getMarkets("ethereum",1),...zt()})}function hn(){return z({queryKey:["crvusd-keepers"],queryFn:()=>Tt.getKeepers("ethereum"),...zt()})}const mp={class:"kpis"},vp=L({__name:"KPIs",setup(e){const t=new rn,{data:s}=Va(),o=y(()=>s.value.reduce((n,c)=>n+c.borrowed,0)),{data:l}=vn(P("ethereum")),i=y(()=>{var n;return((n=l.value)==null?void 0:n.total.tvl)??0}),u=y(()=>{var n;return((n=l.value)==null?void 0:n.total.tradingVolume24h)??0}),{data:r}=z({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(n=>n.price),initialData:0,initialDataUpdatedAt:0});return(n,c)=>{const m=j,p=be;return h(),S("div",mp,[v(p,{label:"CRV Price","has-value":!!a(r)},{default:w(()=>[v(m,{value:a(r),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(p,{label:"crvUSD Borrowed","has-value":!!a(o)},{default:w(()=>[v(m,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(p,{label:"Total Value Locked","has-value":!!a(i)},{default:w(()=>[v(m,{value:a(i),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(p,{label:"24h Volume","has-value":!!a(u)},{default:w(()=>[v(m,{value:a(u),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),_p=I(vp,[["__scopeId","data-v-f9e37dd3"]]),hp=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function fp(e,t){const s=Math.round(e.value/1e3)-t;for(const{unit:o,seconds:l}of hp)if(s>=l){const i=Math.round(s/l);return`${i} ${i===1?o:o+"s"} ago`}return"just now"}function Ze(){const e=P(Date.now());return pe(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:s=>fp(e,s)}}const ke=e=>(Y("data-v-6ce19daf"),e=e(),Z(),e),bp={class:"articles"},gp=ke(()=>d("div",{class:"title"},"Articles",-1)),yp={class:"articles-cards"},wp={class:"article"},Cp=ke(()=>d("div",{class:"title"},"Who are Curve's Users?",-1)),kp=ke(()=>d("div",{class:"description"}," A look at the differences between users of Curve's products ",-1)),$p={class:"date"},Sp=ke(()=>d("div",{class:"read"},[d("a",{href:"https://blog.curvemonitor.com/posts/curve-users/",target:"_blank"}," Read now ")],-1)),Ap={class:"article"},Tp=ke(()=>d("div",{class:"title"},"How to Do Cheaper, Approval-Free Swaps",-1)),Lp=ke(()=>d("div",{class:"description"}," A deep dive into the exchange_received function on NG pools which allows users to trade without approvals and can significantly reduce transaction gas costs. ",-1)),Ip={class:"date"},Rp=ke(()=>d("div",{class:"read"},[d("a",{href:"https://blog.curvemonitor.com/posts/exchange-received/",target:"_blank"}," Read now ")],-1)),Vp={class:"article"},Pp=ke(()=>d("div",{class:"title"},"Impact of Dynamic Fees on MEV Activity",-1)),Fp=ke(()=>d("div",{class:"description"}," This post compares MEV activity on StableSwap NG pools and pools with the original implementation. It explains dynamic fees and their impact on certain types of MEV activity. ",-1)),qp={class:"date"},Dp=ke(()=>d("div",{class:"read"},[d("a",{href:"https://blog.curvemonitor.com/posts/ng-mev/",target:"_blank"}," Read now ")],-1)),Bp={class:"article"},xp=ke(()=>d("div",{class:"title"},"Parameter Ramping",-1)),Mp=ke(()=>d("div",{class:"description"}," Why aren't parameter changes on Curve pools applied instantly? This post dwelves into the reasons behind gradual parameter changes. ",-1)),Up={class:"date"},Op=ke(()=>d("div",{class:"read"},[d("a",{href:"https://blog.curvemonitor.com/posts/parameter-ramping/",target:"_blank"}," Read now ")],-1)),Ep=L({__name:"Articles",setup(e){const{relativeTime:t}=Ze();function s(o){window.open(o,"_blank")}return(o,l)=>{const i=U;return h(),S("div",bp,[gp,d("div",yp,[v(i,{onClick:l[0]||(l[0]=u=>s("https://blog.curvemonitor.com/posts/curve-users/"))},{default:w(()=>[d("div",wp,[Cp,kp,d("div",$p,A(a(t)(1723586400)),1),Sp])]),_:1}),v(i,{onClick:l[1]||(l[1]=u=>s("https://blog.curvemonitor.com/posts/exchange-received/"))},{default:w(()=>[d("div",Ap,[Tp,Lp,d("div",Ip,A(a(t)(1711234800)),1),Rp])]),_:1}),v(i,{onClick:l[2]||(l[2]=u=>s("https://blog.curvemonitor.com/posts/ng-mev/"))},{default:w(()=>[d("div",Vp,[Pp,Fp,d("div",qp,A(a(t)(1710025200)),1),Dp])]),_:1}),v(i,{onClick:l[3]||(l[3]=u=>s("https://blog.curvemonitor.com/posts/parameter-ramping/"))},{default:w(()=>[d("div",Bp,[xp,Mp,d("div",Up,A(a(t)(1707606e3)),1),Op])]),_:1})])])}}}),Wp=I(Ep,[["__scopeId","data-v-6ce19daf"]]),fn=e=>(Y("data-v-0bb92e56"),e=e(),Z(),e),Hp={class:"home"},Kp=fn(()=>d("div",{class:"description"},[d("span",{class:"title"},"Curve Monitor"),d("span",{class:"tag"}," Airdropping knowledge bombs about the Curve ecosystem. ")],-1)),Np=fn(()=>d("img",{class:"llama",src:gd},null,-1)),zp=L({__name:"Home.page",setup(e){return(t,s)=>(h(),S("div",Hp,[Kp,Np,v(_p,{style:{"grid-area":"kpis"}}),v(Wp,{style:{"grid-area":"articles"}})]))}}),Qp=I(zp,[["__scopeId","data-v-0bb92e56"]]),jp={key:0,class:"item"},Gp=["src"],Xp={key:1,class:"empty"},Yp={class:"label"},Zp=L({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const s=t,o=P(!1),l=y(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(c=>!e.chains||e.chains.includes(c.chain))),i=y(()=>l.value.find(c=>c.chain===e.chain)??null),u=c=>c.label,r=()=>{o.value=!o.value},n=c=>{s("select-chain",c.chain)};return(c,m)=>{const p=At;return h(),T(p,{class:"select",options:a(l),selected:a(i),open:a(o),onOpen:r,onClose:m[0]||(m[0]=_=>o.value=!1),onInput:n},{item:w(_=>[_.item?(h(),S("div",jp,[a(ss)(_.item.chain)?(h(),S("img",{key:0,src:a(ss)(_.item.chain)},null,8,Gp)):(h(),S("div",Xp)),d("div",Yp,A(u(_.item)),1)])):D("",!0)]),_:1},8,["options","selected","open"])}}}),Lt=I(Zp,[["__scopeId","data-v-72f8e421"]]),Jp=L({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const s=t,o=P(void 0);let l,i=null;G(o,(n,c)=>{e.target&&(n?u(e.target,n):c&&l&&r(e.target,l,c))});function u(n,c){l=n.parentNode,i=n.nextSibling,l&&(s("enterBefore",c),l.removeChild(n),c.appendChild(n),s("enter",c))}function r(n,c,m){s("exitBefore",m),m.removeChild(n),i?c.insertBefore(n,i):c.appendChild(n),s("exit",m)}return(n,c)=>{const m=Aa;return h(),T(m,null,{default:w(()=>[d("div",{ref_key:"modalRef",ref:o,class:"fullscreen-content"},null,512)]),_:1})}}}),bn=I(Jp,[["__scopeId","data-v-08e2932c"]]),em=d("i",{class:"fas fa-expand"},null,-1),mt=L({__name:"BtnChartLWFullscreen",props:De({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=pt(e,"modelValue");let s=0,o=0;function l(){const u=e.chart.chartElement().parentElement;s=(u==null?void 0:u.clientHeight)??0,o=(u==null?void 0:u.clientWidth)??0}function i(){e.chart.applyOptions({height:s,width:o})}return(u,r)=>{const n=bn,c=we;return h(),T(c,{disabled:!u.chart,onClick:r[1]||(r[1]=m=>t.value=!t.value)},{default:w(()=>[em,v(n,{target:u.target,show:t.value,onClose:r[0]||(r[0]=m=>t.value=!1),onEnterBefore:l,onExit:i},null,8,["target","show"])]),_:1},8,["disabled"])}}}),tm=(e,t)=>{const{colors:s}=t;return{width:e.clientWidth,height:e.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:li.Solid,color:s.backgroundColor},textColor:s.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:s.level4,style:ri.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function se(e,t,s){const o=tm(e,t);return s?$a(o,s):o}function oe(e){const{recreateChartTrigger:t,createChartOptions:s,series:o}=e,l={},i=Array.isArray(o)?o:[o],u=ma(void 0),r=ma(void 0);let n=null;pe(async()=>{if(!u.value)return;await jo();const c=ii(u.value,s(u.value));r.value=c;for(const m of i){const p=am(c,m);l[m.name]=p}n=new ResizeObserver(m=>{const p=m[0].target;r.value&&u.value&&(r.value.applyOptions({width:p.clientWidth,height:p.clientHeight}),r.value.timeScale().fitContent())}),u.value.parentElement&&n.observe(u.value.parentElement)}),Et(()=>{r.value&&(r.value.remove(),r.value=void 0),n&&(n.disconnect(),n=null)}),G(t,()=>{u.value&&r.value&&r.value.applyOptions(s(u.value))});for(const{name:c,options:m}of i)G(m,p=>{const _=l[c];_==null||_.applyOptions(p)});return{chart:r,chartRef:u,series:l}}function am(e,{type:t,options:s}){return{Area:e.addAreaSeries.bind(e),Bar:e.addBarSeries.bind(e),Baseline:e.addBaselineSeries.bind(e),Line:e.addLineSeries.bind(e),Candlestick:e.addCandlestickSeries.bind(e),Histogram:e.addHistogramSeries.bind(e)}[t](s.value)}const sm={class:"actions"},gn=L({__name:"ChartTxs",props:{txs:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1),l=P(void 0),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:s,createChartOptions:c=>se(c,s.value),series:{type:"Area",name:"txs",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${K(c,0,"dollar")}${H(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.txs)return;const c=e.txs.map(m=>({time:m.timestamp,value:m.count})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc");r.txs.setData(c),i.value.timeScale().fitContent()}return(c,m)=>{const p=U;return h(),T(p,{ref_key:"chartCard",ref:l,class:"chart-card",title:a(t)("title")},{actions:w(()=>{var _;return[d("div",sm,[v(a(mt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>ne(o)?o.value=f:null),chart:a(i),target:(_=a(l))==null?void 0:_.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function ns(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}}}})}typeof ns=="function"&&ns(gn);const om=I(gn,[["__scopeId","data-v-3932f3fc"]]),nm={class:"actions"},yn=L({__name:"ChartUsers",props:{users:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1),l=P(void 0),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:s,createChartOptions:c=>se(c,s.value),series:{type:"Area",name:"users",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${K(c,0,"dollar")}${H(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.users)return;const c=e.users.map(m=>({time:m.timestamp,value:m.count})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc");r.users.setData(c),i.value.timeScale().fitContent()}return(c,m)=>{const p=U;return h(),T(p,{ref_key:"chartCard",ref:l,class:"chart-card",title:a(t)("title")},{actions:w(()=>{var _;return[d("div",nm,[v(a(mt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>ne(o)?o.value=f:null),chart:a(i),target:(_=a(l))==null?void 0:_.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof ls=="function"&&ls(yn);const lm=I(yn,[["__scopeId","data-v-402f9645"]]),rm=L({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,s)=>{const o=dt("apexchart");return h(),T(o,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),jt=I(rm,[["__scopeId","data-v-b55fca0c"]]),im=L({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,s)=>{const o=jt,l=U;return h(),T(l,{class:"cart-chart",title:t.title,loading:t.loading},{actions:w(()=>[X(t.$slots,"actions",{},void 0,!0)]),default:w(()=>[v(o,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),X(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),me=I(im,[["__scopeId","data-v-25a61ef4"]]),cm={class:"legend"},um=["onClick"],dm={class:"label"},pm=L({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const s=t;return(o,l)=>(h(),S("div",cm,[(h(!0),S(ee,null,ce(o.items,i=>(h(),S("div",{key:i.id,class:M(["item",{togglable:i.togglable,disabled:o.disabled.includes(i.id)}]),onClick:u=>{i.togglable&&s("toggle",i.id)}},[d("div",{class:"color",style:Ce({"background-color":i.color})},null,4),d("div",dm,A(i.label),1)],10,um))),128))]))}}),Fe=I(pm,[["__scopeId","data-v-c53e0ed6"]]),mm=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function le(e,t){const s=mm(e);return t?$a(s,t):s}function qe(e){const t=y(e),s=ci(ui(Object.fromEntries(t.value.map(l=>[l.id,!0])))),o=y(()=>t.value.filter(l=>!s[l.id].value).map(l=>l.id));return{items:t,toggles:s,disabled:o}}const vm={class:"actions"},wn=L({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=y(()=>`${t("title")} (${e.type==="all"?"All Types":sn(e.type)})`),{items:l,toggles:i,disabled:u}=qe(()=>{const{blue:g,yellow:C}=s.value.colors;return[{id:"txs",label:t("txs"),color:g,togglable:!0},{id:"users",label:t("users"),color:C,togglable:!0}]});function r(g){return g.groupBy(C=>C.chain).entries().map(([C,k])=>{const $=k.reduce((V,R)=>V+R.value,0);return{chain:C,count:$}}).orderBy(C=>C.count,"desc")}const n=y(()=>{const{colors:g}=s.value;return le(s.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[g.blue,g.yellow],xaxis:{categories:p.value,labels:{formatter:f}},yaxis:{labels:{formatter:b}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>i.txs.value?r(e.txs):[]),m=y(()=>i.users.value?r(e.users):[]),p=y(()=>c.value.concat(m.value).orderBy(g=>g.count,"desc").map(g=>g.chain).uniq()),_=y(()=>{const g=p.value.map(k=>{const $=c.value.find(V=>V.chain===k);return $?$.count:0}),C=p.value.map(k=>{const $=m.value.find(V=>V.chain===k);return $?$.count:0});return[{data:i.txs.value?g:[]},{data:i.users.value?C:[]}]}),f=g=>g,b=g=>`${K(g,0,"dollar")}${H(g,"dollar")}`;return(g,C)=>{const k=Fe,$=me;return h(),T($,{class:"chart",title:a(o),options:a(n),series:a(_)},{actions:w(()=>[d("div",vm,[v(k,{items:a(l),disabled:a(u),onToggle:C[0]||(C[0]=V=>a(i)[V].value=!a(i)[V].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function rs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Chains"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof rs=="function"&&rs(wn);const _m=I(wn,[["__scopeId","data-v-fc9e8ca9"]]),hm={class:"actions"},Cn=L({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=y(()=>`${t("title")} (${e.chain==="all"?"All Chains":sn(e.chain)})`),{items:l,toggles:i,disabled:u}=qe(()=>{const{blue:g,yellow:C}=s.value.colors;return[{id:"txs",label:t("txs"),color:g,togglable:!0},{id:"users",label:t("users"),color:C,togglable:!0}]});function r(g){return g.groupBy(C=>C.type).entries().map(([C,k])=>{const $=k.reduce((V,R)=>V+R.value,0);return{type:C,count:$}}).orderBy(C=>C.count,"desc")}const n=y(()=>{const{colors:g}=s.value;return le(s.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[g.blue,g.yellow],xaxis:{categories:p.value,labels:{formatter:f}},yaxis:{labels:{formatter:b}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>i.txs.value?r(e.txs):[]),m=y(()=>i.users.value?r(e.users):[]),p=y(()=>c.value.concat(m.value).orderBy(g=>g.count,"desc").map(g=>g.type).uniq()),_=y(()=>{const g=p.value.map(k=>{const $=c.value.find(V=>V.type===k);return $?$.count:0}),C=p.value.map(k=>{const $=m.value.find(V=>V.type===k);return $?$.count:0});return[{data:i.txs.value?g:[]},{data:i.users.value?C:[]}]}),f=g=>g,b=g=>`${K(g,0,"dollar")}${H(g,"dollar")}`;return(g,C)=>{const k=Fe,$=me;return h(),T($,{class:"chart",title:a(o),options:a(n),series:a(_)},{actions:w(()=>[d("div",hm,[v(k,{items:a(l),disabled:a(u),onToggle:C[0]||(C[0]=V=>a(i)[V].value=!a(i)[V].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function is(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Types"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof is=="function"&&is(Cn);const fm=I(Cn,[["__scopeId","data-v-909e692e"]]),bm={class:"item"},gm={class:"label"},kn=L({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:s}=F(),o=["all",...Pd],l=t,i=P(!1),u=P("all"),r=()=>{i.value=!i.value},n=c=>{u.value=c,l("select",u.value)};return(c,m)=>{const p=At;return h(),T(p,{class:"select",options:o.map(_=>_),selected:a(u),open:a(i),onOpen:r,onClose:m[0]||(m[0]=_=>i.value=!1),onInput:n},{item:w(_=>[d("div",bm,[d("div",gm,A(a(s)(_.item)),1)])]),_:1},8,["options","selected","open"])}}});function cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All Types"}},crvusd:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD"}},lending:{t:0,b:{t:2,i:[{t:3}],s:"Lending"}},pools:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}},router:{t:0,b:{t:2,i:[{t:3}],s:"Router"}},dao:{t:0,b:{t:2,i:[{t:3}],s:"DAO"}}}})}typeof cs=="function"&&cs(kn);const ym=I(kn,[["__scopeId","data-v-3c50994d"]]),wm={class:"chains"},Cm={class:"toolbar"},km={class:"activity"},$n=L({__name:"Chains.page",setup(e){const{t}=F(),{show:s}=O(Be());pe(()=>{s.value=!1});const o=ye("chain"),l=y({get(){return o.value?o.value:"all"},set(x){o.value=x}}),i=y(()=>{const x=m.value.map(re=>re.chain).concat(_.value.map(re=>re.chain)).concat(l.value!=="all"?[l.value]:[]).uniq().orderBy(re=>re,"asc"),ve=["ethereum"],_e=x.difference(ve).orderBy(re=>re,"asc");return["all",...ve,..._e]}),u=ye("type"),r=y({get(){return u.value?u.value:"all"},set(x){u.value=x}}),n=x=>{r.value=x},{isFetching:c,data:m}=Zd(),{isFetching:p,data:_}=Jd();function f(x,ve,_e,re){return x.filter(ie=>ve==="all"?!0:ie.chain===ve).filter(ie=>_e==="all"?!0:ie.type===_e).groupBy(ie=>ie.timestamp).entries().map(([ie,tt])=>{const Ne=tt.reduce((gt,Yt)=>gt+re(Yt),0);return{timestamp:Number(ie),count:Ne}})}const b=y(()=>f(m.value,l.value,r.value,x=>x.transactions)),g=y(()=>f(_.value,l.value,r.value,x=>x.users));function C(x){const re=Math.floor(Date.now()/1e3)-7*24*60*60,tt=x.filter(Ne=>Ne.timestamp>=re).reduce((Ne,gt)=>Ne+gt.count,0);return Math.round(tt/7)}const k=y(()=>{var x;return((x=b.value.at(-1))==null?void 0:x.count)??0}),$=y(()=>C(b.value)),V=y(()=>{var x;return((x=g.value.at(-1))==null?void 0:x.count)??0}),R=y(()=>C(g.value));function q(x,ve,_e,re){return x.filter(ie=>ve==="all"?!0:ie.chain===ve).filter(ie=>_e==="all"?!0:ie.type===_e).map(ie=>({chain:ie.chain,type:ie.type,value:re(ie)}))}const B=y(()=>q(m.value,"all",r.value,x=>x.transactions)),Q=y(()=>q(_.value,"all",r.value,x=>x.users)),de=y(()=>q(m.value,l.value,"all",x=>x.transactions)),Ke=y(()=>q(_.value,l.value,"all",x=>x.users));return(x,ve)=>{const _e=j,re=be;return h(),S("div",wm,[(h(),T(Wt,{to:"#toolbar"},[d("div",Cm,[v(a(ym),{style:{"grid-area":"type"},onSelect:n}),v(Lt,{style:{"grid-area":"chain"},class:"chain-select",chain:a(l),chains:a(i),all:!0,onSelectChain:ve[0]||(ve[0]=ie=>l.value=ie)},null,8,["chain","chains"])])])),d("div",km,[v(re,{style:{"grid-area":"kpi1"},label:a(t)("txs-today"),"has-value":!!a(c)},{default:w(()=>[v(_e,{type:"dollar",value:a(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(re,{style:{"grid-area":"kpi2"},label:a(t)("txs-avg"),"has-value":!!a(c)},{default:w(()=>[v(_e,{type:"dollar",value:a($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(re,{style:{"grid-area":"kpi3"},label:a(t)("users-today"),"has-value":!!a(p)},{default:w(()=>[v(_e,{type:"dollar",value:a(V),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(re,{style:{"grid-area":"kpi4"},label:a(t)("users-avg"),"has-value":!!a(p)},{default:w(()=>[v(_e,{type:"dollar",value:a(R),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(a(om),{style:{"grid-area":"txs"},txs:a(b),loading:a(c)},null,8,["txs","loading"]),v(a(lm),{style:{"grid-area":"users"},users:a(g),loading:a(p)},null,8,["users","loading"]),v(a(_m),{style:{"grid-area":"top-chains"},type:a(r),txs:a(B),users:a(Q),loading:a(c)||a(p)},null,8,["type","txs","users","loading"]),v(a(fm),{style:{"grid-area":"top-types"},chain:a(l),txs:a(de),users:a(Ke),loading:a(c)||a(p)},null,8,["chain","txs","users","loading"])])])}}});function us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"txs-today":{t:0,b:{t:2,i:[{t:3}],s:"Transactions Today"}},"txs-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Transactions / 7 Days"}},"users-today":{t:0,b:{t:2,i:[{t:3}],s:"Users Today"}},"users-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Users / 7 Days"}}}})}typeof us=="function"&&us($n);const $m=I($n,[["__scopeId","data-v-d2ff967d"]]),Sm=e=>(Y("data-v-a8bfcf8d"),e=e(),Z(),e),Am={class:"input-text"},Tm={key:0,class:"icon"},Lm=Sm(()=>d("i",{class:"fas fa-search"},null,-1)),Im=[Lm],Rm=["type","value","placeholder"],Vm=["onClick"],Pm=L({__name:"InputText",props:De({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:De(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const s=pt(e,"modelValue"),o=t,l=y(()=>{const u=e.options.filter(n=>e.filter(s.value,n));return e.sort?[...u].sort(e.sort):u}),i=u=>{const r=u.target.value;s.value=r,o("input",r)};return(u,r)=>(h(),S("div",Am,[u.search?(h(),S("span",Tm,Im)):D("",!0),d("input",{type:u.search?"search":"text",value:s.value,placeholder:u.placeholder,onInput:Ie(i,["stop"]),onSelect:r[0]||(r[0]=Ie(()=>{},["stop"]))},null,40,Rm),u.options&&u.autoComplete?(h(),S("div",{key:1,class:M(["items",{selectHide:!u.autoComplete}])},[(h(!0),S(ee,null,ce(a(l),(n,c)=>(h(),S("div",{key:c,onClick:m=>o("select",n)},[X(u.$slots,"item",{item:n,idx:c},()=>[E(A(n),1)],!0)],8,Vm))),128))],2)):D("",!0)]))}}),Re=I(Pm,[["__scopeId","data-v-a8bfcf8d"]]),Fm=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),ds=e=>{var t,s;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((s=e.pool_methods)==null?void 0:s.map(o=>o))??[]}},qm=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),Dm=e=>({timestamp:e.timestamp,tvlUSD:e.tvl_usd??0}),sa="https://prices.curve.fi";let Bm=class extends Ye{async getPools(t){const s=await this.getHost(),o=await this.fetch(`${s}/chains/${t}`);return{chain:o.chain,totals:Fm(o.total),pools:o.data.map(ds)}}async getPool(t,s){const o=await this.fetch(`${sa}/v1/pools/${t}/${s}`);return ds(o)}async getVolume(t,s){const l=Math.floor(new Date().getTime()/1e3),i=Math.floor(l-72e5);return(await this.fetch(`${sa}/v1/volume/usd/${t}/${s}?interval=day&start=${i}&end=${l}`)).data.map(qm)}async getTvl(t,s){const l=Math.floor(new Date().getTime()/1e3),i=Math.floor(l-72e5);return(await this.fetch(`${sa}/v1/snapshots/${t}/${s}/tvl?interval=day&start=${i}&end=${l}`)).data.map(Dm)}};const xm=["cb","laf","cm","pm","pm-lrt"];function Mm(){const e="cm";if(!xm.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Le({text:t,type:"error"}),new Error(t)}return e}const xt={};function Um(e){return hc[e]}async function Ge(e){const t=Mm(),s=t;if(xt[s])return Promise.resolve(xt[s]);const o=Um(t);return xt[s]=o,xt[s]}const It=new Bm(Ge());function Om(e){return z({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>It.getPools(t),placeholderData:Ht,enabled:y(()=>!!e.value)})}function Em(e,t){return z({queryKey:["curve-pool",t],queryFn:async({queryKey:[,s]})=>It.getPool(e.value,s),enabled:y(()=>!!e.value)})}function Wm(e,t){const s=y(()=>t.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>It.getPool(e.value,o),enabled:y(()=>!!e.value)})));return di({queries:s})}function Hm(e,t){return z({queryKey:["curve-pool-volume",t],queryFn:async({queryKey:[,s]})=>It.getVolume(e.value,s),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}function Km(e,t){return z({queryKey:["curve-pool-tvl",t],queryFn:async({queryKey:[,s]})=>It.getTvl(e.value,s),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const Nm=["src"],zm=["href"],Qm=["src"],jm=L({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=P("");function s(i){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${i}.png`}const o=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};G(()=>e.address,i=>{t.value=s(i.toLowerCase())},{immediate:!0});const l=y(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(i,u)=>i.clickable?(h(),S("a",{key:1,target:"_blank",href:a(l)},[d("img",{src:t.value,onError:o},null,40,Qm)],8,zm)):(h(),S("img",{key:0,src:t.value,onError:o},null,40,Nm))}}),Ve=I(jm,[["__scopeId","data-v-e852da0c"]]),Pa=e=>(Y("data-v-1322d4c0"),e=e(),Z(),e),Gm={key:0},Xm=Pa(()=>d("button",null,"1",-1)),Ym=[Xm],Zm=Pa(()=>d("button",null,[d("i",{class:"fas fa-chevron-left"})],-1)),Jm=[Zm],ev=["onClick"],tv=Pa(()=>d("button",null,[d("i",{class:"fas fa-chevron-right"})],-1)),av=[tv],sv=L({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const s=t,o=y(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),l=y(()=>{const p=[...Array(12).keys()].map(k=>k-6+e.page).filter(k=>k>=1&&k<=o.value),_=p.findIndex(k=>k===e.page),f=[],b=[],g=e.page!==1&&e.page!==o.value?[e.page]:[];let C=1;for(;;){const k=p[_-C];if(k&&k!==1&&f.unshift(k),f.length+b.length+g.length>=5||C>p.length)break;const $=p[_+C];if($&&$!==o.value&&b.push($),C++,f.length+b.length+g.length>=5||C>p.length)break}return[...f,...g,...b]});G(l,()=>{const c=i(e.page,1,o.value);e.page!==c&&s("page",c)});const i=(c,m,p)=>(p<m&&(p=m),Math.min(Math.max(c,m),p)),u=()=>s("page",i(e.page-1,1,o.value)),r=()=>s("page",i(e.page+1,1,o.value)),n=c=>s("page",i(c,1,o.value));return(c,m)=>a(o)>1?(h(),S("ul",Gm,[d("li",{class:M({active:c.page===1}),onClick:m[0]||(m[0]=p=>n(1))},Ym,2),a(o)>2?(h(),S("li",{key:0,onClick:u},Jm)):D("",!0),(h(!0),S(ee,null,ce(a(l),(p,_)=>(h(),S("li",{key:_,class:M({active:p===c.page}),onClick:f=>n(p)},[d("button",null,A(p),1)],10,ev))),128)),a(o)>2?(h(),S("li",{key:1,onClick:r},av)):D("",!0),a(o)>1?(h(),S("li",{key:2,class:M({active:c.page===a(o)}),onClick:m[1]||(m[1]=p=>n(a(o)))},[d("button",null,A(a(o)),1)],2)):D("",!0)])):D("",!0)}}),Oe=I(sv,[["__scopeId","data-v-1322d4c0"]]);function Je(e,t){const s=P(e),o=P("desc"),l=(u,r)=>{s.value=u,o.value=r},i=y(()=>({column:s.value,order:o.value}));return{sortColumn:s,sortOrder:o,sorting:i,onSort:l}}function Gt(e,t){const s=P(1),o=y(()=>e.value.drop((s.value-1)*t).take(t)),l=i=>{s.value=i};return G(o,i=>{i.length===0&&(s.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:s,rowsPage:o,onPage:l}}function Fa(){const e=P(1);return{page:e,onPage:s=>{e.value=s}}}const ov={class:"tokens"},nv={class:"end"},lv={class:"end"},rv={class:"end"},ps=20,Sn=L({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:i,onSort:u}=Je("tvl"),r=y(()=>e.pools.orderBy(_=>{switch(i.value.column){case"name":return _.name;case"volume":return _.tradingVolume24h;case"tvl":return _.tvlUsd;case"util":return p(_);default:return _.tvlUsd}},i.value.order)),{page:n,rowsPage:c,onPage:m}=Gt(r,ps);function p(_){return _.tvlUsd!==0?100*_.tradingVolume24h/_.tvlUsd:0}return(_,f)=>{const b=Oe,g=Ve,C=j,k=ae,$=U;return h(),T($,{title:a(s)("title")},{actions:w(()=>[v(b,{"items-count":_.pools.length,"items-per-page":ps,page:a(n),onPage:a(m)},null,8,["items-count","page","onPage"])]),default:w(()=>[v(k,{class:"pools-table","expand-side":"left",rows:a(c),columns:l,sorting:a(i),onSortColumn:a(u),onSelected:f[0]||(f[0]=V=>o("selected",V))},{row:w(({item:V})=>[d("div",ov,[(h(!0),S(ee,null,ce(V.coins,R=>(h(),T(g,{key:R.address,chain:_.chain,address:R.address},null,8,["chain","address"]))),128))]),d("div",null,A(V.name),1),d("div",nv,[v(C,{value:V.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",lv,[v(C,{value:V.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",rv,[v(C,{value:p(V),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":w(()=>[E("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function ms(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}}}})}typeof ms=="function"&&ms(Sn);const iv=I(Sn,[["__scopeId","data-v-aeac0c7c"]]),cv={class:"pools"},uv={class:"toolbar"},An=L({__name:"Pools.page",setup(e){const{t}=F(),s=["ethereum","arbitrum"],o=ye("chain"),l=y({get(){return o.value?o.value:"ethereum"},set(g){o.value=g}}),i=P(""),{isFetching:u,data:r}=vn(l),{isFetching:n,data:c}=Om(l),m=y(()=>{var g;return(((g=c.value)==null?void 0:g.pools)??[]).filter(C=>{const k=i.value.toLocaleLowerCase().split(" "),$=V=>k.some(R=>V.toLocaleLowerCase().includes(R));return $(C.name)||$(C.address)})}),{show:p,crumbs:_}=O(Be());pe(()=>{p.value=!0,_.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const f=Ue(),b=async g=>{await f.push({name:"poolspool",params:{tab:"",chain:l.value,poolAddr:g.address}})};return(g,C)=>{const k=Re,$=j,V=be;return h(),S("div",cv,[(h(),T(Wt,{to:"#toolbar"},[d("div",uv,[v(k,{modelValue:a(i),"onUpdate:modelValue":C[0]||(C[0]=R=>ne(i)?i.value=R:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v(Lt,{class:"chain-select",chain:a(l),chains:s,onSelectChain:C[1]||(C[1]=R=>l.value=R==="all"?"ethereum":R)},null,8,["chain"])])])),v(V,{style:{"grid-area":"kpi1"},label:a(t)("tvl"),"has-value":!a(u)},{default:w(()=>{var R;return[v($,{value:((R=a(r))==null?void 0:R.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(V,{style:{"grid-area":"kpi2"},label:a(t)("volume"),"has-value":!a(u)},{default:w(()=>{var R;return[v($,{value:((R=a(r))==null?void 0:R.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(V,{style:{"grid-area":"kpi3"},label:a(t)("fee-trading"),"has-value":!a(u)},{default:w(()=>{var R;return[v($,{value:((R=a(r))==null?void 0:R.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(V,{style:{"grid-area":"kpi4"},label:a(t)("fee-liquidity"),"has-value":!a(u)},{default:w(()=>{var R;return[v($,{value:((R=a(r))==null?void 0:R.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(iv),{style:{"grid-area":"pools"},chain:a(l),pools:a(m),loading:a(n),onSelected:b},null,8,["chain","pools","loading"])])}}});function vs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},"fee-trading":{t:0,b:{t:2,i:[{t:3}],s:"Fees Trading (24h)"}},"fee-liquidity":{t:0,b:{t:2,i:[{t:3}],s:"Fees Liquidity (24h)"}}}})}typeof vs=="function"&&vs(An);const dv=I(An,[["__scopeId","data-v-7be73a73"]]),pv={class:"tab-view"},mv={class:"tab-headers"},vv=["onClick"],_v={class:"tabs"},hv=L({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const s=t,o=P(null),l=Go(),i=y(()=>(l.default?l.default():[]).filter(n=>n.props));G(()=>e.active,r=>{o.value=r,s("tab",{tab:i.value[r],index:o.value})},{immediate:!0});const u=(r,n)=>{r.props.disabled||(o.value=n,s("tab",{tab:i.value[n],index:o.value}))};return(r,n)=>(h(),S("div",pv,[d("ul",mv,[(h(!0),S(ee,null,ce(a(i),(c,m)=>(h(),S("li",{key:m,class:M(["tab-header",{active:a(o)===m,disabled:c.props.disabled}]),onClick:p=>u(c,m)},A(c.props.header),11,vv))),128))]),d("div",_v,[(h(!0),S(ee,null,ce(a(i),(c,m)=>ga((h(),S("div",{key:m,class:"tab"},[(h(),T(fa(c)))])),[[pi,a(o)===m]])),128))])]))}}),Ee=I(hv,[["__scopeId","data-v-0fb1a0bc"]]),We=L({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,s)=>X(t.$slots,"default")}}),fv=new _n;function bv(e,t,s,o){return z({queryKey:["curve-token-price",t,s,o],queryFn:({queryKey:[,l,i,u]})=>fv.getOHLC(e.value,l,i,u),enabled:y(()=>!!e.value&&!!t.value&&!!s.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const gv=L({__name:"ButtonToggle",props:De({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:De(["change"],["update:modelValue"]),setup(e,{emit:t}){const s=pt(e,"modelValue"),o=t,l=()=>{const i=!s.value;s.value=i,o("change",i)};return(i,u)=>(h(),S("button",{class:M({toggled:s.value}),onClick:l},[X(i.$slots,"default",{},()=>[i.icon?(h(),S("i",{key:0,class:M(["icon",i.icon])},null,2)):D("",!0),E(" "+A(i.value),1)],!0)],2))}}),Rt=I(gv,[["__scopeId","data-v-b6760b51"]]),yv={class:"controls"},Tn=L({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1);let l=1,i=0;const{chart:u,chartRef:r,series:n}=oe({recreateChartTrigger:s,createChartOptions:p=>se(p,s.value),series:{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:p}=s.value;return{priceFormat:{type:"custom",formatter:m},upColor:p.green,borderUpColor:p.green,wickUpColor:p.green,downColor:p.red,borderDownColor:p.red,wickDownColor:p.red}})}});te(c);function c(){if(!u.value||!n.ohlc)return;const p=o.value?-1:1,_=e.ohlc.map(f=>({time:f.time,open:Math.pow(f.open,p),high:Math.pow(f.high,p),low:Math.pow(f.low,p),close:Math.pow(f.close,p)})).uniqWith((f,b)=>f.time===b.time).orderBy(f=>f.time,"asc");_.length>0&&(n.ohlc.setData(_),i=Math.min(..._.map(f=>f.low)),l=Math.max(..._.map(f=>f.high))),u.value.timeScale().fitContent()}function m(p){const _=l-i,f=_>1?_-Math.floor(_):_,b=-Math.floor(Math.log10(f)+1)+2;return`${K(p,b,"dollar")}${H(p,"dollar")}`}return(p,_)=>{const f=Rt,b=U;return h(),T(b,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",yv,[v(f,{value:"Invert","model-value":a(o),onClick:_[0]||(_[0]=g=>o.value=!a(o))},null,8,["model-value"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function _s(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof _s=="function"&&_s(Tn);const wv=I(Tn,[["__scopeId","data-v-ab9ee7b3"]]),Ln=L({__name:"ChartVolume",props:{volume:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`$${K(r,1,"dollar")}${H(r,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(u);function u(){if(!o.value||!i.volume)return;const r=e.volume.map(n=>({time:n.timestamp,value:n.volume})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.volume.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=U;return h(),T(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof hs=="function"&&hs(Ln);const Cv=I(Ln,[["__scopeId","data-v-f4fc3f1a"]]),In=L({__name:"ChartTvl",props:{tvl:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Area",name:"tvl",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`$${K(r,1,"dollar")}${H(r,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(u);function u(){if(!o.value||!i.tvl)return;const r=e.tvl.map(n=>({time:n.timestamp,value:n.tvl})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.tvl.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=U;return h(),T(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function fs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof fs=="function"&&fs(In);const kv=I(In,[["__scopeId","data-v-3d367304"]]),$v={class:"pool-overview"},Sv={class:"tokens"},Rn=L({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const{t}=F(),s=y(()=>{var f;return(f=e.pool)==null?void 0:f.address}),o=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[0].address}),l=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[1].address}),{isFetching:i,data:u}=bv(N(()=>e.chain),s,o,l),{isFetching:r,data:n}=Hm(N(()=>e.chain),s),{isFetching:c,data:m}=Km(N(()=>e.chain),s),p=y(()=>n.value.map(f=>({timestamp:f.timestamp,volume:f.volume}))),_=y(()=>m.value.map(f=>({timestamp:f.timestamp,tvl:f.tvlUSD})));return(f,b)=>{const g=Ve,C=be,k=j;return h(),S("div",$v,[v(C,{style:{"grid-area":"kpi1"},label:a(t)("tokens"),"has-value":!!f.pool},{default:w(()=>{var $;return[d("div",Sv,[(h(!0),S(ee,null,ce((($=f.pool)==null?void 0:$.coins)??[],V=>(h(),T(g,{key:V.address,chain:f.chain,address:V.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),v(C,{style:{"grid-area":"kpi2"},label:a(t)("tvl"),"has-value":!!f.pool},{default:w(()=>{var $;return[v(k,{value:(($=f.pool)==null?void 0:$.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(C,{style:{"grid-area":"kpi3"},label:a(t)("volume"),"has-value":!!f.pool},{default:w(()=>{var $;return[v(k,{value:(($=f.pool)==null?void 0:$.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(C,{style:{"grid-area":"kpi4"},label:a(t)("fees"),"has-value":!!f.pool},{default:w(()=>{var $;return[v(k,{value:(($=f.pool)==null?void 0:$.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(wv),{style:{"grid-area":"price"},ohlc:a(u),loading:a(i)},null,8,["ohlc","loading"]),v(a(Cv),{style:{"grid-area":"volume"},volume:a(p),loading:a(r)},null,8,["volume","loading"]),v(a(kv),{style:{"grid-area":"tvl"},tvl:a(_),loading:a(c)},null,8,["tvl","loading"])])}}});function bs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{tokens:{t:0,b:{t:2,i:[{t:3}],s:"Tokens"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees (24h)"}}}})}typeof bs=="function"&&bs(Rn);const Av=I(Rn,[["__scopeId","data-v-190fe010"]]),Tv={},Lv={class:"mev"};function Iv(e,t){return h(),S("div",Lv,"MEV goes here")}const Rv=I(Tv,[["render",Iv],["__scopeId","data-v-1b58cb9c"]]);function vt(e,t,s){const o=Ue(),l=ye("tab",e[0]),i=P(-1);return G(l,u=>i.value=e.findIndex(r=>r===u),{immediate:!0}),G(i,async u=>{u===-1&&(u=0),await o.push({name:t,params:{tab:e[u],...(s==null?void 0:s())??{}},replace:l.value===""})},{immediate:!0}),{tabActive:l,tabActiveIndex:i}}const Vv={class:"pool"},Pv=L({__name:"Pool.page",setup(e){const{show:t,crumbs:s}=O(Be()),o=ye("chain"),l=ye("poolAddr"),{isFetching:i,data:u}=Em(o,l.value);G(u,c=>{s.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:n}=vt(["overview","mev"],"poolspool",()=>({chain:o.value,poolAddr:l.value}));return(c,m)=>{const p=Xe,_=We,f=Ee;return h(),S("div",Vv,[v(p,{class:M(["spinner",{loading:a(i)}])},null,8,["class"]),!a(i)&&a(u)?(h(),T(f,{key:0,active:a(n),onTab:m[0]||(m[0]=b=>n.value=b.index)},{default:w(()=>[v(_,{header:"Overview"},{default:w(()=>[(h(),T(fe,null,[a(r)==="overview"?(h(),T(Av,{key:0,pool:a(u),chain:a(o)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1}),v(_,{header:"MEV"},{default:w(()=>[(h(),T(fe,null,[a(r)==="mev"?(h(),T(Rv,{key:0,pool:a(u),chain:a(o)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),Fv=I(Pv,[["__scopeId","data-v-5ee3289f"]]),qa=kt("curveStore",()=>{const e=P([]),t=P({}),s=P({});function o(i,u){t.value[i]=u}function l(i,u){s.value[i]=u}return{gauges:e,emissions:t,fees:s,setEmissions:o,setFees:l}});function st(e){const t=e.reduce((s,{timeStamp:o,value:l})=>s.set(o,(s.get(o)??0)+l),new Map);return Array.from(t).map(s=>({timeStamp:s[0],value:s[1]}))}const Vn=L({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(e){const{t}=F(),s=qa(),{theme:o}=O(W()),l=y(()=>{let b=t("title");return b+=` - ${Me(e.gaugeSelected.name)}`,b}),i=y(()=>s.emissions[e.gaugeSelected.name]??[]),u=y(()=>s.fees[e.gaugeSelected.name]??[]),r=y(()=>Math.min(...st(i.value).map(b=>b.value).concat(st(u.value).map(b=>b.value)))),n=y(()=>Math.max(...st(i.value).map(b=>b.value).concat(st(u.value).map(b=>b.value)).map(b=>Math.abs(b)))),c=y(()=>le(o.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:b=>p(b)},min:r,max:n},{seriesName:"emissions",tickAmount:4,labels:{formatter:b=>_(b)},show:!1,min:r,max:n}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:b=>{const g=b.w.globals.initialSeries[0].data[b.dataPointIndex].y,C=b.w.globals.initialSeries[1].data[b.dataPointIndex]?b.w.globals.initialSeries[1].data[b.dataPointIndex].y:0;return[`<div><b>${t("emissions")}</b>:</div><div>${p(g)}</div>`,`<div><b>${t("fees")}</b>:</div><div>${_(C)}</div>`,`<div><b>${t("ratio")}</b>:</div><div>${f(C/g)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(b){return b}}})),m=y(()=>{const b=st(i.value),g=st(u.value),C=Object.assign({},...g.map(k=>({[k.timeStamp]:k.value})));return[{name:t("emissions"),type:"line",data:b.map(k=>({x:k.timeStamp*1e3,y:k.value}))},{name:t("fees"),type:"line",data:b.map(k=>({x:k.timeStamp*1e3,y:C[k.timeStamp]?Math.abs(C[k.timeStamp]):0}))}]}),p=b=>`$${K(Math.abs(b),1,"dollar")}${H(b,"dollar")}`,_=b=>`$${K(b,1,"dollar")}${H(b,"dollar")}`,f=b=>ze(b,2);return(b,g)=>{const C=me;return h(),T(C,{class:"emissions",title:a(l),options:a(c),series:a(m)},null,8,["title","options","series"])}}});function gs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Emissions & Revenues"}},emissions:{t:0,b:{t:2,i:[{t:3}],s:"Emissions"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof gs=="function"&&gs(Vn);const qv=I(Vn,[["__scopeId","data-v-7fa32a97"]]),Dv={class:"end"},Bv={key:0,class:"charts"},xv={key:1},Pn=L({__name:"TableGauges",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const s=t,{t:o}=F(),l=qa(),i=y(()=>["",{id:"name",label:o("name"),sort:!0},{id:"tvl",label:o("tvl"),sort:!0,align:"end"}]),{sorting:u,onSort:r}=Je("tvl"),n=y(()=>l.gauges.orderBy(c=>{switch(u.value.column){case"name":return Me(c.name);case"tvl":return c.tvl;default:return c.tvl}},u.value.order));return(c,m)=>{const p=j,_=ae,f=U;return h(),T(f,{title:a(o)("title")},{default:w(()=>[v(_,{class:"gauges-tables",rows:a(n),columns:a(i),sorting:a(u),expanded:c.expanded,onSortColumn:a(r),onSelected:m[0]||(m[0]=b=>s("selected",b))},{row:w(b=>[d("div",null,A(a(Me)(b.item.name)),1),d("div",Dv,[v(p,{value:b.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":w(b=>[c.expanded.includes(b.item)?(h(),S("div",Bv,[v(qv,{class:"fees-and-emissions","gauge-selected":b.item},null,8,["gauge-selected"])])):(h(),S("span",xv))]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function ys(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},title:{t:0,b:{t:2,i:[{t:3}],s:"Curve Pools"}}}})}typeof ys=="function"&&ys(Pn);const Mv=I(Pn,[["__scopeId","data-v-2a6d1f51"]]);class Uv extends Ye{async get(){const t=await this.getHost();return this.fetch(`${t}/curvepool`)}}class Ov extends Ye{async get(t){const s=await this.getHost();return this.fetch(`${s}/curvepoolsnapshots`,{pool:t.name})}}function Xt(){const e=P([]);return{expanded:e,toggleExpansion:s=>{const o=e.value.findIndex(l=>l===s);return o===-1?(e.value.push(s),!0):(e.value.splice(o,1),!1)}}}const Ev={class:"gauges"},Wv=L({__name:"Gauges.page",setup(e){let t=!1;const s=new Uv(Ge()),o=new Ov(Ge()),l=qa(),i=Ue(),u=ye("gauge"),{expanded:r,toggleExpansion:n}=Xt();pe(async()=>{t=!0;const _=await Ct(s.get());if(_){const f=_.pools;if(f.sort((b,g)=>g.tvl-b.tvl),l.gauges=f,!t)return;u.value&&m(u.value)}}),ya(()=>{t=!1});const c=async _=>{if(!_||l.fees[_.name]&&l.emissions[_.name])return;const f=await Ct(o.get(_),500);if(f){const b=f.data.feeSnapshots,g=f.data.emissionSnapshots;l.setFees(_.name,b),l.setEmissions(_.name,g)}},m=_=>{const f=Sa(_),b=l.gauges.find(g=>g.name===f);b&&n(b)&&c(b)},p=async _=>{n(_)&&(c(_),await i.push({name:"curvegauges",params:{gauge:Me(_.name)}}))};return(_,f)=>(h(),S("div",Ev,[v(Mv,{class:"gauges-table",expanded:a(r),onSelected:p},null,8,["expanded"])]))}}),Hv=I(Wv,[["__scopeId","data-v-1efce19e"]]),Kv=e=>({week:e.week,label:e.label,total_fees:e.total_fees}),Nv=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),zv=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),Qv=e=>({timestamp:Te(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),jv=e=>({timestamp:Te(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),Gv=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),Xv=e=>({timestamp:Te(e.timestamp),feesUsd:e.fees_usd}),Yv=e=>({timestamp:Te(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),Zv=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Jv=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),oa="https://api-py.llama.airforce/curve/v1",na="https://prices.curve.fi";class e_ extends Ye{async getBreakdown(t){return(await this.fetch(`${oa}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(Kv)}async getByChain(t){return(await this.fetch(`${oa}/protocol/revenue/chains`,void 0,t)).revenue.map(Nv)}async getTopPools(t,s=10){const o=t==="ethereum"?"mainnet":t;return(await this.fetch(`${oa}/protocol/revenue/${o}/toppools/${s}`)).revenue.map(zv)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(Qv)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(jv)}async getCushions(t){return(await this.fetch(`${na}/v1/dao/fees/${t}/pending`)).data.map(Gv)}async getDistributions(){return await tn(o=>this.fetch(`${na}/v1/dao/fees/distributions?page=${o}&per_page=100`).then(l=>l.distributions.map(Xv)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${na}/v1/dao/fees/settlements${t?"?timestamp="+t.toString():""}`)).data.map(Yv)}async getFeesCollected(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-collected`)).data.map(Zv)}async getFeesStaged(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-staged`)).data.map(Jv)}}const He=new e_(Ge());function et(){return{initialData:[],initialDataUpdatedAt:0}}function t_(e){return z({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>He.getCushions(t).then(s=>s.sort((o,l)=>l.usdValue-o.usdValue)),...et()})}function a_(e){return z({queryKey:["curve-revenue-top-pools",e],queryFn:({queryKey:[,t]})=>He.getTopPools(t),...et()})}function s_(){return z({queryKey:["curve-revenue-chain"],queryFn:()=>He.getByChain().then(e=>e.sort((t,s)=>s.totalDailyFeesUSD-t.totalDailyFeesUSD)),...et()})}function o_(){return z({queryKey:["curve-revenue-breakdown"],queryFn:()=>He.getBreakdown(),...et()})}function n_(){return z({queryKey:["curve-revenue-distributions"],queryFn:()=>He.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function l_(){return z({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>He.getCowSwapSettlements(),...et()})}function r_(){return z({queryKey:["curve-revenue-fees-collected"],queryFn:()=>He.getFeesCollected(),...et()})}function i_(){return z({queryKey:["curve-revenue-fees-staged"],queryFn:()=>He.getFeesStaged(),...et()})}const c_={class:"actions"},Fn=L({__name:"ChartBreakdown",setup(e){const{t}=F(),{theme:s}=O(W()),{items:o}=qe(()=>[{id:"dao",label:"DAO",color:s.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:s.value.colorsArray[1]}]),{isFetching:l,data:i}=o_(),u=y(()=>{const{colors:f,colorsArray:b}={colors:s.value.colors,colorsArray:[s.value.colorsArray[0],_(s.value.colorsArray[0],10),_(s.value.colorsArray[0],20),s.value.colorsArray[1],_(s.value.colorsArray[1],10)]};return le({colors:f,colorsArray:b},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:n.value,labels:{formatter:m,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),r=y(()=>i.value.groupBy(f=>f.week).entries().map(([,f])=>({week:f[0].week,numLabels:f.length})).orderBy(f=>f.week,"asc").dropWhile(f=>f.numLabels<3).map(f=>f.week)),n=y(()=>r.value.map(f=>new Date(f*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"}))),c=y(()=>i.value.groupBy(f=>f.label).entries().map(([f,b])=>({name:f,data:r.value.map(g=>({week:g,breakdown:b.find(C=>C.week===g)})).map(g=>{var C;return{x:new Date(g.week*1e3).toLocaleDateString(),y:((C=g.breakdown)==null?void 0:C.total_fees)??0}})})).orderBy(f=>f.name,"asc")),m=f=>f,p=f=>`$${K(f,0,"dollar")}${H(f,"dollar")}`,_=(f,b)=>{let[g,C,k]=[f.slice(1,3),f.slice(3,5),f.slice(5,7)].map(V=>parseInt(V,16));const $=(V,R)=>Math.min(255,Math.max(0,R+Math.round(2.55*V)));return g=$(b,g),C=$(b,C),k=$(b,k),`#${g.toString(16).padStart(2,"0")}${C.toString(16).padStart(2,"0")}${k.toString(16).padStart(2,"0")}`};return(f,b)=>{const g=Fe,C=Kt,k=me;return h(),T(k,{class:"chart",options:a(u),series:a(c),loading:a(l),title:a(t)("title")},{actions:w(()=>[d("div",c_,[v(g,{items:a(o)},null,8,["items"]),v(C,null,{default:w(()=>[d("div",null,A(a(t)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function ws(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Revenue breakdown by source"}},"legend-explanation":{t:0,b:{t:2,i:[{t:3}],s:"DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"}}}})}typeof ws=="function"&&ws(Fn);const u_=I(Fn,[["__scopeId","data-v-cde25fd7"]]),qn=L({__name:"ChartChain",setup(e){const{t}=F(),{theme:s}=O(W()),{isFetching:o,data:l}=s_(),i=y(()=>le(s.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:n=>{const c=n.w.globals.labels[n.seriesIndex],m=n.series[n.seriesIndex][0];return[`<div><b>${c}</b>:</div><div>${r(m)}</div>`].join("")}},labels:l.value.map(n=>n.chain)})),u=y(()=>l.value.map(n=>n.totalDailyFeesUSD)),r=n=>`$${K(Math.abs(n),1,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=me;return h(),T(m,{class:"chart",options:a(i),series:a(u),loading:a(o),title:a(t)("title")},null,8,["options","series","loading","title"])}}});function Cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total revenue by chain"}}}})}typeof Cs=="function"&&Cs(qn);const d_=I(qn,[["__scopeId","data-v-a73b65f6"]]),Dn=L({__name:"ChartTopPools",setup(e){const{t}=F(),{theme:s}=O(W()),o=P("ethereum"),{isFetching:l,data:i}=a_(o),u=y(()=>le(s.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:i.value.map(m=>m.name),labels:{formatter:n}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:n,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));pe(()=>{c("ethereum")});const r=y(()=>[{data:i.value.map(m=>m.totalDailyFeesUSD)}]),n=m=>`$${K(Math.abs(m),1,"dollar")}${H(m,"dollar")}`,c=m=>{m!=="all"&&(o.value=m)};return(m,p)=>{const _=me;return h(),T(_,{class:"graph",options:a(u),series:a(r),loading:a(l),title:a(t)("title")},{actions:w(()=>[d("div",{class:M(["selector",{loading:a(l)}])},[v(Lt,{chain:a(o),onSelectChain:c},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 pools by revenue (last 7 days)"}}}})}typeof ks=="function"&&ks(Dn);const p_=I(Dn,[["__scopeId","data-v-d4e48dfc"]]),m_={class:"revenue-charts"},v_=L({__name:"Dashboard",setup(e){return(t,s)=>(h(),S("div",m_,[v(u_,{style:{"grid-area":"breakdown"},class:"breakdown"}),v(d_,{style:{"grid-area":"chain"},class:"chain"}),v(p_,{style:{"grid-area":"top-pools"}})]))}}),__=I(v_,[["__scopeId","data-v-603b54ec"]]),h_={class:"end"},Bn=L({__name:"TableDistributions",props:{distributions:{}},setup(e){const{t}=F(),s=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:o,onSort:l}=Je("timestamp"),i=y(()=>e.distributions.orderBy(r=>{switch(o.value.column){case"timestamp":return r.timestamp;case"fees":return r.feesUsd;default:return r.timestamp}},o.value.order));function u(r){return new Date(r*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(r,n)=>{const c=j,m=ae,p=U;return h(),T(p,{title:a(t)("title")},{default:w(()=>[v(m,{class:"distributions-table",rows:a(i),columns:s,sorting:a(o),onSortColumn:a(l)},{row:w(({item:{timestamp:_,feesUsd:f}})=>[d("div",null,A(u(_)),1),d("div",h_,[v(c,{value:f,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function $s(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}}}})}typeof $s=="function"&&$s(Bn);const f_=I(Bn,[["__scopeId","data-v-db28e96d"]]),b_={class:"actions"},xn=L({__name:"ChartDistributions",props:{distributions:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1),l=P(void 0),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:s,createChartOptions:c=>se(c,s.value),series:{type:"Histogram",name:"distributions",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${K(c,0,"dollar")}${H(c,"dollar")}`,minMove:.01},color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.distributions)return;const c=e.distributions.map(m=>({time:m.timestamp,value:m.feesUsd})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc").takeRight(52);if(c.length>0){r.distributions.setData(c);const m=c[0].time,p=c[c.length-1].time;i.value.timeScale().setVisibleRange({from:m,to:p})}}return(c,m)=>{const p=U;return h(),T(p,{ref_key:"chartCard",ref:l,class:"chart-card",title:a(t)("title")},{actions:w(()=>{var _;return[d("div",b_,[v(a(mt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>ne(o)?o.value=f:null),chart:a(i),target:(_=a(l))==null?void 0:_.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ss(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions (1y)"}}}})}typeof Ss=="function"&&Ss(xn);const g_=I(xn,[["__scopeId","data-v-6fd635d8"]]),y_={class:"actions"},Mn=L({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1),l=P(void 0),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:s,createChartOptions:c=>se(c,s.value),series:{type:"Histogram",name:"deltas",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${K(c,0,"dollar")}${H(c,"dollar")}`,minMove:.01},color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.deltas)return;const{colors:c}=s.value,m=e.distributions.map(p=>({time:p.timestamp,value:p.feesUsd})).uniqWith((p,_)=>p.time===_.time).orderBy(p=>p.time,"asc").takeRight(53).reduce((p,_,f,b)=>{if(f===0)return p;const g=_.value-b[f-1].value,C=g<0?c.red:c.green;return p.push({time:_.time,value:g,color:C}),p},[]);if(m.length>0){r.deltas.setData(m);const p=m[0].time,_=m[m.length-1].time;i.value.timeScale().setVisibleRange({from:p,to:_})}}return(c,m)=>{const p=U;return h(),T(p,{ref_key:"chartCard",ref:l,class:"chart-card",title:a(t)("title")},{actions:w(()=>{var _;return[d("div",y_,[v(a(mt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>ne(o)?o.value=f:null),chart:a(i),target:(_=a(l))==null?void 0:_.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function As(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions Change (1y)"}}}})}typeof As=="function"&&As(Mn);const w_=I(Mn,[["__scopeId","data-v-6d9dd4bc"]]),C_={class:"distributions"},Un=L({__name:"Distributions",setup(e){const{t}=F(),{isFetching:s,data:o}=n_(),l=y(()=>o.value.sumBy(r=>r.feesUsd)),i=y(()=>o.value.orderBy(r=>r.timestamp,"desc").take(52).meanBy(r=>r.feesUsd)),u=y(()=>{const r=o.value.orderBy(m=>m.timestamp,"desc").take(52).map(m=>m.feesUsd),n=r.meanBy(m=>m),c=r.map(m=>Math.pow(m-n,2));return Math.sqrt(c.sumBy(m=>m)/(r.length-1))});return(r,n)=>{const c=j,m=be;return h(),S("div",C_,[v(m,{style:{"grid-area":"kpi1"},label:a(t)("total"),"has-value":a(o).length>0},{default:w(()=>[v(c,{value:a(l),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(m,{style:{"grid-area":"kpi2"},label:a(t)("avg"),"has-value":a(o).length>0},{default:w(()=>[v(c,{value:a(i),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(m,{style:{"grid-area":"kpi3"},label:a(t)("stddev"),"has-value":a(o).length>0},{default:w(()=>[v(c,{value:a(u),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(g_,{style:{"grid-area":"chart"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"]),v(w_,{style:{"grid-area":"delta"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"]),v(f_,{style:{"grid-area":"table"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"])])}}});function Ts(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},avg:{t:0,b:{t:2,i:[{t:3}],s:"Average (1y)"}},stddev:{t:0,b:{t:2,i:[{t:3}],s:"Standard Deviation (1y)"}}}})}typeof Ts=="function"&&Ts(Un);const k_=I(Un,[["__scopeId","data-v-7cfcca3e"]]),On=e=>(Y("data-v-21c3d0f2"),e=e(),Z(),e),$_=["href"],S_={class:"end"},A_=On(()=>d("div",null,null,-1)),T_=On(()=>d("div",null,null,-1)),L_={class:"end"},En=L({__name:"TableCushions",setup(e){const{t}=F(),s=P(""),o=y(()=>u.value||c.value),l=P("ethereum"),{data:i,isFetching:u}=Yd(),r=y(()=>n.value.filter(p=>p.usdValue>100).filter(p=>{const _=s.value.toLocaleLowerCase().split(" "),f=b=>_.some(g=>b.toLocaleLowerCase().includes(g));return f(p.pool)||f(p.name)})),{data:n,isFetching:c}=t_(l),m=p=>`https://etherscan.io/address/${p}`;return(p,_)=>{const f=Re,b=j,g=ae,C=U;return h(),T(C,{class:"cushions-card",title:a(t)("title"),loading:a(o)},{actions:w(()=>[v(Lt,{class:"chain-select",chain:a(l),chains:a(i),onSelectChain:_[0]||(_[0]=k=>l.value=k==="all"?"ethereum":k)},null,8,["chain","chains"]),v(f,{modelValue:a(s),"onUpdate:modelValue":_[1]||(_[1]=k=>ne(s)?s.value=k:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[v(g,{class:"cushions-table",rows:a(r),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:w(k=>[d("div",null,A(k.item.name),1),d("div",null,[d("a",{class:"font-mono",href:m(k.item.pool),target:"_blank"},A(k.item.pool),9,$_)]),d("div",S_,[v(b,{value:k.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[A_,T_,d("div",L_,[v(b,{value:a(r).reduce((k,$)=>k+$.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cushions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Ls=="function"&&Ls(En);const I_=I(En,[["__scopeId","data-v-21c3d0f2"]]),R_={class:"cushions"},V_=L({__name:"Cushions",setup(e){return(t,s)=>(h(),S("div",R_,[v(I_)]))}}),P_=I(V_,[["__scopeId","data-v-78dd0726"]]),F_=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[s,o])=>(t[s]=BigInt(o),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((s,[o,l])=>(s[o]=BigInt(l),s),{}),orders:t.orders.map(s=>({id:s.id,sellAmount:BigInt(s.sellAmount),buyAmount:BigInt(s.buyAmount)}))}))}),q_="https://api.cow.fi";class D_ extends Ae{async getCompetition(t){const s=await this.fetch(`${q_}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return F_(s)}}const B_=new D_;function x_(e){return z({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>B_.getCompetition(t)})}const M_=e=>(Y("data-v-e66b8ca2"),e=e(),Z(),e),U_={class:"settlement-details-body"},O_={class:"info col"},E_={class:"buttons"},W_=M_(()=>d("i",{class:"fas fa-expand"},null,-1)),H_={class:"font-mono json"},K_={key:0,class:"fas fa-trophy"},N_={key:1},z_=["href"],Q_=L({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:s}=x_(N(()=>e.settlement.txHash)),o=y(()=>t.value?JSON.stringify(t.value,(p,_)=>typeof _=="bigint"?_.toString():_,2):"no data"),l=y(()=>t.value?t.value.solutions.orderBy(p=>p.ranking,"asc"):[]);function i(p){return`https://etherscan.io/address/${p}`}async function u(p){await navigator.clipboard.writeText(p)}async function r(){await navigator.clipboard.writeText(o.value)}function n(p){switch(p){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const c=P(!1),m=P(void 0);return(p,_)=>{const f=be,b=we,g=bn,C=U,k=ae;return h(),T(C,{class:"settlement-details"},{default:w(()=>[d("div",U_,[d("div",O_,[v(f,{label:"Auction Start Block","has-value":!a(s)},{default:w(()=>{var $;return[E(A((($=a(t))==null?void 0:$.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),v(f,{label:"Solvers","has-value":!a(s)},{default:w(()=>{var $,V;return[E(A(((V=($=a(t))==null?void 0:$.solutions)==null?void 0:V.length)??0),1)]}),_:1},8,["has-value"]),v(f,{label:"Orders","has-value":!a(s)},{default:w(()=>{var $,V;return[E(A(((V=($=a(t))==null?void 0:$.orders)==null?void 0:V.length)??0),1)]}),_:1},8,["has-value"]),v(C,{ref_key:"cardJson",ref:m,class:"card-json col",title:"Json"},{actions:w(()=>[d("div",E_,[v(b,{icon:"fas fa-link",onClick:_[0]||(_[0]=$=>r())}),v(b,{onClick:_[2]||(_[2]=$=>c.value=!a(c))},{default:w(()=>{var $;return[W_,v(g,{target:($=a(m))==null?void 0:$.$el,show:a(c),onClose:_[1]||(_[1]=V=>c.value=!1)},null,8,["target","show"])]}),_:1})])]),default:w(()=>[d("div",H_,A(a(o)),1)]),_:1},512)]),v(C,{class:"col",title:"Solvers"},{default:w(()=>[v(k,{class:"solvers-table col",rows:a(l)},{row:w(({item:{solver:$,solverAddress:V,ranking:R,score:q}})=>[d("div",{class:M(["trophy",n(R)])},[R<=3?(h(),S("i",K_)):(h(),S("span",N_,A(R),1))],2),d("div",null,[d("a",{class:"font-mono",href:i(V),target:"_blank"},A($),9,z_)]),d("div",null,A(q),1),d("div",null,[v(b,{icon:"fas fa-link",onClick:B=>u(V)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),j_=I(Q_,[["__scopeId","data-v-e66b8ca2"]]),G_=e=>(Y("data-v-a5ca2c67"),e=e(),Z(),e),X_={class:"header-content"},Y_={class:"token"},Z_=["href"],J_={class:"end"},eh={class:"end"},th={class:"end"},ah={class:"end profit"},sh={class:"end"},oh=["href"],nh={class:"end"},lh=G_(()=>d("div",{class:"empty"},null,-1)),Is=15,Wn=L({__name:"TableSettlements",props:{settlements:{}},setup(e){const{t}=F(),s=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:o,onSort:l}=Je("timestamp"),i=y(()=>e.settlements.orderBy(g=>{switch(o.value.column){case"amount":return g.amountReceived;case"quote":return g.routerReceived;case"profit":return _(g);case"profitPct":return f(g);case"timestamp":default:return g.timestamp}},o.value.order)),{page:u,rowsPage:r,onPage:n}=Gt(i,Is),{expanded:c,toggleExpansion:m}=Xt(),{relativeTime:p}=Ze();function _(g){return g.amountReceived-g.routerReceived}function f(g){return 100*g.amountReceived/g.routerReceived-100}function b(g){const C=g.coin.symbol;return C.includes(":")?C.split(":")[1]:C}return(g,C)=>{const k=Oe,$=Ve,V=j,R=ae,q=U;return h(),T(q,{title:a(t)("title")},{actions:w(()=>[d("div",X_,[v(k,{"items-count":a(i).length,"items-per-page":Is,page:a(u),onPage:a(n)},null,8,["items-count","page","onPage"])])]),default:w(()=>[v(R,{class:"settlements-table",rows:a(r),columns:s,sorting:a(o),expanded:a(c),"expand-side":"right",onSortColumn:a(l),onSelected:a(m)},{row:w(({item:B})=>[d("div",Y_,[v($,{address:B.coin.address},null,8,["address"]),d("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${B.coin.address}`},A(b(B)),9,Z_)]),d("div",J_,[v(V,{value:B.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),d("div",eh,[v(V,{value:B.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),d("div",th,[B.routerReceived>1?(h(),T(V,{key:0,value:_(B),precision:2,inline:!1,type:"dollar"},null,8,["value"])):D("",!0)]),d("div",ah,[B.routerReceived>1?(h(),T(V,{key:0,class:M(["pct",{green:f(B)>0}]),value:f(B),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):D("",!0)]),d("div",sh,[d("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${B.txHash}`,target:"_blank",onClick:C[0]||(C[0]=Ie(()=>{},["stop"]))},A(a(Se)(B.txHash)),9,oh)]),d("div",nh,A(a(p)(B.timestamp)),1)]),"row-details":w(({item:B})=>[lh,a(c).includes(B)?(h(),T(j_,{key:0,settlement:B},null,8,["settlement"])):D("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1},8,["title"])}}});function Rs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"CowSwap Settlements"}}}})}typeof Rs=="function"&&Rs(Wn);const rh=I(Wn,[["__scopeId","data-v-a5ca2c67"]]),ih={class:"settlements"},ch=L({__name:"Settlements",setup(e){const{isFetching:t,data:s}=l_();return(o,l)=>(h(),S("div",ih,[v(rh,{style:{"grid-area":"table"},settlements:a(s),loading:a(t)},null,8,["settlements","loading"])]))}}),uh=I(ch,[["__scopeId","data-v-3297d635"]]),Da=e=>(Y("data-v-7524c251"),e=e(),Z(),e),dh=["href"],ph={class:"end"},mh={class:"end"},vh=Da(()=>d("div",null,null,-1)),_h=Da(()=>d("div",null,null,-1)),hh=Da(()=>d("div",null,null,-1)),fh={class:"end"},Hn=L({__name:"TableFeesCollected",props:{fees:{}},setup(e){const{t}=F(),s=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:o,onSort:l}=Je("amountUsd"),i=y(()=>e.fees.orderBy(u=>{switch(o.value.column){case"symbol":return u.coin.symbol;case"amount":return u.amount;default:return u.amountUsd}},o.value.order));return(u,r)=>{const n=Ve,c=j,m=ae,p=U;return h(),T(p,{title:a(t)("title")},{default:w(()=>[v(m,{rows:a(i),columns:s,sorting:a(o),onSortColumn:a(l)},{row:w(({item:_})=>[v(n,{address:_.coin.address},null,8,["address"]),d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${_.coin.address}`},A(_.coin.symbol),9,dh)]),d("div",ph,[v(c,{value:_.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",mh,[v(c,{value:_.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[vh,_h,hh,d("div",fh,[v(c,{value:a(i).reduce((_,f)=>_+f.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Vs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Fees Collected"}}}})}typeof Vs=="function"&&Vs(Hn);const bh=I(Hn,[["__scopeId","data-v-7524c251"]]),Ba=e=>(Y("data-v-efcb5da9"),e=e(),Z(),e),gh=["href"],yh={class:"end"},wh={class:"end"},Ch=Ba(()=>d("div",null,null,-1)),kh=Ba(()=>d("div",null,null,-1)),$h=Ba(()=>d("div",null,null,-1)),Sh={class:"end"},Kn=L({__name:"TableFeesStaged",props:{fees:{}},setup(e){const{t}=F(),s=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:o,onSort:l}=Je("amountUsd"),i=y(()=>e.fees.orderBy(u=>{switch(o.value.column){case"symbol":return u.coin.symbol;case"amount":return u.amount;default:return u.amountUsd}},o.value.order));return(u,r)=>{const n=Ve,c=j,m=ae,p=U;return h(),T(p,{title:a(t)("title")},{default:w(()=>[v(m,{rows:a(i),columns:s,sorting:a(o),onSortColumn:a(l)},{row:w(({item:_})=>[v(n,{address:_.coin.address},null,8,["address"]),d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${_.coin.address}`},A(_.coin.symbol),9,gh)]),d("div",yh,[v(c,{value:_.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",wh,[v(c,{value:_.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[Ch,kh,$h,d("div",Sh,[v(c,{value:a(i).reduce((_,f)=>_+f.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Ps(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Fees Staged"}}}})}typeof Ps=="function"&&Ps(Kn);const Ah=I(Kn,[["__scopeId","data-v-efcb5da9"]]),Th={class:"harvesting"},Lh=L({__name:"Harvesting",setup(e){const{isFetching:t,data:s}=r_(),{isFetching:o,data:l}=i_();return(i,u)=>(h(),S("div",Th,[v(bh,{style:{"grid-area":"collected"},fees:a(s),loading:a(t)},null,8,["fees","loading"]),v(Ah,{style:{"grid-area":"staged"},fees:a(l),loading:a(o)},null,8,["fees","loading"])]))}}),Ih=I(Lh,[["__scopeId","data-v-2bec8864"]]),Rh={class:"revenue"},Vh=L({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:s}=vt(["overview","distributions","cushions","settlements","harvesting"],"revenue");return(o,l)=>{const i=We,u=Ee;return h(),S("div",Rh,[v(u,{active:a(s),onTab:l[0]||(l[0]=r=>s.value=r.index)},{default:w(()=>[v(i,{header:"Revenue"},{default:w(()=>[(h(),T(fe,null,[a(t)==="overview"?(h(),T(__,{key:0})):D("",!0)],1024))]),_:1}),v(i,{header:"Distributions"},{default:w(()=>[(h(),T(fe,null,[a(t)==="distributions"?(h(),T(k_,{key:0})):D("",!0)],1024))]),_:1}),v(i,{header:"Cushions"},{default:w(()=>[(h(),T(fe,null,[a(t)==="cushions"?(h(),T(P_,{key:0})):D("",!0)],1024))]),_:1}),v(i,{header:"Settlements"},{default:w(()=>[(h(),T(fe,null,[a(t)==="settlements"?(h(),T(uh,{key:0})):D("",!0)],1024))]),_:1}),v(i,{header:"Harvesting"},{default:w(()=>[(h(),T(fe,null,[a(t)==="harvesting"?(h(),T(Ih,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Ph=I(Vh,[["__scopeId","data-v-cb282f5b"]]),Fh=e=>(Y("data-v-03b79ce7"),e=e(),Z(),e),qh={class:"end"},Dh={class:"end"},Bh={class:"end"},xh={class:"end"},Mh=Fh(()=>d("div",null,null,-1)),Uh={class:"end"},Oh={class:"end"},Eh={class:"end"},Wh={class:"end"},Nn=L({__name:"TablePegkeepers",setup(e){const{t}=F(),s=P(""),o=y(()=>p.value||u.value),l=y(()=>r.value.map(b=>{const g=_.value.find(C=>b.pool_address===C.address);if(g)return{...g,...b}}).filter(uc).orderBy(b=>b.tvlUsd,"desc")),i=y(()=>l.value.filter(b=>{const g=s.value.toLocaleLowerCase().split(" "),C=k=>g.some($=>k.toLocaleLowerCase().includes($));return C(b.name)||C(b.address)})),{isFetching:u,data:r}=hn(),n=b=>`${b.pair[1].symbol} / ${b.pair[0].symbol}`,c=y(()=>r.value.map(b=>b.pool_address)),m=Wm(P("ethereum"),c),p=y(()=>m.value.some(b=>b.isFetching)),_=y(()=>m.value.filter(b=>b.data).map(b=>b.data)),f=b=>b>=1e6?2:0;return(b,g)=>{const C=Re,k=j,$=ae,V=U;return h(),T(V,{class:"pegkeepers-card",title:a(t)("title"),loading:a(o)},{actions:w(()=>[v(C,{modelValue:a(s),"onUpdate:modelValue":g[0]||(g[0]=R=>ne(s)?s.value=R:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[v($,{class:"pegkeepers-table",rows:a(i),columns:["Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:w(R=>[d("div",null,A(n(R.item)),1),d("div",qh,[v(k,{value:R.item.total_debt,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Dh,[v(k,{value:R.item.tvlUsd,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Bh,[v(k,{value:R.item.tradingVolume24h,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",xh,[v(k,{value:R.item.total_profit,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[Mh,d("div",Uh,[v(k,{value:a(i).reduce((R,q)=>R+q.total_debt,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Oh,[v(k,{value:a(i).reduce((R,q)=>R+q.tvlUsd,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Eh,[v(k,{value:a(i).reduce((R,q)=>R+q.tradingVolume24h,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),d("div",Wh,[v(k,{value:a(i).reduce((R,q)=>R+q.total_profit,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Fs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pegkeepers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Fs=="function"&&Fs(Nn);const Hh=I(Nn,[["__scopeId","data-v-03b79ce7"]]),xa=e=>(Y("data-v-9223ff4a"),e=e(),Z(),e),Kh={class:"end"},Nh={class:"end"},zh={class:"end"},Qh={class:"end"},jh={class:"end"},Gh={class:"end"},Xh=xa(()=>d("div",null,null,-1)),Yh=xa(()=>d("div",null,null,-1)),Zh={class:"end"},Jh=xa(()=>d("div",null,null,-1)),ef={class:"end"},tf={class:"end"},af={class:"end"},sf={class:"end"},zn=L({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=P(""),i=y(()=>r.value.filter(c=>{const m=l.value.toLocaleLowerCase().split(" "),p=_=>m.some(f=>_.toLocaleLowerCase().includes(f));return p(c.name)||p(c.address)}).orderBy(c=>c.borrowed,"desc")),{isFetching:u,data:r}=Va(),n=c=>c>=1e6?2:0;return(c,m)=>{const p=Re,_=j,f=ae,b=U;return h(),T(b,{class:"markets-card",title:a(s)("title"),loading:a(u)},{actions:w(()=>[v(p,{modelValue:a(l),"onUpdate:modelValue":m[0]||(m[0]=g=>ne(l)?l.value=g:null),search:!0,placeholder:a(s)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[v(f,{class:"markets-table","expand-side":"left",rows:a(i),columns:["","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:m[1]||(m[1]=g=>o("selected",g))},{row:w(g=>[d("div",null,A(g.item.name),1),d("div",Kh,A(g.item.loans),1),d("div",Nh,[v(_,{value:g.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),d("div",zh,[v(_,{value:g.item.borrowed,precision:n,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",Qh,[v(_,{value:g.item.collateralUsd,precision:n,type:"dollar"},null,8,["value"])]),d("div",jh,[v(_,{value:g.item.fees.pending,precision:n,type:"dollar"},null,8,["value"])]),d("div",Gh,[v(_,{value:g.item.fees.collected,precision:n,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[Xh,Yh,d("div",Zh,A(a(i).reduce((g,C)=>g+C.loans,0)),1),Jh,d("div",ef,[v(_,{value:a(i).reduce((g,C)=>g+C.borrowed,0),precision:n,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",tf,[v(_,{value:a(i).reduce((g,C)=>g+C.collateralUsd,0),precision:n,type:"dollar"},null,8,["value"])]),d("div",af,[v(_,{value:a(i).reduce((g,C)=>g+C.fees.pending,0),precision:n,type:"dollar"},null,8,["value"])]),d("div",sf,[v(_,{value:a(i).reduce((g,C)=>g+C.fees.collected,0),precision:n,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":w(()=>[E("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Markets"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof qs=="function"&&qs(zn);const of=I(zn,[["__scopeId","data-v-9223ff4a"]]),nf=L({__name:"ChartCrvUsdPriceHistogram",setup(e){const{theme:t}=O(W()),{isFetching:s,data:o}=dp(),l=y(()=>le(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:i.value,labels:{formatter:r},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:n}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:c=>{const m=i.value[c.dataPointIndex],p=c.series[0][c.dataPointIndex];return[`<div><b>${m}</b>:</div><div>${n(p)}</div>`].join("")}}})),i=y(()=>o.value.x.map(c=>c.toString())),u=y(()=>[{data:o.value.y}]),r=c=>{const m=c-1;return m<0?`-$${m.toString().substring(2,7)}`:`$${m.toString().substring(1,6)}`},n=c=>{var _,f;const m=((f=(_=u.value[0])==null?void 0:_.data)==null?void 0:f.reduce((b,g)=>b+g,0))??1,p=c/m*100;return`${K(p,0,"dollar")}${H(p,"percentage")}`};return(c,m)=>{const p=me;return h(),T(p,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:a(s),options:a(l),series:a(u)},null,8,["loading","options","series"])}}}),lf=I(nf,[["__scopeId","data-v-c5b8eb50"]]),rf={class:"actions"},cf={class:"chart-types"},Qn=L({__name:"ChartCrvUsdSupply",setup(e){const{t}=F(),{theme:s}=O(W()),o=P("line"),{items:l}=qe(()=>[{id:"supply",label:"Supply",color:s.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:s.value.colorsArray[1]}]),{isFetching:i,data:u}=up(),r=n=>{o.value!==n&&(o.value=n)};return(n,c)=>{const m=Fe,p=Rt,_=U;return h(),T(_,{class:"chart-container",title:a(t)("title"),loading:a(i)},{actions:w(()=>[d("div",rf,[a(o)==="line"?(h(),T(m,{key:0,items:a(l)},null,8,["items"])):D("",!0),d("div",cf,[v(p,{value:"Line","model-value":a(o)==="line",onClick:c[0]||(c[0]=f=>r("line"))},null,8,["model-value"]),v(p,{value:"Breakdown","model-value":a(o)==="breakdown",onClick:c[1]||(c[1]=f=>r("breakdown"))},null,8,["model-value"])])])]),default:w(()=>[(h(),T(fe,null,[a(o)==="line"?(h(),T(a(mf),{key:0,data:a(u)},null,8,["data"])):D("",!0)],1024)),(h(),T(fe,null,[a(o)==="breakdown"?(h(),T(a(pf),{key:0,data:a(u)},null,8,["data"])):D("",!0)],1024))]),_:1},8,["title","loading"])}}});function Ds(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD Supply"}}}})}typeof Ds=="function"&&Ds(Qn);const uf=I(Qn,[["__scopeId","data-v-e38ebf19"]]),df=L({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=O(W()),s=y(()=>le(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>e.data.orderBy(n=>n.timestamp,"asc").groupBy(n=>n.timestamp).entries().map(([n])=>new Date(parseInt(n,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((n,c)=>c%8===0?n:"")),l=y(()=>e.data.groupBy(n=>n.market).entries().map(([n,c])=>({name:n,data:c.groupBy(m=>m.timestamp).entries().map(([m,p])=>({x:new Date(parseInt(m,10)*1e3).toLocaleDateString(),y:p.reduce((_,f)=>_+f.supply,0)})).orderBy(m=>m.x,"asc")}))),i=y(()=>Math.max(...e.data.groupBy(n=>n.timestamp).entries().map(([,n])=>n.reduce((c,m)=>c+m.supply,0)))*1.1),u=n=>n,r=n=>`${K(n,1,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=jt;return h(),T(m,{class:"chart",options:a(s),series:a(l)},null,8,["options","series"])}}}),pf=I(df,[["__scopeId","data-v-1ccdf5c2"]]),mf=L({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){const{theme:t}=O(W()),{chart:s,chartRef:o,series:l}=oe({recreateChartTrigger:t,createChartOptions:r=>se(r,t.value),series:[{type:"Area",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ue.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ue.WithSteps,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(i);function i(){if(!s.value||!l.debt||!l.supply)return;const r=e.data.groupBy(c=>c.timestamp).entries().map(([,c])=>{var m;return{time:c[0].timestamp,value:c.reduce((p,_)=>p+_.supply,0),debt:((m=c.find(p=>p.market==="Keepers debt"))==null?void 0:m.supply)??0}}).uniqWith((c,m)=>c.time===m.time).orderBy(c=>c.time,"asc"),n=r.map(c=>({time:c.time,value:c.value-c.debt}));r.length>0&&l.supply.setData(r),n.length>0&&l.debt.setData(n),s.value.timeScale().fitContent()}function u(r){return`${K(r,0,"dollar")}${H(r,"dollar")}`}return(r,n)=>(h(),S("div",{ref_key:"chartRef",ref:o,class:"chart"},null,512))}}),jn=L({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=Qt(N(()=>e.market)),{theme:l}=O(W()),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:l,createChartOptions:c=>se(c,l.value),series:{type:"Area",name:"available",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${K(c,0,"dollar")}${H(c,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.available)return;const c=o.value.map(m=>({time:m.timestamp,value:m.borrowable})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc").dropWhile(m=>m.value===0);c.length>0&&r.available.setData(c),i.value.timeScale().fitContent()}return(c,m)=>{const p=U;return h(),T(p,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Bs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable & Debt Ceiling"}}}})}typeof Bs=="function"&&Bs(jn);const vf=I(jn,[["__scopeId","data-v-da606e80"]]),Gn=L({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=Qt(N(()=>e.market)),{theme:l}=O(W()),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:l,createChartOptions:c=>se(c,l.value,{localization:{priceFormatter:m=>Math.round(m).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:l.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.loans)return;const c=o.value.map(m=>({time:m.timestamp,value:m.nLoans})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc");if(c.length>0){r.loans.setData(c);const m=c[0].time,p=c[c.length-1].time;i.value.timeScale().setVisibleRange({from:m,to:p})}}return(c,m)=>{const p=U;return h(),T(p,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof xs=="function"&&xs(Gn);const _f=I(Gn,[["__scopeId","data-v-d5fb33e8"]]),hf=["min","max"],ff=L({__name:"InputNumber",props:De({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=pt(e,"modelValue");return G(t,s=>{s===""?t.value=null:typeof s=="number"&&(t.value=Math.min(Math.max(s,e.min),e.max))}),(s,o)=>ga((h(),S("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),type:"number",min:s.min,max:s.max},null,8,hf)),[[Xo,t.value]])}}),Ma=I(ff,[["__scopeId","data-v-4bb37a2c"]]),bf={class:"actions"},Xn=L({__name:"ChartMarketRates",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=Qt(N(()=>e.market)),{theme:l}=O(W()),i=P(null),{chart:u,chartRef:r,series:n}=oe({recreateChartTrigger:l,createChartOptions:_=>se(_,l.value),series:[{type:"Area",name:"rates",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:ue.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"ema",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:ue.WithSteps,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(c);function c(){if(!u.value||!n.rates||!n.ema)return;const _=o.value.map(g=>({time:g.timestamp,value:g.rate})).uniqWith((g,C)=>g.time===C.time).orderBy(g=>g.time,"asc"),b=p(_.map(g=>g.value),i.value??31).zip(_).map(g=>({time:g[1].time,value:g[0]}));if(b.length>0&&n.ema.setData(b),_.length>0){n.rates.setData(_);const g=_[0].time,C=_[_.length-1].time;u.value.timeScale().setVisibleRange({from:g,to:C})}}function m(_){return`${K(_*100,0,"percentage")}${H(_,"percentage")}`}const p=(_,f=7)=>_.map((b,g)=>{const C=Math.max(g-(f-1),0),k=g+1,$=_.slice(C,k);return $.reduce((R,q)=>R+q,0)/$.length});return(_,f)=>{const b=Ma,g=U;return h(),T(g,{class:"chart-container",title:a(t)("title"),loading:a(s)},{actions:w(()=>[d("div",bf,[v(b,{modelValue:a(i),"onUpdate:modelValue":f[0]||(f[0]=C=>ne(i)?i.value=C:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ms(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}}}})}typeof Ms=="function"&&Ms(Xn);const gf=I(Xn,[["__scopeId","data-v-8b662047"]]),yf=e=>{const t=e.provider.toLocaleLowerCase(),s=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,o=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,l=e.block_number,i=e.timestamp,u=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:s,withdrawal:o,block_number:l,timestamp:i,transaction_hash:u}},wf=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),Cf=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),la="https://prices.curve.fi";class kf extends Ae{async getEvents(t,s,o,l){const i=await this.fetch(`${la}/v1/${t}/llamma_events/${s}/${o}?page=${l}&per_page=10`);return{events:i.data.map(yf),count:i.count}}async getTrades(t,s,o,l){const i=await this.fetch(`${la}/v1/${t}/llamma_trades/${s}/${o}?page=${l}&per_page=10`);return{trades:i.data.map(wf),count:i.count}}async getOHLC(t,s,o){const l=Math.floor(new Date().getTime()/1e3),i=l-10*24*60*60;return(await this.fetch(`${la}/v1/${t}/llamma_ohlc/${s}/${o}?agg_number=1&agg_units=hour&start=${i}&end=${l}`)).data.map(Cf)}}const Ua=new kf;function Yn(e,t,s,o){return z({queryKey:["llamma-market-events",t,o],queryFn:({queryKey:[,l,i]})=>Ua.getEvents(e.value,s.value,l,i),placeholderData:Ht,enabled:y(()=>!!t.value&&!!s.value)})}function Zn(e,t,s,o){return z({queryKey:["llamma-market-trades",t,o],queryFn:({queryKey:[,l,i]})=>Ua.getTrades(e.value,s.value,l,i),placeholderData:Ht,enabled:y(()=>!!t.value&&!!s.value)})}function Oa(e,t,s){return z({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,o]})=>Ua.getOHLC(e.value,s.value,o),enabled:y(()=>!!t.value&&!!s.value)})}const Jn=L({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=Oa(N("crvusd"),y(()=>{var c;return(c=e.market)==null?void 0:c.llamma}),N(()=>e.chain)),{theme:l}=O(W()),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:l,createChartOptions:c=>se(c,l.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${K(c,0,"dollar")}${H(c,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.volume)return;const c=(o.value??[]).map(m=>({time:m.time,value:m.volume})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc");c.length>0&&r.volume.setData(c),i.value.timeScale().fitContent()}return(c,m)=>{const p=U;return h(),T(p,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof Us=="function"&&Us(Jn);const $f=I(Jn,[["__scopeId","data-v-d4814588"]]),Sf={class:"actions"},el=L({__name:"ChartKeeperPrices",setup(e){const{t}=F(),{theme:s}=O(W()),o=["USDC","USDT","TUSD","USDP"],{items:l,toggles:i,disabled:u}=qe(()=>o.map(($,V)=>({id:$,label:$,color:s.value.colorsArray[V],togglable:!0}))),r=y(()=>n.value||m.value),{isFetching:n,data:c}=hn(),{isFetching:m,data:p}=pp(c),_=P(!1),f=P(void 0),{chart:b,chartRef:g,series:C}=oe({recreateChartTrigger:s,createChartOptions:$=>se($,s.value),series:o.map(($,V)=>({type:"Line",name:$,options:y(()=>({priceFormat:{type:"custom",formatter:R=>`${K(R,3,"dollar")}${H(R,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,color:s.value.colorsArray[V],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:R=>{const q=R();return q!==null&&(q.priceRange.minValue=Math.max(.98,q.priceRange.minValue),q.priceRange.maxValue=Math.min(1.02,q.priceRange.maxValue)),q}}))}))});te(k);function k(){var $,V;if(!(!b.value||Object.values(C).length<0)){for(const[,R]of o.entries()){if(!i[R].value){($=C[R])==null||$.setData([]);continue}const q=p.value.map(B=>({time:B.timestamp,value:B[R]})).uniqWith((B,Q)=>B.time===Q.time).orderBy(B=>B.time,"asc");q.length>0&&((V=C[R])==null||V.setData(q))}b.value.timeScale().fitContent()}}return($,V)=>{const R=Fe,q=U;return h(),T(q,{ref_key:"chartCard",ref:f,class:"chart-container",title:a(t)("title"),loading:a(r)},{actions:w(()=>{var B;return[d("div",Sf,[v(R,{items:a(l),disabled:a(u),onToggle:V[0]||(V[0]=Q=>a(i)[Q].value=!a(i)[Q].value)},null,8,["items","disabled"]),v(a(mt),{modelValue:a(_),"onUpdate:modelValue":V[1]||(V[1]=Q=>ne(_)?_.value=Q:null),chart:a(b),target:(B=a(f))==null?void 0:B.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:g,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Os(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Stablecoin Prices of Pegkeepers"}}}})}typeof Os=="function"&&Os(el);const Af=I(el,[["__scopeId","data-v-88e5eda7"]]),Tf={class:"crvusd"},Lf={class:"col"},If={class:"col"},Rf=L({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:s}=O(Be());pe(()=>{t.value=!0,s.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=Ue(),l=async i=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:i.address}})};return(i,u)=>(h(),S("div",Tf,[v(a(of),{style:{"grid-column":"1 / -1"},onSelected:l}),d("div",Lf,[v(a(Hh)),v(a(Af))]),d("div",If,[v(a(uf)),v(a(lf))])]))}}),Vf=I(Rf,[["__scopeId","data-v-c459ffd2"]]),Pf=["href"],Ff={key:1},tl=L({__name:"Addresses",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var i,u,r;return[{description:"controller",address:(i=e.market)==null?void 0:i.address},{description:"factory",address:(u=e.market)==null?void 0:u.factory},{description:"llamma",address:(r=e.market)==null?void 0:r.llamma}]}),o=i=>`https://etherscan.io/address/${i}`,l=async i=>{await navigator.clipboard.writeText(i)};return(i,u)=>{const r=we,n=ae,c=U;return h(),T(c,{class:"addresses",title:a(t)("addresses")},{default:w(()=>[v(n,{class:"addresses-table",rows:a(s)},{row:w(({item:{description:m,address:p}})=>[d("div",null,A(a(t)(m)),1),d("div",null,[p?(h(),S("a",{key:0,class:"font-mono",href:o(p),target:"_blank"},A(p),9,Pf)):(h(),S("span",Ff,"?"))]),d("div",null,[v(r,{icon:"fas fa-link",onClick:_=>l(p)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Es(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},factory:{t:0,b:{t:2,i:[{t:3}],s:"Factory"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}}}})}typeof Es=="function"&&Es(tl);const qf=I(tl,[["__scopeId","data-v-01fef899"]]),Df={key:0},Bf={class:"token-info"},xf=["href"],Mf={key:1},al=L({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=F();function s(r){return typeof r=="object"&&r.type==="token"}function o(r,n){return n?r==="collateral"?{type:"token",symbol:n.collateral_token.symbol,address:n.collateral_token.address}:{type:"token",symbol:n.stablecoin_token.symbol,address:n.stablecoin_token.address}:{type:"token",symbol:"?",address:"?"}}const l=y(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),i=r=>`https://etherscan.io/address/${r}`,u=async r=>{await navigator.clipboard.writeText(r)};return(r,n)=>{const c=Ve,m=we,p=ae,_=U;return h(),T(_,{class:"properties",title:a(t)("properties")},{default:w(()=>[v(p,{class:"properties-table",rows:a(l)},{row:w(({item:{description:f,value:b}})=>[d("div",null,A(a(t)(f)),1),s(b)?(h(),S("div",Df,[d("div",Bf,[v(c,{chain:r.chain,address:b.address},null,8,["chain","address"]),d("div",null,A(b.symbol),1),d("div",null,[d("a",{class:"font-mono",href:i(b.address),target:"_blank"},A(b.address),9,xf)]),d("div",null,[v(m,{icon:"fas fa-link",onClick:g=>u(b.address)},null,8,["onClick"])])])])):(h(),S("div",Mf,A(b),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Ws(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof Ws=="function"&&Ws(al);const Uf=I(al,[["__scopeId","data-v-a432918e"]]),Of={class:"market"},sl=L({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=F();return(s,o)=>{const l=j,i=be;return h(),S("div",Of,[v(i,{style:{"grid-area":"kpi1"},label:a(t)("borrow-rate"),"has-value":!!s.market},{default:w(()=>{var u;return[v(l,{value:100*(((u=s.market)==null?void 0:u.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(i,{style:{"grid-area":"kpi2"},label:a(t)("borrowed"),"has-value":!!s.market},{default:w(()=>{var u;return[v(l,{value:(u=s.market)==null?void 0:u.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(i,{style:{"grid-area":"kpi3"},label:a(t)("borrowable"),"has-value":!!s.market},{default:w(()=>{var u;return[v(l,{value:(u=s.market)==null?void 0:u.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(i,{style:{"grid-area":"kpi4"},label:a(t)("loans"),"has-value":!!s.market},{default:w(()=>{var u;return[E(A(((u=s.market)==null?void 0:u.loans)??0),1)]}),_:1},8,["label","has-value"]),v(a(gf),{style:{"grid-area":"rates"},market:s.market},null,8,["market"]),v(a(vf),{style:{"grid-area":"cap"},market:s.market},null,8,["market"]),v(a(_f),{style:{"grid-area":"loans"},market:s.market},null,8,["market"]),v(a($f),{style:{"grid-area":"volume"},market:s.market,chain:s.chain},null,8,["market","chain"]),v(a(Uf),{style:{"grid-area":"properties"},market:s.market,chain:s.chain},null,8,["market","chain"]),v(a(qf),{style:{"grid-area":"addresses"},market:s.market,chain:s.chain},null,8,["market","chain"])])}}});function Hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-rate":{t:0,b:{t:2,i:[{t:3}],s:"Borrow Rate"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},borrowable:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Hs=="function"&&Hs(sl);const Ef=I(sl,[["__scopeId","data-v-1d7d3e45"]]),Wf=e=>({timestamp:Te(e.timestamp),proportion:e.proportion/100}),Hf=e=>({timestamp:Te(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),Kf=e=>({timestamp:Te(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),Nf=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),zf=e=>({timestamp:Te(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),Qf=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),ot="https://prices.curve.fi";class jf extends Ae{async getSoftLiqRatios(t,s,o){return(await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/soft_liquidation_ratio`)).data.map(Wf)}async getLiqsDetailed(t,s,o){return(await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/history/detailed`)).data.map(Hf)}async getLiqsAggregate(t,s,o){return(await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/history/aggregated`)).data.map(Kf)}async getLiqOverview(t,s,o){const l=await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/overview?fetch_on_chain=true`);return Nf(l)}async getLiqLosses(t,s,o){return(await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/losses/history`)).data.map(zf)}async getLiqHealthDeciles(t,s,o){return(await this.fetch(`${ot}/v1/${t}/liquidations/${s}/${o}/health/distribution`)).data.map(Qf)}}const _t=new jf;function Vt(){return{initialData:[],initialDataUpdatedAt:0}}function ht(e,t){return{enabled:y(()=>!!e.value&&(t?!!t.value:!0))}}function ol(e,t,s){return z({queryKey:["liqs-soft-liqs",s],queryFn:({queryKey:[,o]})=>_t.getSoftLiqRatios(e.value,t.value,o),...ht(s,t),...Vt()})}function nl(e,t,s){return z({queryKey:["liqs-detailed",s],queryFn:({queryKey:[,o]})=>_t.getLiqsDetailed(e.value,t.value,o),...ht(s,t),...Vt()})}function ll(e,t,s){return z({queryKey:["liqs-aggregate",s],queryFn:({queryKey:[,o]})=>_t.getLiqsAggregate(e.value,t.value,o),...ht(s,t),...Vt()})}function rl(e,t,s){return z({queryKey:["liqs-overview",s],queryFn:({queryKey:[,o]})=>_t.getLiqOverview(e.value,t.value,o),...ht(s,t)})}function il(e,t,s){return z({queryKey:["liqs-losses",s],queryFn:({queryKey:[,o]})=>_t.getLiqLosses(e.value,t.value,o),...ht(s,t),...Vt()})}function cl(e,t,s){return z({queryKey:["liqs-health-deciles",s],queryFn:({queryKey:[,o]})=>_t.getLiqHealthDeciles(e.value,t.value,o),...ht(s,t),...Vt()})}const Gf={class:"actions"},Xf={class:"chart-types"},ul=L({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const{t}=F(),s=P("count"),o=l=>{s.value!==l&&(s.value=l)};return(l,i)=>{const u=Rt,r=U;return h(),T(r,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",Gf,[d("div",Xf,[v(u,{value:"Count","model-value":a(s)==="count",onClick:i[0]||(i[0]=n=>o("count"))},null,8,["model-value"]),v(u,{value:"Value","model-value":a(s)==="value",onClick:i[1]||(i[1]=n=>o("value"))},null,8,["model-value"])])])]),default:w(()=>[a(s)==="count"?(h(),T(a(Zf),{key:0,liqs:l.liqs},null,8,["liqs"])):(h(),T(a(eb),{key:1,liqs:l.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Self & Hard Liquidations"}}}})}typeof Ks=="function"&&Ks(ul);const dl=I(ul,[["__scopeId","data-v-ce3f9943"]]),Yf=L({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=O(W()),s=y(()=>le(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>e.liqs.orderBy(n=>n.timestamp,"asc").groupBy(n=>n.timestamp).entries().map(([n])=>new Date(parseInt(n,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((n,c)=>c%8===0?n:"")),l=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(n=>({x:new Date(n.timestamp*1e3).toLocaleDateString(),y:n.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(n=>({x:new Date(n.timestamp*1e3).toLocaleDateString(),y:n.hardCount}))}]),i=y(()=>Math.max(...e.liqs.groupBy(n=>n.timestamp).entries().map(([,n])=>n.reduce((c,m)=>c+m.selfCount+m.hardCount,0)))*1.1),u=n=>n,r=n=>`${K(n,1,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=jt;return h(),T(m,{class:"chart",options:a(s),series:a(l)},null,8,["options","series"])}}}),Zf=I(Yf,[["__scopeId","data-v-90b199b1"]]),Jf=L({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=O(W()),s=y(()=>le(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>e.liqs.orderBy(n=>n.timestamp,"asc").groupBy(n=>n.timestamp).entries().map(([n])=>new Date(parseInt(n,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((n,c)=>c%8===0?n:"")),l=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(n=>({x:new Date(n.timestamp*1e3).toLocaleDateString(),y:n.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(n=>({x:new Date(n.timestamp*1e3).toLocaleDateString(),y:n.hardValue}))}]),i=y(()=>Math.max(...e.liqs.groupBy(n=>n.timestamp).entries().map(([,n])=>n.reduce((c,m)=>c+m.selfValue+m.hardValue,0)))*1.1),u=n=>n,r=n=>`${K(n,1,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=jt;return h(),T(m,{class:"chart",options:a(s),series:a(l)},null,8,["options","series"])}}}),eb=I(Jf,[["__scopeId","data-v-11507ff4"]]),pl=L({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${K(r,0,"percentage")}${H(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(u);function u(){if(!o.value||!i.losses)return;const r=e.losses.map(n=>({time:n.timestamp,value:n.pctLossMedian})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.losses.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=U;return h(),T(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ns(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Median Loss % Among Loans with Losses"}}}})}typeof Ns=="function"&&Ns(pl);const ml=I(pl,[["__scopeId","data-v-bbf54c6b"]]),vl=L({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${K(r,0,"percentage")}${H(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(u);function u(){if(!o.value||!i.losses)return;const r=e.losses.map(n=>({time:n.timestamp,value:n.numTotalUsers>0?100*n.numUsersWithLosses/n.numTotalUsers:0})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.losses.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=U;return h(),T(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Proportion of Loans with Losses"}}}})}typeof zs=="function"&&zs(vl);const _l=I(vl,[["__scopeId","data-v-110fc000"]]),tb=L({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=O(W()),s=y(()=>le(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:u}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:r=>{const n=r.series[0][r.dataPointIndex],c=r.series[1][r.dataPointIndex],m=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${u(c)}</div>`,`<div><b>Debt</b>: ${u(n)}</div>`,`<div><b>Stablecoin</b>: ${u(m)}</div>`].join("")}}})),o=y(()=>e.deciles.map(r=>r.decile)),l=y(()=>[{name:"Debt",data:Object.values(e.deciles).map(r=>r.debt)},{name:"Collateral",data:Object.values(e.deciles).map(r=>r.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(r=>r.stablecoin)}]),i=r=>r,u=r=>`$${K(r,0,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"chart",title:"Debt & Assets per Health Deciles",options:a(s),series:a(l)},null,8,["options","series"])}}}),hl=I(tb,[["__scopeId","data-v-7e53d83b"]]),ab={class:"actions"},fl=L({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{items:o}=qe(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:s.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:s.value.colorsArray[1]}]),{chart:l,chartRef:i,series:u}=oe({recreateChartTrigger:s,createChartOptions:n=>se(n,s.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"price",options:y(()=>({priceFormat:{type:"custom",formatter:n=>`$${K(n,2,"dollar")}${H(n,"dollar")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"ratio",options:y(()=>({priceFormat:{type:"custom",formatter:n=>`${K(n,0,"percentage")}${H(n,"percentage")}`},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});te(r);function r(){if(!l.value||!u.price||!u.ratio)return;const n=e.ratios.map(p=>({time:p.timestamp,value:p.proportion})).uniqWith((p,_)=>p.time===_.time).orderBy(p=>p.time,"asc"),c=n.length>0?n[0].time:0,m=e.pricesOracle.filter(p=>p.timestamp>=c).map(p=>({time:p.timestamp,value:p.priceOracle})).uniqWith((p,_)=>p.time===_.time).orderBy(p=>p.time,"asc");m.length>0&&u.price.setData(m),n.length>0&&u.ratio.setData(n),l.value.timeScale().fitContent()}return(n,c)=>{const m=Fe,p=U;return h(),T(p,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",ab,[v(m,{items:a(o)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Soft Liquidations Ratio"}}}})}typeof Qs=="function"&&Qs(fl);const bl=I(fl,[["__scopeId","data-v-4cf85972"]]),sb={class:"actions"},gl=L({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{items:o}=qe(()=>[{id:"revenue",label:"Liquidator Revenue",color:s.value.colorsArray[0]},{id:"discount",label:"Discount",color:s.value.colorsArray[1]}]),{chart:l,chartRef:i,series:u}=oe({recreateChartTrigger:s,createChartOptions:n=>se(n,s.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"revenue",options:y(()=>({priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"discount",options:y(()=>({priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});te(r);function r(){if(!l.value||!u.discount||!u.revenue)return;const n=e.liqs.map(p=>({time:p.timestamp,value:p.debt})).uniqWith((p,_)=>p.time===_.time).orderBy(p=>p.time,"asc").reduce((p,_)=>{const f=p.length>0?p[p.length-1].value:0;return p.push({time:_.time,value:_.value+f}),p},[]),c=n.length>0?n[0].time:0,m=e.discounts.filter(p=>p.timestamp>=c).map(p=>({time:p.timestamp,value:p.discount*100})).uniqWith((p,_)=>p.time===_.time).orderBy(p=>p.time,"asc");n.length>0&&u.revenue.setData(n),m.length>0&&u.discount.setData(m),l.value.timeScale().fitContent()}return(n,c)=>{const m=Fe,p=U;return h(),T(p,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",sb,[v(m,{items:a(o)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidator Revenue"}}}})}typeof js=="function"&&js(gl);const yl=I(gl,[["__scopeId","data-v-01766dc3"]]),ob={key:0,class:"end"},nb={key:1,class:"end"},lb={key:2},wl=L({__name:"TableLiqOverview",props:{overview:{}},setup(e){const{t}=F(),s=y(()=>{if(!e.overview)return[];const l=e.overview.liqableDebtUsd,i=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,u=l-i;return u<=0?[]:[{description:"Bad debt",value:u,type:"bad-debt"}]}),o=y(()=>{var l,i,u,r,n,c,m;return[{description:"Users in soft liquidation",value:((l=e.overview)==null?void 0:l.softLiqUsers)??0,type:"number"},{description:"Median health",value:((i=e.overview)==null?void 0:i.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((u=e.overview)==null?void 0:u.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((r=e.overview)==null?void 0:r.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((n=e.overview)==null?void 0:n.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((c=e.overview)==null?void 0:c.liqableCollatUsd)??0,((m=e.overview)==null?void 0:m.liqableBorrowedUsd)??0],type:"collateral"},...s.value]});return(l,i)=>{const u=j,r=ae,n=U;return h(),T(n,{title:a(t)("title")},{default:w(()=>[v(r,{class:"liq-overview-table",rows:a(o)},{row:w(({item:{description:c,value:m,type:p}})=>[d("div",null,A(c),1),p==="collateral"?(h(),S("div",ob,[v(u,{value:m[0],"show-zero":!0,type:"dollar"},null,8,["value"]),E(" / "),v(u,{value:m[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(h(),S("div",nb,[p==="bad-debt"?(h(),T(u,{key:0,class:"red",value:m,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):p!=="number"?(h(),T(u,{key:1,value:m,"show-zero":!0,type:p},null,8,["value","type"])):(h(),S("span",lb,A(m),1))]))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Gs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"General Health Metrics"}}}})}typeof Gs=="function"&&Gs(wl);const Cl=I(wl,[["__scopeId","data-v-41e0fcc8"]]),rb={class:"address"},ib=["href"],cb={class:"end"},ub={class:"end"},kl=L({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const{t}=F(),s=y(()=>e.liqs.groupBy(o=>o.liquidator).entries().map(([o,l])=>({liquidator:o,count:l.length,value:l.reduce((i,u)=>i+u.collateralReceivedUsd,0)})).orderBy(o=>o.value,"desc").take(5));return(o,l)=>{const i=j,u=ae,r=U;return h(),T(r,{title:a(t)("title")},{default:w(()=>[v(u,{class:"liquidators-table",rows:a(s),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:w(n=>[d("div",rb,[d("a",{href:`https://etherscan.io/address/${n.item.liquidator}`,target:"_blank"},A(a(Se)(n.item.liquidator,8)),9,ib)]),d("div",cb,[v(i,{value:n.item.count,precision:0,"show-zero":!0},null,8,["value"])]),d("div",ub,[v(i,{value:n.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Liquidators"}}}})}typeof Xs=="function"&&Xs(kl);const $l=I(kl,[["__scopeId","data-v-f11fa85e"]]),Sl=L({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Area",name:"ratios",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${K(r,0,"percentage")}${H(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:ue.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(u);function u(){if(!o.value||!i.ratios)return;const r=e.ratios.map(n=>({time:n.timestamp,value:n.ratio*100})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.ratios.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=U;return h(),T(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ys(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral Ratio"}}}})}typeof Ys=="function"&&Ys(Sl);const Al=I(Sl,[["__scopeId","data-v-41936518"]]),db={class:"actions"},pb=["innerHTML"],Tl=L({__name:"ChartEquity",props:{equity:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{chart:o,chartRef:l,series:i}=oe({recreateChartTrigger:s,createChartOptions:r=>se(r,s.value),series:{type:"Baseline",name:"equity",options:y(()=>{const{colors:r}=s.value;return{priceFormat:{type:"custom",formatter:n=>`$${K(n,0,"dollar")}${H(n,"dollar")}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:r.green,bottomLineColor:r.red,lastValueVisible:!1,priceLineVisible:!1}})}});te(u);function u(){if(!o.value||!i.equity)return;const r=e.equity.map(n=>({time:n.timestamp,value:n.equity})).uniqWith((n,c)=>n.time===c.time).orderBy(n=>n.time,"asc");r.length>0&&i.equity.setData(r),o.value.timeScale().fitContent()}return(r,n)=>{const c=Kt,m=U;return h(),T(m,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",db,[v(c,null,{default:w(()=>[d("span",{innerHTML:a(t)("tooltip")},null,8,pb)]),_:1})])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Equity"}},tooltip:{t:0,b:{t:2,i:[{t:3}],s:"This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."}}}})}typeof Zs=="function"&&Zs(Tl);const mb=I(Tl,[["__scopeId","data-v-49883b1d"]]),vb=L({__name:"ChartLoanDistribution",props:{distribution:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=y(()=>le(s.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:l.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:n=>{const c=n.series[0][n.dataPointIndex],m=n.series[1][n.dataPointIndex],p=n.series[2][n.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${r(m)}</div>`,`<div><b>Debt</b>: ${r(c)}</div>`,`<div><b>Stablecoin</b>: ${r(p)}</div>`].join("")}}})),l=y(()=>e.distribution.debt.map(n=>n.label)),i=y(()=>[{name:"Debt",data:e.distribution.debt.map(n=>n.value)}]),u=n=>n,r=n=>`$${K(n,0,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=me;return h(),T(m,{class:"chart",title:a(t)("title"),options:a(o),series:a(i)},null,8,["title","options","series"])}}});function Js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loan Distribution"}}}})}typeof Js=="function"&&Js(vb);const _b={class:"liquidations"},hb=L({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var V;return(V=e.market)==null?void 0:V.address}),{isFetching:s,data:o}=rl(P("crvusd"),N(()=>e.chain),t),{isFetching:l,data:i}=Qt(N(()=>e.market)),u=y(()=>i.value.map(({timestamp:V,priceOracle:R})=>({timestamp:V,priceOracle:R}))),r=y(()=>i.value.map(({timestamp:V,discountLiquidation:R})=>({timestamp:V,discount:R}))),n=y(()=>i.value.map(({timestamp:V,totalCollateralUsd:R,totalDebt:q})=>({timestamp:V,ratio:R/q}))),{isFetching:c,data:m}=ol(P("crvusd"),N(()=>e.chain),t),{isFetching:p,data:_}=ll(P("crvusd"),N(()=>e.chain),t),{isFetching:f,data:b}=nl(P("crvusd"),N(()=>e.chain),t),{isFetching:g,data:C}=cl(P("crvusd"),N(()=>e.chain),t),{isFetching:k,data:$}=il(P("crvusd"),N(()=>e.chain),t);return(V,R)=>(h(),S("div",_b,[v(a(Cl),{overview:a(o),loading:a(s)},null,8,["overview","loading"]),v(a(bl),{ratios:a(m),"prices-oracle":a(u),loading:a(c)||a(l)},null,8,["ratios","prices-oracle","loading"]),v(a(ml),{losses:a($),loading:a(k)},null,8,["losses","loading"]),v(a(_l),{losses:a($),loading:a(k)},null,8,["losses","loading"]),v(a(hl),{deciles:a(C),loading:a(g)},null,8,["deciles","loading"]),v(a(Al),{ratios:a(n),loading:a(l)},null,8,["ratios","loading"]),v(a(dl),{liqs:a(_),loading:a(p)},null,8,["liqs","loading"]),v(a($l),{liqs:a(b),loading:a(f)},null,8,["liqs","loading"]),v(a(yl),{discounts:a(r),liqs:a(b),loading:a(l)||a(f)},null,8,["discounts","liqs","loading"])]))}}),fb=I(hb,[["__scopeId","data-v-08e46367"]]),bb={class:"controls"},Ll=L({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{t}=F(),{theme:s}=O(W()),o=P(!1),l=P(!1);let i=1,u=0;const{chart:r,chartRef:n,series:c}=oe({recreateChartTrigger:s,createChartOptions:_=>se(_,s.value,{localization:{priceFormatter:f=>p(f)}}),series:[{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:_}=s.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:_.green,borderUpColor:_.green,wickUpColor:_.green,downColor:_.red,borderDownColor:_.red,wickDownColor:_.red}})},{type:"Line",name:"oracle",options:y(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ue.WithSteps,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}]});te(m);function m(){if(!r.value||!c.ohlc||!c.oracle)return;const _=o.value?-1:1,f=e.ohlc.map(g=>({time:g.time,open:Math.pow(g.open,_),high:Math.pow(g.high,_),low:Math.pow(g.low,_),close:Math.pow(g.close,_)})).uniqWith((g,C)=>g.time===C.time).orderBy(g=>g.time,"asc");f.length>0&&(c.ohlc.setData(f),u=Math.min(...f.map(g=>g.low)),i=Math.max(...f.map(g=>g.high)));const b=e.ohlc.map(g=>({time:g.time,value:Math.pow(g.oracle_price,_)})).uniqWith((g,C)=>g.time===C.time).orderBy(g=>g.time,"asc");b.length>0&&c.oracle.setData(b),c.oracle.applyOptions({visible:l.value}),r.value.timeScale().fitContent()}const p=_=>{const f=i-u,b=f>1?f-Math.floor(f):f,g=-Math.floor(Math.log10(b)+1)+2;return`${K(_,g,"dollar")}${H(_,"dollar")}`};return(_,f)=>{const b=Rt,g=U;return h(),T(g,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[d("div",bb,[v(b,{value:"Oracle Price","model-value":a(l),onClick:f[0]||(f[0]=C=>l.value=!a(l))},null,8,["model-value"]),v(b,{value:"Invert","model-value":a(o),onClick:f[1]||(f[1]=C=>o.value=!a(o))},null,8,["model-value"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof eo=="function"&&eo(Ll);const Il=I(Ll,[["__scopeId","data-v-792de308"]]),gb=e=>(Y("data-v-c0e963bf"),e=e(),Z(),e),yb={class:"end"},wb=gb(()=>d("div",null,null,-1)),Cb=["href"],kb={class:"end"},$b=["href"],Rl=L({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const{t:s}=F(),o=t,{page:l,onPage:i}=Fa(),u=Ot(l,200);G(u,p=>{o("page",p)});const{relativeTime:r}=Ze(),n=p=>p<1?p.toFixed(4):p>1e3?p.toFixed(0):p.toFixed(2),c=p=>{var _,f;return n(((_=p.deposit)==null?void 0:_.amount)??((f=p.withdrawal)==null?void 0:f.amount_collateral)??0)},m=p=>p.deposit?s("deposit"):p.withdrawal?s("withdrawal"):s("unknown");return(p,_)=>{const f=Oe,b=ae,g=U;return h(),T(g,{title:a(s)("title")},{actions:w(()=>[v(f,{"items-count":p.count,"items-per-page":10,page:a(l),onPage:a(i)},null,8,["items-count","page","onPage"])]),default:w(()=>[v(b,{class:"events-table",rows:p.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:w(({item:C})=>[d("div",null,A(m(C)),1),d("div",yb,A(c(C)),1),wb,d("div",null,[d("a",{href:`https://etherscan.io/address/${C.provider}`,target:"_blank",onClick:_[0]||(_[0]=Ie(()=>{},["stop"]))},A(a(Se)(C.provider)),9,Cb)]),d("div",kb,[d("a",{href:`https://etherscan.io/tx/${C.transaction_hash}`,target:"_blank",onClick:_[1]||(_[1]=Ie(()=>{},["stop"]))},A(a(r)(C.timestamp)),9,$b)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function to(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Events"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawal"}},unknown:{t:0,b:{t:2,i:[{t:3}],s:"Unknown"}}}})}typeof to=="function"&&to(Rl);const Vl=I(Rl,[["__scopeId","data-v-c0e963bf"]]),Sb={class:"end"},Ab=["href"],Tb={class:"end"},Lb=["href"],Ib=["href"],Rb={class:"end"},Vb=["href"],Pl=L({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const{t:s}=F(),o=t,{page:l,onPage:i}=Fa(),u=Ot(l,200);G(u,c=>{o("page",c)});const{relativeTime:r}=Ze(),n=c=>c<1?c.toFixed(4):c>1e3?c.toFixed(0):c.toFixed(2);return(c,m)=>{const p=Oe,_=Ve,f=ae,b=U;return h(),T(b,{title:a(s)("title")},{actions:w(()=>[v(p,{"items-count":c.count,"items-per-page":10,page:a(l),onPage:a(i)},null,8,["items-count","page","onPage"])]),default:w(()=>[v(f,{class:"trades-table",rows:c.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:w(({item:g})=>[d("div",Sb,A(n(g.amount_bought)),1),v(_,{chain:c.chain,address:g.token_bought.address},null,8,["chain","address"]),d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${g.token_bought.address}`},A(g.token_bought.symbol),9,Ab)]),d("div",Tb,A(n(g.amount_sold)),1),v(_,{chain:c.chain,address:g.token_sold.address},null,8,["chain","address"]),d("div",null,[d("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${g.token_sold.address}`},A(g.token_sold.symbol),9,Lb)]),d("div",null,[d("a",{href:`https://etherscan.io/address/${g.buyer}`,target:"_blank",onClick:m[0]||(m[0]=Ie(()=>{},["stop"]))},A(a(Se)(g.buyer)),9,Ib)]),d("div",Rb,[d("a",{href:`https://etherscan.io/tx/${g.transaction_hash}`,target:"_blank",onClick:m[1]||(m[1]=Ie(()=>{},["stop"]))},A(a(r)(g.timestamp)),9,Vb)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Trades"}}}})}typeof ao=="function"&&ao(Pl);const Fl=I(Pl,[["__scopeId","data-v-e7f9a069"]]),Pb={class:"trading"},ql=L({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var m;return(m=e.market)==null?void 0:m.llamma}),{isFetching:s,data:o}=Oa(P("crvusd"),t,N(()=>e.chain)),l=P(1),{isFetching:i,data:u}=Zn(P("crvusd"),t,N(()=>e.chain),l),r=P(1),{isFetching:n,data:c}=Yn(P("crvusd"),t,N(()=>e.chain),r);return(m,p)=>{var _,f,b,g;return h(),S("div",Pb,[v(a(Il),{style:{"grid-area":"ohlc"},ohlc:a(o)??[],loading:a(s)},null,8,["ohlc","loading"]),v(a(Fl),{style:{"grid-area":"trades"},trades:((_=a(u))==null?void 0:_.trades)??[],count:((f=a(u))==null?void 0:f.count)??0,chain:m.chain,loading:a(i),onPage:p[0]||(p[0]=C=>l.value=C)},null,8,["trades","count","chain","loading"]),v(a(Vl),{style:{"grid-area":"events"},events:((b=a(c))==null?void 0:b.events)??[],count:((g=a(c))==null?void 0:g.count)??0,loading:a(n),onPage:p[1]||(p[1]=C=>r.value=C)},null,8,["events","count","loading"])])}}});function so(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof so=="function"&&so(ql);const Fb=I(ql,[["__scopeId","data-v-688876b0"]]),qb={class:"market-overview"},Db=L({__name:"Market.page",setup(e){const{show:t,crumbs:s}=O(Be()),o=ye("marketAddr"),{isFetching:l,data:i}=Va(),u=y(()=>i.value.find(c=>c.address===o.value));G(u,c=>{s.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:n}=vt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(c,m)=>{const p=Xe,_=We,f=Ee;return h(),S("div",qb,[v(p,{class:M(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(u)?(h(),T(f,{key:0,active:a(n),onTab:m[0]||(m[0]=b=>n.value=b.index)},{default:w(()=>[v(_,{header:"Overview"},{default:w(()=>[(h(),T(fe,null,[a(r)==="overview"?(h(),T(Ef,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),v(_,{header:"Trading"},{default:w(()=>[(h(),T(fe,null,[a(r)==="trading"?(h(),T(Fb,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),v(_,{header:"Liquidations"},{default:w(()=>[(h(),T(fe,null,[a(r)==="liquidations"?(h(),T(fb,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),Bb=I(Db,[["__scopeId","data-v-9ba821e5"]]);function ct(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const xb=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),Mb=e=>{const t=parseFloat(e.rate),s=parseFloat(e.borrow_apy)/100,o=parseFloat(e.lend_apy)/100,l=e.n_loans,i=parseFloat(e.price_oracle),u=parseFloat(e.amm_price),r=parseFloat(e.total_debt),n=parseFloat(e.total_debt_usd),c=parseFloat(e.total_assets),m=parseFloat(e.total_assets_usd),p=parseFloat(e.minted),_=parseFloat(e.redeemed),f=parseFloat(e.collateral_balance),b=parseFloat(e.collateral_balance_usd),g=parseFloat(e.borrowed_balance),C=parseFloat(e.borrowed_balance_usd),k=Te(e.timestamp),$=e.liquidation_discount,V=e.loan_discount;return{rate:t,borrowApy:s,lendApy:o,numLoans:l,priceOracle:i,ammPrice:u,totalDebt:r,totalDebtUsd:n,totalAssets:c,totalAssetsUsd:m,minted:p,redeemed:_,collateralBalance:f,collateralBalanceUsd:b,borrowedBalance:g,borrowedBalanceUsd:C,timestamp:k,discountLiquidation:$,discountLoan:V}},ra="https://prices.curve.fi";class Ub extends Ae{async getChains(){return this.fetch(`${ra}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${ra}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(xb)}async getSnapshots(t,s){return(await this.fetch(`${ra}/v1/lending/markets/${t}/${s}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Mb)}}const Ea=new Ub;function Ob(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function Eb(){return{initialData:[],initialDataUpdatedAt:0}}function Wb(){return z({queryKey:["llama-markets-chains"],queryFn:()=>Ea.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Dl(e){return z({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>Ea.getMarkets(t)})}function ft(e,t){return z({queryKey:["llama-market-snapshots",Ob(e)],queryFn:({queryKey:[,s]})=>Ea.getSnapshots(t.value,s),...Eb(),enabled:y(()=>!!e.value&&!!t.value)})}const Pt=e=>(Y("data-v-b2715247"),e=e(),Z(),e),Hb={class:"end"},Kb={class:"end"},Nb={class:"end"},zb={class:"end"},Qb=Pt(()=>d("div",null,null,-1)),jb=Pt(()=>d("div",null,null,-1)),Gb=Pt(()=>d("div",null,null,-1)),Xb=Pt(()=>d("div",null,null,-1)),Yb=Pt(()=>d("div",null,null,-1)),Zb={class:"end"},Jb={class:"end"},Bl=L({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=y(()=>s(e.type==="long"?"title-long":"title-short")),i=y(()=>e.pairs.map(n=>({count:(n.long?1:0)+(n.short?1:0),...n})).orderBy([n=>n.count,({long:n,short:c})=>ct(n)+ct(c)],["desc","desc"]).map(({long:n,short:c})=>e.type==="long"?n:c));function u(n){return n.name.replace(/(-long|-short)/i,"")}const r=n=>e.type==="long"?n.collateral_token.address:n.borrowed_token.address;return(n,c)=>{const m=Ve,p=j,_=ae,f=U;return h(),T(f,{title:a(l),loading:n.loading},{default:w(()=>[v(_,{class:"markets-table","expand-side":"left",rows:a(i),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:c[0]||(c[0]=b=>o("selected",b))},{row:w(({item:b})=>[b?(h(),S(ee,{key:0},[v(m,{chain:n.chain,address:r(b)},null,8,["chain","address"]),d("div",null,A(u(b)),1),d("div",Hb,[b.borrow_apy?(h(),T(p,{key:0,value:b.borrow_apy,type:"percentage"},null,8,["value"])):D("",!0)]),d("div",Kb,[b.lend_apy?(h(),T(p,{key:0,value:b.lend_apy,type:"percentage"},null,8,["value"])):D("",!0)]),d("div",Nb,[a(ct)(b)?(h(),T(p,{key:0,value:a(ct)(b),type:"dollar"},null,8,["value"])):D("",!0)]),d("div",zb,A(b.n_loans),1)],64)):D("",!0)]),"row-aggregation":w(()=>[Qb,jb,Gb,Xb,Yb,d("div",Zb,[v(p,{value:a(i).filter(b=>b).map(b=>b).reduce((b,g)=>b+a(ct)(g),0),type:"dollar"},null,8,["value"])]),d("div",Jb,A(a(i).filter(b=>b).map(b=>b).reduce((b,g)=>b+g.n_loans,0)),1)]),"row-details":w(()=>[E("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"title-long":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Long"}},"title-short":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Short"}}}})}typeof oo=="function"&&oo(Bl);const no=I(Bl,[["__scopeId","data-v-b2715247"]]),eg={class:"llamalend"},tg={class:"toolbar"},ag={class:"markets"},sg={class:"kpis"},og={class:"markets"},ng={class:"kpis"},xl=L({__name:"LlamaLend.page",setup(e){const{t}=F(),s=ye("chain"),o=y({get(){return s.value?s.value:"ethereum"},set(C){s.value=C}}),l=P(""),i=y(()=>u.value.filter(({long:C,short:k})=>{const $=l.value.toLocaleLowerCase().split(" ");return(R=>$.some(q=>R.toLocaleLowerCase().includes(q)))(`${(C==null?void 0:C.name)??""}${(k==null?void 0:k.name)??""}`)})),u=y(()=>{const C=["crvusd"],k=(n.value??[]).map(R=>({market:R,isLong:C.includes(R.borrowed_token.symbol.toLocaleLowerCase()),isShort:C.includes(R.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:R,isShort:q})=>R||q),$=[],V=new Set;for(const{market:R,isLong:q,isShort:B}of k){if(V.has(R.controller))continue;V.add(R.controller);const Q=k.find(de=>de.market.borrowed_token.address===R.collateral_token.address&&de.market.collateral_token.address===R.borrowed_token.address);Q&&V.add(Q.market.controller),$.push({long:q?R:Q==null?void 0:Q.market,short:B?R:Q==null?void 0:Q.market})}return $}),{isFetching:r,data:n}=Dl(o),{data:c}=Wb(),{show:m,crumbs:p}=O(Be());pe(()=>{m.value=!0,p.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:"Select market for details",hint:!0}]});const _=Ue(),f=async C=>{C&&await _.push({name:"llamalendmarket",params:{tab:"",chain:o.value,marketAddr:C.controller}})},b=C=>i.value.map(k=>C==="long"?k.long:k.short).filter(k=>!!k).reduce((k,$)=>k+$.total_debt_usd,0),g=C=>{const k=i.value.map($=>C==="long"?$.long:$.short).filter($=>!!$).reduce(({debt:$,assets:V},R)=>({debt:$+R.total_debt_usd,assets:V+R.total_assets_usd}),{debt:0,assets:0});return k.assets===0?0:k.debt/k.assets*100};return(C,k)=>{const $=Re,V=j,R=be;return h(),S("div",eg,[(h(),T(Wt,{to:"#toolbar"},[d("div",tg,[v($,{modelValue:a(l),"onUpdate:modelValue":k[0]||(k[0]=q=>ne(l)?l.value=q:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v(Lt,{class:"chain-select",chain:a(o),chains:a(c),onSelectChain:k[1]||(k[1]=q=>o.value=q==="all"?"ethereum":q)},null,8,["chain","chains"])])])),d("div",ag,[d("div",sg,[v(R,{label:a(t)("open-interest"),"has-value":!a(r)},{default:w(()=>[v(V,{value:b("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(R,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(r),tooltip:a(t)("avg-util-rate-tooltip")},{default:w(()=>[v(V,{value:g("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),v(a(no),{style:{"grid-column":"1"},type:"long",pairs:a(i),loading:a(r),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])]),d("div",og,[d("div",ng,[v(R,{label:a(t)("open-interest"),"has-value":!a(r)},{default:w(()=>[v(V,{value:b("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(R,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(r),tooltip:a(t)("avg-util-rate-tooltip")},{default:w(()=>[v(V,{value:g("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),v(a(no),{style:{"grid-column":"2"},type:"short",pairs:a(i),loading:a(r),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])])])}}});function lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"open-interest":{t:0,b:{t:2,i:[{t:3}],s:"Open Interest"}},"avg-util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Average Utilization Rate"}},"avg-util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Aggregate debt divided by aggregate assets"}}}})}typeof lo=="function"&&lo(xl);const lg=I(xl,[["__scopeId","data-v-0b50cb9a"]]),rg={class:"actions"},Ml=L({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{t}=F(),{theme:s,themeId:o}=O(W()),{items:l,toggles:i,disabled:u}=qe(()=>{const{blue:g,yellow:C,purple:k}=s.value.colors;return[{id:"supply",label:t("supply"),color:g},{id:"debt",label:t("debt"),color:C},{id:"util",label:t("util"),color:k,togglable:!0}]}),{isFetching:r,data:n}=ft(N(()=>e.market),N(()=>e.chain)),c=P(!1),m=P(void 0),{chart:p,chartRef:_,series:f}=oe({recreateChartTrigger:y(()=>`${o.value}-${i.util.value}`),createChartOptions:g=>se(g,s.value,{leftPriceScale:{visible:i.util.value}}),series:[{type:"Line",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:g=>`$${K(g,0,"dollar")}${H(g,"dollar")}`,minMove:.01},lineWidth:2,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:g=>`$${K(g,0,"dollar")}${H(g,"dollar")}`,minMove:.01},lineWidth:2,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:y(()=>({priceFormat:{type:"custom",formatter:g=>`${Math.round(g*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:s.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});te(b);function b(){var $,V,R,q;if(!p.value||!f.supply||!f.debt||!f.util)return;const g=n.value.map(B=>({time:B.timestamp,value:B.totalAssetsUsd})).uniqWith((B,Q)=>B.time===Q.time).orderBy(B=>B.time,"asc"),C=n.value.map(B=>({time:B.timestamp,value:B.totalDebtUsd})).uniqWith((B,Q)=>B.time===Q.time).orderBy(B=>B.time,"asc"),k=(i.util.value?g:[]).zip(C).map(([B,Q])=>({time:Q.time,value:B.value>0?Q.value/B.value:0})).uniqWith((B,Q)=>B.time===Q.time).orderBy(B=>B.time,"asc");if(f.supply.setData(g),f.debt.setData(C),f.util.setData(k),f.util.applyOptions({visible:i.util.value}),g.length>0||C.length>0){const B=Math.min((($=g.at(0))==null?void 0:$.time)??1/0,((V=C.at(0))==null?void 0:V.time)??1/0),Q=Math.max(((R=g.at(-1))==null?void 0:R.time)??-1/0,((q=C.at(-1))==null?void 0:q.time)??-1/0);p.value.timeScale().setVisibleRange({from:B,to:Q})}}return(g,C)=>{const k=Fe,$=U;return h(),T($,{ref_key:"chartCard",ref:m,class:"chart-card",title:a(t)("title"),loading:a(r)},{actions:w(()=>{var V;return[d("div",rg,[v(k,{items:a(l),disabled:a(u),onToggle:C[0]||(C[0]=R=>a(i)[R].value=!a(i)[R].value)},null,8,["items","disabled"]),v(a(mt),{modelValue:a(c),"onUpdate:modelValue":C[1]||(C[1]=R=>ne(c)?c.value=R:null),chart:a(p),target:(V=a(m))==null?void 0:V.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[d("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply & Debt"}},supply:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}},util:{t:0,b:{t:2,i:[{t:3}],s:"Util (%)"}}}})}typeof ro=="function"&&ro(Ml);const ig=I(Ml,[["__scopeId","data-v-61e43ed0"]]),cg={class:"actions"},Ul=L({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=ft(N(()=>e.market),N(()=>e.chain)),{theme:l}=O(W()),i=y(()=>e.market?e.market.collateral_token.symbol:"?"),u=y(()=>e.market?e.market.borrowed_token.symbol:"?"),{items:r}=qe(()=>[{id:i.value,label:i.value,color:l.value.colors.blue},{id:u.value,label:u.value,color:l.value.colors.yellow}]),n=P(!0),{chart:c,chartRef:m,series:p}=oe({recreateChartTrigger:l,createChartOptions:b=>se(b,l.value),series:[{type:"Line",name:"collateral",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(_);function _(){var k,$,V,R;if(!c.value||!p.collateral||!p.borrowed)return;const b=n.value,g=o.value.map(q=>({time:q.timestamp,value:b?q.collateralBalanceUsd:q.collateralBalance})).uniqWith((q,B)=>q.time===B.time).orderBy(q=>q.time,"asc"),C=o.value.map(q=>({time:q.timestamp,value:b?q.borrowedBalanceUsd:q.borrowedBalance})).uniqWith((q,B)=>q.time===B.time).orderBy(q=>q.time,"asc");if(g.length>0&&p.collateral.setData(g),C.length>0&&p.borrowed.setData(C),g.length>0||C.length>0){const q=Math.min(((k=g.at(0))==null?void 0:k.time)??1/0,(($=C.at(0))==null?void 0:$.time)??1/0),B=Math.max(((V=g.at(-1))==null?void 0:V.time)??-1/0,((R=C.at(-1))==null?void 0:R.time)??-1/0);c.value.timeScale().setVisibleRange({from:q,to:B})}}function f(b){return`${n.value?"$":""}${K(b,0,"dollar")}${H(b,"dollar")}`}return(b,g)=>{const C=Fe,k=Rt,$=U;return h(),T($,{class:"chart-container",title:a(t)("title"),loading:a(s)},{actions:w(()=>[d("div",cg,[v(C,{items:a(r)},null,8,["items"]),v(k,{value:"Dollars","model-value":a(n),onClick:g[0]||(g[0]=V=>n.value=!a(n))},null,8,["model-value"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}}}})}typeof io=="function"&&io(Ul);const ug=I(Ul,[["__scopeId","data-v-196c5081"]]),Ol=L({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=ft(N(()=>e.market),N(()=>e.chain)),{theme:l}=O(W()),{chart:i,chartRef:u,series:r}=oe({recreateChartTrigger:l,createChartOptions:c=>se(c,l.value,{localization:{priceFormatter:m=>Math.round(m).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:l.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});te(n);function n(){if(!i.value||!r.loans)return;const c=o.value.map(m=>({time:m.timestamp,value:m.numLoans})).uniqWith((m,p)=>m.time===p.time).orderBy(m=>m.time,"asc");if(c.length>0){r.loans.setData(c);const m=c[0].time,p=c[c.length-1].time;i.value.timeScale().setVisibleRange({from:m,to:p})}}return(c,m)=>{const p=U;return h(),T(p,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[d("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof co=="function"&&co(Ol);const dg=I(Ol,[["__scopeId","data-v-c146fa0b"]]),pg={class:"actions"},El=L({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{t}=F(),{theme:s}=O(W()),{items:o}=qe(()=>[{id:"borrow",label:t("borrow-apy"),color:s.value.colors.red},{id:"lend",label:t("lend-apy"),color:s.value.colors.green}]),{isFetching:l,data:i}=ft(N(()=>e.market),N(()=>e.chain)),{chart:u,chartRef:r,series:n}=oe({recreateChartTrigger:s,createChartOptions:p=>se(p,s.value,{localization:{priceFormatter:_=>m(_)}}),series:[{type:"Line",name:"borrowApy",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:s.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:s.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});te(c);function c(){var f,b,g,C;if(!u.value||!n.borrowApy||!n.lendApy)return;const p=i.value.map(k=>({time:k.timestamp,value:k.borrowApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc"),_=i.value.map(k=>({time:k.timestamp,value:k.lendApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc");if(p.length>0&&n.borrowApy.setData(p),_.length>0&&n.lendApy.setData(_),p.length>0||_.length>0){const k=Math.min(((f=p.at(0))==null?void 0:f.time)??1/0,((b=_.at(0))==null?void 0:b.time)??1/0),$=Math.max(((g=p.at(-1))==null?void 0:g.time)??-1/0,((C=_.at(-1))==null?void 0:C.time)??-1/0);u.value.timeScale().setVisibleRange({from:k,to:$})}}function m(p){return`${K(p*100,0,"percentage")}${H(p,"percentage")}`}return(p,_)=>{const f=Fe,b=U;return h(),T(b,{class:"chart-container",title:a(t)("title"),loading:a(l)},{actions:w(()=>[d("div",pg,[v(f,{items:a(o)},null,8,["items"])])]),default:w(()=>[d("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}},"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}}}})}typeof uo=="function"&&uo(El);const mg=I(El,[["__scopeId","data-v-742139e0"]]),vg=["href"],_g={key:1},Wl=L({__name:"Addresses",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var i,u,r,n,c;return[{description:"controller",address:(i=e.market)==null?void 0:i.controller},{description:"vault",address:(u=e.market)==null?void 0:u.vault},{description:"llamma",address:(r=e.market)==null?void 0:r.llamma},{description:"policy",address:(n=e.market)==null?void 0:n.policy},{description:"oracle",address:(c=e.market)==null?void 0:c.oracle}]}),o=i=>`https://etherscan.io/address/${i}`,l=async i=>{await navigator.clipboard.writeText(i)};return(i,u)=>{const r=we,n=ae,c=U;return h(),T(c,{title:a(t)("addresses"),class:"addresses"},{default:w(()=>[v(n,{class:"addresses-table",rows:a(s)},{row:w(({item:{description:m,address:p}})=>[d("div",null,A(a(t)(m)),1),d("div",null,[p?(h(),S("a",{key:0,class:"font-mono",href:o(p),target:"_blank"},A(p),9,vg)):(h(),S("span",_g,"?"))]),d("div",null,[v(r,{icon:"fas fa-link",onClick:_=>l(p)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},vault:{t:0,b:{t:2,i:[{t:3}],s:"Vault"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}},policy:{t:0,b:{t:2,i:[{t:3}],s:"Policy"}},oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle"}}}})}typeof po=="function"&&po(Wl);const hg=I(Wl,[["__scopeId","data-v-2fa472e7"]]),fg={class:"usage"},bg={class:"two-sides"},gg={class:"collateral"},yg={class:"two-sides"},wg={class:"two-sides"},Hl=L({__name:"KPIUsage",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var i,u;return(((i=e.market)==null?void 0:i.collateral_balance_usd)??0)+(((u=e.market)==null?void 0:u.borrowed_balance_usd)??0)}),o=y(()=>{var n,c;const i=t("collateral"),u=((n=e.market)==null?void 0:n.collateral_token.symbol)??"?",r=((c=e.market)==null?void 0:c.borrowed_token.symbol)??"?";return`${i} (${u} / ${r})`}),l=y(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(i,u)=>{var c,m;const r=j,n=be;return h(),S("div",fg,[v(n,{style:{"grid-area":"kpi1"},label:a(o),"has-value":!!i.market},{default:w(()=>{var p,_;return[d("div",bg,[d("div",gg,[v(r,{value:(p=i.market)==null?void 0:p.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),E(" / "),v(r,{value:(_=i.market)==null?void 0:_.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),v(r,{value:a(s),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(n,{style:{"grid-area":"kpi2"},label:a(t)("borrowed")+` (${((c=i.market)==null?void 0:c.borrowed_token.symbol)??"?"})`,"has-value":!!i.market},{default:w(()=>{var p,_;return[d("div",yg,[v(r,{value:(p=i.market)==null?void 0:p.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),v(r,{value:(_=i.market)==null?void 0:_.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(n,{style:{"grid-area":"kpi3"},label:a(t)("supplied")+` (${((m=i.market)==null?void 0:m.borrowed_token.symbol)??"?"})`,"has-value":!!i.market},{default:w(()=>{var p,_;return[d("div",wg,[v(r,{value:(p=i.market)==null?void 0:p.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),v(r,{value:(_=i.market)==null?void 0:_.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(n,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:a(t)("util-rate"),"has-value":!!i.market,tooltip:a(t)("util-rate-tooltip")},{default:w(()=>[v(r,{value:a(l)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},supplied:{t:0,b:{t:2,i:[{t:3}],s:"Supplied"}},"util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Utilization Rate"}},"util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Utilization rate is total supplied divided by total borrowed"}}}})}typeof mo=="function"&&mo(Hl);const Cg=I(Hl,[["__scopeId","data-v-df9b75b3"]]),kg={key:0},$g={class:"token-info"},Sg=["href"],Ag={key:1},Kl=L({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=F();function s(r){return typeof r=="object"&&r.type==="token"}function o(r,n){return n?r==="collateral"?{type:"token",symbol:n.collateral_token.symbol,address:n.collateral_token.address}:{type:"token",symbol:n.borrowed_token.symbol,address:n.borrowed_token.address}:{type:"token",symbol:"?",address:"?"}}const l=y(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),i=r=>`https://etherscan.io/address/${r}`,u=async r=>{await navigator.clipboard.writeText(r)};return(r,n)=>{const c=Ve,m=we,p=ae,_=U;return h(),T(_,{class:"properties",title:a(t)("properties")},{default:w(()=>[v(p,{class:"properties-table",rows:a(l)},{row:w(({item:{description:f,value:b}})=>[d("div",null,A(a(t)(f)),1),s(b)?(h(),S("div",kg,[d("div",$g,[v(c,{chain:r.chain,address:b.address},null,8,["chain","address"]),d("div",null,A(b.symbol),1),d("div",null,[d("a",{class:"font-mono",href:i(b.address),target:"_blank"},A(b.address),9,Sg)]),d("div",null,[v(m,{icon:"fas fa-link",onClick:g=>u(b.address)},null,8,["onClick"])])])])):(h(),S("div",Ag,A(b),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof vo=="function"&&vo(Kl);const Tg=I(Kl,[["__scopeId","data-v-d9ea8f25"]]),Lg={class:"market"},Nl=L({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=ft(N(()=>e.market),N(()=>e.chain)),l=y(()=>o.value.map(({timestamp:u,collateralBalanceUsd:r,borrowedBalanceUsd:n,totalDebtUsd:c})=>({timestamp:u,ratio:c>0?(r+n)/c:0}))),i=y(()=>o.value.map(({timestamp:u,collateralBalanceUsd:r,borrowedBalanceUsd:n,totalDebtUsd:c})=>({timestamp:u,equity:r+n-c})));return(u,r)=>{const n=j,c=be;return h(),S("div",Lg,[v(c,{style:{"grid-area":"kpi1"},label:a(t)("borrow-apy"),"has-value":!!u.market},{default:w(()=>{var m;return[v(n,{value:(m=u.market)==null?void 0:m.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(c,{style:{"grid-area":"kpi2"},label:a(t)("lend-apy"),"has-value":!!u.market},{default:w(()=>{var m;return[v(n,{value:(m=u.market)==null?void 0:m.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(c,{style:{"grid-area":"kpi3"},label:a(t)("loans"),"has-value":!!u.market},{default:w(()=>{var m;return[E(A(((m=u.market)==null?void 0:m.n_loans)??0),1)]}),_:1},8,["label","has-value"]),v(c,{style:{"grid-area":"kpi4"},label:a(t)("tvl"),"has-value":!!u.market},{default:w(()=>[v(n,{value:a(ct)(u.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(a(ig),{style:{"grid-area":"supply"},market:u.market,chain:u.chain},null,8,["market","chain"]),v(a(ug),{style:{"grid-area":"collateral"},market:u.market,chain:u.chain},null,8,["market","chain"]),v(a(Al),{style:{"grid-area":"colratio"},ratios:a(l),loading:a(s)},null,8,["ratios","loading"]),v(a(mb),{style:{"grid-area":"equity"},equity:a(i),loading:a(s)},null,8,["equity","loading"]),v(a(mg),{style:{"grid-area":"rates"},market:u.market,chain:u.chain},null,8,["market","chain"]),v(a(dg),{style:{"grid-area":"loans"},market:u.market,chain:u.chain},null,8,["market","chain"]),v(a(hg),{style:{"grid-area":"addresses"},market:u.market},null,8,["market"]),v(a(Tg),{style:{"grid-area":"properties"},market:u.market,chain:u.chain},null,8,["market","chain"]),v(a(Cg),{style:{"grid-area":"usage"},market:u.market},null,8,["market"])])}}});function _o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof _o=="function"&&_o(Nl);const Ig=I(Nl,[["__scopeId","data-v-5ba18ee1"]]),Rg={class:"trading"},zl=L({__name:"Trading",props:{market:{},chain:{}},setup(e){const{t}=F(),s=y(()=>{var p;return(p=e.market)==null?void 0:p.llamma}),{isFetching:o,data:l}=Oa(P("lending"),s,N(()=>e.chain)),i=P(1),{isFetching:u,data:r}=Zn(P("lending"),s,N(()=>e.chain),i),n=P(1),{isFetching:c,data:m}=Yn(P("lending"),s,N(()=>e.chain),n);return(p,_)=>{var g,C,k,$;const f=j,b=be;return h(),S("div",Rg,[v(b,{style:{"grid-area":"oracle"},label:a(t)("oracle"),"has-value":!!p.market},{default:w(()=>{var V;return[v(f,{value:(V=p.market)==null?void 0:V.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(b,{style:{"grid-area":"amm"},label:a(t)("amm"),"has-value":!!p.market},{default:w(()=>{var V;return[v(f,{value:(V=p.market)==null?void 0:V.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(Il),{style:{"grid-area":"ohlc"},ohlc:a(l)??[],loading:a(o)},null,8,["ohlc","loading"]),v(a(Fl),{style:{"grid-area":"trades"},trades:((g=a(r))==null?void 0:g.trades)??[],count:((C=a(r))==null?void 0:C.count)??0,chain:p.chain,loading:a(u),onPage:_[0]||(_[0]=V=>i.value=V)},null,8,["trades","count","chain","loading"]),v(a(Vl),{style:{"grid-area":"events"},events:((k=a(m))==null?void 0:k.events)??[],count:(($=a(m))==null?void 0:$.count)??0,loading:a(c),onPage:_[1]||(_[1]=V=>n.value=V)},null,8,["events","count","loading"])])}}});function ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof ho=="function"&&ho(zl);const Vg=I(zl,[["__scopeId","data-v-ba2a43a7"]]),Pg={class:"liquidations"},Fg=L({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var V;return(V=e.market)==null?void 0:V.controller}),{isFetching:s,data:o}=ft(N(()=>e.market),N(()=>e.chain)),l=y(()=>o.value.map(({timestamp:V,priceOracle:R})=>({timestamp:V,priceOracle:R}))),i=y(()=>o.value.map(({timestamp:V,discountLiquidation:R})=>({timestamp:V,discount:R}))),{isFetching:u,data:r}=ll(P("lending"),N(()=>e.chain),t),{isFetching:n,data:c}=nl(P("lending"),N(()=>e.chain),t),{isFetching:m,data:p}=ol(P("lending"),N(()=>e.chain),t),_=y(()=>p.value.map(({timestamp:V,proportion:R})=>({timestamp:V,proportion:R*100}))),{isFetching:f,data:b}=rl(P("lending"),N(()=>e.chain),t),{isFetching:g,data:C}=il(P("lending"),N(()=>e.chain),t),{isFetching:k,data:$}=cl(P("lending"),N(()=>e.chain),t);return(V,R)=>(h(),S("div",Pg,[v(a(Cl),{overview:a(b),loading:a(f)},null,8,["overview","loading"]),v(a(bl),{ratios:a(_),"prices-oracle":a(l),loading:a(m)||a(s)},null,8,["ratios","prices-oracle","loading"]),v(a(ml),{losses:a(C),loading:a(g)},null,8,["losses","loading"]),v(a(_l),{losses:a(C),loading:a(g)},null,8,["losses","loading"]),v(a(hl),{deciles:a($),loading:a(k)},null,8,["deciles","loading"]),v(a(dl),{liqs:a(r),loading:a(u)},null,8,["liqs","loading"]),v(a($l),{liqs:a(c),loading:a(n)},null,8,["liqs","loading"]),v(a(yl),{discounts:a(i),liqs:a(c),loading:a(s)||a(n)},null,8,["discounts","liqs","loading"])]))}}),qg=I(Fg,[["__scopeId","data-v-34d8f6cb"]]),Dg={class:"market-overview"},Bg=L({__name:"Market.page",setup(e){const{show:t,crumbs:s}=O(Be()),o=ye("chain"),l=ye("marketAddr"),{isFetching:i,data:u}=Dl(o),r=y(()=>{var m;return(m=u.value)==null?void 0:m.find(p=>p.controller===l.value)});G(r,m=>{s.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(m==null?void 0:m.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:n,tabActiveIndex:c}=vt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:l.value}));return(m,p)=>{const _=Xe,f=We,b=Ee;return h(),S("div",Dg,[v(_,{class:M(["spinner",{loading:a(i)}])},null,8,["class"]),!a(i)&&a(r)?(h(),T(b,{key:0,active:a(c),onTab:p[0]||(p[0]=g=>c.value=g.index)},{default:w(()=>[v(f,{header:"Overview"},{default:w(()=>[(h(),T(fe,null,[a(n)==="overview"?(h(),T(Ig,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),v(f,{header:"Trading"},{default:w(()=>[(h(),T(fe,null,[a(n)==="trading"?(h(),T(Vg,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),v(f,{header:"Liquidations"},{default:w(()=>[(h(),T(fe,null,[a(n)==="liquidations"?(h(),T(qg,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),xg=I(Bg,[["__scopeId","data-v-5c0a9226"]]);function Ql(e){const{url:t,connectOnMount:s=!0}=e,o=ma(null),l=P("");function i(){return o.value&&p(),l.value=typeof t=="function"?t():t,mi(l.value,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",f=>{Le({text:`Socket.IO error: ${f.message}`,type:"error"})})}const u=P(!1),r=P(!1);function n(){u.value=!1,r.value=!0}function c(){Le({text:`Failed to connect to ${l.value}`,type:"error"}),u.value=!1}function m(){o.value=null,r.value=!1}function p(){var f,b,g,C;(f=o.value)==null||f.off("connect",n),(b=o.value)==null||b.off("connect_error",c),(g=o.value)==null||g.off("disconnect",m),(C=o.value)==null||C.disconnect(),m()}function _(){u.value||(o.value&&p(),o.value=i(),o.value.on("connect",n),o.value.on("connect_error",c),o.value.on("disconnect",m),u.value=!0,o.value.connect())}return s&&pe(_),{socket:o,connecting:u,isConnected:r,connect:_,disconnect:p,url:l}}var $e=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))($e||{});let ia;function jl(){return ia||(ia=Ql({url:"wss://api.curvemonitor.com/main"})),ia}function ca(e,t,s,...o){return new Promise(l=>{e.once(s,l),e.emit(t,...o)})}function Mg(e,t,s){return new vi(o=>{const l=i=>{o.next(i)};return e.on(t,l),()=>e.off(t,l)}).pipe(_i())}class Gl{constructor(t){this.socket=t}getSandwiches(){return ca(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return ca(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return ca(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function Xl(){const{socket:e,isConnected:t,url:s}=jl(),o=y(()=>e.value?new Gl(e.value):null),l=y(()=>["mev-labels",s.value]);return z({queryKey:l,queryFn:()=>{var i;return(i=o.value)==null?void 0:i.getLabels()},enabled:t})}function Ug(){const{socket:e,isConnected:t,url:s}=jl(),o=y(()=>e.value?new Gl(e.value):null),l=y(()=>["mev-sandwiches-tx",s.value]);return z({queryKey:l,queryFn:()=>{var i;return(i=o.value)==null?void 0:i.getSandwiches()},enabled:t})}const Og=L({__name:"LabelsWorstRelative",setup(e){const{theme:t}=O(W()),{data:s,isFetching:o}=Xl(),l=c=>(c??[]).filter(m=>m.numOfAllTx>=12).map(m=>({...m,ratio:Number((m.occurrences/m.numOfAllTx*100).toFixed(2))})).sort((m,p)=>p.ratio-m.ratio).slice(0,10),i=y(()=>l(s.value).map(c=>c.label)),u=y(()=>l(s.value).map(c=>c.ratio)),r=y(()=>le(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const m=c.w.globals.labels[c.seriesIndex],p=c.series[c.seriesIndex];return[`<div><b>${m}</b>:</div><div>Ratio: ${n(p)}</div>`].join("")}},labels:i.value})),n=c=>`${c}%`;return(c,m)=>{const p=me;return h(),T(p,{class:"mevLabels",title:"Worst relative offenders",options:a(r),series:a(u),loading:a(o)},null,8,["options","series","loading"])}}}),Eg=I(Og,[["__scopeId","data-v-323edaa5"]]),Wg=L({__name:"LabelsWorstAbsolute",setup(e){const{theme:t}=O(W()),{data:s,isFetching:o}=Xl(),l=c=>(c??[]).filter(m=>m.numOfAllTx>=12).map(m=>({...m,occurrences:m.occurrences})).sort((m,p)=>p.occurrences-m.occurrences).slice(0,10),i=y(()=>l(s.value).map(c=>c.label)),u=y(()=>l(s.value).map(c=>c.occurrences)),r=y(()=>le(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const m=c.w.globals.labels[c.seriesIndex],p=c.series[c.seriesIndex];return[`<div><b>${m}</b>:</div><div>Occurences: ${n(p)}</div>`].join("")}},labels:i.value})),n=c=>`${c}`;return(c,m)=>{const p=me;return h(),T(p,{class:"mevLabels",title:"Worst absolute offenders",options:a(r),series:a(u),loading:a(o)},null,8,["options","series","loading"])}}}),Hg=I(Wg,[["__scopeId","data-v-a1d10c28"]]),Kg={style:{display:"grid","grid-template-columns":"auto auto"}},Ng={style:{display:"flex",gap:"1rem"}},zg={key:0,class:"fas fa-arrow-up"},Qg={key:1,class:"fas fa-arrow-down"},jg={key:2,class:"fas fa-exchange-alt"},Gg={key:0,class:"end"},Xg=["href"],Yg=["href"],Zg=["href"],Jg=["innerHTML"],e1={key:1,class:"end"},fo=10,Yl=L({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{t}=F(),{relativeTime:s}=Ze(),o=P(""),l=P([$e.Swap,$e.Deposit,$e.Remove]),i=y(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),u=y(()=>(e.txs??[]).filter(_=>l.value.includes(_.transaction_type)).filter(_=>{const f=o.value.toLocaleLowerCase().split(" "),b=g=>f.some(C=>g.toLocaleLowerCase().includes(C));return b(_.block_number.toString())||b(_.trader)||b(_.tx_hash)})),{page:r,rowsPage:n,onPage:c}=Gt(u,fo),m=_=>{if(_.transaction_type===$e.Swap){const f=_.coins_leaving_wallet[0],b=_.coins_entering_wallet[0],g=Qe(parseFloat(f.amount.toString())),C=Qe(parseFloat(b.amount.toString())),k=`<span>${g} ${f.name}</span>`,$="<i class='fas fa-arrow-right'></i>",V=`<span style='justify-self: end;'>${C} ${b.name}</span>`;return`${k}${$}${V}`}else if(_.transaction_type===$e.Deposit){const f=_.coins_entering_wallet[0];return`${Qe(parseFloat(f.amount.toString()))} ${f.name}`}else{const f=_.coins_leaving_wallet[0];return`${Qe(parseFloat(f.amount.toString()))} ${f.name}`}},p=_=>{_===0?l.value=[$e.Swap,$e.Deposit,$e.Remove]:_===1?l.value=[$e.Swap]:_===2?l.value=[$e.Deposit]:_===3?l.value=[$e.Remove]:l.value=[]};return(_,f)=>{const b=We,g=Ee,C=Re,k=Oe,$=ae,V=U;return h(),T(V,{class:"trades-card",title:a(t)("title")},hi({default:w(()=>[v($,{class:M(["trades-table",{compact:_.compact,time:_.time}]),rows:a(n),columns:a(i)},{row:w(R=>[d("div",{class:M(["type",{deposit:R.item.transaction_type==="deposit",remove:R.item.transaction_type==="remove",swap:R.item.transaction_type==="swap"}])},[R.item.transaction_type==="deposit"?(h(),S("i",zg)):R.item.transaction_type==="remove"?(h(),S("i",Qg)):(h(),S("i",jg)),E(" "+A(a(t)(R.item.transaction_type)),1)],2),_.time?(h(),S("div",Gg,[d("a",{class:"vote-link",href:`https://etherscan.io/block/${R.item.block_number}`,target:"_blank"},A(R.item.block_number),9,Xg)])):D("",!0),d("div",null,[d("a",{class:"vote-link",href:`https://etherscan.io/tx/${R.item.tx_hash}`,target:"_blank",onClick:f[2]||(f[2]=Ie(()=>{},["stop"]))},A(a(Se)(R.item.tx_hash)),9,Yg)]),d("div",null,[d("a",{class:"vote-link",href:`https://etherscan.io/address/${R.item.trader}`,target:"_blank",onClick:f[3]||(f[3]=Ie(()=>{},["stop"]))},A(a(Se)(R.item.trader)),9,Zg)]),d("div",{class:M(["assets",{swap:R.item.transaction_type==="swap"}]),innerHTML:m(R.item)},null,10,Jg),_.time?(h(),S("div",e1,A(a(s)(R.item.block_unixtime)),1)):D("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[_.header?{name:"actions",fn:w(()=>[d("div",Kg,[v(g,{class:"types",onTab:f[0]||(f[0]=R=>p(R.index))},{default:w(()=>[v(b,{header:"All"}),v(b,{header:"Swaps"}),v(b,{header:"Deposits"}),v(b,{header:"Removals"})]),_:1})]),d("div",Ng,[v(C,{modelValue:a(o),"onUpdate:modelValue":f[1]||(f[1]=R=>ne(o)?o.value=R:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v(k,{class:"pagination","items-count":a(u).length,"items-per-page":fo,page:a(r),onPage:a(c)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["title"])}}});function bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},remove:{t:0,b:{t:2,i:[{t:3}],s:"Remove"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof bo=="function"&&bo(Yl);const t1=I(Yl,[["__scopeId","data-v-c9a61196"]]),a1={style:{display:"flex",gap:"1rem"}},s1=["href"],o1={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},n1=["href"],l1={class:"end"},ua=10,Zl=L({__name:"Sandwiches",setup(e){const{t}=F(),s=P(1),{data:o,isFetching:l}=Ug(),{expanded:i,toggleExpansion:u}=Xt(),{relativeTime:r}=Ze(),n=P(""),c=y(()=>{var _;return((_=o.value)==null?void 0:_.totalPages)??0*ua}),m=y(()=>{var _;return(((_=o.value)==null?void 0:_.data)??[]).filter(f=>{const b=n.value.toLocaleLowerCase().split(" "),g=C=>b.some(k=>C.toLocaleLowerCase().includes(k));return g(f.poolName)||g(f.poolAddress)||g(f.label)}).orderBy([f=>f.frontrun.block_unixtime,f=>f.frontrun.tx_position],"desc")}),p=_=>[_.frontrun,..._.center,_.backrun].orderBy([f=>f.block_unixtime,f=>f.tx_position]);return(_,f)=>{const b=Re,g=Oe,C=ae,k=U;return h(),T(k,{class:"sandwiches-card",title:a(t)("title"),loading:a(l)},{actions:w(()=>[d("div",a1,[v(b,{modelValue:a(n),"onUpdate:modelValue":f[0]||(f[0]=$=>ne(n)?n.value=$:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(c)>ua?(h(),T(g,{key:0,class:"pagination","items-count":a(c),"items-per-page":ua,page:a(s),onPage:f[1]||(f[1]=$=>s.value=$)},null,8,["items-count","page"])):D("",!0)])]),default:w(()=>[v(C,{class:"sandwiches-table",rows:a(m),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:a(i),onSelected:f[2]||(f[2]=$=>a(u)($))},{row:w($=>[d("div",null,[d("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.poolAddress}`,target:"_blank"},A($.item.poolName),9,s1)]),d("div",null,[d("div",o1,[d("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${$.item.center[0].trader}`},A(a(Se)($.item.center[0].trader)),9,n1),d("span",null," lost "+A(a(Qe)($.item.user_losses_details.reduce((V,R)=>V+R.amount,0)))+" "+A($.item.user_losses_details[0].unit),1),d("span",null,A(a(Qe)(-$.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+A(a(Qe)($.item.lossInUsd)),1)])]),d("div",null,A($.item.label),1),d("div",l1,A(a(r)($.item.frontrun.block_unixtime)),1)]),"row-details":w($=>[v(t1,{class:"transactions",txs:p($.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["title","loading"])}}});function go(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Sandwiches"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof go=="function"&&go(Zl);const r1=I(Zl,[["__scopeId","data-v-562c028b"]]),i1={class:"mev"},c1=L({__name:"MEV",setup(e){return(t,s)=>(h(),S("div",i1,[v(r1,{style:{"grid-area":"sws"}}),v(Eg,{style:{"grid-area":"relative"}}),v(Hg,{style:{"grid-area":"absolute"}})]))}}),u1=I(c1,[["__scopeId","data-v-861d7244"]]),d1={class:"monitor"},p1=L({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:s}=vt(["mev"],"monitor");return(o,l)=>{const i=We,u=Ee;return h(),S("div",d1,[v(u,{active:a(s),onTab:l[0]||(l[0]=r=>s.value=r.index)},{default:w(()=>[v(i,{header:"MEV"},{default:w(()=>[(h(),T(fe,null,[a(t)==="mev"?(h(),T(u1,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),m1=I(p1,[["__scopeId","data-v-b5d30464"]]),v1=["all","ownership","parameter","other"];function ut(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":tr(e)&&er(e)&&Jl(e)?"passed":"denied"}function Jl(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function er(e){return e.votesFor>e.quorum*e.totalSupply}function tr(e){return e.votesFor>e.votesAgainst}const ar=e=>{var g;const t=e.vote_id,s=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(g=e.metadata)!=null&&g.startsWith('"')?e.metadata.substring(1):e.metadata??"",l=e.creator.toLocaleLowerCase(),i=e.snapshot_block,u=e.start_date,r=u+604800,n=xe(BigInt(e.min_accept_quorum),18n),c=xe(BigInt(e.support_required),18n),m=e.vote_count,p=xe(BigInt(e.votes_for),18n),_=xe(BigInt(e.votes_against),18n),f=e.executed,b=xe(BigInt(e.total_supply),18n);return{id:t,type:s,metadata:o,proposer:l,block:i,start:u,end:r,quorum:n,support:c,voteCount:m,votesFor:p,votesAgainst:_,executed:f,totalSupply:b}},_1=e=>{const t=ar(e),s=e.script,o=e.votes.map(l=>({voter:l.voter.toLocaleLowerCase(),supports:l.supports,votingPower:xe(BigInt(l.voting_power),18n)}));return{...t,script:s,votes:o}},yo="https://prices.curve.fi";class h1 extends Ae{async getProposals(t,s,o,l){const i=await this.fetch(`${yo}/v1/dao/proposals?pagination=10&page=${t}&search_string=${s}&type_filter=${o}&status_filter=${l}`);return{proposals:i.proposals.map(ar),count:i.count}}async getProposal(t,s){const o=await this.fetch(`${yo}/v1/dao/proposals/details/${s}/${t}`);return _1(o)}}const sr=new h1;function or(e,t,s){return z({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,o,l]})=>sr.getProposal(o,l),...s&&{enabled:s}})}function f1(e,t,s,o){return z({queryKey:["curve-proposals",e,o,t,s],queryFn:({queryKey:[,l,i,u,r]})=>sr.getProposals(l,i,u,r),placeholderData:Ht})}const nr=L({__name:"Status",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>{if(ut(e.proposal)==="denied")if(er(e.proposal))if(tr(e.proposal)){if(!Jl(e.proposal))return t("no-support")}else return t("no-win");else return t("no-quorum");return""}),o=y(()=>{switch(ut(e.proposal)){case"active":return t("active");case"denied":return t("denied");case"passed":return t("passed");case"executed":return t("executed");default:return"Unk. Status"}});return(l,i)=>{const u=Kt,r=be;return h(),T(r,{class:"status","tooltip-type":"underline",label:a(t)("status"),"has-value":!0,tooltip:a(s)},{default:w(()=>[a(s)?(h(),T(u,{key:0},{trigger:w(()=>[d("span",{class:M(["status-value",a(ut)(l.proposal)])},A(a(o)),3)]),default:w(()=>[E(" "+A(a(s)),1)]),_:1})):(h(),S("span",{key:1,class:M(["status-value",a(ut)(l.proposal)])},A(a(o)),3))]),_:1},8,["label","tooltip"])}}});function wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached (yes votes need to pass this number)"}},"no-support":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was reached and 'for' won, but not enough for support"}},"no-win":{t:0,b:{t:2,i:[{t:3}],s:"More 'against' votes than 'for' votes"}}}})}typeof wo=="function"&&wo(nr);const b1=I(nr,[["__scopeId","data-v-d451ec19"]]),lr=L({__name:"Type",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>{switch(e.proposal.type){case"ownership":return t("ownership");case"parameter":return t("parameter");case"other":return t("other");default:return"Unk. Type"}});return(o,l)=>{const i=be;return h(),T(i,{class:"type",label:a(t)("type"),value:a(s),"has-value":!0},null,8,["label","value"])}}});function Co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{type:{t:0,b:{t:2,i:[{t:3}],s:"Type"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof Co=="function"&&Co(lr);const g1=["href"],rr=L({__name:"Proposer",props:{proposal:{}},setup(e){const{t}=F();return(s,o)=>{const l=be;return h(),T(l,{class:"proposer",label:a(t)("proposer"),"has-value":!0},{default:w(()=>[d("a",{href:`https://etherscan.io/address/${s.proposal.proposer}`,target:"_blank"},A(a(Se)(s.proposal.proposer)),9,g1)]),_:1},8,["label"])}}});function ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof ko=="function"&&ko(rr);const _a=L({__name:"Date",props:{proposal:{},type:{}},setup(e){const{t}=F();let s;const o=P(""),l=y(()=>{switch(e.type){case"start":return t("start");case"end":return t("end");default:return"Unk. Type"}}),i=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const n=new Date(e.proposal.end*1e3);return n>new Date?o.value:n.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});pe(()=>{r()});const r=()=>{const n=new Date(e.proposal.end*1e3);s&&clearInterval(s),s=setInterval(()=>{o.value=dc(n)})};return(n,c)=>{const m=be;return h(),T(m,{class:"date","tooltip-type":"underline",label:a(l),value:a(i),"has-value":!0,tooltip:a(u)},null,8,["label","value","tooltip"])}}});function $o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof $o=="function"&&$o(_a);const ir=e=>(Y("data-v-a03a42a6"),e=e(),Z(),e),y1=ir(()=>d("i",{class:"fas fa-link"},null,-1)),w1={class:"metadata"},C1={class:"row"},k1=ir(()=>d("i",{class:"fas fa-chevron-up"},null,-1)),$1=[k1],cr=L({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=y(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),i=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(u,r)=>{const n=dt("router-link");return h(),S("div",{class:"proposal-summary",onClick:r[0]||(r[0]=c=>o("toggleExpand"))},[d("div",{class:M(["title",{"no-title":!u.proposal.metadata}])},[v(n,{to:a(l),class:"id",onClick:i},{default:w(()=>[y1,E(" "+A(u.proposal.id),1)]),_:1},8,["to"]),d("div",w1,A(u.proposal.metadata||a(s)("no-title")),1)],2),d("div",C1,[v(b1,{class:"item",proposal:u.proposal},null,8,["proposal"]),v(lr,{class:"item",proposal:u.proposal},null,8,["proposal"]),v(rr,{class:"item",proposal:u.proposal},null,8,["proposal"]),v(_a,{class:"item",proposal:u.proposal,type:"start"},null,8,["proposal"]),v(_a,{class:"item",proposal:u.proposal,type:"end"},null,8,["proposal"]),d("div",{class:M(["item expander",{expanded:u.expanded}])},$1,2)])])}}});function So(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof So=="function"&&So(cr);const S1=I(cr,[["__scopeId","data-v-a03a42a6"]]),bt=e=>(Y("data-v-935ac4d3"),e=e(),Z(),e),A1={class:"results"},T1={class:"heading"},L1={class:"choice"},I1={class:"label"},R1={class:"amount"},V1={class:"left"},P1=bt(()=>d("span",null," veCRV",-1)),F1={class:"right"},q1=bt(()=>d("span",null,"(",-1)),D1=bt(()=>d("span",null,")",-1)),B1={class:"choice"},x1={class:"label"},M1={class:"amount"},U1={class:"left"},O1=bt(()=>d("span",null," veCRV",-1)),E1={class:"right"},W1=bt(()=>d("span",null,"(",-1)),H1=bt(()=>d("span",null,")",-1)),Ao=4,ur=L({__name:"VotingResults",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>e.proposal.votesFor+e.proposal.votesAgainst),o=y(()=>e.proposal.votesFor/s.value*100),l=y(()=>e.proposal.votesAgainst/s.value*100);return(i,u)=>{const r=j;return h(),S("div",A1,[d("div",T1,A(a(t)("results")),1),d("div",L1,[d("div",I1,A(a(t)("for")),1),d("div",R1,[d("div",V1,[v(r,{value:i.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),P1]),d("div",F1,[q1,v(r,{value:a(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),D1])]),d("div",{class:"bar",style:Ce({width:`${Math.max(Ao,a(o))}%`})},null,4)]),d("div",B1,[d("div",x1,A(a(t)("against")),1),d("div",M1,[d("div",U1,[v(r,{value:i.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),O1]),d("div",E1,[W1,v(r,{value:a(l),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),H1])]),d("div",{class:"bar",style:Ce({width:`${Math.max(Ao,a(l))}%`})},null,4)])])}}});function To(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{results:{t:0,b:{t:2,i:[{t:3}],s:"Results"}},for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof To=="function"&&To(ur);const K1=I(ur,[["__scopeId","data-v-935ac4d3"]]),N1=e=>(Y("data-v-8e3abf30"),e=e(),Z(),e),z1={class:"quorum"},Q1={class:"heading"},j1={class:"amount"},G1={class:"bar"},X1={class:"percentages"},Y1=N1(()=>d("div",{class:"zero"},"0%",-1)),Z1={class:"quorum"},dr=L({__name:"VotingQuorum",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>e.proposal.votesFor),o=y(()=>e.proposal.quorum*e.proposal.totalSupply),l=y(()=>s.value/o.value*100);return(i,u)=>{const r=j;return h(),S("div",z1,[d("div",Q1,A(a(t)("quorum")),1),d("div",j1,[v(r,{value:a(s),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" / "),v(r,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" veCRV ")]),d("div",G1,[d("div",{class:"support",style:Ce({width:`${a(l)}%`})},null,4),d("div",{class:"quorum",style:Ce({width:`${100-a(l)}%`})},null,4)]),d("div",X1,[Y1,d("div",Z1,[v(r,{value:i.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Lo=="function"&&Lo(dr);const J1=I(dr,[["__scopeId","data-v-8e3abf30"]]),e0=["min","max"],t0=L({__name:"Slider",props:De({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=pt(e,"modelValue",{set(s){return Number(s)}});return(s,o)=>ga((h(),S("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>t.value=l),type:"range",min:s.min,max:s.max},null,8,e0)),[[Xo,t.value]])}}),a0=I(t0,[["__scopeId","data-v-f0a8da37"]]),s0=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],nt=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],o0={class:"buttons"},n0={class:"vecrv"},l0={class:"info"},r0={class:"kpis"},i0={class:"description"},c0={class:"title"},u0={class:"options"},d0={class:"label"},p0={class:"middle"},m0=["contenteditable","textContent"],v0={class:"label"},pr=L({__name:"VotingButtons",props:{proposal:{}},setup(e){const{t}=F(),{address:s}=St(),o=P(!1),l=P(50),i=P(null),u=P(!1),r=y(()=>{var J;return u.value?`${l.value}.`:l.value===0&&((J=i.value)==null?void 0:J.textContent)!=="0"?"":l.value.toString()}),n=y(()=>(q.value??0n)>0n&&!tt.value&&p.value&&R.value===0),c=y(()=>n.value?"submit":tt.value?"voting":p.value?R.value!==0?"voted":"not-enough-voting-power":"voting-closed"),m=y(()=>xe(q.value??0n,18n)),p=y(()=>ut(e.proposal)==="active"),_=y(()=>ut(e.proposal)==="passed"),f=()=>{const J=window.getSelection();return J&&J.rangeCount>0?J.getRangeAt(0).startOffset:0},b=J=>{if(i.value){const he=document.createRange();he.setStart(i.value.firstChild??i.value,J),he.collapse(!0);const ge=window.getSelection();ge&&(ge.removeAllRanges(),ge.addRange(he))}},g=()=>{l.value=0,i.value&&(i.value.textContent="0")},C=()=>{l.value=100,i.value&&(i.value.textContent="100")},k=J=>{J.target===J.currentTarget&&i.value&&i.value.focus()},$=()=>{if(i.value){const J=i.value.textContent??"",he=f();if(/^\d*(\.\d*)?$/.test(J))if(u.value=J.endsWith("."),J){const ge=parseFloat(J);ge>=0&&ge<=100?l.value=ge:(i.value.textContent=r.value,b(he-1))}else l.value=0;else i.value.textContent=r.value,b(he-1)}},{data:V}=yt({abi:nt,address:at,functionName:"token",query:{enabled:o}}),{data:R}=yt({abi:nt,address:at,functionName:"getVoterState",args:y(()=>[BigInt(e.proposal.id),s.value]),query:{enabled:y(()=>!!s.value&&o.value),initialData:0,initialDataUpdatedAt:0}}),{data:q}=yt({abi:s0,address:V,functionName:"balanceOfAt",args:y(()=>[s.value,BigInt(e.proposal.block)]),query:{enabled:y(()=>!!V.value&&!!s.value&&o.value),initialData:0n,initialDataUpdatedAt:0}}),{data:B,refetch:Q}=yt({abi:nt,address:at,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:y(()=>_.value&&o.value),initialData:!1,initialDataUpdatedAt:0}}),{data:de}=yt({abi:nt,address:at,functionName:"PCT_BASE",query:{enabled:o}}),{data:Ke,error:x,isPending:ve,writeContract:_e}=Ka(),{isLoading:re,isSuccess:ie}=Na({hash:Ke}),tt=y(()=>ve.value||re.value);function Ne(){if(!de.value){Le({text:Mt("Missing PCT_BASE"),type:"error"});return}const J=BigInt(Math.log10(Number(de.value))),he=ka(l.value/100,J),ge=de.value-he;_e({abi:nt,address:at,functionName:"votePct",args:[BigInt(e.proposal.id),he,ge,!1]})}Ft(x,J=>{Le({text:Mt(J),type:"error"})}),Ft(ie,()=>{Le({text:"Voted",type:"success"})});const{data:gt,error:Yt,isPending:Dr,writeContract:Br}=Ka(),{isLoading:xr,isSuccess:Mr}=Na({hash:gt}),Wa=y(()=>Dr.value||xr.value);function Ur(){Br({abi:nt,address:at,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),Q()}return Ft(Yt,J=>{Le({text:Mt(J),type:"error"})}),Ft(Mr,()=>{Le({text:"Executed proposal",type:"success"})}),(J,he)=>{const ge=we,Or=j,Ha=be,Er=a0,Wr=U,Hr=Aa;return h(),S(ee,null,[d("div",o0,[v(ge,{value:a(t)("vote"),primary:!0,onClick:he[0]||(he[0]=Zt=>o.value=!0)},null,8,["value"]),a(_)?(h(),T(ge,{key:0,value:a(t)(a(Wa)?"executing":"execute"),primary:!0,disabled:!a(B)||a(Wa),onClick:Ur},null,8,["value","disabled"])):D("",!0)]),v(Hr,{show:a(o),onClose:he[2]||(he[2]=Zt=>o.value=!1)},{default:w(()=>[v(Wr,{title:a(t)("vote-with-vecrv"),class:"vote-content"},{default:w(()=>[d("div",n0,[d("div",l0,[d("div",r0,[v(Ha,{label:a(t)("voting-power"),"has-value":!0},{default:w(()=>[v(Or,{value:a(m),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),E(" veCRV ")]),_:1},8,["label"]),v(Ha,{label:a(t)("block"),value:J.proposal.block,"has-value":!0},null,8,["label","value"])]),d("div",i0,[d("span",c0,A(a(t)("description"))+": ",1),d("span",null,A(J.proposal.metadata),1)])]),d("div",u0,[v(ge,{class:M(["no",{winning:a(l)<50}]),disabled:!a(n),onClick:g},{default:w(()=>[d("span",d0,A(a(t)("no")),1)]),_:1},8,["class","disabled"]),d("div",p0,[d("i",{class:M(["fas fa-times",{winning:a(l)<50}])},null,2),d("div",{class:M(["value",{disabled:!a(n)}]),onClick:k},[d("span",{ref_key:"editor",ref:i,contenteditable:a(n),onInput:$,textContent:A(a(r))},null,40,m0),E(" % ")],2),d("i",{class:M(["fas fa-check",{winning:a(l)>50}])},null,2)]),v(ge,{class:M(["yes",{winning:a(l)>50}]),disabled:!a(n),onClick:C},{default:w(()=>[d("span",v0,A(a(t)("yes")),1)]),_:1},8,["class","disabled"])]),v(Er,{modelValue:a(l),"onUpdate:modelValue":he[1]||(he[1]=Zt=>ne(l)?l.value=Zt:null),class:"slider",disabled:!a(n),min:0,max:100},null,8,["modelValue","disabled"]),v(ge,{class:"submit",value:a(t)(a(c)),primary:!0,disabled:!a(n),"chain-id":a(je).id,onClick:Ne},null,8,["value","disabled","chain-id"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-vecrv":{t:0,b:{t:2,i:[{t:3}],s:"Vote with veCRV"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough veCRV voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Io=="function"&&Io(pr);const _0=I(pr,[["__scopeId","data-v-d0e4a7cb"]]),h0={class:"voting"},f0=L({__name:"Voting",props:{proposal:{}},setup(e){return(t,s)=>(h(),S("div",h0,[v(J1,{proposal:t.proposal},null,8,["proposal"]),v(K1,{proposal:t.proposal},null,8,["proposal"]),v(_0,{proposal:t.proposal},null,8,["proposal"])]))}}),b0=I(f0,[["__scopeId","data-v-8e776315"]]),g0={class:"voters"},y0={class:"for"},w0={class:"title"},C0={class:"address"},k0=["href"],$0={class:"amount"},S0={class:"percentage"},A0={class:"against"},T0={class:"title"},L0={class:"percentage"},I0={class:"amount"},R0={class:"address"},V0=["href"],mr=L({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{t}=F(),{address:s}=St(),o=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(n=>n.supports).orderBy(n=>n.votingPower,"desc"):null),l=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(n=>!n.supports).orderBy(n=>n.votingPower,"desc"):null),i=n=>n==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":n==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":n==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Se(n,12),u=n=>n/(e.proposal.votesFor+e.proposal.votesAgainst)*100,r=n=>n===s.value;return(n,c)=>{const m=j;return h(),S("div",g0,[d("div",y0,[d("div",w0,A(a(t)("for")),1),(h(!0),S(ee,null,ce(a(o),p=>(h(),S("div",{key:p.voter,class:"vote"},[d("div",C0,[d("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:M({you:r(p.voter)})},A(i(p.voter)),11,k0)]),d("div",$0,[v(m,{value:p.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",S0,[v(m,{value:u(p.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),d("div",A0,[d("div",T0,A(a(t)("against")),1),(h(!0),S(ee,null,ce(a(l),p=>(h(),S("div",{key:p.voter,class:"vote"},[d("div",L0,[v(m,{value:u(p.votingPower),precision:0,type:"percentage"},null,8,["value"])]),d("div",I0,[v(m,{value:p.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),d("div",R0,[d("a",{target:"_blank",href:`https://etherscan.io/address/${p.voter}`,class:M({you:r(p.voter)})},A(i(p.voter)),11,V0)])]))),128))])])}}});function Ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Ro=="function"&&Ro(mr);const P0=I(mr,[["__scopeId","data-v-a23412d0"]]),F0={class:"technicals"},q0={class:"technical"},D0={class:"heading"},B0={class:"description"},x0={class:"technical"},M0={class:"technical"},U0=["innerHTML"],vr=L({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const{t}=F(),s=P(!0),o=P(e.proposal.voteCount>0),{data:l}=or(N(()=>e.proposal.id),N(()=>e.proposal.type),N(()=>e.expanded)),i=y(()=>l.value?l.value.votes.uniqWith((r,n)=>r.voter===n.voter).length:null),u=y(()=>l.value?l.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,r=>/[A-F]/g.test(r)&&wa(r)?`<a href='https://etherscan.io/address/${r}'>${r}</a>`:r):null);return(r,n)=>{const c=$t;return h(),S("div",F0,[d("div",q0,[d("div",D0,A(a(t)("description")),1),d("div",B0,A(r.proposal.metadata),1)]),d("div",x0,[d("div",{class:"heading",onClick:n[0]||(n[0]=m=>o.value=!a(o))},[E(A(a(t)("voters"))+" ("+A(a(i)??"?")+") ",1),d("i",{class:M(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),v(c,{expanded:a(o)},{default:w(()=>[a(l)?(h(),T(P0,{key:0,class:"voters",proposal:r.proposal,"proposal-details":a(l)},null,8,["proposal","proposal-details"])):D("",!0)]),_:1},8,["expanded"])]),d("div",M0,[d("div",{class:"heading",onClick:n[1]||(n[1]=m=>s.value=!a(s))},[E(A(a(t)("calldata"))+" ",1),d("i",{class:M(["fas fa-chevron-up expander",{expandedCallData:a(s)}])},null,2)]),v(c,{expanded:a(s)},{default:w(()=>[a(l)?(h(),S("div",{key:0,class:"calldata",innerHTML:a(u)},null,8,U0)):D("",!0)]),_:1},8,["expanded"])])])}}});function Vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof Vo=="function"&&Vo(vr);const O0=I(vr,[["__scopeId","data-v-6a9ffe8f"]]),E0={class:"proposal-details"},W0={class:"proposal-details-container"},H0=L({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,s)=>(h(),S("div",E0,[d("div",W0,[v(O0,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),v(b0,{proposal:t.proposal},null,8,["proposal"])])]))}}),K0=I(H0,[["__scopeId","data-v-33738e05"]]),N0=L({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=P(e.initExpanded);return(s,o)=>{const l=$t,i=U;return h(),T(i,{class:"proposal",compact:!0},{default:w(()=>[v(S1,{proposal:s.proposal,expanded:a(t),onToggleExpand:o[0]||(o[0]=u=>t.value=!a(t))},null,8,["proposal","expanded"]),v(l,{class:"proposal-details-collapsible",expanded:a(t)},{default:w(()=>[v(K0,{proposal:s.proposal,expanded:a(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),_r=I(N0,[["__scopeId","data-v-c308539c"]]),z0={class:"item"},Q0={class:"label"},hr=L({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:s}=F(),o=[...v1].filter(c=>c!=="other"),l=t,i=P(!1),u=P("all"),r=()=>{i.value=!i.value},n=c=>{u.value=c,l("select",u.value)};return(c,m)=>{const p=At;return h(),T(p,{class:"select",options:a(o).map(_=>_),selected:a(u),open:a(i),onOpen:r,onClose:m[0]||(m[0]=_=>i.value=!1),onInput:n},{item:w(_=>[d("div",z0,[d("div",Q0,A(a(s)(_.item)),1)])]),_:1},8,["options","selected","open"])}}});function Po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof Po=="function"&&Po(hr);const j0=I(hr,[["__scopeId","data-v-d2f5c35a"]]),G0={class:"proposals"},X0={class:"filters"},Y0={style:{display:"flex",gap:"1rem"}},Z0={class:"proposals-content"},J0={key:0},fr=L({__name:"Proposals.page",setup(e){const{t}=F(),s=P(0),{page:o,onPage:l}=Fa(),i=Ot(o,200),u=P(t("search-placeholder")),r=P(""),n=Ot(r,300),c=P("all"),m=y(()=>{switch(s.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),p=y(()=>n.value.toLocaleLowerCase()),_=y(()=>{var k;return((k=g.value)==null?void 0:k.count)??0}),f=y(()=>{var k;return(((k=g.value)==null?void 0:k.proposals)??[]).orderBy($=>$.start,"desc")}),{isFetching:b,data:g}=f1(i,c,m,p),C=k=>{c.value=k};return(k,$)=>{const V=We,R=Ee,q=Re,B=Oe,Q=Xe;return h(),S("div",G0,[v(R,{onTab:$[0]||($[0]=de=>s.value=de.index)},{default:w(()=>[v(V,{header:a(t)("all")},null,8,["header"]),v(V,{header:a(t)("active")},null,8,["header"]),v(V,{header:a(t)("passed")},null,8,["header"]),v(V,{header:a(t)("denied")},null,8,["header"]),v(V,{header:a(t)("executed")},null,8,["header"])]),_:1}),d("div",X0,[v(q,{modelValue:a(r),"onUpdate:modelValue":$[1]||($[1]=de=>ne(r)?r.value=de:null),class:"search",placeholder:a(u),search:!0},null,8,["modelValue","placeholder"]),d("div",Y0,[v(j0,{style:{"flex-grow":"1"},onSelect:C}),v(B,{class:"pagination","items-count":a(_),"items-per-page":10,page:a(o),onPage:a(l)},null,8,["items-count","page","onPage"])])]),d("div",Z0,[(h(!0),S(ee,null,ce(a(f),de=>(h(),T(_r,{key:de.id,proposal:de,class:M({loading:a(b)})},null,8,["proposal","class"]))),128)),v(B,{class:"pagination","items-count":a(_),"items-per-page":10,page:a(o),onPage:a(l)},null,8,["items-count","page","onPage"]),a(f).length===0?(h(),S("div",J0,A(a(t)("no-proposals")),1)):D("",!0),v(Q,{class:M(["spinner",{loading:a(b)}])},null,8,["class"])])])}}});function Fo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}},all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Fo=="function"&&Fo(fr);const ey=I(fr,[["__scopeId","data-v-3f485049"]]),ty={class:"proposal-container"},ay=L({__name:"Proposal.page",setup(e){const t=ye("proposalId",0,{transform:Number}),s=ye("proposalType"),{isFetching:o,data:l}=or(t,s);return(i,u)=>{const r=Xe;return h(),S("div",ty,[v(r,{class:M(["spinner",{loading:a(o)}])},null,8,["class"]),!a(o)&&a(l)?(h(),T(_r,{key:0,proposal:a(l),"init-expanded":!0},null,8,["proposal"])):D("",!0)])}}}),sy=I(ay,[["__scopeId","data-v-9afd57bb"]]),oy=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],ny={class:"form"},ly={class:"field"},ry={class:"label"},iy={class:"value"},cy={class:"field"},uy={class:"label"},dy={class:"value"},br=L({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=P(!1),i=P(""),u=P(0),r=y(()=>on),n=y(()=>wa(i.value.toLocaleLowerCase())&&typeof u.value=="number"&&u.value>0),c=Ca();async function m(){const p=i.value.toLocaleLowerCase();typeof u.value=="string"&&(u.value=parseFloat(u.value));const _=ka(u.value,18n);return cn(l,async()=>{const{result:f,request:b}=await fi(c,{abi:oy,address:nn,functionName:"deploy_gauge",args:[p,_]}),g=await Yo(c,b);await Zo(c,{hash:g}),o("gauge",f)})}return(p,_)=>{const f=Re,b=Ma,g=we,C=U;return h(),T(C,{class:"add-new",title:"Gauge Creation"},{default:w(()=>[d("div",ny,[d("div",ly,[d("div",ry,A(a(s)("receiver"))+":",1),d("div",iy,[v(f,{modelValue:a(i),"onUpdate:modelValue":_[0]||(_[0]=k=>ne(i)?i.value=k:null),placeholder:a(r)},null,8,["modelValue","placeholder"])])]),d("div",cy,[d("div",uy,A(a(s)("amount"))+":",1),d("div",dy,[v(b,{modelValue:a(u),"onUpdate:modelValue":_[1]||(_[1]=k=>ne(u)?u.value=k:null),min:1,max:3303030299},null,8,["modelValue"])])])]),v(g,{class:"action-button request",value:a(s)("submit"),disabled:!a(n)||a(l),primary:!0,"chain-id":a(je).id,onClick:m},null,8,["value","disabled","chain-id"])]),_:1})}}});function qo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{receiver:{t:0,b:{t:2,i:[{t:3}],s:"Receiver"}},amount:{t:0,b:{t:2,i:[{t:3}],s:"CRV Amount (Max)"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Fundraising Gauge"}}}})}typeof qo=="function"&&qo(br);const py=I(br,[["__scopeId","data-v-696f28e5"]]),my=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],vy=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],_y=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],hy={class:"form"},fy={class:"field"},by={class:"label"},gy={class:"value"},yy={class:"field"},wy={class:"label"},Cy={class:"value"},gr=L({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=P(!1),i=P(""),u=P(s("placeholder")),r=y(()=>on),n=y(()=>wa(i.value)&&!!u.value),c=y(()=>n.value&&!l.value);G(()=>e.gauge,f=>{i.value=f.toLocaleLowerCase()});async function m(){if(i.value)return cn(l,async()=>{await _(),o("request")})}const p=Ca();async function _(){const f="0xe478de485ad2fe566d49342cbd03e49ed7db3356",b="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",g=(ve,_e)=>String(ve).padStart(_e,"0"),C=za({abi:_y,functionName:"add_gauge",args:[i.value,10n,0n]});let k="0x00000001";const $=za({abi:my,functionName:"execute",args:[ln,0n,C]}).substring(2),V=g((Math.floor($.length)/2).toString(16),8);k=`${k}${b.substring(2)}${V}${$}`;const R=new FormData,B={text:u.value.replace(/(\r\n|\n|\r)/gm,"")};R.append("file",JSON.stringify(B));const Ke=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:R})).json()).Hash,x=await Yo(p,{abi:vy,address:f,functionName:"newVote",args:[k,`ipfs:${Ke}`,!1,!1]});await Zo(p,{hash:x})}return(f,b)=>{const g=Re,C=we,k=U;return h(),T(k,{class:"add-new",title:"Gauge Addition Vote"},{default:w(()=>[d("div",hy,[d("div",fy,[d("div",by,A(a(s)("gauge"))+":",1),d("div",gy,[v(g,{modelValue:a(i),"onUpdate:modelValue":b[0]||(b[0]=$=>ne(i)?i.value=$:null),placeholder:a(r)},null,8,["modelValue","placeholder"])])]),d("div",yy,[d("div",wy,A(a(s)("description"))+":",1),d("div",Cy,[v(g,{modelValue:a(u),"onUpdate:modelValue":b[1]||(b[1]=$=>ne(u)?u.value=$:null)},null,8,["modelValue"])])])]),v(C,{class:"action-button request",value:a(s)("submit"),disabled:!a(c),primary:!0,"chain-id":a(je).id,onClick:m},null,8,["value","disabled","chain-id"])]),_:1})}}});function Do(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{gauge:{t:0,b:{t:2,i:[{t:3}],s:"Gauge Address"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Vote Description"}},placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Add a grant gauge: "}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Gauge Addition Vote"}}}})}typeof Do=="function"&&Do(gr);const ky=I(gr,[["__scopeId","data-v-8ec5b7cf"]]),$y={class:"ve-funder"},Sy={class:"explanation"},Ay={class:"step-one"},Ty=["innerHTML"],Ly=["innerHTML"],Iy={class:"step-two"},Ry=["innerHTML"],Vy={href:"https://gov.curve.fi/",target:"_blank"},Py={class:"forms"},yr=L({__name:"VeFunder.page",setup(e){const{t}=F(),s=P(""),o=l=>{s.value=l};return(l,i)=>{const u=U;return h(),S("div",$y,[d("div",Sy,[v(u,null,{default:w(()=>[d("div",Ay,[d("span",{innerHTML:a(t)("process")},null,8,Ty),d("ol",null,[d("li",null,A(a(t)("process-1")),1),d("li",{innerHTML:a(t)("process-2")},null,8,Ly)])]),d("div",Iy,[d("span",{innerHTML:a(t)("requirements")},null,8,Ry),d("ol",null,[d("li",null,[E(A(a(t)("requirements-1a"))+" ",1),d("a",Vy,A(a(t)("requirements-1b")),1)]),d("li",null,A(a(t)("requirements-2")),1)])])]),_:1})]),d("div",Py,[v(py,{onGauge:o}),v(ky,{gauge:a(s)},null,8,["gauge"])])])}}});function Bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{process:{t:0,b:{t:2,i:[{t:3}],s:"<strong>veFunder</strong> process:"}},"process-1":{t:0,b:{t:2,i:[{t:3}],s:"Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."}},"process-2":{t:0,b:{t:2,i:[{t:3}],s:"Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."}},requirements:{t:0,b:{t:2,i:[{t:3}],s:"<strong>Gauge vote requirements:</strong>"}},"requirements-1a":{t:0,b:{t:2,i:[{t:3}],s:"New gauge votes must have a vote on the governance forum"}},"requirements-1b":{t:0,b:{t:2,i:[{t:3}],s:"at this address"}},"requirements-2":{t:0,b:{t:2,i:[{t:3}],s:"You must have a minimum of 2,500 veCRV to create this vote"}}}})}typeof Bo=="function"&&Bo(yr);const Fy=I(yr,[["__scopeId","data-v-1d11265e"]]),qy="/assets/header--BhHUuM7.png",Dy={},By=e=>(Y("data-v-c2ae5734"),e=e(),Z(),e),xy={class:"header"},My=By(()=>d("img",{class:"header-image",src:qy},null,-1)),Uy=[My];function Oy(e,t){return h(),S("div",xy,Uy)}const Ey=I(Dy,[["render",Oy],["__scopeId","data-v-c2ae5734"]]),Wy={class:"general"},Hy=["innerHTML"],wr=L({__name:"General",props:{model:{}},setup(e){const{t}=F(),s=y(()=>{var n;return(n=e.model)==null?void 0:n.crvLockedDollars}),o=y(()=>{var n;return(n=e.model)==null?void 0:n.crvLockedDollarsMonthly}),l=y(()=>{var n;return(n=e.model)==null?void 0:n.cvxTvl}),i=y(()=>{var n;return(n=e.model)==null?void 0:n.cvxVotingPercentage}),u=y(()=>{var n;return(n=e.model)==null?void 0:n.cvxMarketCap}),r=y(()=>{var n;return(n=e.model)==null?void 0:n.cvxMarketCapFullyDiluted});return(n,c)=>{const m=j;return h(),S("div",Wy,[d("div",{class:"title",innerHTML:a(t)("description")},null,8,Hy),d("ul",null,[d("li",null,[v(m,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("locked-1"))+" ",1),v(m,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("locked-2")),1)]),d("li",null,[v(m,{value:a(l),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("locked-2"))+" ",1),v(m,{value:a(i),precision:0,type:"percentage"},null,8,["value"]),E(" "+A(a(t)("locked-3")),1)]),d("li",null,[E(A(a(t)("mcap-1"))+" ",1),v(m,{value:a(u),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("mcap-2"))+" ",1),v(m,{value:a(r),precision:0,type:"dollar"},null,8,["value"]),E(". ")])])])}}});function xo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Total locked value, incentives &amp; market cap"}},"locked-1":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract, and is continuing to see a rate of about"}},"locked-2":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract per month."}},"locked-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"tvl-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex currently has about"}},"tvl-2":{t:0,b:{t:2,i:[{t:3}],s:"TVL and controls close to"}},"tvl-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"mcap-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex's market cap is just"}},"mcap-2":{t:0,b:{t:2,i:[{t:3}],s:"with a fully diluted valuation of"}}}})}typeof xo=="function"&&xo(wr);const Ky=I(wr,[["__scopeId","data-v-d85e4cfe"]]),Ny={class:"bribes"},zy={class:"title"},Cr=L({__name:"Bribes",props:{model:{}},setup(e){const{t}=F(),s=y(()=>{var l;return(l=e.model)==null?void 0:l.bribesIncomeAnnually}),o=y(()=>{var l;return(l=e.model)==null?void 0:l.bribesIncomeBiWeekly});return(l,i)=>{const u=j;return h(),S("div",Ny,[d("div",zy,A(a(t)("incentives")),1),d("ul",null,[d("li",null,A(a(t)("description")),1),d("li",null,[E(A(a(t)("annual-1"))+" ",1),v(u,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("annual-2")),1)]),d("li",null,[E(A(a(t)("biweek-1"))+" ",1),v(u,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),E(" "+A(a(t)("biweek-2")),1)])])])}}});function Mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{incentives:{t:0,b:{t:2,i:[{t:3}],s:"Incentives"}},description:{t:0,b:{t:2,i:[{t:3}],s:"CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."}},"annual-1":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders will potentially earn over"}},"annual-2":{t:0,b:{t:2,i:[{t:3}],s:"in incentives over a 1 year period."}},"biweek-1":{t:0,b:{t:2,i:[{t:3}],s:"Incentives to CVX holders are very likely to reach"}},"biweek-2":{t:0,b:{t:2,i:[{t:3}],s:"biweekly in the coming weeks (based on total rewards paid by Votium app)"}}}})}typeof Mo=="function"&&Mo(Cr);const Qy=I(Cr,[["__scopeId","data-v-227146bf"]]),jy="/assets/cvx-PJG1_7yb.png",Gy="/assets/cvxcrv-B_jSbKBn.png",kr=e=>(Y("data-v-e55a1ee6"),e=e(),Z(),e),Xy={class:"farm"},Yy={class:"title"},Zy={class:"values"},Jy={class:"cvx"},e2={class:"content"},t2={class:"value"},a2={class:"description"},s2=kr(()=>d("img",{class:"logo",src:jy},null,-1)),o2={class:"crv"},n2=kr(()=>d("img",{class:"logo",src:Gy},null,-1)),l2={class:"content"},r2={class:"value"},i2={class:"description"},$r=L({__name:"Farm",props:{model:{}},setup(e){const{t}=F(),s=new rn,{address:o}=St(),l=Ca(),i=P(void 0),u=y(()=>{var r;return(r=e.model)==null?void 0:r.cvxApr});return G(o,async()=>{const r=bi(l);if(!r)throw Error("Cannot create public viem client");const c=(await yc(r,s)).reduce((m,p)=>m+p,0)/2;i.value=c*100},{immediate:!0}),(r,n)=>{const c=j;return h(),S("div",Xy,[d("div",Yy,A(a(t)("income")),1),d("div",Zy,[d("div",Jy,[d("div",e2,[d("span",t2,[v(c,{value:a(u),precision:0,type:"percentage"},null,8,["value"]),E(" "+A(a(t)("apr")),1)]),d("span",a2,[E(A(a(t)("apr-1"))+" ",1),v(c,{value:a(u),precision:0,type:"percentage"},null,8,["value"]),E(" "+A(a(t)("apr-2")),1)])]),s2]),d("div",o2,[n2,d("div",l2,[d("span",r2,[v(c,{value:a(i),precision:0,type:"percentage"},null,8,["value"]),E(" "+A(a(t)("apr")),1)]),d("span",i2,[E(A(a(t)("staked"))+" ",1),v(c,{value:a(i),precision:0,type:"percentage"},null,8,["value"]),E(" "+A(a(t)("apr"))+". ",1)])])])])])}}});function Uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{income:{t:0,b:{t:2,i:[{t:3}],s:"Income"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}},"apr-1":{t:0,b:{t:2,i:[{t:3}],s:"Locked CVX earns"}},"apr-2":{t:0,b:{t:2,i:[{t:3}],s:"APR with incentives."}},staked:{t:0,b:{t:2,i:[{t:3}],s:"Staked cvxCRV earns"}}}})}typeof Uo=="function"&&Uo($r);const c2=I($r,[["__scopeId","data-v-e55a1ee6"]]);class u2 extends Ye{async getConvex(){const t="flyer-convex",s=await this.getHost();return this.fetch(`${s}/dashboard/${t}`)}async getAura(){const t="flyer-aura",s=await this.getHost();return this.fetch(`${s}/dashboard/${t}`)}}const d2={class:"flyer"},p2={class:"flyer-items"},m2=L({__name:"Flyer.page",setup(e){const t=new u2(Ge()),s=P(null);return pe(async()=>{const o=await Ct(t.getConvex());o.statusCode===200&&o.dashboard&&(s.value=o.dashboard)}),(o,l)=>(h(),S("div",d2,[d("div",p2,[v(Ey),v(c2,{model:a(s)},null,8,["model"]),v(Ky,{model:a(s)},null,8,["model"]),v(Qy,{model:a(s)},null,8,["model"])])]))}}),v2=I(m2,[["__scopeId","data-v-663596f1"]]),_2={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},h2={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},Pe=kt("convexStore",()=>{const e=P([]),t=P({}),s=P(_2),o=P([h2]);function l(i,u){t.value[i.name]=u}return{pools:e,snapshots:t,revenue:s,historicalRevenue:o,setSnapshots:l}});function f2(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const Sr=L({__name:"ChartApr",props:{poolSelected:{}},setup(e){const{t}=F(),s=Pe(),{theme:o}=O(W()),l=y(()=>s.snapshots[e.poolSelected.name]??[]),i=y(()=>le(o.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:n=>r(n)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:n=>{const c=n.w.globals.initialSeries[n.seriesIndex].data[n.dataPointIndex].snapshot;return[`<div><b>${t("base")}</b>:</div><div>${r(c.baseApr)}</div>`,`<div><b>${t("crv")}</b>:</div><div>${r(c.crvApr)}</div>`,`<div><b>${t("cvx")}</b>:</div><div>${r(c.cvxApr)}</div>`,`<div><b>${t("extra")}</b>:</div><div>${r(c.extraRewardsApr)}</div>`].join("")}}})),u=y(()=>[{name:"APR",data:l.value.map(n=>({x:n.timeStamp*1e3,y:f2(n),snapshot:n}))}]),r=n=>(n*=100,`${K(n,1,"percentage")}${H(n,"percentage")}`);return(n,c)=>{const m=me;return h(),T(m,{class:"apr",title:a(t)("title"),options:a(i),series:a(u)},null,8,["title","options","series"])}}});function Oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Annual Percentage Rate"}},base:{t:0,b:{t:2,i:[{t:3}],s:"Base"}},crv:{t:0,b:{t:2,i:[{t:3}],s:"CRV"}},cvx:{t:0,b:{t:2,i:[{t:3}],s:"CVX"}},exta:{t:0,b:{t:2,i:[{t:3}],s:"Extra"}}}})}typeof Oo=="function"&&Oo(Sr);const b2=I(Sr,[["__scopeId","data-v-ce5e61d2"]]),Ar=L({__name:"ChartTvl",props:{poolSelected:{}},setup(e){const{t}=F(),s=Pe(),{theme:o}=O(W()),l=y(()=>s.snapshots[e.poolSelected.name]??[]),i=y(()=>le(o.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:n=>r(n)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:n=>{const c=n.w.globals.initialSeries[n.seriesIndex].data[n.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${r(c)}</div>`}}})),u=y(()=>[{name:"tvl",data:l.value.map(n=>({x:n.timeStamp*1e3,y:n.tvl}))}]),r=n=>`$${K(n,1,"dollar")}${H(n,"dollar")}`;return(n,c)=>{const m=me;return h(),T(m,{class:"tvl",title:a(t)("title"),options:a(i),series:a(u)},null,8,["title","options","series"])}}});function Eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total Value Locked"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Eo=="function"&&Eo(Ar);const g2=I(Ar,[["__scopeId","data-v-343f3641"]]);function Wo(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const y2={class:"end"},w2={class:"end"},C2={key:0,class:"charts"},Tr=L({__name:"TablePools",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,l=Pe(),i=y(()=>["",{id:"name",label:s("name"),sort:!0},{id:"apr",label:s("apr"),sort:!0,align:"end"},{id:"tvl",label:s("tvl"),sort:!0,align:"end"}]),{sorting:u,onSort:r}=Je("tvl"),n=y(()=>l.pools.filter(c=>!mc(c.name)).orderBy(c=>{switch(u.value.column){case"name":return Me(c.name);case"apr":return Wo(c);case"tvl":return c.tvl;default:return c.tvl}},u.value.order));return(c,m)=>{const p=j,_=ae,f=U;return h(),T(f,{title:a(s)("title")},{default:w(()=>[v(_,{class:"pools-table",rows:a(n),columns:a(i),sorting:a(u),expanded:c.expanded,onSortColumn:a(r),onSelected:m[0]||(m[0]=b=>o("selected",b))},{row:w(b=>[d("div",null,A(a(Me)(b.item.name)),1),d("div",y2,[v(p,{value:a(Wo)(b.item)*100,precision:1,type:"percentage"},null,8,["value"])]),d("div",w2,[v(p,{value:b.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":w(b=>[c.expanded.includes(b.item)?(h(),S("div",C2,[v(a(g2),{class:"tvl","pool-selected":b.item},null,8,["pool-selected"]),v(a(b2),{class:"apr","pool-selected":b.item},null,8,["pool-selected"])])):D("",!0)]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function Ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Convex Pools"}},name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Ho=="function"&&Ho(Tr);const k2=I(Tr,[["__scopeId","data-v-c568ea29"]]);class $2 extends Ye{async get(){const t=await this.getHost();return this.fetch(`${t}/pool`)}}class S2 extends Ye{async get(t){const s=await this.getHost();return this.fetch(`${s}/poolsnapshots`,{pool:t.name})}}const A2={class:"pools"},T2={class:"dashboard"},L2=L({__name:"Pools.page",setup(e){let t=!1;const s=new $2(Ge()),o=new S2(Ge()),l=Pe(),i=ye("pool"),u=Ue(),{expanded:r,toggleExpansion:n}=Xt();pe(async()=>{t=!0;const _=await Ct(s.get());if(_){const f=_.pools;if(f.sort((b,g)=>g.tvl-b.tvl),l.pools=f.filter(b=>b.tvl>1e3),!t)return;i.value&&m(i.value)}}),ya(()=>{t=!1});const c=async _=>{if(!_||l.snapshots[_.name])return;const f=await Ct(o.get(_),500);if(f){const b=f.data.snapshots;l.setSnapshots(_,b)}},m=_=>{const f=Sa(_),b=l.pools.find(g=>g.name===f);b&&n(b)&&c(b)},p=async _=>{n(_)&&(c(_),await u.push({name:"convexpools",params:{pool:Me(_.name)}}))};return(_,f)=>(h(),S("div",A2,[d("div",T2,[v(k2,{class:"pools-table",expanded:a(r),onSelected:p},null,8,["expanded"])])]))}}),I2=I(L2,[["__scopeId","data-v-00ce4f09"]]),R2="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",V2="https://api-py.llama.airforce/convex/v1/platform/revenue";class P2 extends Ae{get(){return this.fetch(V2).then(t=>t.revenue[0])}}class F2 extends Ae{get(){return this.fetch(R2).then(t=>t.revenue)}}const q2=L({__name:"RevenueSources",setup(e){const t=Pe(),{theme:s}=O(W()),o=y(()=>[{source:"CRV",value:t.revenue.totalCrvRevenue},{source:"3CRV",value:t.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:t.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:t.revenue.totalOtherRevenue},{source:"Bribes",value:t.revenue.totalBribeRevenue}]),l=y(()=>{const{colors:r}=s.value;return le(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(n){return Math.round(n).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[r.blue,r.green,r.purple,r.yellow,r.red],labels:o.value.map(n=>n.source)})}),i=y(()=>o.value.map(r=>r.value)),u=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"breakdown-revenue",options:a(l),series:a(i)},null,8,["options","series"])}}}),D2=L({__name:"LPRevenue",setup(e){const t=Pe(),{theme:s}=O(W()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToLpProvidersAmount)},{name:"CVX",data:t.historicalRevenue.map(r=>r.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToLpProvidersAmount)}]),l=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),i=y(()=>{const{colors:r}=s.value;return le(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:l.value.map(n=>n.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.yellow,r.purple],labels:o.value.map(n=>n.name)})}),u=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"lp-revenue",options:a(i),series:a(o)},null,8,["options","series"])}}}),B2=L({__name:"HolderRevenue",setup(e){const t=Pe(),{theme:s}=O(W()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToCvxStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(r=>r.bribeRevenue)}]),l=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),i=y(()=>{const{colors:r}=s.value;return le(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:l.value.map(n=>n.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.purple,r.red],labels:o.value.map(n=>n.name)})}),u=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"holder-revenue",options:a(i),series:a(o)},null,8,["options","series"])}}}),x2=L({__name:"HistoricalRevenue",setup(e){const t=Pe(),{theme:s}=O(W()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.totalCrvRevenue)},{name:"FXS",data:t.historicalRevenue.map(r=>r.totalFxsRevenue)},{name:"3CRV",data:t.historicalRevenue.map(r=>r.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(r=>r.bribeRevenue)},{name:"Others",data:t.historicalRevenue.map(r=>r.otherRevenue)}]),l=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),i=y(()=>{const{colors:r}=s.value;return le(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:l.value.map(n=>n.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.purple,r.green,r.red,r.yellow],labels:o.value.map(n=>n.name)})}),u=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"historical-revenue",options:a(i),series:a(o)},null,8,["options","series"])}}}),M2=L({__name:"LiquidRevenue",setup(e){const t=Pe(),{theme:s}=O(W()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:t.historicalRevenue.map(r=>r.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:t.historicalRevenue.map(r=>r.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToCvxFxsStakersAmount)}]),l=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),i=y(()=>{const{colors:r}=s.value;return le(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:l.value.map(n=>n.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.yellow,r.green,r.purple],labels:o.value.map(n=>n.name)})}),u=r=>`$${K(Math.abs(r),1,"dollar")}${H(r,"dollar")}`;return(r,n)=>{const c=me;return h(),T(c,{class:"liquid-revenue",options:a(i),series:a(o)},null,8,["options","series"])}}}),U2={class:"summary"},Lr=L({__name:"Summary",setup(e){const{t}=F(),s=Pe(),o=y(()=>s.revenue.totalBribeRevenue+s.revenue.totalThreeCrvRevenueToCvxCrvStakers+s.revenue.totalCrvRevenue+s.revenue.totalFxsRevenue+s.revenue.totalOtherRevenue),l=y(()=>s.revenue.totalCrvRevenueToLpProviders+s.revenue.totalFxsRevenueToLpProviders+s.revenue.totalCvxRevenueToLpProviders),i=y(()=>s.revenue.totalCrvRevenueToPlatform+s.revenue.totalFxsRevenueToPlatform+s.revenue.totalFxsRevenueToCallers+s.revenue.totalOtherRevenue),u=y(()=>s.revenue.totalBribeRevenue+s.revenue.totalCrvRevenueToCvxStakers+s.revenue.totalFxsRevenueToCvxStakers),r=y(()=>s.revenue.totalCrvRevenueToCvxCrvStakers+s.revenue.totalCvxRevenueToCvxCrvStakers+s.revenue.totalFxsRevenueToCvxFxsStakers+s.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(n,c)=>{const m=j,p=be;return h(),S("div",U2,[v(p,{class:"all-time-revenue",label:a(t)("all-time-revenue"),"has-value":!!a(o)},{default:w(()=>[v(m,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{class:"lp-revenue",label:a(t)("lp-revenue"),"has-value":!!a(l)},{default:w(()=>[v(m,{value:a(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{class:"holder",label:a(t)("holder-revenue"),"has-value":!!a(u)},{default:w(()=>[v(m,{value:a(u),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{class:"liquid-revenue",label:a(t)("liquid-revenue"),"has-value":!!a(r)},{default:w(()=>[v(m,{value:a(r),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{class:"protocol-revenue",label:a(t)("protocol-revenue"),"has-value":!!a(i)},{default:w(()=>[v(m,{value:a(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function Ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"all-time-revenue":{t:0,b:{t:2,i:[{t:3}],s:"All time total revenue"}},"lp-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for LPs (incl. CVX emissions)"}},"protocol-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue directed to Convex treasury"}},"holder-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for CVX lockers"}},"liquid-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for liquid lockers (cvxCRV, cvxFXS)"}}}})}typeof Ko=="function"&&Ko(Lr);const O2=I(Lr,[["__scopeId","data-v-3b24a3c5"]]),E2={class:"revenue"},W2={class:"revenue-charts"},Ir=L({__name:"Revenue.page",setup(e){const{t}=F(),s=new P2,o=new F2;let l=!1;const i=Pe(),u=P(!1);return gi(async()=>{if(l)return;l=!0,u.value=!0;const r=await s.get();r&&(i.revenue=r);const n=await o.get();n&&(i.historicalRevenue=n),u.value=!1,l=!1}),ya(()=>{l=!1}),(r,n)=>{const c=Xe;return h(),S("div",E2,[d("div",{class:M(["dashboard",{loading:a(u)}])},[a(u)?(h(),T(c,{key:0,class:"spinner"})):D("",!0),d("div",W2,[v(O2,{class:"summary"}),v(q2,{class:"chart-revenue-sources",title:a(t)("revenue-breakdown")},null,8,["title"]),v(x2,{class:"chart-historical-revenue",title:a(t)("revenue-historical")},null,8,["title"]),v(D2,{class:"chart-lp-revenue",title:a(t)("revenue-lp")},null,8,["title"]),v(B2,{class:"chart-holder-revenue",title:a(t)("revenue-holder")},null,8,["title"]),v(M2,{class:"chart-liquid-revenue",title:a(t)("revenue-liquid")},null,8,["title"])])],2)])}}});function No(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"revenue-breakdown":{t:0,b:{t:2,i:[{t:3}],s:"Breakdown of total revenue by source"}},"revenue-lp":{t:0,b:{t:2,i:[{t:3}],s:"Liquidity providers rewards breakdown"}},"revenue-holder":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders rewards breakdown"}},"revenue-historical":{t:0,b:{t:2,i:[{t:3}],s:"Historical total revenue breakdown"}},"revenue-liquid":{t:0,b:{t:2,i:[{t:3}],s:"Liquid lockers rewards breakdown"}}}})}typeof No=="function"&&No(Ir);const H2=I(Ir,[["__scopeId","data-v-a63eaf11"]]),K2={class:"item"},N2={class:"label"},z2=L({__name:"SelectToken",props:De({tokens:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:De(["select"],["update:modelValue"]),setup(e,{emit:t}){const s=t,o=pt(e,"modelValue"),l=P(!1),i=()=>{l.value=!l.value},u=r=>{s("select",r)};return G(()=>e.tokens,()=>{e.tokens.length>0&&u(e.tokens[0])},{immediate:!0}),(r,n)=>{const c=Ve,m=At;return h(),T(m,{class:"select",options:r.tokens,selected:o.value,open:a(l),onOpen:i,onClose:n[0]||(n[0]=p=>l.value=!1),onInput:u},{item:w(({item:{address:p,symbol:_}})=>[d("div",K2,[v(c,{class:"icon",address:p},null,8,["address"]),d("div",N2,A(_??"?"),1)])]),_:1},8,["options","selected","open"])}}}),Q2=I(z2,[["__scopeId","data-v-3b11c816"]]);let da;function j2(){return da||(da=Ql({url:"wss://api.defimonitor.com/main"})),da}class G2{constructor(t,s){Jt(this,"transfers$");this.socket=t,this.transfers$=(s==null?void 0:s.transfers$)??Mg(t,"NewTransfersForToken")}subTransfers(t){this.socket.emit("connectToGeneralErc20Livestream",t)}}const wt=new Map,Rr=new yi(void 0),ha=e=>JSON.stringify(e);function X2({queryKey:e,queryFn:t,enabled:s,observable:o,setQueryData:l,resetOnSubscribe:i}){const u=Jo(),r=y(()=>s.value&&!!o.value),n=z({queryKey:e,queryFn:()=>new Promise((c,m)=>{i&&u.setQueryData(e.value,null);const p=ha(e.value);let _=wt.get(p);const f=_==null?void 0:_.subscription;f==null||f.unsubscribe(),_={subscription:o.value.subscribe({next:b=>{const g=u.getQueryData(e),C=l(g,b);u.setQueryData(e.value,C),c(C)},error:b=>{m(b instanceof Error?b:new Error(String(b)))}}),users:new Set},wt.set(p,_),Rr.next(_),t()}),enabled:r,staleTime:1/0});return G(o,async(c,m)=>{m&&c!==m&&await u.invalidateQueries({queryKey:e})}),Y2(e,r),n}function Y2(e,t){const s=Jo(),o=wc(),l=Rr.subscribe(u=>{u&&t.value&&u.users.add(o)});G(t,async u=>{if(!u)await i(e.value);else{const r=ha(e.value),n=wt.get(r);n&&n.users.add(o)}}),G(e,async(u,r)=>{await i(r)}),Et(async()=>{await i(e.value),l.unsubscribe()});async function i(u){const r=ha(u),n=wt.get(r);n&&(n.users.delete(o),n.users.size===0&&(n.subscription.unsubscribe(),wt.delete(r),await s.invalidateQueries({queryKey:u})))}return i}function Z2(e){const{socket:t,isConnected:s,url:o}=j2(),l=y(()=>t.value?new G2(t.value):null),i=y(()=>["defimonitor-transfers",o.value,e.value]);return X2({queryKey:i,queryFn:()=>{var r;return(r=l.value)==null?void 0:r.subTransfers(e.value)},enabled:s,observable:y(()=>{var r;return(r=l.value)==null?void 0:r.transfers$}),setQueryData:(r,n)=>[...r??[],...n.transfers.flat().filter(c=>c.coinAddress.toLocaleLowerCase()===e.value.toLocaleLowerCase())].takeRight(200),resetOnSubscribe:!0})}const Vr=e=>(Y("data-v-966ca3bc"),e=e(),Z(),e),J2={style:{display:"flex",gap:"1rem"}},ew={class:"transfers-card-body"},tw={class:"transfers-options"},aw={class:"option"},sw=Vr(()=>d("div",{class:"label"},"Token",-1)),ow={class:"option"},nw=Vr(()=>d("div",{class:"label"},"Min Amount",-1)),lw={class:"hash"},rw=["href"],iw=["href"],cw=["href"],uw=["href"],dw={class:"token"},pw=["href"],mw={class:"end"},vw=["href"],pa=10,Pr=L({__name:"TableTransfers",setup(e){const{t}=F(),s=[{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC"}],o=P(s[0]),l=P(0),i=y(()=>{const C=l.value;return typeof C=="string"?parseFloat(C)||0:C||0}),{data:u,isFetching:r}=Z2(y(()=>o.value.address)),{relativeTime:n}=Ze(),c=P(""),m=y(()=>(u.value??[]).filter(C=>{const k=c.value.toLocaleLowerCase().split(" "),$=V=>k.some(R=>V.toLocaleLowerCase().includes(R));return($(C.transferFrom)||$(C.transferTo))&&C.parsedAmount>=i.value}).orderBy([C=>C.blockUnixtime,C=>C.positionInBlock],"desc")),{page:p,rowsPage:_,onPage:f}=Gt(m,pa),b=C=>C<1?C.toFixed(4):C>1e3?C.toFixed(0):C.toFixed(2),g=async C=>{await navigator.clipboard.writeText(C)};return(C,k)=>{const $=Re,V=Oe,R=Q2,q=Ma,B=we,Q=Ve,de=ae,Ke=U;return h(),T(Ke,{class:"transfers-card",title:a(t)("title"),loading:a(r)},{actions:w(()=>[d("div",J2,[v($,{modelValue:a(c),"onUpdate:modelValue":k[0]||(k[0]=x=>ne(c)?c.value=x:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(m).length>pa?(h(),T(V,{key:0,"items-count":a(m).length,"items-per-page":pa,page:a(p),onPage:a(f)},null,8,["items-count","page","onPage"])):D("",!0)])]),default:w(()=>[d("div",ew,[d("div",tw,[d("div",aw,[sw,v(R,{modelValue:a(o),"onUpdate:modelValue":k[1]||(k[1]=x=>ne(o)?o.value=x:null),tokens:s,onSelect:k[2]||(k[2]=x=>o.value=x)},null,8,["modelValue"])]),d("div",ow,[nw,v(q,{modelValue:a(l),"onUpdate:modelValue":k[3]||(k[3]=x=>ne(l)?l.value=x:null),min:0,max:1/0},null,8,["modelValue"])])]),v(de,{class:"transfers-table",rows:a(_),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}]},{row:w(({item:x})=>[d("div",lw,[d("a",{class:"font-mono",href:`https://etherscan.io/tx/${x.txHash}`,target:"_blank"},A(a(Dc)(x.txHash,10)),9,rw),v(B,{icon:"fas fa-link",onClick:ve=>g(x.txHash)},null,8,["onClick"])]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/block/${x.blockNumber}`,target:"_blank"},A(x.blockNumber),9,iw)]),d("div",null,A(x.gasInGwei),1),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/address/${x.transferFrom}`,target:"_blank"},A(a(Se)(x.transferFrom,10)),9,cw)]),d("div",null,[d("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${x.transferTo}`,target:"_blank"},A(a(Se)(x.transferTo,10)),9,uw)]),d("div",null,A(b(x.parsedAmount)),1),d("div",dw,[v(Q,{chain:"ethereum",address:x.coinAddress},null,8,["address"]),d("a",{target:"_blank",href:`https://etherscan.io/address/${x.coinAddress}`},A(x.coinSymbol),9,pw)]),d("div",mw,[d("a",{href:`https://etherscan.io/tx/${x.txHash}`,target:"_blank",onClick:k[4]||(k[4]=Ie(()=>{},["stop"]))},A(a(n)(x.blockUnixtime)),9,vw)])]),_:1},8,["rows"])])]),_:1},8,["title","loading"])}}});function zo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transfers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof zo=="function"&&zo(Pr);const _w=I(Pr,[["__scopeId","data-v-966ca3bc"]]),hw={class:"transfers"},fw=L({__name:"Transfers",setup(e){return(t,s)=>(h(),S("div",hw,[v(_w,{style:{"grid-area":"transfers"}})]))}}),bw=I(fw,[["__scopeId","data-v-74e96c37"]]),gw={class:"monitor"},yw=L({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:s}=vt(["transfers"],"defimonitor");return(o,l)=>{const i=We,u=Ee;return h(),S("div",gw,[v(u,{active:a(s),onTab:l[0]||(l[0]=r=>s.value=r.index)},{default:w(()=>[v(i,{header:"Transfers"},{default:w(()=>[(h(),T(fe,null,[a(t)==="transfers"?(h(),T(bw,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),ww=I(yw,[["__scopeId","data-v-2a89a41c"]]),Cw=[{path:"/",component:Qp},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:$m},{path:"/platform/pools/:chain?",name:"pools",component:dv},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:Fv},{path:"/platform/gauges/old",component:Hv},{path:"/platform/revenue/:tab?",name:"revenue",component:Ph},{path:"/platform/crvusd",name:"crvusd",component:Vf},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:Bb},{path:"/platform/lending/:chain?",name:"llamalend",component:lg},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:xg},{path:"/platform/monitor",name:"monitor",component:m1},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:ey},{path:"/dao/proposal/:proposalType/:proposalId",component:sy},{path:"/dao/vefunder",component:Fy},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:v2},{path:"/convex/pools/:pool?",name:"convexpools",component:I2},{path:"/convex/revenue",name:"convexrevenue",component:H2},{path:"/defimonitor",name:"defimonitor",component:ww}],kw={titleRoute:"/",menuItems:[{label:"Articles",url:"https://blog.curvemonitor.com/"},{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]};let Fr="http://localhost:8545";Fr=void 0;const $w=wi({chains:[je],connectors:[Qa(),Ci({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),ki()],transports:{[je.id]:$i([ja(Fr,{batch:{wait:100}}),Si(Qa),ja("https://eth.llamarpc.com",{batch:{wait:200}})])}});function Sw(e){const t=Ai(e),s=Ti({legacy:!1,locale:"en",fallbackLocale:"en"});t.use(s);const o=Li();t.use(o);const l=new Ii({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ri}},queryCache:new Vi({onError:(i,u)=>{i.message.includes("Connector not connected")||i.message.includes("connector2.getAccounts is not a function")||i.message.includes("getAccounts is not a function")||Le({text:`Failed querying ${u.queryHash} >>> ${i.message}`,type:"error"})}})});return t.use(Pi).use(Fi,{queryClient:l}).use(qi).use(Di,{config:$w}),{app:t,pinia:o}}const{app:Aw}=Sw(zu),Tw=[kw],Lw=[Cw],qr=La();qr.pages=Tw;qr.routes=Lw;const Iw=bd();Aw.use(Iw).mount("#app");

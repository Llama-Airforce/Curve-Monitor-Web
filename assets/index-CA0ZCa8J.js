import{o as g,c as L,p as de,a as pe,b as p,d as P,e as V,n as O,f as B,g as z,t as T,r as oe,w as S,h as _,T as ai,F as se,i as he,j as ba,k as oi,l as si,m as F,q as ni,D as Ht,u as ga,s as R,v as w,x,y as Ke,z as o,A as li,B as ri,C as ii,E as bt,G as rn,H as Ae,I as M,J as le,K as ya,L as Nt,M as ci,N as ui,O as di,P as pi,Q as Qe,R as $e,S as Oe,V as mi,U as vi,W as cn,X as un,Y as hi,Z as _i,_ as ze,$ as Kt,a0 as Ce,a1 as fi,a2 as bi,a3 as gi,a4 as yi,a5 as wi,a6 as Le,a7 as Z,a8 as ft,a9 as E,aa as ue,ab as dn,ac as pn,ad as mn,ae as it,af as zt,ag as ce,ah as $i,ai as Ci,aj as ye,ak as Qt,al as ki,am as Si,an as Li,ao as H,ap as Se,aq as wa,ar as Ti,as as Ai,at as Pi,au as Et,av as $a,aw as vn,ax as _t,ay as Qa,az as ja,aA as Ca,aB as ka,aC as Ii,aD as hn,aE as _n,aF as Ga,aG as Vi,aH as Ri,aI as qi,aJ as Di,aK as Fi,aL as Mi,aM as xi,aN as Bi,aO as Oi,aP as Ui,aQ as Ei,aR as Wi,aS as Hi,aT as Ni,aU as Ki,aV as zi,aW as Qi}from"./vendor-C-zWN8CM.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();const I=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},ji={},fn=e=>(de("data-v-ad2adcec"),e=e(),pe(),e),Gi={class:"lds-ripple"},Xi=fn(()=>p("div",null,null,-1)),Yi=fn(()=>p("div",null,null,-1)),Zi=[Xi,Yi];function Ji(e,t){return g(),L("div",Gi,Zi)}const Ue=I(ji,[["render",Ji],["__scopeId","data-v-ad2adcec"]]),ec=["inert"],tc={class:"text"},ac=P({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(e){return(t,a)=>{const s=Ue;return g(),L("div",{class:"card",inert:!!t.loading},[t.loading!==null?(g(),V(s,{key:0,class:O(["loader",{loading:t.loading}])},null,8,["class"])):B("",!0),p("div",{class:O(["card-container",{loading:t.loading}])},[t.title?(g(),L("div",{key:0,class:O(["card-header",{collapsible:t.collapsible}])},[p("div",tc,[t.icon?(g(),L("i",{key:0,class:O(["icon",t.icon])},null,2)):B("",!0),z(" "+T(t.title),1)]),oe(t.$slots,"actions",{},void 0,!0)],2)):(g(),L("div",{key:1,class:O(["card-no-header",{compact:t.compact}])},null,2)),p("div",{class:O(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[oe(t.$slots,"default",{},void 0,!0)],2)],2)],8,ec)}}}),Y=I(ac,[["__scopeId","data-v-7d5bd921"]]),oc={key:0,class:"fas fa-chevron-right"},sc=P({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const a=t,s=l=>{var i;const c=e.active?e.active.id===l.id:((i=e.crumbs.filter(r=>!r.hint).at(-1))==null?void 0:i.id)===l.id;return l.hint??c},n=l=>{var c;return((c=e.crumbs.at(-1))==null?void 0:c.id)===l.id};return(l,c)=>{const i=Y;return g(),V(i,null,{default:S(()=>[_(ai,{name:"fade",tag:"ul"},{default:S(()=>[(g(!0),L(se,null,he(l.crumbs,r=>(g(),L("li",{key:r.id},[(g(),V(ba(s(r)?"span":"a"),{class:O({active:s(r),hint:r.hint}),onClick:d=>a("crumb",r)},{default:S(()=>[z(T(r.label),1)]),_:2},1032,["class","onClick"])),!n(r)||l.crumbs.length===1?(g(),L("i",oc)):B("",!0)]))),128))]),_:1})]),_:1})}}}),nc=I(sc,[["__scopeId","data-v-1c1116d3"]]),lc={class:"collapsible-inside"},rc=P({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,a)=>(g(),L("div",{class:O(["collapsible-outside",{expanded:t.expanded}])},[p("div",lc,[oe(t.$slots,"default",{},void 0,!0)])],2))}}),$t=I(rc,[["__scopeId","data-v-25b74378"]]),ic={class:"badge"},cc={class:"label"},uc=P({__name:"Badge",props:{label:{default:""}},setup(e){return(t,a)=>(g(),L("div",ic,[p("div",cc,T(t.label),1)]))}}),dc=I(uc,[["__scopeId","data-v-79abf25e"]]);function Vt(e){return(e==null?void 0:e.children)!==void 0}function Xa(e){return(e==null?void 0:e.to)!==void 0}function pc(e,t,a){return e.reduce((s,n)=>({...s,[t(n)]:a(n)}),{})}function mc(e){return e!=null}function vc(e){function t(f){return f<10?"0"+f.toString():f.toString()}const a=e.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const s=1e3,n=s*60,l=n*60,c=l*24,i=Math.floor(a/c),r=Math.floor(a%c/l),d=Math.floor(a%l/n),u=Math.floor(a%n/s);return t(i)+":"+t(r)+":"+t(d)+":"+t(u)}function He(e,t=0,a=".",s=","){const n=isFinite(+e)?+e:0,l=isFinite(+t)?Math.abs(t):0,c=typeof s>"u"?",":s,i=typeof a>"u"?".":a,r=function(u,f){const m=Math.pow(10,f);return Math.round(u*m)/m},d=(l?r(n,l):Math.round(n)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(d[1]||"").length<l&&(d[1]=d[1]||"",d[1]+=new Array(l-d[1].length+1).join("0")),d.join(i)}function Q(e,t){const a=Math.abs(e);return t==="percentage"?"%":t==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function j(e,t,a){const s=Math.abs(e);return t===1/0?e.toLocaleString():a==="percentage"?He(e,t):a==="dollar"?s>=1*10**12?He(e/10**12,t):s>=1*10**9?He(e/10**9,t):s>=1*10**6?He(e/10**6,t):s>=1*10**3?He(e/10**3,t):He(e,t):e.toString()}function Ne(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function Be(e,t){return parseFloat(oi(e,Number(t)))}function Sa(e,t){return si(e.toFixed(Number(t)),Number(t))}const bn={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},na=["tricrypto","usdm"];function Fe(e){const t=bn[e];return t||e}function La(e){const t=F.invert(bn)[e];return t||e}function hc(e){return!!(na.find(t=>t===e)??na.find(t=>t===Fe(e))??na.find(t=>t===La(e)))}async function gt(e,t=250){const a=new Promise(n=>setTimeout(()=>{n(null)},t)),[,s]=await Promise.all([a,e]);return s}function va(e,t){return(Array.isArray(e)?e:[e]).some(s=>t.path.startsWith(s))}const Ta="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",_c="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",fc="0x657ce046d98d163ef4f846210f25919fa7b31944",Ya="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",gn="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",yn="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Ze="0xe478de485ad2fe566d49342cbd03e49ed7db3356",bc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",gc=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],yc={laf:"https://api.llama.airforce"};async function wc(e,t,a){try{const s=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:a});if(s.ok)return s;throw new Error(`Fetch error ${s.status} for URL: ${e}`)}catch(s){throw s instanceof Error?s:new Error("Unknown fetch error")}}async function $c(e,t,a){return await(await wc(e,t,a)).json()}class ke{async fetch(t,a,s){return $c(t,a,s)}}class Ct extends ke{constructor(t){super(),this.host=t}async getHost(){return await this.host}}class wn extends ke{async getPrice(t){const a=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins[a])}async getPrices(t){const a=t.map(s=>`ethereum:${s}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins)}}async function Cc(e,t,a){const s=ni({abi:gc,address:bc,client:e}),n=await s.read.mainRewardRates().then(([f,m])=>F.zip(f,m)),l=await s.read.extraRewardRates().then(([f,m])=>F.zip(f,m)),c=F.chain(n).concat(l).filter(f=>f[1]>0).groupBy(f=>f[0]).map((f,m)=>({address:m,rate:f.reduce((v,h)=>v+h[1],BigInt(0))})).value(),i=F.chain(c).map(f=>f.address).concat([Ya]).uniq().value(),r=await t.getPrices(i).then(f=>pc(Object.keys(f).map(m=>({address:m.replace("ethereum:","").toLocaleLowerCase(),price:f[m].price})),m=>m.address,m=>Sa(m.price,18n))),d=[],u=r[Ya];for(const f of c){const m=await s.read.apr([f.rate,r[f.address.toLocaleLowerCase()],u]),v=Be(m,18n);d.push(v)}return d}function $n(e){return e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message}function Za(e){Ht({text:e,type:"success"})}function la(e){const t=e instanceof Error?$n(e):JSON.stringify(e);Ht({text:t,type:"error"})}async function Cn(e,t){e.value=!0;try{return await t()}catch(a){const s=a instanceof Error?$n(a):JSON.stringify(a);Ht({text:s,type:"error"});return}finally{e.value=!1}}const kc={key:0},Sc={class:"nav-link-container"},Lc={class:"nav-link-container"},Tc={class:"left"},Ac={key:0,class:"icon"},Pc={class:"right"},Ic=P({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=ga(),n=R(!0),l=w(()=>Xa(e.item)?[e.item]:Vt(e.item)?e.item.children:[]),c=()=>{Vt(e.item)&&e.item.children.filter(u=>va(u.to,s)).length>0&&(n.value=!0)},i=d=>typeof d.label=="string"?d.label:d.label();x(()=>e.item,d=>{Vt(d)&&(n.value=!d.initCollapsed),c()},{immediate:!0}),x(()=>s.fullPath,()=>{c()},{immediate:!0});const r=()=>{n.value=!n.value};return(d,u)=>{const f=dc,m=Ke("router-link"),v=$t;return g(),L(se,null,[o(Vt)(d.item)?(g(),L("li",kc,[p("a",{class:"nav-link node",onClick:r},[p("div",Sc,[z(T(d.item.label)+" ",1),p("i",{class:O(["expander fas fa-chevron-up",{expanded:o(n)}])},null,2)])])])):B("",!0),_(v,{class:"items",expanded:o(n)},{default:S(()=>[p("ul",null,[(g(!0),L(se,null,he(o(l),h=>(g(),L("li",{key:i(h)},[o(Xa)(h)?(g(),V(m,{key:0,to:h.to,class:O(["nav-link leaf",{"router-link-active":o(va)(h.to,o(s))}]),onClick:u[0]||(u[0]=b=>a("navigated"))},{default:S(()=>[p("div",Lc,[p("div",Tc,[h.icon?(g(),L("div",Ac,[p("i",{class:O(h.icon)},null,2)])):B("",!0),z(" "+T(i(h)),1)]),p("div",Pc,[h.tag?(g(),V(f,{key:0,label:h.tag},null,8,["label"])):B("",!0)])])]),_:2},1032,["to","class"])):B("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Vc=I(Ic,[["__scopeId","data-v-35101021"]]),Rc=P({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=ga(),n=w(()=>e.pages.find(i=>va(i.titleRoute,s))),l=w(()=>{var i;return((i=n.value)==null?void 0:i.menuItems)??[]}),c=i=>typeof i.label=="string"?i.label:i.label();return(i,r)=>(g(),L("nav",null,[(g(!0),L(se,null,he(o(l),d=>(g(),L("ul",{key:c(d)},[_(Vc,{item:d,onNavigated:r[0]||(r[0]=u=>a("navigated"))},null,8,["item"])]))),128))]))}}),qc=I(Rc,[["__scopeId","data-v-6a18bfcc"]]);function kt(){const{address:e,isConnected:t,chainId:a}=li(),s=ri(),n=w(()=>s.data.value&&e.value?e.value.toLocaleLowerCase():void 0),l=w(()=>{switch(a.value){case bt.id:return"ethereum";case ii.id:return"base";default:return}});return{isConnected:t,network:l,address:n}}function Pe(e,t=6){if(!e)return"0x000...000";const a=t/2+2,s=e.length-t/2;return`${e.substring(0,a)}...${e.substring(s)}`}const Dc=P({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const a=t,{network:s}=kt(),{switchChain:n}=rn(),l=c=>{c.stopImmediatePropagation(),e.web3&&s.value!=="ethereum"&&n({chainId:bt.id}),a("click")};return(c,i)=>(g(),L("button",{class:O({primary:c.primary}),onClick:l},[oe(c.$slots,"default",{},()=>[c.icon?(g(),L("i",{key:0,class:O(["icon",[c.icon,{noValue:!!c.value}]])},null,2)):B("",!0),z(" "+T(c.value),1)],!0)],2))}}),Ie=I(Dc,[["__scopeId","data-v-f96045cf"]]),Fc="/assets/crv-CKEIQw2g.png",Mc="/assets/hat-D1qfnSjv.png",xc={},kn=e=>(de("data-v-c65244ad"),e=e(),pe(),e),Bc={class:"logo"},Oc=kn(()=>p("div",{class:"visual"},[p("img",{src:Fc}),p("img",{src:Mc})],-1)),Uc=kn(()=>p("span",null,"curve.monitor",-1)),Ec=[Oc,Uc];function Wc(e,t){return g(),L("div",Bc,Ec)}const Hc=I(xc,[["render",Wc],["__scopeId","data-v-c65244ad"]]),Nc={class:"header"},Kc={class:"buttons"},zc=P({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const a=t;return(s,n)=>{const l=Ke("router-link"),c=Ie;return g(),L("div",Nc,[_(l,{class:"logo",to:"/",onClick:n[0]||(n[0]=i=>a("navigated"))},{default:S(()=>[_(Hc,{class:"logo"})]),_:1}),p("div",Kc,[_(c,{icon:"fas fa-bars",onClick:n[1]||(n[1]=i=>a("toggle-expansion"))})])])}}}),Qc=I(zc,[["__scopeId","data-v-edc55270"]]),jc=e=>(de("data-v-9d368235"),e=e(),pe(),e),Gc={class:"select"},Xc={class:"item"},Yc={key:0,class:"label"},Zc=["onClick"],Jc=jc(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),eu=P({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(e,{emit:t}){const a=t;return(s,n)=>(g(),L("div",{class:"select-container",tabindex:"0",onClick:n[0]||(n[0]=Ae(l=>a("open"),["stop"])),onBlur:n[1]||(n[1]=l=>a("close"))},[p("div",Gc,[p("div",{class:O(["selected",{open:s.open}])},[oe(s.$slots,"item",{item:s.selected},()=>[p("div",Xc,T(s.selected),1)],!0),s.label?(g(),L("div",Yc,T(s.label),1)):B("",!0)],2),p("div",{class:O(["items",{selectHide:!s.open}])},[(g(!0),L(se,null,he(s.options,(l,c)=>(g(),L("div",{key:c,onClick:i=>a("input",l)},[oe(s.$slots,"item",{item:l},()=>[z(T(l),1)],!0)],8,Zc))),128))],2)]),Jc],32))}}),ct=I(eu,[["__scopeId","data-v-9d368235"]]),tu=["en","zh","fr"],au={class:"item"},ou={class:"label"},Ja="locale",Sn=P({__name:"SelectLanguage",props:{locales:{default:()=>tu},direction:{default:"up"}},setup(e){const{t}=M(),{locale:a}=M({useScope:"global"}),s=R("en"),n=R(!1);le(()=>{const i=localStorage.getItem(Ja);i&&e.locales.some(r=>r===i)&&c(i)});const l=()=>{n.value=!n.value},c=i=>{s.value=i,a.value=s.value,localStorage.setItem(Ja,s.value)};return(i,r)=>{const d=ct;return g(),V(d,{class:O(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(u=>u),selected:o(s),open:o(n),onOpen:l,onClose:r[0]||(r[0]=u=>n.value=!1),onInput:c},{item:S(u=>[p("div",au,[p("div",ou,T(o(t)(u.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{en:{t:0,b:{t:2,i:[{t:3}],s:"English"}},zh:{t:0,b:{t:2,i:[{t:3}],s:"中文"}},fr:{t:0,b:{t:2,i:[{t:3}],s:"Français"}}}})}typeof eo=="function"&&eo(Sn);const su=I(Sn,[["__scopeId","data-v-579b2543"]]),nu={key:0,class:"modal"},lu={class:"modal-popup"},ru=P({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,s=n=>{n.code==="Escape"&&a("close")};return le(()=>{document.addEventListener("keydown",s)}),ya(()=>{document.removeEventListener("keydown",s)}),x(()=>e.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,l)=>(g(),V(Nt,{to:"body"},[n.show?(g(),L("div",nu,[p("div",{class:"modal-mask",onClick:l[0]||(l[0]=c=>a("close"))}),p("div",lu,[oe(n.$slots,"default",{},void 0,!0)])])):B("",!0)]))}}),Aa=I(ru,[["__scopeId","data-v-b0df9b35"]]),iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",cu={key:1,src:iu},uu=P({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const a=t,s=R(!1);return x(s,n=>a("show",n)),(n,l)=>(g(),V(o(ci),{class:"tooltip",show:o(s)},{content:S(()=>[oe(n.$slots,"default",{},void 0,!0)]),default:S(()=>[p("div",{onMouseover:l[0]||(l[0]=c=>s.value=!0),onMouseleave:l[1]||(l[1]=c=>s.value=!1)},[oe(n.$slots,"item",{},()=>[n.icon?(g(),L("i",{key:0,class:O(n.icon)},null,2)):(g(),L("img",cu))],!0)],32)]),_:3},8,["show"]))}}),St=I(uu,[["__scopeId","data-v-ee2caf15"]]),du="/assets/injected-DW80ouY-.webp",pu="/assets/rabby-CG__llS3.svg",mu="/assets/walletconnect-BCBhrtde.webp",vu="/assets/coinbase-CsqSq8Nj.webp",hu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",_u={class:"buttons"},fu={class:"connectors-body"},bu={class:"title"},gu={class:"connectors"},yu=["src"],wu={key:1,class:"empty"},$u={class:"name"},Pa=P({__name:"WalletConnectButton",setup(e){const{t}=M(),{connect:a}=ui(),s=di(),n=["injected","walletConnect","coinbaseWalletSDK","safe"],l=w(()=>s.value.filter(u=>n.includes(u.id))),c=R(!1);function i(u){switch(u.id){case"injected":return du;case"walletConnect":return mu;case"coinbaseWalletSDK":return vu;case"safe":return hu;case"io.rabby":return pu;default:return""}}function r(u){return u.id==="injected"?"Browser Extension":u.name}function d(u){a({connector:u}),c.value=!1}return(u,f)=>{const m=Ie,v=Y,h=Aa;return g(),L("div",_u,[_(m,{class:"button",primary:!0,onClick:f[0]||(f[0]=b=>c.value=!0)},{default:S(()=>[z(T(o(t)("connect-your-wallet")),1)]),_:1}),B("",!0),_(h,{show:o(c),onClose:f[1]||(f[1]=b=>c.value=!1)},{default:S(()=>[_(v,null,{default:S(()=>[p("div",fu,[p("div",bu,T(o(t)("connect-your-wallet")),1),p("div",gu,[(g(!0),L(se,null,he(o(l),b=>(g(),L("div",{key:b.id,class:"connector"},[_(m,{onClick:y=>d(b)},{default:S(()=>[i(b)?(g(),L("img",{key:0,src:i(b)},null,8,yu)):(g(),L("div",wu)),p("div",$u,T(r(b)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function to(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof to=="function"&&to(Pa);typeof ao=="function"&&ao(Pa);const Cu=I(Pa,[["__scopeId","data-v-3c15f258"]]),ku={class:"wallet"},Su={key:0,class:"connected"},Lu={key:0,class:"unsupportedNetwork"},Tu={class:"info"},Au={key:1,class:"notConnected"},Pu={key:0,class:"info"},Ln=P({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{t}=M(),{disconnect:a}=pi(),{isConnected:s,network:n,address:l}=kt(),{switchChain:c}=rn(),i=w(()=>n.value==="ethereum"),r=()=>c({chainId:bt.id});return(d,u)=>{const f=Ie;return g(),L("div",ku,[o(s)?(g(),L("div",Su,[o(i)?B("",!0):(g(),L("div",Lu,[_(f,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),p("span",Tu,T(o(t)("incorrect-network")),1)])),_(f,{class:"disconnect",icon:"fas fa-check",value:o(Pe)(o(l)),onClick:o(a)},null,8,["value","onClick"])])):(g(),L("div",Au,[_(Cu),d.labelPleaseConnect?(g(),L("span",Pu,T(d.labelPleaseConnect),1)):B("",!0)]))])}}});function oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof oo=="function"&&oo(Ln);const Iu=I(Ln,[["__scopeId","data-v-416c58d4"]]),at={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Vu=[at.blue,at.yellow,at.green,at.red,at.purple],ot={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Ru=[ot.blue,ot.yellow,ot.green,ot.red,ot.purple],st={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},qu=[st.blue,st.yellow,st.green,st.red,st.purple];function Ut(e){switch(e){case"chad":return st;case"light":return ot;default:return at}}function Du(e){switch(e){case"chad":return qu;case"light":return Ru;default:return Vu}}const N=Qe("settingsStore",()=>{const e=R("light"),t=w(()=>({colors:Ut(e.value),colorsArray:Du(e.value)}));return{themeId:e,theme:t}}),Fu={class:"theme"},Mu={class:"label"},xu={class:"colors"},Bu=P({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Ut("chad")},{id:"dark",colors:Ut("dark")},{id:"light",colors:Ut("light")}],a=N(),s=R(t[0]),n=R(!1);le(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme");if(!r&&i){const d=t.find(u=>u.id==="dark");d&&c(d)}else{const d=t.find(u=>u.id===r)??t.find(u=>u.id==="light")??t[0];c(d)}});const l=()=>{n.value=!n.value},c=i=>{s.value=i,window.document.documentElement.setAttribute("data-theme",s.value.id),a.themeId=s.value.id,localStorage.setItem("theme",s.value.id)};return(i,r)=>{const d=ct;return g(),V(d,{class:"select direction-up",options:t.map(u=>u),selected:o(s),open:o(n),onOpen:l,onClose:r[0]||(r[0]=u=>n.value=!1),onInput:c},{item:S(u=>[p("div",Fu,[p("div",Mu,T(u.item.id),1),p("div",xu,[p("div",{class:"color",style:$e({"background-color":u.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.level1})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.level2})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.blue})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.yellow})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.green})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.red})},null,4),p("div",{class:"color",style:$e({"background-color":u.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Ou=I(Bu,[["__scopeId","data-v-32672da1"]]),Uu={class:"bottom"},Eu={class:"buttons"},Wu={href:"https://twitter.com/0xAlunara",target:"_blank"},Hu={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Nu={class:"selectors"},Ku=P({__name:"Bottom",emits:["navigated"],setup(e,{emit:t}){const a=t,s=async()=>{await navigator.clipboard.writeText(window.location.href)};return(n,l)=>{const c=Ie,i=Ke("router-link"),r=su;return g(),L("div",Uu,[p("div",Eu,[_(c,{class:"copy",icon:"fas fa-link",onClick:s}),p("a",Wu,[_(c,{icon:"fab fa-twitter"})]),p("a",Hu,[_(c,{icon:"fab fa-github"})]),_(i,{to:"/code"},{default:S(()=>[_(c,{icon:"fas fa-code",onClick:l[0]||(l[0]=d=>a("navigated"))})]),_:1})]),p("div",Nu,[_(Ou,{class:"themes"}),_(r,{class:"langs",locales:["en"]})]),_(Iu)])}}}),zu=I(Ku,[["__scopeId","data-v-45533ed7"]]),Ia=()=>Qe("pageStore",()=>{const e=R([]),t=R([]);return{pages:e,routes:t}})(),Qu=P({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const a=t,s=Ia(),n=R(!1),l=()=>{n.value=!1,a("navigated")};return(c,i)=>{const r=qc,d=$t;return g(),L("div",{class:O(["menu-desktop",{expanded:o(n)}])},[_(Qc,{onToggleExpansion:i[0]||(i[0]=u=>n.value=!o(n)),onNavigated:l}),_(d,{class:"menu-content",expanded:o(n)},{default:S(()=>[_(r,{pages:o(s).pages,onNavigated:l},null,8,["pages"]),_(zu,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),ju=I(Qu,[["__scopeId","data-v-fee1447d"]]),Ee=Qe("breadcrumbStore",()=>{const e=R([]),t=R(!1);return{crumbs:e,show:t}}),Gu=e=>(de("data-v-b4a20e40"),e=e(),pe(),e),Xu={class:"root"},Yu={class:"main"},Zu={class:"toolbar-container"},Ju=Gu(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),ed={class:"content"},td=P({__name:"App",setup(e){const t=Ee(),a=ga(),s=Oe();x(()=>a.fullPath,l=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(i=>l.startsWith(i))||(t.show=!1)});const n=async l=>{l.pathName&&await s.push({name:l.pathName,...l.params&&{params:l.params()}})};return(l,c)=>{const i=Ke("notifications"),r=nc,d=Ke("router-view");return g(),L("div",Xu,[_(i,{width:600,duration:-1}),_(o(mi)),_(ju,{class:"navigation"}),p("main",Yu,[p("div",Zu,[o(t).show?(g(),V(r,{key:0,class:"breadcrumb",crumbs:o(t).crumbs,onCrumb:n},null,8,["crumbs"])):B("",!0),Ju]),p("div",ed,[_(d,null,{default:S(({Component:u})=>[_(vi,{name:"fade",mode:"out-in"},{default:S(()=>[(g(),V(ba(u)))]),_:2},1024)]),_:1})])])])}}}),ad=I(td,[["__scopeId","data-v-b4a20e40"]]),od="/assets/404-DGbqGNxT.png",sd=e=>(de("data-v-3987f8f8"),e=e(),pe(),e),nd={class:"not-found"},ld={class:"not-found-container"},rd=sd(()=>p("img",{src:od},null,-1)),Tn=P({__name:"NotFound.page",setup(e){const{t}=M();return(a,s)=>{const n=Y;return g(),L("div",nd,[p("div",ld,[_(n,null,{default:S(()=>[z(T(o(t)("404")),1)]),_:1}),rd])])}}});function so(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof so=="function"&&so(Tn);const id=I(Tn,[["__scopeId","data-v-3987f8f8"]]),An=e=>(de("data-v-7189c384"),e=e(),pe(),e),cd=An(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),ud=[cd],dd=An(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),pd=[dd],md={class:"row-details"},vd=P({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const a=t,s=cn(),n=w(()=>{var i;const c=s["row-details"];if(c){const r=(i=c()[0])==null?void 0:i.children;if(r)return r.length>0}return!1}),l=()=>{a("click",e.data)};return(c,i)=>{const r=$t;return g(),L("div",{class:O(["row",{expanded:c.expanded}])},[p("div",{class:O(["row-data item",[c.columns,{active:c.selected,expandable:o(n),"has-data":!!c.data}]]),onClick:l},[c.data&&o(n)&&c.expandSide==="left"?(g(),L("div",{key:0,class:O(["expander",{expanded:c.expanded}])},ud,2)):B("",!0),oe(c.$slots,"row",{},void 0,!0),c.data&&o(n)&&c.expandSide!=="left"?(g(),L("div",{key:1,class:O(["expander",{expanded:c.expanded}])},pd,2)):B("",!0)],2),c.data?(g(),V(r,{key:0,expanded:c.expanded},{default:S(()=>[p("div",md,[oe(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):B("",!0)],2)}}}),hd=I(vd,[["__scopeId","data-v-7189c384"]]),_d=["inert"],fd={key:0,class:"header"},bd={key:0,class:"header-icon"},gd={class:"list"},yd=["onClick"],wd={key:0,class:"sorting-arrows"},$d={key:0,class:"sorting-arrow fa fa-caret-up"},Cd={key:1,class:"sorting-arrow fa fa-caret-down"},kd={key:2,class:"sorting-arrow"},Sd={class:"rows"},Ld={key:1,class:"no-data"},Va=P({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{},sortingDefaultDir:{},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(e,{emit:t}){const{t:a}=M(),s=t,n=R(void 0),l=R("asc"),c=w(()=>`grid-template-columns: ${e.columnsHeader}`),i=w(()=>{if(e.rowsMin===null)return[];const h=Math.max(0,e.rowsMin-e.rows.length);return new Array(h)});un(()=>{e.sortingDefaultColumn&&(n.value=e.sortingDefaultColumn),e.sortingDefaultDir&&(l.value=e.sortingDefaultDir)});const r=h=>{h&&s("selected",h)},d=h=>{const b=h+1;return!!(e.rows[h+1]&&e.rows.findIndex(k=>k===e.selectedRow)===b)},u=h=>e.sortingColumnsEnabled.includes(e.sortingColumns[h]),f=h=>n.value===e.sortingColumns[h]&&l.value==="asc",m=h=>n.value===e.sortingColumns[h]&&l.value==="desc",v=h=>{if(!e.sorting||!u(h))return;const b=e.sortingColumns[h];l.value=b===n.value&&l.value==="asc"?"desc":"asc",n.value=b,s("sortColumn",b,l.value)};return(h,b)=>{const y=Ue,C=hd;return g(),L("div",{class:O(["datatable",{loading:h.loading}]),inert:!!h.loading},[h.header?(g(),L("div",fd,[h.icon?(g(),L("div",bd,[p("i",{class:O(h.icon)},null,2)])):B("",!0),p("div",{class:"header-content",style:$e(o(c))},[oe(h.$slots,"header-content",{},void 0,!0)],4)])):B("",!0),p("div",gd,[h.columns.length>0?(g(),L("div",{key:0,class:O(["row-data",[h.columnsData,{"selected-below":d(-1)}]])},[oe(h.$slots,"column-headers",{},()=>[(g(!0),L(se,null,he(h.columns,(k,$)=>(g(),L("div",{key:k,class:O(["column-header",{"sortable-header":h.sorting&&u($),"current-sort":o(n)==h.sortingColumns[$]}]),onClick:A=>v($)},[z(T(k)+" ",1),h.sorting&&u($)?(g(),L("div",wd,[f($)?(g(),L("i",$d)):m($)?(g(),L("i",Cd)):(g(),L("span",kd," — "))])):B("",!0)],10,yd))),128))],!0)],2)):B("",!0),p("div",Sd,[h.loading!==null?(g(),V(y,{key:0,class:O(["loader",{loading:h.loading}])},null,8,["class"])):B("",!0),(g(!0),L(se,null,he(h.rows,(k,$)=>(g(),V(C,{key:k,data:k,class:O({"selected-below":d($)}),columns:h.columnsData,selected:h.selectedRow===k,expanded:h.expanded.includes(k),"expand-side":h.expandSide,onClick:r},{row:S(()=>[oe(h.$slots,"row",{item:k},void 0,!0)]),"row-details":S(()=>[oe(h.$slots,"row-details",{item:k},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded","expand-side"]))),128)),(g(!0),L(se,null,he(o(i),k=>(g(),V(C,{key:k}))),128)),!h.rowsMin&&(!h.rows||h.rows.length===0)&&!h.loading?(g(),L("div",Ld,[oe(h.$slots,"no-data",{},()=>[z(T(o(a)("no-data")),1)],!0)])):B("",!0),h.$slots["row-aggregation"]&&h.rows.length>0?(g(),V(C,{key:2,class:"aggregation",columns:h.columnsData},{row:S(()=>[oe(h.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):B("",!0)])])],10,_d)}}});function no(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof no=="function"&&no(Va);typeof lo=="function"&&lo(Va);const _e=I(Va,[["__scopeId","data-v-e43e6905"]]),Td={class:"contracts"},Ad={class:"row"},Pd={class:"title"},Id=["href"],Vd={class:"title"},Rd=["href"],Pn=P({__name:"Code.page",setup(e){const{t}=M(),n=[{name:"Llama Airforce",contracts:[{contract:Ta,description:"multisig",gnosis:!0},{contract:_c,description:"treasury",gnosis:!0},{contract:fc,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:gn,description:"gauge-factory"},{contract:yn,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],c=i=>{switch(i.network){case"arbitrum":return i.gnosis?`https://app.safe.global/home?safe=arb1:${i.contract}`:`https://arbiscan.io/address/${i.contract}`;case"ethereum":default:return i.gnosis?`https://app.safe.global/home?safe=eth:${i.contract}`:`https://etherscan.io/address/${i.contract}`}};return(i,r)=>{const d=_e;return g(),L("div",Td,[p("div",Ad,[_(d,{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[o(t)("repository"),o(t)("description")]},{"header-content":S(()=>[p("div",Pd,T(o(t)("repositories")),1)]),row:S(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},T(u.item.name),9,Id)]),p("div",null,T(o(t)(u.item.description)),1)]),_:1},8,["columns"])]),(g(),L(se,null,he(n,(u,f)=>_(d,{key:f,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:[o(t)("contract"),o(t)("description")]},{"header-content":S(()=>[p("div",Vd,T(o(t)(u.name)),1)]),row:S(m=>[p("div",null,[p("a",{href:c(m.item),target:"_blank"},T(m.item.contract),9,Rd)]),p("div",null,T(o(t)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},"repo-graphs":{t:0,b:{t:2,i:[{t:3}],s:"The Graph subgraphs related to Curve, Convex, Votium and more"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}},"gauge-factory":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Factory"}},"gauge-controller":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Controller"}}}})}typeof ro=="function"&&ro(Pn);const qd=I(Pn,[["__scopeId","data-v-797f7191"]]);function Dd(){const e=Ia(),t=[{path:"/code",component:qd},...e.routes.flatMap(s=>s),{path:"/:pathMatch(.*)*",name:"NotFound",component:id}];return hi({history:_i(),routes:t})}const Fd=e=>(de("data-v-30805641"),e=e(),pe(),e),Md={class:"input-text"},xd={key:0,class:"icon"},Bd=Fd(()=>p("i",{class:"fas fa-search"},null,-1)),Od=[Bd],Ud=["type","value","placeholder"],Ed=["onClick"],Wd=P({__name:"InputText",props:ze({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:ze(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const a=Kt(e,"modelValue"),s=t,n=w(()=>{const c=e.options.filter(r=>e.filter(a.value,r));return e.sort?[...c].sort(e.sort):c}),l=c=>{const i=c.target.value;a.value=i,s("input",i)};return(c,i)=>(g(),L("div",Md,[c.search?(g(),L("span",xd,Od)):B("",!0),p("input",{type:c.search?"search":"text",value:a.value,placeholder:c.placeholder,onInput:Ae(l,["stop"]),onSelect:i[0]||(i[0]=Ae(()=>{},["stop"]))},null,40,Ud),c.options&&c.autoComplete?(g(),L("div",{key:1,class:O(["items",{selectHide:!c.autoComplete}])},[(g(!0),L(se,null,he(o(n),(r,d)=>(g(),L("div",{key:d,onClick:u=>s("select",r)},[oe(c.$slots,"item",{item:r,idx:d},()=>[z(T(r),1)],!0)],8,Ed))),128))],2)):B("",!0)]))}}),Te=I(Wd,[["__scopeId","data-v-30805641"]]),Hd={key:0,class:"value"},Nd={key:1,class:"value"},Kd=["innerHTML"],zd={key:0,class:"value"},Qd={key:1,class:"value"},jd=["innerHTML"],Gd={class:"labels"},Xd={class:"label"},Yd={class:"label-second"},Zd=P({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const s=St;return g(),L("div",{class:O(["kpi",{disabled:!t.hasValue}])},[p("div",{class:O(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[oe(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(g(),V(s,{key:0},{item:S(()=>[t.hasValue?(g(),L("span",Hd,T(t.value),1)):(g(),L("span",Nd," ? "))]),default:S(()=>[oe(t.$slots,"tooltip",{},()=>[p("span",{innerHTML:t.tooltip},null,8,Kd)],!0)]),_:3})):(g(),L(se,{key:1},[t.hasValue?(g(),L("span",zd,T(t.value),1)):(g(),L("span",Qd," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(g(),V(s,{key:0},{default:S(()=>[p("span",{innerHTML:t.tooltip},null,8,jd)]),_:1})):B("",!0)],2),p("div",Gd,[oe(t.$slots,"label",{},()=>[p("div",Xd,T(t.label),1)],!0),oe(t.$slots,"label-second",{},()=>[p("div",Yd,T(t.labelSecond),1)],!0)])],2)}}}),we=I(Zd,[["__scopeId","data-v-9ca23269"]]),Jd={key:0,class:"async-value"},ep="|/-\\",ae=P({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,a=0;const s=R("|"),n=w(()=>e.value?j(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?s.value:"?"),l=w(()=>e.precision===1/0?"":!e.value||!e.type||!F.isFinite(e.value)?e.showUnit&&e.type?Q(0,e.type):"":Q(e.value,e.type));return x(()=>e.value,c=>{if(clearInterval(a),t=0,c)return;const i=()=>{t=(t+1)%4,s.value=ep[t]};a=window.setInterval(i,250)},{immediate:!0}),(c,i)=>c.inline?(g(),L(se,{key:1},[z(T(c.showSymbol&&c.type==="dollar"?"$":"")+T(o(n))+T(c.showUnit?o(l):""),1)],64)):(g(),L("div",Jd,T(c.showSymbol&&c.type==="dollar"?"$":"")+T(o(n))+T(c.showUnit?o(l):""),1))}}),tp=["crvusd","lending","pools","router","dao"];class ap{constructor(t){this.get$=new Ce(a=>{let s=1/0,n=!1;const l=()=>{a.next(Date.now()-s),n=!1};t.on("pong",l);const c=fi({}).pipe(bi(()=>{if(n){a.next(1/0);return}n=!0,s=Date.now(),t.emit("ping")}),gi(5e3),yi()).subscribe();return()=>{c.unsubscribe(),t.off("pong",l)}}).pipe(wi({refCount:!0,bufferSize:1}))}}let op=class{constructor(t){this.socket=t}get(t){const a=new Promise(s=>{this.socket.once("search_res",n=>{const l=Object.entries(n).map(([c,i])=>({id:c.toLocaleLowerCase(),name:i}));s(l)})});return this.socket.emit("search",t),a}};class sp{constructor(t){this.get$=new Ce(a=>{const s=n=>{const l=np(n);a.next(l)};return t.on("token names inside pool",s),()=>{t.off("token names inside pool",s)}}).pipe(Le())}}function np(e){return e.map(t=>({name:t}))}class In{constructor(t){this.socket=t,this.update$=new Ce(a=>{const s=n=>{a.next(n)};return t.on("price_chart_combination",s),()=>{t.off("price_chart_combination",s)}}).pipe(Le())}update(t,a){this.socket.emit("new combination",[t,a[0],a[1]])}}class lp{constructor(t){this.socket=t}update(t){this.socket.emit(t)}}function We(e){const[t,a]=e.split("T"),[s,n,l]=t.split("-").map(Number),[c,i,r]=a.split(":").map(Number);return Date.UTC(s,n-1,l,c,i,r)/1e3}const rp=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),ip=e=>e.data.flatMap(t=>t.transactions.map(a=>({chain:t.chain,timestamp:We(a.timestamp),type:a.type,transactions:a.transactions}))),cp=e=>e.data.flatMap(t=>t.users.map(a=>({chain:t.chain,timestamp:We(a.timestamp),type:a.type,users:a.users}))),ra="https://prices.curve.fi";class up extends ke{async getChainInfo(t){const a=await this.fetch(`${ra}/v1/chains/${t}?page=1&per_page=1`);return rp(a)}async getTxs(){const t=await this.fetch(`${ra}/v1/chains/activity/transactions`);return ip(t)}async getUsers(){const t=await this.fetch(`${ra}/v1/chains/activity/users`);return cp(t)}}const Ra=new up;function Vn(){return{initialData:[],initialDataUpdatedAt:0}}function Rn(e){return Z({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Ra.getChainInfo(t),enabled:w(()=>!!e.value)})}function dp(){return Z({queryKey:["chains-txs"],queryFn:()=>Ra.getTxs(),...Vn()})}function pp(){return Z({queryKey:["chains-users"],queryFn:()=>Ra.getUsers(),...Vn()})}const mp=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),vp=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),hp=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),_p=e=>({timestamp:We(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),io="https://api-py.llama.airforce/curve",Rt="https://prices.curve.fi";class fp extends ke{async getMarkets(t,a){return(await this.fetch(`${Rt}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${a}&per_page=10`)).data.map(mp)}async getSnapshots(t,a){return(await this.fetch(`${Rt}/v1/crvusd/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(vp)}async getCrvUsdPriceHistogram(){return this.fetch(`${io}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${Rt}/v1/crvusd/markets/${t}/supply`)).data.map(_p)}async getKeepers(t){return(await this.fetch(`${Rt}/v1/crvusd/pegkeepers/${t}`)).keepers.map(hp)}async getYield(){return this.fetch(`${io}/v1/crvusd/yield`).then(t=>t.yields)}}const bp=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),gp="https://prices.curve.fi";class qn extends ke{async getOHLC(t,a,s,n){const c=Math.floor(new Date().getTime()/1e3),i=Math.floor(c-72e5),r=`${gp}/v1/ohlc/${t}/${ft(a)}?main_token=${ft(s)}&reference_token=${ft(n)}&agg_number=1&agg_units=day&start=${i}&end=${c}`;return(await this.fetch(r)).data.map(bp)}}const Lt=new fp,yp=new qn;function wp(e){return w(()=>{var t;return(t=e.value)==null?void 0:t.address})}function jt(){return{initialData:[],initialDataUpdatedAt:0}}function $p(e,t){return{enabled:w(()=>!!e.value&&!0)}}function Cp(){return Z({queryKey:["crvusd-supply"],queryFn:()=>Lt.getCrvUsdSupply("ethereum"),...jt()})}function kp(){return Z({queryKey:["crvusd-price-deviation"],queryFn:()=>Lt.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Gt(e){return Z({queryKey:["crvusd-market-snapshots",wp(e)],queryFn:({queryKey:[,t]})=>Lt.getSnapshots("ethereum",t),...$p(e),...jt()})}function Sp(e){return Z({queryKey:["crvusd-keepers-prices",w(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async n=>{const l=n.pair.find(r=>r.symbol!=="crvUSD"),c=n.pair.find(r=>r.symbol==="crvUSD");return!l||!c?[]:(await yp.getOHLC("ethereum",n.pool_address,l.address,c.address)).map(r=>({time:r.time,price:(r.high+r.low)/2,coin:l.symbol}))}),a=(await Promise.all(t)).flat(),s=F.chain(a).groupBy(n=>n.time).map((n,l)=>({timestamp:Number(l),...Object.fromEntries(n.map(c=>[c.coin,c.price]))})).value();return s.length>0?s:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function qa(){return Z({queryKey:["crvusd-markets"],queryFn:()=>Lt.getMarkets("ethereum",1),...jt()})}function Dn(){return Z({queryKey:["crvusd-keepers"],queryFn:()=>Lt.getKeepers("ethereum"),...jt()})}const Lp={class:"kpis"},Tp=P({__name:"KPIs",setup(e){const t=new wn,{data:a}=qa(),s=w(()=>{var r;return((r=a.value)==null?void 0:r.reduce((d,u)=>d+u.borrowed,0))??0}),{data:n}=Rn(R("ethereum")),l=w(()=>{var r;return((r=n==null?void 0:n.value)==null?void 0:r.total.tvl)??0}),c=w(()=>{var r;return((r=n==null?void 0:n.value)==null?void 0:r.total.tradingVolume24h)??0}),{data:i}=Z({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price),initialData:0,initialDataUpdatedAt:0});return(r,d)=>{const u=ae,f=we;return g(),L("div",Lp,[_(f,{label:"CRV Price","has-value":!!o(i)},{default:S(()=>[_(u,{value:o(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(f,{label:"crvUSD Borrowed","has-value":!!o(s)},{default:S(()=>[_(u,{value:o(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(f,{label:"Total Value Locked","has-value":!!o(l)},{default:S(()=>[_(u,{value:o(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(f,{label:"7-day Volume","has-value":!!o(c)},{default:S(()=>[_(u,{value:o(c),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Ap=I(Tp,[["__scopeId","data-v-ef04efe7"]]),Pp=P({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,a)=>{const s=Ke("apexchart");return g(),V(s,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),Xt=I(Pp,[["__scopeId","data-v-310d0826"]]),Ip=P({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,a)=>{const s=Xt,n=Y;return g(),V(n,{class:"cart-chart",title:t.title,loading:t.loading},{actions:S(()=>[oe(t.$slots,"actions",{},void 0,!0)]),default:S(()=>[_(s,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),oe(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),me=I(Ip,[["__scopeId","data-v-98df8c5f"]]),Vp=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function re(e,t){const a=Vp(e),s=(n,l)=>{if(typeof l=="object"){F.mergeWith(n,l,s);return}else return n||l};return F.mergeWith(t,a,s)}const Rp=e=>({pool:e.pool,chain:e.chain,name:e.name,liq_use:e.liq_use}),qp=e=>({pool:e.pool,chain:e.chain,name:e.name,tx:e.tx,value:e.value}),Dp=e=>({pool:e.pool,chain:e.chain,name:e.name,tvl_growth:e.tvl_growth}),Fp=e=>({pool:e.pool,chain:e.chain,name:e.name,tvl_growth:e.tvl_growth}),Mp=e=>({type:e.type,tvl:e.tvl}),xp=e=>({chain:e.chain,tvl:e.tvl}),Bp=e=>({type:e.type,volumeUSD:e.volumeUSD}),Op=e=>({chain:e.chain,volumeUSD:e.volumeUSD}),xe="https://api-py.llama.airforce/curve/v1";class Up extends ke{async getLiquidityTop(){return(await this.fetch(`${xe}/protocol/liquidity/top`)).liquidity_use.map(Rp)}async getTradesLarge(){return(await this.fetch(`${xe}/protocol/size/trades`)).large_trades.map(qp)}async getTvlGainers(){return(await this.fetch(`${xe}/protocol/tvl/gainers`)).tvl_gainers.map(Dp)}async getTvlLosers(){return(await this.fetch(`${xe}/protocol/tvl/losers`)).tvl_losers.map(Fp)}async getTvlBreakdownType(){return(await this.fetch(`${xe}/protocol/tvl/type_breakdown`)).tvl_breakdown_type.map(Mp)}async getTvlBreakdownChain(){return(await this.fetch(`${xe}/protocol/tvl/chain_breakdown`)).tvl_breakdown_chain.map(xp)}async getVolumeBreakdownType(){return(await this.fetch(`${xe}/protocol/volume/type_breakdown`)).volume_breakdown_type.map(Bp)}async getVolumeBreakdownChain(){return(await this.fetch(`${xe}/protocol/volume/chain_breakdown`)).volume_breakdown_chain.map(Op)}}const yt=new Up;function Yt(){return{initialData:[],initialDataUpdatedAt:0}}function Ep(){return Z({queryKey:["curve-tvl-breakdown"],queryFn:()=>yt.getTvlBreakdownChain().then(e=>e.sort((t,a)=>a.tvl-t.tvl)),...Yt()})}function Wp(){return Z({queryKey:["curve-tvl-gainers-losers"],queryFn:async()=>{const e=yt.getTvlGainers(),t=yt.getTvlLosers(),[a,s]=[await e,await t];return[...a,...s].sort((n,l)=>l.tvl_growth-n.tvl_growth)},...Yt()})}function Hp(){return Z({queryKey:["curve-liquidity-top"],queryFn:()=>yt.getLiquidityTop().then(e=>e.sort((t,a)=>a.liq_use-t.liq_use)),...Yt()})}function Np(){return Z({queryKey:["curve-trades-large"],queryFn:()=>yt.getTradesLarge().then(e=>e.sort((t,a)=>a.value-t.value)).then(e=>e.slice(0,10)),...Yt()})}const Kp=P({__name:"ChartChainType",setup(e){const{theme:t}=E(N()),{isFetching:a,data:s}=Ep(),n=w(()=>re(t.value,{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const r=l.value[i.seriesIndex].name,d=i.series[i.seriesIndex][i.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${c(d[0])}</div>`].join("")}}})),l=w(()=>[...s.value.map(i=>({name:i.chain,data:[i.tvl,i.tvl]}))]),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"chart",title:"TVL & Volume per Chain",loading:o(a),options:o(n),series:o(l)},null,8,["loading","options","series"])}}}),zp=I(Kp,[["__scopeId","data-v-2477f2c2"]]),Qp=P({__name:"ChartLiquidityTop",setup(e){const{theme:t}=E(N()),{isFetching:a,data:s}=Hp(),n=w(()=>re(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{var h;const u=l.value[d.dataPointIndex],f=d.series[0][d.dataPointIndex],m=(h=s.value.find(b=>b.name===u))==null?void 0:h.chain;return`
            <div><b>${u}</b>:</div>
            <div>${i(f)}</div>
            <div>${m}<div>`}}})),l=w(()=>s.value.map(d=>d.name)),c=w(()=>[{data:s.value.map(d=>d.liq_use)}]),i=d=>`${j(Math.abs(d),2,"dollar")}`,r=d=>d.toString().substring(0,12);return(d,u)=>{const f=me;return g(),V(f,{class:"chart",title:"Liquidity Usage",loading:o(a),options:o(n),series:o(c)},null,8,["loading","options","series"])}}}),jp=I(Qp,[["__scopeId","data-v-941de3e9"]]),Gp=P({__name:"ChartRanking",setup(e){const{theme:t}=E(N()),{isFetching:a,data:s}=Wp(),n=w(()=>{const{colors:d}=t.value;return re(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[u=>u.value<0?d.red:d.green],xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:u=>{var b;const f=l.value[u.dataPointIndex],m=u.series[0][u.dataPointIndex],v=(b=s.value.find(y=>y.name===f))==null?void 0:b.chain;return`
            <div><b>${f}</b>:</div>
            <div>${r(m)}</div>
            <div>${v}<div>`}}})}),l=w(()=>s.value.map(d=>d.name)),c=w(()=>[{data:s.value.map(d=>d.tvl_growth)}]),i=d=>d.toString().substring(0,12),r=d=>`${j(d,0,"dollar")}${Q(d,"percentage")}`;return(d,u)=>{const f=me;return g(),V(f,{class:"chart",title:"TVL Gainers & Losers",loading:o(a),options:o(n),series:o(c)},null,8,["loading","options","series"])}}}),Xp=I(Gp,[["__scopeId","data-v-c043b4fc"]]),Yp=e=>(de("data-v-ea4b31b3"),e=e(),pe(),e),Zp=Yp(()=>p("div",{class:"title"},"Largest Trades",-1)),Jp=["href"],em={class:"number"},tm=P({__name:"TableTrades",setup(e){const{data:t}=Np();return(a,s)=>{const n=ae,l=_e;return g(),V(l,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:o(t),columns:["Tx","Name","Value"]},{"header-content":S(()=>[Zp]),row:S(c=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${c.item.tx}`,target:"_blank",onClick:s[0]||(s[0]=Ae(()=>{},["stop"]))},T(o(Pe)(c.item.tx)),9,Jp)]),p("div",null,T(c.item.name),1),p("div",em,[_(n,{value:c.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}}),am=I(tm,[["__scopeId","data-v-ea4b31b3"]]),om={class:"home"},sm={class:"controls-container"},nm={class:"data-1"},lm={class:"data-2"},rm=P({__name:"Home.page",setup(e){const t=R("");return(a,s)=>{const n=Te;return g(),L("div",om,[p("div",sm,[_(n,{modelValue:o(t),"onUpdate:modelValue":s[0]||(s[0]=l=>ue(t)?t.value=l:null),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),p("div",nm,[_(Ap),_(o(zp)),_(o(jp))]),p("div",lm,[_(am),_(o(Xp))])])}}}),im=I(rm,[["__scopeId","data-v-024dc482"]]),cm="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",um="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",dm="/assets/arbitrum-Z8VMulXH.png",pm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",mm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",vm="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",hm="/assets/moonbeam-CHDPiRRO.png",_m="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",fm="/assets/optimism-CcABTbCu.png",bm="/assets/base-AohAhS4D.webp",gm="/assets/polygon-GPEdhIuq.png",ym="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Wt(e){return{ethereum:cm,arbitrum:dm,optimism:fm,fantom:pm,avalanche:um,xdai:mm,matic:_m,harmony:vm,moonbeam:hm,base:bm,polygon:gm,fraxtal:ym,all:""}[e]}const wm={key:0,class:"item"},$m=["src"],Cm={key:1,class:"empty"},km={class:"label"},Sm=P({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const a=t,s=R(!1),n=w(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(d=>!e.chains||e.chains.includes(d.chain))),l=w(()=>n.value.find(d=>d.chain===e.chain)??null),c=d=>d.label,i=()=>{s.value=!s.value},r=d=>{a("select-chain",d.chain)};return(d,u)=>{const f=ct;return g(),V(f,{class:"select",options:o(n),selected:o(l),open:o(s),onOpen:i,onClose:u[0]||(u[0]=m=>s.value=!1),onInput:r},{item:S(m=>[m.item?(g(),L("div",wm,[o(Wt)(m.item.chain)?(g(),L("img",{key:0,src:o(Wt)(m.item.chain)},null,8,$m)):(g(),L("div",Cm)),p("div",km,T(c(m.item)),1)])):B("",!0)]),_:1},8,["options","selected","open"])}}}),Tt=I(Sm,[["__scopeId","data-v-00fa19c4"]]),Lm=P({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const a=t,s=R(void 0);let n,l=null;x(s,(r,d)=>{e.target&&(r?c(e.target,r):d&&n&&i(e.target,n,d))});function c(r,d){n=r.parentNode,l=r.nextSibling,n&&(a("enterBefore",d),n.removeChild(r),d.appendChild(r),a("enter",d))}function i(r,d,u){a("exitBefore",u),u.removeChild(r),l?d.insertBefore(r,l):d.appendChild(r),a("exit",u)}return(r,d)=>{const u=Aa;return g(),V(u,null,{default:S(()=>[p("div",{ref_key:"modalRef",ref:s,class:"fullscreen-content"},null,512)]),_:1})}}}),Tm=I(Lm,[["__scopeId","data-v-f56cfee9"]]),Am=p("i",{class:"fas fa-expand"},null,-1),Zt=P({__name:"BtnChartLWFullscreen",props:ze({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=Kt(e,"modelValue");let a=0,s=0;function n(){var i;const c=(i=e.chart.chartElement())==null?void 0:i.parentElement;a=(c==null?void 0:c.clientHeight)??0,s=(c==null?void 0:c.clientWidth)??0}function l(){e.chart.applyOptions({height:a,width:s})}return(c,i)=>{const r=Tm,d=Ie;return g(),V(d,{disabled:!c.chart,onClick:i[1]||(i[1]=u=>t.value=!t.value)},{default:S(()=>[Am,_(r,{target:c.target,show:t.value,onClose:i[0]||(i[0]=u=>t.value=!1),onEnterBefore:n,onExit:l},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Pm=(e,t)=>{const{colors:a}=t;return{width:e.clientWidth,height:e.clientHeight,layout:{background:{type:dn.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:pn.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ne(e,t,a){const s=Pm(e,t),n=(l,c)=>{if(typeof c=="object"){F.mergeWith(l,c,n);return}else return l||c};return F.mergeWith(a,s,n)}function ve(e,t,a){const s=R(void 0),n=R(void 0);let l=null;return le(async()=>{if(!s.value)return;await mn();const c=it(s.value,t(s.value));n.value=c,a==null||a(c),l=new ResizeObserver(i=>{const r=i[0].target;n.value&&s.value&&(n.value.applyOptions({width:r.clientWidth,height:r.clientHeight}),n.value.timeScale().fitContent())}),s.value.parentElement&&l.observe(s.value.parentElement)}),ya(()=>{n.value&&(n.value.remove(),n.value=void 0),l&&(l.disconnect(),l=null)}),x(e,()=>{s.value&&n.value&&n.value.applyOptions(t(s.value))}),{chart:n,chartRef:s}}const Im={class:"actions"},Fn=P({__name:"ChartTxs",props:{txs:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),n=R(!1),l=R(void 0),{chart:c,chartRef:i}=ve(s,r,m=>{a=m.addAreaSeries(d())});x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>f(m),minMove:.01},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}zt(u);function u(){if(!c.value||!a)return;const m=F.chain(e.txs).map(v=>({time:v.timestamp,value:v.count})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();a.setData(m),c.value.timeScale().fitContent()}const f=m=>`${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,v)=>{const h=Y;return g(),V(h,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:o(n)}]),title:o(t)("title")},{actions:S(()=>{var b;return[p("div",Im,[_(o(Zt),{modelValue:o(n),"onUpdate:modelValue":v[0]||(v[0]=y=>ue(n)?n.value=y:null),chart:o(c),target:(b=o(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}}}})}typeof co=="function"&&co(Fn);const Vm=I(Fn,[["__scopeId","data-v-aeb9c346"]]),Rm={class:"actions"},Mn=P({__name:"ChartUsers",props:{users:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),n=R(!1),l=R(void 0),{chart:c,chartRef:i}=ve(s,r,m=>{a=m.addAreaSeries(d())});x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>f(m),minMove:.01},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}zt(u);function u(){if(!c.value||!a)return;const m=F.chain(e.users).map(v=>({time:v.timestamp,value:v.count})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();a.setData(m),c.value.timeScale().fitContent()}const f=m=>`${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,v)=>{const h=Y;return g(),V(h,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:o(n)}]),title:o(t)("title")},{actions:S(()=>{var b;return[p("div",Rm,[_(o(Zt),{modelValue:o(n),"onUpdate:modelValue":v[0]||(v[0]=y=>ue(n)?n.value=y:null),chart:o(c),target:(b=o(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof uo=="function"&&uo(Mn);const qm=I(Mn,[["__scopeId","data-v-271aa30d"]]),Dm={class:"legend"},Fm=["onClick"],Mm={class:"label"},xm=P({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const a=t;return(s,n)=>(g(),L("div",Dm,[(g(!0),L(se,null,he(s.items,l=>(g(),L("div",{key:l.id,class:O(["item",{togglable:l.togglable,disabled:s.disabled.includes(l.id)}]),onClick:c=>{l.togglable&&a("toggle",l.id)}},[p("div",{class:"color",style:$e({"background-color":l.color})},null,4),p("div",Mm,T(l.label),1)],10,Fm))),128))]))}}),Ve=I(xm,[["__scopeId","data-v-d25d58a4"]]);function Re(e){const t=w(e),a=$i(Ci(Object.fromEntries(t.value.map(n=>[n.id,!0])))),s=w(()=>t.value.filter(n=>!a[n.id].value).map(n=>n.id));return{items:t,toggles:a,disabled:s}}const Bm={class:"actions"},xn=P({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{t}=M(),{theme:a}=E(N()),s=w(()=>`${t("title")} (${e.type==="all"?"All Types":F.capitalize(e.type)})`),{items:n,toggles:l,disabled:c}=Re(()=>{const{blue:b,yellow:y}=a.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:y,togglable:!0}]});function i(b){return F.chain(b).groupBy(y=>y.chain).mapValues((y,C)=>{const k=y.reduce(($,A)=>$+A.value,0);return{chain:C,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:b}=a.value;return re(a.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:f.value,labels:{formatter:v}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(e.txs):[]),u=w(()=>l.users.value?i(e.users):[]),f=w(()=>F.chain(d.value).concat(u.value).orderBy(b=>b.count,"desc").map(b=>b.chain).uniq().value()),m=w(()=>{const b=f.value.map(C=>{const k=d.value.find($=>$.chain===C);return k?k.count:0}),y=f.value.map(C=>{const k=u.value.find($=>$.chain===C);return k?k.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?y:[]}]}),v=b=>b,h=b=>`${j(b,0,"dollar")}${Q(b,"dollar")}`;return(b,y)=>{const C=Ve,k=me;return g(),V(k,{class:"chart",title:o(s),options:o(r),series:o(m)},{actions:S(()=>[p("div",Bm,[_(C,{items:o(n),disabled:o(c),onToggle:y[0]||(y[0]=$=>o(l)[$].value=!o(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Chains"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof po=="function"&&po(xn);const Om=I(xn,[["__scopeId","data-v-459c37a8"]]),Um={class:"actions"},Bn=P({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{t}=M(),{theme:a}=E(N()),s=w(()=>`${t("title")} (${e.chain==="all"?"All Chains":F.capitalize(e.chain)})`),{items:n,toggles:l,disabled:c}=Re(()=>{const{blue:b,yellow:y}=a.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:y,togglable:!0}]});function i(b){return F.chain(b).groupBy(y=>y.type).mapValues((y,C)=>{const k=y.reduce(($,A)=>$+A.value,0);return{type:C,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:b}=a.value;return re(a.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:f.value,labels:{formatter:v}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(e.txs):[]),u=w(()=>l.users.value?i(e.users):[]),f=w(()=>F.chain(d.value).concat(u.value).orderBy(b=>b.count,"desc").map(b=>b.type).uniq().value()),m=w(()=>{const b=f.value.map(C=>{const k=d.value.find($=>$.type===C);return k?k.count:0}),y=f.value.map(C=>{const k=u.value.find($=>$.type===C);return k?k.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?y:[]}]}),v=b=>b,h=b=>`${j(b,0,"dollar")}${Q(b,"dollar")}`;return(b,y)=>{const C=Ve,k=me;return g(),V(k,{class:"chart",title:o(s),options:o(r),series:o(m)},{actions:S(()=>[p("div",Um,[_(C,{items:o(n),disabled:o(c),onToggle:y[0]||(y[0]=$=>o(l)[$].value=!o(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Types"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof mo=="function"&&mo(Bn);const Em=I(Bn,[["__scopeId","data-v-b1ad8af0"]]),Wm={class:"item"},Hm={class:"label"},On=P({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:a}=M(),s=["all",...tp],n=t,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,n("select",c.value)};return(d,u)=>{const f=ct;return g(),V(f,{class:"select",options:s.map(m=>m),selected:o(c),open:o(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:S(m=>[p("div",Wm,[p("div",Hm,T(o(a)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All Types"}},crvusd:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD"}},lending:{t:0,b:{t:2,i:[{t:3}],s:"Lending"}},pools:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}},router:{t:0,b:{t:2,i:[{t:3}],s:"Router"}},dao:{t:0,b:{t:2,i:[{t:3}],s:"DAO"}}}})}typeof vo=="function"&&vo(On);const Nm=I(On,[["__scopeId","data-v-c6645d99"]]),Km={class:"chains"},zm={class:"toolbar"},Qm={class:"activity"},Un=P({__name:"Chains.page",setup(e){const{t}=M(),{show:a}=E(Ee());le(()=>{a.value=!1});const s=ye("chain"),n=w({get(){return s.value?s.value:"all"},set(K){s.value=K}}),l=w(()=>{const K=F.chain(u.value.map(ie=>ie.chain)).concat(m.value.map(ie=>ie.chain)).concat(n.value!==void 0&&n.value!=="all"?[n.value]:[]).uniq().orderBy(ie=>ie).value(),X=["ethereum"],ee=F.chain(K).difference(X).orderBy(ie=>ie).value();return["all",...X,...ee]}),c=ye("type"),i=w({get(){return c.value?c.value:"all"},set(K){c.value=K}}),r=K=>{i.value=K},{isFetching:d,data:u}=dp(),{isFetching:f,data:m}=pp();function v(K,X,ee,ie){return F.chain(K).filter(G=>X==="all"?!0:G.chain===X).filter(G=>ee==="all"?!0:G.type===ee).groupBy(G=>G.timestamp).mapValues((G,fe)=>{const Me=G.reduce((ht,sa)=>ht+ie(sa),0);return{timestamp:Number(fe),count:Me}}).values().value()}const h=w(()=>v(u.value,n.value,i.value,K=>K.transactions)),b=w(()=>v(m.value,n.value,i.value,K=>K.users));function y(K){const ie=Math.floor(Date.now()/1e3)-7*24*60*60,fe=K.filter(Me=>Me.timestamp>=ie).reduce((Me,ht)=>Me+ht.count,0);return Math.round(fe/7)}const C=w(()=>{var K;return((K=F.last(h.value))==null?void 0:K.count)??0}),k=w(()=>y(h.value)),$=w(()=>{var K;return((K=F.last(b.value))==null?void 0:K.count)??0}),A=w(()=>y(b.value));function D(K,X,ee,ie){return F.chain(K).filter(G=>X==="all"?!0:G.chain===X).filter(G=>ee==="all"?!0:G.type===ee).map(G=>({chain:G.chain,type:G.type,value:ie(G)})).value()}const U=w(()=>D(u.value,"all",i.value,K=>K.transactions)),q=w(()=>D(m.value,"all",i.value,K=>K.users)),W=w(()=>D(u.value,n.value,"all",K=>K.transactions)),te=w(()=>D(m.value,n.value,"all",K=>K.users));return(K,X)=>{const ee=ae,ie=we;return g(),L("div",Km,[(g(),V(Nt,{to:"#toolbar"},[p("div",zm,[_(o(Nm),{style:{"grid-area":"type"},onSelect:r}),_(Tt,{style:{"grid-area":"chain"},class:"chain-select",chain:o(n),chains:o(l),all:!0,onSelectChain:X[0]||(X[0]=G=>n.value=G)},null,8,["chain","chains"])])])),p("div",Qm,[_(ie,{style:{"grid-area":"kpi1"},label:o(t)("txs-today"),"has-value":!!o(d)},{default:S(()=>[_(ee,{type:"dollar",value:o(C),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi2"},label:o(t)("txs-avg"),"has-value":!!o(d)},{default:S(()=>[_(ee,{type:"dollar",value:o(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi3"},label:o(t)("users-today"),"has-value":!!o(f)},{default:S(()=>[_(ee,{type:"dollar",value:o($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi4"},label:o(t)("users-avg"),"has-value":!!o(f)},{default:S(()=>[_(ee,{type:"dollar",value:o(A),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(o(Vm),{style:{"grid-area":"txs"},txs:o(h),loading:o(d)},null,8,["txs","loading"]),_(o(qm),{style:{"grid-area":"users"},users:o(b),loading:o(f)},null,8,["users","loading"]),_(o(Om),{style:{"grid-area":"top-chains"},type:o(i),txs:o(U),users:o(q),loading:o(d)||o(f)},null,8,["type","txs","users","loading"]),_(o(Em),{style:{"grid-area":"top-types"},chain:o(n),txs:o(W),users:o(te),loading:o(d)||o(f)},null,8,["chain","txs","users","loading"])])])}}});function ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"txs-today":{t:0,b:{t:2,i:[{t:3}],s:"Transactions Today"}},"txs-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Transactions / 7 Days"}},"users-today":{t:0,b:{t:2,i:[{t:3}],s:"Users Today"}},"users-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Users / 7 Days"}}}})}typeof ho=="function"&&ho(Un);const jm=I(Un,[["__scopeId","data-v-23fc3398"]]),Gm=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),_o=e=>{var t,a;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(s=>({poolIndex:s.pool_index,symbol:s.symbol,address:s.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((a=e.pool_methods)==null?void 0:a.map(s=>s))??[]}},Xm=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),fo="https://prices.curve.fi";let Ym=class extends ke{async getPools(t){const a=await this.fetch(`https://api.curvemonitor.com/proxyCurvePricesAPI/chains/${t}`);return{chain:a.chain,totals:Gm(a.total),pools:a.data.map(_o)}}async getPool(t,a){const s=await this.fetch(`${fo}/v1/pools/${t}/${a}`);return _o(s)}async getVolume(t,a){const n=Math.floor(new Date().getTime()/1e3),l=Math.floor(n-72e5);return(await this.fetch(`${fo}/v1/volume/usd/${t}/${a}?interval=day&start=${l}&end=${n}`)).data.map(Xm)}};const Jt=new Ym;function Zm(e){return Z({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>Jt.getPools(t),placeholderData:Qt,enabled:w(()=>!!e.value)})}function Jm(e,t){return Z({queryKey:["curve-pool",t],queryFn:async({queryKey:[,a]})=>Jt.getPool(e.value,a),enabled:w(()=>!!e.value)})}function ev(e,t){const a=w(()=>t.value.map(s=>({queryKey:["curve-pool",s],queryFn:()=>Jt.getPool(e.value,s),enabled:w(()=>!!e.value)})));return ki({queries:a})}function tv(e,t){return Z({queryKey:["curve-volume",t],queryFn:async({queryKey:[,a]})=>Jt.getVolume(e.value,a),enabled:w(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const av=["src"],ov=P({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{}},setup(e){const t=R("");function a(n){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${n}.png`}const s=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};return x(()=>e.address,n=>{t.value=a(n.toLowerCase())},{immediate:!0}),(n,l)=>(g(),L("img",{src:t.value,onError:s},null,40,av))}}),ut=I(ov,[["__scopeId","data-v-3faa27cd"]]),Da=e=>(de("data-v-c920758b"),e=e(),pe(),e),sv={key:0},nv=Da(()=>p("button",null,"1",-1)),lv=[nv],rv=Da(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),iv=[rv],cv=["onClick"],uv=Da(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),dv=[uv],pv=P({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const a=t,s=w(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),n=w(()=>{const f=[...Array(12).keys()].map(C=>C-6+e.page).filter(C=>C>=1&&C<=s.value),m=f.findIndex(C=>C===e.page),v=[],h=[],b=e.page!==1&&e.page!==s.value?[e.page]:[];let y=1;for(;;){const C=f[m-y];if(C&&C!==1&&v.unshift(C),v.length+h.length+b.length>=5||y>f.length)break;const k=f[m+y];if(k&&k!==s.value&&h.push(k),y++,v.length+h.length+b.length>=5||y>f.length)break}return[...v,...b,...h]});x(n,()=>{const d=l(e.page,1,s.value);e.page!==d&&a("page",d)});const l=(d,u,f)=>(f<u&&(f=u),Math.min(Math.max(d,u),f)),c=()=>a("page",l(e.page-1,1,s.value)),i=()=>a("page",l(e.page+1,1,s.value)),r=d=>a("page",l(d,1,s.value));return(d,u)=>o(s)>1?(g(),L("ul",sv,[p("li",{class:O({active:d.page===1}),onClick:u[0]||(u[0]=f=>r(1))},lv,2),o(s)>2?(g(),L("li",{key:0,onClick:c},iv)):B("",!0),(g(!0),L(se,null,he(o(n),(f,m)=>(g(),L("li",{key:m,class:O({active:f===d.page}),onClick:v=>r(f)},[p("button",null,T(f),1)],10,cv))),128)),o(s)>2?(g(),L("li",{key:1,onClick:i},dv)):B("",!0),o(s)>1?(g(),L("li",{key:2,class:O({active:d.page===o(s)}),onClick:u[1]||(u[1]=f=>r(o(s)))},[p("button",null,T(o(s)),1)],2)):B("",!0)])):B("",!0)}}),je=I(pv,[["__scopeId","data-v-c920758b"]]);function Fa(e,t,a){const s=R(t),n=R("desc"),l=(i,r)=>{s.value=i,n.value=r},c=w(()=>e.filter(i=>i!==""));return{sortColumns:e,sortColumnsNoEmpty:c,sortColumn:s,sortOrder:n,onSort:l}}function Ma(e,t){const a=R(1),s=w(()=>F.chain(e.value).drop((a.value-1)*t).take(t).value()),n=l=>{a.value=l};return x(s,l=>{l.length===0&&(a.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:a,rowsPage:s,onPage:n}}function xa(){const e=R(1);return{page:e,onPage:a=>{e.value=a}}}const mv={class:"title"},vv={style:{display:"flex",gap:"1rem"}},hv={class:"tokens"},_v={class:"number"},fv={class:"number"},bv={class:"number"},bo=20,En=P({__name:"TablePools",props:{chain:{},pools:{}},setup(e){const{t}=M(),{sortColumns:a,sortColumnsNoEmpty:s,sortColumn:n,sortOrder:l,onSort:c}=Fa(["","","name","volume","tvl","util"],"tvl"),i=w(()=>F.chain(e.pools).orderBy(m=>{switch(n.value){case"name":return m.name;case"volume":return m.tradingVolume24h;case"tvl":return m.tvlUsd;case"util":return f(m);default:return m.tvlUsd}},l.value).value()),{page:r,rowsPage:d,onPage:u}=Ma(i,bo);function f(m){return m.tvlUsd!==0?100*m.tradingVolume24h/m.tvlUsd:0}return(m,v)=>{const h=je,b=ut,y=ae,C=_e;return g(),V(C,{class:"datatable-pools","columns-header":"1fr auto","columns-data":"pools-columns-data","expand-side":"left",rows:o(d),columns:["","","Name","Volume (24h)","TVL","Util Rate"],sorting:!0,"sorting-columns":o(a),"sorting-columns-enabled":o(s),"sorting-default-column":"tvl","sorting-default-dir":"desc",onSortColumn:o(c)},{"header-content":S(()=>[p("div",mv,T(o(t)("title")),1),p("div",vv,[_(h,{class:"pagination","items-count":m.pools.length,"items-per-page":bo,page:o(r),onPage:o(u)},null,8,["items-count","page","onPage"])])]),row:S(({item:k})=>[p("div",hv,[(g(!0),L(se,null,he(k.coins,$=>(g(),V(b,{key:$.address,chain:m.chain,address:$.address},null,8,["chain","address"]))),128))]),p("div",null,T(k.name),1),p("div",_v,[_(y,{value:k.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",fv,[_(y,{value:k.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",bv,[_(y,{value:f(k),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":S(()=>[z("   ")]),_:1},8,["rows","sorting-columns","sorting-columns-enabled","onSortColumn"])}}});function go(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}}}})}typeof go=="function"&&go(En);const gv=I(En,[["__scopeId","data-v-4e5b2325"]]),yv={class:"pools"},wv={class:"toolbar"},Wn=P({__name:"Pools.page",setup(e){const{t}=M(),a=["ethereum","arbitrum"],s=ye("chain"),n=w({get(){return s.value?s.value:"ethereum"},set(b){s.value=b}}),l=R(""),{isFetching:c,data:i}=Rn(n),{isFetching:r,data:d}=Zm(n),u=w(()=>{var b;return(((b=d.value)==null?void 0:b.pools)??[]).filter(y=>{const C=l.value.toLocaleLowerCase().split(" "),k=$=>C.some(A=>$.toLocaleLowerCase().includes(A));return k(y.name)||k(y.address)})}),{show:f,crumbs:m}=E(Ee());le(()=>{f.value=!0,m.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const v=Oe(),h=async b=>{await v.push({name:"poolspool",params:{tab:"",chain:n.value,poolAddr:b.address}})};return(b,y)=>{const C=Te,k=ae,$=we;return g(),L("div",yv,[(g(),V(Nt,{to:"#toolbar"},[p("div",wv,[_(C,{modelValue:o(l),"onUpdate:modelValue":y[0]||(y[0]=A=>ue(l)?l.value=A:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(Tt,{class:"chain-select",chain:o(n),chains:a,onSelectChain:y[1]||(y[1]=A=>n.value=A==="all"?"ethereum":A)},null,8,["chain"])])])),_($,{style:{"grid-area":"kpi1"},label:o(t)("tvl"),"has-value":!o(c)},{default:S(()=>{var A;return[_(k,{value:((A=o(i))==null?void 0:A.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi2"},label:o(t)("volume"),"has-value":!o(c)},{default:S(()=>{var A;return[_(k,{value:((A=o(i))==null?void 0:A.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi3"},label:o(t)("fee-trading"),"has-value":!o(c)},{default:S(()=>{var A;return[_(k,{value:((A=o(i))==null?void 0:A.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi4"},label:o(t)("fee-liquidity"),"has-value":!o(c)},{default:S(()=>{var A;return[_(k,{value:((A=o(i))==null?void 0:A.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(o(gv),{style:{"grid-area":"pools"},chain:o(n),pools:o(u),loading:o(r),onSelected:h},null,8,["chain","pools","loading"])])}}});function yo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},"fee-trading":{t:0,b:{t:2,i:[{t:3}],s:"Fees Trading (24h)"}},"fee-liquidity":{t:0,b:{t:2,i:[{t:3}],s:"Fees Liquidity (24h)"}}}})}typeof yo=="function"&&yo(Wn);const $v=I(Wn,[["__scopeId","data-v-51a31035"]]),Cv={class:"tab-view"},kv={class:"tab-headers"},Sv=["onClick"],Lv={class:"tabs"},Tv=P({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const a=t,s=R(null),n=cn(),l=w(()=>(n!=null&&n.default?n.default():[]).filter(r=>r.props));x(()=>e.active,i=>{s.value=i,a("tab",{tab:l.value[i],index:s.value})},{immediate:!0});const c=(i,r)=>{i.props.disabled||(s.value=r,a("tab",{tab:l.value[r],index:s.value}))};return(i,r)=>(g(),L("div",Cv,[p("ul",kv,[(g(!0),L(se,null,he(o(l),(d,u)=>(g(),L("li",{key:u,class:O(["tab-header",{active:o(s)===u,disabled:d.props.disabled}]),onClick:f=>c(d,u)},T(d.props.header),11,Sv))),128))]),p("div",Lv,[(g(!0),L(se,null,he(o(l),(d,u)=>Si((g(),L("div",{key:u,class:"tab"},[(g(),V(ba(d)))])),[[Li,o(s)===u]])),128))])]))}}),Ge=I(Tv,[["__scopeId","data-v-cb076fcc"]]),Xe=P({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,a)=>oe(t.$slots,"default")}}),Av=new qn;function Pv(e,t,a,s){return Z({queryKey:["curve-token-price",t,a,s],queryFn:({queryKey:[,n,l,c]})=>Av.getOHLC(e.value,n,l,c),enabled:w(()=>!!e.value&&!!t.value&&!!a.value&&!!s.value),initialData:[],initialDataUpdatedAt:0})}const Iv=P({__name:"ButtonToggle",props:ze({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:ze(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=Kt(e,"modelValue"),s=t,n=()=>{const l=!a.value;a.value=l,s("change",l)};return(l,c)=>(g(),L("button",{class:O({toggled:a.value}),onClick:n},[oe(l.$slots,"default",{},()=>[l.icon?(g(),L("i",{key:0,class:O(["icon",l.icon])},null,2)):B("",!0),z(" "+T(l.value),1)],!0)],2))}}),Ye=I(Iv,[["__scopeId","data-v-a1d85e63"]]),Vv={class:"controls"},Hn=P({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),n=R(!1);let l=1,c=0;const{chart:i,chartRef:r}=ve(s,d,v=>{a=v.addCandlestickSeries(u())});x([H(()=>e.ohlc),i,n],f),x(s,()=>{a==null||a.applyOptions(u())});function d(v){return ne(v,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){const{colors:v}=s.value;return{priceFormat:{type:"custom",formatter:m},upColor:v.green,borderUpColor:v.green,wickUpColor:v.green,downColor:v.red,borderDownColor:v.red,wickDownColor:v.red}}function f([v,h,b]){if(!h||!a)return;const y=b?-1:1,C=F.chain(v).map(k=>({time:k.time,open:Math.pow(k.open,y),high:Math.pow(k.high,y),low:Math.pow(k.low,y),close:Math.pow(k.close,y)})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();C.length>0&&(a.setData(C),c=Math.min(...C.map(k=>k.low)),l=Math.max(...C.map(k=>k.high))),h.timeScale().fitContent()}const m=v=>{const h=l-c,b=h>1?h-Math.floor(h):h,y=-Math.floor(Math.log10(b)+1)+2;return`${j(v,y,"dollar")}${Q(v,"dollar")}`};return(v,h)=>{const b=Ye,y=Y;return g(),V(y,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",Vv,[_(b,{value:"Invert","model-value":o(n),onClick:h[0]||(h[0]=C=>n.value=!o(n))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof wo=="function"&&wo(Hn);const Rv=I(Hn,[["__scopeId","data-v-5c46d7d5"]]),Nn=P({__name:"ChartVolume",props:{volume:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,u=>{a=u.addAreaSeries(i())});x([H(()=>e.volume),n],r),x(s,()=>a.applyOptions(i()));function c(u){return ne(u,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!a)return;const m=F.chain(u).map(v=>({time:v.timestamp,value:v.volume})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();m.length>0&&a.setData(m),f.timeScale().fitContent()}const d=u=>`$${j(u,1,"dollar")}${Q(u,"dollar")}`;return(u,f)=>{const m=Y;return g(),V(m,{class:"chart-container",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function $o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof $o=="function"&&$o(Nn);const qv=I(Nn,[["__scopeId","data-v-bcdf85f2"]]),Dv={class:"pool-overview"},Fv={class:"tokens"},Kn=P({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const{t}=M(),a=w(()=>{var u;return(u=e.pool)==null?void 0:u.address}),s=w(()=>{var u;return(u=e.pool)==null?void 0:u.coins[0].address}),n=w(()=>{var u;return(u=e.pool)==null?void 0:u.coins[1].address}),{isFetching:l,data:c}=Pv(H(()=>e.chain),a,s,n),{isFetching:i,data:r}=tv(H(()=>e.chain),a),d=w(()=>r.value.map(u=>({timestamp:u.timestamp,volume:u.volume})));return(u,f)=>{const m=ut,v=we,h=ae;return g(),L("div",Dv,[_(v,{style:{"grid-area":"kpi1"},label:o(t)("tokens"),"has-value":!!u.pool},{default:S(()=>{var b;return[p("div",Fv,[(g(!0),L(se,null,he(((b=u.pool)==null?void 0:b.coins)??[],y=>(g(),V(m,{key:y.address,chain:u.chain,address:y.address},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),_(v,{style:{"grid-area":"kpi2"},label:o(t)("tvl"),"has-value":!!u.pool},{default:S(()=>{var b;return[_(h,{value:((b=u.pool)==null?void 0:b.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(v,{style:{"grid-area":"kpi3"},label:o(t)("volume"),"has-value":!!u.pool},{default:S(()=>{var b;return[_(h,{value:((b=u.pool)==null?void 0:b.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(v,{style:{"grid-area":"kpi4"},label:o(t)("fees"),"has-value":!!u.pool},{default:S(()=>{var b;return[_(h,{value:((b=u.pool)==null?void 0:b.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(o(Rv),{style:{"grid-area":"price"},ohlc:o(c),loading:o(l)},null,8,["ohlc","loading"]),_(o(qv),{style:{"grid-area":"volume"},volume:o(d),loading:o(i)},null,8,["volume","loading"])])}}});function Co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{tokens:{t:0,b:{t:2,i:[{t:3}],s:"Tokens"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees (24h)"}}}})}typeof Co=="function"&&Co(Kn);const Mv=I(Kn,[["__scopeId","data-v-98037ced"]]),xv={},Bv={class:"gauge"};function Ov(e,t){return g(),L("div",Bv,"Gauge goes here")}const Uv=I(xv,[["render",Ov],["__scopeId","data-v-d3275186"]]),Ev={},Wv={class:"mev"};function Hv(e,t){return g(),L("div",Wv,"MEV goes here")}const Nv=I(Ev,[["render",Hv],["__scopeId","data-v-284efb34"]]);function ea(e,t,a){const s=Oe(),n=ye("tab",e[0]),l=R(-1);return x(n,c=>l.value=e.findIndex(i=>i===c),{immediate:!0}),x(l,async c=>{c===-1&&(c=0),await s.push({name:t,params:{tab:e[c],...(a==null?void 0:a())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:l}}const Kv={class:"pool"},zv=P({__name:"Pool.page",setup(e){const{show:t,crumbs:a}=E(Ee()),s=ye("chain"),n=ye("poolAddr"),{isFetching:l,data:c}=Jm(s,n.value);x(c,d=>{a.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:s.value})},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),le(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:r}=ea(["overview","gauge","mev"],"poolspool",()=>({chain:s.value,poolAddr:n.value}));return(d,u)=>{const f=Ue,m=Xe,v=Ge;return g(),L("div",Kv,[_(f,{class:O(["spinner",{loading:o(l)}])},null,8,["class"]),!o(l)&&o(c)?(g(),V(v,{key:0,active:o(r),onTab:u[0]||(u[0]=h=>r.value=h.index)},{default:S(()=>[_(m,{header:"Overview"},{default:S(()=>[(g(),V(Se,null,[o(i)==="overview"?(g(),V(Mv,{key:0,pool:o(c),chain:o(s)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1}),_(m,{header:"Gauge"},{default:S(()=>[(g(),V(Se,null,[o(i)==="gauge"?(g(),V(Uv,{key:0,pool:o(c),chain:o(s)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1}),_(m,{header:"MEV"},{default:S(()=>[(g(),V(Se,null,[o(i)==="mev"?(g(),V(Nv,{key:0,pool:o(c),chain:o(s)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),Qv=I(zv,[["__scopeId","data-v-871c8994"]]),Ba=Qe("curveStore",()=>{const e=R([]),t=R({}),a=R({});function s(l,c){t.value[l]=c}function n(l,c){a.value[l]=c}return{gauges:e,emissions:t,fees:a,setEmissions:s,setFees:n}});function Je(e){const t=e.reduce((a,{timeStamp:s,value:n})=>a.set(s,(a.get(s)??0)+n),new Map);return Array.from(t).map(a=>({timeStamp:a[0],value:a[1]}))}const zn=P({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(e){const{t}=M(),a=Ba(),{theme:s}=E(N()),n=w(()=>{let h=t("title");return e.gaugeSelected&&(h+=` - ${Fe(e.gaugeSelected.name)}`),h}),l=w(()=>e.gaugeSelected?a.emissions[e.gaugeSelected.name]??[]:[]),c=w(()=>e.gaugeSelected?a.fees[e.gaugeSelected.name]??[]:[]),i=w(()=>Math.min(...Je(l.value).map(h=>h.value).concat(Je(c.value).map(h=>h.value)))),r=w(()=>Math.max(...Je(l.value).map(h=>h.value).concat(Je(c.value).map(h=>h.value)).map(h=>Math.abs(h)))),d=w(()=>re(s.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>f(h)},min:i,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>m(h)},show:!1,min:i,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const b=h.w.globals.initialSeries[0].data[h.dataPointIndex].y,y=h.w.globals.initialSeries[1].data[h.dataPointIndex]?h.w.globals.initialSeries[1].data[h.dataPointIndex].y:0;return[`<div><b>${t("emissions")}</b>:</div><div>${f(b)}</div>`,`<div><b>${t("fees")}</b>:</div><div>${m(y)}</div>`,`<div><b>${t("ratio")}</b>:</div><div>${v(y/b)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(h){return h}}})),u=w(()=>{const h=Je(l.value),b=Je(c.value),y=Object.assign({},...b.map(C=>({[C.timeStamp]:C.value})));return[{name:t("emissions"),type:"line",data:h.map(C=>({x:C.timeStamp*1e3,y:C.value}))},{name:t("fees"),type:"line",data:h.map(C=>({x:C.timeStamp*1e3,y:y[C.timeStamp]?Math.abs(y[C.timeStamp]):0}))}]}),f=h=>`$${j(Math.abs(h),1,"dollar")}${Q(h,"dollar")}`,m=h=>`$${j(h,1,"dollar")}${Q(h,"dollar")}`,v=h=>`${He(h,2)}`;return(h,b)=>{const y=me;return g(),V(y,{class:"emissions",title:o(n),options:o(d),series:o(u)},null,8,["title","options","series"])}}});function ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Emissions & Revenues"}},emissions:{t:0,b:{t:2,i:[{t:3}],s:"Emissions"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof ko=="function"&&ko(zn);const jv=I(zn,[["__scopeId","data-v-36dfe414"]]),Gv={class:"title"},Xv={class:"number"},Yv={key:0,class:"charts"},Zv={key:1},Qn=P({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(e){const{t}=M(),a=Ba(),{sortColumns:s,sortColumnsNoEmpty:n,sortColumn:l,sortOrder:c,onSort:i}=Fa(["","name","tvl"],"tvl"),r=w(()=>F.orderBy(a.gauges,d=>{switch(l.value){case"name":return Fe(d.name);case"tvl":return d.tvl;default:return d.tvl}},c.value));return(d,u)=>{const f=ae,m=_e;return g(),V(m,{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:o(r),columns:["",o(t)("name"),o(t)("tvl")],sorting:!0,"sorting-columns":o(s),"sorting-columns-enabled":o(n),"sorting-default-column":"tvl","sorting-default-dir":"desc",expanded:d.expanded,onSortColumn:o(i)},{"header-content":S(()=>[p("div",Gv,T(o(t)("title")),1)]),row:S(v=>[p("div",null,T(o(Fe)(v.item.name)),1),p("div",Xv,[_(f,{value:v.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":S(v=>[d.expanded.includes(v.item)?(g(),L("div",Yv,[_(jv,{class:"fees-and-emissions","gauge-selected":v.item},null,8,["gauge-selected"])])):(g(),L("span",Zv))]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","expanded","onSortColumn"])}}});function So(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},title:{t:0,b:{t:2,i:[{t:3}],s:"Curve Pools"}}}})}typeof So=="function"&&So(Qn);const Jv=I(Qn,[["__scopeId","data-v-8c9112fb"]]);class eh extends Ct{async get(){const t=await this.getHost();return this.fetch(`${t}/curvepool`)}}class th extends Ct{async get(t){const a=await this.getHost();return this.fetch(`${a}/curvepoolsnapshots`,{pool:t.name})}}const ah=yc.laf;let qt=null;async function wt(){return qt||(qt=ah,qt)}function Oa(){const e=R([]);return{expanded:e,toggleExpansion:a=>e.value.includes(a)?(e.value=e.value.filter(s=>s!==a),!1):(e.value.push(a),!0)}}const oh={class:"gauges"},sh=P({__name:"Gauges.page",setup(e){let t=!1;const a=new eh(wt()),s=new th(wt()),n=Ba(),l=Oe(),c=ye("gauge"),{expanded:i,toggleExpansion:r}=Oa();le(async()=>{t=!0;const m=await gt(a.get());if(m){const v=m.pools;if(v.sort((h,b)=>b.tvl-h.tvl),n.gauges=v,!t)return;c.value&&u(c.value)}}),wa(()=>{t=!1});const d=async m=>{if(!m||n.fees[m.name]&&n.emissions[m.name])return;const v=await gt(s.get(m),500);if(v){const h=v.data.feeSnapshots,b=v.data.emissionSnapshots;n.setFees(m.name,h),n.setEmissions(m.name,b)}},u=m=>{const v=La(m),h=n.gauges.find(b=>b.name===v);h&&r(h)&&d(h)},f=async m=>{r(m)&&(d(m),await l.push({name:"curvegauges",params:{gauge:Fe(m.name)}}))};return(m,v)=>(g(),L("div",oh,[_(Jv,{class:"datatable-gauges",expanded:o(i),onSelected:f},null,8,["expanded"])]))}}),nh=I(sh,[["__scopeId","data-v-d5118936"]]),lh=e=>({week:e.week,label:e.label,total_fees:e.total_fees}),rh=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),ih=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),ch=e=>({pool:e.pool,address:e.address.toLowerCase(),chain:e.chain,coins:e.coins.map(t=>t.toLocaleLowerCase()),coinNames:e.coinNames,balance:e.balance,value:e.value,totalUSD:e.totalUSD}),Dt="https://api-py.llama.airforce/curve/v1";class uh extends ke{async getBreakdown(t){return(await this.fetch(`${Dt}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(lh)}async getByChain(t){return(await this.fetch(`${Dt}/protocol/revenue/chains`,void 0,t)).revenue.map(rh)}async getTopPools(t,a=10){const s=t==="ethereum"?"mainnet":t;return(await this.fetch(`${Dt}/protocol/revenue/${s}/toppools/${a}`)).revenue.map(ih)}async getCushions(){return(await this.fetch(`${Dt}/protocol/couch/cushions`)).cushions.map(ch)}}const ta=new uh;function aa(){return{initialData:[],initialDataUpdatedAt:0}}function dh(){return Z({queryKey:["curve-cushions"],queryFn:()=>ta.getCushions().then(e=>e.sort((t,a)=>a.totalUSD-t.totalUSD)),...aa()})}function ph(e){return Z({queryKey:["curve-revenue-top-pools",e],queryFn:({queryKey:[,t]})=>ta.getTopPools(t),...aa()})}function mh(){return Z({queryKey:["curve-revenue-chain"],queryFn:()=>ta.getByChain().then(e=>e.sort((t,a)=>a.totalDailyFeesUSD-t.totalDailyFeesUSD)),...aa()})}function vh(){return Z({queryKey:["curve-revenue-breakdown"],queryFn:()=>ta.getBreakdown(),...aa()})}const hh={class:"actions"},jn=P({__name:"ChartRevenueBreakdown",setup(e){const{t}=M(),{theme:a}=E(N()),{items:s}=Re(()=>[{id:"dao",label:"DAO",color:a.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:a.value.colorsArray[1]}]),{isFetching:n,data:l}=vh(),c=w(()=>{const{colors:v,colorsArray:h}={colors:a.value.colors,colorsArray:[a.value.colorsArray[0],m(a.value.colorsArray[0],10),m(a.value.colorsArray[0],20),a.value.colorsArray[1],m(a.value.colorsArray[1],10)]};return re({colors:v,colorsArray:h},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:r.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:f},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),i=w(()=>F.chain(l.value).groupBy(v=>v.week).map(v=>({week:v[0].week,numLabels:v.length})).orderBy(v=>v.week,"asc").dropWhile(v=>v.numLabels<3).map(v=>v.week).value()),r=w(()=>F.chain(i.value).map(v=>new Date(v*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),d=w(()=>F.chain(l.value).groupBy(v=>v.label).map((v,h)=>({name:h,data:F.chain(i.value).map(b=>({week:b,breakdown:v.find(y=>y.week===b)})).map(b=>{var y;return{x:new Date(b.week*1e3).toLocaleDateString(),y:((y=b.breakdown)==null?void 0:y.total_fees)??0}}).value()})).orderBy(v=>v.name).value()),u=v=>v,f=v=>`$${j(v,0,"dollar")}${Q(v,"dollar")}`,m=(v,h)=>{let[b,y,C]=[v.slice(1,3),v.slice(3,5),v.slice(5,7)].map($=>parseInt($,16));const k=($,A)=>Math.min(255,Math.max(0,A+Math.round(2.55*$)));return b=k(h,b),y=k(h,y),C=k(h,C),`#${b.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}${C.toString(16).padStart(2,"0")}`};return(v,h)=>{const b=Ve,y=St,C=me;return g(),V(C,{class:"chart",options:o(c),series:o(d),loading:o(n),title:o(t)("title")},{actions:S(()=>[p("div",hh,[_(b,{items:o(s)},null,8,["items"]),_(y,{placement:"left"},{default:S(()=>[p("div",null,T(o(t)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function Lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Revenue breakdown by source"}},"legend-explanation":{t:0,b:{t:2,i:[{t:3}],s:"DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"}}}})}typeof Lo=="function"&&Lo(jn);const _h=I(jn,[["__scopeId","data-v-7b3baf6d"]]),Gn=P({__name:"ChartRevenueChain",setup(e){const{t}=M(),{theme:a}=E(N()),{isFetching:s,data:n}=mh(),l=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex][0];return[`<div><b>${d}</b>:</div><div>${i(u)}</div>`].join("")}},labels:n.value.map(r=>r.chain)})),c=w(()=>n.value.map(r=>r.totalDailyFeesUSD)),i=r=>`$${j(Math.abs(r),1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return g(),V(u,{class:"chart",options:o(l),series:o(c),loading:o(s),title:o(t)("title")},null,8,["options","series","loading","title"])}}});function To(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total revenue by chain"}}}})}typeof To=="function"&&To(Gn);const fh=I(Gn,[["__scopeId","data-v-bc57f45a"]]),Xn=P({__name:"ChartRevenueTopPools",setup(e){const{t}=M(),{theme:a}=E(N()),s=R("ethereum"),{isFetching:n,data:l}=ph(s),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(u=>u.name),labels:{formatter:r}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:r,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));le(()=>{d("ethereum")});const i=w(()=>[{data:l.value.map(u=>u.totalDailyFeesUSD)}]),r=u=>`$${j(Math.abs(u),1,"dollar")}${Q(u,"dollar")}`,d=u=>{u!=="all"&&(s.value=u)};return(u,f)=>{const m=me;return g(),V(m,{class:"graph",options:o(c),series:o(i),loading:o(n),title:o(t)("title")},{default:S(()=>[p("div",{class:O(["selector",{loading:o(n)}])},[_(Tt,{chain:o(s),onSelectChain:d},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function Ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 pools by revenue (last 7 days)"}}}})}typeof Ao=="function"&&Ao(Xn);const bh=I(Xn,[["__scopeId","data-v-ad36b663"]]),gh={class:"revenue-charts"},yh=P({__name:"Dashboard",setup(e){return(t,a)=>(g(),L("div",gh,[_(fh,{class:"chain-revenues"}),_(bh,{class:"chain-top-pools"}),_(_h,{class:"breakdown"})]))}}),wh=I(yh,[["__scopeId","data-v-d71af22f"]]),Ua=e=>(de("data-v-9c1d9e86"),e=e(),pe(),e),$h={class:"title"},Ch={class:"chain"},kh=["src"],Sh={class:"label"},Lh={class:"number"},Th=Ua(()=>p("div",null,null,-1)),Ah=Ua(()=>p("div",null,null,-1)),Ph=Ua(()=>p("div",null,null,-1)),Ih={class:"number"},Yn=P({__name:"TableCushions",setup(e){const{t}=M(),a=R(""),s=R("all"),n=w(()=>F.chain(c.value).filter(i=>i.totalUSD>100).filter(i=>{const r=a.value.toLocaleLowerCase().split(" "),d=f=>r.some(m=>f.toLocaleLowerCase().includes(m)),u=s.value==="all"?!0:s.value===i.chain;return(d(i.pool)||d(i.address)||d(i.chain)||d(i.coins.join(" ")))&&u}).value()),{isFetching:l,data:c}=dh();return(i,r)=>{const d=Te,u=ae,f=_e;return g(),V(f,{class:"datatable-cushions","columns-header":"1fr 14rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:o(l),rows:o(n),columns:["Name","Coins","Chain","Fees ($)"]},{"header-content":S(()=>[p("div",$h,T(o(t)("title")),1),_(Tt,{class:"chain-select",chain:o(s),all:!0,onSelectChain:r[0]||(r[0]=m=>s.value=m)},null,8,["chain"]),_(d,{modelValue:o(a),"onUpdate:modelValue":r[1]||(r[1]=m=>ue(a)?a.value=m:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S(m=>[p("div",null,T(m.item.pool),1),p("div",null,T(m.item.coinNames.join(" / ")),1),p("div",Ch,[o(Wt)(m.item.chain)?(g(),L("img",{key:0,src:o(Wt)(m.item.chain)},null,8,kh)):B("",!0),p("span",Sh,T(m.item.chain),1)]),p("div",Lh,[_(u,{value:m.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[Th,Ah,Ph,p("div",Ih,[_(u,{value:o(n).reduce((m,v)=>m+v.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function Po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cushions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Po=="function"&&Po(Yn);const Vh=I(Yn,[["__scopeId","data-v-9c1d9e86"]]),Rh={class:"cushions"},qh=P({__name:"Cushions",setup(e){return(t,a)=>(g(),L("div",Rh,[_(Vh)]))}}),Dh=I(qh,[["__scopeId","data-v-8d09f656"]]),Fh={class:"revenue"},Mh=P({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:a}=ea(["overview","cushions"],"revenue");return(s,n)=>{const l=Xe,c=Ge;return g(),L("div",Fh,[_(c,{active:o(a),onTab:n[0]||(n[0]=i=>a.value=i.index)},{default:S(()=>[_(l,{header:"Revenue"},{default:S(()=>[(g(),V(Se,null,[o(t)==="overview"?(g(),V(wh,{key:0})):B("",!0)],1024))]),_:1}),_(l,{header:"Cushions"},{default:S(()=>[(g(),V(Se,null,[o(t)==="cushions"?(g(),V(Dh,{key:0})):B("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),xh=I(Mh,[["__scopeId","data-v-09b9805f"]]),Bh=e=>(de("data-v-78427198"),e=e(),pe(),e),Oh={class:"title"},Uh={class:"number"},Eh={class:"number"},Wh={class:"number"},Hh={class:"number"},Nh=Bh(()=>p("div",null,null,-1)),Kh={class:"number"},zh={class:"number"},Qh={class:"number"},jh={class:"number"},Zn=P({__name:"TablePegkeepers",setup(e){const{t}=M(),a=R(""),s=w(()=>f.value||c.value),n=w(()=>F.chain(i.value).map(h=>{const b=m.value.find(y=>h.pool_address===y.address);if(b)return{...b,...h}}).filter(mc).orderBy(h=>h.tvlUsd,"desc").value()),l=w(()=>F.chain(n.value).filter(h=>{const b=a.value.toLocaleLowerCase().split(" "),y=C=>b.some(k=>C.toLocaleLowerCase().includes(k));return y(h.name)||y(h.address)}).value()),{isFetching:c,data:i}=Dn(),r=h=>`${h.pair[1].symbol} / ${h.pair[0].symbol}`,d=w(()=>i.value.map(h=>h.pool_address)),u=ev(R("ethereum"),d),f=w(()=>u.value.some(h=>h.isFetching)),m=w(()=>u.value.filter(h=>h.data).map(h=>h.data)),v=h=>h>=1e6?2:0;return(h,b)=>{const y=Te,C=ae,k=_e;return g(),V(k,{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:o(s),rows:o(l),columns:["Name","Debt","TVL","Volume","Fees"]},{"header-content":S(()=>[p("div",Oh,T(o(t)("title")),1),_(y,{modelValue:o(a),"onUpdate:modelValue":b[0]||(b[0]=$=>ue(a)?a.value=$:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S($=>[p("div",null,T(r($.item)),1),p("div",Uh,[_(C,{value:$.item.total_debt,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Eh,[_(C,{value:$.item.tvlUsd,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Wh,[_(C,{value:$.item.tradingVolume24h,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Hh,[_(C,{value:$.item.total_profit,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[Nh,p("div",Kh,[_(C,{value:o(l).reduce(($,A)=>$+A.total_debt,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",zh,[_(C,{value:o(l).reduce(($,A)=>$+A.tvlUsd,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Qh,[_(C,{value:o(l).reduce(($,A)=>$+A.tradingVolume24h,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",jh,[_(C,{value:o(l).reduce(($,A)=>$+A.total_profit,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function Io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pegkeepers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Io=="function"&&Io(Zn);const Gh=I(Zn,[["__scopeId","data-v-78427198"]]),Ea=e=>(de("data-v-8219e181"),e=e(),pe(),e),Xh={class:"title"},Yh={class:"number"},Zh={class:"number"},Jh={class:"number"},e_={class:"number"},t_={class:"number"},a_={class:"number"},o_=Ea(()=>p("div",null,null,-1)),s_=Ea(()=>p("div",null,null,-1)),n_={class:"number"},l_=Ea(()=>p("div",null,null,-1)),r_={class:"number"},i_={class:"number"},c_={class:"number"},u_={class:"number"},Jn=P({__name:"TableMarkets",setup(e){const{t}=M(),a=R(""),s=w(()=>F.chain(l.value).filter(i=>{const r=a.value.toLocaleLowerCase().split(" "),d=u=>r.some(f=>u.toLocaleLowerCase().includes(f));return d(i.name)||d(i.address)}).orderBy(i=>i.borrowed,"desc").value()),{isFetching:n,data:l}=qa(),c=i=>i>=1e6?2:0;return(i,r)=>{const d=Te,u=ae,f=_e;return g(),V(f,{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data","expand-side":"left",loading:o(n),rows:o(s),columns:["","Name","Loans","Rate","Borrowed","Collateral","Fees Pending","Fees Collected"]},{"header-content":S(()=>[p("div",Xh,T(o(t)("title")),1),_(d,{modelValue:o(a),"onUpdate:modelValue":r[0]||(r[0]=m=>ue(a)?a.value=m:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:S(m=>[p("div",null,T(m.item.name),1),p("div",Yh,T(m.item.loans),1),p("div",Zh,[_(u,{value:m.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),p("div",Jh,[_(u,{value:m.item.borrowed,precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",e_,[_(u,{value:m.item.collateralUsd,precision:c,type:"dollar"},null,8,["value"])]),p("div",t_,[_(u,{value:m.item.fees.pending,precision:c,type:"dollar"},null,8,["value"])]),p("div",a_,[_(u,{value:m.item.fees.collected,precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":S(()=>[o_,s_,p("div",n_,T(o(s).reduce((m,v)=>m+v.loans,0)),1),l_,p("div",r_,[_(u,{value:o(s).reduce((m,v)=>m+v.borrowed,0),precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",i_,[_(u,{value:o(s).reduce((m,v)=>m+v.collateralUsd,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",c_,[_(u,{value:o(s).reduce((m,v)=>m+v.fees.pending,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",u_,[_(u,{value:o(s).reduce((m,v)=>m+v.fees.collected,0),precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":S(()=>[z("   ")]),_:1},8,["loading","rows"])}}});function Vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Markets"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Vo=="function"&&Vo(Jn);const d_=I(Jn,[["__scopeId","data-v-8219e181"]]),p_=P({__name:"ChartCrvUsdPriceHistogram",setup(e){const{theme:t}=E(N()),{isFetching:a,data:s}=kp(),n=w(()=>re(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:d=>{const u=l.value[d.dataPointIndex],f=d.series[0][d.dataPointIndex];return[`<div><b>${u}</b>:</div><div>${r(f)}</div>`].join("")}}})),l=w(()=>s.value.x.map(d=>d.toString())),c=w(()=>[{data:s.value.y}]),i=d=>{const u=d-1;return u<0?`-$${u.toString().substring(2,7)}`:`$${u.toString().substring(1,6)}`},r=d=>{var m,v;const u=((v=(m=c.value[0])==null?void 0:m.data)==null?void 0:v.reduce((h,b)=>h+b,0))??1,f=d/u*100;return`${j(f,0,"dollar")}${Q(f,"percentage")}`};return(d,u)=>{const f=me;return g(),V(f,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:o(a),options:o(n),series:o(c)},null,8,["loading","options","series"])}}}),m_=I(p_,[["__scopeId","data-v-6059264b"]]),v_={class:"actions"},h_={class:"chart-types"},el=P({__name:"ChartCrvUsdSupply",setup(e){const{t}=M(),{theme:a}=E(N()),s=R("line"),{items:n}=Re(()=>[{id:"supply",label:"Supply",color:a.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:a.value.colorsArray[1]}]),{isFetching:l,data:c}=Cp(),i=r=>{s.value!==r&&(s.value=r)};return(r,d)=>{const u=Ve,f=Ye,m=Y;return g(),V(m,{class:"chart-container",title:o(t)("title"),loading:o(l)},{actions:S(()=>[p("div",v_,[o(s)==="line"?(g(),V(u,{key:0,items:o(n)},null,8,["items"])):B("",!0),p("div",h_,[_(f,{value:"Line","model-value":o(s)==="line",onClick:d[0]||(d[0]=v=>i("line"))},null,8,["model-value"]),_(f,{value:"Breakdown","model-value":o(s)==="breakdown",onClick:d[1]||(d[1]=v=>i("breakdown"))},null,8,["model-value"])])])]),default:S(()=>[(g(),V(Se,null,[o(s)==="line"?(g(),V(o(g_),{key:0,data:o(c)},null,8,["data"])):B("",!0)],1024)),(g(),V(Se,null,[o(s)==="breakdown"?(g(),V(o(b_),{key:0,data:o(c)},null,8,["data"])):B("",!0)],1024))]),_:1},8,["title","loading"])}}});function Ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD Supply"}}}})}typeof Ro=="function"&&Ro(el);const __=I(el,[["__scopeId","data-v-2553793b"]]),f_=P({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=E(N()),a=w(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=w(()=>F.chain(e.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>F.chain(e.data).groupBy(r=>r.market).map((r,d)=>({name:d,data:F.chain(r).groupBy(u=>u.timestamp).map((u,f)=>({x:new Date(parseInt(f,10)*1e3).toLocaleDateString(),y:u.reduce((m,v)=>m+v.supply,0)})).orderBy(u=>u.x,"asc").value()})).value()),l=w(()=>Math.max(...F.chain(e.data).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.supply,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=Xt;return g(),V(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),b_=I(f_,[["__scopeId","data-v-1651e212"]]),g_=P({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){let t,a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,f=>{t=f.addAreaSeries(i()),a=f.addLineSeries(r())});x([()=>e.data,n],d),x(s,()=>{t.applyOptions(i()),a.applyOptions(r())});function c(f){return ne(f,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ce.WithSteps,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function d([f,m]){if(!m||!t)return;const v=F.chain(f).groupBy(b=>b.timestamp).mapValues(b=>{var y;return{time:b[0].timestamp,value:b.reduce((C,k)=>C+k.supply,0),debt:((y=b.find(C=>C.market==="Keepers debt"))==null?void 0:y.supply)??0}}).entries().map(b=>b[1]).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value(),h=v.map(b=>({time:b.time,value:b.value-b.debt}));v.length>0&&t.setData(v),h.length>0&&a.setData(h),m.timeScale().fitContent()}const u=f=>`${j(f,0,"dollar")}${Q(f,"dollar")}`;return(f,m)=>(g(),L("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});class lt{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return lt.instance||(lt.instance=new lt),lt.instance}connect(t){this.ws||(this.ws=new WebSocket(t),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(t),1e3)},this.ws.onmessage=a=>{try{const n=JSON.parse(a.data).channel.slice(0,-6);if(this.listeners[n])for(const l of this.listeners[n])l(a.data);else this.messageQueue.push(a.data)}catch(s){console.error("WSManager error parsing message: ",s)}})}registerListener(t,a){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(a);const s=this.messageQueue.filter(n=>JSON.parse(n).channel===t);for(const n of s)a(n);this.messageQueue=this.messageQueue.filter(n=>!s.includes(n))}send(t){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(t):this.messageQueue.push(t)}processMessageQueue(){for(;this.messageQueue.length>0;){const t=this.messageQueue.shift();t&&this.send(t)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var ha=(e=>(e.subscribe="subscribe",e.unsubscribe="unsubscribe",e.snapshots="snapshots",e))(ha||{}),_a=(e=>(e.update="update",e.snapshot="snapshot",e))(_a||{});class qo{constructor(t,a,s,n,l,c){this.url=t,this.llamma=a,this.chain=s,this.interval=n,this.start=l,this.end=c,this.currentOHLCData=[],this.wsManager=lt.getInstance(),this.wsManager.connect(t),this.dataSubject=new Ti,this.data$=this.dataSubject.pipe(Ai((i,r)=>this.reconcileData(i,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",i=>{try{const r=JSON.parse(i);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",i)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const t={action:ha.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(t)}subscribeToUpdates(){const t={action:ha.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(t)}reconcileData(t,a){return a.type===_a.snapshot?a.payload:a.type===_a.update?(a.payload.forEach(s=>{const n=t.findIndex(l=>l.time===s.time);n!==-1?t[n]=s:t.push(s)}),[...t]):t}send(t){this.wsManager.send(JSON.stringify(t))}}const y_={class:"buttons"},Do="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",Fo="ethereum",Mo=86400,w_=P({__name:"ChartLlammaCandles",props:{market:{}},setup(e){const{t}=M();let a,s,n,l=1,c=0;const{theme:i}=E(N()),r=R([]);let d;const u=R(null),f=R(!1),m=w(()=>e.market?`Daily candles ${f.value?`crvUSD/${e.market.name}`:`${e.market.name}/crvUSD`}`:t("title"));le(async()=>{if(!u.value||!e.market)return;await mn();const b=ft(e.market.llamma),y=Date.now(),C=15*24*60*60*1e3,k=Math.floor(y/1e3),$=Math.floor((y-C)/1e3);a=new qo(Do,b,Fo,Mo,$,k);const{colors:A}=i.value;d=a.data$.subscribe(D=>{r.value=D,v(D,f.value)}),s=it(u.value,{width:u.value.clientWidth,height:u.value.clientHeight,layout:{background:{type:dn.Solid,color:A.backgroundColor},textColor:A.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:A.level2,style:pn.Dashed}},crosshair:{mode:Pi.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:D=>h(D)}}),n=s.addCandlestickSeries({upColor:A.green,borderUpColor:A.green,wickUpColor:A.green,downColor:A.red,borderDownColor:A.red,wickDownColor:A.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),ya(()=>{d.unsubscribe()}),x(r,b=>{v(b,f.value)}),x(f,b=>{v(r.value,b)}),x(()=>e.market,(b,y)=>{if(b&&b!==y){d.unsubscribe();const C=ft(b.llamma),k=Date.now(),$=15*24*60*60*1e3,A=Math.floor(k/1e3),D=Math.floor((k-$)/1e3);a=new qo(Do,C,Fo,Mo,D,A),d=a.data$.subscribe(U=>{r.value=U,v(U,f.value)})}});const v=(b,y)=>{if(!s||!n||!b)return;const C=y?-1:1,k=F.chain(b).map($=>({time:$.time,open:Math.pow($.open,C),high:Math.pow($.high,C),low:Math.pow($.low,C),close:Math.pow($.close,C)})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();k.length>0&&(n.setData(k),s.timeScale().fitContent(),c=Math.min(...k.map($=>$.low)),l=Math.max(...k.map($=>$.high)))},h=b=>{const y=l-c,C=y>1?y-Math.floor(y):y,k=-Math.floor(Math.log10(C)+1)+2;return`${j(b,k,"dollar")}${Q(b,"dollar")}`};return(b,y)=>{const C=Ye,k=Y;return g(),V(k,{class:"candles",title:o(m)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512),p("div",y_,[_(C,{modelValue:o(f),"onUpdate:modelValue":y[0]||(y[0]=$=>ue(f)?f.value=$:null)},{default:S(()=>[z(T(o(t)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"])}}});function xo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}},invert:{t:0,b:{t:2,i:[{t:3}],s:"Invert"}}}})}typeof xo=="function"&&xo(w_);const tl=P({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,r,m=>a=m.addAreaSeries(d())),{isFetching:c,data:i}=Gt(H(()=>e.market));x([i,n],u),x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:f},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,v]){if(!v||!a)return;const h=F.chain(m).map(b=>({time:b.timestamp,value:b.borrowable})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").dropWhile(b=>b.value===0).value();h.length>0&&a.setData(h),v.timeScale().fitContent()}const f=m=>`$${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,v)=>{const h=Y;return g(),V(h,{class:"chart-container",title:o(t)("title"),loading:o(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable & Debt Ceiling"}}}})}typeof Bo=="function"&&Bo(tl);const $_=I(tl,[["__scopeId","data-v-4b7ca1bd"]]),al=P({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,r,m=>{a=m.addHistogramSeries(d())}),{isFetching:c,data:i}=Gt(H(()=>e.market));x([i,n],u),x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:f}})}function d(){return{color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,v]){if(!v||!a)return;const h=F.chain(m).map(b=>({time:b.timestamp,value:b.nLoans})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();if(h.length>0){a.setData(h);const b=h[0].time,y=h[h.length-1].time;v.timeScale().setVisibleRange({from:b,to:y})}}const f=m=>Math.round(m).toString();return(m,v)=>{const h=Y;return g(),V(h,{class:"chart-container",title:o(t)("title"),loading:o(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Oo=="function"&&Oo(al);const C_=I(al,[["__scopeId","data-v-e5ca971e"]]),k_=["min","max","value"],S_=P({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t,s=n=>{a("update:modelValue",n.target.value)};return(n,l)=>(g(),L("input",{type:"number",min:n.min,max:n.max,value:n.modelValue,onInput:s},null,40,k_))}}),ol=I(S_,[["__scopeId","data-v-65b94541"]]),L_={class:"actions"},sl=P({__name:"ChartMarketRates",props:{market:{}},setup(e){const{t}=M();let a,s;const{theme:n}=E(N()),{chart:l,chartRef:c}=ve(n,u,y=>{a=y.addAreaSeries(f()),s=y.addLineSeries(m())}),i=R(null),{isFetching:r,data:d}=Gt(H(()=>e.market));x([d,l],v),x(i,()=>v([d.value,l.value])),x(n,()=>{a.applyOptions(f()),s.applyOptions(m())});function u(y){return ne(y,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function f(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,lineType:ce.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,lineType:ce.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function v([y,C]){if(!C||!a)return;const k=F.chain(y).map(D=>({time:D.timestamp,value:D.rate})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value(),$=b(k.map(D=>D.value),i.value??31),A=F.chain($).zip(k).map(D=>({time:D[1].time,value:D[0]})).value();if(A.length>0&&s.setData(A),k.length>0){a.setData(k);const D=k[0].time,U=k[k.length-1].time;C.timeScale().setVisibleRange({from:D,to:U})}}const h=y=>`${j(y*100,0,"percentage")}${Q(y,"percentage")}`,b=(y,C=7)=>y.map((k,$)=>{const A=Math.max($-(C-1),0),D=$+1,U=y.slice(A,D);return U.reduce((W,te)=>W+te,0)/U.length});return(y,C)=>{const k=ol,$=Y;return g(),V($,{class:"chart-container",title:o(t)("title"),loading:o(r)},{actions:S(()=>[p("div",L_,[_(k,{modelValue:o(i),"onUpdate:modelValue":C[0]||(C[0]=A=>ue(i)?i.value=A:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}}}})}typeof Uo=="function"&&Uo(sl);const T_=I(sl,[["__scopeId","data-v-1b564dfd"]]),A_=e=>{const t=e.provider.toLocaleLowerCase(),a=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,s=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,n=e.block_number,l=e.timestamp,c=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:a,withdrawal:s,block_number:n,timestamp:l,transaction_hash:c}},P_=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),I_=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),ia="https://prices.curve.fi";class V_ extends ke{async getEvents(t,a,s,n){const l=await this.fetch(`${ia}/v1/${t}/llamma_events/${a}/${s}?page=${n}&per_page=10`);return{events:l.data.map(A_),count:l.count}}async getTrades(t,a,s,n){const l=await this.fetch(`${ia}/v1/${t}/llamma_trades/${a}/${s}?page=${n}&per_page=10`);return{trades:l.data.map(P_),count:l.count}}async getOHLC(t,a,s){const n=Math.floor(new Date().getTime()/1e3),l=n-10*24*60*60;return(await this.fetch(`${ia}/v1/${t}/llamma_ohlc/${a}/${s}?agg_number=1&agg_units=hour&start=${l}&end=${n}`)).data.map(I_)}}const Wa=new V_;function nl(e,t,a,s){return Z({queryKey:["llamma-market-events",t,s],queryFn:({queryKey:[,n,l]})=>Wa.getEvents(e.value,a.value,n,l),placeholderData:Qt,enabled:w(()=>!!t.value&&!!a.value)})}function ll(e,t,a,s){return Z({queryKey:["llamma-market-trades",t,s],queryFn:({queryKey:[,n,l]})=>Wa.getTrades(e.value,a.value,n,l),placeholderData:Qt,enabled:w(()=>!!t.value&&!!a.value)})}function Ha(e,t,a){return Z({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,s]})=>Wa.getOHLC(e.value,a.value,s),enabled:w(()=>!!t.value&&!!a.value)})}const rl=P({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,r,m=>{a=m.addAreaSeries(d())}),{isFetching:c,data:i}=Ha(H("crvusd"),w(()=>{var m;return(m=e.market)==null?void 0:m.llamma}),H(()=>e.chain));x([i,n],u),x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:f},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,v]){if(!v||!a)return;const h=F.chain(m).map(b=>({time:b.time,value:b.volume})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();h.length>0&&a.setData(h),v.timeScale().fitContent()}const f=m=>`$${j(m,0,"dollar")}${Q(m,"dollar")}`;return(m,v)=>{const h=Y;return g(),V(h,{class:"chart-container",title:o(t)("title"),loading:o(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof Eo=="function"&&Eo(rl);const R_=I(rl,[["__scopeId","data-v-91ff7c57"]]),q_={class:"actions"},il=P({__name:"ChartKeeperPrices",setup(e){const{t}=M();let a=[];const{theme:s}=E(N()),n=["USDC","USDT","TUSD","USDP"],{items:l,toggles:c,disabled:i}=Re(()=>n.map((U,q)=>({id:U,label:U,color:s.value.colorsArray[q],togglable:!0}))),r=w(()=>d.value||f.value),{isFetching:d,data:u}=Dn(),{isFetching:f,data:m}=Sp(u),v=R(!1),h=R(void 0),{chart:b,chartRef:y}=ve(s,C,()=>{$()});x(s,()=>{for(const[U,q]of a.entries())q.applyOptions(k(U))});function C(U){return ne(U,s.value,{height:U.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function k(U){return{priceFormat:{type:"custom",formatter:D},lineWidth:2,lineType:ce.WithSteps,color:s.value.colorsArray[U],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:q=>{const W=q();return W!==null&&(W.priceRange.minValue=Math.max(.98,W.priceRange.minValue),W.priceRange.maxValue=Math.min(1.02,W.priceRange.maxValue)),W}}}function $(){if(b.value){for(const U of a)b.value.removeSeries(U);a=[];for(let U=0;U<n.length;U++){const q=b.value.addLineSeries(k(U));a.push(q)}}}zt(A);function A(){if(!(!b.value||a.length<0)){for(const[U,q]of n.entries()){if(!c[q].value){a[U].setData([]);continue}const W=F.chain(m.value).map(te=>({time:te.timestamp,value:te[q]})).uniqWith((te,K)=>te.time===K.time).orderBy(te=>te.time,"asc").value();W.length>0&&a[U].setData(W)}b.value.timeScale().fitContent()}}const D=U=>`${j(U,3,"dollar")}${Q(U,"dollar")}`;return(U,q)=>{const W=Ve,te=Y;return g(),V(te,{ref_key:"chartCard",ref:h,class:O(["chart-container",{fullscreen:o(v)}]),title:o(t)("title"),loading:o(r)},{actions:S(()=>{var K;return[p("div",q_,[_(W,{items:o(l),disabled:o(i),onToggle:q[0]||(q[0]=X=>o(c)[X].value=!o(c)[X].value)},null,8,["items","disabled"]),_(o(Zt),{modelValue:o(v),"onUpdate:modelValue":q[1]||(q[1]=X=>ue(v)?v.value=X:null),chart:o(b),target:(K=o(h))==null?void 0:K.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:y,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function Wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Stablecoin Prices of Pegkeepers"}}}})}typeof Wo=="function"&&Wo(il);const D_=I(il,[["__scopeId","data-v-197c1f11"]]),F_={class:"crvusd"},M_={class:"col"},x_={class:"col"},B_=P({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:a}=E(Ee());le(()=>{t.value=!0,a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const s=Oe(),n=async l=>{await s.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,c)=>(g(),L("div",F_,[_(o(d_),{style:{"grid-column":"1 / -1"},onSelected:n}),p("div",M_,[_(o(Gh)),_(o(D_))]),p("div",x_,[_(o(__)),_(o(m_))])]))}}),O_=I(B_,[["__scopeId","data-v-2e2b5a41"]]),U_={class:"addresses"},E_={class:"title"},W_=["href"],H_={key:1},cl=P({__name:"Addresses",props:{market:{}},setup(e){const{t}=M(),a=w(()=>{var l,c,i;return[{description:"controller",address:(l=e.market)==null?void 0:l.address},{description:"factory",address:(c=e.market)==null?void 0:c.factory},{description:"llamma",address:(i=e.market)==null?void 0:i.llamma}]}),s=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Ie,r=_e;return g(),L("div",U_,[_(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:o(a)},{"header-content":S(()=>[p("div",E_,T(o(t)("addresses")),1)]),row:S(({item:{description:d,address:u}})=>[p("div",null,T(o(t)(d)),1),p("div",null,[u?(g(),L("a",{key:0,class:"font-mono",href:s(u),target:"_blank"},T(u),9,W_)):(g(),L("span",H_,"?"))]),p("div",null,[_(i,{icon:"fas fa-link",onClick:f=>n(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function Ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},factory:{t:0,b:{t:2,i:[{t:3}],s:"Factory"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}}}})}typeof Ho=="function"&&Ho(cl);const N_=I(cl,[["__scopeId","data-v-e7d4d5dd"]]),K_={class:"properties"},z_={class:"title"},Q_={key:0},j_={class:"token-info"},G_=["href"],X_={key:1},ul=P({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=M();function a(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function s(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.stablecoin_token.symbol)??"?",address:((u=r==null?void 0:r.stablecoin_token)==null?void 0:u.address)??""}}const n=w(()=>[{description:"collateral",value:s("collateral",e.market)},{description:"borrowed",value:s("borrowed",e.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=ut,u=Ie,f=_e;return g(),L("div",K_,[_(f,{class:"datatable-properties","columns-data":"properties-columns-data",rows:o(n)},{"header-content":S(()=>[p("div",z_,T(o(t)("properties")),1)]),row:S(({item:{description:m,value:v}})=>[p("div",null,T(o(t)(m)),1),a(v)?(g(),L("div",Q_,[p("div",j_,[_(d,{chain:i.chain,address:v.address},null,8,["chain","address"]),p("div",null,T(v.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(v.address),target:"_blank"},T(v.address),9,G_)]),p("div",null,[_(u,{icon:"fas fa-link",onClick:h=>c(v.address)},null,8,["onClick"])])])])):(g(),L("div",X_,T(v),1))]),_:1},8,["rows"])])}}});function No(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof No=="function"&&No(ul);const Y_=I(ul,[["__scopeId","data-v-40db79a1"]]),Z_={class:"market"},dl=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=M();return(a,s)=>{const n=ae,l=we;return g(),L("div",Z_,[_(l,{style:{"grid-area":"kpi1"},label:o(t)("borrow-rate"),"has-value":!!a.market},{default:S(()=>{var c;return[_(n,{value:100*(((c=a.market)==null?void 0:c.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi2"},label:o(t)("borrowed"),"has-value":!!a.market},{default:S(()=>{var c;return[_(n,{value:(c=a.market)==null?void 0:c.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi3"},label:o(t)("borrowable"),"has-value":!!a.market},{default:S(()=>{var c;return[_(n,{value:(c=a.market)==null?void 0:c.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi4"},label:o(t)("loans"),"has-value":!!a.market},{default:S(()=>{var c;return[z(T(((c=a.market)==null?void 0:c.loans)??0),1)]}),_:1},8,["label","has-value"]),_(o(T_),{style:{"grid-area":"rates"},market:a.market},null,8,["market"]),_(o($_),{style:{"grid-area":"cap"},market:a.market},null,8,["market"]),_(o(C_),{style:{"grid-area":"loans"},market:a.market},null,8,["market"]),_(o(R_),{style:{"grid-area":"volume"},market:a.market,chain:a.chain},null,8,["market","chain"]),_(o(Y_),{style:{"grid-area":"properties"},market:a.market,chain:a.chain},null,8,["market","chain"]),_(o(N_),{style:{"grid-area":"addresses"},market:a.market,chain:a.chain},null,8,["market","chain"])])}}});function Ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-rate":{t:0,b:{t:2,i:[{t:3}],s:"Borrow Rate"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},borrowable:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Ko=="function"&&Ko(dl);const J_=I(dl,[["__scopeId","data-v-0122bf85"]]),ef=e=>({timestamp:We(e.timestamp),proportion:e.proportion/100}),tf=e=>({timestamp:We(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),af=e=>({timestamp:We(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),of=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),sf=e=>({timestamp:We(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),nf=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),et="https://prices.curve.fi";class lf extends ke{async getSoftLiqRatios(t,a,s){return(await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/soft_liquidation_ratio`)).data.map(ef)}async getLiqsDetailed(t,a,s){return(await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/history/detailed`)).data.map(tf)}async getLiqsAggregate(t,a,s){return(await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/history/aggregated`)).data.map(af)}async getLiqOverview(t,a,s){const n=await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/overview?fetch_on_chain=true`);return of(n)}async getLiqLosses(t,a,s){return(await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/losses/history`)).data.map(sf)}async getLiqHealthDeciles(t,a,s){return(await this.fetch(`${et}/v1/${t}/liquidations/${a}/${s}/health/distribution`)).data.map(nf)}}const dt=new lf;function At(){return{initialData:[],initialDataUpdatedAt:0}}function pt(e,t){return{enabled:w(()=>!!e.value&&(t?!!t.value:!0))}}function pl(e,t,a){return Z({queryKey:["liqs-soft-liqs",a],queryFn:({queryKey:[,s]})=>dt.getSoftLiqRatios(e.value,t.value,s),...pt(a,t),...At()})}function ml(e,t,a){return Z({queryKey:["liqs-detailed",a],queryFn:({queryKey:[,s]})=>dt.getLiqsDetailed(e.value,t.value,s),...pt(a,t),...At()})}function vl(e,t,a){return Z({queryKey:["liqs-aggregate",a],queryFn:({queryKey:[,s]})=>dt.getLiqsAggregate(e.value,t.value,s),...pt(a,t),...At()})}function hl(e,t,a){return Z({queryKey:["liqs-overview",a],queryFn:({queryKey:[,s]})=>dt.getLiqOverview(e.value,t.value,s),...pt(a,t)})}function _l(e,t,a){return Z({queryKey:["liqs-losses",a],queryFn:({queryKey:[,s]})=>dt.getLiqLosses(e.value,t.value,s),...pt(a,t),...At()})}function fl(e,t,a){return Z({queryKey:["liqs-health-deciles",a],queryFn:({queryKey:[,s]})=>dt.getLiqHealthDeciles(e.value,t.value,s),...pt(a,t),...At()})}const rf={class:"actions"},cf={class:"chart-types"},bl=P({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const{t}=M(),a=R("count"),s=n=>{a.value!==n&&(a.value=n)};return(n,l)=>{const c=Ye,i=Y;return g(),V(i,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",rf,[p("div",cf,[_(c,{value:"Count","model-value":o(a)==="count",onClick:l[0]||(l[0]=r=>s("count"))},null,8,["model-value"]),_(c,{value:"Value","model-value":o(a)==="value",onClick:l[1]||(l[1]=r=>s("value"))},null,8,["model-value"])])])]),default:S(()=>[o(a)==="count"?(g(),V(o(df),{key:0,liqs:n.liqs},null,8,["liqs"])):(g(),V(o(mf),{key:1,liqs:n.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function zo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Self & Hard Liquidations"}}}})}typeof zo=="function"&&zo(bl);const gl=I(bl,[["__scopeId","data-v-87546e02"]]),uf=P({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=E(N()),a=w(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=w(()=>F.chain(e.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=w(()=>Math.max(...F.chain(e.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfCount+u.hardCount,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=Xt;return g(),V(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),df=I(uf,[["__scopeId","data-v-58d11eea"]]),pf=P({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=E(N()),a=w(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=w(()=>F.chain(e.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=w(()=>Math.max(...F.chain(e.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfValue+u.hardValue,0)).value())*1.1),c=r=>r,i=r=>`${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=Xt;return g(),V(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),mf=I(pf,[["__scopeId","data-v-e512276c"]]),yl=P({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,u=>{a=u.addAreaSeries(i())});x([H(()=>e.losses),n],r),x(s,()=>a.applyOptions(i()));function c(u){return ne(u,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!a)return;const m=F.chain(u).map(v=>({time:v.timestamp,value:v.pctLossMedian})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();m.length>0&&a.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return g(),V(m,{class:"chart-container",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Qo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Median Loss % Among Loans with Losses"}}}})}typeof Qo=="function"&&Qo(yl);const wl=I(yl,[["__scopeId","data-v-33200252"]]),$l=P({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,u=>{a=u.addAreaSeries(i())});x([H(()=>e.losses),n],r),x(s,()=>a.applyOptions(i()));function c(u){return ne(u,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!a)return;const m=F.chain(u).map(v=>({time:v.timestamp,value:v.numTotalUsers>0?100*v.numUsersWithLosses/v.numTotalUsers:0})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();m.length>0&&a.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return g(),V(m,{class:"chart-container",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function jo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Proportion of Loans with Losses"}}}})}typeof jo=="function"&&jo($l);const Cl=I($l,[["__scopeId","data-v-44033f4c"]]),vf=P({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=E(N()),a=w(()=>re(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const r=i.series[0][i.dataPointIndex],d=i.series[1][i.dataPointIndex],u=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${c(d)}</div>`,`<div><b>Debt</b>: ${c(r)}</div>`,`<div><b>Stablecoin</b>: ${c(u)}</div>`].join("")}}})),s=w(()=>e.deciles.map(i=>i.decile)),n=w(()=>[{name:"Debt",data:Object.values(e.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(e.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(i=>i.stablecoin)}]),l=i=>i,c=i=>`$${j(i,0,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"chart",title:"Debt & Assets per Health Deciles",options:o(a),series:o(n)},null,8,["options","series"])}}}),kl=I(vf,[["__scopeId","data-v-772fcd0d"]]),hf={class:"actions"},Sl=P({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{t}=M();let a,s;const{theme:n}=E(N()),{items:l}=Re(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:n.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:n.value.colorsArray[1]}]),{chart:c,chartRef:i}=ve(n,r,h=>{a=h.addAreaSeries(u()),s=h.addAreaSeries(d())});x([H(()=>e.ratios),H(()=>e.pricesOracle),c],f),x(n,()=>{a.applyOptions(u()),s.applyOptions(d())});function r(h){return ne(h,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:ce.WithSteps,lineColor:n.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,lineType:ce.WithSteps,lineColor:n.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function f([h,b,y]){var A;if(!y||!a)return;const C=F.chain(h).map(D=>({time:D.timestamp,value:D.proportion})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value(),k=((A=C[0])==null?void 0:A.time)??0,$=F.chain(b).filter(D=>D.timestamp>=k).map(D=>({time:D.timestamp,value:D.priceOracle})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value();$.length>0&&s.setData($),C.length>0&&a.setData(C),y.timeScale().fitContent()}const m=h=>`$${j(h,2,"dollar")}${Q(h,"dollar")}`,v=h=>`${j(h,0,"percentage")}${Q(h,"percentage")}`;return(h,b)=>{const y=Ve,C=Y;return g(),V(C,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",hf,[_(y,{items:o(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Go(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Soft Liquidations Ratio"}}}})}typeof Go=="function"&&Go(Sl);const Ll=I(Sl,[["__scopeId","data-v-3205f08e"]]),_f={class:"actions"},Tl=P({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{t}=M();let a,s;const{theme:n}=E(N()),{items:l}=Re(()=>[{id:"revenue",label:"Liquidator Revenue",color:n.value.colorsArray[0]},{id:"discount",label:"Discount",color:n.value.colorsArray[1]}]),{chart:c,chartRef:i}=ve(n,r,m=>{a=m.addAreaSeries(u()),s=m.addAreaSeries(d())});x([H(()=>e.discounts),H(()=>e.liqs),c],f),x(n,()=>{a.applyOptions(u()),s.applyOptions(d())});function r(m){return ne(m,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ce.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:n.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function f([m,v,h]){var k;if(!h||!a||!s)return;const b=F.chain(v).map($=>({time:$.timestamp,value:$.debt})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").reduce(($,A)=>{const D=$.length>0?$[$.length-1].value:0;return $.push({time:A.time,value:A.value+D}),$},[]).value(),y=((k=b[0])==null?void 0:k.time)??0,C=F.chain(m).filter($=>$.timestamp>=y).map($=>({time:$.timestamp,value:$.discount*100})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();b.length>0&&s.setData(b),C.length>0&&a.setData(C),h.timeScale().fitContent()}return(m,v)=>{const h=Ve,b=Y;return g(),V(b,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",_f,[_(h,{items:o(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Xo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidator Revenue"}}}})}typeof Xo=="function"&&Xo(Tl);const Al=I(Tl,[["__scopeId","data-v-280872cd"]]),ff={class:"title"},bf={key:0,class:"number"},gf={key:1,class:"number"},yf={key:2},Pl=P({__name:"TableLiqOverview",props:{overview:{}},setup(e){const{t}=M(),a=w(()=>{if(!e.overview)return[];const n=e.overview.liqableDebtUsd,l=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,c=n-l;return c<=0?[]:[{description:"Bad debt",value:c,type:"bad-debt"}]}),s=w(()=>{var n,l,c,i,r,d,u;return[{description:"Users in soft liquidation",value:((n=e.overview)==null?void 0:n.softLiqUsers)??0,type:"number"},{description:"Median health",value:((l=e.overview)==null?void 0:l.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((c=e.overview)==null?void 0:c.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((i=e.overview)==null?void 0:i.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=e.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((d=e.overview)==null?void 0:d.liqableCollatUsd)??0,((u=e.overview)==null?void 0:u.liqableBorrowedUsd)??0],type:"collateral"},...a.value]});return(n,l)=>{const c=ae,i=_e;return g(),V(i,{class:"datatable-liq-overview","columns-data":"liq-overview-columns-data",rows:o(s)},{"header-content":S(()=>[p("div",ff,T(o(t)("title")),1)]),row:S(({item:{description:r,value:d,type:u}})=>[p("div",null,T(r),1),u==="collateral"?(g(),L("div",bf,[_(c,{value:d[0],"show-zero":!0,type:"dollar"},null,8,["value"]),z(" / "),_(c,{value:d[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(g(),L("div",gf,[u==="bad-debt"?(g(),V(c,{key:0,class:"red",value:d,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):u!=="number"?(g(),V(c,{key:1,value:d,"show-zero":!0,type:u},null,8,["value","type"])):(g(),L("span",yf,T(d),1))]))]),_:1},8,["rows"])}}});function Yo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"General Health Metrics"}}}})}typeof Yo=="function"&&Yo(Pl);const Il=I(Pl,[["__scopeId","data-v-12a9b611"]]),wf={class:"title"},$f={class:"address"},Cf=["href"],kf={class:"number"},Sf={class:"number"},Vl=P({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const{t}=M(),a=w(()=>F.chain(e.liqs).groupBy(s=>s.liquidator).map((s,n)=>({liquidator:n,count:s.length,value:s.reduce((l,c)=>l+c.collateralReceivedUsd,0)})).orderBy(s=>s.value,"desc").take(5).value());return(s,n)=>{const l=ae,c=_e;return g(),V(c,{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",rows:o(a),columns:["Address","Count","Value"]},{"header-content":S(()=>[p("div",wf,T(o(t)("title")),1)]),row:S(i=>[p("div",$f,[p("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},T(o(Pe)(i.item.liquidator,8)),9,Cf)]),p("div",kf,[_(l,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),p("div",Sf,[_(l,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}});function Zo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Liquidators"}}}})}typeof Zo=="function"&&Zo(Vl);const Rl=I(Vl,[["__scopeId","data-v-05b42bd5"]]),ql=P({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,u=>{a=u.addAreaSeries(i())});x([H(()=>e.ratios),n],r),x(s,()=>a.applyOptions(i()));function c(u){return ne(u,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ce.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!a)return;const m=F.chain(u).map(v=>({time:v.timestamp,value:v.ratio*100})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();m.length>0&&a.setData(m),f.timeScale().fitContent()}const d=u=>`${j(u,0,"percentage")}${Q(u,"percentage")}`;return(u,f)=>{const m=Y;return g(),V(m,{class:"chart-container",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Jo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral Ratio"}}}})}typeof Jo=="function"&&Jo(ql);const Dl=I(ql,[["__scopeId","data-v-63ffcdf6"]]),Lf={class:"actions"},Tf=["innerHTML"],Fl=P({__name:"ChartEquity",props:{equity:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,c,u=>{a=u.addBaselineSeries(i())});x([H(()=>e.equity),n],r),x(s,()=>a.applyOptions(i()));function c(u){return ne(u,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){const{colors:u}=s.value;return{priceFormat:{type:"custom",formatter:f=>d(f),minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:u.green,bottomLineColor:u.red,lastValueVisible:!1,priceLineVisible:!1}}function r([u,f]){if(!f||!a)return;const m=F.chain(u).map(v=>({time:v.timestamp,value:v.equity})).uniqWith((v,h)=>v.time===h.time).orderBy(v=>v.time,"asc").value();m.length>0&&a.setData(m),f.timeScale().fitContent()}const d=u=>`$${j(u,0,"dollar")}${Q(u,"dollar")}`;return(u,f)=>{const m=St,v=Y;return g(),V(v,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",Lf,[_(m,null,{default:S(()=>[p("span",{innerHTML:o(t)("tooltip")},null,8,Tf)]),_:1})])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function es(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Equity"}},tooltip:{t:0,b:{t:2,i:[{t:3}],s:"This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."}}}})}typeof es=="function"&&es(Fl);const Af=I(Fl,[["__scopeId","data-v-bbeee37f"]]),Pf=P({__name:"ChartLoanDistribution",props:{distribution:{}},setup(e){const{t}=M(),{theme:a}=E(N()),s=w(()=>re(a.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:r=>{const d=r.series[0][r.dataPointIndex],u=r.series[1][r.dataPointIndex],f=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(u)}</div>`,`<div><b>Debt</b>: ${i(d)}</div>`,`<div><b>Stablecoin</b>: ${i(f)}</div>`].join("")}}})),n=w(()=>e.distribution.debt.map(r=>r.label)),l=w(()=>[{name:"Debt",data:e.distribution.debt.map(r=>r.value)}]),c=r=>r,i=r=>`$${j(r,0,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return g(),V(u,{class:"chart",title:o(t)("title"),options:o(s),series:o(l)},null,8,["title","options","series"])}}});function ts(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loan Distribution"}}}})}typeof ts=="function"&&ts(Pf);const If={class:"liquidations"},Vf=P({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=w(()=>{var $;return($=e.market)==null?void 0:$.address}),{isFetching:a,data:s}=hl(R("crvusd"),H(()=>e.chain),t),{isFetching:n,data:l}=Gt(H(()=>e.market)),c=w(()=>l.value.map(({timestamp:$,priceOracle:A})=>({timestamp:$,priceOracle:A}))),i=w(()=>l.value.map(({timestamp:$,discountLiquidation:A})=>({timestamp:$,discount:A}))),r=w(()=>l.value.map(({timestamp:$,totalCollateralUsd:A,totalDebt:D})=>({timestamp:$,ratio:A/D}))),{isFetching:d,data:u}=pl(R("crvusd"),H(()=>e.chain),t),{isFetching:f,data:m}=vl(R("crvusd"),H(()=>e.chain),t),{isFetching:v,data:h}=ml(R("crvusd"),H(()=>e.chain),t),{isFetching:b,data:y}=fl(R("crvusd"),H(()=>e.chain),t),{isFetching:C,data:k}=_l(R("crvusd"),H(()=>e.chain),t);return($,A)=>(g(),L("div",If,[_(o(Il),{overview:o(s),loading:o(a)},null,8,["overview","loading"]),_(o(Ll),{ratios:o(u),"prices-oracle":o(c),loading:o(d)||o(n)},null,8,["ratios","prices-oracle","loading"]),_(o(wl),{losses:o(k),loading:o(C)},null,8,["losses","loading"]),_(o(Cl),{losses:o(k),loading:o(C)},null,8,["losses","loading"]),_(o(kl),{deciles:o(y),loading:o(b)},null,8,["deciles","loading"]),_(o(Dl),{ratios:o(r),loading:o(n)},null,8,["ratios","loading"]),_(o(gl),{liqs:o(m),loading:o(f)},null,8,["liqs","loading"]),_(o(Rl),{liqs:o(h),loading:o(v)},null,8,["liqs","loading"]),_(o(Al),{discounts:o(i),liqs:o(h),loading:o(n)||o(v)},null,8,["discounts","liqs","loading"])]))}}),Rf=I(Vf,[["__scopeId","data-v-9817d8d9"]]),qf={class:"controls"},Ml=P({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{t}=M();let a,s;const{theme:n}=E(N()),l=R(!1),c=R(!1);let i=1,r=0;const{chart:d,chartRef:u}=ve(n,f,y=>{a=y.addCandlestickSeries(m()),s=y.addLineSeries(v())});x([H(()=>e.ohlc),d,l,c],h),x(n,()=>{a==null||a.applyOptions(m()),s==null||s.applyOptions(v())});function f(y){return ne(y,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:C=>b(C)}})}function m(){const{colors:y}=n.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:y.green,borderUpColor:y.green,wickUpColor:y.green,downColor:y.red,borderDownColor:y.red,wickDownColor:y.red}}function v(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function h([y,C,k,$]){if(!C||!a)return;const A=k?-1:1,D=F.chain(y).map(q=>({time:q.time,open:Math.pow(q.open,A),high:Math.pow(q.high,A),low:Math.pow(q.low,A),close:Math.pow(q.close,A)})).uniqWith((q,W)=>q.time===W.time).orderBy(q=>q.time,"asc").value();D.length>0&&(a.setData(D),r=Math.min(...D.map(q=>q.low)),i=Math.max(...D.map(q=>q.high)));const U=F.chain(y).map(q=>({time:q.time,value:Math.pow(q.oracle_price,A)})).uniqWith((q,W)=>q.time===W.time).orderBy(q=>q.time,"asc").value();U.length>0&&s.setData(U),s.applyOptions({visible:$}),C.timeScale().fitContent()}const b=y=>{const C=i-r,k=C>1?C-Math.floor(C):C,$=-Math.floor(Math.log10(k)+1)+2;return`${j(y,$,"dollar")}${Q(y,"dollar")}`};return(y,C)=>{const k=Ye,$=Y;return g(),V($,{class:"chart-container",title:o(t)("title")},{actions:S(()=>[p("div",qf,[_(k,{value:"Oracle Price","model-value":o(c),onClick:C[0]||(C[0]=A=>c.value=!o(c))},null,8,["model-value"]),_(k,{value:"Invert","model-value":o(l),onClick:C[1]||(C[1]=A=>l.value=!o(l))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function as(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof as=="function"&&as(Ml);const xl=I(Ml,[["__scopeId","data-v-91dbd830"]]);function Df(e,t){const s=Math.round(e.value/1e3)-t;return s<60?`${Math.round(s)} seconds ago`:s<60*60?`${Math.round(s/60)} minutes ago`:s<60*60*24?`${Math.round(s/(60*60))} hours ago`:`${Math.round(s/(60*60*24))} days ago`}function Pt(){const e=R(Date.now());return le(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:a=>Df(e,a)}}const Ff=e=>(de("data-v-7453ec6f"),e=e(),pe(),e),Mf={class:"title"},xf={class:"number"},Bf=Ff(()=>p("div",null,null,-1)),Of=["href"],Uf={class:"number"},Ef=["href"],Bl=P({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const{t:a}=M(),s=t,{page:n,onPage:l}=xa(),c=Et(n,200);x(c,f=>s("page",f));const{relativeTime:i}=Pt(),r=f=>f<1?f.toFixed(4):f>1e3?f.toFixed(0):f.toFixed(2),d=f=>{var m,v;return r(((m=f.deposit)==null?void 0:m.amount)??((v=f.withdrawal)==null?void 0:v.amount_collateral)??0)},u=f=>f.deposit?a("deposit"):f.withdrawal?a("withdrawal"):a("unknown");return(f,m)=>{const v=je,h=_e;return g(),V(h,{class:"datatable-events","columns-header":"1fr","columns-data":"events-columns-data",rows:f.events,columns:["Type","Amount","","Provider","Time"]},{"header-content":S(()=>[p("div",Mf,T(o(a)("title")),1),_(v,{class:"pagination","items-count":f.count,"items-per-page":10,page:o(n),onPage:o(l)},null,8,["items-count","page","onPage"])]),row:S(({item:b})=>[p("div",null,T(u(b)),1),p("div",xf,T(d(b)),1),Bf,p("div",null,[p("a",{href:`https://etherscan.io/address/${b.provider}`,target:"_blank",onClick:m[0]||(m[0]=Ae(()=>{},["stop"]))},T(o(Pe)(b.provider)),9,Of)]),p("div",Uf,[p("a",{href:`https://etherscan.io/tx/${b.transaction_hash}`,target:"_blank",onClick:m[1]||(m[1]=Ae(()=>{},["stop"]))},T(o(i)(b.timestamp)),9,Ef)])]),_:1},8,["rows"])}}});function os(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Events"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawal"}},unknown:{t:0,b:{t:2,i:[{t:3}],s:"Unknown"}}}})}typeof os=="function"&&os(Bl);const Ol=I(Bl,[["__scopeId","data-v-7453ec6f"]]),Wf={class:"title"},Hf={class:"number"},Nf=["href"],Kf={class:"number"},zf=["href"],Qf=["href"],jf={class:"number"},Gf=["href"],Ul=P({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const{t:a}=M(),s=t,{page:n,onPage:l}=xa(),c=Et(n,200);x(c,d=>s("page",d));const{relativeTime:i}=Pt(),r=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2);return(d,u)=>{const f=je,m=ut,v=_e;return g(),V(v,{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:d.trades,columns:["Bought","","","Sold","","","Market Maker","Time"]},{"header-content":S(()=>[p("div",Wf,T(o(a)("title")),1),_(f,{class:"pagination","items-count":d.count,"items-per-page":10,page:o(n),onPage:o(l)},null,8,["items-count","page","onPage"])]),row:S(({item:h})=>[p("div",Hf,T(r(h.amount_bought)),1),_(m,{chain:d.chain,address:h.token_bought.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${h.token_bought.address}`},T(h.token_bought.symbol),9,Nf)]),p("div",Kf,T(r(h.amount_sold)),1),_(m,{chain:d.chain,address:h.token_sold.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${h.token_sold.address}`},T(h.token_sold.symbol),9,zf)]),p("div",null,[p("a",{href:`https://etherscan.io/address/${h.buyer}`,target:"_blank",onClick:u[0]||(u[0]=Ae(()=>{},["stop"]))},T(o(Pe)(h.buyer)),9,Qf)]),p("div",jf,[p("a",{href:`https://etherscan.io/tx/${h.transaction_hash}`,target:"_blank",onClick:u[1]||(u[1]=Ae(()=>{},["stop"]))},T(o(i)(h.timestamp)),9,Gf)])]),_:1},8,["rows"])}}});function ss(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Trades"}}}})}typeof ss=="function"&&ss(Ul);const El=I(Ul,[["__scopeId","data-v-4d3e08c6"]]),Xf={class:"trading"},Wl=P({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=w(()=>{var u;return(u=e.market)==null?void 0:u.llamma}),{isFetching:a,data:s}=Ha(R("crvusd"),t,H(()=>e.chain)),n=R(1),{isFetching:l,data:c}=ll(R("crvusd"),t,H(()=>e.chain),n),i=R(1),{isFetching:r,data:d}=nl(R("crvusd"),t,H(()=>e.chain),i);return(u,f)=>{var m,v,h,b;return g(),L("div",Xf,[_(o(xl),{style:{"grid-area":"ohlc"},ohlc:o(s)??[],loading:o(a)},null,8,["ohlc","loading"]),_(o(El),{style:{"grid-area":"trades"},trades:((m=o(c))==null?void 0:m.trades)??[],count:((v=o(c))==null?void 0:v.count)??0,chain:u.chain,loading:o(l),onPage:f[0]||(f[0]=y=>n.value=y)},null,8,["trades","count","chain","loading"]),_(o(Ol),{style:{"grid-area":"events"},events:((h=o(d))==null?void 0:h.events)??[],count:((b=o(d))==null?void 0:b.count)??0,loading:o(r),onPage:f[1]||(f[1]=y=>i.value=y)},null,8,["events","count","loading"])])}}});function ns(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof ns=="function"&&ns(Wl);const Yf=I(Wl,[["__scopeId","data-v-3c540325"]]),Zf={class:"market-overview"},Jf=P({__name:"Market.page",setup(e){const{show:t,crumbs:a}=E(Ee()),s=ye("marketAddr"),{isFetching:n,data:l}=qa(),c=w(()=>l.value.find(d=>d.address===s.value));x(c,d=>{a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),le(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:r}=ea(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:s.value}));return(d,u)=>{const f=Ue,m=Xe,v=Ge;return g(),L("div",Zf,[_(f,{class:O(["spinner",{loading:o(n)}])},null,8,["class"]),!o(n)&&o(c)?(g(),V(v,{key:0,active:o(r),onTab:u[0]||(u[0]=h=>r.value=h.index)},{default:S(()=>[_(m,{header:"Overview"},{default:S(()=>[(g(),V(Se,null,[o(i)==="overview"?(g(),V(J_,{key:0,market:o(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),_(m,{header:"Trading"},{default:S(()=>[(g(),V(Se,null,[o(i)==="trading"?(g(),V(Yf,{key:0,market:o(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),_(m,{header:"Liquidations"},{default:S(()=>[(g(),V(Se,null,[o(i)==="liquidations"?(g(),V(Rf,{key:0,market:o(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),eb=I(Jf,[["__scopeId","data-v-77146060"]]);function nt(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const tb=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),ab=e=>{const t=parseFloat(e.rate),a=parseFloat(e.borrow_apy)/100,s=parseFloat(e.lend_apy)/100,n=e.n_loans,l=parseFloat(e.price_oracle),c=parseFloat(e.amm_price),i=parseFloat(e.total_debt),r=parseFloat(e.total_debt_usd),d=parseFloat(e.total_assets),u=parseFloat(e.total_assets_usd),f=parseFloat(e.minted),m=parseFloat(e.redeemed),v=parseFloat(e.collateral_balance),h=parseFloat(e.collateral_balance_usd),b=parseFloat(e.borrowed_balance),y=parseFloat(e.borrowed_balance_usd),C=We(e.timestamp),k=e.liquidation_discount,$=e.loan_discount;return{rate:t,borrowApy:a,lendApy:s,numLoans:n,priceOracle:l,ammPrice:c,totalDebt:i,totalDebtUsd:r,totalAssets:d,totalAssetsUsd:u,minted:f,redeemed:m,collateralBalance:v,collateralBalanceUsd:h,borrowedBalance:b,borrowedBalanceUsd:y,timestamp:C,discountLiquidation:k,discountLoan:$}},ca="https://prices.curve.fi";class ob extends ke{async getChains(){return this.fetch(`${ca}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${ca}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(tb)}async getSnapshots(t,a){return(await this.fetch(`${ca}/v1/lending/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(ab)}}const Na=new ob;function sb(e){return w(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function nb(){return{initialData:[],initialDataUpdatedAt:0}}function lb(){return Z({queryKey:["llama-markets-chains"],queryFn:()=>Na.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Hl(e){return Z({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>Na.getMarkets(t)})}function mt(e,t){return Z({queryKey:["llama-market-snapshots",sb(e)],queryFn:({queryKey:[,a]})=>Na.getSnapshots(t.value,a),...nb(),enabled:w(()=>!!e.value&&!!t.value)})}const It=e=>(de("data-v-84fe8393"),e=e(),pe(),e),rb={class:"title"},ib={class:"number"},cb={class:"number"},ub={class:"number"},db={class:"number"},pb=It(()=>p("div",null,null,-1)),mb=It(()=>p("div",null,null,-1)),vb=It(()=>p("div",null,null,-1)),hb=It(()=>p("div",null,null,-1)),_b=It(()=>p("div",null,null,-1)),fb={class:"number"},bb={class:"number"},Nl=P({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},setup(e){const{t}=M(),a=w(()=>t(e.type==="long"?"title-long":"title-short")),s=w(()=>F.chain(e.pairs).map(c=>({count:(c.long?1:0)+(c.short?1:0),...c})).orderBy(["count",({long:c,short:i})=>nt(c)+nt(i)],["desc","desc"]).map(({long:c,short:i})=>e.type==="long"?c:i).value());function n(c){return c.name.replace(/(-long|-short)/i,"")}const l=c=>e.type==="long"?c.collateral_token.address:c.borrowed_token.address;return(c,i)=>{const r=ut,d=ae,u=_e;return g(),V(u,{class:"datatable-markets","columns-header":"1fr","columns-data":"markets-columns-data","expand-side":"left",loading:c.loading,rows:o(s),columns:["","","Name","Borrow Rate","Lend Rate","TVL","Loans"]},{"header-content":S(()=>[p("div",rb,T(o(a)),1)]),row:S(({item:f})=>[f?(g(),L(se,{key:0},[_(r,{chain:c.chain,address:l(f)},null,8,["chain","address"]),p("div",null,T(n(f)),1),p("div",ib,[f.borrow_apy?(g(),V(d,{key:0,value:f.borrow_apy,type:"percentage"},null,8,["value"])):B("",!0)]),p("div",cb,[f.lend_apy?(g(),V(d,{key:0,value:f.lend_apy,type:"percentage"},null,8,["value"])):B("",!0)]),p("div",ub,[o(nt)(f)?(g(),V(d,{key:0,value:o(nt)(f),type:"dollar"},null,8,["value"])):B("",!0)]),p("div",db,T(f.n_loans),1)],64)):B("",!0)]),"row-aggregation":S(()=>[pb,mb,vb,hb,_b,p("div",fb,[_(d,{value:o(s).filter(f=>f).map(f=>f).reduce((f,m)=>f+o(nt)(m),0),type:"dollar"},null,8,["value"])]),p("div",bb,T(o(s).filter(f=>f).map(f=>f).reduce((f,m)=>f+m.n_loans,0)),1)]),"row-details":S(()=>[z("   ")]),_:1},8,["loading","rows"])}}});function ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"title-long":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Long"}},"title-short":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Short"}}}})}typeof ls=="function"&&ls(Nl);const rs=I(Nl,[["__scopeId","data-v-84fe8393"]]),gb={class:"llamalend"},yb={class:"toolbar"},wb={class:"markets"},$b={class:"kpis"},Cb={class:"markets"},kb={class:"kpis"},Kl=P({__name:"LlamaLend.page",setup(e){const{t}=M(),a=ye("chain"),s=w({get(){return a.value?a.value:"ethereum"},set(y){a.value=y}}),n=R(""),l=w(()=>F.chain(c.value).filter(({long:y,short:C})=>{const k=n.value.toLocaleLowerCase().split(" ");return(A=>k.some(D=>A.toLocaleLowerCase().includes(D)))(`${(y==null?void 0:y.name)??""}${(C==null?void 0:C.name)??""}`)}).value()),c=w(()=>{const y=["crvusd"],C=(r.value??[]).map(A=>({market:A,isLong:y.includes(A.borrowed_token.symbol.toLocaleLowerCase()),isShort:y.includes(A.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:A,isShort:D})=>A||D),k=[],$=new Set;for(const{market:A,isLong:D,isShort:U}of C){if($.has(A.controller))continue;$.add(A.controller);const q=C.find(W=>W.market.borrowed_token.address===A.collateral_token.address&&W.market.collateral_token.address===A.borrowed_token.address);q&&$.add(q.market.controller),k.push({long:D?A:q==null?void 0:q.market,short:U?A:q==null?void 0:q.market})}return k}),{isFetching:i,data:r}=Hl(s),{data:d}=lb(),{show:u,crumbs:f}=E(Ee());le(()=>{u.value=!0,f.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:s.value})},{id:"market",label:"Select market for details",hint:!0}]});const m=Oe(),v=async y=>{await m.push({name:"llamalendmarket",params:{tab:"",chain:s.value,marketAddr:y.controller}})},h=y=>l.value.map(C=>y==="long"?C.long:C.short).filter(C=>!!C).reduce((C,k)=>C+k.total_debt_usd,0),b=y=>{const C=l.value.map(k=>y==="long"?k.long:k.short).filter(k=>!!k).reduce(({debt:k,assets:$},A)=>({debt:k+A.total_debt_usd,assets:$+A.total_assets_usd}),{debt:0,assets:0});return C.assets===0?0:C.debt/C.assets*100};return(y,C)=>{const k=Te,$=ae,A=we;return g(),L("div",gb,[(g(),V(Nt,{to:"#toolbar"},[p("div",yb,[_(k,{modelValue:o(n),"onUpdate:modelValue":C[0]||(C[0]=D=>ue(n)?n.value=D:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(Tt,{class:"chain-select",chain:o(s),chains:o(d),onSelectChain:C[1]||(C[1]=D=>s.value=D==="all"?"ethereum":D)},null,8,["chain","chains"])])])),p("div",wb,[p("div",$b,[_(A,{label:o(t)("open-interest"),"has-value":!o(i)},{default:S(()=>[_($,{value:h("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(A,{"tooltip-type":"icon",label:o(t)("avg-util-rate"),"has-value":!o(i),tooltip:o(t)("avg-util-rate-tooltip")},{default:S(()=>[_($,{value:b("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(o(rs),{style:{"grid-column":"1"},type:"long",pairs:o(l),loading:o(i),chain:o(s),onSelected:v},null,8,["pairs","loading","chain"])]),p("div",Cb,[p("div",kb,[_(A,{label:o(t)("open-interest"),"has-value":!o(i)},{default:S(()=>[_($,{value:h("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(A,{"tooltip-type":"icon",label:o(t)("avg-util-rate"),"has-value":!o(i),tooltip:o(t)("avg-util-rate-tooltip")},{default:S(()=>[_($,{value:b("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(o(rs),{style:{"grid-column":"2"},type:"short",pairs:o(l),loading:o(i),chain:o(s),onSelected:v},null,8,["pairs","loading","chain"])])])}}});function is(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"open-interest":{t:0,b:{t:2,i:[{t:3}],s:"Open Interest"}},"avg-util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Average Utilization Rate"}},"avg-util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Aggregate debt divided by aggregate assets"}}}})}typeof is=="function"&&is(Kl);const Sb=I(Kl,[["__scopeId","data-v-842088c4"]]),Lb={class:"actions"},zl=P({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{t}=M();let a,s,n;const{theme:l,themeId:c}=E(N()),{items:i,toggles:r,disabled:d}=Re(()=>{const{blue:q,yellow:W,purple:te}=l.value.colors;return[{id:"supply",label:t("supply"),color:q},{id:"debt",label:t("debt"),color:W},{id:"util",label:t("util"),color:te,togglable:!0}]}),{isFetching:u,data:f}=mt(H(()=>e.market),H(()=>e.chain)),m=R(!1),v=R(void 0),{chart:h,chartRef:b}=ve(w(()=>`${c.value}-${r.util.value}`),y,q=>{a=q.addLineSeries(C()),s=q.addLineSeries(k()),n=q.addLineSeries($())});x(l,()=>{a.applyOptions(C()),s.applyOptions(k()),n.applyOptions($())});function y(q){return ne(q,l.value,{height:q.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:r.util.value}})}function C(){return{priceFormat:{type:"custom",formatter:q=>D(q),minMove:.01},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function k(){return{priceFormat:{type:"custom",formatter:q=>D(q),minMove:.01},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function $(){return{priceFormat:{type:"custom",formatter:q=>U(q),minMove:.01},priceScaleId:"left",lineWidth:2,color:l.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}}zt(A);function A(){var K,X,ee,ie;if(!h.value||!a||!s)return;const q=F.chain(f.value).map(G=>({time:G.timestamp,value:G.totalAssetsUsd})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value(),W=F.chain(f.value).map(G=>({time:G.timestamp,value:G.totalDebtUsd})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value(),te=F.chain(r.util.value?q:[]).zip(W).filter(G=>!!G[1]).map(([G,fe])=>({time:fe.time,value:G&&G.value>0?fe.value/G.value:0})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value();if(a.setData(q),s.setData(W),n.setData(te),n.applyOptions({visible:r.util.value}),q.length>0||W.length>0){const G=Math.min(((K=q[0])==null?void 0:K.time)??1/0,((X=W[0])==null?void 0:X.time)??1/0),fe=Math.max(((ee=q[q.length-1])==null?void 0:ee.time)??-1/0,((ie=W[W.length-1])==null?void 0:ie.time)??-1/0);h.value.timeScale().setVisibleRange({from:G,to:fe})}}const D=q=>`$${j(q,0,"dollar")}${Q(q,"dollar")}`,U=q=>`${Math.round(q*100)}%`;return(q,W)=>{const te=Ve,K=Y;return g(),V(K,{ref_key:"chartCard",ref:v,class:O(["chart-card",{fullscreen:o(m)}]),title:o(t)("title"),loading:o(u)},{actions:S(()=>{var X;return[p("div",Lb,[_(te,{items:o(i),disabled:o(d),onToggle:W[0]||(W[0]=ee=>o(r)[ee].value=!o(r)[ee].value)},null,8,["items","disabled"]),_(o(Zt),{modelValue:o(m),"onUpdate:modelValue":W[1]||(W[1]=ee=>ue(m)?m.value=ee:null),chart:o(h),target:(X=o(v))==null?void 0:X.$el},null,8,["modelValue","chart","target"])])]}),default:S(()=>[p("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply & Debt"}},supply:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}},util:{t:0,b:{t:2,i:[{t:3}],s:"Util (%)"}}}})}typeof cs=="function"&&cs(zl);const Tb=I(zl,[["__scopeId","data-v-57c40e37"]]),Ab={class:"actions"},Ql=P({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{t}=M();let a,s;const n=R(!0),{theme:l}=E(N()),c=w(()=>{var k,$;return(($=(k=e.market)==null?void 0:k.collateral_token)==null?void 0:$.symbol)??"?"}),i=w(()=>{var k,$;return(($=(k=e.market)==null?void 0:k.borrowed_token)==null?void 0:$.symbol)??"?"}),{items:r}=Re(()=>[{id:c.value,label:c.value,color:l.value.colors.blue},{id:i.value,label:i.value,color:l.value.colors.yellow}]),{isFetching:d,data:u}=mt(H(()=>e.market),H(()=>e.chain)),{chart:f,chartRef:m}=ve(l,v,k=>{a=k.addLineSeries(h()),s=k.addLineSeries(b())});x([u,f,n],y),x(l,()=>{a.applyOptions(h()),s.applyOptions(b())});function v(k){return ne(k,l.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function h(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function b(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function y([k,$,A]){var q,W,te,K;if(!$||!a||!s)return;const D=F.chain(k).map(X=>({time:X.timestamp,value:A?X.collateralBalanceUsd:X.collateralBalance})).uniqWith((X,ee)=>X.time===ee.time).orderBy(X=>X.time,"asc").value(),U=F.chain(k).map(X=>({time:X.timestamp,value:A?X.borrowedBalanceUsd:X.borrowedBalance})).uniqWith((X,ee)=>X.time===ee.time).orderBy(X=>X.time,"asc").value();if(D.length>0&&a.setData(D),U.length>0&&s.setData(U),D.length>0||U.length>0){const X=Math.min(((q=D[0])==null?void 0:q.time)??1/0,((W=U[0])==null?void 0:W.time)??1/0),ee=Math.max(((te=D[D.length-1])==null?void 0:te.time)??-1/0,((K=U[U.length-1])==null?void 0:K.time)??-1/0);$.timeScale().setVisibleRange({from:X,to:ee})}}const C=k=>`${n.value?"$":""}${j(k,0,"dollar")}${Q(k,"dollar")}`;return(k,$)=>{const A=Ve,D=Ye,U=Y;return g(),V(U,{class:"chart-container",title:o(t)("title"),loading:o(d)},{actions:S(()=>[p("div",Ab,[_(A,{items:o(r)},null,8,["items"]),_(D,{value:"Dollars","model-value":o(n),onClick:$[0]||($[0]=q=>n.value=!o(n))},null,8,["model-value"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}}}})}typeof us=="function"&&us(Ql);const Pb=I(Ql,[["__scopeId","data-v-35939379"]]),jl=P({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{t}=M();let a;const{theme:s}=E(N()),{chart:n,chartRef:l}=ve(s,r,m=>{a=m.addHistogramSeries(d())}),{isFetching:c,data:i}=mt(H(()=>e.market),H(()=>e.chain));x([i,n],u),x(s,()=>a.applyOptions(d()));function r(m){return ne(m,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:f}})}function d(){return{color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,v]){if(!v||!a)return;const h=F.chain(m).map(b=>({time:b.timestamp,value:b.numLoans})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();if(h.length>0){a.setData(h);const b=h[0].time,y=h[h.length-1].time;v.timeScale().setVisibleRange({from:b,to:y})}}const f=m=>Math.round(m).toString();return(m,v)=>{const h=Y;return g(),V(h,{class:"chart-container",title:o(t)("title"),loading:o(c)},{default:S(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ds(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof ds=="function"&&ds(jl);const Ib=I(jl,[["__scopeId","data-v-8fe4d849"]]),Vb={class:"actions"},Gl=P({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{t}=M();let a,s;const{theme:n}=E(N()),{items:l}=Re(()=>[{id:"borrow",label:t("borrow-apy"),color:n.value.colors.red},{id:"lend",label:t("lend-apy"),color:n.value.colors.green}]),{isFetching:c,data:i}=mt(H(()=>e.market),H(()=>e.chain)),{chart:r,chartRef:d}=ve(n,u,b=>{a=b.addLineSeries(f()),s=b.addLineSeries(m())});x([i,r],v),x(n,()=>{a.applyOptions(f()),s.applyOptions(m())});function u(b){return ne(b,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>h(y)}})}function f(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,color:n.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,color:n.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}}function v([b,y]){var $,A,D,U;if(!y||!a||!s)return;const C=F.chain(b).map(q=>({time:q.timestamp,value:q.borrowApy})).uniqWith((q,W)=>q.time===W.time).orderBy(q=>q.time,"asc").value(),k=F.chain(b).map(q=>({time:q.timestamp,value:q.lendApy})).uniqWith((q,W)=>q.time===W.time).orderBy(q=>q.time,"asc").value();if(C.length>0&&a.setData(C),k.length>0&&s.setData(k),C.length>0||k.length>0){const q=Math.min((($=C[0])==null?void 0:$.time)??1/0,((A=k[0])==null?void 0:A.time)??1/0),W=Math.max(((D=C[C.length-1])==null?void 0:D.time)??-1/0,((U=k[k.length-1])==null?void 0:U.time)??-1/0);y.timeScale().setVisibleRange({from:q,to:W})}}const h=b=>`${j(b*100,0,"percentage")}${Q(b,"percentage")}`;return(b,y)=>{const C=Ve,k=Y;return g(),V(k,{class:"chart-container",title:o(t)("title"),loading:o(c)},{actions:S(()=>[p("div",Vb,[_(C,{items:o(l)},null,8,["items"])])]),default:S(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ps(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}},"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}}}})}typeof ps=="function"&&ps(Gl);const Rb=I(Gl,[["__scopeId","data-v-be52abb4"]]),qb={class:"addresses"},Db={class:"title"},Fb=["href"],Mb={key:1},Xl=P({__name:"Addresses",props:{market:{}},setup(e){const{t}=M(),a=w(()=>{var l,c,i,r,d;return[{description:"controller",address:(l=e.market)==null?void 0:l.controller},{description:"vault",address:(c=e.market)==null?void 0:c.vault},{description:"llamma",address:(i=e.market)==null?void 0:i.llamma},{description:"policy",address:(r=e.market)==null?void 0:r.policy},{description:"oracle",address:(d=e.market)==null?void 0:d.oracle}]}),s=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Ie,r=_e;return g(),L("div",qb,[_(r,{class:"datatable-addresses","columns-data":"addresses-columns-data",rows:o(a)},{"header-content":S(()=>[p("div",Db,T(o(t)("addresses")),1)]),row:S(({item:{description:d,address:u}})=>[p("div",null,T(o(t)(d)),1),p("div",null,[u?(g(),L("a",{key:0,class:"font-mono",href:s(u),target:"_blank"},T(u),9,Fb)):(g(),L("span",Mb,"?"))]),p("div",null,[_(i,{icon:"fas fa-link",onClick:f=>n(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function ms(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},vault:{t:0,b:{t:2,i:[{t:3}],s:"Vault"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}},policy:{t:0,b:{t:2,i:[{t:3}],s:"Policy"}},oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle"}}}})}typeof ms=="function"&&ms(Xl);const xb=I(Xl,[["__scopeId","data-v-5433b69f"]]),Bb={class:"usage"},Ob={class:"two-sides"},Ub={class:"collateral"},Eb={class:"two-sides"},Wb={class:"two-sides"},Yl=P({__name:"KPIUsage",props:{market:{}},setup(e){const{t}=M(),a=w(()=>{var l,c;return(((l=e.market)==null?void 0:l.collateral_balance_usd)??0)+(((c=e.market)==null?void 0:c.borrowed_balance_usd)??0)}),s=w(()=>{var r,d;const l=t("collateral"),c=((r=e.market)==null?void 0:r.collateral_token.symbol)??"?",i=((d=e.market)==null?void 0:d.borrowed_token.symbol)??"?";return`${l} (${c} / ${i})`}),n=w(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(l,c)=>{var d,u;const i=ae,r=we;return g(),L("div",Bb,[_(r,{label:o(s),"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Ob,[p("div",Ub,[_(i,{value:(f=l.market)==null?void 0:f.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),z(" / "),_(i,{value:(m=l.market)==null?void 0:m.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),_(i,{value:o(a),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{label:o(t)("borrowed")+` (${((d=l.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Eb,[_(i,{value:(f=l.market)==null?void 0:f.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(i,{value:(m=l.market)==null?void 0:m.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{label:o(t)("supplied")+` (${((u=l.market)==null?void 0:u.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:S(()=>{var f,m;return[p("div",Wb,[_(i,{value:(f=l.market)==null?void 0:f.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(i,{value:(m=l.market)==null?void 0:m.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{"tooltip-type":"icon",label:o(t)("util-rate"),"has-value":!!l.market,tooltip:o(t)("util-rate-tooltip")},{default:S(()=>[_(i,{value:o(n)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function vs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},supplied:{t:0,b:{t:2,i:[{t:3}],s:"Supplied"}},"util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Utilization Rate"}},"util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Utilization rate is total supplied divided by total borrowed"}}}})}typeof vs=="function"&&vs(Yl);const Hb=I(Yl,[["__scopeId","data-v-7c3eebd2"]]),Nb={class:"properties"},Kb={class:"title"},zb={key:0},Qb={class:"token-info"},jb=["href"],Gb={key:1},Zl=P({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=M();function a(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function s(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.borrowed_token.symbol)??"?",address:((u=r==null?void 0:r.borrowed_token)==null?void 0:u.address)??""}}const n=w(()=>[{description:"collateral",value:s("collateral",e.market)},{description:"borrowed",value:s("borrowed",e.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=ut,u=Ie,f=_e;return g(),L("div",Nb,[_(f,{class:"datatable-properties","columns-data":"properties-columns-data",rows:o(n)},{"header-content":S(()=>[p("div",Kb,T(o(t)("properties")),1)]),row:S(({item:{description:m,value:v}})=>[p("div",null,T(o(t)(m)),1),a(v)?(g(),L("div",zb,[p("div",Qb,[_(d,{chain:i.chain,address:v.address},null,8,["chain","address"]),p("div",null,T(v.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(v.address),target:"_blank"},T(v.address),9,jb)]),p("div",null,[_(u,{icon:"fas fa-link",onClick:h=>c(v.address)},null,8,["onClick"])])])])):(g(),L("div",Gb,T(v),1))]),_:1},8,["rows"])])}}});function hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof hs=="function"&&hs(Zl);const Xb=I(Zl,[["__scopeId","data-v-c505e087"]]),Yb={class:"market"},Jl=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=M(),{isFetching:a,data:s}=mt(H(()=>e.market),H(()=>e.chain)),n=w(()=>s.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,ratio:d>0?(i+r)/d:0}))),l=w(()=>s.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,equity:i+r-d})));return(c,i)=>{const r=ae,d=we;return g(),L("div",Yb,[_(d,{style:{"grid-area":"kpi1"},label:o(t)("borrow-apy"),"has-value":!!c.market},{default:S(()=>{var u;return[_(r,{value:(u=c.market)==null?void 0:u.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi2"},label:o(t)("lend-apy"),"has-value":!!c.market},{default:S(()=>{var u;return[_(r,{value:(u=c.market)==null?void 0:u.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi3"},label:o(t)("loans"),"has-value":!!c.market},{default:S(()=>{var u;return[z(T(((u=c.market)==null?void 0:u.n_loans)??0),1)]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi4"},label:o(t)("tvl"),"has-value":!!c.market},{default:S(()=>[_(r,{value:o(nt)(c.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(o(Tb),{style:{"grid-area":"supply"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(o(Pb),{style:{"grid-area":"collateral"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(o(Dl),{style:{"grid-area":"colratio"},ratios:o(n),loading:o(a)},null,8,["ratios","loading"]),_(o(Af),{style:{"grid-area":"equity"},equity:o(l),loading:o(a)},null,8,["equity","loading"]),_(o(Rb),{style:{"grid-area":"rates"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(o(Ib),{style:{"grid-area":"loans"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(o(xb),{style:{"grid-area":"addresses"},market:c.market},null,8,["market"]),_(o(Xb),{style:{"grid-area":"properties"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(o(Hb),{style:{"grid-area":"usage"},market:c.market},null,8,["market"])])}}});function _s(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof _s=="function"&&_s(Jl);const Zb=I(Jl,[["__scopeId","data-v-a35de963"]]),Jb={class:"trading"},er=P({__name:"Trading",props:{market:{},chain:{}},setup(e){const{t}=M(),a=w(()=>{var f;return(f=e.market)==null?void 0:f.llamma}),{isFetching:s,data:n}=Ha(R("lending"),a,H(()=>e.chain)),l=R(1),{isFetching:c,data:i}=ll(R("lending"),a,H(()=>e.chain),l),r=R(1),{isFetching:d,data:u}=nl(R("lending"),a,H(()=>e.chain),r);return(f,m)=>{var b,y,C,k;const v=ae,h=we;return g(),L("div",Jb,[_(h,{style:{"grid-area":"oracle"},label:o(t)("oracle"),"has-value":!!f.market},{default:S(()=>{var $;return[_(v,{value:($=f.market)==null?void 0:$.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(h,{style:{"grid-area":"amm"},label:o(t)("amm"),"has-value":!!f.market},{default:S(()=>{var $;return[_(v,{value:($=f.market)==null?void 0:$.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(o(xl),{style:{"grid-area":"ohlc"},ohlc:o(n)??[],loading:o(s)},null,8,["ohlc","loading"]),_(o(El),{style:{"grid-area":"trades"},trades:((b=o(i))==null?void 0:b.trades)??[],count:((y=o(i))==null?void 0:y.count)??0,chain:f.chain,loading:o(c),onPage:m[0]||(m[0]=$=>l.value=$)},null,8,["trades","count","chain","loading"]),_(o(Ol),{style:{"grid-area":"events"},events:((C=o(u))==null?void 0:C.events)??[],count:((k=o(u))==null?void 0:k.count)??0,loading:o(d),onPage:m[1]||(m[1]=$=>r.value=$)},null,8,["events","count","loading"])])}}});function fs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof fs=="function"&&fs(er);const eg=I(er,[["__scopeId","data-v-7436bded"]]),tg={class:"liquidations"},ag=P({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=w(()=>{var $;return($=e.market)==null?void 0:$.controller}),{isFetching:a,data:s}=mt(H(()=>e.market),H(()=>e.chain)),n=w(()=>s.value.map(({timestamp:$,priceOracle:A})=>({timestamp:$,priceOracle:A}))),l=w(()=>s.value.map(({timestamp:$,discountLiquidation:A})=>({timestamp:$,discount:A}))),{isFetching:c,data:i}=vl(R("lending"),H(()=>e.chain),t),{isFetching:r,data:d}=ml(R("lending"),H(()=>e.chain),t),{isFetching:u,data:f}=pl(R("lending"),H(()=>e.chain),t),m=w(()=>f.value.map(({timestamp:$,proportion:A})=>({timestamp:$,proportion:A*100}))),{isFetching:v,data:h}=hl(R("lending"),H(()=>e.chain),t),{isFetching:b,data:y}=_l(R("lending"),H(()=>e.chain),t),{isFetching:C,data:k}=fl(R("lending"),H(()=>e.chain),t);return($,A)=>(g(),L("div",tg,[_(o(Il),{overview:o(h),loading:o(v)},null,8,["overview","loading"]),_(o(Ll),{ratios:o(m),"prices-oracle":o(n),loading:o(u)||o(a)},null,8,["ratios","prices-oracle","loading"]),_(o(wl),{losses:o(y),loading:o(b)},null,8,["losses","loading"]),_(o(Cl),{losses:o(y),loading:o(b)},null,8,["losses","loading"]),_(o(kl),{deciles:o(k),loading:o(C)},null,8,["deciles","loading"]),_(o(gl),{liqs:o(i),loading:o(c)},null,8,["liqs","loading"]),_(o(Rl),{liqs:o(d),loading:o(r)},null,8,["liqs","loading"]),_(o(Al),{discounts:o(l),liqs:o(d),loading:o(a)||o(r)},null,8,["discounts","liqs","loading"])]))}}),og=I(ag,[["__scopeId","data-v-f2820630"]]),sg={class:"market-overview"},ng=P({__name:"Market.page",setup(e){const{show:t,crumbs:a}=E(Ee()),s=ye("chain"),n=ye("marketAddr"),{isFetching:l,data:c}=Hl(s),i=w(()=>{var u;return(u=c.value)==null?void 0:u.find(f=>f.controller===n.value)});x(i,u=>{a.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:s.value})},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),le(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:d}=ea(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:s.value,marketAddr:n.value}));return(u,f)=>{const m=Ue,v=Xe,h=Ge;return g(),L("div",sg,[_(m,{class:O(["spinner",{loading:o(l)}])},null,8,["class"]),!o(l)&&o(i)?(g(),V(h,{key:0,active:o(d),onTab:f[0]||(f[0]=b=>d.value=b.index)},{default:S(()=>[_(v,{header:"Overview"},{default:S(()=>[(g(),V(Se,null,[o(r)==="overview"?(g(),V(Zb,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),_(v,{header:"Trading"},{default:S(()=>[(g(),V(Se,null,[o(r)==="trading"?(g(),V(eg,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),_(v,{header:"Liquidations"},{default:S(()=>[(g(),V(Se,null,[o(r)==="liquidations"?(g(),V(og,{key:0,market:o(i),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),lg=I(ng,[["__scopeId","data-v-a093387c"]]),qe=Qe("monitorStore",()=>{const e=R(null),t=R(null),a=R(null),s=R([]),n=R(!1),l=R([]),c=R([]),i=R([]),r=R([]),d=R([]),u=R({curve:[],balanceCoin0:0,balanceCoin1:0}),f=R([]),m=R(null),v=R("month");return{socket:e,socketPool:t,pool:a,pools:s,poolsLoadingError:n,prices:l,balances:c,volumes:i,transactions:r,tvl:d,bonding:u,coins:f,pair:m,timeRange:v}});class rg{constructor(t){this.init$=new Ce(a=>{const s=n=>{const l=n.map(c=>bs(c));a.next(l)};return t.on("price_chart",s),()=>{t.off("price_chart",s)}}).pipe(Le()),this.update$=new Ce(a=>{const s=n=>{const l=bs(n);a.next(l)};return t.on("Update Price-Chart",s),()=>{t.off("Update Price-Chart",s)}}).pipe(Le())}}function bs(e){const t=Object.keys(e)[0],a=parseInt(t,10),s=e[t];return{timestamp:a,value:s}}class ig{constructor(t){this.init$=new Ce(a=>{const s=n=>{const l=n.map(c=>gs(c));a.next(l)};return t.on("balances_chart",s),()=>{t.off("balances_chart",s)}}).pipe(Le()),this.update$=new Ce(a=>{const s=n=>{const l=gs(n);a.next(l)};return t.on("Update Balance-Chart",s),()=>{t.off("Update Balance-Chart",s)}}).pipe(Le())}}function gs(e){const t=Object.keys(e)[0],a=parseInt(t,10),s=e[t];return{timestamp:a,balances:s}}class cg{constructor(t){this.init$=new Ce(a=>{const s=n=>{const l=n.map(c=>ys(c));a.next(l)};return t.on("volume_chart",s),()=>{t.off("volume_chart",s)}}).pipe(Le()),this.update$=new Ce(a=>{const s=n=>{const l=ys(n);a.next(l)};return t.on("Update Volume-Chart",s),()=>{t.off("Update Volume-Chart",s)}}).pipe(Le())}}function ys(e){const t=Object.keys(e)[0],a=parseInt(t,10),s=e[t];return{timestamp:a,volume:s}}class ug{constructor(t){this.init$=new Ce(a=>{const s=n=>{const l=n.map(c=>ws(c)).flat(1);a.next(l)};return t.on("table_all",s),()=>{t.off("table_all",s)}}).pipe(Le()),this.update$=new Ce(a=>{const s=n=>{const l=ws(n);for(const c of l)a.next(c)};return t.on("Update Table-ALL",s),()=>{t.off("Update Table-ALL",s)}}).pipe(Le())}}function ws(e){let t;if(e.type==="swap")t="swap";else if(e.type==="deposit")t="deposit";else if(e.type==="remove")t="withdraw";else return[];const a=e.txHash.toLocaleLowerCase(),s=e.blockNumber,n=e.trader.toLocaleLowerCase(),l=e.unixtime;let c;if(t==="swap"){const i=e;return c=[{type:t,txHash:a,blockNumber:s,trader:n,timestamp:l,fee:i.tradeDetails.feeUSD,value:i.tradeDetails.valueUSD,amountIn:i.tradeDetails.amountIn,amountOut:i.tradeDetails.amountOut,tokenIn:i.tradeDetails.nameIn,tokenOut:i.tradeDetails.nameOut}],c}else t==="deposit"?c=e.tradeDetails.map(r=>({type:"deposit",txHash:a,blockNumber:s,trader:n,timestamp:l,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):c=e.tradeDetails.map(r=>({type:"withdraw",txHash:a,blockNumber:s,trader:n,timestamp:l,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return c}class dg{constructor(t){this.init$=new Ce(a=>{const s=n=>{const l=n.map(c=>$s(c));a.next(l)};return t.on("tvl_chart",s),()=>{t.off("tvl_chart",s)}}).pipe(Le()),this.update$=new Ce(a=>{const s=n=>{const l=$s(n);a.next(l)};return t.on("Update TVL-Chart",s),()=>{t.off("Update TVL-Chart",s)}}).pipe(Le())}}function $s(e){const t=Object.keys(e)[0],a=parseInt(t,10),s=e[t];return{timestamp:a,tvl:s}}class pg{constructor(t){this.get$=new Ce(a=>{const s=n=>{const l=mg(n);a.next(l)};return t.on("bonding_curve",s),()=>{t.off("bonding_curve",s)}}).pipe(Le())}}function mg(e){return{curve:F.zipWith(e.x,e.y,(a,s)=>({x:a,y:s})),balanceCoin0:e.balance0,balanceCoin1:e.balance1}}function vg(e){return $a(`${e}/`,{autoConnect:!1,secure:!0})}function hg(e,t){return $a(`${e}/${t}`,{autoConnect:!1,secure:!0})}function _g(e){return $a(`${e}/main`,{autoConnect:!1,secure:!0})}function fg(e,t,a){const s=hg(t,a),n=new cg(s),l=new rg(s),c=new ug(s),i=new ig(s),r=new dg(s),d=new pg(s),u=new sp(s),f=new In(s);return Cg(e,c),wg(e,l),gg(e,i),yg(e,r),$g(e,n),kg(e,d),Sg(e,u),Lg(e,f),s.connect(),s}async function bg(e,t,a){const s=await t.get(a);s?e.pools=s:e.poolsLoadingError=!0}let Ft=null;function gg(e,t){Ft&&Ft.unsubscribe();try{Ft=t.init$.subscribe({next:a=>{e.balances=a},error:a=>console.error(a)}),Ft.add(t.update$.subscribe({next:a=>{e.balances.push(a)},error:a=>console.error(a)}))}catch{e.poolsLoadingError=!0}}let Mt=null;function yg(e,t){Mt&&Mt.unsubscribe();try{Mt=t.init$.subscribe({next:a=>{e.tvl=a},error:a=>console.error(a)}),Mt.add(t.update$.subscribe({next:a=>{e.tvl.push(a)},error:a=>console.error(a)}))}catch{e.poolsLoadingError=!0}}let xt=null;function wg(e,t){xt&&xt.unsubscribe();try{xt=t.init$.subscribe({next:a=>{e.prices=a},error:a=>console.error(a)}),xt.add(t.update$.subscribe({next:a=>{e.prices.push(a)},error:a=>console.error(a)}))}catch{e.poolsLoadingError=!0}}let Bt=null;function $g(e,t){Bt&&Bt.unsubscribe();try{Bt=t.init$.subscribe({next:a=>{e.volumes=a},error:a=>console.error(a)}),Bt.add(t.update$.subscribe({next:a=>{e.volumes.push(a)},error:a=>console.error(a)}))}catch{e.poolsLoadingError=!0}}let Ot=null;function Cg(e,t){Ot&&Ot.unsubscribe();try{Ot=t.init$.subscribe({next:a=>{e.transactions=a},error:a=>console.error(a)}),Ot.add(t.update$.subscribe({next:a=>{e.transactions.push(a)},error:a=>console.error(a)}))}catch{e.poolsLoadingError=!0}}let ua=null;function kg(e,t){ua&&ua.unsubscribe();try{ua=t.get$.subscribe({next:a=>{e.bonding=a},error:a=>console.error(a)})}catch{e.poolsLoadingError=!0}}let da=null;function Sg(e,t){da&&da.unsubscribe();try{da=t.get$.subscribe({next:a=>{e.coins=a},error:a=>console.error(a)})}catch{e.poolsLoadingError=!0}}let pa=null;function Lg(e,t){pa&&pa.unsubscribe();try{pa=t.update$.subscribe({next:a=>{e.pair=a},error:a=>console.error(a)})}catch{e.poolsLoadingError=!0}}const Tg={key:0,class:"item"},Ag={class:"label"},tr=P({__name:"SearchPool",props:ze({poolService:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:ze(["select"],["update:modelValue"]),setup(e,{emit:t}){const{t:a}=M(),s=Kt(e,"modelValue"),n=t,l=qe(),c=R(!1),i=R(a("search-placeholder")),r=w(()=>l.pools),d=v=>{const h=Fe(v.name);return h.startsWith("Curve.fi ")?h.slice(9):h},u=F.debounce(bg,200,{maxWait:1e3}),f=v=>{u(l,e.poolService,v),c.value=!!v},m=v=>{c.value=!1,n("select",v)};return x(()=>l.poolsLoadingError,v=>{v?i.value=a("search-error"):i.value=a("search-placeholder")}),(v,h)=>{const b=Te;return g(),V(b,{class:"select-pool","model-value":s.value,placeholder:o(i),search:!0,"auto-complete":o(c),options:o(r),onInput:f,onSelect:m},{item:S(y=>[y.item?(g(),L("div",Tg,[p("div",Ag,T(d(y.item)),1)])):B("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"])}}});function Cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-loading":{t:0,b:{t:2,i:[{t:3}],s:"Loading pools, please wait..."}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve pools"}},"search-error":{t:0,b:{t:2,i:[{t:3}],s:"Failed loading Curve pools"}}}})}typeof Cs=="function"&&Cs(tr);const Pg=I(tr,[["__scopeId","data-v-38d10ca3"]]),Ig={class:"status"},Vg={class:"ping"},Rg=P({__name:"Status",setup(e){const t=qe(),a=R(1/0),s=R("bad");return x(()=>t.socket,n=>{if(!n)return;new ap(n).get$.subscribe(c=>{a.value=c,s.value=c<=50?"good":c<=500?"meh":"bad"})},{immediate:!0}),(n,l)=>{const c=St;return g(),L("div",Ig,[_(c,{class:"tooltip"},{item:S(()=>[p("div",{class:O(["indicator",o(s)])},null,2)]),default:S(()=>[p("div",Vg,"Ping: "+T(o(a)===1/0?"?":o(a))+"ms",1)]),_:1})])}}}),qg=I(Rg,[["__scopeId","data-v-a782295f"]]),Dg=e=>(de("data-v-c69b1a12"),e=e(),pe(),e),Fg={class:"header"},Mg={class:"header-content"},xg=Dg(()=>p("div",{class:"title"},"Live monitor",-1)),Bg={class:"controls"},Og=P({__name:"Header",props:{poolService:{}},setup(e){const t=qe(),a=R(""),s=n=>{a.value=Fe(n.name),t.pool=n};return(n,l)=>{const c=Y;return g(),L("div",Fg,[_(c,null,{default:S(()=>[p("div",Mg,[xg,p("div",Bg,[_(Pg,{modelValue:o(a),"onUpdate:modelValue":l[0]||(l[0]=i=>ue(a)?a.value=i:null),class:"search","pool-service":n.poolService,onSelect:s},null,8,["modelValue","pool-service"]),_(qg)])])]),_:1})])}}}),Ug=I(Og,[["__scopeId","data-v-c69b1a12"]]),Eg={class:"pair"},Wg={class:"item"},Hg=["src"],Ng={class:"label"},Kg={class:"item"},zg=["src"],Qg={class:"label"},jg=P({__name:"SelectorPair",setup(e){const t=qe(),a=R([!1,!1]),s=R([null,null]),n=w(()=>t.coins.map(u=>({label:u.name}))),l=w(()=>t.pair?[{label:t.pair[0]},{label:t.pair[1]}]:null),c=u=>u!=null&&u.logo?`${u.logo}`:"",i=u=>u?`${u.label}`:"?",r=u=>{a.value[u]=!a.value[u]},d=(u,f,m)=>{var y,C;const v=u===0?1:0,h=s.value[u],b=f;(h==null?void 0:h.label)!==(b==null?void 0:b.label)&&(s.value[u]=b,((y=s.value[u])==null?void 0:y.label)===((C=s.value[v])==null?void 0:C.label)&&(s.value[v]=h),m&&t.socketPool&&s.value[0]&&s.value[1]&&new In(t.socketPool).update(t.timeRange,[s.value[0].label,s.value[1].label]))};return x(l,()=>{d(0,l.value?l.value[0]:null,!1),d(1,l.value?l.value[1]:null,!1)}),(u,f)=>{const m=ct;return g(),L("div",Eg,[_(m,{class:"select",options:o(n),selected:o(s)[0],open:o(a)[0],onOpen:f[0]||(f[0]=v=>r(0)),onClose:f[1]||(f[1]=v=>o(a)[0]=!1),onInput:f[2]||(f[2]=v=>d(0,v,!0))},{item:S(v=>{var h;return[p("div",Wg,[(h=v.item)!=null&&h.logo?(g(),L("img",{key:0,src:c(v.item)},null,8,Hg)):B("",!0),p("div",Ng,T(i(v.item)),1)])]}),_:1},8,["options","selected","open"]),_(m,{class:"select",options:o(n),selected:o(s)[1],open:o(a)[1],onOpen:f[3]||(f[3]=v=>r(1)),onClose:f[4]||(f[4]=v=>o(a)[1]=!1),onInput:f[5]||(f[5]=v=>d(1,v,!0))},{item:S(v=>{var h;return[p("div",Kg,[(h=v.item)!=null&&h.logo?(g(),L("img",{key:0,src:c(v.item)},null,8,zg)):B("",!0),p("div",Qg,T(i(v.item)),1)])]}),_:1},8,["options","selected","open"])])}}}),Gg=I(jg,[["__scopeId","data-v-260445b5"]]),Xg=["day","week","month"],Yg={class:"ranges"},ar=P({__name:"SelectorRange",setup(e){const{t}=M(),a=qe(),s=n=>{a.timeRange!==n&&(a.timeRange=n,a.pair&&new lp(a.socketPool).update(n))};return(n,l)=>{const c=Ye;return g(),L("div",Yg,[(g(!0),L(se,null,he(o(Xg),i=>(g(),V(c,{key:i,"model-value":o(a).timeRange===i,value:o(t)(i),onClick:r=>s(i)},null,8,["model-value","value","onClick"]))),128))])}}});function ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{day:{t:0,b:{t:2,i:[{t:3}],s:"Day"}},week:{t:0,b:{t:2,i:[{t:3}],s:"Week"}},month:{t:0,b:{t:2,i:[{t:3}],s:"Month"}}}})}typeof ks=="function"&&ks(ar);const Zg=I(ar,[["__scopeId","data-v-2eb91b18"]]),or=e=>(de("data-v-10ded877"),e=e(),pe(),e),Jg={class:"controls"},e0=or(()=>p("div",{class:"gutter"},null,-1)),t0={class:"rows"},a0=or(()=>p("div",{class:"title"},"Charts",-1)),o0={class:"items"},s0=P({__name:"Controls",setup(e){return(t,a)=>(g(),L("div",Jg,[e0,p("div",t0,[a0,p("div",o0,[_(Gg),_(Zg)])])]))}}),n0=I(s0,[["__scopeId","data-v-10ded877"]]);function l0(e){return e.type==="swap"}function r0(e){return e.type==="deposit"}function i0(e){return e.type==="withdraw"}const c0={style:{display:"grid","grid-template-columns":"auto auto"}},u0={class:"title"},d0={style:{display:"flex",gap:"1rem"}},p0={key:0,class:"fas fa-arrow-up"},m0={key:1,class:"fas fa-arrow-down"},v0={key:2,class:"fas fa-exchange-alt"},h0={key:0,class:"number"},_0=["href"],f0=["href"],b0=["href"],g0=["innerHTML"],y0={key:0},w0={key:1,class:"number"},Ss=10,sr=P({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{t}=M(),a=qe(),{relativeTime:s}=Pt(),n=R(""),l=R(["swap","deposit","withdraw"]),c=w(()=>e.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=w(()=>F.chain(e.txs?e.txs:a.transactions).filter(v=>l.value.includes(v.type)).filter(v=>{const h=n.value.toLocaleLowerCase().split(" "),b=y=>h.some(C=>y.toLocaleLowerCase().includes(C));return b(v.blockNumber.toString())||b(v.trader)||b(v.txHash)}).reverse().value()),{page:r,rowsPage:d,onPage:u}=Ma(i,Ss),f=v=>{if(l0(v)){const h=v.amountIn.toLocaleString(),b=v.amountOut.toLocaleString(),y=`<span>${h} ${v.tokenIn}</span>`,C="<i class='fas fa-arrow-right'></i>",k=`<span style='justify-self: end;'>${b} ${v.tokenOut}</span>`;return`${y}${C}${k}`}else{if(r0(v))return`${v.amountIn.toLocaleString()} ${v.tokenIn}`;if(i0(v))return`${v.amountOut.toLocaleString()} ${v.tokenOut}`}return"???"},m=v=>{v===0?l.value=["swap","deposit","withdraw"]:v===1?l.value=["swap"]:v===2?l.value=["deposit"]:v===3?l.value=["withdraw"]:l.value=[]};return(v,h)=>{const b=Xe,y=Ge,C=Te,k=je,$=_e;return g(),V($,{class:O(["datatable-trades",{compact:v.compact,time:v.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:o(d),columns:o(c)},vn({row:S(A=>[p("div",{class:O(["type",{deposit:A.item.type==="deposit",withdraw:A.item.type==="withdraw",swap:A.item.type==="swap"}])},[A.item.type==="deposit"?(g(),L("i",p0)):A.item.type==="withdraw"?(g(),L("i",m0)):(g(),L("i",v0)),z(" "+T(o(t)(A.item.type)),1)],2),v.time?(g(),L("div",h0,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${A.item.blockNumber}`,target:"_blank"},T(A.item.blockNumber),9,_0)])):B("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${A.item.txHash}`,target:"_blank",onClick:h[2]||(h[2]=Ae(()=>{},["stop"]))},T(o(Pe)(A.item.txHash)),9,f0)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${A.item.trader}`,target:"_blank",onClick:h[3]||(h[3]=Ae(()=>{},["stop"]))},T(o(Pe)(A.item.trader)),9,b0)]),p("div",{class:O(["assets",{swap:A.item.type==="swap"}]),innerHTML:f(A.item)},null,10,g0),p("div",{class:O({number:v.time})},[A.item.type==="swap"?(g(),L("span",y0," $"+T(o(F.round)(A.item.fee).toLocaleString()),1)):B("",!0)],2),v.time?(g(),L("div",w0,T(o(s)(A.item.timestamp)),1)):B("",!0)]),_:2},[v.header?{name:"header-content",fn:S(()=>[p("div",c0,[p("div",u0,T(o(t)("title")),1),_(y,{class:"types",onTab:h[0]||(h[0]=A=>m(A.index))},{default:S(()=>[_(b,{header:"All"}),_(b,{header:"Swaps"}),_(b,{header:"Deposits"}),_(b,{header:"Withdrawals"})]),_:1})]),p("div",d0,[_(C,{modelValue:o(n),"onUpdate:modelValue":h[1]||(h[1]=A=>ue(n)?n.value=A:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(k,{class:"pagination","items-count":o(i).length,"items-per-page":Ss,page:o(r),onPage:o(u)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns"])}}});function Ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},withdraw:{t:0,b:{t:2,i:[{t:3}],s:"Withdraw"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Ls=="function"&&Ls(sr);const $0=I(sr,[["__scopeId","data-v-a568caa2"]]),nr=P({__name:"TVL",setup(e){const{t}=M();let a,s;const n=qe(),{theme:l}=E(N()),c=R(null),i=w(()=>n.tvl);le(()=>{c.value&&(a=it(c.value,r(c.value)),s=a.addAreaSeries(d()),u(i.value))}),x(i,m=>{u(m)}),x(l,()=>{c.value&&(a.applyOptions(r(c.value)),s.applyOptions(d()))});const r=m=>ne(m,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>f(v)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),u=m=>{if(!a||!s)return;const v=F.chain(m).map(h=>({time:h.timestamp,value:h.tvl})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();v.length>0&&s.setData(v),a.timeScale().fitContent()},f=m=>`$${j(m,1,"dollar")}${Q(m,"dollar")}`;return(m,v)=>{const h=Y;return g(),V(h,{class:"tvl",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ts(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Ts=="function"&&Ts(nr);const C0=I(nr,[["__scopeId","data-v-277ab4b2"]]),lr=P({__name:"Bonding",setup(e){const{t}=M();let a,s;const n=qe(),{theme:l}=E(N()),c=R(null),i=w(()=>n.bonding);le(()=>{c.value&&(a=it(c.value,r(c.value)),s=a.addLineSeries(d()),f(i.value))}),x(i,v=>{f(v)}),x(l.value,()=>{c.value&&(a.applyOptions(r(c.value)),s.applyOptions(d()),u())});const r=v=>ne(v,l.value,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:h=>m(h)},localization:{priceFormatter:h=>m(h),timeFormatter:h=>m(h)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}),u=()=>{const v=[{time:i.value.balanceCoin1,position:"inBar",color:l.value.colors.yellow,shape:"circle"}];s.setMarkers(v)},f=v=>{if(!a||!s)return;const h=F.chain(v.curve).map(b=>({time:b.x,value:b.y})).value();h.length>0&&(s.setData(h),u()),a.timeScale().fitContent()},m=v=>v<0?"":`${j(Math.abs(v),0,"dollar")}${Q(v,"dollar")}`;return(v,h)=>{const b=Y;return g(),V(b,{class:"bondings",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function As(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Bonding Curve"}}}})}typeof As=="function"&&As(lr);const k0=I(lr,[["__scopeId","data-v-42e9972e"]]),rr=P({__name:"Balances",setup(e){const{t}=M();let a,s=[];const n=qe(),{theme:l}=E(N()),c=R(null),i=w(()=>n.balances),r=w(()=>{var b,y;return((y=(b=n.balances[0])==null?void 0:b.balances)==null?void 0:y.length)??0}),{items:d}=Re(()=>n.coins.map(b=>b.name).map((b,y)=>({id:b,label:b,color:l.value.colorsArray[y]})));le(()=>{c.value&&(a=it(c.value,u(c.value)),m(),v(i.value))}),x(i,b=>{m(),v(b)}),x(l.value,()=>{if(c.value){a.applyOptions(u(c.value));for(const[b,y]of s.entries())y.applyOptions(f(b))}});const u=b=>ne(b,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>h(y)}}),f=b=>{const{colorsArray:y}=l.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,color:y[b],lastValueVisible:!1,priceLineVisible:!1}},m=()=>{if(a){for(const b of s)a.removeSeries(b);s=[];for(let b=0;b<r.value;b++){const y=a.addLineSeries(f(b));s.push(y)}}},v=b=>{if(!(!a||s.length<0)){for(let y=0;y<r.value;y++){const C=F.chain(b).map(k=>({time:k.timestamp,value:k.balances[y]})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value();C.length>0&&s[y].setData(C)}a.timeScale().fitContent()}},h=b=>`${j(b,1,"dollar")}${Q(b,"dollar")}`;return(b,y)=>{const C=Ve,k=Y;return g(),V(k,{class:"balances",title:o(t)("title")},{default:S(()=>[_(C,{items:o(d)},null,8,["items"]),p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ps(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Balances"}}}})}typeof Ps=="function"&&Ps(rr);const S0=I(rr,[["__scopeId","data-v-eb3ed0e1"]]),ir=P({__name:"Prices",setup(e){const{t}=M();let a,s,n,l=1,c=0;const i=qe(),{theme:r}=E(N()),d=R(null),u=w(()=>i.prices),f=w(()=>i.volumes);le(()=>{d.value&&(a=it(d.value,m(d.value)),s=a.addAreaSeries(v()),n=a.addHistogramSeries(h()),b(u.value),y(f.value))}),x(u,k=>{b(k)}),x(f,k=>{y(k)}),x(r.value,()=>{d.value&&(a.applyOptions(m(d.value)),s.applyOptions(v()),n.applyOptions(h()))});const m=k=>ne(k,r.value,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:$=>C($)}}),v=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ce.WithSteps,lineColor:r.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),h=()=>({color:r.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),b=k=>{if(!a||!s)return;const $=F.chain(k).map(A=>({time:A.timestamp,value:A.value})).uniqWith((A,D)=>A.time===D.time).orderBy(A=>A.time,"asc").value();if($.length>0){s.setData($);const A=$[0].time,D=$[$.length-1].time;a.timeScale().setVisibleRange({from:A,to:D}),c=Math.min(...$.map(U=>U.value)),l=Math.max(...$.map(U=>U.value))}},y=k=>{if(!a||!n)return;const $=F.chain(k).map(A=>({time:A.timestamp,value:A.volume})).uniqWith((A,D)=>A.time===D.time).orderBy(A=>A.time,"asc").value();$.length>0&&n.setData($)},C=k=>{const $=l-c,A=$>1?$-Math.floor($):$,D=-Math.floor(Math.log10(A)+1)+2;return`${j(k,D,"dollar")}${Q(k,"dollar")}`};return(k,$)=>{const A=Y;return g(),V(A,{class:"prices",title:o(t)("title")},{default:S(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"])}}});function Is(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof Is=="function"&&Is(ir);const L0=I(ir,[["__scopeId","data-v-292a0f72"]]),T0={class:"curve-monitor"},A0={key:0,class:"data"},Vs="https://ws.llama.airforce:2053",P0=P({__name:"Monitor.page",setup(e){const t=vg(Vs),a=new op(t),s=Oe(),n=qe();n.socket=t;const l=ye("pool"),c=w(()=>n.pool!==null);let i="";le(async()=>{await d(l.value),t.connect()});const r=async(u,f)=>{var m;i!==u.id&&(n.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(m=n.socketPool)==null||m.close(),n.socketPool=fg(n,Vs,n.pool.id),i=n.pool.id,f&&await s.push({name:"curvemonitor",params:{pool:n.pool.id}}))},d=async u=>{u&&typeof u=="string"&&await r({id:u,name:"???"},!1)};return x(()=>n.pool,async u=>{u&&await r(u,!0)}),x(l,async u=>{await d(u)}),(u,f)=>(g(),L("div",T0,[_(Ug,{class:"header","pool-service":o(a)},null,8,["pool-service"]),o(c)?(g(),L("div",A0,[_(n0,{class:"controls"}),_(L0,{class:"prices"}),_($0,{class:"transactions"}),_(S0,{class:"balances"}),_(C0,{class:"tvl"}),_(k0,{class:"bonding"})])):B("",!0)]))}}),I0=I(P0,[["__scopeId","data-v-ed51d0ff"]]);class cr{constructor(t){this.socket=t}search(t){const a=new Promise(s=>{this.socket.once("userSearchResult",n=>{s(n)})});return this.socket.emit("getUserSearchResult",t),a}getSandwichLabelOccurrences(){const t=new Promise(a=>{this.socket.once("sandwichLabelOccurrences",s=>{a(s)})});return this.socket.emit("getSandwichLabelOccurrences"),t}getAbsoluteLabelsRanking(){const t=new Promise(a=>{this.socket.once("absoluteLabelsRanking",s=>{a(s)})});return this.socket.emit("getAbsoluteLabelsRanking"),t}getSandwiches(t=1){const a=new Promise(s=>{this.socket.once("fullSandwichTableContent",({data:n,totalPages:l})=>{s({sandwiches:n,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",t),a}}const oa=Qe("mevStore",()=>{const e=R(null),t=R([]),a=R({cur:0,total:0}),s=R([]),n=R([]);return{socket:e,sandwiches:t,sandwichesPage:a,labelRankingShort:s,labelRankingExtended:n}}),V0=P({__name:"LabelsWorstRelative",setup(e){const t=oa(),{theme:a}=E(N()),s=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,u)=>u.ratio-d.ratio).slice(0,10),n=w(()=>s(t.labelRankingExtended).map(r=>r.label)),l=w(()=>s(t.labelRankingExtended).map(r=>r.ratio)),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Ratio: ${i(u)}</div>`].join("")}},labels:n.value})),i=r=>`${r}%`;return(r,d)=>{const u=me;return g(),V(u,{class:"mevLabels",title:"Worst relative offenders",options:o(c),series:o(l)},null,8,["options","series"])}}}),R0=I(V0,[["__scopeId","data-v-673d8eff"]]),q0=P({__name:"LabelsWorstAbsolute",setup(e){const t=oa(),{theme:a}=E(N()),s=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,u)=>u.occurrences-d.occurrences).slice(0,10),n=w(()=>s(t.labelRankingExtended).map(r=>r.label)),l=w(()=>s(t.labelRankingExtended).map(r=>r.occurrences)),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Occurences: ${i(u)}</div>`].join("")}},labels:n.value})),i=r=>`${r}`;return(r,d)=>{const u=me;return g(),V(u,{class:"mevLabels",title:"Worst absolute offenders",options:o(c),series:o(l)},null,8,["options","series"])}}}),D0=I(q0,[["__scopeId","data-v-6f9a7017"]]),F0={style:{display:"grid","grid-template-columns":"auto auto"}},M0={class:"title"},x0={style:{display:"flex",gap:"1rem"}},B0={key:0,class:"fas fa-arrow-up"},O0={key:1,class:"fas fa-arrow-down"},U0={key:2,class:"fas fa-exchange-alt"},E0={key:0,class:"number"},W0=["href"],H0=["href"],N0=["href"],K0=["innerHTML"],z0={key:1,class:"number"},Rs=10,ur=P({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{t}=M(),{relativeTime:a}=Pt(),s=R(""),n=R(["swap","deposit","remove"]),l=w(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),c=w(()=>F.chain(e.txs).filter(m=>n.value.includes(m.transaction_type)).filter(m=>{const v=s.value.toLocaleLowerCase().split(" "),h=b=>v.some(y=>b.toLocaleLowerCase().includes(y));return h(m.block_number.toString())||h(m.trader)||h(m.tx_hash)}).value()),{page:i,rowsPage:r,onPage:d}=Ma(c,Rs),u=m=>{if(m.transaction_type==="swap"){const v=m.coins_leaving_wallet[0],h=m.coins_entering_wallet[0],b=Ne(parseFloat(v.amount)),y=Ne(parseFloat(h.amount)),C=`<span>${b} ${v.name}</span>`,k="<i class='fas fa-arrow-right'></i>",$=`<span style='justify-self: end;'>${y} ${h.name}</span>`;return`${C}${k}${$}`}else if(m.transaction_type==="deposit"){const v=m.coins_entering_wallet[0];return`${Ne(parseFloat(v.amount))} ${v.name}`}else if(m.transaction_type==="remove"){const v=m.coins_leaving_wallet[0];return`${Ne(parseFloat(v.amount))} ${v.name}`}return"???"},f=m=>{m===0?n.value=["swap","deposit","remove"]:m===1?n.value=["swap"]:m===2?n.value=["deposit"]:m===3?n.value=["remove"]:n.value=[]};return(m,v)=>{const h=Xe,b=Ge,y=Te,C=je,k=_e;return g(),V(k,{class:O(["datatable-trades",{compact:m.compact,time:m.time}]),"columns-header":"1fr 2fr","columns-data":"trades-columns-data",rows:o(r),columns:o(l),header:m.header},vn({row:S($=>[p("div",{class:O(["type",{deposit:$.item.transaction_type==="deposit",remove:$.item.transaction_type==="remove",swap:$.item.transaction_type==="swap"}])},[$.item.transaction_type==="deposit"?(g(),L("i",B0)):$.item.transaction_type==="remove"?(g(),L("i",O0)):(g(),L("i",U0)),z(" "+T(o(t)($.item.transaction_type)),1)],2),m.time?(g(),L("div",E0,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.block_number}`,target:"_blank"},T($.item.block_number),9,W0)])):B("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.tx_hash}`,target:"_blank",onClick:v[2]||(v[2]=Ae(()=>{},["stop"]))},T(o(Pe)($.item.tx_hash)),9,H0)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank",onClick:v[3]||(v[3]=Ae(()=>{},["stop"]))},T(o(Pe)($.item.trader)),9,N0)]),p("div",{class:O(["assets",{swap:$.item.transaction_type==="swap"}]),innerHTML:u($.item)},null,10,K0),m.time?(g(),L("div",z0,T(o(a)($.item.block_unixtime)),1)):B("",!0)]),_:2},[m.header?{name:"header-content",fn:S(()=>[p("div",F0,[p("div",M0,T(o(t)("title")),1),_(b,{class:"types",onTab:v[0]||(v[0]=$=>f($.index))},{default:S(()=>[_(h,{header:"All"}),_(h,{header:"Swaps"}),_(h,{header:"Deposits"}),_(h,{header:"Removals"})]),_:1})]),p("div",x0,[_(y,{modelValue:o(s),"onUpdate:modelValue":v[1]||(v[1]=$=>ue(s)?s.value=$:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(C,{class:"pagination","items-count":o(c).length,"items-per-page":Rs,page:o(i),onPage:o(d)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns","header"])}}});function qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},remove:{t:0,b:{t:2,i:[{t:3}],s:"Remove"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof qs=="function"&&qs(ur);const Q0=I(ur,[["__scopeId","data-v-529d4f8a"]]),j0={class:"title"},G0={style:{display:"flex",gap:"1rem"}},X0=["href"],Y0={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Z0=["href"],J0={class:"number"},ma=10,dr=P({__name:"Sandwiches",setup(e){const{t}=M(),a=oa(),{expanded:s,toggleExpansion:n}=Oa(),{relativeTime:l}=Pt(),c=R(""),i=w(()=>a.sandwichesPage.cur),r=w(()=>a.sandwichesPage.total*ma),d=w(()=>F.chain(a.sandwiches).filter(m=>{const v=c.value.toLocaleLowerCase().split(" "),h=b=>v.some(y=>b.toLocaleLowerCase().includes(y));return h(m.poolName.toString())||h(m.poolAddress.toString())||h(m.label.toString())}).orderBy([m=>m.frontrun.block_unixtime,m=>m.frontrun.tx_position],"desc").value()),u=m=>F.orderBy([m.frontrun,...m.center,m.backrun],[v=>v.block_unixtime,v=>v.tx_position]),f=async m=>{if(!a.socket)return;const v=new cr(a.socket),{sandwiches:h,totalPages:b}=await v.getSandwiches(m);a.sandwiches=h,a.sandwichesPage={cur:m,total:b}};return(m,v)=>{const h=Te,b=je,y=_e;return g(),V(y,{class:"datatable-sandwiches","columns-header":"1fr 2fr","columns-data":"sandwiches-columns-data",rows:o(d),columns:["Pool","Action","Affected Contract","Time"],expanded:o(s),onSelected:v[1]||(v[1]=C=>o(n)(C))},{"header-content":S(()=>[p("div",j0,T(o(t)("title")),1),p("div",G0,[_(h,{modelValue:o(c),"onUpdate:modelValue":v[0]||(v[0]=C=>ue(c)?c.value=C:null),class:"search",search:!0,placeholder:o(t)("search-placeholder")},null,8,["modelValue","placeholder"]),o(r)>ma?(g(),V(b,{key:0,class:"pagination","items-count":o(r),"items-per-page":ma,page:o(i),onPage:f},null,8,["items-count","page"])):B("",!0)])]),row:S(C=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${C.item.poolAddress}`,target:"_blank"},T(C.item.poolName),9,X0)]),p("div",null,[p("div",Y0,[p("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${C.item.center[0].trader}`},T(o(Pe)(C.item.center[0].trader)),9,Z0),p("span",null," lost "+T(o(Ne)(C.item.user_losses_details.reduce((k,$)=>k+$.amount,0)))+" "+T(C.item.user_losses_details[0].unit),1),p("span",null,T(o(Ne)(-C.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+T(o(Ne)(C.item.lossInUsd)),1)])]),p("div",null,T(C.item.label),1),p("div",J0,T(o(l)(C.item.frontrun.block_unixtime)),1)]),"row-details":S(C=>[_(Q0,{class:"transactions",txs:u(C.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])}}});function Ds(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Sandwiches"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Ds=="function"&&Ds(dr);const e1=I(dr,[["__scopeId","data-v-1ab303d4"]]),t1={class:"mev"},a1="wss://api.curvemonitor.com",o1=P({__name:"MEV.page",setup(e){const t=_g(a1),a=new cr(t),s=oa();return s.socket=t,le(()=>{t.connect(),a.getSandwichLabelOccurrences().then(n=>{s.labelRankingExtended=n}),a.getSandwiches().then(n=>{s.sandwiches=n.sandwiches,s.sandwichesPage={cur:1,total:n.totalPages}})}),(n,l)=>(g(),L("div",t1,[_(R0,{style:{"grid-row":"1","grid-column":"1"}}),_(D0,{style:{"grid-row":"1","grid-column":"2"}}),_(e1,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),s1=I(o1,[["__scopeId","data-v-af19cb5f"]]),n1=["all","ownership","parameter","other"];function rt(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":vr(e)&&mr(e)&&pr(e)?"passed":"denied"}function pr(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function mr(e){return e.votesFor>e.quorum*e.totalSupply}function vr(e){return e.votesFor>e.votesAgainst}const hr=e=>{var b;const t=e.vote_id,a=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",s=(b=e.metadata)!=null&&b.startsWith('"')?e.metadata.substring(1):e.metadata??"",n=e.creator.toLocaleLowerCase(),l=e.snapshot_block,c=e.start_date,i=c+604800,r=Be(BigInt(e.min_accept_quorum),18n),d=Be(BigInt(e.support_required),18n),u=e.vote_count,f=Be(BigInt(e.votes_for),18n),m=Be(BigInt(e.votes_against),18n),v=e.executed,h=Be(BigInt(e.total_supply),18n);return{id:t,type:a,metadata:s,proposer:n,block:l,start:c,end:i,quorum:r,support:d,voteCount:u,votesFor:f,votesAgainst:m,executed:v,totalSupply:h}},l1=e=>{const t=hr(e),a=e.script,s=e.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:Be(BigInt(n.voting_power),18n)}));return{...t,script:a,votes:s}},Fs="https://prices.curve.fi";class r1 extends ke{async getProposals(t,a,s,n){const l=await this.fetch(`${Fs}/v1/dao/proposals?pagination=10&page=${t}&search_string=${a}&type_filter=${s}&status_filter=${n}`);return{proposals:l.proposals.map(hr),count:l.count}}async getProposal(t,a){const s=await this.fetch(`${Fs}/v1/dao/proposals/details/${a}/${t}`);return l1(s)}}const _r=new r1;function fr(e,t,a){return Z({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,s,n]})=>_r.getProposal(s,n),...a&&{enabled:a}})}function i1(e,t,a,s){return Z({queryKey:["curve-proposals",e,s,t,a],queryFn:({queryKey:[,n,l,c,i]})=>_r.getProposals(n,l,c,i),placeholderData:Qt})}const br=P({__name:"Status",props:{proposal:{}},setup(e){const{t}=M(),a=w(()=>{if(rt(e.proposal)==="denied")if(mr(e.proposal))if(vr(e.proposal)){if(!pr(e.proposal))return t("no-support")}else return t("no-win");else return t("no-quorum");return""}),s=w(()=>{switch(rt(e.proposal)){case"active":return t("active");case"denied":return t("denied");case"passed":return t("passed");case"executed":return t("executed");default:return"Unk. Status"}});return(n,l)=>{const c=St,i=we;return g(),V(i,{class:"status","tooltip-type":"underline",label:o(t)("status"),"has-value":!0,tooltip:o(a)},{default:S(()=>[o(a)?(g(),V(c,{key:0},{item:S(()=>[p("span",{class:O(["status-value",o(rt)(n.proposal)])},T(o(s)),3)]),default:S(()=>[z(" "+T(o(a)),1)]),_:1})):(g(),L("span",{key:1,class:O(["status-value",o(rt)(n.proposal)])},T(o(s)),3))]),_:1},8,["label","tooltip"])}}});function Ms(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached (yes votes need to pass this number)"}},"no-support":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was reached and 'for' won, but not enough for support"}},"no-win":{t:0,b:{t:2,i:[{t:3}],s:"More 'against' votes than 'for' votes"}}}})}typeof Ms=="function"&&Ms(br);const c1=I(br,[["__scopeId","data-v-9e86fade"]]),gr=P({__name:"Type",props:{proposal:{}},setup(e){const{t}=M(),a=w(()=>{switch(e.proposal.type){case"ownership":return t("ownership");case"parameter":return t("parameter");case"other":return t("other");default:return"Unk. Type"}});return(s,n)=>{const l=we;return g(),V(l,{class:"type",label:o(t)("type"),value:o(a),"has-value":!0},null,8,["label","value"])}}});function xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{type:{t:0,b:{t:2,i:[{t:3}],s:"Type"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof xs=="function"&&xs(gr);const u1=["href"],yr=P({__name:"Proposer",props:{proposal:{}},setup(e){const{t}=M();return(a,s)=>{const n=we;return g(),V(n,{class:"proposer",label:o(t)("proposer"),"has-value":!0},{default:S(()=>[p("a",{href:`https://etherscan.io/address/${a.proposal.proposer}`,target:"_blank"},T(o(Pe)(a.proposal.proposer)),9,u1)]),_:1},8,["label"])}}});function Bs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Bs=="function"&&Bs(yr);const fa=P({__name:"Date",props:{proposal:{},type:{}},setup(e){const{t}=M();let a;const s=R(""),n=w(()=>{switch(e.type){case"start":return t("start");case"end":return t("end");default:return"Unk. Type"}}),l=w(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(e.proposal.end*1e3);return r>new Date?s.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=w(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});le(()=>{i()});const i=()=>{const r=new Date(e.proposal.end*1e3);a&&clearInterval(a),a=setInterval(()=>{s.value=vc(r)})};return(r,d)=>{const u=we;return g(),V(u,{class:"date","tooltip-type":"underline",label:o(n),value:o(l),"has-value":!0,tooltip:o(c)},null,8,["label","value","tooltip"])}}});function Os(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof Os=="function"&&Os(fa);const wr=e=>(de("data-v-88e3f7d0"),e=e(),pe(),e),d1=wr(()=>p("i",{class:"fas fa-link"},null,-1)),p1={class:"metadata"},m1={class:"row"},v1=wr(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),h1=[v1],$r=P({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const{t:a}=M(),s=t,n=w(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(c,i)=>{const r=Ke("router-link");return g(),L("div",{class:"proposal-summary",onClick:i[0]||(i[0]=d=>s("toggleExpand"))},[p("div",{class:O(["title",{"no-title":!c.proposal.metadata}])},[_(r,{to:o(n),class:"id",onClick:l},{default:S(()=>[d1,z(" "+T(c.proposal.id),1)]),_:1},8,["to"]),p("div",p1,T(c.proposal.metadata||o(a)("no-title")),1)],2),p("div",m1,[_(c1,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(gr,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(yr,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(fa,{class:"item",proposal:c.proposal,type:"start"},null,8,["proposal"]),_(fa,{class:"item",proposal:c.proposal,type:"end"},null,8,["proposal"]),p("div",{class:O(["item expander",{expanded:c.expanded}])},h1,2)])])}}});function Us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof Us=="function"&&Us($r);const _1=I($r,[["__scopeId","data-v-88e3f7d0"]]),vt=e=>(de("data-v-d48830ac"),e=e(),pe(),e),f1={class:"results"},b1={class:"heading"},g1={class:"choice"},y1={class:"label"},w1={class:"amount"},$1={class:"left"},C1=vt(()=>p("span",null," veCRV",-1)),k1={class:"right"},S1=vt(()=>p("span",null,"(",-1)),L1=vt(()=>p("span",null,")",-1)),T1={class:"choice"},A1={class:"label"},P1={class:"amount"},I1={class:"left"},V1=vt(()=>p("span",null," veCRV",-1)),R1={class:"right"},q1=vt(()=>p("span",null,"(",-1)),D1=vt(()=>p("span",null,")",-1)),Es=4,Cr=P({__name:"VotingResults",props:{proposal:{}},setup(e){const{t}=M(),a=w(()=>e.proposal.votesFor+e.proposal.votesAgainst),s=w(()=>e.proposal.votesFor/a.value*100),n=w(()=>e.proposal.votesAgainst/a.value*100);return(l,c)=>{const i=ae;return g(),L("div",f1,[p("div",b1,T(o(t)("results")),1),p("div",g1,[p("div",y1,T(o(t)("for")),1),p("div",w1,[p("div",$1,[_(i,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),C1]),p("div",k1,[S1,_(i,{value:o(s),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),L1])]),p("div",{class:"bar",style:$e({width:`${Math.max(Es,o(s))}%`})},null,4)]),p("div",T1,[p("div",A1,T(o(t)("against")),1),p("div",P1,[p("div",I1,[_(i,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),V1]),p("div",R1,[q1,_(i,{value:o(n),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),D1])]),p("div",{class:"bar",style:$e({width:`${Math.max(Es,o(n))}%`})},null,4)])])}}});function Ws(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{results:{t:0,b:{t:2,i:[{t:3}],s:"Results"}},for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Ws=="function"&&Ws(Cr);const F1=I(Cr,[["__scopeId","data-v-d48830ac"]]),M1=e=>(de("data-v-7c213e10"),e=e(),pe(),e),x1={class:"quorum"},B1={class:"heading"},O1={class:"amount"},U1={class:"bar"},E1={class:"percentages"},W1=M1(()=>p("div",{class:"zero"},"0%",-1)),H1={class:"quorum"},kr=P({__name:"VotingQuorum",props:{proposal:{}},setup(e){const{t}=M(),a=w(()=>e.proposal.votesFor),s=w(()=>e.proposal.quorum*e.proposal.totalSupply),n=w(()=>a.value/s.value*100);return(l,c)=>{const i=ae;return g(),L("div",x1,[p("div",B1,T(o(t)("quorum")),1),p("div",O1,[_(i,{value:o(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),z(" / "),_(i,{value:o(s),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),z(" veCRV ")]),p("div",U1,[p("div",{class:"support",style:$e({width:`${o(n)}%`})},null,4),p("div",{class:"quorum",style:$e({width:`${100-o(n)}%`})},null,4)]),p("div",E1,[W1,p("div",H1,[_(i,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Hs=="function"&&Hs(kr);const N1=I(kr,[["__scopeId","data-v-7c213e10"]]),K1=["min","max","value"],z1=P({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t,s=n=>{a("update:modelValue",n.target.value)};return(n,l)=>(g(),L("input",{type:"range",min:n.min,max:n.max,value:n.modelValue,onInput:s},null,40,K1))}}),Q1=I(z1,[["__scopeId","data-v-d52b357b"]]),j1=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],tt=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],G1={class:"buttons"},X1={class:"vecrv"},Y1={class:"info"},Z1={class:"kpis"},J1={class:"description"},ey={class:"title"},ty={class:"options"},ay={class:"label"},oy={class:"middle"},sy=["contenteditable","textContent"],ny={class:"label"},Sr=P({__name:"VotingButtons",props:{proposal:{}},setup(e){const{t}=M(),{address:a}=kt(),s=R(!1),n=R(50),l=R(null),c=R(!1),i=w(()=>{var J;return c.value?`${n.value}.`:n.value===0&&!c.value&&((J=l.value)==null?void 0:J.textContent)!=="0"?"":n.value.toString()}),r=w(()=>(U.value??0n)>0n&&!Me.value&&f.value&&D.value===0),d=w(()=>r.value?"submit":Me.value?"voting":f.value?D.value!==0?"voted":"not-enough-voting-power":"voting-closed"),u=w(()=>Be(U.value??0n,18n)),f=w(()=>rt(e.proposal)==="active"),m=w(()=>rt(e.proposal)==="passed"),v=()=>{const J=window.getSelection();return J&&J.rangeCount>0?J.getRangeAt(0).startOffset:0},h=J=>{if(l.value){const be=document.createRange();be.setStart(l.value.firstChild??l.value,J),be.collapse(!0);const ge=window.getSelection();ge&&(ge.removeAllRanges(),ge.addRange(be))}},b=()=>{n.value=0,l.value&&(l.value.textContent="0")},y=()=>{n.value=100,l.value&&(l.value.textContent="100")},C=J=>{J.target===J.currentTarget&&l.value&&l.value.focus()},k=()=>{if(l.value){const J=l.value.textContent??"",be=v();if(/^\d*(\.\d*)?$/.test(J))if(c.value=J.endsWith("."),J){const ge=parseFloat(J);ge>=0&&ge<=100?n.value=ge:(l.value.textContent=i.value,h(be-1))}else n.value=0;else l.value.textContent=i.value,h(be-1)}},$=J=>{n.value=parseFloat(J)},{data:A}=_t({abi:tt,address:Ze,functionName:"token",query:{enabled:s}}),{data:D}=_t({abi:tt,address:Ze,functionName:"getVoterState",args:w(()=>[BigInt(e.proposal.id),a.value]),query:{enabled:w(()=>!!a.value&&s.value),initialData:0,initialDataUpdatedAt:0}}),{data:U}=_t({abi:j1,address:A,functionName:"balanceOfAt",args:w(()=>[a.value,BigInt(e.proposal.block)]),query:{enabled:w(()=>!!A.value&&!!a.value&&s.value),initialData:0n,initialDataUpdatedAt:0}}),{data:q,refetch:W}=_t({abi:tt,address:Ze,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:w(()=>m.value&&s.value),initialData:!1,initialDataUpdatedAt:0}}),{data:te}=_t({abi:tt,address:Ze,functionName:"PCT_BASE",query:{enabled:s}}),{data:K,error:X,isPending:ee,writeContract:ie}=Qa(),{isLoading:G,isSuccess:fe}=ja({hash:K}),Me=w(()=>ee.value||G.value);function ht(){if(!te.value){la("Missing PCT_BASE");return}const J=BigInt(Math.log10(Number(te.value))),be=Sa(n.value/100,J),ge=te.value-be;ie({abi:tt,address:Ze,functionName:"votePct",args:[BigInt(e.proposal.id),be,ge,!1]})}x(X,J=>{J&&la(J)}),x(fe,J=>{J&&Za("Voted")});const{data:sa,error:Kr,isPending:zr,writeContract:Qr}=Qa(),{isLoading:jr,isSuccess:Gr}=ja({hash:sa}),Ka=w(()=>zr.value||jr.value);function Xr(){Qr({abi:tt,address:Ze,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),W()}return x(Kr,J=>{J&&la(J)}),x(Gr,J=>{J&&Za("Executed proposal")}),(J,be)=>{const ge=Ie,Yr=ae,za=we,Zr=Q1,Jr=Y,ei=Aa;return g(),L(se,null,[p("div",G1,[_(ge,{value:o(t)("vote"),primary:!0,onClick:be[0]||(be[0]=ti=>s.value=!0)},null,8,["value"]),o(m)?(g(),V(ge,{key:0,value:o(t)(o(Ka)?"executing":"execute"),primary:!0,disabled:!o(q)||o(Ka),onClick:Xr},null,8,["value","disabled"])):B("",!0)]),_(ei,{show:o(s),onClose:be[1]||(be[1]=ti=>s.value=!1)},{default:S(()=>[_(Jr,{title:o(t)("vote-with-vecrv"),class:"vote-content"},{default:S(()=>[p("div",X1,[p("div",Y1,[p("div",Z1,[_(za,{label:o(t)("voting-power"),"has-value":!0},{default:S(()=>[_(Yr,{value:o(u),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),z(" veCRV ")]),_:1},8,["label"]),_(za,{label:o(t)("block"),value:J.proposal.block,"has-value":!0},null,8,["label","value"])]),p("div",J1,[p("span",ey,T(o(t)("description"))+": ",1),p("span",null,T(J.proposal.metadata),1)])]),p("div",ty,[_(ge,{class:O(["no",{winning:o(n)<50}]),disabled:!o(r),onClick:b},{default:S(()=>[p("span",ay,T(o(t)("no")),1)]),_:1},8,["class","disabled"]),p("div",oy,[p("i",{class:O(["fas fa-times",{winning:o(n)<50}])},null,2),p("div",{class:O(["value",{disabled:!o(r)}]),onClick:C},[p("span",{ref_key:"editor",ref:l,contenteditable:o(r),onInput:k,textContent:T(o(i))},null,40,sy),z(" % ")],2),p("i",{class:O(["fas fa-check",{winning:o(n)>50}])},null,2)]),_(ge,{class:O(["yes",{winning:o(n)>50}]),disabled:!o(r),onClick:y},{default:S(()=>[p("span",ny,T(o(t)("yes")),1)]),_:1},8,["class","disabled"])]),_(Zr,{class:"slider",disabled:!o(r),min:0,max:100,"model-value":o(n),"onUpdate:modelValue":$},null,8,["disabled","model-value"]),_(ge,{class:"submit",value:o(t)(o(d)),primary:!0,disabled:!o(r),web3:!0,onClick:ht},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Ns(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-vecrv":{t:0,b:{t:2,i:[{t:3}],s:"Vote with veCRV"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough veCRV voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Ns=="function"&&Ns(Sr);const ly=I(Sr,[["__scopeId","data-v-c0a63028"]]),ry={class:"voting"},iy=P({__name:"Voting",props:{proposal:{}},setup(e){return(t,a)=>(g(),L("div",ry,[_(N1,{proposal:t.proposal},null,8,["proposal"]),_(F1,{proposal:t.proposal},null,8,["proposal"]),_(ly,{proposal:t.proposal},null,8,["proposal"])]))}}),cy=I(iy,[["__scopeId","data-v-35456808"]]),uy={class:"voters"},dy={class:"for"},py={class:"title"},my={class:"address"},vy=["href"],hy={class:"amount"},_y={class:"percentage"},fy={class:"against"},by={class:"title"},gy={class:"percentage"},yy={class:"amount"},wy={class:"address"},$y=["href"],Lr=P({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{t}=M(),{address:a}=kt(),s=w(()=>e.proposalDetails?F.chain(e.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.votingPower,"desc").value():null),n=w(()=>e.proposalDetails?F.chain(e.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Pe(r,12),c=r=>r/(e.proposal.votesFor+e.proposal.votesAgainst)*100,i=r=>r===a.value;return(r,d)=>{const u=ae;return g(),L("div",uy,[p("div",dy,[p("div",py,T(o(t)("for")),1),(g(!0),L(se,null,he(o(s),f=>(g(),L("div",{key:f.voter,class:"vote"},[p("div",my,[p("a",{target:"_blank",href:`https://etherscan.io/address/${f.voter}`,class:O({you:i(f.voter)})},T(l(f.voter)),11,vy)]),p("div",hy,[_(u,{value:f.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",_y,[_(u,{value:c(f.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),p("div",fy,[p("div",by,T(o(t)("against")),1),(g(!0),L(se,null,he(o(n),f=>(g(),L("div",{key:f.voter,class:"vote"},[p("div",gy,[_(u,{value:c(f.votingPower),precision:0,type:"percentage"},null,8,["value"])]),p("div",yy,[_(u,{value:f.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",wy,[p("a",{target:"_blank",href:`https://etherscan.io/address/${f.voter}`,class:O({you:i(f.voter)})},T(l(f.voter)),11,$y)])]))),128))])])}}});function Ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Ks=="function"&&Ks(Lr);const Cy=I(Lr,[["__scopeId","data-v-091c77d3"]]),ky={class:"technicals"},Sy={class:"technical"},Ly={class:"heading"},Ty={class:"description"},Ay={class:"technical"},Py={class:"technical"},Iy=["innerHTML"],Tr=P({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const{t}=M(),a=R(!0),s=R(e.proposal.voteCount>0),{data:n}=fr(H(()=>e.proposal.id),H(()=>e.proposal.type),H(()=>e.expanded)),l=w(()=>n.value?F.uniqWith(n.value.votes,(i,r)=>i.voter===r.voter).length:null),c=w(()=>n.value?n.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&Ca(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i):null);return(i,r)=>{const d=$t;return g(),L("div",ky,[p("div",Sy,[p("div",Ly,T(o(t)("description")),1),p("div",Ty,T(i.proposal.metadata),1)]),p("div",Ay,[p("div",{class:"heading",onClick:r[0]||(r[0]=u=>s.value=!o(s))},[z(T(o(t)("voters"))+" ("+T(o(l)??"?")+") ",1),p("i",{class:O(["fas fa-chevron-up expander",{expandedVoters:o(s)}])},null,2)]),_(d,{expanded:o(s)},{default:S(()=>[o(n)?(g(),V(Cy,{key:0,class:"voters",proposal:i.proposal,"proposal-details":o(n)},null,8,["proposal","proposal-details"])):B("",!0)]),_:1},8,["expanded"])]),p("div",Py,[p("div",{class:"heading",onClick:r[1]||(r[1]=u=>a.value=!o(a))},[z(T(o(t)("calldata"))+" ",1),p("i",{class:O(["fas fa-chevron-up expander",{expandedCallData:o(a)}])},null,2)]),_(d,{expanded:o(a)},{default:S(()=>[o(n)?(g(),L("div",{key:0,class:"calldata",innerHTML:o(c)},null,8,Iy)):B("",!0)]),_:1},8,["expanded"])])])}}});function zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof zs=="function"&&zs(Tr);const Vy=I(Tr,[["__scopeId","data-v-bab371f7"]]),Ry={class:"proposal-details"},qy={class:"proposal-details-container"},Dy=P({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,a)=>(g(),L("div",Ry,[p("div",qy,[_(Vy,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),_(cy,{proposal:t.proposal},null,8,["proposal"])])]))}}),Fy=I(Dy,[["__scopeId","data-v-9b919bde"]]),My=P({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=R(e.initExpanded);return(a,s)=>{const n=$t,l=Y;return g(),V(l,{class:"proposal",compact:!0},{default:S(()=>[_(_1,{proposal:a.proposal,expanded:o(t),onToggleExpand:s[0]||(s[0]=c=>t.value=!o(t))},null,8,["proposal","expanded"]),_(n,{class:"proposal-details-collapsible",expanded:o(t)},{default:S(()=>[_(Fy,{proposal:a.proposal,expanded:o(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Ar=I(My,[["__scopeId","data-v-f3a8d1b2"]]),xy={class:"item"},By={class:"label"},Pr=P({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:a}=M(),s=[...n1].filter(d=>d!=="other"),n=t,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,n("select",c.value)};return(d,u)=>{const f=ct;return g(),V(f,{class:"select",options:o(s).map(m=>m),selected:o(c),open:o(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:S(m=>[p("div",xy,[p("div",By,T(o(a)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function Qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof Qs=="function"&&Qs(Pr);const Oy=I(Pr,[["__scopeId","data-v-bba9d6b0"]]),Uy={class:"proposals"},Ey={class:"filters"},Wy={style:{display:"flex",gap:"1rem"}},Hy={class:"proposals-content"},Ny={key:0},Ir=P({__name:"Proposals.page",setup(e){const{t}=M(),a=R(0),{page:s,onPage:n}=xa(),l=Et(s,200),c=R(t("search-placeholder")),i=R(""),r=Et(i,300),d=R("all"),u=w(()=>{switch(a.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),f=w(()=>r.value.toLocaleLowerCase()),m=w(()=>{var C;return((C=b.value)==null?void 0:C.count)??0}),v=w(()=>{var C;return F.orderBy(((C=b.value)==null?void 0:C.proposals)??[],k=>k.start,"desc")}),{isFetching:h,data:b}=i1(l,d,u,f),y=C=>{d.value=C};return(C,k)=>{const $=Xe,A=Ge,D=Te,U=je,q=Ue;return g(),L("div",Uy,[_(A,{onTab:k[0]||(k[0]=W=>a.value=W.index)},{default:S(()=>[_($,{header:o(t)("all")},null,8,["header"]),_($,{header:o(t)("active")},null,8,["header"]),_($,{header:o(t)("passed")},null,8,["header"]),_($,{header:o(t)("denied")},null,8,["header"]),_($,{header:o(t)("executed")},null,8,["header"])]),_:1}),p("div",Ey,[_(D,{modelValue:o(i),"onUpdate:modelValue":k[1]||(k[1]=W=>ue(i)?i.value=W:null),class:"search",placeholder:o(c),search:!0},null,8,["modelValue","placeholder"]),p("div",Wy,[_(Oy,{style:{"flex-grow":"1"},onSelect:y}),_(U,{class:"pagination","items-count":o(m),"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"])])]),p("div",Hy,[(g(!0),L(se,null,he(o(v),W=>(g(),V(Ar,{key:W.id,proposal:W,class:O({loading:o(h)})},null,8,["proposal","class"]))),128)),_(U,{class:"pagination","items-count":o(m),"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"]),o(v).length===0?(g(),L("div",Ny,T(o(t)("no-proposals")),1)):B("",!0),_(q,{class:O(["spinner",{loading:o(h)}])},null,8,["class"])])])}}});function js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}},all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof js=="function"&&js(Ir);const Ky=I(Ir,[["__scopeId","data-v-288924ec"]]),zy={class:"proposal-container"},Qy=P({__name:"Proposal.page",setup(e){const t=ye("proposalId",0,{transform:Number}),a=ye("proposalType"),{isFetching:s,data:n}=fr(t,a);return(l,c)=>{const i=Ue;return g(),L("div",zy,[_(i,{class:O(["spinner",{loading:o(s)}])},null,8,["class"]),!o(s)&&o(n)?(g(),V(Ar,{key:0,proposal:o(n),"init-expanded":!0},null,8,["proposal"])):B("",!0)])}}}),jy=I(Qy,[["__scopeId","data-v-b5eb5204"]]),Gy=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],Xy={class:"form"},Yy={class:"field"},Zy={class:"label"},Jy={class:"value"},e2={class:"field"},t2={class:"label"},a2={class:"value"},Vr=P({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const{t:a}=M(),s=t,n=R(!1),l=R(""),c=R(0),i=w(()=>Ta),r=w(()=>Ca(l.value.toLocaleLowerCase())&&c.value>0),d=ka();async function u(){if(!l.value||!c.value)return;const f=l.value.toLocaleLowerCase();typeof c.value=="string"&&(c.value=parseFloat(c.value));const m=Sa(c.value,18n);return Cn(n,async()=>{const{result:v,request:h}=await Ii(d,{abi:Gy,address:gn,functionName:"deploy_gauge",args:[f,m]}),b=await hn(d,h);await _n(d,{hash:b}),s("gauge",v)})}return(f,m)=>{const v=Te,h=ol,b=Ie,y=Y;return g(),V(y,{class:"add-new",title:"Gauge Creation"},{default:S(()=>[p("div",Xy,[p("div",Yy,[p("div",Zy,T(o(a)("receiver"))+":",1),p("div",Jy,[_(v,{modelValue:o(l),"onUpdate:modelValue":m[0]||(m[0]=C=>ue(l)?l.value=C:null),placeholder:o(i)},null,8,["modelValue","placeholder"])])]),p("div",e2,[p("div",t2,T(o(a)("amount"))+":",1),p("div",a2,[_(h,{modelValue:o(c),"onUpdate:modelValue":m[1]||(m[1]=C=>ue(c)?c.value=C:null),min:1,max:3303030299},null,8,["modelValue"])])])]),_(b,{class:"action-button request",value:o(a)("submit"),disabled:!o(r)||o(n),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function Gs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{receiver:{t:0,b:{t:2,i:[{t:3}],s:"Receiver"}},amount:{t:0,b:{t:2,i:[{t:3}],s:"CRV Amount (Max)"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Fundraising Gauge"}}}})}typeof Gs=="function"&&Gs(Vr);const o2=I(Vr,[["__scopeId","data-v-a94db599"]]),s2=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],n2=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],l2=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],r2={class:"form"},i2={class:"field"},c2={class:"label"},u2={class:"value"},d2={class:"field"},p2={class:"label"},m2={class:"value"},Rr=P({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const{t:a}=M(),s=t,n=R(!1),l=R(""),c=R(a("placeholder")),i=w(()=>Ta),r=w(()=>Ca(l.value)&&!!c.value),d=w(()=>r.value&&!n.value);x(()=>e.gauge,v=>{l.value=v.toLocaleLowerCase()});async function u(){if(l.value)return Cn(n,async()=>{await m(),s("request")})}const f=ka();async function m(){const v="0xe478de485ad2fe566d49342cbd03e49ed7db3356",h="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",b=(X,ee)=>String(X).padStart(ee,"0"),y=Ga({abi:l2,functionName:"add_gauge",args:[l.value,10n,0n]});let C="0x00000001";const k=Ga({abi:s2,functionName:"execute",args:[yn,0n,y]}).substring(2),$=b((Math.floor(k.length)/2).toString(16),8);C=`${C}${h.substring(2)}${$}${k}`;const A=new FormData,U={text:c.value.replace(/(\r\n|\n|\r)/gm,"")};A.append("file",JSON.stringify(U));const te=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:A})).json()).Hash,K=await hn(f,{abi:n2,address:v,functionName:"newVote",args:[C,`ipfs:${te}`,!1,!1]});await _n(f,{hash:K})}return(v,h)=>{const b=Te,y=Ie,C=Y;return g(),V(C,{class:"add-new",title:"Gauge Addition Vote"},{default:S(()=>[p("div",r2,[p("div",i2,[p("div",c2,T(o(a)("gauge"))+":",1),p("div",u2,[_(b,{modelValue:o(l),"onUpdate:modelValue":h[0]||(h[0]=k=>ue(l)?l.value=k:null),placeholder:o(i)},null,8,["modelValue","placeholder"])])]),p("div",d2,[p("div",p2,T(o(a)("description"))+":",1),p("div",m2,[_(b,{modelValue:o(c),"onUpdate:modelValue":h[1]||(h[1]=k=>ue(c)?c.value=k:null)},null,8,["modelValue"])])])]),_(y,{class:"action-button request",value:o(a)("submit"),disabled:!o(d),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function Xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{gauge:{t:0,b:{t:2,i:[{t:3}],s:"Gauge Address"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Vote Description"}},placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Add a grant gauge: "}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Gauge Addition Vote"}}}})}typeof Xs=="function"&&Xs(Rr);const v2=I(Rr,[["__scopeId","data-v-77756e09"]]),h2={class:"ve-funder"},_2={class:"explanation"},f2={class:"step-one"},b2=["innerHTML"],g2=["innerHTML"],y2={class:"step-two"},w2=["innerHTML"],$2={href:"https://gov.curve.fi/",target:"_blank"},C2={class:"forms"},qr=P({__name:"VeFunder.page",setup(e){const{t}=M(),a=R(""),s=n=>{a.value=n};return(n,l)=>{const c=Y;return g(),L("div",h2,[p("div",_2,[_(c,null,{default:S(()=>[p("div",f2,[p("span",{innerHTML:o(t)("process")},null,8,b2),p("ol",null,[p("li",null,T(o(t)("process-1")),1),p("li",{innerHTML:o(t)("process-2")},null,8,g2)])]),p("div",y2,[p("span",{innerHTML:o(t)("requirements")},null,8,w2),p("ol",null,[p("li",null,[z(T(o(t)("requirements-1a"))+" ",1),p("a",$2,T(o(t)("requirements-1b")),1)]),p("li",null,T(o(t)("requirements-2")),1)])])]),_:1})]),p("div",C2,[_(o2,{onGauge:s}),_(v2,{gauge:o(a)},null,8,["gauge"])])])}}});function Ys(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{process:{t:0,b:{t:2,i:[{t:3}],s:"<strong>veFunder</strong> process:"}},"process-1":{t:0,b:{t:2,i:[{t:3}],s:"Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."}},"process-2":{t:0,b:{t:2,i:[{t:3}],s:"Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."}},requirements:{t:0,b:{t:2,i:[{t:3}],s:"<strong>Gauge vote requirements:</strong>"}},"requirements-1a":{t:0,b:{t:2,i:[{t:3}],s:"New gauge votes must have a vote on the governance forum"}},"requirements-1b":{t:0,b:{t:2,i:[{t:3}],s:"at this address"}},"requirements-2":{t:0,b:{t:2,i:[{t:3}],s:"You must have a minimum of 2,500 veCRV to create this vote"}}}})}typeof Ys=="function"&&Ys(qr);const k2=I(qr,[["__scopeId","data-v-c1bad79e"]]),S2="/assets/header--BhHUuM7.png",L2={},T2=e=>(de("data-v-80c6610f"),e=e(),pe(),e),A2={class:"header"},P2=T2(()=>p("img",{class:"header-image",src:S2},null,-1)),I2=[P2];function V2(e,t){return g(),L("div",A2,I2)}const R2=I(L2,[["render",V2],["__scopeId","data-v-80c6610f"]]),q2={class:"general"},D2=["innerHTML"],Dr=P({__name:"General",props:{model:{}},setup(e){const{t}=M(),a=w(()=>{var r;return(r=e.model)==null?void 0:r.crvLockedDollars}),s=w(()=>{var r;return(r=e.model)==null?void 0:r.crvLockedDollarsMonthly}),n=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxTvl}),l=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxVotingPercentage}),c=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxMarketCap}),i=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxMarketCapFullyDiluted});return(r,d)=>{const u=ae;return g(),L("div",q2,[p("div",{class:"title",innerHTML:o(t)("description")},null,8,D2),p("ul",null,[p("li",null,[_(u,{value:o(a),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("locked-1"))+" ",1),_(u,{value:o(s),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("locked-2")),1)]),p("li",null,[_(u,{value:o(n),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("locked-2"))+" ",1),_(u,{value:o(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(o(t)("locked-3")),1)]),p("li",null,[z(T(o(t)("mcap-1"))+" ",1),_(u,{value:o(c),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("mcap-2"))+" ",1),_(u,{value:o(i),precision:0,type:"dollar"},null,8,["value"]),z(". ")])])])}}});function Zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Total locked value, incentives &amp; market cap"}},"locked-1":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract, and is continuing to see a rate of about"}},"locked-2":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract per month."}},"locked-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"tvl-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex currently has about"}},"tvl-2":{t:0,b:{t:2,i:[{t:3}],s:"TVL and controls close to"}},"tvl-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"mcap-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex's market cap is just"}},"mcap-2":{t:0,b:{t:2,i:[{t:3}],s:"with a fully diluted valuation of"}}}})}typeof Zs=="function"&&Zs(Dr);const F2=I(Dr,[["__scopeId","data-v-c68342f5"]]),M2={class:"bribes"},x2={class:"title"},Fr=P({__name:"Bribes",props:{model:{}},setup(e){const{t}=M(),a=w(()=>{var n;return(n=e.model)==null?void 0:n.bribesIncomeAnnually}),s=w(()=>{var n;return(n=e.model)==null?void 0:n.bribesIncomeBiWeekly});return(n,l)=>{const c=ae;return g(),L("div",M2,[p("div",x2,T(o(t)("incentives")),1),p("ul",null,[p("li",null,T(o(t)("description")),1),p("li",null,[z(T(o(t)("annual-1"))+" ",1),_(c,{value:o(a),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("annual-2")),1)]),p("li",null,[z(T(o(t)("biweek-1"))+" ",1),_(c,{value:o(s),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(o(t)("biweek-2")),1)])])])}}});function Js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{incentives:{t:0,b:{t:2,i:[{t:3}],s:"Incentives"}},description:{t:0,b:{t:2,i:[{t:3}],s:"CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."}},"annual-1":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders will potentially earn over"}},"annual-2":{t:0,b:{t:2,i:[{t:3}],s:"in incentives over a 1 year period."}},"biweek-1":{t:0,b:{t:2,i:[{t:3}],s:"Incentives to CVX holders are very likely to reach"}},"biweek-2":{t:0,b:{t:2,i:[{t:3}],s:"biweekly in the coming weeks (based on total rewards paid by Votium app)"}}}})}typeof Js=="function"&&Js(Fr);const B2=I(Fr,[["__scopeId","data-v-6ddf569b"]]),O2="/assets/cvx-PJG1_7yb.png",U2="/assets/cvxcrv-B_jSbKBn.png",Mr=e=>(de("data-v-0661399b"),e=e(),pe(),e),E2={class:"farm"},W2={class:"title"},H2={class:"values"},N2={class:"cvx"},K2={class:"content"},z2={class:"value"},Q2={class:"description"},j2=Mr(()=>p("img",{class:"logo",src:O2},null,-1)),G2={class:"crv"},X2=Mr(()=>p("img",{class:"logo",src:U2},null,-1)),Y2={class:"content"},Z2={class:"value"},J2={class:"description"},xr=P({__name:"Farm",props:{model:{}},setup(e){const{t}=M(),a=new wn,{address:s}=kt(),n=ka(),l=R(void 0),c=w(()=>{var i;return(i=e.model)==null?void 0:i.cvxApr});return x(s,async()=>{const i=Vi(n);if(!i)throw Error("Cannot create public viem client");const d=(await Cc(i,a)).reduce((u,f)=>u+f,0)/2;l.value=d*100},{immediate:!0}),(i,r)=>{const d=ae;return g(),L("div",E2,[p("div",W2,T(o(t)("income")),1),p("div",H2,[p("div",N2,[p("div",K2,[p("span",z2,[_(d,{value:o(c),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(o(t)("apr")),1)]),p("span",Q2,[z(T(o(t)("apr-1"))+" ",1),_(d,{value:o(c),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(o(t)("apr-2")),1)])]),j2]),p("div",G2,[X2,p("div",Y2,[p("span",Z2,[_(d,{value:o(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(o(t)("apr")),1)]),p("span",J2,[z(T(o(t)("staked"))+" ",1),_(d,{value:o(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(o(t)("apr"))+". ",1)])])])])])}}});function en(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{income:{t:0,b:{t:2,i:[{t:3}],s:"Income"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}},"apr-1":{t:0,b:{t:2,i:[{t:3}],s:"Locked CVX earns"}},"apr-2":{t:0,b:{t:2,i:[{t:3}],s:"APR with incentives."}},staked:{t:0,b:{t:2,i:[{t:3}],s:"Staked cvxCRV earns"}}}})}typeof en=="function"&&en(xr);const ew=I(xr,[["__scopeId","data-v-0661399b"]]);class tw extends Ct{async getConvex(){const t="flyer-convex",a=await this.getHost();return this.fetch(`${a}/dashboard`,{id:t})}async getAura(){const t="flyer-aura",a=await this.getHost();return this.fetch(`${a}/dashboard`,{id:t})}}const aw={class:"flyer"},ow={class:"flyer-items"},sw=P({__name:"Flyer.page",setup(e){const t=new tw(wt()),a=R(null);return le(async()=>{const s=await gt(t.getConvex());s.success&&s.dashboard&&(a.value=s.dashboard)}),(s,n)=>(g(),L("div",aw,[p("div",ow,[_(R2),_(ew,{model:o(a)},null,8,["model"]),_(F2,{model:o(a)},null,8,["model"]),_(B2,{model:o(a)},null,8,["model"])])]))}}),nw=I(sw,[["__scopeId","data-v-6ef8cea3"]]),lw={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},rw={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},De=Qe("convexStore",()=>{const e=R([]),t=R({}),a=R(lw),s=R([rw]);function n(l,c){t.value[l.name]=c}return{pools:e,snapshots:t,revenue:a,historicalRevenue:s,setSnapshots:n}});function iw(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const Br=P({__name:"ChartApr",props:{poolSelected:{}},setup(e){const{t}=M(),a=De(),{theme:s}=E(N()),n=w(()=>e.poolSelected?a.snapshots[e.poolSelected.name]??[]:[]),l=w(()=>re(s.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].snapshot;return[`<div><b>${t("base")}</b>:</div><div>${i(d.baseApr)}</div>`,`<div><b>${t("crv")}</b>:</div><div>${i(d.crvApr)}</div>`,`<div><b>${t("cvx")}</b>:</div><div>${i(d.cvxApr)}</div>`,`<div><b>${t("extra")}</b>:</div><div>${i(d.extraRewardsApr)}</div>`].join("")}}})),c=w(()=>[{name:"APR",data:n.value.map(r=>({x:r.timeStamp*1e3,y:iw(r),snapshot:r}))}]),i=r=>(r*=100,`${j(r,1,"percentage")}${Q(r,"percentage")}`);return(r,d)=>{const u=me;return g(),V(u,{class:"apr",title:o(t)("title"),options:o(l),series:o(c)},null,8,["title","options","series"])}}});function tn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Annual Percentage Rate"}},base:{t:0,b:{t:2,i:[{t:3}],s:"Base"}},crv:{t:0,b:{t:2,i:[{t:3}],s:"CRV"}},cvx:{t:0,b:{t:2,i:[{t:3}],s:"CVX"}},exta:{t:0,b:{t:2,i:[{t:3}],s:"Extra"}}}})}typeof tn=="function"&&tn(Br);const cw=I(Br,[["__scopeId","data-v-540dd1a5"]]),Or=P({__name:"ChartTvl",props:{poolSelected:{}},setup(e){const{t}=M(),a=De(),{theme:s}=E(N()),n=w(()=>e.poolSelected?a.snapshots[e.poolSelected.name]??[]:[]),l=w(()=>re(s.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${i(d)}</div>`}}})),c=w(()=>[{name:"tvl",data:n.value.map(r=>({x:r.timeStamp*1e3,y:r.tvl}))}]),i=r=>`$${j(r,1,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const u=me;return g(),V(u,{class:"tvl",title:o(t)("title"),options:o(l),series:o(c)},null,8,["title","options","series"])}}});function an(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total Value Locked"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof an=="function"&&an(Or);const uw=I(Or,[["__scopeId","data-v-943cb8a5"]]);function on(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const dw={class:"title"},pw={class:"number"},mw={class:"number"},vw={key:0,class:"charts"},Ur=P({__name:"TablePools",props:{expanded:{default:()=>[]}},setup(e){const{t}=M(),a=De(),{sortColumn:s,sortColumns:n,sortColumnsNoEmpty:l,sortOrder:c,onSort:i}=Fa(["","name","apr","tvl"],"tvl"),r=w(()=>F.orderBy(a.pools.filter(d=>!hc(d.name)),d=>{switch(s.value){case"name":return Fe(d.name);case"apr":return on(d);case"tvl":return d.tvl;default:return d.tvl}},c.value));return(d,u)=>{const f=ae,m=_e;return g(),V(m,{class:"datatable-pools","columns-header":"1fr","columns-data":"pools-columns-data",rows:o(r),columns:["",o(t)("name"),o(t)("apr"),o(t)("tvl")],sorting:!0,"sorting-columns":o(n),"sorting-columns-enabled":o(l),"sorting-default-column":"tvl","sorting-default-dir":"desc",expanded:d.expanded,onSortColumn:o(i)},{"header-content":S(()=>[p("div",dw,T(o(t)("title")),1)]),row:S(v=>[p("div",null,T(o(Fe)(v.item.name)),1),p("div",pw,[_(f,{value:o(on)(v.item)*100,precision:1,type:"percentage"},null,8,["value"])]),p("div",mw,[_(f,{value:v.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":S(v=>[d.expanded.includes(v.item)?(g(),L("div",vw,[_(o(uw),{class:"tvl","pool-selected":v.item},null,8,["pool-selected"]),_(o(cw),{class:"apr","pool-selected":v.item},null,8,["pool-selected"])])):B("",!0)]),_:1},8,["rows","columns","sorting-columns","sorting-columns-enabled","expanded","onSortColumn"])}}});function sn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Convex Pools"}},name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof sn=="function"&&sn(Ur);const hw=I(Ur,[["__scopeId","data-v-55dfc7bf"]]);class _w extends Ct{async get(){const t=await this.getHost();return this.fetch(`${t}/pool`)}}class fw extends Ct{async get(t){const a=await this.getHost();return this.fetch(`${a}/poolsnapshots`,{pool:t.name})}}const bw={class:"pools"},gw={class:"dashboard"},yw=P({__name:"Pools.page",setup(e){let t=!1;const a=new _w(wt()),s=new fw(wt()),n=De(),l=ye("pool"),c=Oe(),{expanded:i,toggleExpansion:r}=Oa();le(async()=>{t=!0;const m=await gt(a.get());if(m){const v=m.pools;if(v.sort((h,b)=>b.tvl-h.tvl),n.pools=v.filter(h=>h.tvl>1e3),!t)return;l.value&&u(l.value)}}),wa(()=>{t=!1});const d=async m=>{if(!m||n.snapshots[m.name])return;const v=await gt(s.get(m),500);if(v){const h=v.data.snapshots;n.setSnapshots(m,h)}},u=m=>{const v=La(m),h=n.pools.find(b=>b.name===v);h&&r(h)&&d(h)},f=async m=>{r(m)&&(d(m),await c.push({name:"convexpools",params:{pool:Fe(m.name)}}))};return(m,v)=>(g(),L("div",bw,[p("div",gw,[_(hw,{class:"datatable-pools",expanded:o(i),onSelected:f},null,8,["expanded"])])]))}}),ww=I(yw,[["__scopeId","data-v-0e87e48d"]]),$w="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",Cw="https://api-py.llama.airforce/convex/v1/platform/revenue";class kw extends ke{get(){return this.fetch(Cw).then(t=>t.revenue[0])}}class Sw extends ke{get(){return this.fetch($w).then(t=>t.revenue)}}const Lw=P({__name:"RevenueSources",setup(e){const t=De(),{theme:a}=E(N()),s=w(()=>[{source:"CRV",value:t.revenue.totalCrvRevenue},{source:"3CRV",value:t.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:t.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:t.revenue.totalOtherRevenue},{source:"Bribes",value:t.revenue.totalBribeRevenue}]),n=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(r){return Math.round(r).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[i.blue,i.green,i.purple,i.yellow,i.red],labels:s.value.map(r=>r.source)})}),l=w(()=>s.value.map(i=>i.value)),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"breakdown-revenue",options:o(n),series:o(l)},null,8,["options","series"])}}}),Tw=P({__name:"LPRevenue",setup(e){const t=De(),{theme:a}=E(N()),s=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToLpProvidersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToLpProvidersAmount)}]),n=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.purple],labels:s.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"lp-revenue",options:o(l),series:o(s)},null,8,["options","series"])}}}),Aw=P({__name:"HolderRevenue",setup(e){const t=De(),{theme:a}=E(N()),s=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)}]),n=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.red],labels:s.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"holder-revenue",options:o(l),series:o(s)},null,8,["options","series"])}}}),Pw=P({__name:"HistoricalRevenue",setup(e){const t=De(),{theme:a}=E(N()),s=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.totalCrvRevenue)},{name:"FXS",data:t.historicalRevenue.map(i=>i.totalFxsRevenue)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)},{name:"Others",data:t.historicalRevenue.map(i=>i.otherRevenue)}]),n=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.green,i.red,i.yellow],labels:s.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"historical-revenue",options:o(l),series:o(s)},null,8,["options","series"])}}}),Iw=P({__name:"LiquidRevenue",setup(e){const t=De(),{theme:a}=E(N()),s=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxFxsStakersAmount)}]),n=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.green,i.purple],labels:s.value.map(r=>r.name)})}),c=i=>`$${j(Math.abs(i),1,"dollar")}${Q(i,"dollar")}`;return(i,r)=>{const d=me;return g(),V(d,{class:"liquid-revenue",options:o(l),series:o(s)},null,8,["options","series"])}}}),Vw={class:"summary"},Er=P({__name:"Summary",setup(e){const{t}=M(),a=De(),s=w(()=>a.revenue.totalBribeRevenue+a.revenue.totalThreeCrvRevenueToCvxCrvStakers+a.revenue.totalCrvRevenue+a.revenue.totalFxsRevenue+a.revenue.totalOtherRevenue),n=w(()=>a.revenue.totalCrvRevenueToLpProviders+a.revenue.totalFxsRevenueToLpProviders+a.revenue.totalCvxRevenueToLpProviders),l=w(()=>a.revenue.totalCrvRevenueToPlatform+a.revenue.totalFxsRevenueToPlatform+a.revenue.totalFxsRevenueToCallers+a.revenue.totalOtherRevenue),c=w(()=>a.revenue.totalBribeRevenue+a.revenue.totalCrvRevenueToCvxStakers+a.revenue.totalFxsRevenueToCvxStakers),i=w(()=>a.revenue.totalCrvRevenueToCvxCrvStakers+a.revenue.totalCvxRevenueToCvxCrvStakers+a.revenue.totalFxsRevenueToCvxFxsStakers+a.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(r,d)=>{const u=ae,f=we;return g(),L("div",Vw,[_(f,{class:"all-time-revenue",label:o(t)("all-time-revenue"),"has-value":!!o(s)},{default:S(()=>[_(u,{value:o(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(f,{class:"lp-revenue",label:o(t)("lp-revenue"),"has-value":!!o(n)},{default:S(()=>[_(u,{value:o(n),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(f,{class:"holder",label:o(t)("holder-revenue"),"has-value":!!o(c)},{default:S(()=>[_(u,{value:o(c),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(f,{class:"liquid-revenue",label:o(t)("liquid-revenue"),"has-value":!!o(i)},{default:S(()=>[_(u,{value:o(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(f,{class:"protocol-revenue",label:o(t)("protocol-revenue"),"has-value":!!o(l)},{default:S(()=>[_(u,{value:o(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function nn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"all-time-revenue":{t:0,b:{t:2,i:[{t:3}],s:"All time total revenue"}},"lp-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for LPs (incl. CVX emissions)"}},"protocol-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue directed to Convex treasury"}},"holder-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for CVX lockers"}},"liquid-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for liquid lockers (cvxCRV, cvxFXS)"}}}})}typeof nn=="function"&&nn(Er);const Rw=I(Er,[["__scopeId","data-v-12aa5999"]]),qw={class:"revenue"},Dw={class:"revenue-charts"},Wr=P({__name:"Revenue.page",setup(e){const{t}=M(),a=new kw,s=new Sw;let n=!1;const l=De(),c=R(!1);return un(async()=>{if(n)return;n=!0,c.value=!0;const i=await a.get();i&&(l.revenue=i);const r=await s.get();r&&(l.historicalRevenue=r),c.value=!1,n=!1}),wa(()=>{n=!1}),(i,r)=>{const d=Ue;return g(),L("div",qw,[p("div",{class:O(["dashboard",{loading:o(c)}])},[o(c)?(g(),V(d,{key:0,class:"spinner"})):B("",!0),p("div",Dw,[_(Rw,{class:"summary"}),_(Lw,{class:"chart-revenue-sources",title:o(t)("revenue-breakdown")},null,8,["title"]),_(Pw,{class:"chart-historical-revenue",title:o(t)("revenue-historical")},null,8,["title"]),_(Tw,{class:"chart-lp-revenue",title:o(t)("revenue-lp")},null,8,["title"]),_(Aw,{class:"chart-holder-revenue",title:o(t)("revenue-holder")},null,8,["title"]),_(Iw,{class:"chart-liquid-revenue",title:o(t)("revenue-liquid")},null,8,["title"])])],2)])}}});function ln(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"revenue-breakdown":{t:0,b:{t:2,i:[{t:3}],s:"Breakdown of total revenue by source"}},"revenue-lp":{t:0,b:{t:2,i:[{t:3}],s:"Liquidity providers rewards breakdown"}},"revenue-holder":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders rewards breakdown"}},"revenue-historical":{t:0,b:{t:2,i:[{t:3}],s:"Historical total revenue breakdown"}},"revenue-liquid":{t:0,b:{t:2,i:[{t:3}],s:"Liquid lockers rewards breakdown"}}}})}typeof ln=="function"&&ln(Wr);const Fw=I(Wr,[["__scopeId","data-v-6b254c5a"]]),Mw=[{path:"/",component:im},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:jm},{path:"/platform/pools/:chain?",name:"pools",component:$v},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:Qv},{path:"/platform/gauges/old",component:nh},{path:"/platform/revenue/:tab?",name:"revenue",component:xh},{path:"/platform/crvusd",name:"crvusd",component:O_},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:eb},{path:"/platform/lending/:chain?",name:"llamalend",component:Sb},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:lg},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:I0},{path:"/pool/mev",component:s1},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:Ky},{path:"/dao/proposal/:proposalType/:proposalId",component:jy},{path:"/dao/vefunder",component:k2},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:nw},{path:"/convex/pools/:pool?",name:"convexpools",component:ww},{path:"/convex/revenue",name:"convexrevenue",component:Fw}],xw={titleRoute:"/",menuItems:[{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]};let Hr="http://localhost:8545";Hr=void 0;const Bw=Ri({chains:[bt],connectors:[qi(),Di({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),Fi(),Mi()],transports:{[bt.id]:xi(Hr,{batch:{wait:100}})}});function Ow(e){const t=Bi(e),a=Oi({legacy:!1,locale:"en",fallbackLocale:"en"});t.use(a);const s=Ui();t.use(s);const n=new Ei({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Wi}},queryCache:new Hi({onError:(l,c)=>{l.message.includes("Connector not connected")||l.message.includes("connector2.getAccounts is not a function")||l.message.includes("getAccounts is not a function")||Ht({text:`Failed querying ${c.queryHash} >>> ${l.message}`,type:"error"})}})});return t.use(Ni).use(Ki,{queryClient:n}).use(zi).use(Qi,{config:Bw}),{app:t,pinia:s}}const{app:Uw}=Ow(ad),Ew=[xw],Ww=[Mw],Nr=Ia();Nr.pages=Ew;Nr.routes=Ww;const Hw=Dd();Uw.use(Hw).mount("#app");

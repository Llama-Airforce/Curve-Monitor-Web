import{f as vn,p as hn,l as z,I as ht,C as ft,d as S,r as C,c as x,w as M,t as L,o as f,a as P,b as y,e as m,g as w,h as ce,i as Ft,n as R,j as U,k as V,F as ae,T as fn,u as l,m as xe,q as gn,s as bn,v as yn,W as $n,x as wn,y as Cn,z as J,A as u,B as Io,D as Ut,E as kn,G as B,H as me,J as X,K as ee,L as se,M as Se,N as q,O as Po,P as To,Q as Sn,R as Re,S as Ye,U as la,V as xn,X as An,Y as gt,Z as ue,_ as Et,$ as qt,a0 as Do,a1 as Ln,a2 as In,a3 as Pn,a4 as st,a5 as oe,a6 as Fe,a7 as Tn,a8 as Dn,a9 as It,aa as Mn,ab as he,ac as Vn,ad as zn,ae as Bn,af as On,ag as Rn,ah as ge,ai as Wt,aj as Mo,ak as Vo,al as Ht,am as Fn,an as Un,ao as En,ap as qn,aq as Wn,ar as Hn,as as Nn,at as Gn}from"./vendor-270aa58c.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(s){if(s.ep)return;s.ep=!0;const n=t(s);fetch(s.href,n)}})();function Qn(o){return o!=null}function Ae(o,e){const t=new Date(o.valueOf());return t.setUTCDate(t.getUTCDate()+e),t}function Yn(o){function e(g){return g<10?"0"+g.toString():g.toString()}const t=o.getTime()-new Date().getTime();if(t<=0)return"00:00:00:00";const a=1e3,s=a*60,n=s*60,c=n*24,_=Math.floor(t/c),r=Math.floor(t%c/n),p=Math.floor(t%n/s),d=Math.floor(t%s/a);return e(_)+":"+e(r)+":"+e(p)+":"+e(d)}function Me(o,e=0,t=".",a=","){const s=isFinite(+o)?+o:0,n=isFinite(+e)?Math.abs(e):0,c=typeof a>"u"?",":a,_=typeof t>"u"?".":t,r=function(d,g){const h=Math.pow(10,g);return Math.round(d*h)/h},p=(n?r(s,n):Math.round(s)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(p[1]||"").length<n&&(p[1]=p[1]||"",p[1]+=new Array(n-p[1].length+1).join("0")),p.join(_)}function Y(o,e){const t=Math.abs(o);return e==="percentage"?"%":e==="dollar"?t>=1*10**12?"t":t>=1*10**9?"b":t>=1*10**6?"m":t>=1*10**3?"k":"":""}function j(o,e,t){const a=Math.abs(o);return t==="percentage"?Me(o,e):t==="dollar"?a>=1*10**12?Me(o/10**12,e):a>=1*10**9?Me(o/10**9,e):a>=1*10**6?Me(o/10**6,e):a>=1*10**3?Me(o/10**3,e):Me(o,e):o.toString()}function Ve(o){return Number(o.toFixed(o>100?0:2)).toLocaleString()}function tt(o,e){return parseFloat(vn(o,e))}function jn(o,e){return hn(o.toFixed(Number(e)),Number(e)).toBigInt()}async function zo(o,e=0,t=1e3){const a=await o(e,t),s=await(a.length>=t?zo(o,e+1,t):Promise.resolve([]));return a.concat(s)}const Bo={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},wt={steth:"steth","Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: MIM-UST":"mim",tricrypto2:"tricrypto2","3pool":"3pool",ib:"cream",usdn:"usdn",ren:"ren",alusd:"alusd",frax:"frax",ironbank:"ironbank",pbtc:"pbtc",bbtc:"bbtc",sbtc:"sbtc",obtc:"obtc",compound:"comp",ankreth:"ankreth",saave:"aave",aeth:"aeth",tbtc:"tbtc",usdp:"usdp","Curve.fi Factory Plain Pool: cvxCRV":"crv",eurs:"eurs",lusd:"lusd",seth:"seth",hbtc:"hbtc",aave:"aave",link:"link",susd:"susd",eurt:"eurt",busdv2:"busd",reth:"reth","Curve.fi Factory Plain Pool: ibCHF-sCHF":"chf",gusd:"gusd","Curve.fi Factory Plain Pool: ibGBP-sGBP":"gbp",tricrypto:"tricrypto",busd:"busd",y:"yfi","Curve.fi Factory Plain Pool: ibJPY-sJPY":"jpy","Curve.fi Factory Plain Pool: ibAUD-sAUD":"aud","Curve.fi Factory Plain Pool: ibEUR-sEUR":"eur","Curve.fi Factory Plain Pool: ibKRW-sKRW":"krw",tusd:"tusd",dusd:"dusd",ust:"ust",rsv:"rsv",musd:"musd",husd:"husd",usdt:"usdt",usdk:"usdk",pax:"pax","Curve.fi Factory Pool: alETH":"alusd","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eur","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eurs","Curve EURT-3Crv":"eurt","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"ust","Curve.fi Factory BTC Metapool: ibBTC":"ibbtc","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-usdp","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve T-ETH":"t","Curve.fi Factory Crypto Pool: YFI-ETH":"yfi","Curve SPELL-ETH":"spell","Curve.fi Factory Crypto Pool: FXS-ETH":"fxs","Curve.fi Factory USD Metapool: FEI Metapool":"fei"},Jn={"f-ustw":"ust","f-d3pool":"d3pool",eursusd:"stasis","crv-eth":"crv","ust-wormhole":"ust","fixedforex:chf":"chf","fixedforex:gbp":"gbp","fixedforex:jpy":"jpy","fixedforex:aud":"aud","fixedforex:eur":"eur","fixedforex:krw":"krw",rai:"rai",cvxeth:"cvx","3eur":"3eur-pool",teth:"t","f-fei":"fei",cvxfxs:"fxs","avalanche-f-3pool":"3pool","fantom-f-4POOL":"3pool"},Kn={"f-cadcusdc":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xcadc0acd4b445166f12d2c07eac6e2544fbe2eef.png","f-pwrd":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xf0a93d4994b3d98fb5e3a2f90dbc2d69073cb86b.png","f-lfteth":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xb620be8a1949aa9532e6a3510132864ef9bc3f82.png"};function Ce(o){const e=Bo[o];return e||o}function Oo(o){const e=z.invert(Bo)[o];return e||o}function Nt(o,e=!0){let t=wt[o]??wt[Ce(o)]??wt[Oo(o)]??Jn[o]??"";return t=t?`/pool-icons.svg#${t}`:Kn[o],t||(e?"/why.png":"empty.png")}async function mt(o,e=250){const t=new Promise(s=>setTimeout(()=>{s(null)},e)),[,a]=await Promise.all([t,o]);return a}function Pt(o,e){return(Array.isArray(o)?o:[o]).some(a=>e.path.indexOf(a)===0)}const Gt="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Zn="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",Xn="0x657ce046d98d163ef4f846210f25919fa7b31944",Ro="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Fo="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",el="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",Tt=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];class Uo{static createInterface(){return new ht(Tt)}static connect(e,t){return new ft(e,Tt,t)}}Uo.abi=Tt;const Dt=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}];class Eo{static createInterface(){return new ht(Dt)}static connect(e,t){return new ft(e,Dt,t)}}Eo.abi=Dt;const Mt=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}];class qo{static createInterface(){return new ht(Mt)}static connect(e,t){return new ft(e,Mt,t)}}qo.abi=Mt;const Vt=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}];class Wo{static createInterface(){return new ht(Vt)}static connect(e,t){return new ft(e,Vt,t)}}Wo.abi=Vt;const tl="https://api.llama.airforce/";async function al(o,e,t){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:t})}async function ol(o,e,t){return await(await al(o,e,t)).json()}class ye{constructor(e){this.host=e}async fetch(e,t,a){return ol(e,t,a)}}const sl="|/-\\",O=S({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,t=0;const a=C("|"),s=x(()=>o.value?j(o.value,o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?a.value:"?"),n=x(()=>!o.value||!o.type||!z.isFinite(o.value)?o.showUnit&&o.type?Y(0,o.type):"":Y(o.value,o.type));return M(()=>o.value,c=>{if(clearInterval(t),e=0,c)return;const _=()=>{e=(e+1)%4,a.value=sl[e]};t=window.setInterval(_,250)},{immediate:!0}),(c,_)=>L(c.showSymbol&&c.type==="dollar"?"$":"")+L(s.value)+L(c.showUnit?n.value:"")}}),nl={key:0,class:"fas fa-chevron-right"},ll=S({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const t=s=>{var n;return o.active?o.active.id===s.id:((n=o.crumbs.at(-1))==null?void 0:n.id)===s.id},a=s=>{var n;return((n=o.crumbs.at(-1))==null?void 0:n.id)===s.id};return(s,n)=>(f(),P(l(Q),null,{default:y(()=>[m(fn,{name:"fade",tag:"ul"},{default:y(()=>[(f(!0),w(ae,null,ce(s.crumbs,c=>(f(),w("li",{key:c.id},[(f(),P(Ft(t(c)?"span":"a"),{class:R({active:t(c)}),onClick:_=>e("crumb",c)},{default:y(()=>[U(L(c.label),1)]),_:2},1032,["class","onClick"])),!a(c)||s.crumbs.length===1?(f(),w("i",nl)):V("",!0)]))),128))]),_:1})]),_:1}))}});const A=(o,e)=>{const t=o.__vccOpts||o;for(const[a,s]of e)t[a]=s;return t},Ho=A(ll,[["__scopeId","data-v-997741c8"]]);function rl(){return!1}const No=xe({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),il=gn(),cl=bn({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),ul=wn({darkMode:!0}),dl=Cn();let we=null;function pl(){const o=yn({wallets:[il,cl,ul,dl],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let zt=null;async function Go(o=!1){we||(we=pl());let[e]=we.state.get().wallets;if(!e){const t=window.localStorage.getItem("connectedWallet");t?[e]=await we.connectWallet({autoSelect:{label:t,disableModals:!0}}):o&&([e]=await(we==null?void 0:we.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}zt=e||null}function ze(){return zt?new $n(zt.provider):void 0}async function _l(){if(!we)return;const[o]=we.state.get().wallets;await we.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Qo(o){if(!o)return!1;try{const t=await o.getSigner().getAddress();return!0}catch{return!1}}async function Yo(o){if(!o)return!1;try{const{name:e,chainId:t}=await o.getNetwork();return e==="homestead"&&t===1}catch{return!1}}async function ml(o){return await o.getSigner().getAddress()}function ke(o,e=6){if(!o)return"0x000...000";const t=e/2+2,a=o.length-e/2;return`${o.substring(0,t)}...${o.substring(a)}`}const vl=S({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=async a=>{if(a.stopImmediatePropagation(),o.web3&&rl()){const s=ze();if(!s)return;await Yo(s)||(await s.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}e("click")};return(a,s)=>(f(),w("button",{class:R({primary:a.primary}),onClick:t},[J(a.$slots,"default",{},()=>[a.icon?(f(),w("i",{key:0,class:R(["icon",[a.icon,{noValue:!!a.value}]])},null,2)):V("",!0),U(" "+L(a.value),1)],!0)],2))}});const K=A(vl,[["__scopeId","data-v-71e224f0"]]),hl=S({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const t=()=>{e("update:modelValue",!o.modelValue)};return(a,s)=>(f(),w("button",{class:R({toggled:a.modelValue}),onClick:t},[J(a.$slots,"default",{},()=>[a.icon?(f(),w("i",{key:0,class:R(["icon",a.icon])},null,2)):V("",!0),U(" "+L(a.value),1)],!0)],2))}});const Te=A(hl,[["__scopeId","data-v-38d61379"]]),fl={class:"card"},gl={class:"text"},bl=S({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",fl,[e.loading?(f(),P(l(nt),{key:0,class:"loader"})):V("",!0),u("div",{class:R(["card-container",{loading:e.loading}])},[e.title?(f(),w("div",{key:0,class:R(["card-header",{collapsible:e.collapsible}])},[u("div",gl,[e.icon?(f(),w("i",{key:0,class:R(["icon",e.icon])},null,2)):V("",!0),U(" "+L(e.title),1)]),J(e.$slots,"actions",{},void 0,!0)],2)):(f(),w("div",{key:1,class:R(["card-no-header",{compact:e.compact}])},null,2)),u("div",{class:R(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[J(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const Q=A(bl,[["__scopeId","data-v-317ddfe2"]]),yl=S({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,t)=>(f(),P(l(Q),{class:"card-graph",title:e.title,loading:e.loading},{default:y(()=>[m(l(bt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),J(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ve=A(yl,[["__scopeId","data-v-4e0fd9b7"]]),$l={class:"chip"},wl={class:"label"},Cl=S({__name:"Chip",props:{label:{default:""}},setup(o){return(e,t)=>(f(),w("div",$l,[u("div",wl,L(e.label),1)]))}});const kl=A(Cl,[["__scopeId","data-v-1eb2caf8"]]),Sl=S({__name:"Code",props:{lang:{},code:{}},setup(o){const e=Io.component,t=Ut(),a=x(function(){return t.default?t.default()[0].children:o.code??""});return(s,n)=>(f(),w(ae,null,[m(l(e),{language:s.lang,code:a.value},null,8,["language","code"]),V("",!0)],64))}});const F=A(Sl,[["__scopeId","data-v-4da5765d"]]),xl={class:"collapsible-inside"},Al=S({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,t)=>(f(),w("div",{class:R(["collapsible-outside",{expanded:e.expanded}])},[u("div",xl,[J(e.$slots,"default",{},void 0,!0)])],2))}});const Be=A(Al,[["__scopeId","data-v-25b74378"]]),Ll={key:1,class:"header"},Il={key:0,class:"header-icon"},Pl={class:"header-actions"},Tl={key:2,class:"list"},Dl=["onClick"],Ml={key:0,class:"sorting-arrows"},Vl={key:0,class:"sorting-arrow fa fa-caret-up"},zl={key:1,class:"sorting-arrow fa fa-caret-down"},Bl={key:2,class:"sorting-arrow"},Ol={class:"rows"},Rl={key:3,class:"no-data"},Qt=S({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const t=C(""),a=C(fe.Ascending),s=x(()=>`grid-template-columns: ${o.columnsHeader}`),n=x(()=>{if(o.rowsMin===null)return[];const i=Math.max(0,o.rowsMin-o.rows.length);return new Array(i)});kn(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(a.value=o.sortingDefaultDir===fe.Ascending?fe.Ascending:fe.Descending)});const c=i=>{e("selected",i)},{t:_}=B(),r=i=>{const b=i+1;return!!(o.rows[i+1]&&o.rows.findIndex(I=>I===o.selectedRow)===b)},p=i=>o.expanded.includes(i),d=i=>{const b=o.sortingColumns[i];return o.sortingColumnsEnabled.includes(b)},g=i=>t.value===o.sortingColumns[i]&&a.value==="Ascending",h=i=>t.value===o.sortingColumns[i]&&a.value==="Descending",v=i=>{if(!o.sorting||!o.sortingColumns||!d(i))return;const b=o.sortingColumns[i];b===t.value?a.value=a.value===fe.Ascending?fe.Descending:fe.Ascending:a.value=fe.Ascending,t.value=b,e("sortColumn",t.value,a.value)};return(i,b)=>(f(),w("div",{class:R(["datatable",{loading:i.loading}])},[i.loading?(f(),P(l(nt),{key:0,class:"loader"})):V("",!0),i.header?(f(),w("div",Ll,[i.icon?(f(),w("div",Il,[u("i",{class:R(i.icon)},null,2)])):V("",!0),u("div",{class:"header-title",style:me(s.value)},[J(i.$slots,"header-title",{},void 0,!0)],4),u("div",Pl,[J(i.$slots,"header-actions",{},void 0,!0)])])):V("",!0),i.rowsMin||i.rows&&i.rows.length>0?(f(),w("div",Tl,[u("div",{class:R(["row-data",[i.columnsData,{"selected-below":r(-1)}]])},[J(i.$slots,"column-headers",{},()=>[(f(!0),w(ae,null,ce(i.columns,($,k)=>(f(),w("div",{key:$,class:R(["column-header",{"sortable-header":i.sorting&&d(k),"current-sort":t.value==i.sortingColumns[k]}]),onClick:I=>v(k)},[U(L($)+" ",1),i.sorting&&d(k)?(f(),w("div",Ml,[g(k)?(f(),w("i",Vl)):h(k)?(f(),w("i",zl)):(f(),w("span",Bl," — "))])):V("",!0)],10,Dl))),128))],!0)],2),u("div",Ol,[(f(!0),w(ae,null,ce(i.rows,($,k)=>(f(),P(l(Ct),{key:$,data:$,class:R({"selected-below":r(k)}),columns:i.columnsData,selected:i.selectedRow===$,expanded:p($),onClick:c},{row:y(()=>[J(i.$slots,"row",{item:$},void 0,!0)]),"row-details":y(()=>[J(i.$slots,"row-details",{item:$},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(f(!0),w(ae,null,ce(n.value,$=>(f(),P(l(Ct),{key:$}))),128)),i.$slots["row-aggregation"]?(f(),P(l(Ct),{key:0,class:"aggregation",columns:i.columnsData},{row:y(()=>[J(i.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])):!i.rowsMin&&!i.loading?(f(),w("div",Rl,[J(i.$slots,"no-data",{},()=>[U(L(l(_)("no-data")),1)],!0)])):V("",!0)],2))}});function ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":t=>{const{normalize:a}=t;return a(["No data :("])}}})}function ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":t=>{const{normalize:a}=t;return a(["没有数据 :("])}}})}typeof ra=="function"&&ra(Qt);typeof ia=="function"&&ia(Qt);const be=A(Qt,[["__scopeId","data-v-50e85b9c"]]),Fl=o=>(X("data-v-45ff862c"),o=o(),ee(),o),Ul=Fl(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),El=[Ul],ql={class:"row-details"},Wl=S({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=Ut(),a=x(()=>{var c;const n=t["row-details"];if(n){const _=(c=n()[0])==null?void 0:c.children;if(_)return _.length>0}return!1}),s=()=>{e("click",o.data)};return(n,c)=>(f(),w("div",{class:R(["row",{expanded:n.expanded}])},[u("div",{class:R(["row-data item",[n.columns,{active:n.selected,expandable:a.value}]]),onClick:s},[J(n.$slots,"row",{},void 0,!0),a.value?(f(),w("div",{key:0,class:R(["expander",{expanded:n.expanded}])},El,2)):V("",!0)],2),m(l(Be),{expanded:n.expanded},{default:y(()=>[u("div",ql,[J(n.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Ct=A(Wl,[["__scopeId","data-v-45ff862c"]]),Hl=S({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,t)=>{const a=se("apexchart");return f(),P(a,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const bt=A(Hl,[["__scopeId","data-v-9eaadad0"]]),Nl=["min","max","value"],Gl=S({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(f(),w("input",{type:"number",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Nl))}});const Yt=A(Gl,[["__scopeId","data-v-c7790403"]]),Ql=o=>(X("data-v-e9d8f446"),o=o(),ee(),o),Yl={class:"input-text"},jl={key:0,class:"icon"},Jl=Ql(()=>u("i",{class:"fas fa-search"},null,-1)),Kl=[Jl],Zl=["type","value","placeholder","onInput"],Xl=["onClick"],er=S({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const t=x(()=>{const s=o.options.filter(c=>o.filter(o.modelValue,c));return o.sort?[...s].sort(o.sort):s}),a=s=>{const n=s.target.value;e("update:modelValue",n),e("input",n)};return(s,n)=>(f(),w("div",Yl,[s.search?(f(),w("span",jl,Kl)):V("",!0),u("input",{type:s.search?"search":"text",value:s.modelValue,placeholder:s.placeholder,onInput:Se(a,["stop"]),onSelect:n[0]||(n[0]=Se(()=>{},["stop"]))},null,40,Zl),s.options&&s.autoComplete?(f(),w("div",{key:1,class:R(["items",{selectHide:!s.autoComplete}])},[(f(!0),w(ae,null,ce(t.value,(c,_)=>(f(),w("div",{key:_,onClick:r=>e("select",c)},[J(s.$slots,"item",{item:c,idx:_},()=>[U(L(c),1)],!0)],8,Xl))),128))],2)):V("",!0)]))}});const pe=A(er,[["__scopeId","data-v-e9d8f446"]]),tr={key:0,class:"value"},ar={key:1,class:"value"},or=["innerHTML"],sr={key:0,class:"value"},nr={key:1,class:"value"},lr=["innerHTML"],rr={class:"labels"},ir={class:"label"},cr={class:"label-second"},ur=S({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",{class:R(["kpi",{disabled:!e.hasValue}])},[u("div",{class:R(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[J(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(f(),P(l(De),{key:0},{item:y(()=>[e.hasValue?(f(),w("span",tr,L(e.value),1)):(f(),w("span",ar," ? "))]),default:y(()=>[J(e.$slots,"tooltip",{},()=>[u("span",{innerHTML:e.tooltip},null,8,or)],!0)]),_:3})):(f(),w(ae,{key:1},[e.hasValue?(f(),w("span",sr,L(e.value),1)):(f(),w("span",nr," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(f(),P(l(De),{key:0},{default:y(()=>[u("span",{innerHTML:e.tooltip},null,8,lr)]),_:1})):V("",!0)],2),u("div",rr,[J(e.$slots,"label",{},()=>[u("div",ir,L(e.label),1)],!0),J(e.$slots,"label-second",{},()=>[u("div",cr,L(e.labelSecond),1)],!0)])],2))}});const Ie=A(ur,[["__scopeId","data-v-fdb26228"]]),dr={key:0,class:"modal"},pr={class:"modal-popup"},_r=S({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){return M(()=>o.show,t=>{document.body.style.overflow=t?"hidden":""}),(t,a)=>t.show?(f(),w("div",dr,[u("div",{class:"modal-mask",onClick:a[0]||(a[0]=s=>e("close"))}),u("div",pr,[J(t.$slots,"default",{},void 0,!0)])])):V("",!0)}});const mr=A(_r,[["__scopeId","data-v-49c4143d"]]),vr={class:"buttons"},hr={key:1,class:"not-ready"},jt=S({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(f(),P(l(mr),{show:a.show},{default:y(()=>[m(l(Q),{title:a.title},{default:y(()=>[J(a.$slots,"default",{},void 0,!0),u("div",vr,[m(l(K),{class:"no",value:l(t)("no"),onClick:s[0]||(s[0]=n=>e("no"))},null,8,["value"]),a.ready?(f(),P(l(K),{key:0,class:"yes",value:l(t)("yes"),onClick:s[1]||(s[1]=n=>e("yes"))},null,8,["value"])):(f(),w("div",hr,L(a.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:t=>{const{normalize:a}=t;return a(["Yes"])},no:t=>{const{normalize:a}=t;return a(["No"])}}})}function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:t=>{const{normalize:a}=t;return a(["是的"])},no:t=>{const{normalize:a}=t;return a(["不是"])}}})}typeof ca=="function"&&ca(jt);typeof ua=="function"&&ua(jt);const fr=A(jt,[["__scopeId","data-v-825b7c02"]]),Jt=o=>(X("data-v-05261d5d"),o=o(),ee(),o),gr=Jt(()=>u("button",null,"1",-1)),br=[gr],yr=Jt(()=>u("button",null,[u("i",{class:"fas fa-chevron-left"})],-1)),$r=[yr],wr=["onClick"],Cr=Jt(()=>u("button",null,[u("i",{class:"fas fa-chevron-right"})],-1)),kr=[Cr],Sr=S({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const t=x(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),a=x(()=>{const d=[...Array(12).keys()].map($=>$-6+o.page).filter($=>$>=1&&$<=t.value),g=d.findIndex($=>$===o.page),h=[],v=[],i=o.page!==1&&o.page!==t.value?[o.page]:[];let b=1;for(;;){const $=d[g-b];if($&&$!==1&&h.unshift($),h.length+v.length+i.length>=5||b>d.length)break;const k=d[g+b];if(k&&k!==t.value&&v.push(k),b++,h.length+v.length+i.length>=5||b>d.length)break}return[...h,...i,...v]}),s=(r,p,d)=>Math.min(Math.max(r,p),d),n=()=>e("page",s(o.page-1,1,t.value)),c=()=>e("page",s(o.page+1,1,t.value)),_=r=>e("page",s(r,1,t.value));return(r,p)=>(f(),w("ul",null,[u("li",{class:R({active:r.page===1}),onClick:p[0]||(p[0]=d=>_(1))},br,2),t.value>2?(f(),w("li",{key:0,onClick:n},$r)):V("",!0),(f(!0),w(ae,null,ce(a.value,d=>(f(),w("li",{key:d,class:R({active:d===r.page}),onClick:g=>_(d)},[u("button",null,L(d),1)],10,wr))),128)),t.value>2?(f(),w("li",{key:1,onClick:c},kr)):V("",!0),t.value>1?(f(),w("li",{key:2,class:R({active:r.page===t.value}),onClick:p[1]||(p[1]=d=>_(t.value))},[u("button",null,L(t.value),1)],2)):V("",!0)]))}});const Qe=A(Sr,[["__scopeId","data-v-05261d5d"]]),xr=o=>(X("data-v-18a4b249"),o=o(),ee(),o),Ar={class:"select"},Lr={class:"item"},Ir={key:0,class:"label"},Pr=["onClick"],Tr=xr(()=>u("div",{class:"chevrons"},[u("i",{class:"fas fa-chevron-up"}),u("i",{class:"fas fa-chevron-down"})],-1)),Dr=S({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){return(t,a)=>(f(),w("div",{class:"select-container",tabindex:"0",onClick:a[0]||(a[0]=Se(s=>e("open"),["stop"])),onBlur:a[1]||(a[1]=s=>e("close"))},[u("div",Ar,[u("div",{class:R(["selected",{open:t.open}])},[J(t.$slots,"item",{item:t.selected},()=>[u("div",Lr,L(t.selected),1)],!0),t.label?(f(),w("div",Ir,L(t.label),1)):V("",!0)],2),u("div",{class:R(["items",{selectHide:!t.open}])},[(f(!0),w(ae,null,ce(t.options,(s,n)=>(f(),w("div",{key:n,onClick:c=>e("input",s)},[J(t.$slots,"item",{item:s},()=>[U(L(s),1)],!0)],8,Pr))),128))],2)]),Tr],32))}});const Oe=A(Dr,[["__scopeId","data-v-18a4b249"]]),Mr={class:"item"},Vr={class:"label"},da="locale",jo=S({__name:"SelectLanguage",props:{locales:{default:()=>Br},direction:{default:"up"}},setup(o){const{t:e}=B(),{locale:t}=B({useScope:"global"}),a=C("en"),s=C(!1);q(()=>{const _=localStorage.getItem(da);_&&o.locales.some(r=>r===_)&&c(_)});const n=()=>{s.value=!s.value},c=_=>{a.value=_,t.value=a.value,localStorage.setItem(da,a.value)};return(_,r)=>(f(),P(l(Oe),{class:R(["select",{"direction-up":_.direction==="up"}]),options:_.locales.map(p=>p),selected:a.value,open:s.value,onOpen:n,onClose:r[0]||(r[0]=p=>s.value=!1),onInput:c},{item:y(p=>[u("div",Mr,[u("div",Vr,L(l(e)(p.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:t=>{const{normalize:a}=t;return a(["English"])},zh:t=>{const{normalize:a}=t;return a(["中文"])},fr:t=>{const{normalize:a}=t;return a(["Français"])}}})}typeof pa=="function"&&pa(jo);const zr=A(jo,[["__scopeId","data-v-8b3337a5"]]),Br=["en","zh","fr"],Or=["min","max","value"],Rr=S({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(f(),w("input",{type:"range",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Or))}});const Fr=A(Rr,[["__scopeId","data-v-d52b357b"]]);var fe=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(fe||{});const Ur={},Jo=o=>(X("data-v-ad2adcec"),o=o(),ee(),o),Er={class:"lds-ripple"},qr=Jo(()=>u("div",null,null,-1)),Wr=Jo(()=>u("div",null,null,-1)),Hr=[qr,Wr];function Nr(o,e){return f(),w("div",Er,Hr)}const nt=A(Ur,[["render",Nr],["__scopeId","data-v-ad2adcec"]]),ne=S({__name:"TabItem",props:{header:{default:""}},setup(o){return(e,t)=>J(e.$slots,"default")}}),Gr={class:"tab-view"},Qr={class:"tab-headers"},Yr=["onClick"],jr={class:"tabs"},Jr=S({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const t=C(null),a=Ut(),s=x(()=>a!=null&&a.default?a.default():[]);M(()=>o.active,c=>{t.value=c,e("tab",{tab:s.value[c],index:t.value})},{immediate:!0});const n=(c,_)=>{t.value=_,e("tab",{tab:s.value[_],index:t.value})};return(c,_)=>(f(),w("div",Gr,[u("ul",Qr,[(f(!0),w(ae,null,ce(s.value,(r,p)=>(f(),w("li",{key:p,class:R(["tab-header",{active:t.value===p}]),onClick:d=>n(r,p)},L(r.props.header),11,Yr))),128))]),u("div",jr,[(f(!0),w(ae,null,ce(s.value,(r,p)=>Po((f(),w("div",{key:p,class:"tab"},[(f(),P(Ft(r)))])),[[To,t.value===p]])),128))])]))}});const je=A(Jr,[["__scopeId","data-v-9a567442"]]),Kr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Zr={key:1,src:Kr},Xr=S({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=C(!1);return(t,a)=>(f(),P(l(Sn),{class:"tooltip",show:e.value},{content:y(()=>[J(t.$slots,"default",{},void 0,!0)]),default:y(()=>[u("div",{onMouseover:a[0]||(a[0]=s=>e.value=!0),onMouseleave:a[1]||(a[1]=s=>e.value=!1)},[J(t.$slots,"item",{},()=>[t.icon?(f(),w("i",{key:0,class:R(t.icon)},null,2)):(f(),w("img",Zr))],!0)],32)]),_:3},8,["show"]))}});const De=A(Xr,[["__scopeId","data-v-2158cb4b"]]),ei="/assets/crv-ca6314ed.png",ti="/assets/hat-80c6c9b1.png";const ai={},Ko=o=>(X("data-v-20a1bb61"),o=o(),ee(),o),oi={class:"logo"},si=Ko(()=>u("div",{class:"visual"},[u("img",{src:ei}),u("img",{src:ti})],-1)),ni=Ko(()=>u("span",null,"curve.monitor",-1)),li=[si,ni];function ri(o,e){return f(),w("div",oi,li)}const ii=A(ai,[["render",ri],["__scopeId","data-v-20a1bb61"]]),ci={class:"header"},ui={class:"buttons"},di=S({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){return(t,a)=>{const s=se("router-link");return f(),w("div",ci,[m(s,{class:"logo",to:"/",onClick:a[0]||(a[0]=n=>e("navigated"))},{default:y(()=>[m(ii,{class:"logo"})]),_:1}),u("div",ui,[m(l(K),{icon:"fas fa-bars",onClick:a[1]||(a[1]=n=>e("toggle-expansion"))})])])}}});const pi=A(di,[["__scopeId","data-v-02982544"]]);function kt(o){return(o==null?void 0:o.children)!==void 0}function _a(o){return(o==null?void 0:o.to)!==void 0}const _i={key:0},mi={class:"nav-link-container"},vi={class:"nav-link-container"},hi={class:"left"},fi={class:"right"},gi=S({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const t=Re(),a=C(!0),s=x(()=>_a(o.item)?[o.item]:kt(o.item)?o.item.children:[]),n=()=>{kt(o.item)&&o.item.children.filter(r=>Pt(r.to,t)).length>0&&(a.value=!0)};M(()=>o.item,()=>{n()},{immediate:!0}),M(()=>t.fullPath,()=>{n()},{immediate:!0});const c=()=>{a.value=!a.value};return(_,r)=>{const p=se("router-link");return f(),w(ae,null,[l(kt)(_.item)?(f(),w("li",_i,[u("a",{class:"nav-link node",onClick:c},[u("div",mi,[U(L(_.item.label)+" ",1),u("i",{class:R(["expander fas fa-chevron-up",{expanded:a.value}])},null,2)])])])):V("",!0),m(l(Be),{class:"items",expanded:a.value},{default:y(()=>[u("ul",null,[(f(!0),w(ae,null,ce(s.value,d=>(f(),w("li",{key:d.label},[l(_a)(d)?(f(),P(p,{key:0,to:d.to,class:R(["nav-link leaf",{"router-link-active":l(Pt)(d.to,l(t))}]),onClick:r[0]||(r[0]=g=>e("navigated"))},{default:y(()=>[u("div",vi,[u("div",hi,L(d.label),1),u("div",fi,[d.tag==="beta"?(f(),P(l(kl),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const bi=A(gi,[["__scopeId","data-v-bdef51a7"]]),Kt=xe({id:"pageStore",state:()=>({pages:[]})}),yi=S({__name:"Menu",emits:["navigated"],setup(o,{emit:e}){const t=Kt(),a=Re(),s=x(()=>t.pages.find(c=>Pt(c.titleRoute,a))),n=x(()=>{var c;return((c=s.value)==null?void 0:c.menuItems)??[]});return(c,_)=>(f(),w("nav",null,[(f(!0),w(ae,null,ce(n.value,r=>(f(),w("ul",{key:r.label},[m(bi,{item:r,onNavigated:_[0]||(_[0]=p=>e("navigated"))},null,8,["item"])]))),128))]))}});const $i=A(yi,[["__scopeId","data-v-d8373c09"]]),wi="data:image/gif;base64,R0lGODdhbwEWANUAAAAAAP/vAP/3AO/WAL2tAP/3rf/3nP/3MbWlAO/eAMa1APfnAAgAAN7OAEpCABAQAJycnCEYAK2trSkpAIx7AFpSAEI5AIR7ADExMdbGAJSEAJyMADk5APfnMXNjAKWUAK2cAGNaAHtzAHNrADk5OSkpKWNSAJycraWlnP//nMa1CMa9nN7WrVpaMYSEhOfWMb21GO/nrUpCMb21MbWtMZyUMca9ra2lCN7WnIR7MVpaWkpCEJyUGCkhCM7GnAAAACwAAAAAbwEWAAAG/0CIcEgsClGGpHK5TBlQRqOPSVWmcNWsdsvter/gsHhMLpvP3KgasnJyV+shspuCHyX4vD5/YhX+gIGCNid7e4WCiYExEoqOj5CRkpOUlZaXmJmam5yRhp8SiJIshaB4fZOMEhAnOiUYsLGyGCU1Bx0Hube6vAc5r7OyJS24usW5xwcvMiXHyca90bzPvdS70NPS1dnXyNrc29LW3t/k0dbU48nr4OXu4+3Y3yTBwcO4ztEzwPW0GDTtji17BUECCQAIEypEOGFAgIcQI0bcsLAigAcKJGqEuMABAAYSFwwYObLBQ5EkA5BM+XClypUOBywISTKBTJcBUJLUubGnyv8GI39KHNCgqEaYDnPibFkU6MuXM2GifOly5MyIQGG2ZImV6FaUOq2KRaqxqUmJWYOeXPqQgcWFGAX4fNggwluFFeZGNJGw4MG7CDPqfajALWAAH+QODuABIQPFD0HAVSBAMkINAfgmZEBAQIMJDANQUMjZggMNCSASMIyQAOjWohdmQMiBQtK5Cjx+uBDhgoO8LSk8cFDYAgiInxVGSCBAwQOEISB+mPCAQIUHJiZ0fu4ABGsNjQEMqKCw+0UHGyAOsKvwgoABzwE4iAhiAgMFFSxQ4ACCAMINISQ0QWEAjPABXBlAlAFfIlBUgWABKLDQfAKMhtAHEh12IWQ+eXT/WEOLUdSXQYddsFgAdWkoAodzabCZRAKIoFB6D8noQUseImTBAs09EEEGAnS0WQMgcHcWYwohMMAFzxHwEAcKDfCBYRzcttEFbnkwk4sAADcAaAw0UCFCIij4GkIjPOSiA6khyQACASTQ2AMICPDcBgT+txoACWRwpgMDyIgQcBEqxMFDAiDAwARnCQlAeuNduFpD5DHUQGM3BugYhg8R8BwHM3n0wHGRxYdQnQuQl6ZErL214mCCAsYZixs5p5BfgHHQpl4JWKChA1fplWirMB6YkJMtxRWAZ+xtKIADI8gV45ABQCnfTGMmBIIAAhwI57MKJbCAr2TS+hACxyIq/yNwHj7A7Z6IIWoZQnEJEEGdhQLAgWICeDDrAxMIAO+jAgQoLrnXJrCZYAon5AC/Fpj4UHgRmMStrx9ImFiOEySgsAcCcHkRZSiyF222GKmrHI8ZLKdRqxUBO5ixh1FgbkgII4TrW8oOpilgFd8ckQAtkwajiKdClMADQCI6gkIdPyuxAE87ZhLCdWZ7KrcLTJB1juI52qVP1gKAbJwMVJBoQu4KbJjLOYGttr2dTfsfj0QDUOcD0Q68gQAUeVw2mw1fJlcD5UHmAAXLFg1ABANIu9oH/kVe6eMOTWBCyAvLVTUAIAtwQULRxQmfQja3vCtEMCt3pE+OAybzYJ+P+P+XRa/CquGsi325EEhDi6y30kxL+0F9CoHsQJkTU1t2dFrrHTJq2II9QAI5glwra2cHUMHDl7c9sJNUD8zAtvfK9bN8H0SuAZAPup2QBp4B22tCOw6w2bYqJQ7R4tyyEAAYxZEIfCADWgoAxyJHAZsJ8D5BMtXJRueY1AxAAzR7XFEgp5G7vEloLSnbXYI2mHndikQWscCJvKMhmy0mVRUBHkQAp5CzwSdByxKBB/zDtgRUgHn9ohbCdhQ9BCwgAidbFtgORi+SwUh43WsAZUwlPoWsSAD8oSBtjlg3ASYkAvTjl8BmJK33DG4BhetYS/z3EAB674tiQlQGmiaXyzH/ilvLEmBc8gQ6bmlRel3LTfJU97K3uGcwl/NgZwaTAVOd8HaGspJPknMYQg0GaQs5WpKIR0cR7CiRFdgAZpb1uTBVSyFi8iIBoBQtRFmvSAOEEIwS2T1unY5e72JNCLjFgQsk4EwA0MAF8NUAR5JuaH6LyP0Q4oAGULACcUQRGxVos3HBcWgcyhEHIfJAyqArIaH7498CyUe9heB1y2qdfAbDuRaC8CTAfGQMu+cTsd0FROws54uGhkk4PWRpJBPdwzLQKgQIJohWC0DOUlnD0bRSiQohKAAs8AHmbARc6RraLS+SS9JdzGaY/NFBbVWRvyFqYPRTGsIcgIDnVMCf/2t0mOIYl4CyEbAnArDjkbRWnbUlZIJkPCJl1kccSQagddvEjTEtMru5FOwuO7PiO5t3mJ7phZIxfGINiRfHGM0nAH+0wK5KaZKyMYA5XqyTBZKIUYQkAF4TaBqM1kfPh1DxXe1ZVm3kkrPS5WQBDQiBMSsQLEUlxKT/PKPIZoc4mf6vmghL6kYWGJFuNkchQE0IqiJAmRRpi1YxdKJPfPeh1flEA+rUGQoTcqipCu8uKR3MAHL2O01qVj1MQ5RvlvVLhXAKSQlFGGGL2BwCJMBiSxTbLjVSGe5FBI05ZZtcxvdRbvFRWSLYHNFE0CyxnnRGERnAGQtHsP45to02Q/+oBiGzgGC9kSFW0iNljghOP24mNULllvAm4N62LMSFelnfW3401W9CdbUfkSVOB3YX7S0mPHexbdJask2BYiuDUyPrKf8TwCRxC4vptZ7YLPlcU3WPApsz8AOWBS+XYXFqEP6g95bzYcf5VX6XmeEyJ+oxhaRUf+dVKIZwfNOHhOC3ba3YDB9Yt8+FMyHAESpEyvYAo7aKxD157VsSI9tmvSWqAADwXGJ3Fzad6I8WkaG8nJvHgKkLVFNOCONI6TxmYkt4WTsQ49rKpxETwKiiS8hBP5NSconPMOnhZe4GYJhZPRXAAiAX/1jMGi6fZKUiaU8DPNashy1LAXFVjIf/SCiw3ELEjrdp58gOZ5iTCZAyAkhABBYZAAPDLSKsaQgIS62h5Q4GbF9ebVMn6eW35GWqsTnMY0LysxC0VwM9S87ZZoMQFw4gR2GCJZsUsz4EOPM5KRVhRiD8AFNuRDPOXgAIIkAo3z1ATBTMnaeKLCLeBYgBGpjJugFwSIhg8gLB8hNrG2BNx4i1W/EhIAGQyK8GWCs9CRBObFUSWQgtIMak4jWcPXI+xYzOzEZGiGQfwjbR9gSr9+xvT9Ac7L9w9p0FB4yuF9PS3fUEecFkEr5yUqkqQyQ8Jgo02wjwGxDwqFOtco2chf7F45LrXnP5AJQ2wCSA61g4xHmAcZDz/xoV8tZXH+zXbwp0IAvAlDBe7njcFpIXBbCHA3RUgGYc4CmrX90uuYF6RGo3wKu8lsCNC5AIXBQ/Spfr03a59UmewwDE1hPYFrGqTzylIQDg6uWDgfBderoYz2roonJZgAIIfnSOiMu0HkMUGk+P32VJxGOrj/XpTwL72R8uA6UHfZyKEjkY5SQry2Iv7Ge4eo7wiCjHdf0M41R7cZkejdBf1gIygM7QNwD3qaFVkICSAYs+t/ltCtLpiz/DWGcFj0qDPr/IL5Hn+HUuLLfIxEcrQsD4hQHdvx5SiDISL94F4DZBElmRFkRBWx4UgEhhEx6zfwx4PQg4Egr4gBKof/8BWIE1cYEQ+IACeD2bBoEOuH8IqIEYqH8fiIEKCBMd+IEnSIIsSIEeuIItCBMV6DEWWBMhWIMwyII0OIIaGIFIUUwP0D4rMYBEsQAZVGY72IADIGCAgQIu0AMbQABSiAAIQABUaIVSqACxIjsKUIVXWIVSOIVSGE+HgYVeaIVnCIZpaIZmmIZrSIVfiIZtyIZw6IZvKIdgGIZi6IVu2IZx+IZnSId4OIh7KIh8OIeAWIeGiIWGeIh3+IV9aId2uIiOSABFQndyqIdZuAGppRz9UYhryHeH4QIFogAEYIqoeIp6uAFLVRHaoYqqaIqxeIqJVHmzeIsKkIqzKIu6mIpRvBiLvYiLsOiLWTiMwiiLxfiLyAiLx5iMzMiMwaiMxiiN0niLWUiMzViMYYiN0TiNzmiNzViNKnADO8ADMKAC5/iMXUiGFnEBuRiOrFh5CREEADs=",Ci=o=>(X("data-v-2a3f89a0"),o=o(),ee(),o),ki={class:"buttons"},Si=Ci(()=>u("i",{class:"fas fa-trash"},null,-1)),xi=["innerHTML"],Zt=S({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t}=B(),a=No(),s=async()=>{await Go(!0);const c=ze(),_=await Qo(c);a.connected=_,_&&e("connected")},n=()=>{window.localStorage.removeItem("connectedWallet")};return(c,_)=>(f(),w("div",ki,[m(l(K),{class:"button",primary:!0,onClick:s},{default:y(()=>[U(L(l(t)("connect-your-wallet")),1)]),_:1}),m(l(De),{class:"tooltip"},{item:y(()=>[m(l(K),{class:"button clear",onClick:n},{default:y(()=>[Si]),_:1})]),default:y(()=>[u("div",{class:"ping",innerHTML:l(t)("clear-cache")},null,8,xi)]),_:1})]))}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["Connect Wallet"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["连接你的钱包"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof ma=="function"&&ma(Zt);typeof va=="function"&&va(Zt);const Ai=A(Zt,[["__scopeId","data-v-2a3f89a0"]]),Li={class:"wallet"},Ii={key:0,class:"connected"},Pi={key:0,class:"incorrectNetwork"},Ti={class:"info"},Di={key:1,class:"notConnected"},Mi={key:0,class:"info"},Zo=S({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=B(),t=No(),a=x(()=>t.connected),s=x(()=>t.correctNetwork),n=x(()=>ke(t.address));q(async()=>{await Go();const r=ze(),p=await Qo(r);t.connected=p;const d=await Yo(r);t.correctNetwork=d}),M(()=>t.connected,async r=>{const p=ze(),d=p&&r?await ml(p):void 0;t.setAddress(d)},{immediate:!0});const c=async()=>{const r=ze();r&&(await r.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},_=async()=>{await _l(),t.connected=!1};return(r,p)=>(f(),w("div",Li,[a.value?(f(),w("div",Ii,[s.value?V("",!0):(f(),w("div",Pi,[m(l(K),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:c}),u("span",Ti,L(l(e)("incorrect-network")),1)])),m(l(K),{class:"disconnect",icon:"fas fa-check",value:n.value,onClick:_},null,8,["value"])])):(f(),w("div",Di,[m(Ai),r.labelPleaseConnect?(f(),w("span",Mi,L(r.labelPleaseConnect),1)):V("",!0)]))]))}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":t=>{const{normalize:a}=t;return a(["You are not on the correct network; should be Ethereum"])}}})}typeof ha=="function"&&ha(Zo);const Vi=A(Zo,[["__scopeId","data-v-7d2ec4f7"]]),We={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},zi=[We.blue,We.yellow,We.green,We.red,We.purple],He={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Bi=[He.blue,He.yellow,He.green,He.red,He.purple],Ne={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},Oi=[Ne.blue,Ne.yellow,Ne.green,Ne.red,Ne.purple];function E(o){return o==="chad"?Ne:o==="light"?He:We}function le(o){return o==="chad"?Oi:o==="light"?Bi:zi}const N=xe({id:"settingsStore",state:()=>({theme:"light"})}),Ri={class:"theme"},Fi={class:"label"},Ui={class:"colors"},Ei=S({__name:"SelectTheme",setup(o){const e=[{id:"chad",colors:E("chad")},{id:"dark",colors:E("dark")},{id:"light",colors:E("light")}],t=N(),a=C(e[0]),s=C(!1);q(()=>{const _=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme");if(!r&&_)c(e.find(p=>p.id==="dark"));else{const p=e.find(d=>d.id===r)??e.find(d=>d.id==="light")??e[0];c(p)}});const n=()=>{s.value=!s.value},c=_=>{a.value=_,window.document.documentElement.setAttribute("data-theme",a.value.id),t.theme=a.value.id,localStorage.setItem("theme",a.value.id)};return(_,r)=>(f(),P(l(Oe),{class:"select direction-up",options:e.map(p=>p),selected:a.value,open:s.value,onOpen:n,onClose:r[0]||(r[0]=p=>s.value=!1),onInput:c},{item:y(p=>[u("div",Ri,[u("div",Fi,L(p.item.id),1),u("div",Ui,[u("div",{class:"color",style:me({"background-color":p.item.colors.backgroundColor})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.level1})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.level2})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.blue})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.yellow})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.green})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.red})},null,4),u("div",{class:"color",style:me({"background-color":p.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const qi=A(Ei,[["__scopeId","data-v-e1d0d9c3"]]),Wi=o=>(X("data-v-2aa2a20b"),o=o(),ee(),o),Hi={class:"bottom"},Ni=Wi(()=>u("div",{class:"wip"},[u("img",{src:wi}),U(" for real though issa WIP ")],-1)),Gi={class:"buttons"},Qi={href:"https://twitter.com/0xAlunara",target:"_blank"},Yi={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},ji={class:"selectors"},Ji=S({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(a,s)=>{const n=se("router-link");return f(),w("div",Hi,[Ni,u("div",Gi,[m(l(K),{class:"copy",icon:"fas fa-link",onClick:t}),u("a",Qi,[m(l(K),{icon:"fab fa-twitter"})]),u("a",Yi,[m(l(K),{icon:"fab fa-github"})]),m(n,{to:"/code"},{default:y(()=>[m(l(K),{icon:"fas fa-code",onClick:s[0]||(s[0]=c=>e("navigated"))})]),_:1})]),u("div",ji,[m(qi,{class:"themes"}),m(l(zr),{class:"langs",locales:["en"]})]),m(Vi)])}}});const Ki=A(Ji,[["__scopeId","data-v-2aa2a20b"]]),Zi=S({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const t=C(!1),a=()=>{t.value=!1,e("navigated")};return(s,n)=>(f(),w("div",{class:R(["menu-desktop",{expanded:t.value}])},[m(pi,{onToggleExpansion:n[0]||(n[0]=c=>t.value=!t.value),onNavigated:a}),m(l(Be),{class:"menu-content",expanded:t.value},{default:y(()=>[m($i,{onNavigated:a}),m(Ki,{onNavigated:a})]),_:1},8,["expanded"])],2))}});const Xi=A(Zi,[["__scopeId","data-v-4726fbdc"]]),Xt=xe({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),ec={class:"root"},tc={class:"main"},ac={class:"content"},oc=S({__name:"App",setup(o){const e=Xt(),t=Re(),a=Ye();M(()=>t.fullPath,n=>{n.includes("crvusd")||(e.show=!1)});const s=async n=>{n.pathName&&await a.push({name:n.pathName})};return(n,c)=>{const _=se("notifications"),r=se("router-view");return f(),w("div",ec,[m(_,{width:600,duration:-1}),m(Xi,{class:"navigation"}),u("main",tc,[m(la,{name:"fade",mode:"out-in"},{default:y(()=>[l(e).show?(f(),P(l(Ho),{key:0,class:"breadcrumb",crumbs:l(e).crumbs,onCrumb:s},null,8,["crumbs"])):V("",!0)]),_:1}),u("div",ac,[m(r,null,{default:y(({Component:p})=>[m(la,{name:"fade",mode:"out-in"},{default:y(()=>[(f(),P(Ft(p)))]),_:2},1024)]),_:1})])])])}}});const sc=A(oc,[["__scopeId","data-v-04f4b2f7"]]),nc="/assets/404-3a4df870.png",lc=o=>(X("data-v-c157f3ee"),o=o(),ee(),o),rc={class:"not-found"},ic={class:"not-found-container"},cc=lc(()=>u("img",{src:nc},null,-1)),Xo=S({__name:"NotFound",setup(o){const{t:e}=B();return(t,a)=>(f(),w("div",rc,[u("div",ic,[m(l(Q),null,{default:y(()=>[U(L(l(e)("404")),1)]),_:1}),cc])]))}});function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:t=>{const{normalize:a}=t;return a(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof fa=="function"&&fa(Xo);const uc=A(Xo,[["__scopeId","data-v-c157f3ee"]]),dc={class:"contracts"},pc={class:"row"},_c=["href"],mc=["href"],es=S({__name:"Code",setup(o){const{t:e}=B(),s=[{name:"Llama Airforce",contracts:[{contract:Gt,description:"multisig",gnosis:!0},{contract:Zn,description:"treasury",gnosis:!0},{contract:Xn,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:Ro,description:"gauge-factory"},{contract:Fo,description:"gauge-controller"}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],c=_=>{switch(_.network){case"arbitrum":return _.gnosis?`https://app.safe.global/arb1:${_.contract}`:`https://arbiscan.io/address/${_.contract}`;case"ethereum":default:return _.gnosis?`https://app.safe.global/eth:${_.contract}`:`https://etherscan.io/address/${_.contract}`}};return(_,r)=>(f(),w("div",dc,[u("div",pc,[m(l(be),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:n,columns:[l(e)("repository"),l(e)("description")]},{"header-title":y(()=>[u("div",null,L(l(e)("repositories")),1)]),row:y(p=>[u("div",null,[u("a",{href:p.item.url,target:"_blank"},L(p.item.name),9,_c)]),u("div",null,L(l(e)(p.item.description)),1)]),_:1},8,["columns"])]),(f(),w(ae,null,ce(s,(p,d)=>m(l(be),{key:d,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:[l(e)("contract"),l(e)("description")]},{"header-title":y(()=>[u("div",null,L(l(e)(p.name)),1)]),row:y(g=>[u("div",null,[u("a",{href:c(g.item),target:"_blank"},L(g.item.contract),9,mc)]),u("div",null,L(l(e)(g.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:t=>{const{normalize:a}=t;return a(["Repositories"])},repository:t=>{const{normalize:a}=t;return a(["Repository"])},description:t=>{const{normalize:a}=t;return a(["Description"])},contract:t=>{const{normalize:a}=t;return a(["Contract"])},other:t=>{const{normalize:a}=t;return a(["Other"])},"repo-laf":t=>{const{normalize:a}=t;return a(["This website's front-end, excluding the Union"])},"repo-graphs":t=>{const{normalize:a}=t;return a(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:t=>{const{normalize:a}=t;return a(["Multisig"])},treasury:t=>{const{normalize:a}=t;return a(["Treasury"])},"treasury-arbitrum":t=>{const{normalize:a}=t;return a(["Treasury Arbitrum"])},"gauge-factory":t=>{const{normalize:a}=t;return a(["Gauge Factory"])},"gauge-controller":t=>{const{normalize:a}=t;return a(["Gauge Controller"])}}})}typeof ga=="function"&&ga(es);const vc=A(es,[["__scopeId","data-v-1ccda060"]]);function hc(){const o=Kt(),e=[{path:"/code",component:vc},...o.pages.flatMap(a=>a.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:uc}];return xn({history:An(),routes:e})}const ie={blue:"rgb(32, 129, 240)",yellow:"rgb(255, 204, 0)",green:"rgb(126, 217, 87)",red:"rgb(255, 87, 87)",purple:"rgb(140, 82, 255)",backgroundColor:"#212124",level1:"#212124",level2:"#27272a",level3:"#303034",level4:"#35353b",level5:"#71717a",level6:"#aea8af",text:"#fafafa"},fc=[ie.blue,ie.yellow,ie.green,ie.red,ie.purple],gc=o=>(X("data-v-fa8a7ca8"),o=o(),ee(),o),bc={class:"colors"},yc={class:"dashboard"},$c=gc(()=>u("div",null,"Colors",-1)),wc=S({__name:"Colors",setup(o){const e=[{variable:"var(--c-lvl0)",value:ie.backgroundColor},{variable:"var(--c-lvl1)",value:ie.level1},{variable:"var(--c-lvl2)",value:ie.level2},{variable:"var(--c-lvl3)",value:ie.level3},{variable:"var(--c-lvl4)",value:ie.level4},{variable:"var(--c-lvl5)",value:ie.level5},{variable:"var(--c-lvl6)",value:ie.level6},{variable:"var(--c-text)",value:ie.text},{variable:"var(--c-red)",value:ie.red},{variable:"var(--c-green)",value:ie.green},{variable:"var(--c-blue)",value:ie.blue},{variable:"var(--c-yellow)",value:ie.yellow},{variable:"var(--c-purple)",value:ie.purple}];return(t,a)=>(f(),w("div",bc,[u("div",yc,[m(l(be),{class:"datatable-colors","columns-header":"1fr","columns-data":"colors-columns-data",rows:e,columns:["Variable","Value","Preview"]},{"header-title":y(()=>[$c]),row:y(s=>[u("div",null,L(s.item.variable),1),u("div",null,L(s.item.value),1),u("div",{class:"preview",style:me({"background-color":s.item.value})},null,4)]),_:1})])]))}});const Cc=A(wc,[["__scopeId","data-v-fa8a7ca8"]]),kc={class:"item"},Sc={class:"title"},xc=S({__name:"Recipe",props:{title:{}},setup(o){return(e,t)=>(f(),w("div",kc,[J(e.$slots,"example",{},void 0,!0),u("div",Sc,L(e.title),1),J(e.$slots,"snippets",{},void 0,!0)]))}});const G=A(xc,[["__scopeId","data-v-e6b1c9ca"]]),Ac={class:"dashboard-root"},Lc={class:"dashboard"},Ic=`<template>
  <div class="dashboard-root">
    <div class="dashboard">
      Content goes here
    </div>
  </div>
</template>`,Pc=`<script setup lang="ts">
<\/script>`,Tc=`@import "@/Styles/Variables.scss";

@include dashboard("dashboard-root");
`,Dc=S({__name:"Dashboard",setup(o){return(e,t)=>(f(),w("div",Ac,[u("div",Lc,[m(G,{title:"Dashboard.vue"},{snippets:y(()=>[m(l(F),{lang:"xml",code:Ic}),m(l(F),{lang:"typescript",code:Pc}),U(' <style lang="scss" scoped> '),m(l(F),{lang:"scss",code:Tc}),U(" </style> ")]),_:1})])]))}});const Mc=A(Dc,[["__scopeId","data-v-f8a64e67"]]),Vc={class:"socket"},zc={class:"dashboard"},Bc={class:"connect"},Oc=S({__name:"Socket",setup(o){let e=null;const t=C("https://ws.llama.airforce:2053"),a=C(!1),s=()=>{e=gt(`${t.value}`,{autoConnect:!1,reconnection:!1,secure:!0}),e.on("connect_error",c=>console.log(c)),e.on("message",c=>{console.log(c),a.value=!0}),e.connect()},n=()=>{e==null||e.close(),e=null,a.value=!1};return(c,_)=>(f(),w("div",Vc,[u("div",zc,[u("div",Bc,[m(l(pe),{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=r=>t.value=r)},null,8,["modelValue"]),a.value?(f(),P(l(K),{key:1,value:"Disconnect",onClick:n})):(f(),P(l(K),{key:0,value:"Connect",onClick:s}))])])]))}});const Rc=A(Oc,[["__scopeId","data-v-3014baa1"]]),Fc={class:"async-value"},Uc={class:"dashboard"},Ec=`<AsyncValue
  :value="50000">
</AsyncValue>`,qc=`<AsyncValue
  :value="50000"
  type="dollar"
></AsyncValue>`,Wc=`<AsyncValue
  :value="50000"
  type="percentage"
></AsyncValue>`,Hc=`<AsyncValue
  :value="null">
</AsyncValue>`,Nc=`<AsyncValue
  :value="0">
</AsyncValue>`,Gc=` <AsyncValue
  :value="0"
  :show-zero="true"
></AsyncValue>`,Qc=`<AsyncValue
  :value="50000"
  :precision="5"
  type="dollar"
></AsyncValue>`,Yc=`<AsyncValue
  :value="50000"
  :show-symbol="false"
  type="dollar"
></AsyncValue>`,jc=`<AsyncValue
  :value="50000"
  :show-unit="false"
  type="dollar"
></AsyncValue>`,Jc=S({__name:"AsyncValue",setup(o){return(e,t)=>(f(),w("div",Fc,[u("div",Uc,[m(G,{title:"AsyncValue"},{example:y(()=>[m(l(O),{value:5e4})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Ec})]),_:1}),m(G,{title:"Dollar"},{example:y(()=>[m(l(O),{value:5e4,type:"dollar"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:qc})]),_:1}),m(G,{title:"Percentage"},{example:y(()=>[m(l(O),{value:5e4,type:"percentage"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Wc})]),_:1}),m(G,{title:"Loading"},{example:y(()=>[m(l(O),{value:null})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Hc})]),_:1}),m(G,{title:"Unknown"},{example:y(()=>[m(l(O),{value:0})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Nc})]),_:1}),m(G,{title:"Zero"},{example:y(()=>[m(l(O),{value:0,"show-zero":!0})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Gc})]),_:1}),m(G,{title:"Precision"},{example:y(()=>[m(l(O),{value:5e4,precision:5,type:"dollar"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Qc})]),_:1}),m(G,{title:"No Symbol"},{example:y(()=>[m(l(O),{value:5e4,"show-symbol":!1,type:"dollar"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Yc})]),_:1}),m(G,{title:"No Unit"},{example:y(()=>[m(l(O),{value:5e4,"show-unit":!1,type:"dollar"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:jc})]),_:1})])]))}});const Kc=A(Jc,[["__scopeId","data-v-dd805ddd"]]),Zc={class:"breadcrumb"},Xc={class:"dashboard"},eu=`<Breadcrumb
  :crumbs="crumbs"
  :active="crumbActive"
  @crumb="onCrumb"
></Breadcrumb>`,tu=`const crumbs: Crumb[] = [
  { id: "home", label: "Home" },
  { id: "crvusd", label: "crvUSD" },
  { id: "market", label: "Market" },
];

const crumbActive = ref({ id: "market", label: "Market" });

const onCrumb = (crumb: Crumb) => {
  crumbActive.value = crumb;
};`,au=S({__name:"Breadcrumb",setup(o){const e=[{id:"home",label:"Home"},{id:"crvusd",label:"crvUSD"},{id:"market",label:"Market"}],t=C({id:"market",label:"Market"}),a=s=>{t.value=s};return(s,n)=>(f(),w("div",Zc,[u("div",Xc,[m(G,{title:"Breadcrumb"},{example:y(()=>[m(l(Ho),{crumbs:e,active:t.value,onCrumb:a},null,8,["active"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:eu}),m(l(F),{lang:"typescript",code:tu})]),_:1})])]))}});const ou=A(au,[["__scopeId","data-v-1b8b0f32"]]),ts=o=>(X("data-v-75776ef5"),o=o(),ee(),o),su={class:"button"},nu={class:"dashboard"},lu=ts(()=>u("div",{style:{"margin-right":"1rem"}},"Content goes here",-1)),ru=ts(()=>u("i",{class:"fas fa-plane"},null,-1)),iu=`<Button
  value="Value"
  :primary="true"
></Button>`,cu=`<Button
  value="Value"
  :primary="false"
></Button>`,uu=`<Button
  value="Value"
  :disabled="true"
></Button>`,du=`<Button
  value="Value"
  :web3="true"
></Button>`,pu=`<Button
  value="Value"
  icon="fas fa-plane"
></Button>`,_u=`<Button>
  <div style="margin-right: 1rem">Content goes here</div>
  <i class="fas fa-plane"></i>
</Button>`,mu=`<Button
  value="Click me!"
  @click="showAlert('You clicked me!')"
></Button>`,vu="const showAlert = (msg: string) => alert(msg);",hu=S({__name:"Button",setup(o){const e=t=>alert(t);return(t,a)=>(f(),w("div",su,[u("div",nu,[m(G,{title:"Primary"},{example:y(()=>[m(l(K),{value:"Value",primary:!0})]),snippets:y(()=>[m(l(F),{lang:"xml",code:iu})]),_:1}),m(G,{title:"Not Primary"},{example:y(()=>[m(l(K),{value:"Value",primary:!1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:cu})]),_:1}),m(G,{title:"Disabled"},{example:y(()=>[m(l(K),{value:"Value",disabled:!0})]),snippets:y(()=>[m(l(F),{lang:"xml",code:uu})]),_:1}),m(G,{title:"Web3"},{example:y(()=>[m(l(K),{value:"Value",web3:!0})]),snippets:y(()=>[m(l(F),{lang:"xml",code:du})]),_:1}),m(G,{title:"Icon"},{example:y(()=>[m(l(K),{value:"Value",icon:"fas fa-plane"})]),snippets:y(()=>[m(l(F),{lang:"xml",code:pu})]),_:1}),m(G,{title:"Slot",style:{"grid-column":"2 / span 3"}},{example:y(()=>[m(l(K),null,{default:y(()=>[lu,ru]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:_u})]),_:1}),m(G,{title:"Event - Click",style:{"grid-column":"1 / span 4"}},{example:y(()=>[m(l(K),{value:"Click me!",onClick:a[0]||(a[0]=s=>e("You clicked me!"))})]),snippets:y(()=>[m(l(F),{lang:"xml",code:mu}),m(l(F),{lang:"typescript",code:vu})]),_:1})])]))}});const fu=A(hu,[["__scopeId","data-v-75776ef5"]]),gu={class:"button-toggle"},bu={class:"dashboard"},yu=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,$u=S({__name:"ButtonToggle",setup(o){const e=C(!1);return(t,a)=>(f(),w("div",gu,[u("div",bu,[m(G,{title:"Toggle"},{example:y(()=>[m(l(Te),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),value:"Value",icon:"fas fa-plane"},null,8,["modelValue"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:yu})]),_:1})])]))}});const wu=A($u,[["__scopeId","data-v-f3d50318"]]),Cu={class:"card-root"},ku={class:"dashboard"},Su=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,xu=`<Card
  title="Card Title"
  icon="fas fa-plane"
>
  Content goes here
</Card>`,Au=`<Card
  title="Card Loading"
  icon="fas fa-plane"
  :loading="true"
>
  Content goes here
</Card>`,Lu=`<Card
  title="Card Title"
  icon="fas fa-plane"
  :collapsible="true"
  :collapsed="collapsed"
  @click="collapsed = !collapsed"
>
  <template #actions>
    <i
      class="expander fas fa-chevron-up"
      :class="{ expanded: collapsed }"
    ></i>
  </template>

  <Collapsible :expanded="!collapsed"> Content goes here </Collapsible>
</Card>`,Iu=`import { ref } from "vue";

const collapsed = ref(false);
`,Pu=`::v-deep(.card-header) {
  .expander {
    transition: transform 125ms cubic-bezier(0.65, 0.05, 0.36, 1);
    transform: rotate(90deg);

    &.expanded {
      transform: rotate(180deg);
    }
  }
}`,Tu=S({__name:"Card",setup(o){const e=C(!1);return(t,a)=>(f(),w("div",Cu,[u("div",ku,[m(G,{title:"Card"},{example:y(()=>[m(l(Q),{title:"Card Title",icon:"fas fa-plane"},{default:y(()=>[U(" Content goes here ")]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Su})]),_:1}),m(G,{title:"Compact / no padding"},{example:y(()=>[m(l(Q),{compact:!0},{default:y(()=>[U(" Content goes here ")]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:xu})]),_:1}),m(G,{title:"Collapsible"},{example:y(()=>[m(l(Q),{title:"Card Title",icon:"fas fa-plane",collapsible:!0,collapsed:e.value,onClick:a[0]||(a[0]=s=>e.value=!e.value)},{actions:y(()=>[u("i",{class:R(["expander fas fa-chevron-up",{expanded:e.value}])},null,2)]),default:y(()=>[m(l(Be),{expanded:!e.value},{default:y(()=>[U(" Content goes here ")]),_:1},8,["expanded"])]),_:1},8,["collapsed"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:Lu}),m(l(F),{lang:"typescript",code:Iu}),m(l(F),{lang:"scss",code:Pu})]),_:1}),m(G,{title:"Loading"},{example:y(()=>[m(l(Q),{title:"Card Loading",icon:"fas fa-plane",loading:!0},{default:y(()=>[U(" Content goes here ")]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:Au})]),_:1})])]))}});const Du=A(Tu,[["__scopeId","data-v-fde7f6d4"]]),as=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function Mu(o){const e=as({colors:ie,colorsArray:fc}),t=(a,s)=>{if(typeof s=="object"){z.mergeWith(a,s,t);return}else return a||s};return z.mergeWith(o,e,t)}function de(o,e){const t=as(o),a=(s,n)=>{if(typeof n=="object"){z.mergeWith(s,n,a);return}else return s||n};return z.mergeWith(e,t,a)}const Vu={class:"card-graph"},zu={class:"dashboard"},Bu=`<CardGraph
  class="chart"
  title="LineChart"
  :options="options"
  :series="series"
></CardGraph>`,Ou=`import { computed } from "vue";
import { CardGraph } from "@/Framework";
import createChartStyles from "@/Styles/ChartStyles";
import { round, unit, type DataPoint, addDays } from "@/Util";

type Serie = {
  name: string;
  type: string;
  data: { x: number; y: number }[];
};

const optionsLineChart = computed((): unknown => {
  return createChartStyles({
    chart: {
      animations: {
        enabled: false,
      },
      toolbar: {
        tools: {
          download: true,
        },
      },
    },
    xaxis: {
      type: "datetime",
    },
    yaxis: [
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterEmissions(y),
        },
        min: 0,
        max: 10,
      },
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterFees(y),
        },
        show: false,
        min: 0,
        max: 10,
      },
    ],
    plotOptions: {
      bar: {
        distributed: false,
        dataLabels: {
          position: "top",
          hideOverflowingLabels: false,
        },
      },
    },
    tooltip: {
      followCursor: false,
      enabled: true,
      intersect: false,
      custom: (x: DataPoint<SerieLineChart>) => {
        const emissions = x.w.globals.initialSeries[0].data[x.dataPointIndex].y;

        const fees = x.w.globals.initialSeries[1].data[x.dataPointIndex]
          ? x.w.globals.initialSeries[1].data[x.dataPointIndex].y
          : 0;

        const data = [
          \`<div><b>Emissions</b>:</div><div>\${formatterEmissions(
            emissions
          )}</div>\`,
          \`<div><b>Fees</b>:</div><div>\${formatterFees(fees)}</div>\`,
        ];

        return data.join("");
      },
    },
    dataLabels: {
      enabled: false,
    },
    csv: {
      filename: "emissions.csv",
      columnDelimiter: ",",
      headerCategory: "category",
      headerValue: "value",
      dateFormatter(timestamp: number) {
        return timestamp;
      },
    },
  });
});

const series = computed((): Serie[] => {
  return [
    {
      name: "Emissions",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 1 },
        { x: addDays(new Date(), 1).getTime(), y: 5 },
        { x: addDays(new Date(), 2).getTime(), y: 7 },
        { x: addDays(new Date(), 3).getTime(), y: 3 },
        { x: addDays(new Date(), 4).getTime(), y: 9 },
      ],
    },
    {
      name: "Fees",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 5 },
        { x: addDays(new Date(), 1).getTime(), y: 0 },
        { x: addDays(new Date(), 2).getTime(), y: 3 },
        { x: addDays(new Date(), 3).getTime(), y: 9 },
        { x: addDays(new Date(), 4).getTime(), y: 2 },
      ],
    },
  ];
});

// Methods
const formatterEmissions = (x: number): string => {
  return \`$\${round(Math.abs(x), 1, "dollar")}\${unit(x, "dollar")}\`;
};

const formatterFees = (x: number): string => {
  return \`$\${round(x, 1, "dollar")}\${unit(x, "dollar")}\`;
};`,Ru=`.chart {
  height: 400px;

  ::v-deep(.card-body) {
    .apexcharts-tooltip {
      grid-template-rows: auto auto;
      grid-template-columns: 1fr auto;
    }
  }
}`,Fu=S({__name:"CardGraph",setup(o){const e=x(()=>Mu({chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:n=>a(n)},min:0,max:10},{seriesName:"emissions",tickAmount:4,labels:{formatter:n=>s(n)},show:!1,min:0,max:10}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:n=>{const c=n.w.globals.initialSeries[0].data[n.dataPointIndex].y,_=n.w.globals.initialSeries[1].data[n.dataPointIndex]?n.w.globals.initialSeries[1].data[n.dataPointIndex].y:0;return[`<div><b>Emissions</b>:</div><div>${a(c)}</div>`,`<div><b>Fees</b>:</div><div>${s(_)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(n){return n}}})),t=x(()=>[{name:"Emissions",type:"line",data:[{x:new Date().getTime(),y:1},{x:Ae(new Date,1).getTime(),y:5},{x:Ae(new Date,2).getTime(),y:7},{x:Ae(new Date,3).getTime(),y:3},{x:Ae(new Date,4).getTime(),y:9}]},{name:"Fees",type:"line",data:[{x:new Date().getTime(),y:5},{x:Ae(new Date,1).getTime(),y:0},{x:Ae(new Date,2).getTime(),y:3},{x:Ae(new Date,3).getTime(),y:9},{x:Ae(new Date,4).getTime(),y:2}]}]),a=n=>`$${j(Math.abs(n),1,"dollar")}${Y(n,"dollar")}`,s=n=>`$${j(n,1,"dollar")}${Y(n,"dollar")}`;return(n,c)=>(f(),w("div",Vu,[u("div",zu,[m(G,{title:"Line Chart"},{example:y(()=>[m(l(ve),{class:"chart",title:"Line Chart",options:e.value,series:t.value},null,8,["options","series"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:Bu}),m(l(F),{lang:"typescript",code:Ou}),m(l(F),{lang:"scss",code:Ru})]),_:1})])]))}});const Uu=A(Fu,[["__scopeId","data-v-da7df299"]]),yt=o=>(X("data-v-d414c8c0"),o=o(),ee(),o),Eu={class:"data-table"},qu={class:"dashboard"},Wu=yt(()=>u("div",null,"All Rounds",-1)),Hu={class:"vote-link"},Nu={class:"number"},Gu={class:"number"},Qu=yt(()=>u("div",null,null,-1)),Yu=yt(()=>u("div",null,null,-1)),ju=yt(()=>u("div",null,null,-1)),Ju={class:"number"},Ku=`<DataTable
  class="datatable-example"
  columns-header="1fr"
  columns-data="example-columns-data"
  :rows="rows"
  :columns="['', 'Deadline', '$/vlCVX', 'Total']"
  :sorting="true"
  :sorting-columns="['', 'deadline', 'vlasset', 'total']"
  :sorting-columns-enabled="['deadline', 'vlasset', 'total']"
  sorting-default-column="deadline"
  sorting-default-dir="Descending"
  @sort-column="onSort"
  @selected="onSelected"
>
  <template #header-title>
    <div>All Rounds</div>
  </template>

  <template #header-actions>
    <Tooltip>Tooltip data goes here</Tooltip>
  </template>

  <template #row="props: { item: Round }">
    <div
      class="round-number"
      @click.stop
    >
      <a class="vote-link">
        {{ props.item.round }}
      </a>
    </div>
    <div>
      {{ new Date(Date.now()).toLocaleDateString() }}
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value"
        :precision="5"
        type="dollar"
      />
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value * 10000"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>

  <template #row-aggregation>
    <div></div>
    <div></div>
    <div></div>
    <div class="number">
      <AsyncValue
        :value="rows.reduce((acc, x) => acc + x.value * 10000, 0)"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>
</DataTable>`,Zu=`import { ref, computed } from "vue";
import { orderBy } from "lodash";
import { AsyncValue, DataTable, Tooltip, SortOrder } from "@/Framework";

type Round = {
  round: number;
  value: number;
};

let sortColumn = ref<"deadline" | "vlasset" | "total">("deadline");
let sortOrder = ref(SortOrder.Descending);

const data: Round[] = [
  { round: 1, value: 1 * Math.random() },
  { round: 2, value: 7 * Math.random() },
  { round: 3, value: 5 * Math.random() },
  { round: 4, value: 2 * Math.random() },
  { round: 5, value: 3 * Math.random() },
];

const rows = computed((): Round[] => {
  return orderBy(
    data ?? [],
    (row: Round) => {
      switch (sortColumn.value) {
        case "deadline":
          return row.round;
        case "vlasset":
          return row.value;
        case "total":
          return row.value;
        default:
          return row.round;
      }
    },
    sortOrder.value === SortOrder.Descending ? "desc" : "asc"
  );
});

// Events
const onSort = (columnName: string, order: SortOrder): void => {
  sortColumn.value = columnName as "deadline" | "vlasset" | "total";
  sortOrder.value = order;
};

const onSelected = (data: unknown): void => {
  const epoch = data as Round;
  console.log(epoch.round);
};`,Xu=`.datatable-example {
  .round-number {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  ::v-deep(.example-columns-data) {
    display: grid;
    grid-template-columns: 1.5rem 1fr 1fr 1fr;

    // Right adjust number columns.
    div:nth-child(3),
    div:nth-child(4) {
      justify-content: end;
    }

    .vote-link {
      width: 1.5rem;
      text-align: center;
    }
  }
}`,ed=S({__name:"DataTable",setup(o){const e=C("deadline"),t=C(fe.Descending),a=[{round:1,value:1*Math.random()},{round:2,value:7*Math.random()},{round:3,value:5*Math.random()},{round:4,value:2*Math.random()},{round:5,value:3*Math.random()}],s=x(()=>z.orderBy(a??[],_=>{switch(e.value){case"deadline":return _.round;case"vlasset":return _.value;case"total":return _.value;default:return _.round}},t.value===fe.Descending?"desc":"asc")),n=(_,r)=>{e.value=_,t.value=r},c=_=>{console.log(_.round)};return(_,r)=>(f(),w("div",Eu,[u("div",qu,[m(G,{title:"DataTable",class:"recipe"},{example:y(()=>[m(l(be),{class:"datatable-example","columns-header":"1fr","columns-data":"example-columns-data",rows:s.value,columns:["","Deadline","$/vlCVX","Total"],sorting:!0,"sorting-columns":["","deadline","vlasset","total"],"sorting-columns-enabled":["deadline","vlasset","total"],"sorting-default-column":"deadline","sorting-default-dir":"Descending",onSortColumn:n,onSelected:c},{"header-title":y(()=>[Wu]),"header-actions":y(()=>[m(l(De),null,{default:y(()=>[U("Tooltip data goes here")]),_:1})]),row:y(p=>[u("div",{class:"round-number",onClick:r[0]||(r[0]=Se(()=>{},["stop"]))},[u("a",Hu,L(p.item.round),1)]),u("div",null,L(new Date(Date.now()).toLocaleDateString()),1),u("div",Nu,[m(l(O),{value:p.item.value,precision:5,type:"dollar"},null,8,["value"])]),u("div",Gu,[m(l(O),{value:p.item.value*1e4,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[Qu,Yu,ju,u("div",Ju,[m(l(O),{value:s.value.reduce((p,d)=>p+d.value*1e4,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:Ku}),m(l(F),{lang:"typescript",code:Zu}),m(l(F),{lang:"scss",code:Xu})]),_:1})])]))}});const td=A(ed,[["__scopeId","data-v-d414c8c0"]]),ad="/why.png",od=o=>(X("data-v-8e184075"),o=o(),ee(),o),sd={class:"input-text"},nd={class:"dashboard"},ld={key:0,class:"search-item"},rd=od(()=>u("img",{src:ad},null,-1)),id={class:"label"},cd={key:0,class:"description"},ud={class:"volume"},dd=`<InputText
  v-model="text1"
  placeholder="Placeholder goes here"
></InputText>`,pd=`<InputText
  v-model="pool"
  placeholder="Search for a pool: enter a space here"
  :search="true"
  :auto-complete="autoComplete"
  :options="pools"
  :filter="filter"
  :sort="sort"
  @input="onInput"
  @select="onSelect"
>
  <template #item="props: { item: Pool, idx: number }">
    <div
      v-if="props.item"
      class="search-item"
    >
      <img src="/why.png" />
      <div class="label">{{ props.item.name }}</div>
      <div
        v-if="props.idx === 0"
        class="description"
      >
        Volume
      </div>
      <div class="volume">
        <AsyncValue
          :value="props.item.volume"
          :precision="2"
          type="dollar"
        />
      </div>
    </div>
  </template>
</InputText>`,_d=`import { ref } from "vue";
import { InputText, AsyncValue } from "@/Framework";

const pool = ref("");
const autoComplete = ref(false);

type Pool = {
  name: string;
  volume: number;
};

const pools: Pool[] = [
  {
    name: "Pool A",
    volume: 10,
  },
  {
    name: "Pool B",
    volume: 1337,
  },
  {
    name: "Pool C",
    volume: 42,
  },
];

// Methods
const filter = (input: string, option: unknown) =>
  (option as Pool).name.toLocaleLowerCase().includes(input.toLocaleLowerCase());

const sort = (a: unknown, b: unknown) =>
  (b as Pool).volume - (a as Pool).volume;

// Events
const onInput = (input: string): void => {
  autoComplete.value = !!input;
};

const toggleExpansion = (newPool: Pool): void => {
  pool.value = newPool.name;
  autoComplete.value = false;
};

const onSelect = (option: unknown): void => {
  const pool = option as Pool;
  toggleExpansion(pool);
};`,md=`.search-item {
  display: flex;
  align-items: center;

  img {
    width: 20px;
    height: 20px;
    object-fit: scale-down;
  }

  > .label {
    flex-grow: 1;
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .volume,
  > .description {
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .description {
    color: var(--c-lvl5);
  }
}`,vd=S({__name:"InputText",setup(o){const e=C(""),t=C(""),a=C(!1),s=[{name:"Pool A",volume:10},{name:"Pool B",volume:1337},{name:"Pool C",volume:42}],n=(d,g)=>g.name.toLocaleLowerCase().includes(d.toLocaleLowerCase()),c=(d,g)=>g.volume-d.volume,_=d=>{a.value=!!d},r=d=>{t.value=d.name,a.value=!1},p=d=>{r(d)};return(d,g)=>(f(),w("div",sd,[u("div",nd,[m(G,{title:"InputText with placeholder"},{example:y(()=>[m(l(pe),{modelValue:e.value,"onUpdate:modelValue":g[0]||(g[0]=h=>e.value=h),placeholder:"Placeholder goes here"},null,8,["modelValue"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:dd})]),_:1}),m(G,{title:"InputText with search, options, filter, sorting and slot"},{example:y(()=>[m(l(pe),{modelValue:t.value,"onUpdate:modelValue":g[1]||(g[1]=h=>t.value=h),placeholder:"Search for a pool: enter a space here",search:!0,"auto-complete":a.value,options:s,filter:n,sort:c,onInput:_,onSelect:p},{item:y(h=>[h.item?(f(),w("div",ld,[rd,u("div",id,L(h.item.name),1),h.idx===0?(f(),w("div",cd," Volume ")):V("",!0),u("div",ud,[m(l(O),{value:h.item.volume,precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["modelValue","auto-complete"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:pd}),m(l(F),{lang:"typescript",code:_d}),m(l(F),{lang:"scss",code:md})]),_:1})])]))}});const hd=A(vd,[["__scopeId","data-v-8e184075"]]),fd={class:"input-number"},gd={class:"dashboard"},bd=`<InputNumber
  v-model="value"
  placeholder="Number goes here"
  :min="-5"
  :max="Infinity"
></InputNumber>`,yd=S({__name:"InputNumber",setup(o){const e=C(0);return(t,a)=>(f(),w("div",fd,[u("div",gd,[m(G,{title:"InputNumber"},{example:y(()=>[m(l(Yt),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),placeholder:"Number goes here",min:-5,max:1/0},null,8,["modelValue"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:bd})]),_:1})])]))}});const $d=A(yd,[["__scopeId","data-v-196ca807"]]),wd=o=>(X("data-v-bbac04e1"),o=o(),ee(),o),Cd={class:"modal"},kd={class:"dashboard"},Sd=wd(()=>u("div",{class:"content"},"Content goes here",-1)),xd=`<ModalYesNo
  class="my-modal"
  title="Modal title"
  :show="openModal"
  @close="openModal = false"
  @no="openModal = false"
  @yes="onYes"
>
  <div class="content">Content goes here</div>
</ModalYesNo>`,Ad=`import { ref } from "vue";

const openModal = ref(false);

const onYes = () => {
  alert("You clicked yes!");
  openModal.value = false;
};`,Ld=`.my-modal {
  ::v-deep(.content) {
    width: 40rem;
  }
}`,Id=S({__name:"Modal",setup(o){const e=C(!1),t=()=>{alert("You clicked yes!"),e.value=!1};return(a,s)=>(f(),w("div",Cd,[u("div",kd,[m(G,{title:"ModalYesNo"},{example:y(()=>[m(l(K),{onClick:s[0]||(s[0]=n=>e.value=!0)},{default:y(()=>[U("Open Modal")]),_:1}),m(l(fr),{class:"my-modal",title:"Modal title",show:e.value,onClose:s[1]||(s[1]=n=>e.value=!1),onNo:s[2]||(s[2]=n=>e.value=!1),onYes:t},{default:y(()=>[Sd]),_:1},8,["show"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:xd}),m(l(F),{lang:"typescript",code:Ad}),m(l(F),{lang:"scss",code:Ld})]),_:1})])]))}});const Pd=A(Id,[["__scopeId","data-v-bbac04e1"]]),Td={class:"pagination"},Dd={class:"dashboard"},Md=`<Pagination
  :items-count="96"
  :items-per-page="10"
  :page="page"
  @page="onPage"
></Pagination>`,Vd=S({__name:"Pagination",setup(o){const e=C(1),t=a=>{e.value=a};return(a,s)=>(f(),w("div",Td,[u("div",Dd,[m(G,{title:"Pagination"},{example:y(()=>[m(l(Qe),{"items-count":96,"items-per-page":10,page:e.value,onPage:t},null,8,["page"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:Md})]),_:1})])]))}});const zd=A(Vd,[["__scopeId","data-v-25aea555"]]),Bd={class:"select"},Od={class:"dashboard"},Rd={key:0,class:"item"},Fd=["src"],Ud={class:"label"},Ed=`<Select
  class="select-component"
  :options="options"
  :selected="selected"
  :open="selectOpen"
  @open="onSelectOpen"
  @close="selectOpen = false"
  @input="onSelect"
>
  <template #item="props: { item: SelectItem }">
    <div
      v-if="props.item"
      class="item"
    >
      <img :src="props.item.logo" />
      <div class="label">{{ props.item.label }}</div>
    </div>
  </template>
</Select>`,qd=`import { ref, onMounted } from "vue";
import { Select } from "@/Framework";

type SelectItem = {
  label: string;
  logo: string;
};

const options: SelectItem[] = [
  {
    label: "Option 1",
    logo: "/why.png",
  },
  {
    label: "Option 2",
    logo: "/why.png",
  },
  {
    label: "Option 3",
    logo: "/why.png",
  },
];

const selectOpen = ref(false);
const selected = ref<SelectItem | null>;

// Hooks
onMounted((): void => {
  onSelect(options[0]);
});

// Events
const onSelectOpen = (): void => {
  selectOpen.value = !selectOpen.value;
};

const onSelect = (option: unknown): void => {
  const item = option as SelectItem;
  selected.value = item;
};`,Wd=`::v-deep(.select-component) {
  width: 20rem;

  .item {
    display: flex;
    align-items: center;

    img {
      width: 20px;
      height: 20px;
      object-fit: scale-down;
    }

    > .label {
      font-size: 0.875rem;
      margin-left: 0.75rem;
    }
  }
}`,Hd=S({__name:"Select",setup(o){const e=[{label:"Option 1",logo:"/why.png"},{label:"Option 2",logo:"/why.png"},{label:"Option 3",logo:"/why.png"}],t=C(!1),a=C(null);q(()=>{n(e[0])});const s=()=>{t.value=!t.value},n=c=>{const _=c;a.value=_};return(c,_)=>(f(),w("div",Bd,[u("div",Od,[m(G,{title:"Select"},{example:y(()=>[m(l(Oe),{class:"select-component",options:e,selected:a.value,open:t.value,onOpen:s,onClose:_[0]||(_[0]=r=>t.value=!1),onInput:n},{item:y(r=>[r.item?(f(),w("div",Rd,[u("img",{src:r.item.logo},null,8,Fd),u("div",Ud,L(r.item.label),1)])):V("",!0)]),_:1},8,["selected","open"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:Ed}),m(l(F),{lang:"typescript",code:qd}),m(l(F),{lang:"scss",code:Wd})]),_:1})])]))}});const Nd=A(Hd,[["__scopeId","data-v-4bbec1e3"]]),Gd={class:"slider"},Qd={class:"dashboard"},Yd={class:"value"},jd=`<Slider
  :min="0"
  :max="5"
  :step="0.1"
  :model-value="value"
  @update:model-value="onInput"
></Slider>`,Jd=`import { ref } from "vue";
import { Slider } from "@/Framework";

const value = ref(0);

// Events
const onInput = (newVal: string) => {
  value.value = parseFloat(newVal);
};`,Kd=S({__name:"Slider",setup(o){const e=C(0),t=a=>{e.value=parseFloat(a)};return(a,s)=>(f(),w("div",Gd,[u("div",Qd,[m(G,{title:"Slider"},{example:y(()=>[u("div",Yd,L(e.value),1),m(l(Fr),{min:0,max:5,step:.1,"model-value":e.value,"onUpdate:modelValue":t},null,8,["model-value"])]),snippets:y(()=>[m(l(F),{lang:"xml",code:jd}),m(l(F),{lang:"typescript",code:Jd})]),_:1})])]))}});const Zd=A(Kd,[["__scopeId","data-v-4f5b3c15"]]),Xd={class:"spinner"},ep={class:"dashboard"},tp="<Spinner></Spinner>",ap=S({__name:"Spinner",setup(o){return(e,t)=>(f(),w("div",Xd,[u("div",ep,[m(G,{title:"Spinner"},{example:y(()=>[m(l(nt))]),snippets:y(()=>[m(l(F),{lang:"xml",code:tp})]),_:1})])]))}});const op=A(ap,[["__scopeId","data-v-716781f5"]]),sp={class:"tabs"},np={class:"dashboard"},lp={class:"active"},rp=`<TabView @tab="tabActive = $event.index">
  <TabItem header="Tab One"> Tab 1 content goes here </TabItem>
  <TabItem header="Tab Two"> Tab 2 content goes here </TabItem>
  <TabItem header="Tab Three"> Tab 3 content goes here </TabItem>
</TabView>`,ip=`import { TabView, TabItem } from "@/Framework";

const tabActive = ref(0);
`,cp=S({__name:"Tabs",setup(o){const e=C(0);return(t,a)=>(f(),w("div",sp,[u("div",np,[m(G,{title:"Tabs"},{example:y(()=>[u("div",lp,"Active tab is index "+L(e.value),1),m(l(je),{onTab:a[0]||(a[0]=s=>e.value=s.index)},{default:y(()=>[m(l(ne),{header:"Tab One"},{default:y(()=>[U(" Tab 1 content goes here ")]),_:1}),m(l(ne),{header:"Tab Two"},{default:y(()=>[U(" Tab 2 content goes here ")]),_:1}),m(l(ne),{header:"Tab Three"},{default:y(()=>[U(" Tab 3 content goes here ")]),_:1})]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:rp}),m(l(F),{lang:"typescript",code:ip})]),_:1})])]))}});const up=A(cp,[["__scopeId","data-v-06c4a326"]]),os=o=>(X("data-v-2ccadc32"),o=o(),ee(),o),dp={class:"tooltip"},pp={class:"dashboard"},_p=os(()=>u("div",null,"Hover over me!",-1)),mp=os(()=>u("div",null,"Tooltip content goes here",-1)),vp=`<Tooltip>
  <template #item>
    <div>Hover over me!</div>
  </template>

  <div>Tooltip content goes here</div>
</Tooltip>`,hp=S({__name:"Tooltip",setup(o){return(e,t)=>(f(),w("div",dp,[u("div",pp,[m(G,{title:"Tooltip"},{example:y(()=>[m(l(De),null,{item:y(()=>[_p]),default:y(()=>[mp]),_:1})]),snippets:y(()=>[m(l(F),{lang:"xml",code:vp})]),_:1})])]))}});const fp=A(hp,[["__scopeId","data-v-2ccadc32"]]),gp={titleRoute:"/cookbook",routes:[{path:"/cookbook",redirect:{name:"button"}},{path:"/cookbook/colors",name:"colors",component:Cc},{path:"/cookbook/dashboard",name:"dashboard",component:Mc},{path:"/cookbook/socket",name:"socket",component:Rc},{path:"/cookbook/async-value",name:"async-value",component:Kc},{path:"/cookbook/breadcrumb",name:"breadcrumb",component:ou},{path:"/cookbook/button",name:"button",component:fu},{path:"/cookbook/toggle-button",name:"toggle-button",component:wu},{path:"/cookbook/card",name:"card",component:Du},{path:"/cookbook/graph-card",name:"graph-card",component:Uu},{path:"/cookbook/data-table",name:"data-table",component:td},{path:"/cookbook/input-text",name:"input-text",component:hd},{path:"/cookbook/input-number",name:"input-number",component:$d},{path:"/cookbook/modal",name:"modal",component:Pd},{path:"/cookbook/pagination",name:"pagination",component:zd},{path:"/cookbook/select",name:"select",component:Nd},{path:"/cookbook/slider",name:"slider",component:Zd},{path:"/cookbook/spinner",name:"spinner",component:op},{path:"/cookbook/tabs",name:"tabs",component:up},{path:"/cookbook/tooltip",name:"tooltip",component:fp}],menuItems:[{to:"/cookbook/colors",label:"Colors"},{to:"/cookbook/dashboard",label:"Dashboard"},{to:"/cookbook/socket",label:"Socket.IO"},{label:"Framework",children:[{to:"/cookbook/async-value",label:"AsyncValue"},{to:"/cookbook/breadcrumb",label:"Breadcrumb"},{to:"/cookbook/button",label:"Button"},{to:"/cookbook/toggle-button",label:"ButtonToggle"},{to:"/cookbook/card",label:"Card"},{to:"/cookbook/graph-card",label:"CardGraph"},{to:"/cookbook/data-table",label:"DataTable"},{to:"/cookbook/input-text",label:"InputText"},{to:"/cookbook/input-number",label:"InputNumber"},{to:"/cookbook/modal",label:"Modal"},{to:"/cookbook/pagination",label:"Pagination"},{to:"/cookbook/select",label:"Select"},{to:"/cookbook/slider",label:"Slider"},{to:"/cookbook/spinner",label:"Spinner"},{to:"/cookbook/tabs",label:"Tabs"},{to:"/cookbook/tooltip",label:"Tooltip"}]}]};function H(){return tl}class bp extends ye{async getPrice(e){const t=`ethereum:${e}`;return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins[t])}async getPrices(e){const t=e.map(a=>`ethereum:${a}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins)}async getData(e){return this.fetch(`https://api.llama.fi/updatedProtocol/${e}`)}}const Le="https://api-py.llama.airforce/curve/v1";let lt=class extends ye{async getLiquidityTop(){return this.fetch(`${Le}/protocol/liquidity/top`)}async getTradesLarge(){return this.fetch(`${Le}/protocol/size/trades`)}async getTvlGainers(){return this.fetch(`${Le}/protocol/tvl/gainers`)}async getTvlLosers(){return this.fetch(`${Le}/protocol/tvl/losers`)}async getTvlBreakdownType(){return this.fetch(`${Le}/protocol/tvl/type_breakdown`)}async getTvlBreakdownChain(){return this.fetch(`${Le}/protocol/tvl/chain_breakdown`)}async getVolumeBreakdownType(){return this.fetch(`${Le}/protocol/volume/type_breakdown`)}async getVolumeBreakdownChain(){return this.fetch(`${Le}/protocol/volume/chain_breakdown`)}};const yp={class:"kpis"},$p=S({__name:"KPIs",setup(o){const e=new bp(H()),t=new lt(H()),a=C(null),s=C(null),n=C(null),c=C(null);return q(async()=>{const _=t.getTvlBreakdownType(),r=t.getVolumeBreakdownType();try{s.value=await e.getData("curve-finance").then(p=>p.mcap),a.value=await e.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(p=>p.price)}catch{[a.value,s.value]=[0,0]}try{n.value=await _.then(p=>p.tvl_breakdown_type.reduce((d,g)=>d+g.tvl,0))}catch{n.value=0}try{c.value=await r.then(p=>p.volume_breakdown_type.reduce((d,g)=>d+g.volumeUSD,0))}catch{c.value=0}}),(_,r)=>(f(),w("div",yp,[m(l(Ie),{label:"CRV price","has-value":!!a.value},{default:y(()=>[m(l(O),{value:a.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(l(Ie),{label:"CRV market cap","has-value":!!s.value},{default:y(()=>[m(l(O),{value:s.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(l(Ie),{label:"Total Value Locked","has-value":!!n.value},{default:y(()=>[m(l(O),{value:n.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(l(Ie),{label:"7-day Volume","has-value":!!c.value},{default:y(()=>[m(l(O),{value:c.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])]))}});const wp=A($p,[["__scopeId","data-v-ed50a49b"]]),Cp=S({__name:"ChartChainType",setup(o){const e=new lt(H()),t=N(),a=C(!0),s=C([]),n=x(()=>{const r=E(t.theme),p=le(t.theme);return de({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=c.value[d.seriesIndex].name,h=d.series[d.seriesIndex][d.dataPointIndex];return[`<div><b>${g}</b>:</div><div>${_(h[0])}</div>`].join("")}}})}),c=x(()=>[...s.value.map(r=>({name:r.chain,data:[r.tvl,r.tvl]}))]);q(async()=>{a.value=!0,s.value=await e.getTvlBreakdownChain().then(r=>r.tvl_breakdown_chain.sort((p,d)=>d.tvl-p.tvl)),a.value=!1});const _=r=>`$${j(Math.abs(r),1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(ve),{class:"chart",title:"TVL & Volume per Chain",loading:a.value,options:n.value,series:c.value},null,8,["loading","options","series"]))}});const kp=A(Cp,[["__scopeId","data-v-6a3b980c"]]),Sp=S({__name:"ChartLiquidityTop",setup(o){const e=new lt(H()),t=N(),a=C(!0),s=C([]),n=x(()=>{const d=E(t.theme),g=le(t.theme);return de({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:r}},yaxis:{labels:{formatter:p}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{var k;const v=c.value[h.dataPointIndex],i=h.series[0][h.dataPointIndex],b=(k=s.value.find(I=>I.name===v))==null?void 0:k.chain;return`
            <div><b>${v}</b>:</div>
            <div>${r(i)}</div>
            <div>${b}<div>`}}})}),c=x(()=>s.value.map(d=>d.name)),_=x(()=>[{data:s.value.map(d=>d.liq_use)}]);q(async()=>{a.value=!0,s.value=await e.getLiquidityTop().then(d=>d.liquidity_use.sort((g,h)=>h.liq_use-g.liq_use)),a.value=!1});const r=d=>`${j(Math.abs(d),2,"dollar")}`,p=d=>d.toString().substring(0,12);return(d,g)=>(f(),P(l(ve),{class:"chart",title:"Liquidity Usage",loading:a.value,options:n.value,series:_.value},null,8,["loading","options","series"]))}});const xp=A(Sp,[["__scopeId","data-v-812e44f4"]]),Ap=S({__name:"ChartRanking",setup(o){const e=new lt(H()),t=N(),a=C(!0),s=C([]),n=x(()=>{const d=E(t.theme),g=le(t.theme);return de({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},colors:[h=>h.value<0?d.red:d.green],xaxis:{categories:c.value,labels:{formatter:r}},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{var k;const v=c.value[h.dataPointIndex],i=h.series[0][h.dataPointIndex],b=(k=s.value.find(I=>I.name===v))==null?void 0:k.chain;return`
            <div><b>${v}</b>:</div>
            <div>${p(i)}</div>
            <div>${b}<div>`}}})}),c=x(()=>s.value.map(d=>d.name)),_=x(()=>[{data:s.value.map(d=>d.tvl_growth)}]);q(async()=>{a.value=!0;const d=e.getTvlGainers(),g=e.getTvlLosers(),[h,v]=[await d,await g];s.value=[...h.tvl_gainers,...v.tvl_losers].sort((i,b)=>b.tvl_growth-i.tvl_growth),a.value=!1});const r=d=>d.toString().substring(0,12),p=d=>`${j(d,0,"dollar")}${Y(d,"percentage")}`;return(d,g)=>(f(),P(l(ve),{class:"chart",title:"TVL Gainers & Losers",loading:a.value,options:n.value,series:_.value},null,8,["loading","options","series"]))}});const Lp=A(Ap,[["__scopeId","data-v-74cbaec0"]]),Ip=o=>(X("data-v-0be8a20c"),o=o(),ee(),o),Pp=Ip(()=>u("div",null,"Largest Trades",-1)),Tp=["href"],Dp={class:"number"},Mp=S({__name:"TableTrades",setup(o){const e=new lt(H()),t=C(!0),a=C([]);return q(async()=>{t.value=!0,a.value=await e.getTradesLarge().then(s=>s.large_trades.sort((n,c)=>c.value-n.value)).then(s=>s.slice(0,10)),t.value=!1}),(s,n)=>(f(),P(l(be),{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:a.value,columns:["Tx","Name","Value"]},{"header-title":y(()=>[Pp]),row:y(c=>[u("div",{onClick:n[0]||(n[0]=Se(()=>{},["stop"]))},[u("a",{class:"vote-link",href:`https://etherscan.io/tx/${c.item.tx}`,target:"_blank"},L(l(ke)(c.item.tx)),9,Tp)]),u("div",null,L(c.item.name),1),u("div",Dp,[m(l(O),{value:c.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"]))}});const Vp=A(Mp,[["__scopeId","data-v-0be8a20c"]]),zp={class:"home"},Bp={class:"controls-container"},Op={class:"data-1"},Rp={class:"data-2"},Fp=S({__name:"Home",setup(o){const e=C("");return(t,a)=>(f(),w("div",zp,[u("div",Bp,[m(l(pe),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),u("div",Op,[m(wp),m(kp),m(xp)]),u("div",Rp,[m(Vp),m(Lp)])]))}});const Up=A(Fp,[["__scopeId","data-v-c903325c"]]),Je=xe({id:"curvePoolsStore",state:()=>({pools:[],poolsLoading:!1,poolsLoadingError:!1,candles:{},reserves:{},volumes:{}}),actions:{setCandles(o,e){this.candles[o]=e},setReserves(o,e){this.reserves[o]=e},setVolumes(o,e){this.volumes[o]=e}}});function Ep(o,e){const t=o.toLocaleLowerCase(),a=Ce(e.name).toLocaleLowerCase().includes(t),s=e.symbol.toLocaleLowerCase().includes(t),n=t.startsWith("0x")&&e.address.toLocaleLowerCase().includes(t);return a||s||n}const qp={key:0,class:"item"},Wp=["src"],Hp={class:"label"},Np={key:0,class:"description"},Gp={class:"volume"},ss=S({__name:"SearchPool",props:{modelValue:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=Je(),s=C(!1),n=C(t("search-placeholder")),c=x(()=>a.pools),_=(v,i)=>Ep(v,i),r=(v,i)=>p(i)-p(v),p=v=>v.cumulativeVolumeUSD,d=v=>{const i=Ce(v.name);return i.startsWith("Curve.fi ")?i.slice(9):i},g=v=>{s.value=!!v},h=v=>{const i=v;s.value=!1,e("select",i)};return M([()=>a.poolsLoading,()=>a.poolsLoadingError],([v,i])=>{i?n.value=t("search-error"):v?n.value=t("search-loading"):n.value=t("search-placeholder")}),(v,i)=>(f(),P(l(pe),{class:"select-pool","model-value":v.modelValue,placeholder:n.value,search:!0,"auto-complete":s.value,options:c.value,filter:_,sort:r,"onUpdate:modelValue":i[0]||(i[0]=b=>e("update:modelValue",b)),onInput:g,onSelect:h},{item:y(b=>[b.item?(f(),w("div",qp,[u("img",{src:l(Nt)(b.item.name,!1)},null,8,Wp),u("div",Hp,L(d(b.item)),1),b.idx===0?(f(),w("div",Np,L(l(t)("search-description")),1)):V("",!0),u("div",Gp,[m(l(O),{value:p(b.item),precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])},"search-description":t=>{const{normalize:a}=t;return a(["Cumulative Volume"])}}})}typeof ba=="function"&&ba(ss);const Qp=A(ss,[["__scopeId","data-v-0c13035c"]]),ns=S({__name:"Balances",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Je(),a=N(),s=x(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),n=x(()=>{var h,v,i;return o.poolSelected?(i=(v=(h=t.reserves[o.poolSelected.address])==null?void 0:h[0])==null?void 0:v.reservesUSD)==null?void 0:i.length:0}),c=x(()=>{const h=E(a.theme),v=le(a.theme);return de({colors:h,colorsArray:v},{chart:{id:"balances",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:[...Array(n.value).keys()].map(i=>p(i)),dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>[...Array(n.value).keys()].map(k=>i.w.globals.initialSeries[k].data[i.dataPointIndex].y).map((k,I)=>`<div><b>${r(I).substring(0,10)}</b>:</div><div>${g(k)}</div>`).join("")}})}),_=x(()=>[...Array(n.value).keys()].map(h=>d(h))),r=h=>{var v,i;return((i=(v=o.poolSelected)==null?void 0:v.coins)==null?void 0:i[h])??"0x?"},p=h=>({seriesName:r(h),tickAmount:4,labels:{formatter:v=>g(v)},min:0,max:100,show:h===0}),d=h=>({name:r(h),type:"line",data:s.value.map(v=>({x:v.timestamp*1e3,y:v.reservesUSD[h]/v.reservesUSD.reduce((i,b)=>i+b,0)*100}))}),g=h=>`${j(h,2,"percentage")}${Y(h,"percentage")}`;return(h,v)=>(f(),P(l(ve),{class:"balances",title:l(e)("title"),options:c.value,series:_.value},null,8,["title","options","series"]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof ya=="function"&&ya(ns);const Yp=A(ns,[["__scopeId","data-v-4c361370"]]),ls=S({__name:"Reserves",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Je(),a=N(),s=x(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),n=x(()=>{const r=E(a.theme),p=le(a.theme);return de({colors:r,colorsArray:p},{chart:{id:"reserves",type:"area",animations:{enabled:!1}},colors:p,xaxis:{type:"datetime"},yaxis:{labels:{formatter:d=>_(d)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=d.w.globals.initialSeries[d.seriesIndex].data[d.dataPointIndex].y;return`<div><b>${e("tvl")}</b>:</div><div>${_(g)}</div>`}}})}),c=x(()=>[{name:"reserves",data:s.value.map(r=>({x:r.timestamp*1e3,y:r.reservesUSD.reduce((p,d)=>p+d,0)}))}]),_=r=>`$${j(r,1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(ve),{class:"reserves",title:l(e)("title"),options:n.value,series:c.value},null,8,["title","options","series"]))}});function $a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Reserves"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof $a=="function"&&$a(ls);const jp=A(ls,[["__scopeId","data-v-d65b80df"]]),Jp={class:"buttons"},rs=S({__name:"Candles",props:{poolSelected:{}},setup(o){const{t:e}=B();let t,a,s,n=1,c=0;const _=Je(),r=N(),p=C(null),d=C(!1);q(()=>{if(!p.value)return;const i=E(r.theme);t=ue(p.value,{width:p.value.clientWidth,height:p.value.clientHeight,layout:{background:{type:Et.Solid,color:i.backgroundColor},textColor:i.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:i.level2,style:qt.Dashed}},crosshair:{mode:Do.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:b=>v(b)}}),a=t.addCandlestickSeries({upColor:i.green,borderUpColor:i.green,wickUpColor:i.green,downColor:i.red,borderDownColor:i.red,wickDownColor:i.red,priceFormat:{type:"price",precision:6,minMove:1e-6}}),s=t.addHistogramSeries({color:i.blue,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left"})});const g=x(()=>{var b;const i=(b=o.poolSelected)==null?void 0:b.address;return i?_.candles[i]??[]:[]});M(g,i=>{h(i,d.value)}),M(d,i=>{h(g.value,i)});const h=(i,b)=>{if(!t||!a||!s||!o.poolSelected)return;let $=o.poolSelected.coins[0].toLocaleLowerCase()===el?-1:1;$=$*(b?-1:1);const k=z.chain(i).map(T=>({time:T.timestamp,open:Math.pow(T.open,$),high:Math.pow(T.high,$),low:Math.pow(T.low,$),close:Math.pow(T.close,$)})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value(),I=E(r.theme),D=z.chain(i).map(T=>({time:T.timestamp,value:T.token0TotalAmount,color:I.blue})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value();k.length>0&&D.length>0&&(a.setData(k),s.setData(D),t.timeScale().fitContent(),c=Math.min(...k.map(T=>T.low)),n=Math.max(...k.map(T=>T.high)))},v=i=>{const b=n-c,$=b>1?b-Math.floor(b):b,k=-Math.floor(Math.log10($)+1)+2;return`${j(i,k,"dollar")}${Y(i,"dollar")}`};return(i,b)=>(f(),P(l(Q),{class:"candles",title:l(e)("title")},{default:y(()=>[u("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512),u("div",Jp,[m(l(Te),{modelValue:d.value,"onUpdate:modelValue":b[0]||(b[0]=$=>d.value=$)},{default:y(()=>[U(L(l(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof wa=="function"&&wa(rs);const Kp=A(rs,[["__scopeId","data-v-48222cbd"]]),is=S({__name:"Volume",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Je(),a=N(),s=x(()=>o.poolSelected?t.volumes[o.poolSelected.address]??[]:[]),n=x(()=>{const r=E(a.theme),p=le(a.theme);return de({colors:r,colorsArray:p},{chart:{id:"volumes",type:"area",animations:{enabled:!1}},colors:p,xaxis:{type:"datetime"},yaxis:{seriesName:"volume",tickAmount:4,labels:{formatter:d=>_(d)},min:Math.min(...s.value.map(d=>d.volumeUSD)),max:Math.max(...s.value.map(d=>d.volumeUSD))},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=d.w.globals.initialSeries[0].data[d.dataPointIndex].y;return[`<div><b>${e("volume")}</b>:</div><div>${_(g)}</div>`].join("")}}})}),c=x(()=>[{name:e("volume"),data:s.value.map(r=>({x:r.timestamp*1e3,y:r.volumeUSD}))}]),_=r=>`$${j(Math.abs(r),1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(ve),{class:"volumes",title:l(e)("volume"),options:n.value,series:c.value},null,8,["title","options","series"]))}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{volume:t=>{const{normalize:a}=t;return a(["Volume"])}}})}typeof Ca=="function"&&Ca(is);const Zp=A(is,[["__scopeId","data-v-edb08b4b"]]),Xp="https://api-py.llama.airforce/curve/v1";let e_=class extends ye{async get(){return this.fetch(`${Xp}/pools/mainnet/all`)}};const t_="https://api.thegraph.com/subgraphs/name/convex-community/volume-mainnet";class a_ extends ye{async get(e){let t=0;return zo(async(s,n)=>{const c=`{
        candles(
          where: {
            pool: "${e.address}"
            period: 3600
            timestamp_gte: ${t}
          }
          first: ${n}
        ) {
          timestamp
          open
          close
          low
          high
          token0TotalAmount
        }
      }`,_=await this.fetch(t_,{query:c}).then(r=>r.data.candles.map(p=>({timestamp:parseInt(p.timestamp,10),open:parseFloat(p.open),high:parseFloat(p.high),low:parseFloat(p.low),close:parseFloat(p.close),token0TotalAmount:parseFloat(p.token0TotalAmount)})));return t=Math.max(..._.map(r=>r.timestamp)),_})}}const o_="https://api-py.llama.airforce/curve/v1";class s_ extends ye{async get(e){return this.fetch(`${o_}/pools/mainnet/reserves/${e.address}`)}}const n_="https://api-py.llama.airforce/curve/v1";let l_=class extends ye{async get(e){return this.fetch(`${n_}/pools/mainnet/volume/${e.address}`)}};async function r_(o,e){if(o.pools.length>0||o.poolsLoading)return;o.poolsLoading=!0;const{pools:t}=await e.get();o.pools=t,o.poolsLoading=!1}async function i_(o,e,t){if(t&&!o.reserves[t.name]){o.poolsLoading=!0;try{const{reserves:a}=await e.get(t);o.setReserves(t.address,a)}finally{o.poolsLoading=!1}}}async function c_(o,e,t){if(t&&!o.candles[t.name]){o.poolsLoading=!0;try{const a=await e.get(t);a&&o.setCandles(t.address,a)}finally{o.poolsLoading=!1}}}async function u_(o,e,t){if(t&&!o.volumes[t.name]){o.poolsLoading=!0;try{const{volume:a}=await e.get(t);o.setVolumes(t.address,a)}finally{o.poolsLoading=!1}}}const d_={class:"pools"},p_=S({__name:"Pools",setup(o){const e=new e_(H()),t=new s_(H()),a=new a_(H()),s=new l_(H()),n=Je(),c=C(""),_=C(null);q(async()=>{await r_(n,e)});const r=p=>{const d=p;c.value=Ce(d.name),_.value=d,c_(n,a,d),i_(n,t,d),u_(n,s,d)};return(p,d)=>(f(),w("div",d_,[m(Qp,{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=g=>c.value=g),onSelect:r},null,8,["modelValue"]),u("div",{class:R(["data",{loading:l(n).poolsLoading}])},[_.value?(f(),P(Kp,{key:0,class:"candles","pool-selected":_.value},null,8,["pool-selected"])):V("",!0),_.value?(f(),P(jp,{key:1,class:"reserves","pool-selected":_.value},null,8,["pool-selected"])):V("",!0),_.value?(f(),P(Zp,{key:2,class:"volumes","pool-selected":_.value},null,8,["pool-selected"])):V("",!0),_.value?(f(),P(Yp,{key:3,class:"balances","pool-selected":_.value},null,8,["pool-selected"])):V("",!0),l(n).poolsLoading?(f(),P(l(nt),{key:4,class:"spinner"})):V("",!0)],2)]))}});const __=A(p_,[["__scopeId","data-v-24a1f43e"]]),Ue=xe({id:"curveStore",state:()=>({gauges:[],emissions:{},fees:{},breakdown:[],chainRevenues:[],selectedChain:"mainnet",topPools:{}}),actions:{setEmissions(o,e){this.emissions[o]=e},setFees(o,e){this.fees[o]=e},setTopPools(o,e){this.topPools[o]=e}}});function qe(o){const e=o.reduce((t,{timeStamp:a,value:s})=>t.set(a,(t.get(a)??0)+s),new Map);return Array.from(e).map(t=>({timeStamp:t[0],value:t[1]}))}const cs=S({__name:"GraphEmissions",props:{gaugeSelected:{}},setup(o){const{t:e}=B(),t=Ue(),a=N(),s=x(()=>{let i=e("title");return o.gaugeSelected&&(i+=` - ${Ce(o.gaugeSelected.name)}`),i}),n=x(()=>o.gaugeSelected?t.emissions[o.gaugeSelected.name]??[]:[]),c=x(()=>o.gaugeSelected?t.fees[o.gaugeSelected.name]??[]:[]),_=x(()=>Math.min(...qe(n.value).map(i=>i.value).concat(qe(c.value).map(i=>i.value)))),r=x(()=>Math.max(...qe(n.value).map(i=>i.value).concat(qe(c.value).map(i=>i.value)).map(i=>Math.abs(i)))),p=x(()=>{const i=E(a.theme),b=le(a.theme);return de({colors:i,colorsArray:b},{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:$=>g($)},min:_,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:$=>h($)},show:!1,min:_,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:$=>{const k=$.w.globals.initialSeries[0].data[$.dataPointIndex].y,I=$.w.globals.initialSeries[1].data[$.dataPointIndex]?$.w.globals.initialSeries[1].data[$.dataPointIndex].y:0;return[`<div><b>${e("emissions")}</b>:</div><div>${g(k)}</div>`,`<div><b>${e("fees")}</b>:</div><div>${h(I)}</div>`,`<div><b>${e("ratio")}</b>:</div><div>${v(I/k)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter($){return $}}})}),d=x(()=>{const i=qe(n.value),b=qe(c.value),$=Object.assign({},...b.map(k=>({[k.timeStamp]:k.value})));return[{name:e("emissions"),type:"line",data:i.map(k=>({x:k.timeStamp*1e3,y:k.value}))},{name:e("fees"),type:"line",data:i.map(k=>({x:k.timeStamp*1e3,y:$[k.timeStamp]?Math.abs($[k.timeStamp]):0}))}]}),g=i=>`$${j(Math.abs(i),1,"dollar")}${Y(i,"dollar")}`,h=i=>`$${j(i,1,"dollar")}${Y(i,"dollar")}`,v=i=>`${Me(i,2)}`;return(i,b)=>(f(),P(l(ve),{class:"emissions",title:s.value,options:p.value,series:d.value},null,8,["title","options","series"]))}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Emissions & Revenues"])},emissions:t=>{const{normalize:a}=t;return a(["Emissions"])},fees:t=>{const{normalize:a}=t;return a(["Fees"])},ratio:t=>{const{normalize:a}=t;return a(["Ratio"])}}})}typeof ka=="function"&&ka(cs);const m_=A(cs,[["__scopeId","data-v-09c5de16"]]),v_={class:"logo"},h_=["src"],f_={class:"number"},g_={key:0,class:"graphs"},b_={key:1},us=S({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(o){const{t:e}=B(),t=Ue(),a=C("tvl"),s=C(fe.Descending),n=x(()=>z.orderBy(t.gauges,_=>{switch(a.value){case"name":return Ce(_.name);case"tvl":return _.tvl;default:return _.tvl}},s.value===fe.Descending?"desc":"asc")),c=(_,r)=>{a.value=_,s.value=r};return(_,r)=>(f(),P(l(be),{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:n.value,columns:["",l(e)("name"),l(e)("tvl")],sorting:!0,"sorting-columns":["","name","tvl"],"sorting-columns-enabled":["name","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:_.expanded,onSortColumn:c},{"header-title":y(()=>[u("div",null,L(l(e)("title")),1)]),row:y(p=>[u("div",v_,[u("img",{class:"logo-img",src:l(Nt)(p.item.name,!1)},null,8,h_)]),u("div",null,L(l(Ce)(p.item.name)),1),u("div",f_,[m(l(O),{value:p.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":y(p=>[_.expanded.includes(p.item)?(f(),w("div",g_,[m(m_,{class:"fees-and-emissions","gauge-selected":p.item},null,8,["gauge-selected"])])):(f(),w("span",b_))]),_:1},8,["rows","columns","expanded"]))}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{name:t=>{const{normalize:a}=t;return a(["Name"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])},title:t=>{const{normalize:a}=t;return a(["Curve Pools"])}}})}typeof Sa=="function"&&Sa(us);const y_=A(us,[["__scopeId","data-v-50570fdd"]]);class $_ extends ye{async get(){return this.fetch(`${this.host}/curvepool`)}}class w_ extends ye{async get(e){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:e.name})}}const C_={class:"gauges"},k_=S({__name:"Gauges",setup(o){let e=!1;const t=new $_(H()),a=new w_(H()),s=Ue(),n=Re(),c=Ye(),_=C([]);q(async()=>{e=!0;const h=await mt(t.get());if(h){const v=h.pools;if(v.sort((b,$)=>$.tvl-b.tvl),s.gauges=v,!e)return;const i=n.params.gauge;i&&typeof i=="string"&&p(i)}}),Ln(()=>{e=!1});const r=async h=>{if(!h||s.fees[h.name]&&s.emissions[h.name])return;const v=await mt(a.get(h),500);if(v){const i=v.data.feeSnapshots,b=v.data.emissionSnapshots;s.setFees(h.name,i),s.setEmissions(h.name,b)}},p=h=>{const v=Oo(h),i=s.gauges.find(b=>b.name===v);i&&d(i)},d=h=>_.value.includes(h)?(_.value=_.value.filter(v=>v!==h),!1):(r(h),_.value.push(h),!0),g=async h=>{d(h)&&await c.push({name:"curvegauges",params:{gauge:Ce(h.name)}})};return(h,v)=>(f(),w("div",C_,[m(y_,{class:"datatable-gauges",expanded:_.value,onSelected:g},null,8,["expanded"])]))}});const S_=A(k_,[["__scopeId","data-v-eb8d2ea5"]]),x_="https://api-py.llama.airforce/curve/v1/protocol/revenue/historical/breakdown?from=1686750777",A_="https://api-py.llama.airforce/curve/v1/protocol/revenue/chains";class ds extends ye{async getBreakdown(e){return this.fetch(x_,void 0,e).then(t=>t.revenue)}async getByChain(e){return this.fetch(A_,void 0,e).then(t=>t.revenue)}async getTopPools(e,t=10){const a=`https://api-py.llama.airforce/curve/v1/protocol/revenue/${e}/toppools/${t}`;return this.fetch(a).then(s=>s.revenue)}}const L_=S({__name:"GraphRevenueBreakdown",setup(o){const e=Ue(),t=N(),a=x(()=>e.breakdown??[]),s=x(()=>{const g=E(t.theme),h=le(t.theme);return de({colors:g,colorsArray:h},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:p,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:d},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),n=x(()=>z.chain(a.value).groupBy(g=>g.week).map(g=>({week:g[0].week,numLabels:g.length})).orderBy(g=>g.week,"asc").dropWhile(g=>g.numLabels<3).map(g=>g.week).value()),c=x(()=>z.chain(n.value).map(g=>new Date(g*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),_=x(()=>z.chain(a.value).groupBy(g=>g.label).map((g,h)=>({name:h,data:z.chain(n.value).map(v=>({week:v,breakdown:g.find(i=>i.week===v)})).map(v=>{var i;return{x:new Date(v.week*1e3).toLocaleDateString(),y:((i=v.breakdown)==null?void 0:i.total_fees)??0}}).value()})).value()),r=x(()=>{let g=0;for(let h=0;h<n.value.length;h++)g=Math.max(g,_.value.map(v=>v.data[h].y).reduce((v,i)=>v+i,0));return g*1.1}),p=g=>g,d=g=>`$${j(g,0,"dollar")}${Y(g,"dollar")}`;return(g,h)=>(f(),P(l(ve),{class:"graph",options:s.value,series:_.value},null,8,["options","series"]))}});const I_=A(L_,[["__scopeId","data-v-3f1f7e60"]]),P_=S({__name:"GraphRevenueChain",setup(o){const e=Ue(),t=N(),a=x(()=>z.orderBy(e.chainRevenues??[],_=>_.totalDailyFeesUSD,"asc")),s=x(()=>{const _=E(t.theme),r=le(t.theme);return de({colors:_,colorsArray:r},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const d=p.w.globals.labels[p.seriesIndex],g=p.series[p.seriesIndex][0];return[`<div><b>${d}</b>:</div><div>${c(g)}</div>`].join("")}},labels:a.value.map(p=>p.chain)})}),n=x(()=>a.value.map(_=>_.totalDailyFeesUSD)),c=_=>`$${j(Math.abs(_),1,"dollar")}${Y(_,"dollar")}`;return(_,r)=>(f(),P(l(ve),{class:"graph",options:s.value,series:n.value},null,8,["options","series"]))}});const T_=A(P_,[["__scopeId","data-v-88256624"]]);function vt(o){return o==="all"?"":`icons/chains/${(t=>{switch(t){case"mainnet":return"mainnet.svg";case"avalanche":return"avalanche.svg";case"arbitrum":return"arbitrum.png";case"fantom":return"fantom.svg";case"xdai":return"xdai.png";case"harmony":return"harmony.svg";case"moonbeam":return"moonbeam.png";case"matic":return"matic.svg";case"optimism":return"optimism.png";default:return""}})(o)}`}const D_={key:0,class:"item"},M_=["src"],V_={key:1,class:"empty"},z_={class:"label"},B_=S({__name:"SelectChain",props:{chain:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(o,{emit:e}){const t=C(!1),a=[...o.all?[{chain:"all",label:"All"}]:[],{chain:"mainnet",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"}],s=x(()=>a.find(r=>r.chain===o.chain)??null);q(()=>{_(a[0])});const n=r=>r.label,c=()=>{t.value=!t.value},_=r=>{const{chain:p}=r;e("select-chain",p)};return(r,p)=>(f(),P(l(Oe),{class:"select",options:a,selected:s.value,open:t.value,onOpen:c,onClose:p[0]||(p[0]=d=>t.value=!1),onInput:_},{item:y(d=>[d.item?(f(),w("div",D_,[l(vt)(d.item.chain)?(f(),w("img",{key:0,src:l(vt)(d.item.chain)},null,8,M_)):(f(),w("div",V_)),u("div",z_,L(n(d.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const ps=A(B_,[["__scopeId","data-v-7d200270"]]),O_=S({__name:"GraphRevenueTopPools",setup(o){const e=new ds(H()),t=Ue(),a=N(),s=C(!1),n=x(()=>t.selectedChain),c=x(()=>n.value?t.topPools[n.value]??[]:[]),_=x(()=>{const h=E(a.theme),v=le(a.theme);return de({colors:h,colorsArray:v},{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value.map(i=>i.name),labels:{formatter:p}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:p,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}})});q(()=>{g("mainnet")});const r=x(()=>[{data:c.value.map(h=>h.totalDailyFeesUSD)}]),p=h=>`$${j(Math.abs(h),1,"dollar")}${Y(h,"dollar")}`,d=async h=>{if(h&&!t.topPools[h]){s.value=!0;try{const v=await mt(e.getTopPools(h),500);v&&t.setTopPools(h,v)}finally{s.value=!1}}},g=h=>{h!=="all"&&(t.selectedChain=h,d(h))};return(h,v)=>(f(),P(l(ve),{class:"graph",options:_.value,series:r.value,loading:s.value},{default:y(()=>[u("div",{class:R(["selector",{loading:s.value}])},[m(ps,{chain:l(t).selectedChain,onSelectChain:g},null,8,["chain"])],2)]),_:1},8,["options","series","loading"]))}});const R_=A(O_,[["__scopeId","data-v-f8dfa23c"]]),F_={class:"revenue-charts"},_s=S({__name:"Dashboard",setup(o){const e=new ds(H()),{t}=B(),a=Ue(),s=C(!1),n=C(!1),c=C(!1),_=new AbortController;return In(()=>{a.chainRevenues.length>0||(s.value=!0,n.value=!0,c.value=!0,e.getByChain(_.signal).then(r=>{r&&(a.chainRevenues=r,s.value=!1)}),e.getBreakdown(_.signal).then(r=>{r&&(a.breakdown=r,c.value=!1)}))}),Pn(()=>{_.abort()}),(r,p)=>(f(),w("div",F_,[m(T_,{class:"chain-revenues",title:l(t)("revenue-charts"),loading:s.value},null,8,["title","loading"]),m(R_,{class:"chain-top-pools",title:l(t)("chain-top-pools")},null,8,["title"]),m(I_,{class:"breakdown",title:l(t)("breakdown"),loading:c.value},null,8,["title","loading"])]))}});function xa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"revenue-charts":t=>{const{normalize:a}=t;return a(["Total revenue by chain"])},"chain-top-pools":t=>{const{normalize:a}=t;return a(["Top 10 pools by revenue (last 7 days)"])},breakdown:t=>{const{normalize:a}=t;return a(["Revenue breakdown by source"])}}})}typeof xa=="function"&&xa(_s);const U_=A(_s,[["__scopeId","data-v-7205e1b5"]]),E_="https://api-py.llama.airforce/curve/v1";class q_ extends ye{async getCushions(){return this.fetch(`${E_}/protocol/couch/cushions`)}}const ea=o=>(X("data-v-1897e0e1"),o=o(),ee(),o),W_={class:"chain"},H_=["src"],N_={class:"label"},G_={class:"number"},Q_=ea(()=>u("div",null,null,-1)),Y_=ea(()=>u("div",null,null,-1)),j_=ea(()=>u("div",null,null,-1)),J_={class:"number"},ms=S({__name:"TableCushions",setup(o){const{t:e}=B(),t=new q_(H()),a=C(!0),s=C([]),n=C(""),c=C("all"),_=x(()=>z.chain(s.value).filter(r=>r.totalUSD>100).filter(r=>{const p=n.value.toLocaleLowerCase().split(" "),d=h=>p.some(v=>h.toLocaleLowerCase().includes(v)),g=c.value==="all"?!0:c.value===r.chain;return(d(r.pool)||d(r.address)||d(r.chain)||d(r.coins.join(" ")))&&g}).value());return q(async()=>{a.value=!0,s.value=await t.getCushions().then(r=>r.cushions.sort((p,d)=>d.totalUSD-p.totalUSD)),a.value=!1}),(r,p)=>(f(),P(l(be),{class:"datatable-cushions","columns-header":"1fr 12rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:a.value,rows:_.value,columns:["Name","Coins","Chain","Fees ($)"]},{"header-title":y(()=>[u("div",null,L(l(e)("title")),1),m(ps,{class:"chain-select",chain:c.value,all:!0,onSelectChain:p[0]||(p[0]=d=>c.value=d)},null,8,["chain"]),m(l(pe),{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=d=>n.value=d),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(d=>[u("div",null,L(d.item.pool),1),u("div",null,L(d.item.coinNames.join(" / ")),1),u("div",W_,[l(vt)(d.item.chain)?(f(),w("img",{key:0,src:l(vt)(d.item.chain)},null,8,H_)):V("",!0),u("span",N_,L(d.item.chain),1)]),u("div",G_,[m(l(O),{value:d.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[Q_,Y_,j_,u("div",J_,[m(l(O),{value:_.value.reduce((d,g)=>d+g.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows","columns"]))}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Cushions"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Aa=="function"&&Aa(ms);const K_=A(ms,[["__scopeId","data-v-1897e0e1"]]),Z_={class:"cushions"},X_=S({__name:"Cushions",setup(o){return(e,t)=>(f(),w("div",Z_,[m(K_)]))}});const em=A(X_,[["__scopeId","data-v-fc9c8adf"]]),tm={class:"revenue"},am=S({__name:"Revenue",setup(o){const e=Re(),t=Ye(),a=C(0);return q(()=>{const s=e.params.tab;s&&typeof s=="string"&&s==="cushions"&&(a.value=1)}),M(a,async s=>{s===0?await t.push({name:"revenue",params:{tab:""}}):s===1&&await t.push({name:"revenue",params:{tab:"cushions"}})}),(s,n)=>(f(),w("div",tm,[m(l(je),{active:a.value,onTab:n[0]||(n[0]=c=>a.value=c.index)},{default:y(()=>[m(l(ne),{header:"Revenue"},{default:y(()=>[(f(),P(st,null,[a.value===0?(f(),P(U_,{key:0})):V("",!0)],1024))]),_:1}),m(l(ne),{header:"Cushions"},{default:y(()=>[(f(),P(st,null,[a.value===1?(f(),P(em,{key:0})):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const om=A(am,[["__scopeId","data-v-282c427f"]]),vs=xe({id:"curveUsdStore",state:()=>({market:null})}),Z="https://api-py.llama.airforce/curve/v1";class re extends ye{async getMarkets(){return this.fetch(`${Z}/crvusd/markets`)}async getMarketVolume(e){return this.fetch(`${Z}/crvusd/markets/${e}/volume`)}async getMarketLoans(e){return this.fetch(`${Z}/crvusd/markets/${e}/loans`)}async getMarketRates(e){return this.fetch(`${Z}/crvusd/markets/${e}/rate/daily`)}async getMarketUserStates(e,t,a){return this.fetch(`${Z}/crvusd/markets/${e}/users/states?offset=${t}&limit=${a}`)}async getPoolStats(){return this.fetch(`${Z}/crvusd/pools/stats`)}async getPoolPrices(){return this.fetch(`${Z}/crvusd/prices`)}async getCrvUsdPriceHistogram(){return this.fetch(`${Z}/crvusd/prices/hist`)}async getCrvUsdSupply(){return this.fetch(`${Z}/crvusd/supply`)}async getFees(){return this.fetch(`${Z}/crvusd/fees`)}async getFeesBreakdown(){return this.fetch(`${Z}/crvusd/fees/breakdown`)}async getKeepersDebt(){return this.fetch(`${Z}/crvusd/keepers/debt`)}async getKeepersProfit(){return this.fetch(`${Z}/crvusd/keepers/profit`)}async getYield(){return this.fetch(`${Z}/crvusd/yield`)}async getHistoricalSoftLiquidations(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/losses/historical/soft`)}async getHistoricalMedianLoss(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/losses/historical/median`)}async getHistoricalAverageHealth(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/health/historical`)}async getHealthDeciles(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/health`)}async getProportionLosers(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/losses/historical/proportions`)}async getHistoricalLiquidations(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/historical`)}async getTopLiquidators(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/liquidators`)}async getMarketStateHealth(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/state`)}async getMarketAvailableCap(e){return this.fetch(`${Z}/crvusd/markets/${e}/available`)}async getLiquidatorRevenue(e){return this.fetch(`${Z}/crvusd/markets/${e}/liquidations/liquidators/revenue`)}async getHistoricalCollateralRatio(e){return this.fetch(`${Z}/crvusd/markets/${e}/collateral_ratio`)}}const Ke=o=>(X("data-v-05bf74f1"),o=o(),ee(),o),sm={class:"number"},nm={class:"number"},lm={class:"number"},rm={class:"premia"},im={class:"best"},cm=Ke(()=>u("em",null,"Premia",-1)),um={class:"top"},dm={class:"yields"},pm={class:"number"},_m={class:"number"},mm={class:"number"},vm={class:"number"},hm=Ke(()=>u("div",null,null,-1)),fm={class:"number"},gm=Ke(()=>u("div",null,null,-1)),bm=Ke(()=>u("div",null,null,-1)),ym=Ke(()=>u("div",null,null,-1)),$m={class:"number"},wm=Ke(()=>u("div",null,null,-1)),Cm={class:"number"},km={class:"number"},Sm={class:"number"},hs=S({__name:"TableMarkets",setup(o){const{t:e}=B(),t=new re(H()),a=C(!0),s=C([]),n=C(""),c=C([]),_=x(()=>z.chain(c.value).maxBy(g=>g.apy).value()??null),r=x(()=>z.chain(c.value).orderBy(g=>g.apy,"desc").take(5).value()),p=x(()=>z.chain(s.value).filter(g=>{const h=n.value.toLocaleLowerCase().split(" "),v=i=>h.some(b=>i.toLocaleLowerCase().includes(b));return v(g.name)||v(g.address)}).value());q(async()=>{a.value=!0;const{markets:g}=await t.getMarkets(),{pending:h,collected:v}=await t.getFeesBreakdown();c.value=await t.getYield().then(i=>i.yields),s.value=g.map(i=>{const b={fees:{pending:h.find($=>$.market===i.address),collected:v.find($=>$.market===i.address)}};return{...i,...b}}).sort((i,b)=>b.totalCollateral-i.totalCollateral),a.value=!1});const d=g=>g?g.adminBorrowingFees+g.collateralAdminFeesUsd+g.crvUsdAdminFees:0;return(g,h)=>(f(),P(l(be),{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data",loading:a.value,rows:p.value,columns:["Name","Loans","Rate","Change (24h)","Premia","Borrowed","Change (24h)","Collateral","Fees Pending","Fees Collected"]},{"header-title":y(()=>[u("div",null,L(l(e)("title")),1),m(l(pe),{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=v=>n.value=v),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(v=>[u("div",null,L(v.item.name),1),u("div",sm,L(v.item.loans),1),u("div",nm,[m(l(O),{value:v.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),u("div",{class:R(["number delta",{negative:v.item.rateAbsDelta<0}])},[U(L(v.item.rateAbsDelta>0?"+":"")+" ",1),v.item.rateAbsDelta?(f(),P(l(O),{key:0,value:v.item.rateAbsDelta*100,precision:2,"show-unit":!1,type:"percentage"},null,8,["value"])):V("",!0)],2),u("div",lm,[_.value?(f(),P(l(De),{key:0},{item:y(()=>[u("span",{class:R(["number delta",{negative:_.value.apy-v.item.rate*100<0}])},[m(l(O),{value:_.value.apy-v.item.rate*100,precision:2,type:"percentage"},null,8,["value"])],2)]),default:y(()=>[u("div",rm,[u("span",im,[cm,U(" for "),u("strong",null,L(v.item.name),1),U(" is max yield ("),m(l(O),{value:_.value.apy,precision:2,type:"percentage"},null,8,["value"]),U(") from "),u("strong",null,L(_.value.pool),1),U(" farmed on "),u("strong",null,L(_.value.platform),1),U(" minus the borrow rate ("),m(l(O),{value:v.item.rate*100,precision:2,type:"percentage"},null,8,["value"]),U(") ")]),u("div",um,[u("strong",null,"Top "+L(r.value.length)+" yields: ",1),u("div",dm,[(f(!0),w(ae,null,ce(r.value,(i,b)=>(f(),w(ae,{key:b},[u("div",null,L(i.platform),1),u("div",null,L(i.pool.replace("Curve.fi","").replace("Factory Plain Pool: ","")),1),u("div",null,[m(l(O),{value:i.apy,precision:2,type:"percentage"},null,8,["value"])])],64))),128))])])])]),_:2},1024)):V("",!0)]),u("div",pm,[m(l(O),{value:v.item.borrowed,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",{class:R(["number delta",{negative:v.item.borrowedDelta<0}])},[U(L(v.item.borrowedDelta>0?"+":"")+" ",1),v.item.borrowedDelta?(f(),P(l(O),{key:0,value:v.item.borrowedDelta*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)],2),u("div",_m,[m(l(O),{value:v.item.totalCollateral,precision:0,type:"dollar"},null,8,["value"])]),u("div",mm,[m(l(O),{value:d(v.item.fees.pending),precision:0,type:"dollar"},null,8,["value"])]),u("div",vm,[m(l(O),{value:d(v.item.fees.collected),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[hm,u("div",fm,L(p.value.reduce((v,i)=>v+i.loans,0)),1),gm,bm,ym,u("div",$m,[m(l(O),{value:p.value.reduce((v,i)=>v+i.borrowed,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),wm,u("div",Cm,[m(l(O),{value:p.value.reduce((v,i)=>v+i.totalCollateral,0),precision:0,type:"dollar"},null,8,["value"])]),u("div",km,[m(l(O),{value:p.value.reduce((v,i)=>v+d(i.fees.pending),0),precision:0,type:"dollar"},null,8,["value"])]),u("div",Sm,[m(l(O),{value:p.value.reduce((v,i)=>v+d(i.fees.collected),0),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":y(()=>[U("   ")]),_:1},8,["loading","rows","columns"]))}});function La(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Markets"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof La=="function"&&La(hs);const xm=A(hs,[["__scopeId","data-v-05bf74f1"]]),Am=o=>(X("data-v-d205f5c2"),o=o(),ee(),o),Lm={class:"number"},Im={class:"number"},Pm={class:"number"},Tm={class:"number"},Dm=Am(()=>u("div",null,null,-1)),Mm={class:"number"},Vm={class:"number"},zm={class:"number"},Bm={class:"number"},fs=S({__name:"TablePegkeepers",setup(o){const{t:e}=B(),t=new re(H()),a=C(!0),s=C([]),n=C(""),c=x(()=>z.chain(s.value).filter(_=>{const r=n.value.toLocaleLowerCase().split(" "),p=d=>r.some(g=>d.toLocaleLowerCase().includes(g));return p(_.name)||p(_.address)}).value());return q(async()=>{a.value=!0;const _=await t.getPoolStats(),r=await t.getKeepersDebt(),p=await t.getKeepersProfit();s.value=_.stats.map(d=>{const g=r.keepers.find(v=>v.pool===d.address),h=p.profit.find(v=>v.pool===d.address);if(!(!g||!h))return{...d,...g,...h}}).filter(Qn).sort((d,g)=>g.tvl-d.tvl),a.value=!1}),(_,r)=>(f(),P(l(be),{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:a.value,rows:c.value,columns:["Name","Debt","TVL","Volume","Fees"]},{"header-title":y(()=>[u("div",null,L(l(e)("title")),1),m(l(pe),{modelValue:n.value,"onUpdate:modelValue":r[0]||(r[0]=p=>n.value=p),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y(p=>[u("div",null,L(p.item.name),1),u("div",Lm,[m(l(O),{value:p.item.debt,precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Im,[m(l(O),{value:p.item.tvl,precision:0,type:"dollar"},null,8,["value"])]),u("div",Pm,[m(l(O),{value:p.item.volumeUSD,precision:0,type:"dollar"},null,8,["value"])]),u("div",Tm,[m(l(O),{value:p.item.profit,precision:0,type:"dollar"},null,8,["value"])])]),"row-aggregation":y(()=>[Dm,u("div",Mm,[m(l(O),{value:c.value.reduce((p,d)=>p+d.debt,0),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])]),u("div",Vm,[m(l(O),{value:c.value.reduce((p,d)=>p+d.tvl,0),precision:0,type:"dollar"},null,8,["value"])]),u("div",zm,[m(l(O),{value:c.value.reduce((p,d)=>p+d.volumeUSD,0),precision:0,type:"dollar"},null,8,["value"])]),u("div",Bm,[m(l(O),{value:c.value.reduce((p,d)=>p+d.profit,0),precision:0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Pegkeepers"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Ia=="function"&&Ia(fs);const Om=A(fs,[["__scopeId","data-v-d205f5c2"]]),Rm=(o,e)=>{const t=E(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:Et.Solid,color:t.backgroundColor},textColor:t.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:t.level4,style:qt.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function _e(o,e,t){const a=Rm(o,e),s=(n,c)=>{if(typeof c=="object"){z.mergeWith(n,c,s);return}else return n||c};return z.mergeWith(t,a,s)}const Fm={class:"legend"},Um=["onClick"],Em={class:"label"},qm=S({__name:"Legend",props:{items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const t=N(),a=s=>le(t.theme)[s];return(s,n)=>(f(),w("div",Fm,[(f(!0),w(ae,null,ce(s.items,(c,_)=>(f(),w("div",{key:c,class:R(["item",{clickable:s.clickable,disabled:s.disabled.includes(c)}]),onClick:r=>{s.clickable&&e("click",c)}},[u("div",{class:"color",style:me({"background-color":a(_)})},null,4),u("div",Em,L(c),1)],10,Um))),128))]))}});const Ee=A(qm,[["__scopeId","data-v-763aae1d"]]),gs=S({__name:"ChartPoolPrices",setup(o){const{t:e}=B(),t=new re(H());let a,s=[];const n=N(),c=C(null),_=C([{timestamp:0}]),r=C(!1),p=C([]),d=["USDC","USDT","TUSD","USDP"],g=x(()=>Object.keys(_.value[0]).filter(I=>I!=="timestamp"&&I!=="USD"&&d.includes(I)));q(async()=>{c.value&&(a=ue(c.value,h(c.value,n.theme)),r.value=!0,_.value=await t.getPoolPrices().then(I=>I.prices),r.value=!1,i(),b(_.value))}),M(_,I=>{i(),b(I)}),M(p,()=>{i(),b(_.value)}),M(()=>n.theme,I=>{if(c.value){a.applyOptions(h(c.value,I));for(const[D,T]of s.entries())T.applyOptions(v(D,n.theme))}});const h=(I,D)=>_e(I,D,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$}}),v=(I,D)=>{const T=le(D);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,color:T[I],lastValueVisible:!1,priceLineVisible:!1}},i=()=>{if(a){for(const I of s)a.removeSeries(I);s=[];for(let I=0;I<g.value.length;I++){const D=a.addLineSeries(v(I,n.theme));s.push(D)}}},b=I=>{if(!(!a||s.length<0)){for(const[D,T]of g.value.entries()){if(p.value.includes(T)){s[D].setData([]);continue}const W=z.chain(I).map(te=>({time:te.timestamp,value:te[T]})).uniqWith((te,et)=>te.time===et.time).orderBy(te=>te.time,"asc").value();W.length>0&&s[D].setData(W)}a.timeScale().fitContent()}},$=I=>`${j(I,3,"dollar")}${Y(I,"dollar")}`,k=I=>{if(p.value.includes(I)){const D=new Set(p.value);D.delete(I),p.value=Array.from(D)}else p.value=Array.from(new Set([I,...p.value]))};return(I,D)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[m(Ee,{items:g.value,disabled:p.value,clickable:!0,onClick:k},null,8,["items","disabled"]),u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Stablecoin Prices of Pegkeepers"])}}})}typeof Pa=="function"&&Pa(gs);const Wm=A(gs,[["__scopeId","data-v-27ec7fc6"]]),Hm=S({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(o){let e,t,a;const s=N(),n=C(null);q(()=>{n.value&&(e=ue(n.value,c(n.value,s.theme)),t=e.addAreaSeries(_(s.theme)),a=e.addLineSeries(r(s.theme)),p(o.data))}),M(()=>s.theme,g=>{n.value&&(e.applyOptions(c(n.value,g)),t.applyOptions(_(g)),a.applyOptions(r(g)))}),M(()=>o.data,g=>{p(g)});const c=(g,h)=>_e(g,h,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>d(v)}}),_=g=>{const h=E(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:h.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=g=>{const h=E(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,color:h.yellow,lastValueVisible:!1,priceLineVisible:!1}},p=g=>{if(!e||!t)return;const h=z.chain(g).groupBy(i=>i.timestamp).mapValues(i=>({time:i[0].timestamp,value:i.reduce((b,$)=>b+$.totalSupply,0),debt:i[0].totalSupply})).entries().map(i=>i[1]).uniqWith((i,b)=>i.time===b.time).orderBy(i=>i.time,"asc").value(),v=h.map(i=>({time:i.time,value:i.value-i.debt}));h.length>0&&t.setData(h),v.length>0&&a.setData(v),e.timeScale().fitContent()},d=g=>`${j(g,1,"dollar")}${Y(g,"dollar")}`;return(g,h)=>(f(),w("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512))}});const Nm=A(Hm,[["__scopeId","data-v-c5d0e5c8"]]),Gm=S({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(o){const e=N(),t=x(()=>{const r=E(e.theme),p=le(e.theme);return de({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:_},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=x(()=>z.chain(o.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),s=x(()=>z.chain(o.data).groupBy(r=>r.name).map((r,p)=>({name:p,data:z.chain(r).orderBy(d=>d.timestamp,"asc").map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.totalSupply})).value()})).value()),n=x(()=>Math.max(...z.chain(o.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.totalSupply,0)).value())*1.1),c=r=>r,_=r=>`${j(r,1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(bt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Qm=A(Gm,[["__scopeId","data-v-6c28710c"]]),Ym={class:"actions"},jm={class:"chart-types"},bs=S({__name:"ChartCrvUsdSupply",setup(o){const{t:e}=B(),t=new re(H()),a=C("line"),s=C([]),n=C(!1);q(async()=>{n.value=!0,s.value=await t.getCrvUsdSupply().then(_=>_.supply),n.value=!1});const c=_=>{a.value!==_&&(a.value=_)};return(_,r)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:n.value},{actions:y(()=>[u("div",Ym,[a.value==="line"?(f(),P(Ee,{key:0,items:["Supply","Borrowed"]})):V("",!0),u("div",jm,[m(l(Te),{value:"Line","model-value":a.value==="line",onClick:r[0]||(r[0]=p=>c("line"))},null,8,["model-value"]),m(l(Te),{value:"Breakdown","model-value":a.value==="breakdown",onClick:r[1]||(r[1]=p=>c("breakdown"))},null,8,["model-value"])])])]),default:y(()=>[a.value==="line"?(f(),P(Nm,{key:0,data:s.value},null,8,["data"])):(f(),P(Qm,{key:1,data:s.value},null,8,["data"]))]),_:1},8,["title","loading"]))}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["crvUSD Supply"])}}})}typeof Ta=="function"&&Ta(bs);const Jm=A(bs,[["__scopeId","data-v-04648ebd"]]),Km=S({__name:"ChartCrvUsdPriceHistogram",setup(o){const e=new re(H()),t=N(),a=C(!0),s=C({x:[],y:[]}),n=x(()=>{const d=E(t.theme),g=le(t.theme);return de({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:r},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:h=>{const v=c.value[h.dataPointIndex],i=h.series[0][h.dataPointIndex];return[`<div><b>${v}</b>:</div><div>${p(i)}</div>`].join("")}}})}),c=x(()=>s.value.x.map(d=>d.toString())),_=x(()=>[{data:s.value.y}]);q(async()=>{a.value=!0,s.value=await e.getCrvUsdPriceHistogram(),a.value=!1});const r=d=>{const g=d-1;return g<0?`-$${g.toString().substring(2,7)}`:`$${g.toString().substring(1,6)}`},p=d=>{var v,i;const g=((i=(v=_.value[0])==null?void 0:v.data)==null?void 0:i.reduce((b,$)=>b+$,0))??1,h=d/g*100;return`${j(h,0,"dollar")}${Y(h,"percentage")}`};return(d,g)=>(f(),P(l(ve),{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:a.value,options:n.value,series:_.value},null,8,["loading","options","series"]))}});const Zm=A(Km,[["__scopeId","data-v-697d4610"]]),Xm={class:"crvusd"},ev={class:"col"},tv={class:"col"},av=S({__name:"CrvUsd",setup(o){const e=Ye(),t=Xt(),a=vs();q(()=>{t.show=!0,t.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"}]});const s=async n=>{a.market=n,await e.push({name:"crvusdmarket",params:{tab:"",marketAddr:n.address}})};return(n,c)=>(f(),w("div",Xm,[m(xm,{style:{"grid-column":"1 / -1"},onSelected:s}),u("div",ev,[m(Om),m(Wm)]),u("div",tv,[m(Jm),m(Zm,{class:"price"})])]))}});const ov=A(av,[["__scopeId","data-v-760b16fe"]]),ys=S({__name:"ChartMarketVolume",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const n=N(),c=C(null),_=C([]),r=C(!1);q(()=>{c.value&&(a=ue(c.value,p(c.value,n.theme)),s=a.addAreaSeries(d(n.theme)),g(_.value))}),M(()=>o.market,async v=>{r.value=!0,v&&(_.value=await t.getMarketVolume(v.address).then(i=>i.volumes),r.value=!1)},{immediate:!0}),M(()=>n.theme,v=>{c.value&&(a.applyOptions(p(c.value,v)),s.applyOptions(d(v)))}),M(_,v=>{g(v)});const p=(v,i)=>_e(v,i,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:b=>h(b)}}),d=v=>{const i=E(v);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:i.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=v=>{if(!a||!s)return;const i=z.chain(v).map(b=>({time:b.timestamp,value:b.swapVolumeUsd})).uniqWith((b,$)=>b.time===$.time).orderBy(b=>b.time,"asc").value();i.length>0&&s.setData(i),a.timeScale().fitContent()},h=v=>`$${j(v,1,"dollar")}${Y(v,"dollar")}`;return(v,i)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Volume"])}}})}typeof Da=="function"&&Da(ys);const sv=A(ys,[["__scopeId","data-v-dc7cd8e3"]]),$s=S({__name:"ChartMarketLoans",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const n=N(),c=C(null),_=C([]),r=C(!1);q(()=>{c.value&&(a=ue(c.value,p(c.value,n.theme)),s=a.addHistogramSeries(d(n.theme)),g(_.value))}),M(()=>o.market,async v=>{r.value=!0,v&&(_.value=await t.getMarketLoans(v.address).then(i=>i.loans),r.value=!1)},{immediate:!0}),M(()=>n.theme,v=>{c.value&&(a.applyOptions(p(c.value,v)),s.applyOptions(d(v)))}),M(_,v=>{g(v)});const p=(v,i)=>_e(v,i,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:h}}),d=v=>({color:E(v).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}),g=v=>{if(!a||!s)return;const i=z.chain(v).map(b=>({time:b.timestamp,value:b.nLoans})).uniqWith((b,$)=>b.time===$.time).orderBy(b=>b.time,"asc").value();if(i.length>0){s.setData(i);const b=i[0].time,$=i[i.length-1].time;a.timeScale().setVisibleRange({from:b,to:$})}},h=v=>Math.round(v).toString();return(v,i)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Loans"])}}})}typeof Ma=="function"&&Ma($s);const nv=A($s,[["__scopeId","data-v-d1f70c70"]]),lv={class:"actions"},ws=S({__name:"ChartMarketRates",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,n;const c=N(),_=C(null),r=C([]),p=C(!1),d=C(null);q(()=>{_.value&&(a=ue(_.value,g(_.value,c.theme)),s=a.addAreaSeries(h(c.theme)),n=a.addLineSeries(v(c.theme)),i(r.value))}),M(()=>o.market,async k=>{p.value=!0,k&&(r.value=await t.getMarketRates(k.address).then(I=>I.rates),p.value=!1)},{immediate:!0}),M(()=>c.theme,k=>{_.value&&(a.applyOptions(g(_.value,k)),s.applyOptions(h(k)),n.applyOptions(v(k)))}),M(r,k=>{i(k)}),M(d,()=>{i(r.value)});const g=(k,I)=>_e(k,I,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:D=>b(D)}}),h=k=>{const I=E(k);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:I.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=k=>{const I=E(k);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,color:I.yellow,lastValueVisible:!1,priceLineVisible:!1}},i=k=>{if(!a||!s)return;const I=z.chain(k).map(W=>({time:W.timestamp,value:W.rate})).uniqWith((W,te)=>W.time===te.time).orderBy(W=>W.time,"asc").value(),D=$(I.map(W=>W.value),d.value??31),T=z.chain(D).zip(I).map(W=>({time:W[1].time,value:W[0]})).value();if(T.length>0&&n.setData(T),I.length>0){s.setData(I);const W=I[0].time,te=I[I.length-1].time;a.timeScale().setVisibleRange({from:W,to:te})}},b=k=>`${j(k*100,2,"percentage")}${Y(k,"percentage")}`,$=(k,I=7)=>k.map((D,T)=>{const W=Math.max(T-(I-1),0),te=T+1,et=k.slice(W,te);return et.reduce((sa,na)=>sa+na,0)/et.length});return(k,I)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:p.value},{actions:y(()=>[u("div",lv,[m(l(Yt),{modelValue:d.value,"onUpdate:modelValue":I[0]||(I[0]=D=>d.value=D),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Rates"])}}})}typeof Va=="function"&&Va(ws);const rv=A(ws,[["__scopeId","data-v-0d666d77"]]),iv={class:"actions"},Cs=S({__name:"ChartMarketAvailableCap",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,n;const c=N(),_=C(null),r=C([]),p=C(!1);q(()=>{_.value&&(a=ue(_.value,d(_.value,c.theme)),s=a.addAreaSeries(g(c.theme)),n=a.addAreaSeries(h(c.theme)),v(r.value))}),M(()=>o.market,async b=>{p.value=!0,b&&(r.value=await t.getMarketAvailableCap(b.address).then($=>$.available),p.value=!1)},{immediate:!0}),M(()=>c.theme,b=>{_.value&&(a.applyOptions(d(_.value,b)),s.applyOptions(g(b)),n.applyOptions(h(b)))}),M(r,b=>{v(b)});const d=(b,$)=>_e(b,$,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k=>i(k)}}),g=b=>{const $=E(b);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:$.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{const $=E(b);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:$.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=b=>{if(!a||!s)return;const $=z.chain(b).map(I=>({time:I.timestamp,value:I.borrowable})).uniqWith((I,D)=>I.time===D.time).orderBy(I=>I.time,"asc").value();$.length>0&&s.setData($);const k=z.chain(b).map(I=>({time:I.timestamp,value:I.ceiling})).uniqWith((I,D)=>I.time===D.time).orderBy(I=>I.time,"asc").value();k.length>0&&n.setData(k),a.timeScale().fitContent()},i=b=>`$${j(b,1,"dollar")}${Y(b,"dollar")}`;return(b,$)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:p.value},{actions:y(()=>[u("div",iv,[m(Ee,{items:["Borrowable","Debt ceiling"]})])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Borrowable & Debt Ceiling"])}}})}typeof za=="function"&&za(Cs);const cv=A(Cs,[["__scopeId","data-v-6f712b62"]]),uv=S({components:{ChartMarketVolume:sv,ChartMarketRates:rv,ChartMarketLoans:nv,ChartMarketAvailableCap:cv},props:{market:{type:Object,required:!0}}});const dv={class:"market"};function pv(o,e,t,a,s,n){const c=se("ChartMarketRates"),_=se("ChartMarketAvailableCap"),r=se("ChartMarketLoans"),p=se("ChartMarketVolume");return f(),w("div",dv,[m(c,{market:o.market},null,8,["market"]),m(_,{market:o.market},null,8,["market"]),m(r,{market:o.market},null,8,["market"]),m(p,{market:o.market},null,8,["market"])])}const _v=A(uv,[["render",pv],["__scopeId","data-v-8c21249f"]]),Ze=o=>(X("data-v-20202a22"),o=o(),ee(),o),mv={key:0},vv=Ze(()=>u("span",{class:"text"},"Users in soft liquidation: ",-1)),hv=Ze(()=>u("span",{class:"text"},"Median health:",-1)),fv=Ze(()=>u("span",{class:"text"},"Collaterization ratio:",-1)),gv=Ze(()=>u("span",{class:"text"},"Liquidatable positions:",-1)),bv=Ze(()=>u("span",{class:"text"},"Liquidatable positions' debt:",-1)),yv=Ze(()=>u("span",{class:"text"},"Liquidatable assets:",-1)),ks=S({__name:"CardLiquidationOverview",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=x(()=>s.value),s=C(null),n=C(!1);M(()=>o.market,async _=>{n.value=!0,_&&(s.value=await t.getMarketStateHealth(_.address).then(r=>r.health),n.value=!1)},{immediate:!0});const c=_=>`${j(_,1,"dollar")}${Y(_,"dollar")}`;return(_,r)=>(f(),P(l(Q),{title:l(e)("title"),loading:n.value,content:a.value},{default:y(()=>[a.value?(f(),w("div",mv,[u("div",null,[vv,U(" "+L(a.value.softLiqUsers)+" ("+L((a.value.softLiqRatio*100).toFixed(2))+"%)",1)]),u("div",null,[hv,U(" "+L(a.value.medianHealth.toFixed(6)),1)]),u("div",null,[fv,U(" "+L((a.value.collatRatio*100).toFixed(2))+"%",1)]),u("div",null,[gv,U(" "+L(a.value.liqablePositions),1)]),u("div",null,[bv,U(" $"+L(c(a.value.liqableDebt)),1)]),u("div",null,[yv,U(" $"+L(c(a.value.liqableCollatUsd+a.value.liqableStable))+" (C: $"+L(c(a.value.liqableCollatUsd))+", S: $"+L(c(a.value.liqableStable))+")",1)])])):V("",!0)]),_:1},8,["title","loading","content"]))}});function Ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["General Health Metrics"])}}})}typeof Ba=="function"&&Ba(ks);const $v=A(ks,[["__scopeId","data-v-20202a22"]]),wv={class:"actions"},Ss=S({__name:"ChartLiquidationSoftLiquidation",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,n;const c=N(),_=C(null),r=C([]),p=C(!1);q(async()=>{_.value&&(await Fe(),a=ue(_.value,d(_.value,c.theme)),s=a.addAreaSeries(h(c.theme)),n=a.addAreaSeries(g(c.theme)),v(r.value))}),M(()=>o.market,async i=>{p.value=!0,i&&(r.value=await t.getHistoricalSoftLiquidations(i.address).then(b=>b.losses),p.value=!1)},{immediate:!0}),M(()=>c.theme,i=>{_.value&&(a.applyOptions(d(_.value,i)),s.applyOptions(h(i)),n.applyOptions(g(i)))}),M(r,i=>{v(i)});const d=(i,b)=>_e(i,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),g=i=>{const b=E(i);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:oe.WithSteps,lineColor:b.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=i=>{const b=E(i);return{priceFormat:{type:"percent",precision:2,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:b.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=i=>{if(!a||!s)return;const b=z.chain(i).map(k=>({time:k.timestamp,value:k.proportion})).uniqWith((k,I)=>k.time===I.time).orderBy(k=>k.time,"asc").value(),$=z.chain(i).map(k=>({time:k.timestamp,value:k.collateralPrice})).uniqWith((k,I)=>k.time===I.time).orderBy(k=>k.time,"asc").value();$.length>0&&n.setData($),b.length>0&&s.setData(b),a.timeScale().fitContent()};return(i,b)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:p.value},{actions:y(()=>[u("div",wv,[m(Ee,{items:["% of loans in soft liquidation","Collateral price"]})])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Soft Liquidations"])}}})}typeof Oa=="function"&&Oa(Ss);const Cv=A(Ss,[["__scopeId","data-v-ce44aedf"]]),xs=S({__name:"ChartLiquidationMedianLoss",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const n=N(),c=C(null),_=C([]),r=C(!1);q(async()=>{c.value&&(await Fe(),a=ue(c.value,p(c.value,n.theme)),s=a.addAreaSeries(d(n.theme)),g(_.value))}),M(()=>o.market,async h=>{r.value=!0,h&&(_.value=await t.getHistoricalMedianLoss(h.address).then(v=>v.losses),r.value=!1)},{immediate:!0}),M(()=>n.theme,h=>{c.value&&(a.applyOptions(p(c.value,h)),s.applyOptions(d(h)))}),M(_,h=>{g(h)});const p=(h,v)=>_e(h,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),d=h=>{const v=E(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=h=>{if(!a||!s)return;const v=z.chain(h).map(i=>({time:i.timestamp,value:i.lossPct})).uniqWith((i,b)=>i.time===b.time).orderBy(i=>i.time,"asc").value();v.length>0&&s.setData(v),a.timeScale().fitContent()};return(h,v)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Median Loss % Among Loans with Losses"])}}})}typeof Ra=="function"&&Ra(xs);const kv=A(xs,[["__scopeId","data-v-ab0f8305"]]),Sv={class:"actions"},As=S({__name:"ChartLiquidationAverageHealth",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,n,c;const _=N(),r=C(null),p=C([]),d=C(!1);q(async()=>{r.value&&(await Fe(),a=ue(r.value,g(r.value,_.theme)),s=a.addAreaSeries(h(_.theme)),n=a.addAreaSeries(v(_.theme)),c=a.addAreaSeries(i(_.theme)),b(p.value))}),M(()=>o.market,async $=>{d.value=!0,$&&(p.value=await t.getHistoricalAverageHealth($.address).then(k=>k.health),d.value=!1)},{immediate:!0}),M(()=>_.theme,$=>{r.value&&(a.applyOptions(g(r.value,$)),n.applyOptions(h($)),s.applyOptions(h($)),c.applyOptions(h($)))}),M(p,$=>{b($)});const g=($,k)=>_e($,k,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=$=>{const k=E($);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:k.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=$=>{const k=E($);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:k.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=$=>{const k=E($);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:k.green,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=$=>{if(!a||!s||!n||!c)return;const k=z.chain($).map(T=>({time:T.timestamp,value:T.quartiles[2]})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value(),I=z.chain($).map(T=>({time:T.timestamp,value:T.quartiles[1]})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value(),D=z.chain($).map(T=>({time:T.timestamp,value:T.quartiles[3]})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value();I.length>0&&n.setData(I),k.length>0&&s.setData(k),D.length>0&&c.setData(D),a.timeScale().fitContent()};return($,k)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:d.value},{actions:y(()=>[u("div",Sv,[m(Ee,{items:["1st Quartile","Median","3rd Quartile"]})])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Historical Health Distribution"])}}})}typeof Fa=="function"&&Fa(As);const xv=A(As,[["__scopeId","data-v-45b60a93"]]),Av=S({__name:"ChartLiquidationHealthDeciles",props:{market:{default:null}},setup(o){const e=new re(H()),t=N(),a=C(!0),s=C([]),n=x(()=>{const d=E(t.theme),g=le(t.theme);return de({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:c.value,labels:{formatter:r,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:h=>{const v=h.series[0][h.dataPointIndex],i=h.series[1][h.dataPointIndex],b=h.series[2][h.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${p(i)}</div>`,`<div><b>Debt</b>: ${p(v)}</div>`,`<div><b>Stablecoin</b>: ${p(b)}</div>`].join("")}}})}),c=x(()=>s.value.map(d=>d.decile)),_=x(()=>[{name:"Debt",data:Object.values(s.value).map(d=>d.debt)},{name:"Collateral",data:Object.values(s.value).map(d=>d.collateralUsdValue)},{name:"Stablecoin",data:Object.values(s.value).map(d=>d.stablecoin)}]);M(()=>o.market,async d=>{a.value=!0,d&&(s.value=await e.getHealthDeciles(d.address).then(g=>g.health),a.value=!1)},{immediate:!0});const r=d=>d,p=d=>`$${j(d,0,"dollar")}${Y(d,"dollar")}`;return(d,g)=>(f(),P(l(ve),{class:"chart",title:"Debt & Assets per Health Deciles",loading:a.value,options:n.value,series:_.value},null,8,["loading","options","series"]))}});const Lv=A(Av,[["__scopeId","data-v-e938c9cc"]]),Ls=S({__name:"ChartLiquidationProportionLosers",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const n=N(),c=C(null),_=C([]),r=C(!1);q(async()=>{c.value&&(await Fe(),a=ue(c.value,p(c.value,n.theme)),s=a.addAreaSeries(d(n.theme)),g(_.value))}),M(()=>o.market,async h=>{r.value=!0,h&&(_.value=await t.getProportionLosers(h.address).then(v=>v.losses),r.value=!1)},{immediate:!0}),M(()=>n.theme,h=>{c.value&&(a.applyOptions(p(c.value,h)),s.applyOptions(d(h)))}),M(_,h=>{g(h)});const p=(h,v)=>_e(h,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),d=h=>{const v=E(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=h=>{if(!a||!s)return;const v=z.chain(h).map(i=>({time:i.timestamp,value:i.losers})).uniqWith((i,b)=>i.time===b.time).orderBy(i=>i.time,"asc").value();v.length>0&&s.setData(v),a.timeScale().fitContent()};return(h,v)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Proportion of Loans with Losses"])}}})}typeof Ua=="function"&&Ua(Ls);const Iv=A(Ls,[["__scopeId","data-v-3fb0b30d"]]),Pv=S({__name:"ChartLiquidationHistoricalValue",props:{data:{default:()=>[]}},setup(o){const e=N(),t=x(()=>{const r=E(e.theme),p=le(e.theme);return de({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:_},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=x(()=>z.chain(o.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),s=x(()=>[{name:"Self liquidations",data:Object.values(o.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(o.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),n=x(()=>Math.max(...z.chain(o.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.selfValue+d.hardValue,0)).value())*1.1),c=r=>r,_=r=>`${j(r,1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(bt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Tv=A(Pv,[["__scopeId","data-v-cac42768"]]),Dv=S({__name:"ChartLiquidationHistoricalCount",props:{data:{default:()=>[]}},setup(o){const e=N(),t=x(()=>{const r=E(e.theme),p=le(e.theme);return de({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:_},min:0,max:n.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=x(()=>z.chain(o.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),s=x(()=>[{name:"Self liquidations",data:Object.values(o.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(o.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),n=x(()=>Math.max(...z.chain(o.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.selfCount+d.hardCount,0)).value())*1.1),c=r=>r,_=r=>`${j(r,1,"dollar")}${Y(r,"dollar")}`;return(r,p)=>(f(),P(l(bt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Mv=A(Dv,[["__scopeId","data-v-08493446"]]),Vv={class:"actions"},zv={class:"chart-types"},Is=S({__name:"ChartLiquidationHistorical",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C("count"),s=C(!0),n=C([]);M(()=>o.market,async _=>{s.value=!0,_&&(n.value=await t.getHistoricalLiquidations(_.address).then(r=>r.liquidations),s.value=!1)},{immediate:!0});const c=_=>{a.value!==_&&(a.value=_)};return(_,r)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title")},{actions:y(()=>[u("div",Vv,[u("div",zv,[m(l(Te),{value:"Count","model-value":a.value==="count",onClick:r[0]||(r[0]=p=>c("count"))},null,8,["model-value"]),m(l(Te),{value:"Value","model-value":a.value==="value",onClick:r[1]||(r[1]=p=>c("value"))},null,8,["model-value"])])])]),default:y(()=>[a.value==="count"?(f(),P(Mv,{key:0,data:n.value},null,8,["data"])):(f(),P(Tv,{key:1,data:n.value},null,8,["data"]))]),_:1},8,["title"]))}});function Ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Self & Hard Liquidations"])}}})}typeof Ea=="function"&&Ea(Is);const Bv=A(Is,[["__scopeId","data-v-bd6c2656"]]),Ov={class:"address"},Rv=["href"],Fv={class:"number"},Uv={class:"number"},Ps=S({__name:"TableLiquidationLiquidators",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C(!0),s=C([]),n=x(()=>z.chain(s.value).map(c=>c).value());return M(()=>o.market,async c=>{a.value=!0,c&&(s.value=await t.getTopLiquidators(c.address).then(_=>_.liquidations),a.value=!1)},{immediate:!0}),(c,_)=>(f(),P(l(be),{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",loading:a.value,rows:n.value,columns:["Address","Count","Value"]},{"header-title":y(()=>[u("div",null,L(l(e)("title")),1)]),row:y(r=>[u("div",Ov,[u("a",{href:`https://etherscan.io/address/${r.item.address}`,target:"_blank"},L(l(ke)(r.item.address,8)),9,Rv)]),u("div",Fv,[m(l(O),{value:r.item.count,precision:0,"show-zero":!0},null,8,["value"])]),u("div",Uv,[m(l(O),{value:r.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Top Liquidators"])}}})}typeof qa=="function"&&qa(Ps);const Ev=A(Ps,[["__scopeId","data-v-797fa606"]]),qv={class:"actions"},Ts=S({__name:"ChartLiquidationLiquidatorRevenue",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,n;const c=N(),_=C(null),r=C([]),p=C(!1);q(async()=>{_.value&&(await Fe(),a=ue(_.value,d(_.value,c.theme)),s=a.addAreaSeries(h(c.theme)),n=a.addAreaSeries(g(c.theme)),v(r.value))}),M(()=>o.market,async i=>{p.value=!0,i&&(r.value=await t.getLiquidatorRevenue(i.address).then(b=>b.revenue),p.value=!1)},{immediate:!0}),M(()=>c.theme,i=>{_.value&&(a.applyOptions(d(_.value,i)),s.applyOptions(h(i)),n.applyOptions(g(i)))}),M(r,i=>{v(i)});const d=(i,b)=>_e(i,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),g=i=>{const b=E(i);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:oe.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=i=>{const b=E(i);return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:b.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=i=>{if(!a||!s)return;const b=z.chain(i).map(k=>({time:k.timestamp,value:k.discount*100})).uniqWith((k,I)=>k.time===I.time).orderBy(k=>k.time,"asc").value(),$=z.chain(i).map(k=>({time:k.timestamp,value:k.amount})).uniqWith((k,I)=>k.time===I.time).orderBy(k=>k.time,"asc").value();$.length>0&&n.setData($),b.length>0&&s.setData(b),a.timeScale().fitContent()};return(i,b)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:p.value},{actions:y(()=>[u("div",qv,[m(Ee,{items:["Liquidator Revenue","Discount"]})])]),default:y(()=>[u("div",{ref_key:"chartRef",ref:_,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Liquidator Revenue"])}}})}typeof Wa=="function"&&Wa(Ts);const Wv=A(Ts,[["__scopeId","data-v-1e789d46"]]),Ds=S({__name:"ChartLiquidationCollateralRatio",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const n=N(),c=C(null),_=C([]),r=C(!1);q(async()=>{c.value&&(await Fe(),a=ue(c.value,p(c.value,n.theme)),s=a.addAreaSeries(d(n.theme)),g(_.value))}),M(()=>o.market,async h=>{r.value=!0,h&&(_.value=await t.getHistoricalCollateralRatio(h.address).then(v=>v.ratios),r.value=!1)},{immediate:!0}),M(()=>n.theme,h=>{c.value&&(a.applyOptions(p(c.value,h)),s.applyOptions(d(h)))}),M(_,h=>{g(h)});const p=(h,v)=>_e(h,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),d=h=>{const v=E(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=h=>{if(!a||!s)return;const v=z.chain(h).map(i=>({time:i.timestamp,value:i.ratio*100})).uniqWith((i,b)=>i.time===b.time).orderBy(i=>i.time,"asc").value();v.length>0&&s.setData(v),a.timeScale().fitContent()};return(h,v)=>(f(),P(l(Q),{class:"chart-container",title:l(e)("title"),loading:r.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Collateral Ratio"])}}})}typeof Ha=="function"&&Ha(Ds);const Hv=A(Ds,[["__scopeId","data-v-6a81eb2d"]]),Nv=S({components:{CardLiquidationOverview:$v,ChartLiquidationMedianLoss:kv,ChartLiquidationSoftLiquidation:Cv,ChartLiquidationAverageHealth:xv,ChartLiquidationHealthDeciles:Lv,ChartLiquidationProportionLosers:Iv,ChartLiquidationHistorical:Bv,TableLiquidationLiquidators:Ev,ChartLiquidationCollateralRatio:Hv,ChartLiquidationLiquidatorRevenue:Wv},props:{market:{type:Object,required:!0}}});const Gv={class:"market"};function Qv(o,e,t,a,s,n){const c=se("CardLiquidationOverview"),_=se("ChartLiquidationSoftLiquidation"),r=se("ChartLiquidationMedianLoss"),p=se("ChartLiquidationProportionLosers"),d=se("ChartLiquidationAverageHealth"),g=se("ChartLiquidationHealthDeciles"),h=se("ChartLiquidationCollateralRatio"),v=se("ChartLiquidationHistorical"),i=se("TableLiquidationLiquidators"),b=se("ChartLiquidationLiquidatorRevenue");return f(),w("div",Gv,[m(c,{market:o.market},null,8,["market"]),m(_,{market:o.market},null,8,["market"]),m(r,{market:o.market},null,8,["market"]),m(p,{market:o.market},null,8,["market"]),m(d,{market:o.market},null,8,["market"]),m(g,{market:o.market},null,8,["market"]),m(h,{market:o.market},null,8,["market"]),m(v,{market:o.market},null,8,["market"]),m(i,{market:o.market},null,8,["market"]),m(b,{market:o.market},null,8,["market"])])}const Yv=A(Nv,[["render",Qv],["__scopeId","data-v-1a801453"]]);class Ge{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return Ge.instance||(Ge.instance=new Ge),Ge.instance}connect(e){this.ws||(this.ws=new WebSocket(e),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(e),1e3)},this.ws.onmessage=t=>{try{const s=JSON.parse(t.data).channel.slice(0,-6);if(this.listeners[s])for(const n of this.listeners[s])n(t.data);else this.messageQueue.push(t.data)}catch(a){console.error("WSManager error parsing message: ",a)}})}registerListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const a=this.messageQueue.filter(s=>JSON.parse(s).channel===e);for(const s of a)t(s);this.messageQueue=this.messageQueue.filter(s=>!a.includes(s))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var Bt=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(Bt||{}),Ot=(o=>(o.update="update",o.snapshot="snapshot",o))(Ot||{});class Na{constructor(e,t,a,s,n,c){this.url=e,this.llamma=t,this.chain=a,this.interval=s,this.start=n,this.end=c,this.currentOHLCData=[],this.wsManager=Ge.getInstance(),this.wsManager.connect(e),this.dataSubject=new Tn,this.data$=this.dataSubject.pipe(Dn((_,r)=>this.reconcileData(_,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",_=>{try{const r=JSON.parse(_);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",_)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const e={action:Bt.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(e)}subscribeToUpdates(){const e={action:Bt.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(e)}reconcileData(e,t){return t.type===Ot.snapshot?t.payload:t.type===Ot.update?(t.payload.forEach(a=>{const s=e.findIndex(n=>n.time===a.time);s!==-1?e[s]=a:e.push(a)}),[...e]):e}send(e){this.wsManager.send(JSON.stringify(e))}}const jv={class:"buttons"},Ga="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",Qa="ethereum",Ya=86400,Ms=S({__name:"ChartLlammaCandles",props:{market:{}},setup(o){const{t:e}=B();let t,a,s,n=1,c=0;const _=N(),r=C([]);let p;const d=C(null),g=C(!1),h=x(()=>o.market?`Daily candles ${g.value?`crvUSD/${o.market.name}`:`${o.market.name}/crvUSD`}`:e("title"));q(async()=>{if(!d.value||!o.market)return;await Fe();const b=It.getAddress(o.market.llamma),$=Date.now(),k=15*24*60*60*1e3,I=Math.floor($/1e3),D=Math.floor(($-k)/1e3);t=new Na(Ga,b,Qa,Ya,D,I);const T=E(_.theme);p=t.data$.subscribe(W=>{r.value=W,v(W,g.value)}),a=ue(d.value,{width:d.value.clientWidth,height:d.value.clientHeight,layout:{background:{type:Et.Solid,color:T.backgroundColor},textColor:T.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:T.level2,style:qt.Dashed}},crosshair:{mode:Do.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:W=>i(W)}}),s=a.addCandlestickSeries({upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),Mn(()=>{p.unsubscribe()}),M(r,b=>{v(b,g.value)}),M(g,b=>{v(r.value,b)}),M(()=>o.market,(b,$)=>{if(b&&b!==$){p.unsubscribe();const k=It.getAddress(b.llamma),I=Date.now(),D=15*24*60*60*1e3,T=Math.floor(I/1e3),W=Math.floor((I-D)/1e3);t=new Na(Ga,k,Qa,Ya,W,T),p=t.data$.subscribe(te=>{r.value=te,v(te,g.value)})}});const v=(b,$)=>{if(!a||!s||!b)return;const k=$?-1:1,I=z.chain(b).map(D=>({time:D.time,open:Math.pow(D.open,k),high:Math.pow(D.high,k),low:Math.pow(D.low,k),close:Math.pow(D.close,k)})).uniqWith((D,T)=>D.time===T.time).orderBy(D=>D.time,"asc").value();I.length>0&&(s.setData(I),a.timeScale().fitContent(),c=Math.min(...I.map(D=>D.low)),n=Math.max(...I.map(D=>D.high)))},i=b=>{const $=n-c,k=$>1?$-Math.floor($):$,I=-Math.floor(Math.log10(k)+1)+2;return`${j(b,I,"dollar")}${Y(b,"dollar")}`};return(b,$)=>(f(),P(l(Q),{class:"candles",title:h.value},{default:y(()=>[u("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512),u("div",jv,[m(l(Te),{modelValue:g.value,"onUpdate:modelValue":$[0]||($[0]=k=>g.value=k)},{default:y(()=>[U(L(l(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function ja(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof ja=="function"&&ja(Ms);const Jv=A(Ms,[["__scopeId","data-v-355ffa4c"]]),Kv=S({components:{ChartLlammaCandles:Jv},props:{market:{type:Object,required:!0}}});const Zv={class:"market"};function Xv(o,e,t,a,s,n){const c=se("ChartLlammaCandles");return f(),w("div",Zv,[m(c,{market:o.market},null,8,["market"])])}const eh=A(Kv,[["render",Xv],["__scopeId","data-v-a152ba8f"]]),th={class:"market-overview"},ah=S({__name:"Market",setup(o){const e=new re(H()),t=Re(),a=Ye(),s=Xt(),n=vs(),c=C(0),_=x(()=>t.params.marketAddr),r=x(()=>n.market);return q(async()=>{var d,g;const p=t.params.tab;if(p&&typeof p=="string"&&(p==="liquidations"?c.value=1:p==="llamma"&&(c.value=2)),((d=n.market)==null?void 0:d.address)!==_.value){const{markets:h}=await e.getMarkets(),v=h.find(i=>i.address===_.value);v&&(n.market=v)}s.show=!0,s.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${((g=r.value)==null?void 0:g.name)??"?"}`}]}),M(c,async p=>{p===0?await a.push({name:"crvusdmarket",params:{tab:"",marketAddr:_.value}}):p===1?await a.push({name:"crvusdmarket",params:{tab:"liquidations",marketAddr:_.value}}):p===2&&await a.push({name:"crvusdmarket",params:{tab:"llamma",marketAddr:_.value}})}),(p,d)=>(f(),w("div",th,[m(l(je),{active:c.value,onTab:d[0]||(d[0]=g=>c.value=g.index)},{default:y(()=>[m(l(ne),{header:"Overview"},{default:y(()=>[(f(),P(st,null,[c.value===0?(f(),P(_v,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1}),m(l(ne),{header:"Liquidations"},{default:y(()=>[(f(),P(st,null,[c.value===1&&r.value?(f(),P(Yv,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1}),m(l(ne),{header:"Llamma"},{default:y(()=>[(f(),P(st,null,[c.value===2&&r.value?(f(),P(eh,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const oh=A(ah,[["__scopeId","data-v-3e42c5e5"]]);class sh{constructor(e){this.get$=new he(t=>{let a=1/0,s=!1;const n=()=>{t.next(Date.now()-a),s=!1};e.on("pong",n);const c=Vn({}).pipe(zn(()=>{if(s){t.next(1/0);return}s=!0,a=Date.now(),e.emit("ping")}),Bn(5e3),On()).subscribe();return()=>{c.unsubscribe(),e.off("pong",n)}}).pipe(Rn({refCount:!0,bufferSize:1}))}}class nh{constructor(e){this.socket=e}get(e){const t=new Promise(a=>{this.socket.once("search_res",s=>{const n=Object.entries(s).map(([c,_])=>({id:c.toLocaleLowerCase(),name:_}));a(n)})});return this.socket.emit("search",e),t}}class lh{constructor(e){this.get$=new he(t=>{const a=s=>{const n=rh(s);t.next(n)};return e.on("token names inside pool",a),()=>{e.off("token names inside pool",a)}}).pipe(ge())}}function rh(o){return o.map(e=>({name:e}))}class Vs{constructor(e){this.socket=e,this.update$=new he(t=>{const a=s=>{t.next(s)};return e.on("price_chart_combination",a),()=>{e.off("price_chart_combination",a)}}).pipe(ge())}update(e,t){this.socket.emit("new combination",[e,t[0],t[1]])}}class ih{constructor(e){this.socket=e}update(e){this.socket.emit(e)}}const $e=xe({id:"monitorStore",state:()=>({socket:null,socketPool:null,pool:null,pools:[],poolsLoadingError:!1,prices:[],balances:[],volumes:[],transactions:[],tvl:[],bonding:{curve:[],balanceCoin0:0,balanceCoin1:0},coins:[],pair:null,timeRange:"month"})});class ch{constructor(e){this.init$=new he(t=>{const a=s=>{const n=s.map(c=>Ja(c));t.next(n)};return e.on("price_chart",a),()=>{e.off("price_chart",a)}}).pipe(ge()),this.update$=new he(t=>{const a=s=>{const n=Ja(s);t.next(n)};return e.on("Update Price-Chart",a),()=>{e.off("Update Price-Chart",a)}}).pipe(ge())}}function Ja(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,value:a}}class uh{constructor(e){this.init$=new he(t=>{const a=s=>{const n=s.map(c=>Ka(c));t.next(n)};return e.on("balances_chart",a),()=>{e.off("balances_chart",a)}}).pipe(ge()),this.update$=new he(t=>{const a=s=>{const n=Ka(s);t.next(n)};return e.on("Update Balance-Chart",a),()=>{e.off("Update Balance-Chart",a)}}).pipe(ge())}}function Ka(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,balances:a}}class dh{constructor(e){this.init$=new he(t=>{const a=s=>{const n=s.map(c=>Za(c));t.next(n)};return e.on("volume_chart",a),()=>{e.off("volume_chart",a)}}).pipe(ge()),this.update$=new he(t=>{const a=s=>{const n=Za(s);t.next(n)};return e.on("Update Volume-Chart",a),()=>{e.off("Update Volume-Chart",a)}}).pipe(ge())}}function Za(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,volume:a}}class ph{constructor(e){this.init$=new he(t=>{const a=s=>{const n=s.map(c=>Xa(c)).flat(1);t.next(n)};return e.on("table_all",a),()=>{e.off("table_all",a)}}).pipe(ge()),this.update$=new he(t=>{const a=s=>{const n=Xa(s);for(const c of n)t.next(c)};return e.on("Update Table-ALL",a),()=>{e.off("Update Table-ALL",a)}}).pipe(ge())}}function Xa(o){let e;if(o.type==="swap")e="swap";else if(o.type==="deposit")e="deposit";else if(o.type==="remove")e="withdraw";else return[];const t=o.txHash.toLocaleLowerCase(),a=o.blockNumber,s=o.trader.toLocaleLowerCase(),n=o.unixtime;let c;if(e==="swap"){const _=o;return c=[{type:e,txHash:t,blockNumber:a,trader:s,timestamp:n,fee:_.tradeDetails.feeUSD,value:_.tradeDetails.valueUSD,amountIn:_.tradeDetails.amountIn,amountOut:_.tradeDetails.amountOut,tokenIn:_.tradeDetails.nameIn,tokenOut:_.tradeDetails.nameOut}],c}else e==="deposit"?c=o.tradeDetails.map(r=>({type:"deposit",txHash:t,blockNumber:a,trader:s,timestamp:n,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):c=o.tradeDetails.map(r=>({type:"withdraw",txHash:t,blockNumber:a,trader:s,timestamp:n,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return c}class _h{constructor(e){this.init$=new he(t=>{const a=s=>{const n=s.map(c=>eo(c));t.next(n)};return e.on("tvl_chart",a),()=>{e.off("tvl_chart",a)}}).pipe(ge()),this.update$=new he(t=>{const a=s=>{const n=eo(s);t.next(n)};return e.on("Update TVL-Chart",a),()=>{e.off("Update TVL-Chart",a)}}).pipe(ge())}}function eo(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,tvl:a}}class mh{constructor(e){this.get$=new he(t=>{const a=s=>{const n=vh(s);t.next(n)};return e.on("bonding_curve",a),()=>{e.off("bonding_curve",a)}}).pipe(ge())}}function vh(o){return{curve:z.zipWith(o.x,o.y,(t,a)=>({x:t,y:a})),balanceCoin0:o.balance0,balanceCoin1:o.balance1}}function hh(o){return gt(`${o}/`,{autoConnect:!1,secure:!0})}function fh(o,e){return gt(`${o}/${e}`,{autoConnect:!1,secure:!0})}function gh(o){return gt(`${o}/main`,{autoConnect:!1,secure:!0})}function bh(o,e,t){const a=fh(e,t),s=new dh(a),n=new ch(a),c=new ph(a),_=new uh(a),r=new _h(a),p=new mh(a),d=new lh(a),g=new Vs(a);return Sh(o,c),Ch(o,n),$h(o,_),wh(o,r),kh(o,s),xh(o,p),Ah(o,d),Lh(o,g),a.connect(),a}async function yh(o,e,t){const a=await e.get(t);a?o.pools=a:o.poolsLoadingError=!0}let rt=null;function $h(o,e){rt&&rt.unsubscribe();try{rt=e.init$.subscribe({next:t=>{o.balances=t},error:t=>console.error(t)}),rt.add(e.update$.subscribe({next:t=>{o.balances.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let it=null;function wh(o,e){it&&it.unsubscribe();try{it=e.init$.subscribe({next:t=>{o.tvl=t},error:t=>console.error(t)}),it.add(e.update$.subscribe({next:t=>{o.tvl.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ct=null;function Ch(o,e){ct&&ct.unsubscribe();try{ct=e.init$.subscribe({next:t=>{o.prices=t},error:t=>console.error(t)}),ct.add(e.update$.subscribe({next:t=>{o.prices.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ut=null;function kh(o,e){ut&&ut.unsubscribe();try{ut=e.init$.subscribe({next:t=>{o.volumes=t},error:t=>console.error(t)}),ut.add(e.update$.subscribe({next:t=>{o.volumes.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let dt=null;function Sh(o,e){dt&&dt.unsubscribe();try{dt=e.init$.subscribe({next:t=>{o.transactions=t},error:t=>console.error(t)}),dt.add(e.update$.subscribe({next:t=>{o.transactions.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let St=null;function xh(o,e){St&&St.unsubscribe();try{St=e.get$.subscribe({next:t=>{o.bonding=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let xt=null;function Ah(o,e){xt&&xt.unsubscribe();try{xt=e.get$.subscribe({next:t=>{o.coins=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let At=null;function Lh(o,e){At&&At.unsubscribe();try{At=e.update$.subscribe({next:t=>{o.pair=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}const Ih={key:0,class:"item"},Ph=["src"],Th={class:"label"},zs=S({__name:"SearchPool",props:{modelValue:{},poolService:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=$e(),s=C(!1),n=C(t("search-placeholder")),c=x(()=>a.pools),_=g=>{const h=Ce(g.name);return h.startsWith("Curve.fi ")?h.slice(9):h},r=z.debounce(yh,200,{maxWait:1e3}),p=g=>{r(a,o.poolService,g),s.value=!!g},d=g=>{const h=g;s.value=!1,e("select",h)};return M(()=>a.poolsLoadingError,g=>{g?n.value=t("search-error"):n.value=t("search-placeholder")}),(g,h)=>(f(),P(l(pe),{class:"select-pool","model-value":g.modelValue,placeholder:n.value,search:!0,"auto-complete":s.value,options:c.value,"onUpdate:modelValue":h[0]||(h[0]=v=>e("update:modelValue",v)),onInput:p,onSelect:d},{item:y(v=>[v.item?(f(),w("div",Ih,[u("img",{src:l(Nt)(v.item.name,!1)},null,8,Ph),u("div",Th,L(_(v.item)),1)])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function to(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])}}})}typeof to=="function"&&to(zs);const Dh=A(zs,[["__scopeId","data-v-d87077ae"]]),Mh={class:"status"},Vh={class:"ping"},zh=S({__name:"Status",setup(o){const e=$e(),t=C(1/0),a=C("bad");return M(()=>e.socket,s=>{if(!s)return;new sh(s).get$.subscribe(c=>{t.value=c,a.value=c<=50?"good":c<=500?"meh":"bad"})},{immediate:!0}),(s,n)=>(f(),w("div",Mh,[m(l(De),{class:"tooltip"},{item:y(()=>[u("div",{class:R(["indicator",a.value])},null,2)]),default:y(()=>[u("div",Vh,"Ping: "+L(t.value===1/0?"?":t.value)+"ms",1)]),_:1})]))}});const Bh=A(zh,[["__scopeId","data-v-30181aee"]]),Oh=o=>(X("data-v-193d2201"),o=o(),ee(),o),Rh={class:"header"},Fh={class:"header-content"},Uh=Oh(()=>u("div",{class:"title"},"Live monitor",-1)),Eh={class:"controls"},qh=S({__name:"Header",props:{poolService:{}},setup(o){const e=$e(),t=C(""),a=s=>{const n=s;t.value=Ce(n.name),e.pool=n};return(s,n)=>(f(),w("div",Rh,[m(l(Q),null,{default:y(()=>[u("div",Fh,[Uh,u("div",Eh,[m(Dh,{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=c=>t.value=c),class:"search","pool-service":s.poolService,onSelect:a},null,8,["modelValue","pool-service"]),m(Bh)])])]),_:1})]))}});const Wh=A(qh,[["__scopeId","data-v-193d2201"]]),Hh={class:"pair"},Nh={class:"item"},Gh=["src"],Qh={class:"label"},Yh={class:"item"},jh=["src"],Jh={class:"label"},Kh=S({__name:"SelectorPair",setup(o){const e=$e(),t=C([!1,!1]),a=C([null,null]),s=x(()=>e.coins.map(d=>({label:d.name}))),n=x(()=>e.pair?[{label:e.pair[0]},{label:e.pair[1]}]:null),c=d=>d!=null&&d.logo?`${d.logo}`:"",_=d=>d?`${d.label}`:"?",r=d=>{t.value[d]=!t.value[d]},p=(d,g,h)=>{var $,k;const v=d===0?1:0,i=a.value[d],b=g;(i==null?void 0:i.label)!==b.label&&(a.value[d]=b,(($=a.value[d])==null?void 0:$.label)===((k=a.value[v])==null?void 0:k.label)&&(a.value[v]=i),h&&e.socketPool&&a.value[0]&&a.value[1]&&new Vs(e.socketPool).update(e.timeRange,[a.value[0].label,a.value[1].label]))};return M(n,()=>{p(0,n.value?n.value[0]:null,!1),p(1,n.value?n.value[1]:null,!1)}),(d,g)=>(f(),w("div",Hh,[m(l(Oe),{class:"select",options:s.value,selected:a.value[0],open:t.value[0],onOpen:g[0]||(g[0]=h=>r(0)),onClose:g[1]||(g[1]=h=>t.value[0]=!1),onInput:g[2]||(g[2]=h=>p(0,h,!0))},{item:y(h=>{var v;return[u("div",Nh,[(v=h.item)!=null&&v.logo?(f(),w("img",{key:0,src:c(h.item)},null,8,Gh)):V("",!0),u("div",Qh,L(_(h.item)),1)])]}),_:1},8,["options","selected","open"]),m(l(Oe),{class:"select",options:s.value,selected:a.value[1],open:t.value[1],onOpen:g[3]||(g[3]=h=>r(1)),onClose:g[4]||(g[4]=h=>t.value[1]=!1),onInput:g[5]||(g[5]=h=>p(1,h,!0))},{item:y(h=>{var v;return[u("div",Yh,[(v=h.item)!=null&&v.logo?(f(),w("img",{key:0,src:c(h.item)},null,8,jh)):V("",!0),u("div",Jh,L(_(h.item)),1)])]}),_:1},8,["options","selected","open"])]))}});const Zh=A(Kh,[["__scopeId","data-v-50c3fa55"]]),Xh=["day","week","month"],ef={class:"ranges"},Bs=S({__name:"SelectorRange",setup(o){const{t:e}=B(),t=$e(),a=s=>{t.timeRange!==s&&(t.timeRange=s,t.pair&&new ih(t.socketPool).update(s))};return(s,n)=>(f(),w("div",ef,[(f(!0),w(ae,null,ce(l(Xh),c=>(f(),P(l(Te),{key:c,"model-value":l(t).timeRange===c,value:l(e)(c),onClick:_=>a(c)},null,8,["model-value","value","onClick"]))),128))]))}});function ao(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{day:t=>{const{normalize:a}=t;return a(["Day"])},week:t=>{const{normalize:a}=t;return a(["Week"])},month:t=>{const{normalize:a}=t;return a(["Month"])}}})}typeof ao=="function"&&ao(Bs);const tf=A(Bs,[["__scopeId","data-v-60686ec1"]]),Os=o=>(X("data-v-10ded877"),o=o(),ee(),o),af={class:"controls"},of=Os(()=>u("div",{class:"gutter"},null,-1)),sf={class:"rows"},nf=Os(()=>u("div",{class:"title"},"Charts",-1)),lf={class:"items"},rf=S({__name:"Controls",setup(o){return(e,t)=>(f(),w("div",af,[of,u("div",sf,[nf,u("div",lf,[m(Zh),m(tf)])])]))}});const cf=A(rf,[["__scopeId","data-v-10ded877"]]);function uf(o){return o.type==="swap"}function df(o){return o.type==="deposit"}function pf(o){return o.type==="withdraw"}function ta(o,e){const a=Math.round(o.value/1e3)-e;return a<60?`${Math.round(a)} seconds ago`:a<60*60?`${Math.round(a/60)} minutes ago`:a<60*60*24?`${Math.round(a/(60*60))} hours ago`:`${Math.round(a/(60*60*24))} days ago`}const _f={class:"title"},mf={key:0,class:"fas fa-arrow-up"},vf={key:1,class:"fas fa-arrow-down"},hf={key:2,class:"fas fa-exchange-alt"},ff={key:0,class:"number"},gf=["href"],bf=["href"],yf=["href"],$f=["innerHTML"],wf={key:0},Cf={key:1,class:"number"},pt=10,Rs=S({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=$e(),a=C(""),s=C(["swap","deposit","withdraw"]),n=C(1),c=C(Date.now()),_=x(()=>o.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),r=x(()=>z.chain(o.txs?o.txs:t.transactions).filter(i=>s.value.includes(i.type)).filter(i=>{const b=a.value.toLocaleLowerCase().split(" "),$=k=>b.some(I=>k.toLocaleLowerCase().includes(I));return $(i.blockNumber.toString())||$(i.trader)||$(i.txHash)}).reverse().value()),p=x(()=>z.chain(r.value).drop((n.value-1)*pt).take(pt).value());q(()=>{setInterval(()=>{c.value=Date.now()})});const d=i=>ta(c,i),g=i=>{if(uf(i)){const b=i.amountIn.toLocaleString(),$=i.amountOut.toLocaleString(),k=`<span>${b} ${i.tokenIn}</span>`,I="<i class='fas fa-arrow-right'></i>",D=`<span style='justify-self: end;'>${$} ${i.tokenOut}</span>`;return`${k}${I}${D}`}else{if(df(i))return`${i.amountIn.toLocaleString()} ${i.tokenIn}`;if(pf(i))return`${i.amountOut.toLocaleString()} ${i.tokenOut}`}return"???"},h=i=>{n.value=i},v=i=>{i===0?s.value=["swap","deposit","withdraw"]:i===1?s.value=["swap"]:i===2?s.value=["deposit"]:i===3?s.value=["withdraw"]:s.value=[]};return M(p,i=>{i.length===0&&(n.value=Math.max(1,Math.ceil(r.value.length/pt)))}),(i,b)=>(f(),P(l(be),{class:R(["datatable-trades",{compact:i.compact,time:i.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:p.value,columns:_.value},Wt({row:y($=>[u("div",{class:R(["type",{deposit:$.item.type==="deposit",withdraw:$.item.type==="withdraw",swap:$.item.type==="swap"}])},[$.item.type==="deposit"?(f(),w("i",mf)):$.item.type==="withdraw"?(f(),w("i",vf)):(f(),w("i",hf)),U(" "+L(l(e)($.item.type)),1)],2),i.time?(f(),w("div",ff,[u("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.blockNumber}`,target:"_blank"},L($.item.blockNumber),9,gf)])):V("",!0),u("div",{onClick:b[2]||(b[2]=Se(()=>{},["stop"]))},[u("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.txHash}`,target:"_blank"},L(l(ke)($.item.txHash)),9,bf)]),u("div",{onClick:b[3]||(b[3]=Se(()=>{},["stop"]))},[u("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank"},L(l(ke)($.item.trader)),9,yf)]),u("div",{class:R(["assets",{swap:$.item.type==="swap"}]),innerHTML:g($.item)},null,10,$f),u("div",{class:R({number:i.time})},[$.item.type==="swap"?(f(),w("span",wf," $"+L(l(z.round)($.item.fee).toLocaleString()),1)):V("",!0)],2),i.time?(f(),w("div",Cf,L(d($.item.timestamp)),1)):V("",!0)]),_:2},[i.header?{name:"header-title",fn:y(()=>[u("div",_f,L(l(e)("title")),1),m(l(je),{class:"types",onTab:b[0]||(b[0]=$=>v($.index))},{default:y(()=>[m(l(ne),{header:"All"}),m(l(ne),{header:"Swaps"}),m(l(ne),{header:"Deposits"}),m(l(ne),{header:"Withdrawals"})]),_:1}),m(l(pe),{modelValue:a.value,"onUpdate:modelValue":b[1]||(b[1]=$=>a.value=$),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,i.header?{name:"header-actions",fn:y(()=>[m(l(Qe),{class:"pagination","items-count":r.value.length,"items-per-page":pt,page:n.value,onPage:h},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns"]))}});function oo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},withdraw:t=>{const{normalize:a}=t;return a(["Withdraw"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof oo=="function"&&oo(Rs);const kf=A(Rs,[["__scopeId","data-v-1f133632"]]),Fs=S({__name:"TVL",setup(o){const{t:e}=B();let t,a;const s=$e(),n=N(),c=C(null),_=x(()=>s.tvl);q(()=>{c.value&&(t=ue(c.value,r(c.value,n.theme)),a=t.addAreaSeries(p(n.theme)),d(_.value))}),M(_,h=>{d(h)}),M(()=>n.theme,h=>{c.value&&(t.applyOptions(r(c.value,h)),a.applyOptions(p(h)))});const r=(h,v)=>_e(h,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:i=>g(i)}}),p=h=>{const v=E(h);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},d=h=>{if(!t||!a)return;const v=z.chain(h).map(i=>({time:i.timestamp,value:i.tvl})).uniqWith((i,b)=>i.time===b.time).orderBy(i=>i.time,"asc").value();v.length>0&&a.setData(v),t.timeScale().fitContent()},g=h=>`$${j(h,1,"dollar")}${Y(h,"dollar")}`;return(h,v)=>(f(),P(l(Q),{class:"tvl",title:l(e)("title")},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function so(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof so=="function"&&so(Fs);const Sf=A(Fs,[["__scopeId","data-v-10835709"]]),Us=S({__name:"Bonding",setup(o){const{t:e}=B();let t,a;const s=$e(),n=N(),c=C(null),_=x(()=>s.bonding);q(()=>{c.value&&(t=ue(c.value,r(c.value,n.theme)),a=t.addLineSeries(p(n.theme)),g(_.value))}),M(_,v=>{g(v)}),M(()=>n.theme,v=>{c.value&&(t.applyOptions(r(c.value,v)),a.applyOptions(p(v)),d(v))});const r=(v,i)=>_e(v,i,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:b=>h(b)},localization:{priceFormatter:b=>h(b),timeFormatter:b=>h(b)}}),p=v=>{const i=E(v);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,color:i.blue,lastValueVisible:!1,priceLineVisible:!1}},d=v=>{const i=E(v),b=[{time:_.value.balanceCoin1,position:"inBar",color:i.yellow,shape:"circle"}];a.setMarkers(b)},g=v=>{if(!t||!a)return;const i=z.chain(v.curve).map(b=>({time:b.x,value:b.y})).value();i.length>0&&(a.setData(i),d(n.theme)),t.timeScale().fitContent()},h=v=>v<0?"":`${j(Math.abs(v),0,"dollar")}${Y(v,"dollar")}`;return(v,i)=>(f(),P(l(Q),{class:"bondings",title:l(e)("title")},{default:y(()=>[u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function no(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Bonding Curve"])}}})}typeof no=="function"&&no(Us);const xf=A(Us,[["__scopeId","data-v-7db05945"]]),Es=S({__name:"Balances",setup(o){const{t:e}=B();let t,a=[];const s=$e(),n=N(),c=C(null),_=x(()=>s.balances),r=x(()=>{var i,b;return((b=(i=s.balances[0])==null?void 0:i.balances)==null?void 0:b.length)??0});q(()=>{c.value&&(t=ue(c.value,p(c.value,n.theme)),g(),h(_.value))}),M(_,i=>{g(),h(i)}),M(()=>n.theme,i=>{if(c.value){t.applyOptions(p(c.value,i));for(const[b,$]of a.entries())$.applyOptions(d(b,n.theme))}});const p=(i,b)=>_e(i,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$=>v($)}}),d=(i,b)=>{const $=le(b);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,color:$[i],lastValueVisible:!1,priceLineVisible:!1}},g=()=>{if(t){for(const i of a)t.removeSeries(i);a=[];for(let i=0;i<r.value;i++){const b=t.addLineSeries(d(i,n.theme));a.push(b)}}},h=i=>{if(!(!t||a.length<0)){for(let b=0;b<r.value;b++){const $=z.chain(i).map(k=>({time:k.timestamp,value:k.balances[b]})).uniqWith((k,I)=>k.time===I.time).orderBy(k=>k.time,"asc").value();$.length>0&&a[b].setData($)}t.timeScale().fitContent()}},v=i=>`${j(i,1,"dollar")}${Y(i,"dollar")}`;return(i,b)=>(f(),P(l(Q),{class:"balances",title:l(e)("title")},{default:y(()=>[m(Ee,{items:l(s).coins.map($=>$.name)},null,8,["items"]),u("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof lo=="function"&&lo(Es);const Af=A(Es,[["__scopeId","data-v-adbd508c"]]),qs=S({__name:"Prices",setup(o){const{t:e}=B();let t,a,s,n=1,c=0;const _=$e(),r=N(),p=C(null),d=x(()=>_.prices),g=x(()=>_.volumes);q(()=>{p.value&&(t=ue(p.value,h(p.value,r.theme)),a=t.addAreaSeries(v(r.theme)),s=t.addHistogramSeries(i(r.theme)),b(d.value),$(g.value))}),M(d,I=>{b(I)}),M(g,I=>{$(I)}),M(()=>r.theme,I=>{p.value&&(t.applyOptions(h(p.value,I)),a.applyOptions(v(I)),s.applyOptions(i(I)))});const h=(I,D)=>_e(I,D,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:T=>k(T)}}),v=I=>{const D=E(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:oe.WithSteps,lineColor:D.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=I=>({color:E(I).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),b=I=>{if(!t||!a)return;const D=z.chain(I).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value();if(D.length>0){a.setData(D);const T=D[0].time,W=D[D.length-1].time;t.timeScale().setVisibleRange({from:T,to:W}),c=Math.min(...D.map(te=>te.value)),n=Math.max(...D.map(te=>te.value))}},$=I=>{if(!t||!s)return;const D=z.chain(I).map(T=>({time:T.timestamp,value:T.volume})).uniqWith((T,W)=>T.time===W.time).orderBy(T=>T.time,"asc").value();D.length>0&&s.setData(D)},k=I=>{const D=n-c,T=D>1?D-Math.floor(D):D,W=-Math.floor(Math.log10(T)+1)+2;return`${j(I,W,"dollar")}${Y(I,"dollar")}`};return(I,D)=>(f(),P(l(Q),{class:"prices",title:l(e)("title")},{default:y(()=>[u("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title"]))}});function ro(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])}}})}typeof ro=="function"&&ro(qs);const Lf=A(qs,[["__scopeId","data-v-4a0b4d21"]]),If={class:"curve-monitor"},Pf={key:0,class:"data"},io="https://ws.llama.airforce:2053",Tf=S({__name:"Monitor",setup(o){const e=hh(io),t=new nh(e),a=Re(),s=Ye(),n=$e();n.socket=e;const c=x(()=>n.pool!==null);let _="";q(async()=>{const d=a.params.pool;await p(d),e.connect()});const r=async(d,g)=>{var v;_!==d.id&&(n.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(v=n.socketPool)==null||v.close(),n.socketPool=bh(n,io,n.pool.id),_=n.pool.id,g&&await s.push({name:"curvemonitor",params:{pool:n.pool.id}}))},p=async d=>{d&&typeof d=="string"&&await r({id:d,name:"???"},!1)};return M(()=>n.pool,async d=>{await r(d,!0)}),M(()=>a.params,async d=>{const g=d.pool;await p(g)}),(d,g)=>(f(),w("div",If,[m(Wh,{class:"header","pool-service":l(t)},null,8,["pool-service"]),c.value?(f(),w("div",Pf,[m(cf,{class:"controls"}),m(Lf,{class:"prices"}),m(kf,{class:"transactions"}),m(Af,{class:"balances"}),m(Sf,{class:"tvl"}),m(xf,{class:"bonding"})])):V("",!0)]))}});const Df=A(Tf,[["__scopeId","data-v-da95628e"]]);class Ws{constructor(e){this.socket=e}search(e){const t=new Promise(a=>{this.socket.once("userSearchResult",s=>{a(s)})});return this.socket.emit("getUserSearchResult",e),t}getSandwichLabelOccurrences(){const e=new Promise(t=>{this.socket.once("sandwichLabelOccurrences",a=>{t(a)})});return this.socket.emit("getSandwichLabelOccurrences"),e}getAbsoluteLabelsRanking(){const e=new Promise(t=>{this.socket.once("absoluteLabelsRanking",a=>{t(a)})});return this.socket.emit("getAbsoluteLabelsRanking"),e}getSandwiches(e=1){const t=new Promise(a=>{this.socket.once("fullSandwichTableContent",({data:s,totalPages:n})=>{a({sandwiches:s,totalPages:n})})});return this.socket.emit("getFullSandwichTableContent","full",e),t}}const $t=xe({id:"mevStore",state:()=>({socket:null,sandwiches:[],sandwichesPage:{cur:0,total:0},labelRankingShort:[],labelRankingExtended:[]})}),Mf=S({__name:"LabelsWorstRelative",setup(o){const e=$t(),t=N(),a=r=>r.filter(p=>p.numOfAllTx>=12).map(p=>({...p,ratio:Number((p.occurrences/p.numOfAllTx*100).toFixed(2))})).sort((p,d)=>d.ratio-p.ratio).slice(0,10),s=x(()=>a(e.labelRankingExtended).map(r=>r.label)),n=x(()=>a(e.labelRankingExtended).map(r=>r.ratio)),c=x(()=>{const r=E(t.theme),p=le(t.theme);return de({colors:r,colorsArray:p},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const g=d.w.globals.labels[d.seriesIndex],h=d.series[d.seriesIndex];return[`<div><b>${g}</b>:</div><div>Ratio: ${_(h)}</div>`].join("")}},labels:s.value})}),_=r=>`${r}%`;return(r,p)=>(f(),P(l(ve),{class:"mevLabels",title:"Worst relative offenders",options:c.value,series:n.value},null,8,["options","series"]))}});const Vf=A(Mf,[["__scopeId","data-v-8dc7cde4"]]),zf=S({__name:"LabelsWorstAbsolute",setup(o){const e=$t(),t=N(),a=r=>r.filter(p=>p.numOfAllTx>=12).map(p=>({...p,occurrences:p.occurrences})).sort((p,d)=>d.occurrences-p.occurrences).slice(0,10),s=x(()=>a(e.labelRankingExtended).map(r=>r.label)),n=x(()=>a(e.labelRankingExtended).map(r=>r.occurrences)),c=x(()=>{const r=E(t.theme),p=le(t.theme);return de({colors:r,colorsArray:p},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const g=d.w.globals.labels[d.seriesIndex],h=d.series[d.seriesIndex];return[`<div><b>${g}</b>:</div><div>Occurences: ${_(h)}</div>`].join("")}},labels:s.value})}),_=r=>`${r}`;return(r,p)=>(f(),P(l(ve),{class:"mevLabels",title:"Worst absolute offenders",options:c.value,series:n.value},null,8,["options","series"]))}});const Bf=A(zf,[["__scopeId","data-v-38c6209e"]]),Of={class:"title"},Rf={key:0,class:"fas fa-arrow-up"},Ff={key:1,class:"fas fa-arrow-down"},Uf={key:2,class:"fas fa-exchange-alt"},Ef={key:0,class:"number"},qf=["href"],Wf=["href"],Hf=["href"],Nf=["innerHTML"],Gf={key:1,class:"number"},_t=10,Hs=S({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=C(""),a=C(["swap","deposit","remove"]),s=C(1),n=C(Date.now()),c=x(()=>o.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),_=x(()=>z.chain(o.txs).filter(v=>a.value.includes(v.transaction_type)).filter(v=>{const i=t.value.toLocaleLowerCase().split(" "),b=$=>i.some(k=>$.toLocaleLowerCase().includes(k));return b(v.block_number.toString())||b(v.trader)||b(v.tx_hash)}).value()),r=x(()=>z.chain(_.value).drop((s.value-1)*_t).take(_t).value());q(()=>{setInterval(()=>{n.value=Date.now()})});const p=v=>ta(n,v),d=v=>{if(v.transaction_type==="swap"){const i=v.coins_leaving_wallet[0],b=v.coins_entering_wallet[0],$=Ve(parseFloat(i.amount)),k=Ve(parseFloat(b.amount)),I=`<span>${$} ${i.name}</span>`,D="<i class='fas fa-arrow-right'></i>",T=`<span style='justify-self: end;'>${k} ${b.name}</span>`;return`${I}${D}${T}`}else if(v.transaction_type==="deposit"){const i=v.coins_entering_wallet[0];return`${Ve(parseFloat(i.amount))} ${i.name}`}else if(v.transaction_type==="remove"){const i=v.coins_leaving_wallet[0];return`${Ve(parseFloat(i.amount))} ${i.name}`}return"???"},g=v=>{s.value=v},h=v=>{v===0?a.value=["swap","deposit","remove"]:v===1?a.value=["swap"]:v===2?a.value=["deposit"]:v===3?a.value=["remove"]:a.value=[]};return M(r,v=>{v.length===0&&(s.value=Math.max(1,Math.ceil(_.value.length/_t)))}),(v,i)=>(f(),P(l(be),{class:R(["datatable-trades",{compact:v.compact,time:v.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:r.value,columns:c.value,header:v.header},Wt({row:y(b=>[u("div",{class:R(["type",{deposit:b.item.transaction_type==="deposit",remove:b.item.transaction_type==="remove",swap:b.item.transaction_type==="swap"}])},[b.item.transaction_type==="deposit"?(f(),w("i",Rf)):b.item.transaction_type==="remove"?(f(),w("i",Ff)):(f(),w("i",Uf)),U(" "+L(l(e)(b.item.transaction_type)),1)],2),v.time?(f(),w("div",Ef,[u("a",{class:"vote-link",href:`https://etherscan.io/block/${b.item.block_number}`,target:"_blank"},L(b.item.block_number),9,qf)])):V("",!0),u("div",{onClick:i[2]||(i[2]=Se(()=>{},["stop"]))},[u("a",{class:"vote-link",href:`https://etherscan.io/tx/${b.item.tx_hash}`,target:"_blank"},L(l(ke)(b.item.tx_hash)),9,Wf)]),u("div",{onClick:i[3]||(i[3]=Se(()=>{},["stop"]))},[u("a",{class:"vote-link",href:`https://etherscan.io/address/${b.item.trader}`,target:"_blank"},L(l(ke)(b.item.trader)),9,Hf)]),u("div",{class:R(["assets",{swap:b.item.transaction_type==="swap"}]),innerHTML:d(b.item)},null,10,Nf),v.time?(f(),w("div",Gf,L(p(b.item.block_unixtime)),1)):V("",!0)]),_:2},[v.header?{name:"header-title",fn:y(()=>[u("div",Of,L(l(e)("title")),1),m(l(je),{class:"types",onTab:i[0]||(i[0]=b=>h(b.index))},{default:y(()=>[m(l(ne),{header:"All"}),m(l(ne),{header:"Swaps"}),m(l(ne),{header:"Deposits"}),m(l(ne),{header:"Removals"})]),_:1}),m(l(pe),{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=b=>t.value=b),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,v.header?{name:"header-actions",fn:y(()=>[m(l(Qe),{class:"pagination","items-count":_.value.length,"items-per-page":_t,page:s.value,onPage:g},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns","header"]))}});function co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},remove:t=>{const{normalize:a}=t;return a(["Remove"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof co=="function"&&co(Hs);const Qf=A(Hs,[["__scopeId","data-v-ec01a97f"]]),Yf={class:"title"},jf=["href"],Jf={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Kf=["href"],Zf={class:"number"},Lt=10,Ns=S({__name:"Sandwiches",setup(o){const{t:e}=B(),t=$t(),a=C(""),s=C([]),n=C(Date.now()),c=x(()=>t.sandwichesPage.cur),_=x(()=>t.sandwichesPage.total*Lt),r=x(()=>z.chain(t.sandwiches).filter(i=>{const b=a.value.toLocaleLowerCase().split(" "),$=k=>b.some(I=>k.toLocaleLowerCase().includes(I));return $(i.poolName.toString())||$(i.poolAddress.toString())||$(i.label.toString())}).orderBy([i=>i.frontrun.block_unixtime,i=>i.frontrun.tx_position],"desc").value());q(()=>{setInterval(()=>{n.value=Date.now()})});const p=i=>ta(n,i),d=i=>s.value.includes(i)?(s.value=s.value.filter(b=>b!==i),!1):(s.value.push(i),!0),g=i=>z.orderBy([i.frontrun,...i.center,i.backrun],[b=>b.block_unixtime,b=>b.tx_position]),h=async i=>{if(!t.socket)return;const b=new Ws(t.socket),{sandwiches:$,totalPages:k}=await b.getSandwiches(i);t.sandwiches=$,t.sandwichesPage={cur:i,total:k}},v=i=>{d(i)};return(i,b)=>(f(),P(l(be),{class:"datatable-sandwiches","columns-header":"auto 1fr auto","columns-data":"sandwiches-columns-data",rows:r.value,columns:["Pool","Action","Affected Contract","Time"],expanded:s.value,onSelected:v},Wt({"header-title":y(()=>[u("div",Yf,L(l(e)("title")),1),m(l(pe),{modelValue:a.value,"onUpdate:modelValue":b[0]||(b[0]=$=>a.value=$),class:"search",search:!0,placeholder:l(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:y($=>[u("div",null,[u("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.poolAddress}`,target:"_blank"},L($.item.poolName),9,jf)]),u("div",null,[u("div",Jf,[u("a",{class:"vote-link",style:{"font-family":"monospace"},target:"_blank",href:`https://etherscan.io/address/${$.item.center[0].trader}`},L(l(ke)($.item.center[0].trader)),9,Kf),u("span",null," lost "+L(l(Ve)($.item.user_losses_details.reduce((k,I)=>k+I.amount,0)))+" "+L($.item.user_losses_details[0].unit),1),u("span",null,L(l(Ve)(-$.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+L(l(Ve)($.item.lossInUsd)),1)])]),u("div",null,L($.item.label),1),u("div",Zf,L(p($.item.frontrun.block_unixtime)),1)]),"row-details":y($=>[m(Qf,{class:"transactions",txs:g($.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:2},[_.value>Lt?{name:"header-actions",fn:y(()=>[m(l(Qe),{class:"pagination","items-count":_.value,"items-per-page":Lt,page:c.value,onPage:h},null,8,["items-count","page"])]),key:"0"}:void 0]),1032,["rows","expanded"]))}});function uo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Sandwiches"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof uo=="function"&&uo(Ns);const Xf=A(Ns,[["__scopeId","data-v-57814ad9"]]),eg={class:"mev"},tg="wss://api.curvemonitor.com",ag=S({__name:"MEV",setup(o){const e=gh(tg),t=new Ws(e),a=$t();return a.socket=e,q(()=>{e.connect(),t.getSandwichLabelOccurrences().then(s=>{a.labelRankingExtended=s}),t.getSandwiches().then(s=>{a.sandwiches=s.sandwiches,a.sandwichesPage={cur:1,total:s.totalPages}})}),(s,n)=>(f(),w("div",eg,[m(Vf,{style:{"grid-row":"1","grid-column":"1"}}),m(Bf,{style:{"grid-row":"1","grid-column":"2"}}),m(Xf,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const og=A(ag,[["__scopeId","data-v-25cc261e"]]);function Pe(o){return o.executed?"executed":o.end>new Date().getTime()/1e3?"active":Ys(o)&&Qs(o)&&Gs(o)?"passed":"denied"}function Gs(o){return o.votesFor>o.support*o.quorum*o.totalSupply}function Qs(o){return o.votesFor+o.votesAgainst>o.quorum*o.totalSupply}function Ys(o){return o.votesFor>o.votesAgainst}const js=S({__name:"Status",props:{proposal:{}},setup(o){const{t:e}=B(),t=x(()=>{if(Pe(o.proposal)==="denied")if(Qs(o.proposal))if(Ys(o.proposal)){if(!Gs(o.proposal))return e("no-support")}else return e("no-win");else return e("no-quorum");return""}),a=x(()=>{switch(Pe(o.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,n)=>(f(),P(l(Ie),{class:"status","tooltip-type":"underline",label:l(e)("status"),"has-value":!0,tooltip:t.value},{default:y(()=>[t.value?(f(),P(l(De),{key:0},{item:y(()=>[u("span",{class:R(["status-value",l(Pe)(s.proposal)])},L(a.value),3)]),default:y(()=>[U(" "+L(t.value),1)]),_:1})):(f(),w("span",{key:1,class:R(["status-value",l(Pe)(s.proposal)])},L(a.value),3))]),_:1},8,["label","tooltip"]))}});function po(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:t=>{const{normalize:a}=t;return a(["Status"])},active:t=>{const{normalize:a}=t;return a(["Active"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])},"no-quorum":t=>{const{normalize:a}=t;return a(["Quorum was not reached"])},"no-support":t=>{const{normalize:a}=t;return a(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":t=>{const{normalize:a}=t;return a(["More 'against' votes than 'for' votes"])}}})}typeof po=="function"&&po(js);const sg=A(js,[["__scopeId","data-v-00fa2be1"]]),Js=S({__name:"Type",props:{proposal:{}},setup(o){const{t:e}=B(),t=x(()=>{switch(o.proposal.type){case"gauge":return e("gauge");case"parameter":return e("parameter");case"other":return e("other");default:return"Unk. Type"}});return(a,s)=>(f(),P(l(Ie),{class:"type",label:l(e)("type"),value:t.value,"has-value":!0},null,8,["label","value"]))}});function _o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{type:t=>{const{normalize:a}=t;return a(["Type"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof _o=="function"&&_o(Js);const ng=["href"],Ks=S({__name:"Proposer",props:{proposal:{}},setup(o){const{t:e}=B();return(t,a)=>(f(),P(l(Ie),{class:"proposer",label:l(e)("proposer"),"has-value":!0},{default:y(()=>[u("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},L(l(ke)(t.proposal.proposer)),9,ng)]),_:1},8,["label"]))}});function mo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:t=>{const{normalize:a}=t;return a(["Proposer"])}}})}typeof mo=="function"&&mo(Ks);const Rt=S({__name:"Date",props:{proposal:{},type:{}},setup(o){const{t:e}=B();let t;const a=C(""),s=x(()=>{switch(o.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),n=x(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(o.proposal.end*1e3);return r>new Date?a.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=x(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString()+" "+new Date(o.proposal.start*1e3).toTimeString();case"end":return new Date(o.proposal.end*1e3).toLocaleDateString()+" "+new Date(o.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});q(()=>{_()});const _=()=>{const r=new Date(o.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=Yn(r)})};return(r,p)=>(f(),P(l(Ie),{class:"date","tooltip-type":"underline",label:s.value,value:n.value,"has-value":!0,tooltip:c.value},null,8,["label","value","tooltip"]))}});function vo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:t=>{const{normalize:a}=t;return a(["Start"])},end:t=>{const{normalize:a}=t;return a(["End"])}}})}typeof vo=="function"&&vo(Rt);const lg=o=>(X("data-v-6bb4b64e"),o=o(),ee(),o),rg={class:"id"},ig={class:"metadata"},cg={class:"row"},ug=lg(()=>u("i",{class:"fas fa-chevron-up"},null,-1)),dg=[ug],Zs=S({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(f(),w("div",{class:"proposal-summary",onClick:s[0]||(s[0]=n=>e("toggleExpand"))},[u("div",{class:R(["title",{"no-title":!a.proposal.metadata}])},[u("div",rg,L(a.proposal.id),1),u("div",ig,L(a.proposal.metadata||l(t)("no-title")),1)],2),u("div",cg,[m(sg,{class:"item",proposal:a.proposal},null,8,["proposal"]),m(Js,{class:"item",proposal:a.proposal},null,8,["proposal"]),m(Ks,{class:"item",proposal:a.proposal},null,8,["proposal"]),m(Rt,{class:"item",proposal:a.proposal,type:"start"},null,8,["proposal"]),m(Rt,{class:"item",proposal:a.proposal,type:"end"},null,8,["proposal"]),u("div",{class:R(["item expander",{expanded:a.expanded}])},dg,2)])]))}});function ho(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":t=>{const{normalize:a}=t;return a(["< No Title >"])}}})}typeof ho=="function"&&ho(Zs);const pg=A(Zs,[["__scopeId","data-v-6bb4b64e"]]),Xe=o=>(X("data-v-96bba83b"),o=o(),ee(),o),_g={class:"results"},mg={class:"heading"},vg={class:"choice"},hg={class:"label"},fg={class:"amount"},gg={class:"left"},bg=Xe(()=>u("span",null," veCRV",-1)),yg={class:"right"},$g=Xe(()=>u("span",null,"(",-1)),wg=Xe(()=>u("span",null,")",-1)),Cg={class:"choice"},kg={class:"label"},Sg={class:"amount"},xg={class:"left"},Ag=Xe(()=>u("span",null," veCRV",-1)),Lg={class:"right"},Ig=Xe(()=>u("span",null,"(",-1)),Pg=Xe(()=>u("span",null,")",-1)),fo=4,Xs=S({__name:"VotingResults",props:{proposal:{}},setup(o){const{t:e}=B(),t=x(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=x(()=>o.proposal.votesFor/t.value*100),s=x(()=>o.proposal.votesAgainst/t.value*100);return(n,c)=>(f(),w("div",_g,[u("div",mg,L(l(e)("results")),1),u("div",vg,[u("div",hg,L(l(e)("for")),1),u("div",fg,[u("div",gg,[m(l(O),{value:n.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),bg]),u("div",yg,[$g,m(l(O),{value:a.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),wg])]),u("div",{class:"bar",style:me({width:`${Math.max(fo,a.value)}%`})},null,4)]),u("div",Cg,[u("div",kg,L(l(e)("against")),1),u("div",Sg,[u("div",xg,[m(l(O),{value:n.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Ag]),u("div",Lg,[Ig,m(l(O),{value:s.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Pg])]),u("div",{class:"bar",style:me({width:`${Math.max(fo,s.value)}%`})},null,4)])]))}});function go(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{results:t=>{const{normalize:a}=t;return a(["Results"])},for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof go=="function"&&go(Xs);const Tg=A(Xs,[["__scopeId","data-v-96bba83b"]]),Dg=o=>(X("data-v-566e4086"),o=o(),ee(),o),Mg={class:"quorum"},Vg={class:"heading"},zg={class:"amount"},Bg={class:"bar"},Og={class:"percentages"},Rg=Dg(()=>u("div",{class:"zero"},"0%",-1)),Fg={class:"quorum"},en=S({__name:"VotingQuorum",props:{proposal:{}},setup(o){const{t:e}=B(),t=x(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=x(()=>o.proposal.quorum*o.proposal.totalSupply),s=x(()=>t.value/a.value*100);return(n,c)=>(f(),w("div",Mg,[u("div",Vg,L(l(e)("quorum")),1),u("div",zg,[m(l(O),{value:t.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" / "),m(l(O),{value:a.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" veCRV ")]),u("div",Bg,[u("div",{class:"support",style:me({width:`${s.value}%`})},null,4),u("div",{class:"quorum",style:me({width:`${100-s.value}%`})},null,4)]),u("div",Og,[Rg,u("div",Fg,[m(l(O),{value:n.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])]))}});function bo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:t=>{const{normalize:a}=t;return a(["Quorum"])}}})}typeof bo=="function"&&bo(en);const Ug=A(en,[["__scopeId","data-v-566e4086"]]),Eg={class:"buttons"},qg={class:"heading"},Wg={class:"buttons"},tn=S({__name:"VotingButtons",setup(o){const{t:e}=B();return(t,a)=>(f(),w("div",Eg,[u("div",qg,L(l(e)("voting")),1),u("div",Wg,[m(l(K),{value:l(e)("view-discussion"),primary:!1,disabled:!0},null,8,["value"]),m(l(K),{value:l(e)("vote-vecrv"),primary:!0,disabled:!0},null,8,["value"]),m(l(K),{value:l(e)("vote-cvx"),primary:!0,disabled:!0},null,8,["value"])])]))}});function yo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{voting:t=>{const{normalize:a}=t;return a(["Voting"])},"view-discussion":t=>{const{normalize:a}=t;return a(["View Discussion"])},"vote-vecrv":t=>{const{normalize:a}=t;return a(["Vote with veCRV"])},"vote-cvx":t=>{const{normalize:a}=t;return a(["Vote with CVX"])}}})}typeof yo=="function"&&yo(tn);const Hg=A(tn,[["__scopeId","data-v-b88ba085"]]),Ng={class:"voting"},Gg=S({__name:"Voting",props:{proposal:{}},setup(o){return(e,t)=>(f(),w("div",Ng,[Po(m(Hg,null,null,512),[[To,!1]]),m(Ug,{proposal:e.proposal},null,8,["proposal"]),m(Tg,{proposal:e.proposal},null,8,["proposal"])]))}});const Qg=A(Gg,[["__scopeId","data-v-3e562905"]]),Yg={class:"voters"},jg={class:"for"},Jg={class:"title"},Kg={class:"address"},Zg=["href"],Xg={class:"amount"},eb={class:"percentage"},tb={class:"against"},ab={class:"title"},ob={class:"percentage"},sb={class:"amount"},nb={class:"address"},lb=["href"],an=S({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(o){const{t:e}=B(),t=x(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(c=>c.supports).orderBy(c=>c.stake,"desc").value():null),a=x(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(c=>!c.supports).orderBy(c=>c.stake,"desc").value():null),s=c=>c==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":ke(c,12),n=c=>c/(o.proposal.votesFor+o.proposal.votesAgainst)*100;return(c,_)=>(f(),w("div",Yg,[u("div",jg,[u("div",Jg,L(l(e)("for")),1),(f(!0),w(ae,null,ce(t.value,r=>(f(),w("div",{key:r.voter,class:"vote"},[u("div",Kg,[u("a",{href:`https://etherscan.io/address/${r.voter}`,target:"_blank"},L(s(r.voter)),9,Zg)]),u("div",Xg,[m(l(O),{value:r.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",eb,[m(l(O),{value:n(r.stake),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),u("div",tb,[u("div",ab,L(l(e)("against")),1),(f(!0),w(ae,null,ce(a.value,r=>(f(),w("div",{key:r.voter,class:"vote"},[u("div",ob,[m(l(O),{value:n(r.stake),precision:0,type:"percentage"},null,8,["value"])]),u("div",sb,[m(l(O),{value:r.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),u("div",nb,[u("a",{href:`https://etherscan.io/address/${r.voter}`,target:"_blank"},L(s(r.voter)),9,lb)])]))),128))])]))}});function $o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof $o=="function"&&$o(an);const rb=A(an,[["__scopeId","data-v-66464236"]]),ib="https://api-py.llama.airforce/curve/v1/dao/proposals",cb="https://api-py.llama.airforce/curve/v1/dao/proposals/ownership/",ub="https://api-py.llama.airforce/curve/v1/dao/proposals/parameter/",db=o=>{const e=o.voteId,t=o.voteType==="PARAMETER"?"parameter":"gauge",a=o.metadata,s=o.creator,n=parseInt(o.startDate,10),c=n+604800,_=tt(BigInt(o.minAcceptQuorum),18n),r=tt(BigInt(o.supportRequired),18n),p=parseInt(o.voteCount,10),d=tt(BigInt(o.votesFor),18n),g=tt(BigInt(o.votesAgainst),18n),h=o.executed,v=tt(BigInt(o.totalSupply),18n);return{id:e,type:t,metadata:a,proposer:s,start:n,end:c,quorum:_,support:r,votes:p,votesFor:d,votesAgainst:g,executed:h,totalSupply:v}},pb=o=>{const e=o.script,t=o.votes.map(a=>({voter:a.voter,supports:a.supports,stake:a.stake/Math.pow(10,18)}));return{script:e,votes:t}};class on extends ye{async getProposals(){return(await this.fetch(ib)).proposals.map(db)}async getProposalDetails(e){const t=e.type==="gauge"?cb:ub,a=await this.fetch(`${t}${e.id}`);return pb(a)}}const _b={class:"technicals"},mb={class:"technical"},vb={class:"heading"},hb={class:"description"},fb={class:"technical"},gb={class:"technical"},bb=["innerHTML"],sn=S({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){const{t:e}=B(),t=new on(H()),a=C(null),s=C(!0),n=C(o.proposal.votes>0),c=x(()=>a.value?a.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,_=>/[A-F]/g.test(_)&&It.isAddress(_)?`<a href='https://etherscan.io/address/${_}'>${_}</a>`:_):null);return M(()=>o.expanded,async _=>{_&&a.value===null&&(a.value=await t.getProposalDetails(o.proposal))},{immediate:!0}),(_,r)=>(f(),w("div",_b,[u("div",mb,[u("div",vb,L(l(e)("description")),1),u("div",hb,L(_.proposal.metadata),1)]),u("div",fb,[u("div",{class:"heading",onClick:r[0]||(r[0]=p=>n.value=!n.value)},[U(L(l(e)("voters"))+" ("+L(_.proposal.votes)+") ",1),u("i",{class:R(["fas fa-chevron-up expander",{expandedVoters:n.value}])},null,2)]),m(l(Be),{expanded:n.value},{default:y(()=>[a.value?(f(),P(rb,{key:0,class:"voters",proposal:_.proposal,"proposal-details":a.value},null,8,["proposal","proposal-details"])):V("",!0)]),_:1},8,["expanded"])]),u("div",gb,[u("div",{class:"heading",onClick:r[1]||(r[1]=p=>s.value=!s.value)},[U(L(l(e)("calldata"))+" ",1),u("i",{class:R(["fas fa-chevron-up expander",{expandedCallData:s.value}])},null,2)]),m(l(Be),{expanded:s.value},{default:y(()=>[a.value?(f(),w("div",{key:0,class:"calldata",innerHTML:c.value},null,8,bb)):V("",!0)]),_:1},8,["expanded"])])]))}});function wo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:t=>{const{normalize:a}=t;return a(["Description"])},calldata:t=>{const{normalize:a}=t;return a(["Calldata"])},voters:t=>{const{normalize:a}=t;return a(["Voters"])}}})}typeof wo=="function"&&wo(sn);const yb=A(sn,[["__scopeId","data-v-59fbdfd4"]]),$b={class:"proposal-details"},wb={class:"proposal-details-container"},Cb=S({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",$b,[u("div",wb,[m(yb,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),m(Qg,{proposal:e.proposal},null,8,["proposal"])])]))}});const kb=A(Cb,[["__scopeId","data-v-71d3377a"]]),Sb=S({__name:"Proposal",props:{proposal:{}},setup(o){const e=C(!1);return(t,a)=>(f(),P(l(Q),{class:"proposal",compact:!0},{default:y(()=>[m(pg,{proposal:t.proposal,expanded:e.value,onToggleExpand:a[0]||(a[0]=s=>e.value=!e.value)},null,8,["proposal","expanded"]),m(l(Be),{class:"proposal-details-collapsible",expanded:e.value},{default:y(()=>[m(kb,{proposal:t.proposal,expanded:e.value},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1}))}});const xb=A(Sb,[["__scopeId","data-v-df8bfdec"]]),Ab=["gauge","parameter","other"],Lb={class:"item"},Ib={class:"label"},nn=S({__name:"ProposalTypeSelect",emits:["select"],setup(o,{emit:e}){const{t}=B(),a=["all",...Ab],s=C(!1),n=C("all"),c=()=>{s.value=!s.value},_=r=>{n.value=r,e("select",n.value)};return(r,p)=>(f(),P(l(Oe),{class:"select",options:a.map(d=>d),selected:n.value,open:s.value,onOpen:c,onClose:p[0]||(p[0]=d=>s.value=!1),onInput:_},{item:y(d=>[u("div",Lb,[u("div",Ib,L(l(t)(d.item)),1)])]),_:1},8,["options","selected","open"]))}});function Co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof Co=="function"&&Co(nn);const Pb=A(nn,[["__scopeId","data-v-9a121ace"]]),Tb={class:"proposals-tab"},Db={class:"filters"},Mb={key:1},at=10,ln=S({__name:"ProposalsTab",props:{proposals:{}},setup(o){const{t:e}=B(),t=C(1),a=C(""),s=C(e("search-placeholder")),n=C("all"),c=x(()=>{const d=a.value.toLocaleLowerCase(),g=n.value==="all"?()=>!0:h=>h.type===n.value;return z.chain(o.proposals).filter(g).filter(h=>h.metadata.toLocaleLowerCase().includes(d)).value()}),_=x(()=>z.chain(c.value).drop((t.value-1)*at).take(at).value()),r=d=>{n.value=d},p=d=>{t.value=d};return M(_,d=>{d.length===0&&(t.value=Math.max(1,Math.ceil(c.value.length/at)))}),(d,g)=>(f(),w("div",Tb,[u("div",Db,[m(l(pe),{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=h=>a.value=h),class:"search",placeholder:s.value,search:!0},null,8,["modelValue","placeholder"]),m(Pb,{onSelect:r}),c.value.length>0?(f(),P(l(Qe),{key:0,class:"pagination","items-count":c.value.length,"items-per-page":at,page:t.value,onPage:p},null,8,["items-count","page"])):V("",!0)]),(f(!0),w(ae,null,ce(_.value,h=>(f(),P(xb,{key:h.id,proposal:h},null,8,["proposal"]))),128)),c.value.length>0?(f(),P(l(Qe),{key:0,class:"pagination","items-count":c.value.length,"items-per-page":at,page:t.value,onPage:p},null,8,["items-count","page"])):V("",!0),c.value.length===0?(f(),w("div",Mb,L(l(e)("no-proposals")),1)):V("",!0)]))}});function ko(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve proposals"])},"no-proposals":t=>{const{normalize:a}=t;return a(["No proposals could be found."])}}})}typeof ko=="function"&&ko(ln);const ot=A(ln,[["__scopeId","data-v-2f239d56"]]),Vb={class:"proposals"},rn=S({__name:"Proposals",setup(o){const{t:e}=B(),t=new on(H()),a=C(!1),s=C([]),n=C(0),c=x(()=>s.value.filter(d=>Pe(d)==="active")),_=x(()=>s.value.filter(d=>Pe(d)==="passed")),r=x(()=>s.value.filter(d=>Pe(d)==="denied")),p=x(()=>s.value.filter(d=>Pe(d)==="executed"));return q(async()=>{a.value=!0;try{s.value=await mt(t.getProposals().then(d=>d.sort((g,h)=>h.start-g.start)),1e3)}finally{a.value=!1}}),(d,g)=>(f(),w("div",Vb,[a.value?(f(),P(l(nt),{key:1,class:"spinner"})):(f(),P(l(je),{key:0,onTab:g[0]||(g[0]=h=>n.value=h.index)},{default:y(()=>[m(l(ne),{header:l(e)("all")},{default:y(()=>[n.value===0?(f(),P(ot,{key:0,proposals:s.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(l(ne),{header:l(e)("active")},{default:y(()=>[n.value===1?(f(),P(ot,{key:0,proposals:c.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(l(ne),{header:l(e)("passed")},{default:y(()=>[n.value===2?(f(),P(ot,{key:0,proposals:_.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(l(ne),{header:l(e)("denied")},{default:y(()=>[n.value===3?(f(),P(ot,{key:0,proposals:r.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(l(ne),{header:l(e)("executed")},{default:y(()=>[n.value===4?(f(),P(ot,{key:0,proposals:p.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"])]),_:1}))]))}});function So(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},active:t=>{const{normalize:a}=t;return a(["Active"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])}}})}typeof So=="function"&&So(rn);const zb=A(rn,[["__scopeId","data-v-bdee741e"]]),Bb={class:"form"},Ob={class:"field"},Rb={class:"label"},Fb={class:"value"},Ub={class:"field"},Eb={class:"label"},qb={class:"value"},cn=S({__name:"DeployGauge",emits:["gauge"],setup(o,{emit:e}){const{t}=B(),a=C(!1),s=C(""),n=C(0),c=x(()=>Gt),_=x(()=>Mo(s.value.toLocaleLowerCase())&&n.value>0),r=async()=>{const p=ze();if(!p||!s.value||!n.value)return;const d=p.getSigner(),g=Wo.connect(Ro,d);a.value=!0,typeof n.value=="string"&&(n.value=parseFloat(n.value));const h=jn(n.value,18n);try{const v=await g.deploy_gauge(s.value.toLocaleLowerCase(),h);e("gauge",v)}catch(v){v instanceof Error&&Vo({text:v.message,type:"error"})}finally{a.value=!1}};return(p,d)=>(f(),P(l(Q),{class:"add-new",title:"Gauge Creation"},{default:y(()=>[u("div",Bb,[u("div",Ob,[u("div",Rb,L(l(t)("receiver"))+":",1),u("div",Fb,[m(l(pe),{modelValue:s.value,"onUpdate:modelValue":d[0]||(d[0]=g=>s.value=g),placeholder:c.value},null,8,["modelValue","placeholder"])])]),u("div",Ub,[u("div",Eb,L(l(t)("amount"))+":",1),u("div",qb,[m(l(Yt),{modelValue:n.value,"onUpdate:modelValue":d[1]||(d[1]=g=>n.value=g),min:1,max:3303030299},null,8,["modelValue"])])])]),m(l(K),{class:"action-button request",value:l(t)("submit"),disabled:!_.value||a.value,primary:!0,web3:!0,onClick:r},null,8,["value","disabled"])]),_:1}))}});function xo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{receiver:t=>{const{normalize:a}=t;return a(["Receiver"])},amount:t=>{const{normalize:a}=t;return a(["CRV Amount (Max)"])},submit:t=>{const{normalize:a}=t;return a(["Create Fundraising Gauge"])}}})}typeof xo=="function"&&xo(cn);const Wb=A(cn,[["__scopeId","data-v-af82160d"]]),Hb={class:"form"},Nb={class:"field"},Gb={class:"label"},Qb={class:"value"},Yb={class:"field"},jb={class:"label"},Jb={class:"value"},un=S({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(o,{emit:e}){const{t}=B(),a=C(!1),s=C(""),n=C(t("placeholder")),c=x(()=>Gt),_=x(()=>Mo(s.value)&&!!n.value),r=x(()=>_.value&&!a.value);M(()=>o.gauge,g=>{s.value=g.toLocaleLowerCase()});const p=async()=>{const g=ze();if(!g||!s.value)return;const h=g.getSigner();a.value=!0;try{await d(h),e("request")}catch(v){v instanceof Error&&Vo({text:v.message,type:"error"})}finally{a.value=!1}},d=async g=>{const h="0xe478de485ad2fe566d49342cbd03e49ed7db3356",v="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",i=(_n,mn)=>String(_n).padStart(mn,"0"),b=qo.createInterface(),$=Uo.createInterface(),k="10",I=b.encodeFunctionData("add_gauge",[s.value,k,0]);let D="0x00000001";const T=$.encodeFunctionData("execute",[Fo,0,I]).substring(2),W=i((Math.floor(T.length)/2).toString(16),8);D=`${D}${v.substring(2)}${W}${T}`;const te=new FormData,oa={text:n.value.replace(/(\r\n|\n|\r)/gm,"")};te.append("file",JSON.stringify(oa));const pn=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:te})).json()).Hash;await Eo.connect(h,g).newVote(D,`ipfs:${pn}`,!1,!1,{gasLimit:1e6})};return(g,h)=>(f(),P(l(Q),{class:"add-new",title:"Gauge Addition Vote"},{default:y(()=>[u("div",Hb,[u("div",Nb,[u("div",Gb,L(l(t)("gauge"))+":",1),u("div",Qb,[m(l(pe),{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=v=>s.value=v),placeholder:c.value},null,8,["modelValue","placeholder"])])]),u("div",Yb,[u("div",jb,L(l(t)("description"))+":",1),u("div",Jb,[m(l(pe),{modelValue:n.value,"onUpdate:modelValue":h[1]||(h[1]=v=>n.value=v)},null,8,["modelValue"])])])]),m(l(K),{class:"action-button request",value:l(t)("submit"),disabled:!r.value,primary:!0,web3:!0,onClick:p},null,8,["value","disabled"])]),_:1}))}});function Ao(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{gauge:t=>{const{normalize:a}=t;return a(["Gauge Address"])},description:t=>{const{normalize:a}=t;return a(["Vote Description"])},placeholder:t=>{const{normalize:a}=t;return a(["Add a grant gauge: "])},submit:t=>{const{normalize:a}=t;return a(["Create Gauge Addition Vote"])}}})}typeof Ao=="function"&&Ao(un);const Kb=A(un,[["__scopeId","data-v-2e6343b9"]]),Zb={class:"ve-funder"},Xb={class:"explanation"},ey={class:"step-one"},ty=["innerHTML"],ay=["innerHTML"],oy={class:"step-two"},sy=["innerHTML"],ny={href:"https://gov.curve.fi/",target:"_blank"},ly={class:"forms"},dn=S({__name:"VeFunder",setup(o){const{t:e}=B(),t=C(""),a=s=>{t.value=s};return(s,n)=>(f(),w("div",Zb,[u("div",Xb,[m(l(Q),null,{default:y(()=>[u("div",ey,[u("span",{innerHTML:l(e)("process")},null,8,ty),u("ol",null,[u("li",null,L(l(e)("process-1")),1),u("li",{innerHTML:l(e)("process-2")},null,8,ay)])]),u("div",oy,[u("span",{innerHTML:l(e)("requirements")},null,8,sy),u("ol",null,[u("li",null,[U(L(l(e)("requirements-1a"))+" ",1),u("a",ny,L(l(e)("requirements-1b")),1)]),u("li",null,L(l(e)("requirements-2")),1)])])]),_:1})]),u("div",ly,[m(Wb,{onGauge:a}),m(Kb,{gauge:t.value},null,8,["gauge"])])]))}});function Lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{process:t=>{const{normalize:a}=t;return a(["<strong>veFunder</strong> process:"])},"process-1":t=>{const{normalize:a}=t;return a(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":t=>{const{normalize:a}=t;return a(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:t=>{const{normalize:a}=t;return a(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":t=>{const{normalize:a}=t;return a(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":t=>{const{normalize:a}=t;return a(["at this address"])},"requirements-2":t=>{const{normalize:a}=t;return a(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Lo=="function"&&Lo(dn);const ry=A(dn,[["__scopeId","data-v-9fe06474"]]),iy={titleRoute:"/",routes:[{path:"/",component:Up},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/pools",component:__},{path:"/platform/gauges",component:S_},{path:"/platform/revenue/:tab?",name:"revenue",component:om},{path:"/platform/crvusd",name:"crvusd",component:ov},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:oh},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Df},{path:"/pool/mev",component:og},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:zb},{path:"/dao/vefunder",component:ry}],menuItems:[{label:"Platform",children:[{to:"/platform/pools",label:"Pools"},{to:"/platform/gauges",label:"Gauges"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"}]},{label:"Pool",children:[{to:"/pool/monitor",label:"Live Monitor",tag:"beta"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};Ht.registerLanguage("xml",Fn);Ht.registerLanguage("scss",Un);Ht.registerLanguage("typescript",En);const aa=qn(sc),cy=Wn({legacy:!1,locale:"en",fallbackLocale:"en"});aa.use(cy);const uy=Hn();aa.use(uy);const dy=[gp,iy],py=Kt();py.pages=dy;const _y=hc();aa.use(_y).use(Nn).use(Gn).use(Io).mount("#app");

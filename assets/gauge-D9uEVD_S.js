import{ai as u,ak as i,aj as r,ae as n,z as s}from"./index-BYnNAfSP.js";const l=e=>({address:e.address,type:e.gauge_type,name:e.name??void 0,version:e.version??void 0,lpToken:e.lp_token?e.lp_token:void 0,pool:e.pool?{address:e.pool.address,name:e.pool.name,chain:e.pool.chain,tvlUsd:e.pool.tvl_usd,tradingVolume24h:e.pool.trading_volume_24h}:void 0,tokens:(e.tokens??[]).map(t=>({symbol:t.symbol,address:t.address,precision:t.precision})),market:e.market?{name:e.market.name,chain:e.market.chain}:void 0,killed:e.is_killed,emissions:e.emissions,weight:BigInt(e.gauge_weight),weightDelta7d:e.gauge_weight_7d_delta?e.gauge_weight_7d_delta:void 0,weightDelta60d:e.gauge_weight_60d_delta?e.gauge_weight_60d_delta:void 0,weightRelative:e.gauge_relative_weight,weightRelativeDelta7d:e.gauge_relative_weight_7d_delta?e.gauge_relative_weight_7d_delta:void 0,weightRelativeDelta60d:e.gauge_relative_weight_60d_delta?e.gauge_relative_weight_60d_delta:void 0,creationTx:e.creation_tx,creationDate:u(e.creation_date),lastVoteTx:e.last_vote_tx??void 0,lastVoteDate:e.last_vote_date?u(e.last_vote_date):void 0}),d=e=>({user:e.user,weight:e.weight,blockNumber:e.block_number,timestamp:u(e.timestamp),tx:e.transaction}),c=e=>({killed:e.is_killed,weight:parseFloat(e.gauge_weight),weightRelative:parseFloat(e.gauge_relative_weight),emissions:parseFloat(e.emissions),epoch:e.epoch}),_=e=>({addressFrom:e.from_address,addressTo:e.to_address??void 0,calldata:e.calldata,calldataDecoded:e.decoded_calldata??void 0,blockNumber:e.block_number,timestamp:u(e.dt)}),v=e=>({gauge:e.gauge,gaugeName:e.gauge_name,weight:e.weight,blockNumber:e.block_number,timestamp:u(e.timestamp),txHash:e.transaction});async function y(e){const t=r(e);return(await i(`${t}/v1/dao/gauges/overview`)).gauges.map(l)}async function m(e,t){const a=r(t),o=await i(`${a}/v1/dao/gauges/${e}/metadata`);return l(o)}async function p(e,t){const a=r(t);return(await i(`${a}/v1/dao/gauges/${e}/votes`)).votes.map(d)}async function h(e,t){const a=r(t);return(await i(`${a}/v1/dao/gauges/${e}/weight_history`)).data.map(c)}async function w(e,t){const a=r(t),o=await i(`${a}/v1/dao/gauges/${e}/deployment`);return _(o)}async function b(e,t){const a=r(t);return(await i(`${a}/v1/dao/gauges/votes/user/${e}`)).votes.map(v)}function g(){return{initialData:[],initialDataUpdatedAt:0}}function q(){return n({queryKey:["gauge-overview"],queryFn:()=>y(),...g()})}function f(e){return n({queryKey:["gauge-metadata",s(()=>e.value)],queryFn:({queryKey:[,t]})=>m(t),enabled:s(()=>!!e.value)})}function D(e){return n({queryKey:["gauge-votes",s(()=>e.value)],queryFn:({queryKey:[,t]})=>p(t),enabled:s(()=>!!e.value),...g()})}function K(e){return n({queryKey:["gauge-weight-history",s(()=>e.value)],queryFn:({queryKey:[,t]})=>h(t),enabled:s(()=>!!e.value),...g()})}function $(e){return n({queryKey:["gauge-deployment",s(()=>e.value)],queryFn:({queryKey:[,t]})=>w(t),enabled:s(()=>!!e.value)})}function F(e){return n({queryKey:["gauge-user-votes",s(()=>e.value)],queryFn:({queryKey:[,t]})=>b(t),enabled:s(()=>!!e.value),...g()})}export{q as a,$ as b,K as c,D as d,f as e,F as u};

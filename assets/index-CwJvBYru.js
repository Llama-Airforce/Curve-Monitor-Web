import{o as g,c as T,p as ue,a as de,b as p,d as P,e as I,n as O,f as B,g as N,t as L,r as se,w as k,h as _,T as fr,F as ne,i as _e,j as $a,k as je,l as R,u as Be,m as ct,q as s,V as br,s as gr,v as yr,x as wr,y as q,z as $r,D as Ee,A as Ca,B as w,C as x,E as Cr,G as kr,H as Sr,I as St,J as _n,K as Le,L as M,M as fn,N as ie,O as ka,P as Gt,Q as Lr,R as Tr,S as Ar,U as Pr,W as Se,X as bn,Y as Ir,Z as Vr,_ as xe,$ as dt,a0 as Ce,a1 as Rr,a2 as Dr,a3 as qr,a4 as Fr,a5 as Mr,a6 as Te,a7 as Y,a8 as kt,a9 as E,aa as le,ab as gn,ac as yn,ad as wn,ae as pt,af as Xt,ag as ve,ah as xr,ai as Br,aj as $e,ak as Yt,al as Or,am as Sa,an as Ur,ao as H,ap as we,aq as La,ar as Er,as as Wr,at as Hr,au as $n,av as jt,aw as Ta,ax as Cn,ay as Ct,az as ja,aA as Ga,aB as Aa,aC as Pa,aD as Kr,aE as kn,aF as Sn,aG as Xa,aH as Nr,aI as zr,aJ as Qr,aK as Ya,aL as jr,aM as Gr,aN as Xr,aO as Yr,aP as Za,aQ as Zr,aR as Jr,aS as ec,aT as tc,aU as ac,aV as sc,aW as oc,aX as nc,aY as lc,aZ as ic,a_ as rc}from"./vendor-BMndS4A2.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=e(o);fetch(o.href,n)}})();const V=(t,e)=>{const a=t.__vccOpts||t;for(const[o,n]of e)a[o]=n;return a},cc={},Ln=t=>(ue("data-v-ad2adcec"),t=t(),de(),t),uc={class:"lds-ripple"},dc=Ln(()=>p("div",null,null,-1)),pc=Ln(()=>p("div",null,null,-1)),mc=[dc,pc];function vc(t,e){return g(),T("div",uc,mc)}const He=V(cc,[["render",vc],["__scopeId","data-v-ad2adcec"]]),hc=["inert"],_c={class:"text"},fc=P({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(t){return(e,a)=>{const o=He;return g(),T("div",{class:"card",inert:!!e.loading},[e.loading!==null?(g(),I(o,{key:0,class:O(["loader",{loading:e.loading}])},null,8,["class"])):B("",!0),p("div",{class:O(["card-container",{loading:e.loading}])},[e.title?(g(),T("div",{key:0,class:O(["card-header",{collapsible:e.collapsible}])},[p("div",_c,[e.icon?(g(),T("i",{key:0,class:O(["icon",e.icon])},null,2)):B("",!0),N(" "+L(e.title),1)]),se(e.$slots,"actions",{},void 0,!0)],2)):(g(),T("div",{key:1,class:O(["card-no-header",{compact:e.compact}])},null,2)),p("div",{class:O(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[se(e.$slots,"default",{},void 0,!0)],2)],2)],8,hc)}}}),Z=V(fc,[["__scopeId","data-v-7d5bd921"]]),bc={key:0,class:"fas fa-chevron-right"},gc=P({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(t,{emit:e}){const a=e,o=l=>{var i;const c=t.active?t.active.id===l.id:((i=t.crumbs.filter(r=>!r.hint).at(-1))==null?void 0:i.id)===l.id;return l.hint??c},n=l=>{var c;return((c=t.crumbs.at(-1))==null?void 0:c.id)===l.id};return(l,c)=>{const i=Z;return g(),I(i,null,{default:k(()=>[_(fr,{name:"fade",tag:"ul"},{default:k(()=>[(g(!0),T(ne,null,_e(l.crumbs,r=>(g(),T("li",{key:r.id},[(g(),I($a(o(r)?"span":"a"),{class:O({active:o(r),hint:r.hint}),onClick:d=>a("crumb",r)},{default:k(()=>[N(L(r.label),1)]),_:2},1032,["class","onClick"])),!n(r)||l.crumbs.length===1?(g(),T("i",bc)):B("",!0)]))),128))]),_:1})]),_:1})}}}),yc=V(gc,[["__scopeId","data-v-1c1116d3"]]),Oe=je("breadcrumbStore",()=>{const t=R([]),e=R(!1);return{crumbs:t,show:e}}),wc=t=>(ue("data-v-a9017ae5"),t=t(),de(),t),$c={class:"root"},Cc={class:"toolbar-container"},kc=wc(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Sc={class:"content"},Lc=P({__name:"Layout",setup(t){const e=Oe(),a=Be(),o=async n=>{n.pathName&&await a.push({name:n.pathName,...n.params&&{params:n.params()}})};return(n,l)=>{const c=ct("notifications"),i=yc,r=ct("router-view");return g(),T("div",$c,[_(c,{width:600,duration:-1}),_(s(br)),se(n.$slots,"navigation",{},void 0,!0),p("main",null,[p("div",Cc,[s(e).show?(g(),I(i,{key:0,class:"breadcrumb",crumbs:s(e).crumbs,onCrumb:o},null,8,["crumbs"])):B("",!0),kc]),p("div",Sc,[_(r,null,{default:k(({Component:d})=>[_(gr,{name:"fade",mode:"out-in"},{default:k(()=>[(g(),I($a(d)))]),_:2},1024)]),_:1})])])])}}}),Tc=V(Lc,[["__scopeId","data-v-a9017ae5"]]),Ac={class:"collapsible-inside"},Pc=P({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(t){return(e,a)=>(g(),T("div",{class:O(["collapsible-outside",{expanded:e.expanded}])},[p("div",Ac,[se(e.$slots,"default",{},void 0,!0)])],2))}}),At=V(Pc,[["__scopeId","data-v-25b74378"]]),Ic={class:"badge"},Vc={class:"label"},Rc=P({__name:"Badge",props:{label:{default:""}},setup(t){return(e,a)=>(g(),T("div",Ic,[p("div",Vc,L(e.label),1)]))}}),Dc=V(Rc,[["__scopeId","data-v-79abf25e"]]);function xt(t){return(t==null?void 0:t.children)!==void 0}function Ja(t){return(t==null?void 0:t.to)!==void 0}function qc(t,e,a){return t.reduce((o,n)=>({...o,[e(n)]:a(n)}),{})}function Fc(t){return t!=null}function Mc(t){function e(v){return v<10?"0"+v.toString():v.toString()}const a=t.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const o=1e3,n=o*60,l=n*60,c=l*24,i=Math.floor(a/c),r=Math.floor(a%c/l),d=Math.floor(a%l/n),u=Math.floor(a%n/o);return e(i)+":"+e(r)+":"+e(d)+":"+e(u)}function ze(t,e=0,a=".",o=","){const n=isFinite(+t)?+t:0,l=isFinite(+e)?Math.abs(e):0,c=typeof o>"u"?",":o,i=typeof a>"u"?".":a,r=function(u,v){const m=Math.pow(10,v);return Math.round(u*m)/m},d=(l?r(n,l):Math.round(n)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(d[1]||"").length<l&&(d[1]=d[1]||"",d[1]+=new Array(l-d[1].length+1).join("0")),d.join(i)}function z(t,e){const a=Math.abs(t);return e==="percentage"?"%":e==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function Q(t,e,a){const o=Math.abs(t);return e===1/0?t.toLocaleString():a==="percentage"?ze(t,e):a==="dollar"?o>=1*10**12?ze(t/10**12,e):o>=1*10**9?ze(t/10**9,e):o>=1*10**6?ze(t/10**6,e):o>=1*10**3?ze(t/10**3,e):ze(t,e):t.toString()}function Qe(t){return Number(t.toFixed(t>100?0:2)).toLocaleString()}function We(t,e){return parseFloat(yr(t,Number(e)))}function Ia(t,e){const a=Number(e),o=Number.isInteger(t)?t.toString():t.toFixed(a);return wr(o,a)}async function Tn(t,e=0,a=1e3){const o=await t(e,a),n=await(o.length>=a?Tn(t,e+1,a):Promise.resolve([]));return o.concat(n)}const An={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},ca=["tricrypto","usdm"];function Fe(t){const e=An[t];return e||t}function Va(t){const e=q.invert(An)[t];return e||t}function xc(t){return!!(ca.find(e=>e===t)??ca.find(e=>e===Fe(t))??ca.find(e=>e===Va(t)))}async function Lt(t,e=250){const a=new Promise(n=>setTimeout(()=>{n(null)},e)),[,o]=await Promise.all([a,t]);return o}function ba(t,e){return(Array.isArray(t)?t:[t]).some(o=>e.path.startsWith(o))}const Pn="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",es="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",In="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Vn="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Je="0xe478de485ad2fe566d49342cbd03e49ed7db3356",Bc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",Oc=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],Uc={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class Ec extends Error{constructor(e,a){super(a),this.status=e}}async function Wc(t,e,a){try{const o=await fetch(t,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:a});if(o.ok)return o;throw new Ec(o.status,`Fetch error ${o.status} for URL: ${t}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function Hc(t,e,a){return await(await Wc(t,e,a)).json()}class ke{async fetch(e,a,o){return Hc(e,a,o)}}class mt extends ke{constructor(e){super(),this.host=e}async getHost(){return await this.host}}class Rn extends ke{async getPrice(e){const a=`ethereum:${e}`;return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(o=>o.coins[a])}async getPrices(e){const a=e.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(o=>o.coins)}}async function Kc(t,e,a){const o=$r({abi:Oc,address:Bc,client:t}),n=await o.read.mainRewardRates().then(([v,m])=>q.zip(v,m)),l=await o.read.extraRewardRates().then(([v,m])=>q.zip(v,m)),c=q.chain(n).concat(l).filter(v=>v[1]>0).groupBy(v=>v[0]).map((v,m)=>({address:m,rate:v.reduce((h,b)=>h+b[1],BigInt(0))})).value(),i=q.chain(c).map(v=>v.address).concat([es]).uniq().value(),r=await e.getPrices(i).then(v=>qc(Object.keys(v).map(m=>({address:m.replace("ethereum:","").toLocaleLowerCase(),price:v[m].price})),m=>m.address,m=>Ia(m.price,18n))),d=[],u=r[es];for(const v of c){const m=await o.read.apr([v.rate,r[v.address.toLocaleLowerCase()],u]),h=We(m,18n);d.push(h)}return d}function zt(t){return t instanceof Error?t.message.includes("Exchange resulted in fewer coins than expected")||t.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":t.message.includes("HTTP request failed")&&t.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":t.message:JSON.stringify(t)}async function Dn(t,e){t.value=!0;try{return await e()}catch(a){Ee({text:zt(a),type:"error"});return}finally{t.value=!1}}const Nc={key:0},zc={class:"nav-link-container"},Qc={class:"nav-link-container"},jc={class:"left"},Gc={key:0,class:"icon"},Xc={class:"right"},Yc=P({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(t,{emit:e}){const a=e,o=Ca(),n=R(!0),l=w(()=>Ja(t.item)?[t.item]:xt(t.item)?t.item.children:[]),c=()=>{xt(t.item)&&t.item.children.filter(u=>ba(u.to,o)).length>0&&(n.value=!0)},i=d=>typeof d.label=="string"?d.label:d.label();x(()=>t.item,d=>{xt(d)&&(n.value=!d.initCollapsed),c()},{immediate:!0}),x(()=>o.fullPath,()=>{c()},{immediate:!0});const r=()=>{n.value=!n.value};return(d,u)=>{const v=Dc,m=ct("router-link"),h=At;return g(),T(ne,null,[s(xt)(d.item)?(g(),T("li",Nc,[p("a",{class:"nav-link node",onClick:r},[p("div",zc,[N(L(d.item.label)+" ",1),p("i",{class:O(["expander fas fa-chevron-up",{expanded:s(n)}])},null,2)])])])):B("",!0),_(h,{class:"items",expanded:s(n)},{default:k(()=>[p("ul",null,[(g(!0),T(ne,null,_e(s(l),b=>(g(),T("li",{key:i(b)},[s(Ja)(b)?(g(),I(m,{key:0,to:b.to,class:O(["nav-link leaf",{"router-link-active":s(ba)(b.to,s(o))}]),onClick:u[0]||(u[0]=f=>a("navigated"))},{default:k(()=>[p("div",Qc,[p("div",jc,[b.icon?(g(),T("div",Gc,[p("i",{class:O(b.icon)},null,2)])):B("",!0),N(" "+L(i(b)),1)]),p("div",Xc,[b.tag?(g(),I(v,{key:0,label:b.tag},null,8,["label"])):B("",!0)])])]),_:2},1032,["to","class"])):B("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Zc=V(Yc,[["__scopeId","data-v-35101021"]]),Jc=P({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(t,{emit:e}){const a=e,o=Ca(),n=w(()=>t.pages.find(i=>ba(i.titleRoute,o))),l=w(()=>{var i;return((i=n.value)==null?void 0:i.menuItems)??[]}),c=i=>typeof i.label=="string"?i.label:i.label();return(i,r)=>(g(),T("nav",null,[(g(!0),T(ne,null,_e(s(l),d=>(g(),T("ul",{key:c(d)},[_(Zc,{item:d,onNavigated:r[0]||(r[0]=u=>a("navigated"))},null,8,["item"])]))),128))]))}}),eu=V(Jc,[["__scopeId","data-v-c045c67c"]]);function Pt(){const{address:t,isConnected:e,chainId:a}=Cr(),o=kr(),n=w(()=>o.data.value&&t.value?t.value.toLocaleLowerCase():void 0),l=w(()=>{switch(a.value){case St.id:return"ethereum";case Sr.id:return"base";default:return}});return{isConnected:e,network:l,address:n}}function Ae(t,e=6){if(!t)return"0x000...000";const a=e/2+2,o=t.length-e/2;return`${t.substring(0,a)}...${t.substring(o)}`}const tu=P({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const a=e,{network:o}=Pt(),{switchChain:n}=_n(),l=c=>{c.stopImmediatePropagation(),t.web3&&o.value!=="ethereum"&&n({chainId:St.id}),a("click")};return(c,i)=>(g(),T("button",{class:O({primary:c.primary}),onClick:l},[se(c.$slots,"default",{},()=>[c.icon?(g(),T("i",{key:0,class:O(["icon",[c.icon,{noValue:!!c.value}]])},null,2)):B("",!0),N(" "+L(c.value),1)],!0)],2))}}),Pe=V(tu,[["__scopeId","data-v-a01f98b9"]]),au="/assets/crv-CKEIQw2g.png",su="/assets/hat-D1qfnSjv.png",ou={},qn=t=>(ue("data-v-873449c5"),t=t(),de(),t),nu={class:"logo"},lu=qn(()=>p("div",{class:"visual"},[p("img",{src:au}),p("img",{src:su})],-1)),iu=qn(()=>p("span",null,"curve.monitor",-1)),ru=[lu,iu];function cu(t,e){return g(),T("div",nu,ru)}const uu=V(ou,[["render",cu],["__scopeId","data-v-873449c5"]]),du={class:"header"},pu={class:"buttons"},mu=P({__name:"Header",emits:["toggle-expansion","navigated"],setup(t,{emit:e}){const a=e;return(o,n)=>{const l=ct("router-link"),c=Pe;return g(),T("div",du,[_(l,{class:"logo",to:"/",onClick:n[0]||(n[0]=i=>a("navigated"))},{default:k(()=>[_(uu,{class:"logo"})]),_:1}),p("div",pu,[_(c,{icon:"fas fa-bars",onClick:n[1]||(n[1]=i=>a("toggle-expansion"))})])])}}}),vu=V(mu,[["__scopeId","data-v-edc55270"]]),hu=t=>(ue("data-v-9d368235"),t=t(),de(),t),_u={class:"select"},fu={class:"item"},bu={key:0,class:"label"},gu=["onClick"],yu=hu(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),wu=P({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(t,{emit:e}){const a=e;return(o,n)=>(g(),T("div",{class:"select-container",tabindex:"0",onClick:n[0]||(n[0]=Le(l=>a("open"),["stop"])),onBlur:n[1]||(n[1]=l=>a("close"))},[p("div",_u,[p("div",{class:O(["selected",{open:o.open}])},[se(o.$slots,"item",{item:o.selected},()=>[p("div",fu,L(o.selected),1)],!0),o.label?(g(),T("div",bu,L(o.label),1)):B("",!0)],2),p("div",{class:O(["items",{selectHide:!o.open}])},[(g(!0),T(ne,null,_e(o.options,(l,c)=>(g(),T("div",{key:c,onClick:i=>a("input",l)},[se(o.$slots,"item",{item:l},()=>[N(L(l),1)],!0)],8,gu))),128))],2)]),yu],32))}}),vt=V(wu,[["__scopeId","data-v-9d368235"]]),$u=["en","zh","fr"],Cu={class:"item"},ku={class:"label"},Su="locale",Fn=P({__name:"SelectLanguage",props:{locales:{default:()=>$u},direction:{default:"up"}},setup(t){const{t:e}=M(),a=fn(Su,"en"),{locale:o}=M({useScope:"global"});ie(()=>{c(a.value)});const n=R(!1),l=()=>{n.value=!n.value},c=i=>{a.value=i,o.value=a.value};return(i,r)=>{const d=vt;return g(),I(d,{class:O(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(u=>u),selected:s(a),open:s(n),onOpen:l,onClose:r[0]||(r[0]=u=>n.value=!1),onInput:c},{item:k(u=>[p("div",Cu,[p("div",ku,L(s(e)(u.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function ts(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:{t:0,b:{t:2,i:[{t:3}],s:"English"}},zh:{t:0,b:{t:2,i:[{t:3}],s:"中文"}},fr:{t:0,b:{t:2,i:[{t:3}],s:"Français"}}}})}typeof ts=="function"&&ts(Fn);const Lu=V(Fn,[["__scopeId","data-v-1e04f93c"]]),Tu={key:0,class:"modal"},Au={class:"modal-popup"},Pu=P({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const a=e,o=n=>{n.code==="Escape"&&a("close")};return ie(()=>{document.addEventListener("keydown",o)}),ka(()=>{document.removeEventListener("keydown",o)}),x(()=>t.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,l)=>(g(),I(Gt,{to:"body"},[n.show?(g(),T("div",Tu,[p("div",{class:"modal-mask",onClick:l[0]||(l[0]=c=>a("close"))}),p("div",Au,[se(n.$slots,"default",{},void 0,!0)])])):B("",!0)]))}}),Ra=V(Pu,[["__scopeId","data-v-b0df9b35"]]),Iu="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Vu={key:1,src:Iu},Ru=P({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(t,{emit:e}){const a=e,o=R(!1);return x(o,n=>a("show",n)),(n,l)=>(g(),I(s(Lr),{class:"tooltip",show:s(o)},{content:k(()=>[se(n.$slots,"default",{},void 0,!0)]),default:k(()=>[p("div",{onMouseover:l[0]||(l[0]=c=>o.value=!0),onMouseleave:l[1]||(l[1]=c=>o.value=!1)},[se(n.$slots,"item",{},()=>[n.icon?(g(),T("i",{key:0,class:O(n.icon)},null,2)):(g(),T("img",Vu))],!0)],32)]),_:3},8,["show"]))}}),It=V(Ru,[["__scopeId","data-v-ee2caf15"]]),Du="/assets/injected-DW80ouY-.webp",qu="/assets/rabby-CG__llS3.svg",Fu="/assets/walletconnect-BCBhrtde.webp",Mu="/assets/coinbase-CsqSq8Nj.webp",xu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Bu={class:"buttons"},Ou={class:"connectors-body"},Uu={class:"title"},Eu={class:"connectors"},Wu=["src"],Hu={key:1,class:"empty"},Ku={class:"name"},Da=P({__name:"WalletConnectButton",setup(t){const{t:e}=M(),{connect:a}=Tr(),o=Ar(),n=["injected","walletConnect","coinbaseWalletSDK","safe"],l=w(()=>o.value.filter(u=>n.includes(u.id))),c=R(!1);function i(u){switch(u.id){case"injected":return Du;case"walletConnect":return Fu;case"coinbaseWalletSDK":return Mu;case"safe":return xu;case"io.rabby":return qu;default:return""}}function r(u){return u.id==="injected"?"Browser Extension":u.name}function d(u){a({connector:u}),c.value=!1}return(u,v)=>{const m=Pe,h=Z,b=Ra;return g(),T("div",Bu,[_(m,{class:"button",primary:!0,onClick:v[0]||(v[0]=f=>c.value=!0)},{default:k(()=>[N(L(s(e)("connect-your-wallet")),1)]),_:1}),B("",!0),_(b,{show:s(c),onClose:v[1]||(v[1]=f=>c.value=!1)},{default:k(()=>[_(h,null,{default:k(()=>[p("div",Ou,[p("div",Uu,L(s(e)("connect-your-wallet")),1),p("div",Eu,[(g(!0),T(ne,null,_e(s(l),f=>(g(),T("div",{key:f.id,class:"connector"},[_(m,{onClick:y=>d(f)},{default:k(()=>[i(f)?(g(),T("img",{key:0,src:i(f)},null,8,Wu)):(g(),T("div",Hu)),p("div",Ku,L(r(f)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function as(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function ss(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof as=="function"&&as(Da);typeof ss=="function"&&ss(Da);const Nu=V(Da,[["__scopeId","data-v-3c15f258"]]),zu={class:"wallet"},Qu={key:0,class:"connected"},ju={key:0,class:"unsupportedNetwork"},Gu={class:"info"},Xu={key:1,class:"notConnected"},Yu={key:0,class:"info"},Mn=P({__name:"Wallet",props:{labelPleaseConnect:{}},setup(t){const{t:e}=M(),{disconnect:a}=Pr(),{isConnected:o,network:n,address:l}=Pt(),{switchChain:c}=_n(),i=w(()=>n.value==="ethereum"),r=()=>c({chainId:St.id});return(d,u)=>{const v=Pe;return g(),T("div",zu,[s(o)?(g(),T("div",Qu,[s(i)?B("",!0):(g(),T("div",ju,[_(v,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),p("span",Gu,L(s(e)("incorrect-network")),1)])),_(v,{class:"disconnect",icon:"fas fa-check",value:s(Ae)(s(l)),onClick:s(a)},null,8,["value","onClick"])])):(g(),T("div",Xu,[_(Nu),d.labelPleaseConnect?(g(),T("span",Yu,L(d.labelPleaseConnect),1)):B("",!0)]))])}}});function os(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof os=="function"&&os(Mn);const Zu=V(Mn,[["__scopeId","data-v-610d17cd"]]),st={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Ju=[st.blue,st.yellow,st.green,st.red,st.purple],ot={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},ed=[ot.blue,ot.yellow,ot.green,ot.red,ot.purple],nt={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},td=[nt.blue,nt.yellow,nt.green,nt.red,nt.purple];function Qt(t){switch(t){case"chad":return nt;case"light":return ot;default:return st}}function ad(t){switch(t){case"chad":return td;case"light":return ed;default:return Ju}}const K=je("settingsStore",()=>{const t=R("light"),e=w(()=>({colors:Qt(t.value),colorsArray:ad(t.value)}));return{themeId:t,theme:e}}),sd={class:"theme"},od={class:"label"},nd={class:"colors"},ld="theme",id=P({__name:"SelectTheme",setup(t){const e=[{id:"chad",colors:Qt("chad")},{id:"dark",colors:Qt("dark")},{id:"light",colors:Qt("light")}],a=K(),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l=fn(ld,e.find(d=>d.id===n)??e[0],void 0,{serializer:{read:d=>e.find(u=>u.id===d)??e[0],write:d=>d.id}});ie(()=>{r(l.value)});const c=R(!1),i=()=>{c.value=!c.value},r=d=>{l.value=d,window.document.documentElement.setAttribute("data-theme",d.id),a.themeId=d.id};return(d,u)=>{const v=vt;return g(),I(v,{class:"select direction-up",options:e.map(m=>m),selected:s(l),open:s(c),onOpen:i,onClose:u[0]||(u[0]=m=>c.value=!1),onInput:r},{item:k(m=>[p("div",sd,[p("div",od,L(m.item.id),1),p("div",nd,[p("div",{class:"color",style:Se({"background-color":m.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.level1})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.level2})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.blue})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.yellow})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.green})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.red})},null,4),p("div",{class:"color",style:Se({"background-color":m.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),rd=V(id,[["__scopeId","data-v-caaa7fab"]]),cd={class:"bottom"},ud={class:"buttons"},dd={href:"https://twitter.com/0xAlunara",target:"_blank"},pd={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},md={class:"selectors"},vd=P({__name:"Bottom",setup(t){const e=Be(),a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(o,n)=>{const l=Pe,c=Lu;return g(),T("div",cd,[p("div",ud,[_(l,{class:"copy",icon:"fas fa-link",onClick:a}),p("a",dd,[_(l,{icon:"fab fa-twitter"})]),p("a",pd,[_(l,{icon:"fab fa-github"})]),_(l,{icon:"fas fa-code",onClick:n[0]||(n[0]=i=>s(e).push("/code"))})]),p("div",md,[_(rd,{class:"themes"}),_(c,{class:"langs",locales:["en"]})]),_(Zu)])}}}),hd=V(vd,[["__scopeId","data-v-464b5569"]]),qa=()=>je("pageStore",()=>{const t=R([]),e=R([]);return{pages:t,routes:e}})(),_d=P({__name:"Navigation",emits:["navigated"],setup(t,{emit:e}){const a=e,o=qa(),n=R(!1),l=()=>{n.value=!1,a("navigated")};return(c,i)=>{const r=eu,d=At;return g(),T("div",{class:O(["menu-desktop",{expanded:s(n)}])},[_(vu,{onToggleExpansion:i[0]||(i[0]=u=>n.value=!s(n)),onNavigated:l}),_(d,{class:"menu-content",expanded:s(n)},{default:k(()=>[_(r,{pages:s(o).pages,onNavigated:l},null,8,["pages"]),_(hd,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),fd=V(_d,[["__scopeId","data-v-3e40060f"]]),bd=P({__name:"App",setup(t){const e=Oe(),a=Ca();return x(()=>a.fullPath,o=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(l=>o.startsWith(l))||(e.show=!1)}),(o,n)=>{const l=Tc;return g(),I(l,null,{navigation:k(()=>[_(fd,{class:"navigation"})]),_:1})}}}),gd=V(bd,[["__scopeId","data-v-1d99b6b8"]]),yd="/assets/404-DGbqGNxT.png",wd=t=>(ue("data-v-3987f8f8"),t=t(),de(),t),$d={class:"not-found"},Cd={class:"not-found-container"},kd=wd(()=>p("img",{src:yd},null,-1)),xn=P({__name:"NotFound.page",setup(t){const{t:e}=M();return(a,o)=>{const n=Z;return g(),T("div",$d,[p("div",Cd,[_(n,null,{default:k(()=>[N(L(s(e)("404")),1)]),_:1}),kd])])}}});function ns(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof ns=="function"&&ns(xn);const Sd=V(xn,[["__scopeId","data-v-3987f8f8"]]),Bn=t=>(ue("data-v-59501962"),t=t(),de(),t),Ld={key:0,class:"expander"},Td=Bn(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),Ad=[Td],Pd={key:1,class:"expander"},Id=Bn(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),Vd=[Id],Rd={class:"row-details"},Dd=P({__name:"DataTableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(t,{emit:e}){const a=e,o=bn(),n=w(()=>{var i;const c=o["row-details"];if(c){const r=(i=c()[0])==null?void 0:i.children;if(r)return r.length>0}return!1}),l=()=>{a("click",t.data)};return(c,i)=>{const r=At;return g(),T("div",{class:O(["row",{expanded:c.expanded}])},[p("div",{class:O(["row-data",{active:c.selected,expandable:s(n),"has-data":!!c.data}]),onClick:l},[c.data&&s(n)&&c.expandSide==="left"?(g(),T("div",Ld,Ad)):B("",!0),se(c.$slots,"row",{},void 0,!0),c.data&&s(n)&&c.expandSide!=="left"?(g(),T("div",Pd,Vd)):B("",!0)],2),c.data?(g(),I(r,{key:0,expanded:c.expanded},{default:k(()=>[p("div",Rd,[se(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):B("",!0)],2)}}}),qd=V(Dd,[["__scopeId","data-v-59501962"]]),Fd=["inert"],Md={key:0,class:"header"},xd={key:0,class:"header-icon"},Bd={class:"header-content"},Od={class:"rows"},Ud=["onClick"],Ed={key:2,class:"no-data"},Fa=P({__name:"DataTable",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:null}},emits:["selected","sortColumn"],setup(t,{emit:e}){const{t:a}=M(),o=e,n=w(()=>{if(t.rowsMin===null)return[];const v=Math.max(0,t.rowsMin-t.rows.length);return new Array(v)}),l=w(()=>t.columns.map(v=>typeof v=="string"?{id:v,label:v}:v)),c=v=>{v&&o("selected",v)},i=v=>{const m=v+1;return!!(t.rows[v+1]&&t.rows.findIndex(f=>f===t.selectedRow)===m)},r=v=>t.sorting.column===v.id&&t.sorting.order==="asc",d=v=>t.sorting.column===v.id&&t.sorting.order==="desc",u=v=>{if(!v.sort)return;const m=v.id===t.sorting.column&&t.sorting.order==="asc"?"desc":"asc";o("sortColumn",v.id,m)};return(v,m)=>{const h=He,b=qd;return g(),T("div",{class:O(["datatable",{loading:v.loading}]),inert:!!v.loading},[v.header?(g(),T("div",Md,[v.icon?(g(),T("div",xd,[p("i",{class:O(v.icon)},null,2)])):B("",!0),p("div",Bd,[se(v.$slots,"header-content",{},void 0,!0)])])):B("",!0),p("div",Od,[v.loading!==null?(g(),I(h,{key:0,class:O(["loader",{loading:v.loading}])},null,8,["class"])):B("",!0),v.columns.length>0?(g(),I(b,{key:1,class:O({"selected-below":i(-1)})},{row:k(()=>[(g(!0),T(ne,null,_e(s(l),f=>(g(),T("div",{key:f.id,class:O(["column-header",{sortable:f.sort,sorting:f.sort&&v.sorting.column===f.id,[f.align||""]:!!f.align}]),onClick:y=>u(f)},[p("span",null,L(f.label),1),f.sort?(g(),T("i",{key:0,class:O(["sorting-arrow fa fa-caret-right",{asc:r(f),desc:d(f)}])},null,2)):B("",!0)],10,Ud))),128))]),_:1},8,["class"])):B("",!0),(g(!0),T(ne,null,_e(v.rows,(f,y)=>(g(),I(b,{key:f,data:f,class:O({"selected-below":i(y)}),selected:v.selectedRow===f,expanded:v.expanded.includes(f),"expand-side":v.expandSide,onClick:c},{row:k(()=>[se(v.$slots,"row",{item:f},void 0,!0)]),"row-details":k(()=>[se(v.$slots,"row-details",{item:f},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(g(!0),T(ne,null,_e(s(n),f=>(g(),I(b,{key:f}))),128)),!v.rowsMin&&(!v.rows||v.rows.length===0)&&!v.loading?(g(),T("div",Ed,[se(v.$slots,"no-data",{},()=>[N(L(s(a)("no-data")),1)],!0)])):B("",!0),v.$slots["row-aggregation"]&&v.rows.length>0?(g(),I(b,{key:3,class:"aggregation"},{row:k(()=>[se(v.$slots,"row-aggregation",{},void 0,!0)]),_:3})):B("",!0)])],10,Fd)}}});function ls(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function is(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof ls=="function"&&ls(Fa);typeof is=="function"&&is(Fa);const pe=V(Fa,[["__scopeId","data-v-73d4bf9a"]]),Wd={class:"contracts"},Hd={class:"title"},Kd=["href"],Nd={class:"title"},zd=["href"],Qd={class:"title"},jd=["href"],On=P({__name:"Code.page",setup(t){const{t:e}=M(),o=[{name:"veFunder",contracts:[{contract:In,description:"gauge-factory"},{contract:Vn,description:"gauge-controller"}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],l=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],c=i=>{switch(i.network){case"arbitrum":return i.gnosis?`https://app.safe.global/home?safe=arb1:${i.contract}`:`https://arbiscan.io/address/${i.contract}`;case"ethereum":default:return i.gnosis?`https://app.safe.global/home?safe=eth:${i.contract}`:`https://etherscan.io/address/${i.contract}`}};return(i,r)=>{const d=pe;return g(),T("div",Wd,[_(d,{class:"datatable-repositories",rows:n,columns:[s(e)("repository"),s(e)("description")],title:"Yolo"},{"header-content":k(()=>[p("div",Hd,L(s(e)("repositories")),1)]),row:k(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},L(u.item.name),9,Kd)]),p("div",null,L(s(e)(u.item.description)),1)]),_:1},8,["columns"]),_(d,{class:"datatable-apis","columns-data":"apis-columns-data",rows:l,columns:[s(e)("api"),s(e)("description")]},{"header-content":k(()=>[p("div",Nd,L(s(e)("apis")),1)]),row:k(u=>[p("div",null,[p("a",{href:u.item.url,target:"_blank"},L(u.item.name),9,zd)]),p("div",null,L(s(e)(u.item.description)),1)]),_:1},8,["columns"]),(g(),T(ne,null,_e(o,(u,v)=>_(d,{key:v,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:[s(e)("contract"),s(e)("description")]},{"header-content":k(()=>[p("div",Qd,L(s(e)(u.name)),1)]),row:k(m=>[p("div",null,[p("a",{href:c(m.item),target:"_blank"},L(m.item.contract),9,jd)]),p("div",null,L(s(e)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))])}}});function rs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},apis:{t:0,b:{t:2,i:[{t:3}],s:"APIs"}},api:{t:0,b:{t:2,i:[{t:3}],s:"API"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},"repo-graphs":{t:0,b:{t:2,i:[{t:3}],s:"The Graph subgraphs related to Curve, Convex, Votium and more"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}},"gauge-factory":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Factory"}},"gauge-controller":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Controller"}}}})}typeof rs=="function"&&rs(On);const Gd=V(On,[["__scopeId","data-v-7c332e58"]]);function Xd(){const t=qa(),e=[{path:"/code",component:Gd},...t.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:Sd}];return Ir({history:Vr(),routes:e})}const Yd=t=>(ue("data-v-ae7c4228"),t=t(),de(),t),Zd={class:"input-text"},Jd={key:0,class:"icon"},ep=Yd(()=>p("i",{class:"fas fa-search"},null,-1)),tp=[ep],ap=["type","value","placeholder"],sp=["onClick"],op=P({__name:"InputText",props:xe({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:xe(["input","select"],["update:modelValue"]),setup(t,{emit:e}){const a=dt(t,"modelValue"),o=e,n=w(()=>{const c=t.options.filter(r=>t.filter(a.value,r));return t.sort?[...c].sort(t.sort):c}),l=c=>{const i=c.target.value;a.value=i,o("input",i)};return(c,i)=>(g(),T("div",Zd,[c.search?(g(),T("span",Jd,tp)):B("",!0),p("input",{type:c.search?"search":"text",value:a.value,placeholder:c.placeholder,onInput:Le(l,["stop"]),onSelect:i[0]||(i[0]=Le(()=>{},["stop"]))},null,40,ap),c.options&&c.autoComplete?(g(),T("div",{key:1,class:O(["items",{selectHide:!c.autoComplete}])},[(g(!0),T(ne,null,_e(s(n),(r,d)=>(g(),T("div",{key:d,onClick:u=>o("select",r)},[se(c.$slots,"item",{item:r,idx:d},()=>[N(L(r),1)],!0)],8,sp))),128))],2)):B("",!0)]))}}),Ie=V(op,[["__scopeId","data-v-ae7c4228"]]),np={key:0,class:"value"},lp={key:1,class:"value"},ip=["innerHTML"],rp={key:0,class:"value"},cp={key:1,class:"value"},up=["innerHTML"],dp={class:"labels"},pp={class:"label"},mp={class:"label-second"},vp=P({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(t){return(e,a)=>{const o=It;return g(),T("div",{class:O(["kpi",{disabled:!e.hasValue}])},[p("div",{class:O(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[se(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(g(),I(o,{key:0},{item:k(()=>[e.hasValue?(g(),T("span",np,L(e.value),1)):(g(),T("span",lp," ? "))]),default:k(()=>[se(e.$slots,"tooltip",{},()=>[p("span",{innerHTML:e.tooltip},null,8,ip)],!0)]),_:3})):(g(),T(ne,{key:1},[e.hasValue?(g(),T("span",rp,L(e.value),1)):(g(),T("span",cp," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(g(),I(o,{key:0},{default:k(()=>[p("span",{innerHTML:e.tooltip},null,8,up)]),_:1})):B("",!0)],2),p("div",dp,[se(e.$slots,"label",{},()=>[p("div",pp,L(e.label),1)],!0),se(e.$slots,"label-second",{},()=>[p("div",mp,L(e.labelSecond),1)],!0)])],2)}}}),ge=V(vp,[["__scopeId","data-v-9ca23269"]]),hp={key:0,class:"async-value"},_p="|/-\\",te=P({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(t){let e=0,a=0;const o=R("|"),n=w(()=>t.value?Q(t.value,typeof t.precision=="function"?t.precision(t.value):t.precision,t.type??""):t.value===0&&t.showZero?"0":t.value===null||t.value===void 0?o.value:"?"),l=w(()=>t.precision===1/0?"":!t.value||!t.type||!q.isFinite(t.value)?t.showUnit&&t.type?z(0,t.type):"":z(t.value,t.type));return x(()=>t.value,c=>{if(clearInterval(a),e=0,c)return;const i=()=>{e=(e+1)%4,o.value=_p[e]};a=window.setInterval(i,250)},{immediate:!0}),(c,i)=>c.inline?(g(),T(ne,{key:1},[N(L(c.showSymbol&&c.type==="dollar"?"$":"")+L(s(n))+L(c.showUnit?s(l):""),1)],64)):(g(),T("div",hp,L(c.showSymbol&&c.type==="dollar"?"$":"")+L(s(n))+L(c.showUnit?s(l):""),1))}}),fp=["crvusd","lending","pools","router","dao"];class bp{constructor(e){this.get$=new Ce(a=>{let o=1/0,n=!1;const l=()=>{a.next(Date.now()-o),n=!1};e.on("pong",l);const c=Rr({}).pipe(Dr(()=>{if(n){a.next(1/0);return}n=!0,o=Date.now(),e.emit("ping")}),qr(5e3),Fr()).subscribe();return()=>{c.unsubscribe(),e.off("pong",l)}}).pipe(Mr({refCount:!0,bufferSize:1}))}}let gp=class{constructor(e){this.socket=e}get(e){const a=new Promise(o=>{this.socket.once("search_res",n=>{const l=Object.entries(n).map(([c,i])=>({id:c.toLocaleLowerCase(),name:i}));o(l)})});return this.socket.emit("search",e),a}};class yp{constructor(e){this.get$=new Ce(a=>{const o=n=>{const l=wp(n);a.next(l)};return e.on("token names inside pool",o),()=>{e.off("token names inside pool",o)}}).pipe(Te())}}function wp(t){return t.map(e=>({name:e}))}class Un{constructor(e){this.socket=e,this.update$=new Ce(a=>{const o=n=>{a.next(n)};return e.on("price_chart_combination",o),()=>{e.off("price_chart_combination",o)}}).pipe(Te())}update(e,a){this.socket.emit("new combination",[e,a[0],a[1]])}}class $p{constructor(e){this.socket=e}update(e){this.socket.emit(e)}}function Me(t){const[e,a]=t.split("T"),[o,n,l]=e.split("-").map(Number),[c,i,r]=a.split(":").map(Number);return Date.UTC(o,n-1,l,c,i,r)/1e3}const Cp=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],kp=t=>t.data.map(e=>e.name).filter(e=>Cp.includes(e)),Sp=t=>({chain:t.chain,total:{tvl:t.total.total_tvl,tradingVolume24h:t.total.trading_volume_24h,tradingFee24h:t.total.trading_fee_24h,liquidityVolume24h:t.total.liquidity_volume_24h,liquidityFee24h:t.total.liquidity_fee_24h}}),Lp=t=>t.data.flatMap(e=>e.transactions.map(a=>({chain:e.chain,timestamp:Me(a.timestamp),type:a.type,transactions:a.transactions}))),Tp=t=>t.data.flatMap(e=>e.users.map(a=>({chain:e.chain,timestamp:Me(a.timestamp),type:a.type,users:a.users}))),Bt="https://prices.curve.fi";class Ap extends ke{async getSupportedChains(){const e=await this.fetch(`${Bt}/v1/chains/`);return kp(e)}async getChainInfo(e){const a=await this.fetch(`${Bt}/v1/chains/${e}?page=1&per_page=1`);return Sp(a)}async getTxs(){const e=await this.fetch(`${Bt}/v1/chains/activity/transactions`);return Lp(e)}async getUsers(){const e=await this.fetch(`${Bt}/v1/chains/activity/users`);return Tp(e)}}const Zt=new Ap;function Ma(){return{initialData:[],initialDataUpdatedAt:0}}function Pp(){return Y({queryKey:["chains-supported"],queryFn:()=>Zt.getSupportedChains(),...Ma()})}function En(t){return Y({queryKey:["chain-info",t],queryFn:({queryKey:[,e]})=>Zt.getChainInfo(e),enabled:w(()=>!!t.value)})}function Ip(){return Y({queryKey:["chains-txs"],queryFn:()=>Zt.getTxs(),...Ma()})}function Vp(){return Y({queryKey:["chains-users"],queryFn:()=>Zt.getUsers(),...Ma()})}const Rp=t=>({name:t.collateral_token.symbol,address:t.address.toLocaleLowerCase(),factory:t.factory_address.toLocaleLowerCase(),llamma:t.llamma.toLocaleLowerCase(),rate:t.rate,borrowed:t.total_debt,borrowable:t.borrowable,collateral:t.collateral_amount,collateralUsd:t.collateral_amount_usd,loans:t.n_loans,collateral_token:{symbol:t.collateral_token.symbol,address:t.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:t.stablecoin_token.symbol,address:t.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:t.pending_fees,collected:t.collected_fees}}),Dp=t=>({timestamp:new Date(t.dt).getTime()/1e3,rate:t.rate,nLoans:t.n_loans,minted:t.minted,redeemed:t.redeemed,totalCollateral:t.total_collateral,totalCollateralUsd:t.total_collateral_usd,totalStablecoin:t.total_stablecoin,totalDebt:t.total_debt,priceAMM:t.amm_price,priceOracle:t.price_oracle,borrowable:t.borrowable,discountLiquidation:t.liquidation_discount,discountLoan:t.loan_discount}),qp=t=>({address:t.address.toLocaleLowerCase(),pool:t.pool,pool_address:t.pool_address.toLocaleLowerCase(),pair:t.pair.map(e=>({symbol:e.symbol,address:e.address.toLocaleLowerCase()})),active:t.active,total_debt:t.total_debt,total_profit:t.total_profit}),Fp=t=>({timestamp:Me(t.timestamp),market:t.market,supply:t.supply,borrowable:t.borrowable}),cs="https://api-py.llama.airforce/curve",Ot="https://prices.curve.fi";class Mp extends ke{async getMarkets(e,a){return(await this.fetch(`${Ot}/v1/crvusd/markets/${e}?fetch_on_chain=true&page=${a}&per_page=10`)).data.map(Rp)}async getSnapshots(e,a){return(await this.fetch(`${Ot}/v1/crvusd/markets/${e}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Dp)}async getCrvUsdPriceHistogram(){return this.fetch(`${cs}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(e){return(await this.fetch(`${Ot}/v1/crvusd/markets/${e}/supply`)).data.map(Fp)}async getKeepers(e){return(await this.fetch(`${Ot}/v1/crvusd/pegkeepers/${e}`)).keepers.map(qp)}async getYield(){return this.fetch(`${cs}/v1/crvusd/yield`).then(e=>e.yields)}}const xp=t=>({time:t.time,open:t.open,high:t.high,low:t.low,close:t.close}),Bp="https://prices.curve.fi";class Wn extends ke{async getOHLC(e,a,o,n){const c=Math.floor(new Date().getTime()/1e3),i=Math.floor(c-72e5),r=`${Bp}/v1/ohlc/${e}/${kt(a)}?main_token=${kt(o)}&reference_token=${kt(n)}&agg_number=1&agg_units=day&start=${i}&end=${c}`;return(await this.fetch(r)).data.map(xp)}}const Vt=new Mp,Op=new Wn;function Up(t){return w(()=>{var e;return(e=t.value)==null?void 0:e.address})}function Jt(){return{initialData:[],initialDataUpdatedAt:0}}function Ep(t,e){return{enabled:w(()=>!!t.value&&!0)}}function Wp(){return Y({queryKey:["crvusd-supply"],queryFn:()=>Vt.getCrvUsdSupply("ethereum"),...Jt()})}function Hp(){return Y({queryKey:["crvusd-price-deviation"],queryFn:()=>Vt.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function ea(t){return Y({queryKey:["crvusd-market-snapshots",Up(t)],queryFn:({queryKey:[,e]})=>Vt.getSnapshots("ethereum",e),...Ep(t),...Jt()})}function Kp(t){return Y({queryKey:["crvusd-keepers-prices",w(()=>t.value.map(e=>e.pool_address))],queryFn:async()=>{const e=t.value.map(async n=>{const l=n.pair.find(r=>r.symbol!=="crvUSD"),c=n.pair.find(r=>r.symbol==="crvUSD");return!l||!c?[]:(await Op.getOHLC("ethereum",n.pool_address,l.address,c.address)).map(r=>({time:r.time,price:(r.high+r.low)/2,coin:l.symbol}))}),a=(await Promise.all(e)).flat(),o=q.chain(a).groupBy(n=>n.time).map((n,l)=>({timestamp:Number(l),...Object.fromEntries(n.map(c=>[c.coin,c.price]))})).value();return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function xa(){return Y({queryKey:["crvusd-markets"],queryFn:()=>Vt.getMarkets("ethereum",1),...Jt()})}function Hn(){return Y({queryKey:["crvusd-keepers"],queryFn:()=>Vt.getKeepers("ethereum"),...Jt()})}const Np={class:"kpis"},zp=P({__name:"KPIs",setup(t){const e=new Rn,{data:a}=xa(),o=w(()=>{var r;return((r=a.value)==null?void 0:r.reduce((d,u)=>d+u.borrowed,0))??0}),{data:n}=En(R("ethereum")),l=w(()=>{var r;return((r=n==null?void 0:n.value)==null?void 0:r.total.tvl)??0}),c=w(()=>{var r;return((r=n==null?void 0:n.value)==null?void 0:r.total.tradingVolume24h)??0}),{data:i}=Y({queryKey:["crv-price"],queryFn:()=>e.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price),initialData:0,initialDataUpdatedAt:0});return(r,d)=>{const u=te,v=ge;return g(),T("div",Np,[_(v,{label:"CRV Price","has-value":!!s(i)},{default:k(()=>[_(u,{value:s(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(v,{label:"crvUSD Borrowed","has-value":!!s(o)},{default:k(()=>[_(u,{value:s(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(v,{label:"Total Value Locked","has-value":!!s(l)},{default:k(()=>[_(u,{value:s(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(v,{label:"7-day Volume","has-value":!!s(c)},{default:k(()=>[_(u,{value:s(c),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Qp=V(zp,[["__scopeId","data-v-ef04efe7"]]),jp=P({__name:"ChartApex",props:{options:{},series:{}},setup(t){return(e,a)=>{const o=ct("apexchart");return g(),I(o,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}}),ta=V(jp,[["__scopeId","data-v-1e57adb0"]]),Gp=P({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(t){return(e,a)=>{const o=ta,n=Z;return g(),I(n,{class:"cart-chart",title:e.title,loading:e.loading},{actions:k(()=>[se(e.$slots,"actions",{},void 0,!0)]),default:k(()=>[_(o,{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),se(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),he=V(Gp,[["__scopeId","data-v-51bb8302"]]),Xp=t=>({chart:{id:"chart",background:"transparant",foreColor:t.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:t.colorsArray,grid:{borderColor:t.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:t.colors.level5,height:1},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:t.colors.level5},axisTicks:{color:t.colors.level5},title:{color:t.colors.level5}}});function re(t,e){const a=Xp(t),o=(n,l)=>{if(typeof l=="object"){q.mergeWith(n,l,o);return}else return n||l};return q.mergeWith(e,a,o)}const Yp=t=>({pool:t.pool,chain:t.chain,name:t.name,liq_use:t.liq_use}),Zp=t=>({pool:t.pool,chain:t.chain,name:t.name,tx:t.tx,value:t.value}),Jp=t=>({pool:t.pool,chain:t.chain,name:t.name,tvl_growth:t.tvl_growth}),em=t=>({pool:t.pool,chain:t.chain,name:t.name,tvl_growth:t.tvl_growth}),tm=t=>({type:t.type,tvl:t.tvl}),am=t=>({chain:t.chain,tvl:t.tvl}),sm=t=>({type:t.type,volumeUSD:t.volumeUSD}),om=t=>({chain:t.chain,volumeUSD:t.volumeUSD}),Ue="https://api-py.llama.airforce/curve/v1";class nm extends ke{async getLiquidityTop(){return(await this.fetch(`${Ue}/protocol/liquidity/top`)).liquidity_use.map(Yp)}async getTradesLarge(){return(await this.fetch(`${Ue}/protocol/size/trades`)).large_trades.map(Zp)}async getTvlGainers(){return(await this.fetch(`${Ue}/protocol/tvl/gainers`)).tvl_gainers.map(Jp)}async getTvlLosers(){return(await this.fetch(`${Ue}/protocol/tvl/losers`)).tvl_losers.map(em)}async getTvlBreakdownType(){return(await this.fetch(`${Ue}/protocol/tvl/type_breakdown`)).tvl_breakdown_type.map(tm)}async getTvlBreakdownChain(){return(await this.fetch(`${Ue}/protocol/tvl/chain_breakdown`)).tvl_breakdown_chain.map(am)}async getVolumeBreakdownType(){return(await this.fetch(`${Ue}/protocol/volume/type_breakdown`)).volume_breakdown_type.map(sm)}async getVolumeBreakdownChain(){return(await this.fetch(`${Ue}/protocol/volume/chain_breakdown`)).volume_breakdown_chain.map(om)}}const Tt=new nm;function aa(){return{initialData:[],initialDataUpdatedAt:0}}function lm(){return Y({queryKey:["curve-tvl-breakdown"],queryFn:()=>Tt.getTvlBreakdownChain().then(t=>t.sort((e,a)=>a.tvl-e.tvl)),...aa()})}function im(){return Y({queryKey:["curve-tvl-gainers-losers"],queryFn:async()=>{const t=Tt.getTvlGainers(),e=Tt.getTvlLosers(),[a,o]=[await t,await e];return[...a,...o].sort((n,l)=>l.tvl_growth-n.tvl_growth)},...aa()})}function rm(){return Y({queryKey:["curve-liquidity-top"],queryFn:()=>Tt.getLiquidityTop().then(t=>t.sort((e,a)=>a.liq_use-e.liq_use)),...aa()})}function cm(){return Y({queryKey:["curve-trades-large"],queryFn:()=>Tt.getTradesLarge().then(t=>t.sort((e,a)=>a.value-e.value)).then(t=>t.slice(0,10)),...aa()})}const um=P({__name:"ChartChainType",setup(t){const{theme:e}=E(K()),{isFetching:a,data:o}=lm(),n=w(()=>re(e.value,{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const r=l.value[i.seriesIndex].name,d=i.series[i.seriesIndex][i.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${c(d[0])}</div>`].join("")}}})),l=w(()=>[...o.value.map(i=>({name:i.chain,data:[i.tvl,i.tvl]}))]),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"chart",title:"TVL & Volume per Chain",loading:s(a),options:s(n),series:s(l)},null,8,["loading","options","series"])}}}),dm=V(um,[["__scopeId","data-v-79b06fc1"]]),pm=P({__name:"ChartLiquidityTop",setup(t){const{theme:e}=E(K()),{isFetching:a,data:o}=rm(),n=w(()=>re(e.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{var b;const u=l.value[d.dataPointIndex],v=d.series[0][d.dataPointIndex],m=(b=o.value.find(f=>f.name===u))==null?void 0:b.chain;return`
            <div><b>${u}</b>:</div>
            <div>${i(v)}</div>
            <div>${m}<div>`}}})),l=w(()=>o.value.map(d=>d.name)),c=w(()=>[{data:o.value.map(d=>d.liq_use)}]),i=d=>`${Q(Math.abs(d),2,"dollar")}`,r=d=>d.toString().substring(0,12);return(d,u)=>{const v=he;return g(),I(v,{class:"chart",title:"Liquidity Usage",loading:s(a),options:s(n),series:s(c)},null,8,["loading","options","series"])}}}),mm=V(pm,[["__scopeId","data-v-275adb9a"]]),vm=P({__name:"ChartRanking",setup(t){const{theme:e}=E(K()),{isFetching:a,data:o}=im(),n=w(()=>{const{colors:d}=e.value;return re(e.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[u=>u.value<0?d.red:d.green],xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:u=>{var f;const v=l.value[u.dataPointIndex],m=u.series[0][u.dataPointIndex],h=(f=o.value.find(y=>y.name===v))==null?void 0:f.chain;return`
            <div><b>${v}</b>:</div>
            <div>${r(m)}</div>
            <div>${h}<div>`}}})}),l=w(()=>o.value.map(d=>d.name)),c=w(()=>[{data:o.value.map(d=>d.tvl_growth)}]),i=d=>d.toString().substring(0,12),r=d=>`${Q(d,0,"dollar")}${z(d,"percentage")}`;return(d,u)=>{const v=he;return g(),I(v,{class:"chart",title:"TVL Gainers & Losers",loading:s(a),options:s(n),series:s(c)},null,8,["loading","options","series"])}}}),hm=V(vm,[["__scopeId","data-v-c50b10c0"]]),_m=t=>(ue("data-v-38d759ae"),t=t(),de(),t),fm=_m(()=>p("div",{class:"title"},"Largest Trades",-1)),bm=["href"],gm={class:"end"},ym=P({__name:"TableTrades",setup(t){const{data:e}=cm();return(a,o)=>{const n=te,l=pe;return g(),I(l,{class:"datatable-trades",rows:s(e),columns:["Tx","Name",{label:"Value",align:"end"}]},{"header-content":k(()=>[fm]),row:k(c=>[p("div",null,[p("a",{class:"vote-link font-mono",href:`https://etherscan.io/tx/${c.item.tx}`,target:"_blank",onClick:o[0]||(o[0]=Le(()=>{},["stop"]))},L(s(Ae)(c.item.tx)),9,bm)]),p("div",null,L(c.item.name),1),p("div",gm,[_(n,{value:c.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}}),wm=V(ym,[["__scopeId","data-v-38d759ae"]]),$m={class:"home"},Cm={class:"controls-container"},km={class:"data-1"},Sm={class:"data-2"},Lm=P({__name:"Home.page",setup(t){const e=R("");return(a,o)=>{const n=Ie;return g(),T("div",$m,[p("div",Cm,[_(n,{modelValue:s(e),"onUpdate:modelValue":o[0]||(o[0]=l=>le(e)?e.value=l:null),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),p("div",km,[_(Qp),_(s(dm)),_(s(mm))]),p("div",Sm,[_(wm),_(s(hm))])])}}}),Tm=V(Lm,[["__scopeId","data-v-94e93c6d"]]),Am="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Pm="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",Im="/assets/arbitrum-Z8VMulXH.png",Vm="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Rm="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Dm="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",qm="/assets/moonbeam-CHDPiRRO.png",Fm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",Mm="/assets/optimism-CcABTbCu.png",xm="/assets/base-AohAhS4D.webp",Bm="/assets/polygon-GPEdhIuq.png",Om="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function us(t){return{ethereum:Am,arbitrum:Im,optimism:Mm,fantom:Vm,avalanche:Pm,xdai:Rm,matic:Fm,harmony:Dm,moonbeam:qm,base:xm,polygon:Bm,fraxtal:Om,all:""}[t]}const Um={key:0,class:"item"},Em=["src"],Wm={key:1,class:"empty"},Hm={class:"label"},Km=P({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(t,{emit:e}){const a=e,o=R(!1),n=w(()=>[...t.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(d=>!t.chains||t.chains.includes(d.chain))),l=w(()=>n.value.find(d=>d.chain===t.chain)??null),c=d=>d.label,i=()=>{o.value=!o.value},r=d=>{a("select-chain",d.chain)};return(d,u)=>{const v=vt;return g(),I(v,{class:"select",options:s(n),selected:s(l),open:s(o),onOpen:i,onClose:u[0]||(u[0]=m=>o.value=!1),onInput:r},{item:k(m=>[m.item?(g(),T("div",Um,[s(us)(m.item.chain)?(g(),T("img",{key:0,src:s(us)(m.item.chain)},null,8,Em)):(g(),T("div",Wm)),p("div",Hm,L(c(m.item)),1)])):B("",!0)]),_:1},8,["options","selected","open"])}}}),Rt=V(Km,[["__scopeId","data-v-3c45b34e"]]),Nm=P({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(t,{emit:e}){const a=e,o=R(void 0);let n,l=null;x(o,(r,d)=>{t.target&&(r?c(t.target,r):d&&n&&i(t.target,n,d))});function c(r,d){n=r.parentNode,l=r.nextSibling,n&&(a("enterBefore",d),n.removeChild(r),d.appendChild(r),a("enter",d))}function i(r,d,u){a("exitBefore",u),u.removeChild(r),l?d.insertBefore(r,l):d.appendChild(r),a("exit",u)}return(r,d)=>{const u=Ra;return g(),I(u,null,{default:k(()=>[p("div",{ref_key:"modalRef",ref:o,class:"fullscreen-content"},null,512)]),_:1})}}}),Kn=V(Nm,[["__scopeId","data-v-f56cfee9"]]),zm=p("i",{class:"fas fa-expand"},null,-1),ht=P({__name:"BtnChartLWFullscreen",props:xe({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=dt(t,"modelValue");let a=0,o=0;function n(){var i;const c=(i=t.chart.chartElement())==null?void 0:i.parentElement;a=(c==null?void 0:c.clientHeight)??0,o=(c==null?void 0:c.clientWidth)??0}function l(){t.chart.applyOptions({height:a,width:o})}return(c,i)=>{const r=Kn,d=Pe;return g(),I(d,{disabled:!c.chart,onClick:i[1]||(i[1]=u=>e.value=!e.value)},{default:k(()=>[zm,_(r,{target:c.target,show:e.value,onClose:i[0]||(i[0]=u=>e.value=!1),onEnterBefore:n,onExit:l},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Qm=(t,e)=>{const{colors:a}=e;return{width:t.clientWidth,height:t.clientHeight,layout:{background:{type:gn.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:yn.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ae(t,e,a){const o=Qm(t,e),n=(l,c)=>{if(typeof c=="object"){q.mergeWith(l,c,n);return}else return l||c};return q.mergeWith(a,o,n)}function me(t,e,a){const o=R(void 0),n=R(void 0);let l=null;return ie(async()=>{if(!o.value)return;await wn();const c=pt(o.value,e(o.value));n.value=c,a==null||a(c),l=new ResizeObserver(i=>{const r=i[0].target;n.value&&o.value&&(n.value.applyOptions({width:r.clientWidth,height:r.clientHeight}),n.value.timeScale().fitContent())}),o.value.parentElement&&l.observe(o.value.parentElement)}),ka(()=>{n.value&&(n.value.remove(),n.value=void 0),l&&(l.disconnect(),l=null)}),x(t,()=>{o.value&&n.value&&n.value.applyOptions(e(o.value))}),{chart:n,chartRef:o}}const jm={class:"actions"},Nn=P({__name:"ChartTxs",props:{txs:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),n=R(!1),l=R(void 0),{chart:c,chartRef:i}=me(o,r,m=>{a=m.addAreaSeries(d())});x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>v(m),minMove:.01},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Xt(u);function u(){if(!c.value||!a)return;const m=q.chain(t.txs).map(h=>({time:h.timestamp,value:h.count})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();a.setData(m),c.value.timeScale().fitContent()}const v=m=>`${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:s(n)}]),title:s(e)("title")},{actions:k(()=>{var f;return[p("div",jm,[_(s(ht),{modelValue:s(n),"onUpdate:modelValue":h[0]||(h[0]=y=>le(n)?n.value=y:null),chart:s(c),target:(f=s(l))==null?void 0:f.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function ds(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}}}})}typeof ds=="function"&&ds(Nn);const Gm=V(Nn,[["__scopeId","data-v-ced16887"]]),Xm={class:"actions"},zn=P({__name:"ChartUsers",props:{users:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),n=R(!1),l=R(void 0),{chart:c,chartRef:i}=me(o,r,m=>{a=m.addAreaSeries(d())});x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:m.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>v(m),minMove:.01},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Xt(u);function u(){if(!c.value||!a)return;const m=q.chain(t.users).map(h=>({time:h.timestamp,value:h.count})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();a.setData(m),c.value.timeScale().fitContent()}const v=m=>`${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:s(n)}]),title:s(e)("title")},{actions:k(()=>{var f;return[p("div",Xm,[_(s(ht),{modelValue:s(n),"onUpdate:modelValue":h[0]||(h[0]=y=>le(n)?n.value=y:null),chart:s(c),target:(f=s(l))==null?void 0:f.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function ps(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof ps=="function"&&ps(zn);const Ym=V(zn,[["__scopeId","data-v-52ec739c"]]),Zm={class:"legend"},Jm=["onClick"],ev={class:"label"},tv=P({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(t,{emit:e}){const a=e;return(o,n)=>(g(),T("div",Zm,[(g(!0),T(ne,null,_e(o.items,l=>(g(),T("div",{key:l.id,class:O(["item",{togglable:l.togglable,disabled:o.disabled.includes(l.id)}]),onClick:c=>{l.togglable&&a("toggle",l.id)}},[p("div",{class:"color",style:Se({"background-color":l.color})},null,4),p("div",ev,L(l.label),1)],10,Jm))),128))]))}}),Ve=V(tv,[["__scopeId","data-v-d25d58a4"]]);function Re(t){const e=w(t),a=xr(Br(Object.fromEntries(e.value.map(n=>[n.id,!0])))),o=w(()=>e.value.filter(n=>!a[n.id].value).map(n=>n.id));return{items:e,toggles:a,disabled:o}}const av={class:"actions"},Qn=P({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(t){const{t:e}=M(),{theme:a}=E(K()),o=w(()=>`${e("title")} (${t.type==="all"?"All Types":q.capitalize(t.type)})`),{items:n,toggles:l,disabled:c}=Re(()=>{const{blue:f,yellow:y}=a.value.colors;return[{id:"txs",label:e("txs"),color:f,togglable:!0},{id:"users",label:e("users"),color:y,togglable:!0}]});function i(f){return q.chain(f).groupBy(y=>y.chain).mapValues((y,C)=>{const S=y.reduce(($,A)=>$+A.value,0);return{chain:C,count:S}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:f}=a.value;return re(a.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[f.blue,f.yellow],xaxis:{categories:v.value,labels:{formatter:h}},yaxis:{labels:{formatter:b}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(t.txs):[]),u=w(()=>l.users.value?i(t.users):[]),v=w(()=>q.chain(d.value).concat(u.value).orderBy(f=>f.count,"desc").map(f=>f.chain).uniq().value()),m=w(()=>{const f=v.value.map(C=>{const S=d.value.find($=>$.chain===C);return S?S.count:0}),y=v.value.map(C=>{const S=u.value.find($=>$.chain===C);return S?S.count:0});return[{data:l.txs.value?f:[]},{data:l.users.value?y:[]}]}),h=f=>f,b=f=>`${Q(f,0,"dollar")}${z(f,"dollar")}`;return(f,y)=>{const C=Ve,S=he;return g(),I(S,{class:"chart",title:s(o),options:s(r),series:s(m)},{actions:k(()=>[p("div",av,[_(C,{items:s(n),disabled:s(c),onToggle:y[0]||(y[0]=$=>s(l)[$].value=!s(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function ms(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Chains"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof ms=="function"&&ms(Qn);const sv=V(Qn,[["__scopeId","data-v-fd8ee8d7"]]),ov={class:"actions"},jn=P({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(t){const{t:e}=M(),{theme:a}=E(K()),o=w(()=>`${e("title")} (${t.chain==="all"?"All Chains":q.capitalize(t.chain)})`),{items:n,toggles:l,disabled:c}=Re(()=>{const{blue:f,yellow:y}=a.value.colors;return[{id:"txs",label:e("txs"),color:f,togglable:!0},{id:"users",label:e("users"),color:y,togglable:!0}]});function i(f){return q.chain(f).groupBy(y=>y.type).mapValues((y,C)=>{const S=y.reduce(($,A)=>$+A.value,0);return{type:C,count:S}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:f}=a.value;return re(a.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[f.blue,f.yellow],xaxis:{categories:v.value,labels:{formatter:h}},yaxis:{labels:{formatter:b}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=w(()=>l.txs.value?i(t.txs):[]),u=w(()=>l.users.value?i(t.users):[]),v=w(()=>q.chain(d.value).concat(u.value).orderBy(f=>f.count,"desc").map(f=>f.type).uniq().value()),m=w(()=>{const f=v.value.map(C=>{const S=d.value.find($=>$.type===C);return S?S.count:0}),y=v.value.map(C=>{const S=u.value.find($=>$.type===C);return S?S.count:0});return[{data:l.txs.value?f:[]},{data:l.users.value?y:[]}]}),h=f=>f,b=f=>`${Q(f,0,"dollar")}${z(f,"dollar")}`;return(f,y)=>{const C=Ve,S=he;return g(),I(S,{class:"chart",title:s(o),options:s(r),series:s(m)},{actions:k(()=>[p("div",ov,[_(C,{items:s(n),disabled:s(c),onToggle:y[0]||(y[0]=$=>s(l)[$].value=!s(l)[$].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function vs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Types"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof vs=="function"&&vs(jn);const nv=V(jn,[["__scopeId","data-v-8f0a89d5"]]),lv={class:"item"},iv={class:"label"},Gn=P({__name:"ActivityTypeSelect",emits:["select"],setup(t,{emit:e}){const{t:a}=M(),o=["all",...fp],n=e,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,n("select",c.value)};return(d,u)=>{const v=vt;return g(),I(v,{class:"select",options:o.map(m=>m),selected:s(c),open:s(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:k(m=>[p("div",lv,[p("div",iv,L(s(a)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function hs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All Types"}},crvusd:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD"}},lending:{t:0,b:{t:2,i:[{t:3}],s:"Lending"}},pools:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}},router:{t:0,b:{t:2,i:[{t:3}],s:"Router"}},dao:{t:0,b:{t:2,i:[{t:3}],s:"DAO"}}}})}typeof hs=="function"&&hs(Gn);const rv=V(Gn,[["__scopeId","data-v-18a389a3"]]),cv={class:"chains"},uv={class:"toolbar"},dv={class:"activity"},Xn=P({__name:"Chains.page",setup(t){const{t:e}=M(),{show:a}=E(Oe());ie(()=>{a.value=!1});const o=$e("chain"),n=w({get(){return o.value?o.value:"all"},set(j){o.value=j}}),l=w(()=>{const j=q.chain(u.value.map(ce=>ce.chain)).concat(m.value.map(ce=>ce.chain)).concat(n.value!==void 0&&n.value!=="all"?[n.value]:[]).uniq().orderBy(ce=>ce).value(),X=["ethereum"],J=q.chain(j).difference(X).orderBy(ce=>ce).value();return["all",...X,...J]}),c=$e("type"),i=w({get(){return c.value?c.value:"all"},set(j){c.value=j}}),r=j=>{i.value=j},{isFetching:d,data:u}=Ip(),{isFetching:v,data:m}=Vp();function h(j,X,J,ce){return q.chain(j).filter(G=>X==="all"?!0:G.chain===X).filter(G=>J==="all"?!0:G.type===J).groupBy(G=>G.timestamp).mapValues((G,fe)=>{const Ne=G.reduce(($t,ia)=>$t+ce(ia),0);return{timestamp:Number(fe),count:Ne}}).values().value()}const b=w(()=>h(u.value,n.value,i.value,j=>j.transactions)),f=w(()=>h(m.value,n.value,i.value,j=>j.users));function y(j){const ce=Math.floor(Date.now()/1e3)-7*24*60*60,fe=j.filter(Ne=>Ne.timestamp>=ce).reduce((Ne,$t)=>Ne+$t.count,0);return Math.round(fe/7)}const C=w(()=>{var j;return((j=q.last(b.value))==null?void 0:j.count)??0}),S=w(()=>y(b.value)),$=w(()=>{var j;return((j=q.last(f.value))==null?void 0:j.count)??0}),A=w(()=>y(f.value));function D(j,X,J,ce){return q.chain(j).filter(G=>X==="all"?!0:G.chain===X).filter(G=>J==="all"?!0:G.type===J).map(G=>({chain:G.chain,type:G.type,value:ce(G)})).value()}const U=w(()=>D(u.value,"all",i.value,j=>j.transactions)),F=w(()=>D(m.value,"all",i.value,j=>j.users)),W=w(()=>D(u.value,n.value,"all",j=>j.transactions)),oe=w(()=>D(m.value,n.value,"all",j=>j.users));return(j,X)=>{const J=te,ce=ge;return g(),T("div",cv,[(g(),I(Gt,{to:"#toolbar"},[p("div",uv,[_(s(rv),{style:{"grid-area":"type"},onSelect:r}),_(Rt,{style:{"grid-area":"chain"},class:"chain-select",chain:s(n),chains:s(l),all:!0,onSelectChain:X[0]||(X[0]=G=>n.value=G)},null,8,["chain","chains"])])])),p("div",dv,[_(ce,{style:{"grid-area":"kpi1"},label:s(e)("txs-today"),"has-value":!!s(d)},{default:k(()=>[_(J,{type:"dollar",value:s(C),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ce,{style:{"grid-area":"kpi2"},label:s(e)("txs-avg"),"has-value":!!s(d)},{default:k(()=>[_(J,{type:"dollar",value:s(S),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ce,{style:{"grid-area":"kpi3"},label:s(e)("users-today"),"has-value":!!s(v)},{default:k(()=>[_(J,{type:"dollar",value:s($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ce,{style:{"grid-area":"kpi4"},label:s(e)("users-avg"),"has-value":!!s(v)},{default:k(()=>[_(J,{type:"dollar",value:s(A),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(s(Gm),{style:{"grid-area":"txs"},txs:s(b),loading:s(d)},null,8,["txs","loading"]),_(s(Ym),{style:{"grid-area":"users"},users:s(f),loading:s(v)},null,8,["users","loading"]),_(s(sv),{style:{"grid-area":"top-chains"},type:s(i),txs:s(U),users:s(F),loading:s(d)||s(v)},null,8,["type","txs","users","loading"]),_(s(nv),{style:{"grid-area":"top-types"},chain:s(n),txs:s(W),users:s(oe),loading:s(d)||s(v)},null,8,["chain","txs","users","loading"])])])}}});function _s(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"txs-today":{t:0,b:{t:2,i:[{t:3}],s:"Transactions Today"}},"txs-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Transactions / 7 Days"}},"users-today":{t:0,b:{t:2,i:[{t:3}],s:"Users Today"}},"users-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Users / 7 Days"}}}})}typeof _s=="function"&&_s(Xn);const pv=V(Xn,[["__scopeId","data-v-23fc3398"]]),mv=t=>({tvl:t.total_tvl,tradingVolume24h:t.trading_volume_24h,tradingFee24h:t.trading_fee_24h,liquidityVolume24h:t.liquidity_volume_24h,liquidityFee24h:t.liquidity_fee_24h}),fs=t=>{var e,a;return{name:t.name,address:t.address.toLocaleLowerCase(),numCoins:t.n_coins,tvlUsd:t.tvl_usd,tradingVolume24h:t.trading_volume_24h,tradingFee24h:t.trading_fee_24h,liquidityVolume24h:t.liquidity_volume_24h,liquidityFee24h:t.liquidity_fee_24h,coins:((e=t.coins)==null?void 0:e.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:t.base_daily_apr,baseWeeklyApr:t.base_weekly_apr,virtualPrice:t.virtual_price,poolMethods:((a=t.pool_methods)==null?void 0:a.map(o=>o))??[]}},vv=t=>({timestamp:t.timestamp,volume:t.volume,fees:t.fees}),bs="https://prices.curve.fi";let hv=class extends mt{async getPools(e){const a=await this.getHost(),o=await this.fetch(`${a}/chains/${e}`);return{chain:o.chain,totals:mv(o.total),pools:o.data.map(fs)}}async getPool(e,a){const o=await this.fetch(`${bs}/v1/pools/${e}/${a}`);return fs(o)}async getVolume(e,a){const n=Math.floor(new Date().getTime()/1e3),l=Math.floor(n-72e5);return(await this.fetch(`${bs}/v1/volume/usd/${e}/${a}?interval=day&start=${l}&end=${n}`)).data.map(vv)}};const _v=["cb","laf","cm","pm","pm-lrt"];function fv(){const t="cm";if(!_v.includes(t)){const e=`Unknown app for useApp(): ${t}`;throw Ee({text:e,type:"error"}),new Error(e)}return t}const Ut={};function bv(t){return Uc[t]}async function ut(t){const e=fv(),a=e;if(Ut[a])return Promise.resolve(Ut[a]);const o=bv(e);return Ut[a]=o,Ut[a]}const sa=new hv(ut());function gv(t){return Y({queryKey:["curve-pools",t],queryFn:async({queryKey:[,e]})=>sa.getPools(e),placeholderData:Yt,enabled:w(()=>!!t.value)})}function yv(t,e){return Y({queryKey:["curve-pool",e],queryFn:async({queryKey:[,a]})=>sa.getPool(t.value,a),enabled:w(()=>!!t.value)})}function wv(t,e){const a=w(()=>e.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>sa.getPool(t.value,o),enabled:w(()=>!!t.value)})));return Or({queries:a})}function $v(t,e){return Y({queryKey:["curve-volume",e],queryFn:async({queryKey:[,a]})=>sa.getVolume(t.value,a),enabled:w(()=>!!t.value&&!!e.value),initialData:[],initialDataUpdatedAt:0})}const Cv=["src"],kv=["href"],Sv=["src"],Lv=P({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(t){const e=R("");function a(l){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${t.chain!=="ethereum"?`-${t.chain}`:""}/${l}.png`}const o=()=>{e.value="https://lend.curve.fi/images/default-crypto.png"};x(()=>t.address,l=>{e.value=a(l.toLowerCase())},{immediate:!0});const n=w(()=>{switch(t.chain){case"arbitrum":return`https://arbiscan.io/address/${t.address}`;case"ethereum":default:return`https://etherscan.io/address/${t.address}`}});return(l,c)=>l.clickable?(g(),T("a",{key:1,target:"_blank",href:s(n)},[p("img",{src:e.value,onError:o},null,40,Sv)],8,kv)):(g(),T("img",{key:0,src:e.value,onError:o},null,40,Cv))}}),Ge=V(Lv,[["__scopeId","data-v-e4d8b79d"]]),Ba=t=>(ue("data-v-c920758b"),t=t(),de(),t),Tv={key:0},Av=Ba(()=>p("button",null,"1",-1)),Pv=[Av],Iv=Ba(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),Vv=[Iv],Rv=["onClick"],Dv=Ba(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),qv=[Dv],Fv=P({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(t,{emit:e}){const a=e,o=w(()=>Math.ceil(t.itemsCount/t.itemsPerPage)),n=w(()=>{const v=[...Array(12).keys()].map(C=>C-6+t.page).filter(C=>C>=1&&C<=o.value),m=v.findIndex(C=>C===t.page),h=[],b=[],f=t.page!==1&&t.page!==o.value?[t.page]:[];let y=1;for(;;){const C=v[m-y];if(C&&C!==1&&h.unshift(C),h.length+b.length+f.length>=5||y>v.length)break;const S=v[m+y];if(S&&S!==o.value&&b.push(S),y++,h.length+b.length+f.length>=5||y>v.length)break}return[...h,...f,...b]});x(n,()=>{const d=l(t.page,1,o.value);t.page!==d&&a("page",d)});const l=(d,u,v)=>(v<u&&(v=u),Math.min(Math.max(d,u),v)),c=()=>a("page",l(t.page-1,1,o.value)),i=()=>a("page",l(t.page+1,1,o.value)),r=d=>a("page",l(d,1,o.value));return(d,u)=>s(o)>1?(g(),T("ul",Tv,[p("li",{class:O({active:d.page===1}),onClick:u[0]||(u[0]=v=>r(1))},Pv,2),s(o)>2?(g(),T("li",{key:0,onClick:c},Vv)):B("",!0),(g(!0),T(ne,null,_e(s(n),(v,m)=>(g(),T("li",{key:m,class:O({active:v===d.page}),onClick:h=>r(v)},[p("button",null,L(v),1)],10,Rv))),128)),s(o)>2?(g(),T("li",{key:1,onClick:i},qv)):B("",!0),s(o)>1?(g(),T("li",{key:2,class:O({active:d.page===s(o)}),onClick:u[1]||(u[1]=v=>r(s(o)))},[p("button",null,L(s(o)),1)],2)):B("",!0)])):B("",!0)}}),Ke=V(Fv,[["__scopeId","data-v-c920758b"]]);function Dt(t,e){const a=R(t),o=R("desc"),n=(c,i)=>{a.value=c,o.value=i},l=w(()=>({column:a.value,order:o.value}));return{sortColumn:a,sortOrder:o,sorting:l,onSort:n}}function oa(t,e){const a=R(1),o=w(()=>q.chain(t.value).drop((a.value-1)*e).take(e).value()),n=l=>{a.value=l};return x(o,l=>{l.length===0&&(a.value=Math.max(1,Math.ceil(t.value.length/e)))}),{page:a,rowsPage:o,onPage:n}}function Oa(){const t=R(1);return{page:t,onPage:a=>{t.value=a}}}const Mv={class:"title"},xv={style:{display:"flex",gap:"1rem"}},Bv={class:"tokens"},Ov={class:"end"},Uv={class:"end"},Ev={class:"end"},gs=20,Yn=P({__name:"TablePools",props:{chain:{},pools:{}},setup(t){const{t:e}=M(),a=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:o,onSort:n}=Dt("tvl"),l=w(()=>q.chain(t.pools).orderBy(u=>{switch(o.value.column){case"name":return u.name;case"volume":return u.tradingVolume24h;case"tvl":return u.tvlUsd;case"util":return d(u);default:return u.tvlUsd}},o.value.order).value()),{page:c,rowsPage:i,onPage:r}=oa(l,gs);function d(u){return u.tvlUsd!==0?100*u.tradingVolume24h/u.tvlUsd:0}return(u,v)=>{const m=Ke,h=Ge,b=te,f=pe;return g(),I(f,{class:"datatable-pools","expand-side":"left",rows:s(i),columns:a,sorting:s(o),onSortColumn:s(n)},{"header-content":k(()=>[p("div",Mv,L(s(e)("title")),1),p("div",xv,[_(m,{class:"pagination","items-count":u.pools.length,"items-per-page":gs,page:s(c),onPage:s(r)},null,8,["items-count","page","onPage"])])]),row:k(({item:y})=>[p("div",Bv,[(g(!0),T(ne,null,_e(y.coins,C=>(g(),I(h,{key:C.address,chain:u.chain,address:C.address},null,8,["chain","address"]))),128))]),p("div",null,L(y.name),1),p("div",Ov,[_(b,{value:y.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Uv,[_(b,{value:y.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",Ev,[_(b,{value:d(y),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":k(()=>[N("   ")]),_:1},8,["rows","sorting","onSortColumn"])}}});function ys(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}}}})}typeof ys=="function"&&ys(Yn);const Wv=V(Yn,[["__scopeId","data-v-73e7f537"]]),Hv={class:"pools"},Kv={class:"toolbar"},Zn=P({__name:"Pools.page",setup(t){const{t:e}=M(),a=["ethereum","arbitrum"],o=$e("chain"),n=w({get(){return o.value?o.value:"ethereum"},set(f){o.value=f}}),l=R(""),{isFetching:c,data:i}=En(n),{isFetching:r,data:d}=gv(n),u=w(()=>{var f;return(((f=d.value)==null?void 0:f.pools)??[]).filter(y=>{const C=l.value.toLocaleLowerCase().split(" "),S=$=>C.some(A=>$.toLocaleLowerCase().includes(A));return S(y.name)||S(y.address)})}),{show:v,crumbs:m}=E(Oe());ie(()=>{v.value=!0,m.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const h=Be(),b=async f=>{await h.push({name:"poolspool",params:{tab:"",chain:n.value,poolAddr:f.address}})};return(f,y)=>{const C=Ie,S=te,$=ge;return g(),T("div",Hv,[(g(),I(Gt,{to:"#toolbar"},[p("div",Kv,[_(C,{modelValue:s(l),"onUpdate:modelValue":y[0]||(y[0]=A=>le(l)?l.value=A:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(Rt,{class:"chain-select",chain:s(n),chains:a,onSelectChain:y[1]||(y[1]=A=>n.value=A==="all"?"ethereum":A)},null,8,["chain"])])])),_($,{style:{"grid-area":"kpi1"},label:s(e)("tvl"),"has-value":!s(c)},{default:k(()=>{var A;return[_(S,{value:((A=s(i))==null?void 0:A.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi2"},label:s(e)("volume"),"has-value":!s(c)},{default:k(()=>{var A;return[_(S,{value:((A=s(i))==null?void 0:A.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi3"},label:s(e)("fee-trading"),"has-value":!s(c)},{default:k(()=>{var A;return[_(S,{value:((A=s(i))==null?void 0:A.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_($,{style:{"grid-area":"kpi4"},label:s(e)("fee-liquidity"),"has-value":!s(c)},{default:k(()=>{var A;return[_(S,{value:((A=s(i))==null?void 0:A.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(s(Wv),{style:{"grid-area":"pools"},chain:s(n),pools:s(u),loading:s(r),onSelected:b},null,8,["chain","pools","loading"])])}}});function ws(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},"fee-trading":{t:0,b:{t:2,i:[{t:3}],s:"Fees Trading (24h)"}},"fee-liquidity":{t:0,b:{t:2,i:[{t:3}],s:"Fees Liquidity (24h)"}}}})}typeof ws=="function"&&ws(Zn);const Nv=V(Zn,[["__scopeId","data-v-4ededc1d"]]),zv={class:"tab-view"},Qv={class:"tab-headers"},jv=["onClick"],Gv={class:"tabs"},Xv=P({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(t,{emit:e}){const a=e,o=R(null),n=bn(),l=w(()=>(n!=null&&n.default?n.default():[]).filter(r=>r.props));x(()=>t.active,i=>{o.value=i,a("tab",{tab:l.value[i],index:o.value})},{immediate:!0});const c=(i,r)=>{i.props.disabled||(o.value=r,a("tab",{tab:l.value[r],index:o.value}))};return(i,r)=>(g(),T("div",zv,[p("ul",Qv,[(g(!0),T(ne,null,_e(s(l),(d,u)=>(g(),T("li",{key:u,class:O(["tab-header",{active:s(o)===u,disabled:d.props.disabled}]),onClick:v=>c(d,u)},L(d.props.header),11,jv))),128))]),p("div",Gv,[(g(!0),T(ne,null,_e(s(l),(d,u)=>Sa((g(),T("div",{key:u,class:"tab"},[(g(),I($a(d)))])),[[Ur,s(o)===u]])),128))])]))}}),Xe=V(Xv,[["__scopeId","data-v-cb076fcc"]]),Ye=P({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(t){return(e,a)=>se(e.$slots,"default")}}),Yv=new Wn;function Zv(t,e,a,o){return Y({queryKey:["curve-token-price",e,a,o],queryFn:({queryKey:[,n,l,c]})=>Yv.getOHLC(t.value,n,l,c),enabled:w(()=>!!t.value&&!!e.value&&!!a.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const Jv=P({__name:"ButtonToggle",props:xe({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:xe(["change"],["update:modelValue"]),setup(t,{emit:e}){const a=dt(t,"modelValue"),o=e,n=()=>{const l=!a.value;a.value=l,o("change",l)};return(l,c)=>(g(),T("button",{class:O({toggled:a.value}),onClick:n},[se(l.$slots,"default",{},()=>[l.icon?(g(),T("i",{key:0,class:O(["icon",l.icon])},null,2)):B("",!0),N(" "+L(l.value),1)],!0)],2))}}),Ze=V(Jv,[["__scopeId","data-v-293e52b8"]]),eh={class:"controls"},Jn=P({__name:"ChartPrice",props:{ohlc:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),n=R(!1);let l=1,c=0;const{chart:i,chartRef:r}=me(o,d,h=>{a=h.addCandlestickSeries(u())});x([H(()=>t.ohlc),i,n],v),x(o,()=>{a==null||a.applyOptions(u())});function d(h){return ae(h,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){const{colors:h}=o.value;return{priceFormat:{type:"custom",formatter:m},upColor:h.green,borderUpColor:h.green,wickUpColor:h.green,downColor:h.red,borderDownColor:h.red,wickDownColor:h.red}}function v([h,b,f]){if(!b||!a)return;const y=f?-1:1,C=q.chain(h).map(S=>({time:S.time,open:Math.pow(S.open,y),high:Math.pow(S.high,y),low:Math.pow(S.low,y),close:Math.pow(S.close,y)})).uniqWith((S,$)=>S.time===$.time).orderBy(S=>S.time,"asc").value();C.length>0&&(a.setData(C),c=Math.min(...C.map(S=>S.low)),l=Math.max(...C.map(S=>S.high))),b.timeScale().fitContent()}const m=h=>{const b=l-c,f=b>1?b-Math.floor(b):b,y=-Math.floor(Math.log10(f)+1)+2;return`${Q(h,y,"dollar")}${z(h,"dollar")}`};return(h,b)=>{const f=Ze,y=Z;return g(),I(y,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",eh,[_(f,{value:"Invert","model-value":s(n),onClick:b[0]||(b[0]=C=>n.value=!s(n))},null,8,["model-value"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function $s(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof $s=="function"&&$s(Jn);const th=V(Jn,[["__scopeId","data-v-0033147b"]]),el=P({__name:"ChartVolume",props:{volume:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,u=>{a=u.addAreaSeries(i())});x([H(()=>t.volume),n],r),x(o,()=>a.applyOptions(i()));function c(u){return ae(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,v]){if(!v||!a)return;const m=q.chain(u).map(h=>({time:h.timestamp,value:h.volume})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();m.length>0&&a.setData(m),v.timeScale().fitContent()}const d=u=>`$${Q(u,1,"dollar")}${z(u,"dollar")}`;return(u,v)=>{const m=Z;return g(),I(m,{class:"chart-container",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Cs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof Cs=="function"&&Cs(el);const ah=V(el,[["__scopeId","data-v-bf31681f"]]),sh={class:"pool-overview"},oh={class:"tokens"},tl=P({__name:"PoolOverview",props:{pool:{},chain:{}},setup(t){const{t:e}=M(),a=w(()=>{var u;return(u=t.pool)==null?void 0:u.address}),o=w(()=>{var u;return(u=t.pool)==null?void 0:u.coins[0].address}),n=w(()=>{var u;return(u=t.pool)==null?void 0:u.coins[1].address}),{isFetching:l,data:c}=Zv(H(()=>t.chain),a,o,n),{isFetching:i,data:r}=$v(H(()=>t.chain),a),d=w(()=>r.value.map(u=>({timestamp:u.timestamp,volume:u.volume})));return(u,v)=>{const m=Ge,h=ge,b=te;return g(),T("div",sh,[_(h,{style:{"grid-area":"kpi1"},label:s(e)("tokens"),"has-value":!!u.pool},{default:k(()=>{var f;return[p("div",oh,[(g(!0),T(ne,null,_e(((f=u.pool)==null?void 0:f.coins)??[],y=>(g(),I(m,{key:y.address,chain:u.chain,address:y.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),_(h,{style:{"grid-area":"kpi2"},label:s(e)("tvl"),"has-value":!!u.pool},{default:k(()=>{var f;return[_(b,{value:((f=u.pool)==null?void 0:f.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(h,{style:{"grid-area":"kpi3"},label:s(e)("volume"),"has-value":!!u.pool},{default:k(()=>{var f;return[_(b,{value:((f=u.pool)==null?void 0:f.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(h,{style:{"grid-area":"kpi4"},label:s(e)("fees"),"has-value":!!u.pool},{default:k(()=>{var f;return[_(b,{value:((f=u.pool)==null?void 0:f.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(s(th),{style:{"grid-area":"price"},ohlc:s(c),loading:s(l)},null,8,["ohlc","loading"]),_(s(ah),{style:{"grid-area":"volume"},volume:s(d),loading:s(i)},null,8,["volume","loading"])])}}});function ks(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{tokens:{t:0,b:{t:2,i:[{t:3}],s:"Tokens"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees (24h)"}}}})}typeof ks=="function"&&ks(tl);const nh=V(tl,[["__scopeId","data-v-f9bd0840"]]),lh={},ih={class:"gauge"};function rh(t,e){return g(),T("div",ih,"Gauge goes here")}const ch=V(lh,[["render",rh],["__scopeId","data-v-d3275186"]]),uh={},dh={class:"mev"};function ph(t,e){return g(),T("div",dh,"MEV goes here")}const mh=V(uh,[["render",ph],["__scopeId","data-v-284efb34"]]);function na(t,e,a){const o=Be(),n=$e("tab",t[0]),l=R(-1);return x(n,c=>l.value=t.findIndex(i=>i===c),{immediate:!0}),x(l,async c=>{c===-1&&(c=0),await o.push({name:e,params:{tab:t[c],...(a==null?void 0:a())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:l}}const vh={class:"pool"},hh=P({__name:"Pool.page",setup(t){const{show:e,crumbs:a}=E(Oe()),o=$e("chain"),n=$e("poolAddr"),{isFetching:l,data:c}=yv(o,n.value);x(c,d=>{a.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ie(()=>{e.value=!0});const{tabActive:i,tabActiveIndex:r}=na(["overview","gauge","mev"],"poolspool",()=>({chain:o.value,poolAddr:n.value}));return(d,u)=>{const v=He,m=Ye,h=Xe;return g(),T("div",vh,[_(v,{class:O(["spinner",{loading:s(l)}])},null,8,["class"]),!s(l)&&s(c)?(g(),I(h,{key:0,active:s(r),onTab:u[0]||(u[0]=b=>r.value=b.index)},{default:k(()=>[_(m,{header:"Overview"},{default:k(()=>[(g(),I(we,null,[s(i)==="overview"?(g(),I(nh,{key:0,pool:s(c),chain:s(o)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1}),_(m,{header:"Gauge"},{default:k(()=>[(g(),I(we,null,[s(i)==="gauge"?(g(),I(ch,{key:0,pool:s(c),chain:s(o)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1}),_(m,{header:"MEV"},{default:k(()=>[(g(),I(we,null,[s(i)==="mev"?(g(),I(mh,{key:0,pool:s(c),chain:s(o)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),_h=V(hh,[["__scopeId","data-v-871c8994"]]),Ua=je("curveStore",()=>{const t=R([]),e=R({}),a=R({});function o(l,c){e.value[l]=c}function n(l,c){a.value[l]=c}return{gauges:t,emissions:e,fees:a,setEmissions:o,setFees:n}});function et(t){const e=t.reduce((a,{timeStamp:o,value:n})=>a.set(o,(a.get(o)??0)+n),new Map);return Array.from(e).map(a=>({timeStamp:a[0],value:a[1]}))}const al=P({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(t){const{t:e}=M(),a=Ua(),{theme:o}=E(K()),n=w(()=>{let b=e("title");return t.gaugeSelected&&(b+=` - ${Fe(t.gaugeSelected.name)}`),b}),l=w(()=>t.gaugeSelected?a.emissions[t.gaugeSelected.name]??[]:[]),c=w(()=>t.gaugeSelected?a.fees[t.gaugeSelected.name]??[]:[]),i=w(()=>Math.min(...et(l.value).map(b=>b.value).concat(et(c.value).map(b=>b.value)))),r=w(()=>Math.max(...et(l.value).map(b=>b.value).concat(et(c.value).map(b=>b.value)).map(b=>Math.abs(b)))),d=w(()=>re(o.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:b=>v(b)},min:i,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:b=>m(b)},show:!1,min:i,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:b=>{const f=b.w.globals.initialSeries[0].data[b.dataPointIndex].y,y=b.w.globals.initialSeries[1].data[b.dataPointIndex]?b.w.globals.initialSeries[1].data[b.dataPointIndex].y:0;return[`<div><b>${e("emissions")}</b>:</div><div>${v(f)}</div>`,`<div><b>${e("fees")}</b>:</div><div>${m(y)}</div>`,`<div><b>${e("ratio")}</b>:</div><div>${h(y/f)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(b){return b}}})),u=w(()=>{const b=et(l.value),f=et(c.value),y=Object.assign({},...f.map(C=>({[C.timeStamp]:C.value})));return[{name:e("emissions"),type:"line",data:b.map(C=>({x:C.timeStamp*1e3,y:C.value}))},{name:e("fees"),type:"line",data:b.map(C=>({x:C.timeStamp*1e3,y:y[C.timeStamp]?Math.abs(y[C.timeStamp]):0}))}]}),v=b=>`$${Q(Math.abs(b),1,"dollar")}${z(b,"dollar")}`,m=b=>`$${Q(b,1,"dollar")}${z(b,"dollar")}`,h=b=>`${ze(b,2)}`;return(b,f)=>{const y=he;return g(),I(y,{class:"emissions",title:s(n),options:s(d),series:s(u)},null,8,["title","options","series"])}}});function Ss(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Emissions & Revenues"}},emissions:{t:0,b:{t:2,i:[{t:3}],s:"Emissions"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof Ss=="function"&&Ss(al);const fh=V(al,[["__scopeId","data-v-f214c6ee"]]),bh={class:"title"},gh={class:"end"},yh={key:0,class:"charts"},wh={key:1},sl=P({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(t){const{t:e}=M(),a=Ua(),o=w(()=>["",{id:"name",label:e("name"),sort:!0},{id:"tvl",label:e("tvl"),sort:!0,align:"end"}]),{sorting:n,onSort:l}=Dt("tvl"),c=w(()=>q.orderBy(a.gauges,i=>{switch(n.value.column){case"name":return Fe(i.name);case"tvl":return i.tvl;default:return i.tvl}},n.value.order));return(i,r)=>{const d=te,u=pe;return g(),I(u,{class:"datatable-gauges",rows:s(c),columns:s(o),sorting:s(n),expanded:i.expanded,onSortColumn:s(l)},{"header-content":k(()=>[p("div",bh,L(s(e)("title")),1)]),row:k(v=>[p("div",null,L(s(Fe)(v.item.name)),1),p("div",gh,[_(d,{value:v.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":k(v=>[i.expanded.includes(v.item)?(g(),T("div",yh,[_(fh,{class:"fees-and-emissions","gauge-selected":v.item},null,8,["gauge-selected"])])):(g(),T("span",wh))]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])}}});function Ls(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},title:{t:0,b:{t:2,i:[{t:3}],s:"Curve Pools"}}}})}typeof Ls=="function"&&Ls(sl);const $h=V(sl,[["__scopeId","data-v-f8784487"]]);class Ch extends mt{async get(){const e=await this.getHost();return this.fetch(`${e}/curvepool`)}}class kh extends mt{async get(e){const a=await this.getHost();return this.fetch(`${a}/curvepoolsnapshots`,{pool:e.name})}}function Ea(){const t=R([]);return{expanded:t,toggleExpansion:a=>t.value.includes(a)?(t.value=t.value.filter(o=>o!==a),!1):(t.value.push(a),!0)}}const Sh={class:"gauges"},Lh=P({__name:"Gauges.page",setup(t){let e=!1;const a=new Ch(ut()),o=new kh(ut()),n=Ua(),l=Be(),c=$e("gauge"),{expanded:i,toggleExpansion:r}=Ea();ie(async()=>{e=!0;const m=await Lt(a.get());if(m){const h=m.pools;if(h.sort((b,f)=>f.tvl-b.tvl),n.gauges=h,!e)return;c.value&&u(c.value)}}),La(()=>{e=!1});const d=async m=>{if(!m||n.fees[m.name]&&n.emissions[m.name])return;const h=await Lt(o.get(m),500);if(h){const b=h.data.feeSnapshots,f=h.data.emissionSnapshots;n.setFees(m.name,b),n.setEmissions(m.name,f)}},u=m=>{const h=Va(m),b=n.gauges.find(f=>f.name===h);b&&r(b)&&d(b)},v=async m=>{r(m)&&(d(m),await l.push({name:"curvegauges",params:{gauge:Fe(m.name)}}))};return(m,h)=>(g(),T("div",Sh,[_($h,{class:"datatable-gauges",expanded:s(i),onSelected:v},null,8,["expanded"])]))}}),Th=V(Lh,[["__scopeId","data-v-d5118936"]]),Ah=t=>({week:t.week,label:t.label,total_fees:t.total_fees}),Ph=t=>({chain:t.chain,totalDailyFeesUSD:t.totalDailyFeesUSD}),Ih=t=>({name:t.name,totalDailyFeesUSD:t.totalDailyFeesUSD}),Vh=t=>({pool:t.pool.toLocaleLowerCase(),name:t.name,adminFees:t.admin_fees,usdValue:t.usd_value}),Rh=t=>({timestamp:Me(t.timestamp),feesUsd:t.fees_usd}),Dh=t=>({timestamp:Me(t.dt),coin:{lpToken:t.coin.lp_token,symbol:t.coin.symbol,address:t.coin.address.toLocaleLowerCase(),precision:t.coin.precision},amount:BigInt(t.amount),amountFee:BigInt(t.fee_amount),amountReceived:t.amount_received,routerReceived:t.router_received,epoch:t.epoch,txHash:t.tx_hash.toLocaleLowerCase(),blockNumber:t.block_number}),ua="https://api-py.llama.airforce/curve/v1",da="https://prices.curve.fi";class qh extends ke{async getBreakdown(e){return(await this.fetch(`${ua}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,e)).revenue.map(Ah)}async getByChain(e){return(await this.fetch(`${ua}/protocol/revenue/chains`,void 0,e)).revenue.map(Ph)}async getTopPools(e,a=10){const o=e==="ethereum"?"mainnet":e;return(await this.fetch(`${ua}/protocol/revenue/${o}/toppools/${a}`)).revenue.map(Ih)}async getCushions(e){return(await this.fetch(`${da}/v1/dao/fees/${e}/pending`)).data.map(Vh)}async getDistributions(){return await Tn(o=>this.fetch(`${da}/v1/dao/fees/distributions?page=${o}&per_page=100`).then(n=>n.distributions.map(Rh)),1,100)}async getCowSwapSettlements(e){return(await this.fetch(`${da}/v1/dao/fees/settlements${e?"?timestamp="+e:""}`)).data.map(Dh)}}const _t=new qh;function qt(){return{initialData:[],initialDataUpdatedAt:0}}function Fh(t){return Y({queryKey:["curve-cushions",t],queryFn:({queryKey:[,e]})=>_t.getCushions(e).then(a=>a.sort((o,n)=>n.usdValue-o.usdValue)),...qt()})}function Mh(t){return Y({queryKey:["curve-revenue-top-pools",t],queryFn:({queryKey:[,e]})=>_t.getTopPools(e),...qt()})}function xh(){return Y({queryKey:["curve-revenue-chain"],queryFn:()=>_t.getByChain().then(t=>t.sort((e,a)=>a.totalDailyFeesUSD-e.totalDailyFeesUSD)),...qt()})}function Bh(){return Y({queryKey:["curve-revenue-breakdown"],queryFn:()=>_t.getBreakdown(),...qt()})}function Oh(){return Y({queryKey:["curve-revenue-distributions"],queryFn:()=>_t.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function Uh(){return Y({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>_t.getCowSwapSettlements(),...qt()})}const Eh={class:"actions"},ol=P({__name:"ChartBreakdown",setup(t){const{t:e}=M(),{theme:a}=E(K()),{items:o}=Re(()=>[{id:"dao",label:"DAO",color:a.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:a.value.colorsArray[1]}]),{isFetching:n,data:l}=Bh(),c=w(()=>{const{colors:h,colorsArray:b}={colors:a.value.colors,colorsArray:[a.value.colorsArray[0],m(a.value.colorsArray[0],10),m(a.value.colorsArray[0],20),a.value.colorsArray[1],m(a.value.colorsArray[1],10)]};return re({colors:h,colorsArray:b},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:r.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),i=w(()=>q.chain(l.value).groupBy(h=>h.week).map(h=>({week:h[0].week,numLabels:h.length})).orderBy(h=>h.week,"asc").dropWhile(h=>h.numLabels<3).map(h=>h.week).value()),r=w(()=>q.chain(i.value).map(h=>new Date(h*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),d=w(()=>q.chain(l.value).groupBy(h=>h.label).map((h,b)=>({name:b,data:q.chain(i.value).map(f=>({week:f,breakdown:h.find(y=>y.week===f)})).map(f=>{var y;return{x:new Date(f.week*1e3).toLocaleDateString(),y:((y=f.breakdown)==null?void 0:y.total_fees)??0}}).value()})).orderBy(h=>h.name).value()),u=h=>h,v=h=>`$${Q(h,0,"dollar")}${z(h,"dollar")}`,m=(h,b)=>{let[f,y,C]=[h.slice(1,3),h.slice(3,5),h.slice(5,7)].map($=>parseInt($,16));const S=($,A)=>Math.min(255,Math.max(0,A+Math.round(2.55*$)));return f=S(b,f),y=S(b,y),C=S(b,C),`#${f.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}${C.toString(16).padStart(2,"0")}`};return(h,b)=>{const f=Ve,y=It,C=he;return g(),I(C,{class:"chart",options:s(c),series:s(d),loading:s(n),title:s(e)("title")},{actions:k(()=>[p("div",Eh,[_(f,{items:s(o)},null,8,["items"]),_(y,{placement:"left"},{default:k(()=>[p("div",null,L(s(e)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function Ts(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Revenue breakdown by source"}},"legend-explanation":{t:0,b:{t:2,i:[{t:3}],s:"DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"}}}})}typeof Ts=="function"&&Ts(ol);const Wh=V(ol,[["__scopeId","data-v-b3f99584"]]),nl=P({__name:"ChartChain",setup(t){const{t:e}=M(),{theme:a}=E(K()),{isFetching:o,data:n}=xh(),l=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex][0];return[`<div><b>${d}</b>:</div><div>${i(u)}</div>`].join("")}},labels:n.value.map(r=>r.chain)})),c=w(()=>n.value.map(r=>r.totalDailyFeesUSD)),i=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=he;return g(),I(u,{class:"chart",options:s(l),series:s(c),loading:s(o),title:s(e)("title")},null,8,["options","series","loading","title"])}}});function As(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total revenue by chain"}}}})}typeof As=="function"&&As(nl);const Hh=V(nl,[["__scopeId","data-v-c6af6b9d"]]),ll=P({__name:"ChartTopPools",setup(t){const{t:e}=M(),{theme:a}=E(K()),o=R("ethereum"),{isFetching:n,data:l}=Mh(o),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(u=>u.name),labels:{formatter:r}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:r,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));ie(()=>{d("ethereum")});const i=w(()=>[{data:l.value.map(u=>u.totalDailyFeesUSD)}]),r=u=>`$${Q(Math.abs(u),1,"dollar")}${z(u,"dollar")}`,d=u=>{u!=="all"&&(o.value=u)};return(u,v)=>{const m=he;return g(),I(m,{class:"graph",options:s(c),series:s(i),loading:s(n),title:s(e)("title")},{default:k(()=>[p("div",{class:O(["selector",{loading:s(n)}])},[_(Rt,{chain:s(o),onSelectChain:d},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function Ps(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 pools by revenue (last 7 days)"}}}})}typeof Ps=="function"&&Ps(ll);const Kh=V(ll,[["__scopeId","data-v-ebbc4f35"]]),Nh={class:"revenue-charts"},zh=P({__name:"Dashboard",setup(t){return(e,a)=>(g(),T("div",Nh,[_(Hh,{style:{"grid-area":"chain"},class:"chain"}),_(Kh,{style:{"grid-area":"top-pools"}}),_(Wh,{style:{"grid-area":"breakdown"},class:"breakdown"})]))}}),Qh=V(zh,[["__scopeId","data-v-3ec72074"]]),jh={class:"title"},Gh={class:"end"},il=P({__name:"TableDistributions",props:{distributions:{}},setup(t){const{t:e}=M(),a=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:o,onSort:n}=Dt("timestamp"),l=w(()=>q.chain(t.distributions).orderBy(i=>{switch(o.value.column){case"timestamp":return i.timestamp;case"fees":return i.feesUsd;default:return i.timestamp}},o.value.order).value());function c(i){return new Date(i*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(i,r)=>{const d=te,u=pe;return g(),I(u,{class:"datatable-distributions",rows:s(l),columns:a,sorting:s(o),onSortColumn:s(n)},{"header-content":k(()=>[p("div",jh,L(s(e)("title")),1)]),row:k(({item:{timestamp:v,feesUsd:m}})=>[p("div",null,L(c(v)),1),p("div",Gh,[_(d,{value:m,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])}}});function Is(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}}}})}typeof Is=="function"&&Is(il);const Xh=V(il,[["__scopeId","data-v-bfa3c234"]]),Yh={class:"actions"},rl=P({__name:"ChartDistributions",props:{distributions:{}},setup(t){const{t:e}=M(),{theme:a}=E(K());let o;const n=R(!1),l=R(void 0),{chart:c,chartRef:i}=me(a,r,m=>{o=m.addHistogramSeries(d())});x([H(()=>t.distributions),c],u),x(a,()=>o.applyOptions(d()));function r(m){return ae(m,a.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>v(m),minMove:.01},color:a.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function u([m,h]){if(!h||!o)return;const b=q.chain(m).map(f=>({time:f.timestamp,value:f.feesUsd})).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").takeRight(52).value();if(b.length>0){o.setData(b);const f=b[0].time,y=b[b.length-1].time;h.timeScale().setVisibleRange({from:f,to:y})}}const v=m=>`$${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:s(n)}]),title:s(e)("title")},{actions:k(()=>{var f;return[p("div",Yh,[_(s(ht),{modelValue:s(n),"onUpdate:modelValue":h[0]||(h[0]=y=>le(n)?n.value=y:null),chart:s(c),target:(f=s(l))==null?void 0:f.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function Vs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions (1y)"}}}})}typeof Vs=="function"&&Vs(rl);const Zh=V(rl,[["__scopeId","data-v-b561fde2"]]),Jh={class:"actions"},cl=P({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),n=R(!1),l=R(void 0),{chart:c,chartRef:i}=me(o,r,m=>{a=m.addHistogramSeries(d())});x([H(()=>t.distributions),c],u),x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m=>v(m),minMove:.01},color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function u([m,h]){if(!h||!a)return;const{colors:b}=o.value,f=q.chain(m).map(y=>({time:y.timestamp,value:y.feesUsd})).uniqWith((y,C)=>y.time===C.time).orderBy(y=>y.time,"asc").takeRight(53).reduce((y,C,S,$)=>{if(S===0)return y;const A=C.value-$[S-1].value,D=A<0?b.red:b.green;return y.push({time:C.time,value:A,color:D}),y},[]).value();if(f.length>0){a.setData(f);const y=f[0].time,C=f[f.length-1].time;h.timeScale().setVisibleRange({from:y,to:C})}}const v=m=>`$${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{ref_key:"chartCard",ref:l,class:O(["chart-card",{fullscreen:s(n)}]),title:s(e)("title")},{actions:k(()=>{var f;return[p("div",Jh,[_(s(ht),{modelValue:s(n),"onUpdate:modelValue":h[0]||(h[0]=y=>le(n)?n.value=y:null),chart:s(c),target:(f=s(l))==null?void 0:f.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function Rs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions Change (1y)"}}}})}typeof Rs=="function"&&Rs(cl);const e_=V(cl,[["__scopeId","data-v-df4a1561"]]),t_={class:"distributions"},ul=P({__name:"Distributions",setup(t){const{t:e}=M(),{isFetching:a,data:o}=Oh(),n=w(()=>q.chain(o.value).sumBy(i=>i.feesUsd).value()),l=w(()=>q.chain(o.value).orderBy(i=>i.timestamp,"desc").take(52).meanBy(i=>i.feesUsd).value()),c=w(()=>{const i=q.chain(o.value).orderBy(u=>u.timestamp,"desc").take(52).map(u=>u.feesUsd).value(),r=q.mean(i),d=i.map(u=>Math.pow(u-r,2));return Math.sqrt(q.sum(d)/(i.length-1))});return(i,r)=>{const d=te,u=ge;return g(),T("div",t_,[_(u,{style:{"grid-area":"kpi1"},label:s(e)("total"),"has-value":s(o).length>0},{default:k(()=>[_(d,{value:s(n),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(u,{style:{"grid-area":"kpi2"},label:s(e)("avg"),"has-value":s(o).length>0},{default:k(()=>[_(d,{value:s(l),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(u,{style:{"grid-area":"kpi3"},label:s(e)("stddev"),"has-value":s(o).length>0},{default:k(()=>[_(d,{value:s(c),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(Zh,{style:{"grid-area":"chart"},distributions:s(o),loading:s(a)},null,8,["distributions","loading"]),_(e_,{style:{"grid-area":"delta"},distributions:s(o),loading:s(a)},null,8,["distributions","loading"]),_(Xh,{style:{"grid-area":"table"},distributions:s(o),loading:s(a)},null,8,["distributions","loading"])])}}});function Ds(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},avg:{t:0,b:{t:2,i:[{t:3}],s:"Average (1y)"}},stddev:{t:0,b:{t:2,i:[{t:3}],s:"Standard Deviation (1y)"}}}})}typeof Ds=="function"&&Ds(ul);const a_=V(ul,[["__scopeId","data-v-1f9012bc"]]),dl=t=>(ue("data-v-ec0029fb"),t=t(),de(),t),s_={class:"title"},o_=["href"],n_={class:"end"},l_=dl(()=>p("div",null,null,-1)),i_=dl(()=>p("div",null,null,-1)),r_={class:"end"},pl=P({__name:"TableCushions",setup(t){const{t:e}=M(),a=R(""),o=w(()=>c.value||d.value),n=R("ethereum"),{data:l,isFetching:c}=Pp(),i=w(()=>q.chain(r.value).filter(v=>v.usdValue>100).filter(v=>{const m=a.value.toLocaleLowerCase().split(" "),h=b=>m.some(f=>b.toLocaleLowerCase().includes(f));return h(v.pool)||h(v.name)}).value()),{data:r,isFetching:d}=Fh(n),u=v=>`https://etherscan.io/address/${v}`;return(v,m)=>{const h=Ie,b=te,f=pe;return g(),I(f,{class:"datatable-distributions",loading:s(o),rows:s(i),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{"header-content":k(()=>[p("div",s_,L(s(e)("title")),1),_(Rt,{class:"chain-select",chain:s(n),chains:s(l),onSelectChain:m[0]||(m[0]=y=>n.value=y==="all"?"ethereum":y)},null,8,["chain","chains"]),_(h,{modelValue:s(a),"onUpdate:modelValue":m[1]||(m[1]=y=>le(a)?a.value=y:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:k(y=>[p("div",null,L(y.item.name),1),p("div",null,[p("a",{class:"font-mono",href:u(y.item.pool),target:"_blank"},L(y.item.pool),9,o_)]),p("div",n_,[_(b,{value:y.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":k(()=>[l_,i_,p("div",r_,[_(b,{value:s(i).reduce((y,C)=>y+C.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function qs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cushions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof qs=="function"&&qs(pl);const c_=V(pl,[["__scopeId","data-v-ec0029fb"]]),u_={class:"cushions"},d_=P({__name:"Cushions",setup(t){return(e,a)=>(g(),T("div",u_,[_(c_)]))}}),p_=V(d_,[["__scopeId","data-v-8d09f656"]]),m_=t=>({auctionStartBlock:t.auctionStartBlock,orders:t.auction.orders.map(e=>e),prices:Object.entries(t.auction.prices).reduce((e,[a,o])=>(e[a]=BigInt(o),e),{}),solutions:t.solutions.map(e=>({solver:e.solver,solverAddress:e.solverAddress,score:BigInt(e.score),ranking:e.ranking,clearingPrices:Object.entries(e.clearingPrices).reduce((a,[o,n])=>(a[o]=BigInt(n),a),{}),orders:e.orders.map(a=>({id:a.id,sellAmount:BigInt(a.sellAmount),buyAmount:BigInt(a.buyAmount)}))}))}),v_="https://api.cow.fi";class h_ extends ke{async getCompetition(e){const a=await this.fetch(`${v_}/mainnet/api/v1/solver_competition/by_tx_hash/${e}`);return m_(a)}}const __=new h_;function f_(t){return Y({queryKey:["solver-competition",t],queryFn:({queryKey:[,e]})=>__.getCompetition(e)})}const ml=t=>(ue("data-v-0661410e"),t=t(),de(),t),b_={class:"settlement-details-body"},g_={class:"info col"},y_={class:"buttons"},w_=ml(()=>p("i",{class:"fas fa-expand"},null,-1)),$_={class:"font-mono json"},C_=ml(()=>p("div",{class:"title"},"Solvers",-1)),k_={key:0,class:"fas fa-trophy"},S_={key:1},L_=["href"],T_=P({__name:"SettlementDetails",props:{settlement:{}},setup(t){const{data:e,isPending:a}=f_(H(()=>t.settlement.txHash)),o=w(()=>e.value?JSON.stringify(e.value,(v,m)=>typeof m=="bigint"?m.toString():m,2):"no data"),n=w(()=>{var v,m;return(((m=(v=e.value)==null?void 0:v.solutions)==null?void 0:m.length)??0)===0?[]:q.chain(e.value.solutions).orderBy(h=>h.ranking,"asc").value()});function l(v){return`https://etherscan.io/address/${v}`}async function c(v){await navigator.clipboard.writeText(v)}async function i(){await navigator.clipboard.writeText(o.value)}function r(v){switch(v){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const d=R(!1),u=R(void 0);return(v,m)=>{const h=ge,b=Pe,f=Kn,y=Z,C=pe;return g(),I(y,{class:"settlement-details"},{default:k(()=>[p("div",b_,[p("div",g_,[_(h,{label:"Auction Start Block","has-value":!s(a)},{default:k(()=>{var S;return[N(L(((S=s(e))==null?void 0:S.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),_(h,{label:"Solvers","has-value":!s(a)},{default:k(()=>{var S,$;return[N(L((($=(S=s(e))==null?void 0:S.solutions)==null?void 0:$.length)??0),1)]}),_:1},8,["has-value"]),_(h,{label:"Orders","has-value":!s(a)},{default:k(()=>{var S,$;return[N(L((($=(S=s(e))==null?void 0:S.orders)==null?void 0:$.length)??0),1)]}),_:1},8,["has-value"]),_(y,{ref_key:"cardJson",ref:u,class:O(["card-json col",{fullscreen:s(d)}]),title:"Json"},{actions:k(()=>[p("div",y_,[_(b,{icon:"fas fa-link",onClick:m[0]||(m[0]=S=>i())}),_(b,{onClick:m[2]||(m[2]=S=>d.value=!s(d))},{default:k(()=>{var S;return[w_,_(f,{target:(S=s(u))==null?void 0:S.$el,show:s(d),onClose:m[1]||(m[1]=$=>d.value=!1)},null,8,["target","show"])]}),_:1})])]),default:k(()=>[p("div",$_,L(s(o)),1)]),_:1},8,["class"])]),_(C,{class:"datatable-solvers col",rows:s(n)},{"header-content":k(()=>[C_]),row:k(({item:{solver:S,solverAddress:$,ranking:A,score:D}})=>[p("div",{class:O(["trophy",r(A)])},[A<=3?(g(),T("i",k_)):(g(),T("span",S_,L(A),1))],2),p("div",null,[p("a",{class:"font-mono",href:l($),target:"_blank"},L(S),9,L_)]),p("div",null,L(D),1),p("div",null,[_(b,{icon:"fas fa-link",onClick:U=>c($)},null,8,["onClick"])])]),_:1},8,["rows"])])]),_:1})}}}),A_=V(T_,[["__scopeId","data-v-0661410e"]]);function P_(t,e){const o=Math.round(t.value/1e3)-e;return o<60?`${Math.round(o)} seconds ago`:o<60*60?`${Math.round(o/60)} minutes ago`:o<60*60*24?`${Math.round(o/(60*60))} hours ago`:`${Math.round(o/(60*60*24))} days ago`}function ft(){const t=R(Date.now());return ie(()=>{setInterval(()=>{t.value=Date.now()})}),{relativeTime:a=>P_(t,a)}}const I_=t=>(ue("data-v-646537af"),t=t(),de(),t),V_={class:"header-content"},R_={class:"title"},D_={class:"token"},q_=["href"],F_={class:"end"},M_={class:"end"},x_={class:"end"},B_={class:"end profit"},O_={class:"end"},U_=["href"],E_={class:"end"},W_=I_(()=>p("div",{class:"empty"},null,-1)),Fs=15,vl=P({__name:"TableSettlements",props:{settlements:{}},setup(t){const{t:e}=M(),a=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:o,onSort:n}=Dt("timestamp"),l=w(()=>q.chain(t.settlements).orderBy(f=>{switch(o.value.column){case"amount":return f.amountReceived;case"quote":return f.routerReceived;case"profit":return d(f);case"profitPct":return u(f);case"timestamp":default:return f.timestamp}},o.value.order).value()),{page:c,rowsPage:i,onPage:r}=oa(l,Fs);function d(f){return f.amountReceived-f.routerReceived}function u(f){return 100*f.amountReceived/f.routerReceived-100}const v=R([]),m=f=>{const y=v.value.findIndex(C=>C.txHash===f.txHash);y===-1?v.value.push(f):v.value.splice(y,1)},{relativeTime:h}=ft();function b(f){const y=f.coin.symbol;return y.includes(":")?y.split(":")[1]:y}return(f,y)=>{const C=Ke,S=Ge,$=te,A=pe;return g(),I(A,{class:"datatable-settlements",rows:s(i),columns:a,sorting:s(o),expanded:s(v),"expand-side":"right",onSortColumn:s(n),onSelected:m},{"header-content":k(()=>[p("div",V_,[p("div",R_,L(s(e)("title")),1),_(C,{"items-count":s(l).length,"items-per-page":Fs,page:s(c),onPage:s(r)},null,8,["items-count","page","onPage"])])]),row:k(({item:D})=>[p("div",D_,[_(S,{address:D.coin.address},null,8,["address"]),p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${D.coin.address}`},L(b(D)),9,q_)]),p("div",F_,[_($,{value:D.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",M_,[_($,{value:D.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",x_,[D.routerReceived>1?(g(),I($,{key:0,value:d(D),precision:2,inline:!1,type:"dollar"},null,8,["value"])):B("",!0)]),p("div",B_,[D.routerReceived>1?(g(),I($,{key:0,class:O(["pct",{green:u(D)>0}]),value:u(D),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):B("",!0)]),p("div",O_,[p("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${D.txHash}`,target:"_blank",onClick:y[0]||(y[0]=Le(()=>{},["stop"]))},L(s(Ae)(D.txHash)),9,U_)]),p("div",E_,L(s(h)(D.timestamp)),1)]),"row-details":k(({item:D})=>[W_,s(v).includes(D)?(g(),I(A_,{key:0,settlement:D},null,8,["settlement"])):B("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn"])}}});function Ms(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"CowSwap Settlements"}}}})}typeof Ms=="function"&&Ms(vl);const H_=V(vl,[["__scopeId","data-v-646537af"]]),K_={class:"settlements"},N_=P({__name:"Settlements",setup(t){const{isFetching:e,data:a}=Uh();return(o,n)=>(g(),T("div",K_,[_(H_,{style:{"grid-area":"table"},settlements:s(a),loading:s(e)},null,8,["settlements","loading"])]))}}),z_=V(N_,[["__scopeId","data-v-c2696ab1"]]),Q_={class:"revenue"},j_=P({__name:"Revenue.page",setup(t){const{tabActive:e,tabActiveIndex:a}=na(["overview","distributions","cushions","settlements"],"revenue");return(o,n)=>{const l=Ye,c=Xe;return g(),T("div",Q_,[_(c,{active:s(a),onTab:n[0]||(n[0]=i=>a.value=i.index)},{default:k(()=>[_(l,{header:"Revenue"},{default:k(()=>[(g(),I(we,null,[s(e)==="overview"?(g(),I(Qh,{key:0})):B("",!0)],1024))]),_:1}),_(l,{header:"Distributions"},{default:k(()=>[(g(),I(we,null,[s(e)==="distributions"?(g(),I(a_,{key:0})):B("",!0)],1024))]),_:1}),_(l,{header:"Cushions"},{default:k(()=>[(g(),I(we,null,[s(e)==="cushions"?(g(),I(p_,{key:0})):B("",!0)],1024))]),_:1}),_(l,{header:"Settlements"},{default:k(()=>[(g(),I(we,null,[s(e)==="settlements"?(g(),I(z_,{key:0})):B("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),G_=V(j_,[["__scopeId","data-v-206449c4"]]),X_=t=>(ue("data-v-a2778eb0"),t=t(),de(),t),Y_={class:"title"},Z_={class:"end"},J_={class:"end"},ef={class:"end"},tf={class:"end"},af=X_(()=>p("div",null,null,-1)),sf={class:"end"},of={class:"end"},nf={class:"end"},lf={class:"end"},hl=P({__name:"TablePegkeepers",setup(t){const{t:e}=M(),a=R(""),o=w(()=>v.value||c.value),n=w(()=>q.chain(i.value).map(b=>{const f=m.value.find(y=>b.pool_address===y.address);if(f)return{...f,...b}}).filter(Fc).orderBy(b=>b.tvlUsd,"desc").value()),l=w(()=>q.chain(n.value).filter(b=>{const f=a.value.toLocaleLowerCase().split(" "),y=C=>f.some(S=>C.toLocaleLowerCase().includes(S));return y(b.name)||y(b.address)}).value()),{isFetching:c,data:i}=Hn(),r=b=>`${b.pair[1].symbol} / ${b.pair[0].symbol}`,d=w(()=>i.value.map(b=>b.pool_address)),u=wv(R("ethereum"),d),v=w(()=>u.value.some(b=>b.isFetching)),m=w(()=>u.value.filter(b=>b.data).map(b=>b.data)),h=b=>b>=1e6?2:0;return(b,f)=>{const y=Ie,C=te,S=pe;return g(),I(S,{class:"datatable-pegkeepers",loading:s(o),rows:s(l),columns:["Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{"header-content":k(()=>[p("div",Y_,L(s(e)("title")),1),_(y,{modelValue:s(a),"onUpdate:modelValue":f[0]||(f[0]=$=>le(a)?a.value=$:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:k($=>[p("div",null,L(r($.item)),1),p("div",Z_,[_(C,{value:$.item.total_debt,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",J_,[_(C,{value:$.item.tvlUsd,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",ef,[_(C,{value:$.item.tradingVolume24h,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",tf,[_(C,{value:$.item.total_profit,precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":k(()=>[af,p("div",sf,[_(C,{value:s(l).reduce(($,A)=>$+A.total_debt,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",of,[_(C,{value:s(l).reduce(($,A)=>$+A.tvlUsd,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",nf,[_(C,{value:s(l).reduce(($,A)=>$+A.tradingVolume24h,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",lf,[_(C,{value:s(l).reduce(($,A)=>$+A.total_profit,0),precision:h,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"])}}});function xs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pegkeepers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof xs=="function"&&xs(hl);const rf=V(hl,[["__scopeId","data-v-a2778eb0"]]),Wa=t=>(ue("data-v-c12571e2"),t=t(),de(),t),cf={class:"title"},uf={class:"end"},df={class:"end"},pf={class:"end"},mf={class:"end"},vf={class:"end"},hf={class:"end"},_f=Wa(()=>p("div",null,null,-1)),ff=Wa(()=>p("div",null,null,-1)),bf={class:"end"},gf=Wa(()=>p("div",null,null,-1)),yf={class:"end"},wf={class:"end"},$f={class:"end"},Cf={class:"end"},_l=P({__name:"TableMarkets",setup(t){const{t:e}=M(),a=R(""),o=w(()=>q.chain(l.value).filter(i=>{const r=a.value.toLocaleLowerCase().split(" "),d=u=>r.some(v=>u.toLocaleLowerCase().includes(v));return d(i.name)||d(i.address)}).orderBy(i=>i.borrowed,"desc").value()),{isFetching:n,data:l}=xa(),c=i=>i>=1e6?2:0;return(i,r)=>{const d=Ie,u=te,v=pe;return g(),I(v,{class:"datatable-markets","expand-side":"left",loading:s(n),rows:s(o),columns:["","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}]},{"header-content":k(()=>[p("div",cf,L(s(e)("title")),1),_(d,{modelValue:s(a),"onUpdate:modelValue":r[0]||(r[0]=m=>le(a)?a.value=m:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:k(m=>[p("div",null,L(m.item.name),1),p("div",uf,L(m.item.loans),1),p("div",df,[_(u,{value:m.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),p("div",pf,[_(u,{value:m.item.borrowed,precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",mf,[_(u,{value:m.item.collateralUsd,precision:c,type:"dollar"},null,8,["value"])]),p("div",vf,[_(u,{value:m.item.fees.pending,precision:c,type:"dollar"},null,8,["value"])]),p("div",hf,[_(u,{value:m.item.fees.collected,precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":k(()=>[_f,ff,p("div",bf,L(s(o).reduce((m,h)=>m+h.loans,0)),1),gf,p("div",yf,[_(u,{value:s(o).reduce((m,h)=>m+h.borrowed,0),precision:c,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",wf,[_(u,{value:s(o).reduce((m,h)=>m+h.collateralUsd,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",$f,[_(u,{value:s(o).reduce((m,h)=>m+h.fees.pending,0),precision:c,type:"dollar"},null,8,["value"])]),p("div",Cf,[_(u,{value:s(o).reduce((m,h)=>m+h.fees.collected,0),precision:c,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":k(()=>[N("   ")]),_:1},8,["loading","rows"])}}});function Bs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Markets"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Bs=="function"&&Bs(_l);const kf=V(_l,[["__scopeId","data-v-c12571e2"]]),Sf=P({__name:"ChartCrvUsdPriceHistogram",setup(t){const{theme:e}=E(K()),{isFetching:a,data:o}=Hp(),n=w(()=>re(e.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:d=>{const u=l.value[d.dataPointIndex],v=d.series[0][d.dataPointIndex];return[`<div><b>${u}</b>:</div><div>${r(v)}</div>`].join("")}}})),l=w(()=>o.value.x.map(d=>d.toString())),c=w(()=>[{data:o.value.y}]),i=d=>{const u=d-1;return u<0?`-$${u.toString().substring(2,7)}`:`$${u.toString().substring(1,6)}`},r=d=>{var m,h;const u=((h=(m=c.value[0])==null?void 0:m.data)==null?void 0:h.reduce((b,f)=>b+f,0))??1,v=d/u*100;return`${Q(v,0,"dollar")}${z(v,"percentage")}`};return(d,u)=>{const v=he;return g(),I(v,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:s(a),options:s(n),series:s(c)},null,8,["loading","options","series"])}}}),Lf=V(Sf,[["__scopeId","data-v-15de2c83"]]),Tf={class:"actions"},Af={class:"chart-types"},fl=P({__name:"ChartCrvUsdSupply",setup(t){const{t:e}=M(),{theme:a}=E(K()),o=R("line"),{items:n}=Re(()=>[{id:"supply",label:"Supply",color:a.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:a.value.colorsArray[1]}]),{isFetching:l,data:c}=Wp(),i=r=>{o.value!==r&&(o.value=r)};return(r,d)=>{const u=Ve,v=Ze,m=Z;return g(),I(m,{class:"chart-container",title:s(e)("title"),loading:s(l)},{actions:k(()=>[p("div",Tf,[s(o)==="line"?(g(),I(u,{key:0,items:s(n)},null,8,["items"])):B("",!0),p("div",Af,[_(v,{value:"Line","model-value":s(o)==="line",onClick:d[0]||(d[0]=h=>i("line"))},null,8,["model-value"]),_(v,{value:"Breakdown","model-value":s(o)==="breakdown",onClick:d[1]||(d[1]=h=>i("breakdown"))},null,8,["model-value"])])])]),default:k(()=>[(g(),I(we,null,[s(o)==="line"?(g(),I(s(Rf),{key:0,data:s(c)},null,8,["data"])):B("",!0)],1024)),(g(),I(we,null,[s(o)==="breakdown"?(g(),I(s(Vf),{key:0,data:s(c)},null,8,["data"])):B("",!0)],1024))]),_:1},8,["title","loading"])}}});function Os(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD Supply"}}}})}typeof Os=="function"&&Os(fl);const Pf=V(fl,[["__scopeId","data-v-28a3a86a"]]),If=P({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(t){const{theme:e}=E(K()),a=w(()=>re(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>q.chain(t.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>q.chain(t.data).groupBy(r=>r.market).map((r,d)=>({name:d,data:q.chain(r).groupBy(u=>u.timestamp).map((u,v)=>({x:new Date(parseInt(v,10)*1e3).toLocaleDateString(),y:u.reduce((m,h)=>m+h.supply,0)})).orderBy(u=>u.x,"asc").value()})).value()),l=w(()=>Math.max(...q.chain(t.data).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.supply,0)).value())*1.1),c=r=>r,i=r=>`${Q(r,1,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=ta;return g(),I(u,{class:"chart",options:s(a),series:s(n)},null,8,["options","series"])}}}),Vf=V(If,[["__scopeId","data-v-533c01eb"]]),Rf=P({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(t){let e,a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,v=>{e=v.addAreaSeries(i()),a=v.addLineSeries(r())});x([()=>t.data,n],d),x(o,()=>{e.applyOptions(i()),a.applyOptions(r())});function c(v){return ae(v,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:ve.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function d([v,m]){if(!m||!e)return;const h=q.chain(v).groupBy(f=>f.timestamp).mapValues(f=>{var y;return{time:f[0].timestamp,value:f.reduce((C,S)=>C+S.supply,0),debt:((y=f.find(C=>C.market==="Keepers debt"))==null?void 0:y.supply)??0}}).entries().map(f=>f[1]).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").value(),b=h.map(f=>({time:f.time,value:f.value-f.debt}));h.length>0&&e.setData(h),b.length>0&&a.setData(b),m.timeScale().fitContent()}const u=v=>`${Q(v,0,"dollar")}${z(v,"dollar")}`;return(v,m)=>(g(),T("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});class it{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return it.instance||(it.instance=new it),it.instance}connect(e){this.ws||(this.ws=new WebSocket(e),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(e),1e3)},this.ws.onmessage=a=>{try{const n=JSON.parse(a.data).channel.slice(0,-6);if(this.listeners[n])for(const l of this.listeners[n])l(a.data);else this.messageQueue.push(a.data)}catch(o){console.error("WSManager error parsing message: ",o)}})}registerListener(e,a){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(a);const o=this.messageQueue.filter(n=>JSON.parse(n).channel===e);for(const n of o)a(n);this.messageQueue=this.messageQueue.filter(n=>!o.includes(n))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var ga=(t=>(t.subscribe="subscribe",t.unsubscribe="unsubscribe",t.snapshots="snapshots",t))(ga||{}),ya=(t=>(t.update="update",t.snapshot="snapshot",t))(ya||{});class Us{constructor(e,a,o,n,l,c){this.url=e,this.llamma=a,this.chain=o,this.interval=n,this.start=l,this.end=c,this.currentOHLCData=[],this.wsManager=it.getInstance(),this.wsManager.connect(e),this.dataSubject=new Er,this.data$=this.dataSubject.pipe(Wr((i,r)=>this.reconcileData(i,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",i=>{try{const r=JSON.parse(i);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",i)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const e={action:ga.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(e)}subscribeToUpdates(){const e={action:ga.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(e)}reconcileData(e,a){return a.type===ya.snapshot?a.payload:a.type===ya.update?(a.payload.forEach(o=>{const n=e.findIndex(l=>l.time===o.time);n!==-1?e[n]=o:e.push(o)}),[...e]):e}send(e){this.wsManager.send(JSON.stringify(e))}}const Df={class:"buttons"},Es="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",Ws="ethereum",Hs=86400,qf=P({__name:"ChartLlammaCandles",props:{market:{}},setup(t){const{t:e}=M();let a,o,n,l=1,c=0;const{theme:i}=E(K()),r=R([]);let d;const u=R(null),v=R(!1),m=w(()=>t.market?`Daily candles ${v.value?`crvUSD/${t.market.name}`:`${t.market.name}/crvUSD`}`:e("title"));ie(async()=>{if(!u.value||!t.market)return;await wn();const f=kt(t.market.llamma),y=Date.now(),C=15*24*60*60*1e3,S=Math.floor(y/1e3),$=Math.floor((y-C)/1e3);a=new Us(Es,f,Ws,Hs,$,S);const{colors:A}=i.value;d=a.data$.subscribe(D=>{r.value=D,h(D,v.value)}),o=pt(u.value,{width:u.value.clientWidth,height:u.value.clientHeight,layout:{background:{type:gn.Solid,color:A.backgroundColor},textColor:A.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:A.level2,style:yn.Dashed}},crosshair:{mode:Hr.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:D=>b(D)}}),n=o.addCandlestickSeries({upColor:A.green,borderUpColor:A.green,wickUpColor:A.green,downColor:A.red,borderDownColor:A.red,wickDownColor:A.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),ka(()=>{d.unsubscribe()}),x(r,f=>{h(f,v.value)}),x(v,f=>{h(r.value,f)}),x(()=>t.market,(f,y)=>{if(f&&f!==y){d.unsubscribe();const C=kt(f.llamma),S=Date.now(),$=15*24*60*60*1e3,A=Math.floor(S/1e3),D=Math.floor((S-$)/1e3);a=new Us(Es,C,Ws,Hs,D,A),d=a.data$.subscribe(U=>{r.value=U,h(U,v.value)})}});const h=(f,y)=>{if(!o||!n||!f)return;const C=y?-1:1,S=q.chain(f).map($=>({time:$.time,open:Math.pow($.open,C),high:Math.pow($.high,C),low:Math.pow($.low,C),close:Math.pow($.close,C)})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();S.length>0&&(n.setData(S),o.timeScale().fitContent(),c=Math.min(...S.map($=>$.low)),l=Math.max(...S.map($=>$.high)))},b=f=>{const y=l-c,C=y>1?y-Math.floor(y):y,S=-Math.floor(Math.log10(C)+1)+2;return`${Q(f,S,"dollar")}${z(f,"dollar")}`};return(f,y)=>{const C=Ze,S=Z;return g(),I(S,{class:"candles",title:s(m)},{default:k(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512),p("div",Df,[_(C,{modelValue:s(v),"onUpdate:modelValue":y[0]||(y[0]=$=>le(v)?v.value=$:null)},{default:k(()=>[N(L(s(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"])}}});function Ks(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}},invert:{t:0,b:{t:2,i:[{t:3}],s:"Invert"}}}})}typeof Ks=="function"&&Ks(qf);const bl=P({__name:"ChartMarketAvailableCap",props:{market:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,r,m=>a=m.addAreaSeries(d())),{isFetching:c,data:i}=ea(H(()=>t.market));x([i,n],u),x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,h]){if(!h||!a)return;const b=q.chain(m).map(f=>({time:f.timestamp,value:f.borrowable})).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").dropWhile(f=>f.value===0).value();b.length>0&&a.setData(b),h.timeScale().fitContent()}const v=m=>`$${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ns(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable & Debt Ceiling"}}}})}typeof Ns=="function"&&Ns(bl);const Ff=V(bl,[["__scopeId","data-v-321cc502"]]),gl=P({__name:"ChartMarketLoans",props:{market:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,r,m=>{a=m.addHistogramSeries(d())}),{isFetching:c,data:i}=ea(H(()=>t.market));x([i,n],u),x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:v}})}function d(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,h]){if(!h||!a)return;const b=q.chain(m).map(f=>({time:f.timestamp,value:f.nLoans})).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").value();if(b.length>0){a.setData(b);const f=b[0].time,y=b[b.length-1].time;h.timeScale().setVisibleRange({from:f,to:y})}}const v=m=>Math.round(m).toString();return(m,h)=>{const b=Z;return g(),I(b,{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function zs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof zs=="function"&&zs(gl);const Mf=V(gl,[["__scopeId","data-v-e8bb79c7"]]),xf=["min","max"],Bf=P({__name:"InputNumber",props:xe({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=dt(t,"modelValue");return x(e,a=>{a===""?e.value=null:typeof a=="number"&&(e.value=Math.min(Math.max(a,t.min),t.max))}),(a,o)=>Sa((g(),T("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.value=n),type:"number",min:a.min,max:a.max},null,8,xf)),[[$n,e.value]])}}),yl=V(Bf,[["__scopeId","data-v-f442b732"]]),Of={class:"actions"},wl=P({__name:"ChartMarketRates",props:{market:{}},setup(t){const{t:e}=M();let a,o;const{theme:n}=E(K()),{chart:l,chartRef:c}=me(n,u,y=>{a=y.addAreaSeries(v()),o=y.addLineSeries(m())}),i=R(null),{isFetching:r,data:d}=ea(H(()=>t.market));x([d,l],h),x(i,()=>h([d.value,l.value])),x(n,()=>{a.applyOptions(v()),o.applyOptions(m())});function u(y){return ae(y,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function v(){return{priceFormat:{type:"custom",formatter:b},lineWidth:2,lineType:ve.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:b},lineWidth:2,lineType:ve.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function h([y,C]){if(!C||!a)return;const S=q.chain(y).map(D=>({time:D.timestamp,value:D.rate})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value(),$=f(S.map(D=>D.value),i.value??31),A=q.chain($).zip(S).map(D=>({time:D[1].time,value:D[0]})).value();if(A.length>0&&o.setData(A),S.length>0){a.setData(S);const D=S[0].time,U=S[S.length-1].time;C.timeScale().setVisibleRange({from:D,to:U})}}const b=y=>`${Q(y*100,0,"percentage")}${z(y,"percentage")}`,f=(y,C=7)=>y.map((S,$)=>{const A=Math.max($-(C-1),0),D=$+1,U=y.slice(A,D);return U.reduce((W,oe)=>W+oe,0)/U.length});return(y,C)=>{const S=yl,$=Z;return g(),I($,{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:k(()=>[p("div",Of,[_(S,{modelValue:s(i),"onUpdate:modelValue":C[0]||(C[0]=A=>le(i)?i.value=A:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Qs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}}}})}typeof Qs=="function"&&Qs(wl);const Uf=V(wl,[["__scopeId","data-v-047cc5be"]]),Ef=t=>{const e=t.provider.toLocaleLowerCase(),a=t.deposit?{amount:t.deposit.amount,n1:t.deposit.n1,n2:t.deposit.n2}:null,o=t.withdrawal?{amount_borrowed:t.withdrawal.amount_borrowed,amount_collateral:t.withdrawal.amount_collateral}:null,n=t.block_number,l=t.timestamp,c=t.transaction_hash.toLocaleLowerCase();return{provider:e,deposit:a,withdrawal:o,block_number:n,timestamp:l,transaction_hash:c}},Wf=t=>({sold_id:t.sold_id,bought_id:t.bought_id,token_sold:{symbol:t.token_sold.symbol,address:t.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:t.token_bought.symbol,address:t.token_bought.address.toLocaleLowerCase()},amount_sold:t.amount_sold,amount_bought:t.amount_bought,price:t.price,buyer:t.buyer.toLocaleLowerCase(),fee_x:t.fee_x,fee_y:t.fee_y,block_number:t.block_number,timestamp:t.timestamp,transaction_hash:t.transaction_hash}),Hf=t=>({time:t.time,open:t.open,close:t.close,high:t.high,low:t.low,base_price:t.base_price,oracle_price:t.oracle_price,volume:t.volume}),pa="https://prices.curve.fi";class Kf extends ke{async getEvents(e,a,o,n){const l=await this.fetch(`${pa}/v1/${e}/llamma_events/${a}/${o}?page=${n}&per_page=10`);return{events:l.data.map(Ef),count:l.count}}async getTrades(e,a,o,n){const l=await this.fetch(`${pa}/v1/${e}/llamma_trades/${a}/${o}?page=${n}&per_page=10`);return{trades:l.data.map(Wf),count:l.count}}async getOHLC(e,a,o){const n=Math.floor(new Date().getTime()/1e3),l=n-10*24*60*60;return(await this.fetch(`${pa}/v1/${e}/llamma_ohlc/${a}/${o}?agg_number=1&agg_units=hour&start=${l}&end=${n}`)).data.map(Hf)}}const Ha=new Kf;function $l(t,e,a,o){return Y({queryKey:["llamma-market-events",e,o],queryFn:({queryKey:[,n,l]})=>Ha.getEvents(t.value,a.value,n,l),placeholderData:Yt,enabled:w(()=>!!e.value&&!!a.value)})}function Cl(t,e,a,o){return Y({queryKey:["llamma-market-trades",e,o],queryFn:({queryKey:[,n,l]})=>Ha.getTrades(t.value,a.value,n,l),placeholderData:Yt,enabled:w(()=>!!e.value&&!!a.value)})}function Ka(t,e,a){return Y({queryKey:["llamma-market-ohlc",e],queryFn:({queryKey:[,o]})=>Ha.getOHLC(t.value,a.value,o),enabled:w(()=>!!e.value&&!!a.value)})}const kl=P({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,r,m=>{a=m.addAreaSeries(d())}),{isFetching:c,data:i}=Ka(H("crvusd"),w(()=>{var m;return(m=t.market)==null?void 0:m.llamma}),H(()=>t.chain));x([i,n],u),x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:v},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u([m,h]){if(!h||!a)return;const b=q.chain(m).map(f=>({time:f.time,value:f.volume})).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").value();b.length>0&&a.setData(b),h.timeScale().fitContent()}const v=m=>`$${Q(m,0,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function js(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof js=="function"&&js(kl);const Nf=V(kl,[["__scopeId","data-v-cfa18ea9"]]),zf={class:"actions"},Sl=P({__name:"ChartKeeperPrices",setup(t){const{t:e}=M();let a=[];const{theme:o}=E(K()),n=["USDC","USDT","TUSD","USDP"],{items:l,toggles:c,disabled:i}=Re(()=>n.map((U,F)=>({id:U,label:U,color:o.value.colorsArray[F],togglable:!0}))),r=w(()=>d.value||v.value),{isFetching:d,data:u}=Hn(),{isFetching:v,data:m}=Kp(u),h=R(!1),b=R(void 0),{chart:f,chartRef:y}=me(o,C,()=>{$()});x(o,()=>{for(const[U,F]of a.entries())F.applyOptions(S(U))});function C(U){return ae(U,o.value,{height:U.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function S(U){return{priceFormat:{type:"custom",formatter:D},lineWidth:2,lineType:ve.WithSteps,color:o.value.colorsArray[U],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:F=>{const W=F();return W!==null&&(W.priceRange.minValue=Math.max(.98,W.priceRange.minValue),W.priceRange.maxValue=Math.min(1.02,W.priceRange.maxValue)),W}}}function $(){if(f.value){for(const U of a)f.value.removeSeries(U);a=[];for(let U=0;U<n.length;U++){const F=f.value.addLineSeries(S(U));a.push(F)}}}Xt(A);function A(){if(!(!f.value||a.length<0)){for(const[U,F]of n.entries()){if(!c[F].value){a[U].setData([]);continue}const W=q.chain(m.value).map(oe=>({time:oe.timestamp,value:oe[F]})).uniqWith((oe,j)=>oe.time===j.time).orderBy(oe=>oe.time,"asc").value();W.length>0&&a[U].setData(W)}f.value.timeScale().fitContent()}}const D=U=>`${Q(U,3,"dollar")}${z(U,"dollar")}`;return(U,F)=>{const W=Ve,oe=Z;return g(),I(oe,{ref_key:"chartCard",ref:b,class:O(["chart-container",{fullscreen:s(h)}]),title:s(e)("title"),loading:s(r)},{actions:k(()=>{var j;return[p("div",zf,[_(W,{items:s(l),disabled:s(i),onToggle:F[0]||(F[0]=X=>s(c)[X].value=!s(c)[X].value)},null,8,["items","disabled"]),_(s(ht),{modelValue:s(h),"onUpdate:modelValue":F[1]||(F[1]=X=>le(h)?h.value=X:null),chart:s(f),target:(j=s(b))==null?void 0:j.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:y,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function Gs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Stablecoin Prices of Pegkeepers"}}}})}typeof Gs=="function"&&Gs(Sl);const Qf=V(Sl,[["__scopeId","data-v-7e8fabf8"]]),jf={class:"crvusd"},Gf={class:"col"},Xf={class:"col"},Yf=P({__name:"CrvUsd.page",setup(t){const{show:e,crumbs:a}=E(Oe());ie(()=>{e.value=!0,a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=Be(),n=async l=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,c)=>(g(),T("div",jf,[_(s(kf),{style:{"grid-column":"1 / -1"},onSelected:n}),p("div",Gf,[_(s(rf)),_(s(Qf))]),p("div",Xf,[_(s(Pf)),_(s(Lf))])]))}}),Zf=V(Yf,[["__scopeId","data-v-2e2b5a41"]]),Jf={class:"addresses"},eb={class:"title"},tb=["href"],ab={key:1},Ll=P({__name:"Addresses",props:{market:{}},setup(t){const{t:e}=M(),a=w(()=>{var l,c,i;return[{description:"controller",address:(l=t.market)==null?void 0:l.address},{description:"factory",address:(c=t.market)==null?void 0:c.factory},{description:"llamma",address:(i=t.market)==null?void 0:i.llamma}]}),o=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Pe,r=pe;return g(),T("div",Jf,[_(r,{class:"datatable-addresses",rows:s(a)},{"header-content":k(()=>[p("div",eb,L(s(e)("addresses")),1)]),row:k(({item:{description:d,address:u}})=>[p("div",null,L(s(e)(d)),1),p("div",null,[u?(g(),T("a",{key:0,class:"font-mono",href:o(u),target:"_blank"},L(u),9,tb)):(g(),T("span",ab,"?"))]),p("div",null,[_(i,{icon:"fas fa-link",onClick:v=>n(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function Xs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},factory:{t:0,b:{t:2,i:[{t:3}],s:"Factory"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}}}})}typeof Xs=="function"&&Xs(Ll);const sb=V(Ll,[["__scopeId","data-v-4c2e448e"]]),ob={class:"properties"},nb={class:"title"},lb={key:0},ib={class:"token-info"},rb=["href"],cb={key:1},Tl=P({__name:"Properties",props:{market:{},chain:{}},setup(t){const{t:e}=M();function a(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.stablecoin_token.symbol)??"?",address:((u=r==null?void 0:r.stablecoin_token)==null?void 0:u.address)??""}}const n=w(()=>[{description:"collateral",value:o("collateral",t.market)},{description:"borrowed",value:o("borrowed",t.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=Ge,u=Pe,v=pe;return g(),T("div",ob,[_(v,{class:"datatable-properties",rows:s(n)},{"header-content":k(()=>[p("div",nb,L(s(e)("properties")),1)]),row:k(({item:{description:m,value:h}})=>[p("div",null,L(s(e)(m)),1),a(h)?(g(),T("div",lb,[p("div",ib,[_(d,{chain:i.chain,address:h.address},null,8,["chain","address"]),p("div",null,L(h.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(h.address),target:"_blank"},L(h.address),9,rb)]),p("div",null,[_(u,{icon:"fas fa-link",onClick:b=>c(h.address)},null,8,["onClick"])])])])):(g(),T("div",cb,L(h),1))]),_:1},8,["rows"])])}}});function Ys(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof Ys=="function"&&Ys(Tl);const ub=V(Tl,[["__scopeId","data-v-70fe2116"]]),db={class:"market"},Al=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(t){const{t:e}=M();return(a,o)=>{const n=te,l=ge;return g(),T("div",db,[_(l,{style:{"grid-area":"kpi1"},label:s(e)("borrow-rate"),"has-value":!!a.market},{default:k(()=>{var c;return[_(n,{value:100*(((c=a.market)==null?void 0:c.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi2"},label:s(e)("borrowed"),"has-value":!!a.market},{default:k(()=>{var c;return[_(n,{value:(c=a.market)==null?void 0:c.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi3"},label:s(e)("borrowable"),"has-value":!!a.market},{default:k(()=>{var c;return[_(n,{value:(c=a.market)==null?void 0:c.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi4"},label:s(e)("loans"),"has-value":!!a.market},{default:k(()=>{var c;return[N(L(((c=a.market)==null?void 0:c.loans)??0),1)]}),_:1},8,["label","has-value"]),_(s(Uf),{style:{"grid-area":"rates"},market:a.market},null,8,["market"]),_(s(Ff),{style:{"grid-area":"cap"},market:a.market},null,8,["market"]),_(s(Mf),{style:{"grid-area":"loans"},market:a.market},null,8,["market"]),_(s(Nf),{style:{"grid-area":"volume"},market:a.market,chain:a.chain},null,8,["market","chain"]),_(s(ub),{style:{"grid-area":"properties"},market:a.market,chain:a.chain},null,8,["market","chain"]),_(s(sb),{style:{"grid-area":"addresses"},market:a.market,chain:a.chain},null,8,["market","chain"])])}}});function Zs(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"borrow-rate":{t:0,b:{t:2,i:[{t:3}],s:"Borrow Rate"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},borrowable:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Zs=="function"&&Zs(Al);const pb=V(Al,[["__scopeId","data-v-0122bf85"]]),mb=t=>({timestamp:Me(t.timestamp),proportion:t.proportion/100}),vb=t=>({timestamp:Me(t.dt),user:t.user.toLocaleLowerCase(),liquidator:t.liquidator.toLocaleLowerCase(),self:t.self,collateralReceived:t.collateral_received,collateralReceivedUsd:t.collateral_received_usd,stablecoinReceived:t.stablecoin_received,priceOracle:t.oracle_price,debt:t.debt,n1:t.n1,n2:t.n2,tx:t.tx.toLocaleLowerCase(),block:t.block}),hb=t=>({timestamp:Me(t.timestamp),selfCount:t.self_count,hardCount:t.hard_count,selfValue:t.self_value,hardValue:t.hard_value,price:t.price}),_b=t=>({softLiqUsers:t.soft_liquidation_users,liqablePositions:t.liquidatable_positions,liqableDebtUsd:t.liquidatable_pos_debt_usd,liqableCollatUsd:t.liquidatable_collateral_usd,liqableBorrowedUsd:t.liquidatable_borrowed_usd,medianHealth:t.median_health,avgHealth:t.average_health,collatRatio:t.collat_ratio}),fb=t=>({timestamp:Me(t.timestamp),pctLossAverage:t.avg_pct_loss,pctLossMedian:t.median_pct_loss,absoluteLossAverage:t.avg_abs_loss,absoluteLossMedian:t.median_abs_loss,numTotalUsers:t.total_users,numUsersWithLosses:t.users_with_losses,ratio:t.ratio}),bb=t=>({decile:t.health_decile,collateralUsdValue:t.collateral,debt:t.debt,stablecoin:t.stablecoin}),tt="https://prices.curve.fi";class gb extends ke{async getSoftLiqRatios(e,a,o){return(await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/soft_liquidation_ratio`)).data.map(mb)}async getLiqsDetailed(e,a,o){return(await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/history/detailed`)).data.map(vb)}async getLiqsAggregate(e,a,o){return(await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/history/aggregated`)).data.map(hb)}async getLiqOverview(e,a,o){const n=await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/overview?fetch_on_chain=true`);return _b(n)}async getLiqLosses(e,a,o){return(await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/losses/history`)).data.map(fb)}async getLiqHealthDeciles(e,a,o){return(await this.fetch(`${tt}/v1/${e}/liquidations/${a}/${o}/health/distribution`)).data.map(bb)}}const bt=new gb;function Ft(){return{initialData:[],initialDataUpdatedAt:0}}function gt(t,e){return{enabled:w(()=>!!t.value&&(e?!!e.value:!0))}}function Pl(t,e,a){return Y({queryKey:["liqs-soft-liqs",a],queryFn:({queryKey:[,o]})=>bt.getSoftLiqRatios(t.value,e.value,o),...gt(a,e),...Ft()})}function Il(t,e,a){return Y({queryKey:["liqs-detailed",a],queryFn:({queryKey:[,o]})=>bt.getLiqsDetailed(t.value,e.value,o),...gt(a,e),...Ft()})}function Vl(t,e,a){return Y({queryKey:["liqs-aggregate",a],queryFn:({queryKey:[,o]})=>bt.getLiqsAggregate(t.value,e.value,o),...gt(a,e),...Ft()})}function Rl(t,e,a){return Y({queryKey:["liqs-overview",a],queryFn:({queryKey:[,o]})=>bt.getLiqOverview(t.value,e.value,o),...gt(a,e)})}function Dl(t,e,a){return Y({queryKey:["liqs-losses",a],queryFn:({queryKey:[,o]})=>bt.getLiqLosses(t.value,e.value,o),...gt(a,e),...Ft()})}function ql(t,e,a){return Y({queryKey:["liqs-health-deciles",a],queryFn:({queryKey:[,o]})=>bt.getLiqHealthDeciles(t.value,e.value,o),...gt(a,e),...Ft()})}const yb={class:"actions"},wb={class:"chart-types"},Fl=P({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(t){const{t:e}=M(),a=R("count"),o=n=>{a.value!==n&&(a.value=n)};return(n,l)=>{const c=Ze,i=Z;return g(),I(i,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",yb,[p("div",wb,[_(c,{value:"Count","model-value":s(a)==="count",onClick:l[0]||(l[0]=r=>o("count"))},null,8,["model-value"]),_(c,{value:"Value","model-value":s(a)==="value",onClick:l[1]||(l[1]=r=>o("value"))},null,8,["model-value"])])])]),default:k(()=>[s(a)==="count"?(g(),I(s(Cb),{key:0,liqs:n.liqs},null,8,["liqs"])):(g(),I(s(Sb),{key:1,liqs:n.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Js(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Self & Hard Liquidations"}}}})}typeof Js=="function"&&Js(Fl);const Ml=V(Fl,[["__scopeId","data-v-bb3ee8e9"]]),$b=P({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(t){const{theme:e}=E(K()),a=w(()=>re(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>q.chain(t.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>[{name:"Self liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=w(()=>Math.max(...q.chain(t.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfCount+u.hardCount,0)).value())*1.1),c=r=>r,i=r=>`${Q(r,1,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=ta;return g(),I(u,{class:"chart",options:s(a),series:s(n)},null,8,["options","series"])}}}),Cb=V($b,[["__scopeId","data-v-a106b06c"]]),kb=P({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(t){const{theme:e}=E(K()),a=w(()=>re(e.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>q.chain(t.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,d)=>d%8===0?r:"").value()),n=w(()=>[{name:"Self liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(t.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=w(()=>Math.max(...q.chain(t.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((d,u)=>d+u.selfValue+u.hardValue,0)).value())*1.1),c=r=>r,i=r=>`${Q(r,1,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=ta;return g(),I(u,{class:"chart",options:s(a),series:s(n)},null,8,["options","series"])}}}),Sb=V(kb,[["__scopeId","data-v-55b5b475"]]),xl=P({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,u=>{a=u.addAreaSeries(i())});x([H(()=>t.losses),n],r),x(o,()=>a.applyOptions(i()));function c(u){return ae(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,v]){if(!v||!a)return;const m=q.chain(u).map(h=>({time:h.timestamp,value:h.pctLossMedian})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();m.length>0&&a.setData(m),v.timeScale().fitContent()}const d=u=>`${Q(u,0,"percentage")}${z(u,"percentage")}`;return(u,v)=>{const m=Z;return g(),I(m,{class:"chart-container",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Median Loss % Among Loans with Losses"}}}})}typeof eo=="function"&&eo(xl);const Bl=V(xl,[["__scopeId","data-v-71119fa4"]]),Ol=P({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,u=>{a=u.addAreaSeries(i())});x([H(()=>t.losses),n],r),x(o,()=>a.applyOptions(i()));function c(u){return ae(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,v]){if(!v||!a)return;const m=q.chain(u).map(h=>({time:h.timestamp,value:h.numTotalUsers>0?100*h.numUsersWithLosses/h.numTotalUsers:0})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();m.length>0&&a.setData(m),v.timeScale().fitContent()}const d=u=>`${Q(u,0,"percentage")}${z(u,"percentage")}`;return(u,v)=>{const m=Z;return g(),I(m,{class:"chart-container",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function to(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Proportion of Loans with Losses"}}}})}typeof to=="function"&&to(Ol);const Ul=V(Ol,[["__scopeId","data-v-e82cc18c"]]),Lb=P({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(t){const{theme:e}=E(K()),a=w(()=>re(e.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const r=i.series[0][i.dataPointIndex],d=i.series[1][i.dataPointIndex],u=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${c(d)}</div>`,`<div><b>Debt</b>: ${c(r)}</div>`,`<div><b>Stablecoin</b>: ${c(u)}</div>`].join("")}}})),o=w(()=>t.deciles.map(i=>i.decile)),n=w(()=>[{name:"Debt",data:Object.values(t.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(t.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(t.deciles).map(i=>i.stablecoin)}]),l=i=>i,c=i=>`$${Q(i,0,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"chart",title:"Debt & Assets per Health Deciles",options:s(a),series:s(n)},null,8,["options","series"])}}}),El=V(Lb,[["__scopeId","data-v-fd998f1d"]]),Tb={class:"actions"},Wl=P({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(t){const{t:e}=M();let a,o;const{theme:n}=E(K()),{items:l}=Re(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:n.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:n.value.colorsArray[1]}]),{chart:c,chartRef:i}=me(n,r,b=>{a=b.addAreaSeries(u()),o=b.addAreaSeries(d())});x([H(()=>t.ratios),H(()=>t.pricesOracle),c],v),x(n,()=>{a.applyOptions(u()),o.applyOptions(d())});function r(b){return ae(b,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:ve.WithSteps,lineColor:n.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,lineType:ve.WithSteps,lineColor:n.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function v([b,f,y]){var A;if(!y||!a)return;const C=q.chain(b).map(D=>({time:D.timestamp,value:D.proportion})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value(),S=((A=C[0])==null?void 0:A.time)??0,$=q.chain(f).filter(D=>D.timestamp>=S).map(D=>({time:D.timestamp,value:D.priceOracle})).uniqWith((D,U)=>D.time===U.time).orderBy(D=>D.time,"asc").value();$.length>0&&o.setData($),C.length>0&&a.setData(C),y.timeScale().fitContent()}const m=b=>`$${Q(b,2,"dollar")}${z(b,"dollar")}`,h=b=>`${Q(b,0,"percentage")}${z(b,"percentage")}`;return(b,f)=>{const y=Ve,C=Z;return g(),I(C,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",Tb,[_(y,{items:s(l)},null,8,["items"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function ao(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Soft Liquidations Ratio"}}}})}typeof ao=="function"&&ao(Wl);const Hl=V(Wl,[["__scopeId","data-v-ef282403"]]),Ab={class:"actions"},Kl=P({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(t){const{t:e}=M();let a,o;const{theme:n}=E(K()),{items:l}=Re(()=>[{id:"revenue",label:"Liquidator Revenue",color:n.value.colorsArray[0]},{id:"discount",label:"Discount",color:n.value.colorsArray[1]}]),{chart:c,chartRef:i}=me(n,r,m=>{a=m.addAreaSeries(u()),o=m.addAreaSeries(d())});x([H(()=>t.discounts),H(()=>t.liqs),c],v),x(n,()=>{a.applyOptions(u()),o.applyOptions(d())});function r(m){return ae(m,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function d(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ve.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function u(){return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,lineColor:n.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function v([m,h,b]){var S;if(!b||!a||!o)return;const f=q.chain(h).map($=>({time:$.timestamp,value:$.debt})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").reduce(($,A)=>{const D=$.length>0?$[$.length-1].value:0;return $.push({time:A.time,value:A.value+D}),$},[]).value(),y=((S=f[0])==null?void 0:S.time)??0,C=q.chain(m).filter($=>$.timestamp>=y).map($=>({time:$.timestamp,value:$.discount*100})).uniqWith(($,A)=>$.time===A.time).orderBy($=>$.time,"asc").value();f.length>0&&o.setData(f),C.length>0&&a.setData(C),b.timeScale().fitContent()}return(m,h)=>{const b=Ve,f=Z;return g(),I(f,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",Ab,[_(b,{items:s(l)},null,8,["items"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function so(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidator Revenue"}}}})}typeof so=="function"&&so(Kl);const Nl=V(Kl,[["__scopeId","data-v-672ebc0a"]]),Pb={class:"title"},Ib={key:0,class:"end"},Vb={key:1,class:"end"},Rb={key:2},zl=P({__name:"TableLiqOverview",props:{overview:{}},setup(t){const{t:e}=M(),a=w(()=>{if(!t.overview)return[];const n=t.overview.liqableDebtUsd,l=t.overview.liqableCollatUsd+t.overview.liqableBorrowedUsd,c=n-l;return c<=0?[]:[{description:"Bad debt",value:c,type:"bad-debt"}]}),o=w(()=>{var n,l,c,i,r,d,u;return[{description:"Users in soft liquidation",value:((n=t.overview)==null?void 0:n.softLiqUsers)??0,type:"number"},{description:"Median health",value:((l=t.overview)==null?void 0:l.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((c=t.overview)==null?void 0:c.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((i=t.overview)==null?void 0:i.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=t.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((d=t.overview)==null?void 0:d.liqableCollatUsd)??0,((u=t.overview)==null?void 0:u.liqableBorrowedUsd)??0],type:"collateral"},...a.value]});return(n,l)=>{const c=te,i=pe;return g(),I(i,{class:"datatable-liq-overview",rows:s(o)},{"header-content":k(()=>[p("div",Pb,L(s(e)("title")),1)]),row:k(({item:{description:r,value:d,type:u}})=>[p("div",null,L(r),1),u==="collateral"?(g(),T("div",Ib,[_(c,{value:d[0],"show-zero":!0,type:"dollar"},null,8,["value"]),N(" / "),_(c,{value:d[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(g(),T("div",Vb,[u==="bad-debt"?(g(),I(c,{key:0,class:"red",value:d,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):u!=="number"?(g(),I(c,{key:1,value:d,"show-zero":!0,type:u},null,8,["value","type"])):(g(),T("span",Rb,L(d),1))]))]),_:1},8,["rows"])}}});function oo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"General Health Metrics"}}}})}typeof oo=="function"&&oo(zl);const Ql=V(zl,[["__scopeId","data-v-a0237fac"]]),Db={class:"title"},qb={class:"address"},Fb=["href"],Mb={class:"end"},xb={class:"end"},jl=P({__name:"TableTopLiquidators",props:{liqs:{}},setup(t){const{t:e}=M(),a=w(()=>q.chain(t.liqs).groupBy(o=>o.liquidator).map((o,n)=>({liquidator:n,count:o.length,value:o.reduce((l,c)=>l+c.collateralReceivedUsd,0)})).orderBy(o=>o.value,"desc").take(5).value());return(o,n)=>{const l=te,c=pe;return g(),I(c,{class:"datatable-liquidators",rows:s(a),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{"header-content":k(()=>[p("div",Db,L(s(e)("title")),1)]),row:k(i=>[p("div",qb,[p("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},L(s(Ae)(i.item.liquidator,8)),9,Fb)]),p("div",Mb,[_(l,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),p("div",xb,[_(l,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])}}});function no(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Liquidators"}}}})}typeof no=="function"&&no(jl);const Gl=V(jl,[["__scopeId","data-v-4301a95c"]]),Xl=P({__name:"ChartCollateralRatio",props:{ratios:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,u=>{a=u.addAreaSeries(i())});x([H(()=>t.ratios),n],r),x(o,()=>a.applyOptions(i()));function c(u){return ae(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:d,minMove:.1},lineWidth:2,lineType:ve.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([u,v]){if(!v||!a)return;const m=q.chain(u).map(h=>({time:h.timestamp,value:h.ratio*100})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();m.length>0&&a.setData(m),v.timeScale().fitContent()}const d=u=>`${Q(u,0,"percentage")}${z(u,"percentage")}`;return(u,v)=>{const m=Z;return g(),I(m,{class:"chart-container",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function lo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral Ratio"}}}})}typeof lo=="function"&&lo(Xl);const Yl=V(Xl,[["__scopeId","data-v-58161ec8"]]),Bb={class:"actions"},Ob=["innerHTML"],Zl=P({__name:"ChartEquity",props:{equity:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,c,u=>{a=u.addBaselineSeries(i())});x([H(()=>t.equity),n],r),x(o,()=>a.applyOptions(i()));function c(u){return ae(u,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){const{colors:u}=o.value;return{priceFormat:{type:"custom",formatter:v=>d(v),minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:u.green,bottomLineColor:u.red,lastValueVisible:!1,priceLineVisible:!1}}function r([u,v]){if(!v||!a)return;const m=q.chain(u).map(h=>({time:h.timestamp,value:h.equity})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();m.length>0&&a.setData(m),v.timeScale().fitContent()}const d=u=>`$${Q(u,0,"dollar")}${z(u,"dollar")}`;return(u,v)=>{const m=It,h=Z;return g(),I(h,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",Bb,[_(m,null,{default:k(()=>[p("span",{innerHTML:s(e)("tooltip")},null,8,Ob)]),_:1})])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function io(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Equity"}},tooltip:{t:0,b:{t:2,i:[{t:3}],s:"This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."}}}})}typeof io=="function"&&io(Zl);const Ub=V(Zl,[["__scopeId","data-v-880ecf0d"]]),Eb=P({__name:"ChartLoanDistribution",props:{distribution:{}},setup(t){const{t:e}=M(),{theme:a}=E(K()),o=w(()=>re(a.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:r=>{const d=r.series[0][r.dataPointIndex],u=r.series[1][r.dataPointIndex],v=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(u)}</div>`,`<div><b>Debt</b>: ${i(d)}</div>`,`<div><b>Stablecoin</b>: ${i(v)}</div>`].join("")}}})),n=w(()=>t.distribution.debt.map(r=>r.label)),l=w(()=>[{name:"Debt",data:t.distribution.debt.map(r=>r.value)}]),c=r=>r,i=r=>`$${Q(r,0,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=he;return g(),I(u,{class:"chart",title:s(e)("title"),options:s(o),series:s(l)},null,8,["title","options","series"])}}});function ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loan Distribution"}}}})}typeof ro=="function"&&ro(Eb);const Wb={class:"liquidations"},Hb=P({__name:"Liquidations",props:{market:{},chain:{}},setup(t){const e=w(()=>{var $;return($=t.market)==null?void 0:$.address}),{isFetching:a,data:o}=Rl(R("crvusd"),H(()=>t.chain),e),{isFetching:n,data:l}=ea(H(()=>t.market)),c=w(()=>l.value.map(({timestamp:$,priceOracle:A})=>({timestamp:$,priceOracle:A}))),i=w(()=>l.value.map(({timestamp:$,discountLiquidation:A})=>({timestamp:$,discount:A}))),r=w(()=>l.value.map(({timestamp:$,totalCollateralUsd:A,totalDebt:D})=>({timestamp:$,ratio:A/D}))),{isFetching:d,data:u}=Pl(R("crvusd"),H(()=>t.chain),e),{isFetching:v,data:m}=Vl(R("crvusd"),H(()=>t.chain),e),{isFetching:h,data:b}=Il(R("crvusd"),H(()=>t.chain),e),{isFetching:f,data:y}=ql(R("crvusd"),H(()=>t.chain),e),{isFetching:C,data:S}=Dl(R("crvusd"),H(()=>t.chain),e);return($,A)=>(g(),T("div",Wb,[_(s(Ql),{overview:s(o),loading:s(a)},null,8,["overview","loading"]),_(s(Hl),{ratios:s(u),"prices-oracle":s(c),loading:s(d)||s(n)},null,8,["ratios","prices-oracle","loading"]),_(s(Bl),{losses:s(S),loading:s(C)},null,8,["losses","loading"]),_(s(Ul),{losses:s(S),loading:s(C)},null,8,["losses","loading"]),_(s(El),{deciles:s(y),loading:s(f)},null,8,["deciles","loading"]),_(s(Yl),{ratios:s(r),loading:s(n)},null,8,["ratios","loading"]),_(s(Ml),{liqs:s(m),loading:s(v)},null,8,["liqs","loading"]),_(s(Gl),{liqs:s(b),loading:s(h)},null,8,["liqs","loading"]),_(s(Nl),{discounts:s(i),liqs:s(b),loading:s(n)||s(h)},null,8,["discounts","liqs","loading"])]))}}),Kb=V(Hb,[["__scopeId","data-v-9817d8d9"]]),Nb={class:"controls"},Jl=P({__name:"ChartOHLC",props:{ohlc:{}},setup(t){const{t:e}=M();let a,o;const{theme:n}=E(K()),l=R(!1),c=R(!1);let i=1,r=0;const{chart:d,chartRef:u}=me(n,v,y=>{a=y.addCandlestickSeries(m()),o=y.addLineSeries(h())});x([H(()=>t.ohlc),d,l,c],b),x(n,()=>{a==null||a.applyOptions(m()),o==null||o.applyOptions(h())});function v(y){return ae(y,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:C=>f(C)}})}function m(){const{colors:y}=n.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:y.green,borderUpColor:y.green,wickUpColor:y.green,downColor:y.red,borderDownColor:y.red,wickDownColor:y.red}}function h(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function b([y,C,S,$]){if(!C||!a)return;const A=S?-1:1,D=q.chain(y).map(F=>({time:F.time,open:Math.pow(F.open,A),high:Math.pow(F.high,A),low:Math.pow(F.low,A),close:Math.pow(F.close,A)})).uniqWith((F,W)=>F.time===W.time).orderBy(F=>F.time,"asc").value();D.length>0&&(a.setData(D),r=Math.min(...D.map(F=>F.low)),i=Math.max(...D.map(F=>F.high)));const U=q.chain(y).map(F=>({time:F.time,value:Math.pow(F.oracle_price,A)})).uniqWith((F,W)=>F.time===W.time).orderBy(F=>F.time,"asc").value();U.length>0&&o.setData(U),o.applyOptions({visible:$}),C.timeScale().fitContent()}const f=y=>{const C=i-r,S=C>1?C-Math.floor(C):C,$=-Math.floor(Math.log10(S)+1)+2;return`${Q(y,$,"dollar")}${z(y,"dollar")}`};return(y,C)=>{const S=Ze,$=Z;return g(),I($,{class:"chart-container",title:s(e)("title")},{actions:k(()=>[p("div",Nb,[_(S,{value:"Oracle Price","model-value":s(c),onClick:C[0]||(C[0]=A=>c.value=!s(c))},null,8,["model-value"]),_(S,{value:"Invert","model-value":s(l),onClick:C[1]||(C[1]=A=>l.value=!s(l))},null,8,["model-value"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"])}}});function co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof co=="function"&&co(Jl);const ei=V(Jl,[["__scopeId","data-v-1c0ede8a"]]),zb=t=>(ue("data-v-c6ad3e7d"),t=t(),de(),t),Qb={class:"title"},jb={class:"end"},Gb=zb(()=>p("div",null,null,-1)),Xb=["href"],Yb={class:"end"},Zb=["href"],ti=P({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(t,{emit:e}){const{t:a}=M(),o=e,{page:n,onPage:l}=Oa(),c=jt(n,200);x(c,v=>o("page",v));const{relativeTime:i}=ft(),r=v=>v<1?v.toFixed(4):v>1e3?v.toFixed(0):v.toFixed(2),d=v=>{var m,h;return r(((m=v.deposit)==null?void 0:m.amount)??((h=v.withdrawal)==null?void 0:h.amount_collateral)??0)},u=v=>v.deposit?a("deposit"):v.withdrawal?a("withdrawal"):a("unknown");return(v,m)=>{const h=Ke,b=pe;return g(),I(b,{class:"datatable-events",rows:v.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{"header-content":k(()=>[p("div",Qb,L(s(a)("title")),1),_(h,{class:"pagination","items-count":v.count,"items-per-page":10,page:s(n),onPage:s(l)},null,8,["items-count","page","onPage"])]),row:k(({item:f})=>[p("div",null,L(u(f)),1),p("div",jb,L(d(f)),1),Gb,p("div",null,[p("a",{href:`https://etherscan.io/address/${f.provider}`,target:"_blank",onClick:m[0]||(m[0]=Le(()=>{},["stop"]))},L(s(Ae)(f.provider)),9,Xb)]),p("div",Yb,[p("a",{href:`https://etherscan.io/tx/${f.transaction_hash}`,target:"_blank",onClick:m[1]||(m[1]=Le(()=>{},["stop"]))},L(s(i)(f.timestamp)),9,Zb)])]),_:1},8,["rows"])}}});function uo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Events"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawal"}},unknown:{t:0,b:{t:2,i:[{t:3}],s:"Unknown"}}}})}typeof uo=="function"&&uo(ti);const ai=V(ti,[["__scopeId","data-v-c6ad3e7d"]]),Jb={class:"title"},eg={class:"end"},tg=["href"],ag={class:"end"},sg=["href"],og=["href"],ng={class:"end"},lg=["href"],si=P({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(t,{emit:e}){const{t:a}=M(),o=e,{page:n,onPage:l}=Oa(),c=jt(n,200);x(c,d=>o("page",d));const{relativeTime:i}=ft(),r=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2);return(d,u)=>{const v=Ke,m=Ge,h=pe;return g(),I(h,{class:"datatable-trades",rows:d.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{"header-content":k(()=>[p("div",Jb,L(s(a)("title")),1),_(v,{class:"pagination","items-count":d.count,"items-per-page":10,page:s(n),onPage:s(l)},null,8,["items-count","page","onPage"])]),row:k(({item:b})=>[p("div",eg,L(r(b.amount_bought)),1),_(m,{chain:d.chain,address:b.token_bought.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_bought.address}`},L(b.token_bought.symbol),9,tg)]),p("div",ag,L(r(b.amount_sold)),1),_(m,{chain:d.chain,address:b.token_sold.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_sold.address}`},L(b.token_sold.symbol),9,sg)]),p("div",null,[p("a",{href:`https://etherscan.io/address/${b.buyer}`,target:"_blank",onClick:u[0]||(u[0]=Le(()=>{},["stop"]))},L(s(Ae)(b.buyer)),9,og)]),p("div",ng,[p("a",{href:`https://etherscan.io/tx/${b.transaction_hash}`,target:"_blank",onClick:u[1]||(u[1]=Le(()=>{},["stop"]))},L(s(i)(b.timestamp)),9,lg)])]),_:1},8,["rows"])}}});function po(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Trades"}}}})}typeof po=="function"&&po(si);const oi=V(si,[["__scopeId","data-v-32c0682c"]]),ig={class:"trading"},ni=P({__name:"Trading",props:{market:{},chain:{}},setup(t){const e=w(()=>{var u;return(u=t.market)==null?void 0:u.llamma}),{isFetching:a,data:o}=Ka(R("crvusd"),e,H(()=>t.chain)),n=R(1),{isFetching:l,data:c}=Cl(R("crvusd"),e,H(()=>t.chain),n),i=R(1),{isFetching:r,data:d}=$l(R("crvusd"),e,H(()=>t.chain),i);return(u,v)=>{var m,h,b,f;return g(),T("div",ig,[_(s(ei),{style:{"grid-area":"ohlc"},ohlc:s(o)??[],loading:s(a)},null,8,["ohlc","loading"]),_(s(oi),{style:{"grid-area":"trades"},trades:((m=s(c))==null?void 0:m.trades)??[],count:((h=s(c))==null?void 0:h.count)??0,chain:u.chain,loading:s(l),onPage:v[0]||(v[0]=y=>n.value=y)},null,8,["trades","count","chain","loading"]),_(s(ai),{style:{"grid-area":"events"},events:((b=s(d))==null?void 0:b.events)??[],count:((f=s(d))==null?void 0:f.count)??0,loading:s(r),onPage:v[1]||(v[1]=y=>i.value=y)},null,8,["events","count","loading"])])}}});function mo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof mo=="function"&&mo(ni);const rg=V(ni,[["__scopeId","data-v-3c540325"]]),cg={class:"market-overview"},ug=P({__name:"Market.page",setup(t){const{show:e,crumbs:a}=E(Oe()),o=$e("marketAddr"),{isFetching:n,data:l}=xa(),c=w(()=>l.value.find(d=>d.address===o.value));x(c,d=>{a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(d==null?void 0:d.name)??"?"}`}]},{immediate:!0}),ie(()=>{e.value=!0});const{tabActive:i,tabActiveIndex:r}=na(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(d,u)=>{const v=He,m=Ye,h=Xe;return g(),T("div",cg,[_(v,{class:O(["spinner",{loading:s(n)}])},null,8,["class"]),!s(n)&&s(c)?(g(),I(h,{key:0,active:s(r),onTab:u[0]||(u[0]=b=>r.value=b.index)},{default:k(()=>[_(m,{header:"Overview"},{default:k(()=>[(g(),I(we,null,[s(i)==="overview"?(g(),I(pb,{key:0,market:s(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),_(m,{header:"Trading"},{default:k(()=>[(g(),I(we,null,[s(i)==="trading"?(g(),I(rg,{key:0,market:s(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),_(m,{header:"Liquidations"},{default:k(()=>[(g(),I(we,null,[s(i)==="liquidations"?(g(),I(Kb,{key:0,market:s(c),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),dg=V(ug,[["__scopeId","data-v-77146060"]]);function lt(t){return t?t.total_assets_usd+t.collateral_balance_usd:0}const pg=t=>({name:t.name,controller:t.controller.toLocaleLowerCase(),vault:t.vault.toLocaleLowerCase(),llamma:t.llamma.toLocaleLowerCase(),policy:t.policy.toLocaleLowerCase(),oracle:t.oracle.toLocaleLowerCase(),rate:parseFloat(t.rate),borrow_apy:parseFloat(t.borrow_apy),lend_apy:parseFloat(t.lend_apy),n_loans:t.n_loans,price_oracle:parseFloat(t.price_oracle),amm_price:parseFloat(t.amm_price),total_debt:parseFloat(t.total_debt),total_assets:parseFloat(t.total_assets),total_debt_usd:parseFloat(t.total_debt_usd),total_assets_usd:parseFloat(t.total_assets_usd),minted:parseFloat(t.minted),redeemed:parseFloat(t.redeemed),minted_usd:parseFloat(t.minted_usd),redeemed_usd:parseFloat(t.redeemed_usd),collateral_balance:parseFloat(t.collateral_balance),borrowed_balance:parseFloat(t.borrowed_balance),collateral_balance_usd:parseFloat(t.collateral_balance_usd),borrowed_balance_usd:parseFloat(t.borrowed_balance_usd),collateral_token:{symbol:t.collateral_token.symbol,address:t.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:t.borrowed_token.symbol,address:t.borrowed_token.address.toLocaleLowerCase()}}),mg=t=>{const e=parseFloat(t.rate),a=parseFloat(t.borrow_apy)/100,o=parseFloat(t.lend_apy)/100,n=t.n_loans,l=parseFloat(t.price_oracle),c=parseFloat(t.amm_price),i=parseFloat(t.total_debt),r=parseFloat(t.total_debt_usd),d=parseFloat(t.total_assets),u=parseFloat(t.total_assets_usd),v=parseFloat(t.minted),m=parseFloat(t.redeemed),h=parseFloat(t.collateral_balance),b=parseFloat(t.collateral_balance_usd),f=parseFloat(t.borrowed_balance),y=parseFloat(t.borrowed_balance_usd),C=Me(t.timestamp),S=t.liquidation_discount,$=t.loan_discount;return{rate:e,borrowApy:a,lendApy:o,numLoans:n,priceOracle:l,ammPrice:c,totalDebt:i,totalDebtUsd:r,totalAssets:d,totalAssetsUsd:u,minted:v,redeemed:m,collateralBalance:h,collateralBalanceUsd:b,borrowedBalance:f,borrowedBalanceUsd:y,timestamp:C,discountLiquidation:S,discountLoan:$}},ma="https://prices.curve.fi";class vg extends ke{async getChains(){return this.fetch(`${ma}/v1/lending/chains`).then(e=>e.data)}async getMarkets(e){return(await this.fetch(`${ma}/v1/lending/markets/${e}?fetch_on_chain=true&page=1&per_page=100`)).data.map(pg)}async getSnapshots(e,a){return(await this.fetch(`${ma}/v1/lending/markets/${e}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(mg)}}const Na=new vg;function hg(t){return w(()=>{var e;return(e=t.value)==null?void 0:e.controller})}function _g(){return{initialData:[],initialDataUpdatedAt:0}}function fg(){return Y({queryKey:["llama-markets-chains"],queryFn:()=>Na.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function li(t){return Y({queryKey:["llama-markets",t],queryFn:({queryKey:[,e]})=>Na.getMarkets(e)})}function yt(t,e){return Y({queryKey:["llama-market-snapshots",hg(t)],queryFn:({queryKey:[,a]})=>Na.getSnapshots(e.value,a),..._g(),enabled:w(()=>!!t.value&&!!e.value)})}const Mt=t=>(ue("data-v-cd684342"),t=t(),de(),t),bg={class:"title"},gg={class:"end"},yg={class:"end"},wg={class:"end"},$g={class:"end"},Cg=Mt(()=>p("div",null,null,-1)),kg=Mt(()=>p("div",null,null,-1)),Sg=Mt(()=>p("div",null,null,-1)),Lg=Mt(()=>p("div",null,null,-1)),Tg=Mt(()=>p("div",null,null,-1)),Ag={class:"end"},Pg={class:"end"},ii=P({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},setup(t){const{t:e}=M(),a=w(()=>e(t.type==="long"?"title-long":"title-short")),o=w(()=>q.chain(t.pairs).map(c=>({count:(c.long?1:0)+(c.short?1:0),...c})).orderBy(["count",({long:c,short:i})=>lt(c)+lt(i)],["desc","desc"]).map(({long:c,short:i})=>t.type==="long"?c:i).value());function n(c){return c.name.replace(/(-long|-short)/i,"")}const l=c=>t.type==="long"?c.collateral_token.address:c.borrowed_token.address;return(c,i)=>{const r=Ge,d=te,u=pe;return g(),I(u,{class:"datatable-markets","expand-side":"left",loading:c.loading,rows:s(o),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}]},{"header-content":k(()=>[p("div",bg,L(s(a)),1)]),row:k(({item:v})=>[v?(g(),T(ne,{key:0},[_(r,{chain:c.chain,address:l(v)},null,8,["chain","address"]),p("div",null,L(n(v)),1),p("div",gg,[v.borrow_apy?(g(),I(d,{key:0,value:v.borrow_apy,type:"percentage"},null,8,["value"])):B("",!0)]),p("div",yg,[v.lend_apy?(g(),I(d,{key:0,value:v.lend_apy,type:"percentage"},null,8,["value"])):B("",!0)]),p("div",wg,[s(lt)(v)?(g(),I(d,{key:0,value:s(lt)(v),type:"dollar"},null,8,["value"])):B("",!0)]),p("div",$g,L(v.n_loans),1)],64)):B("",!0)]),"row-aggregation":k(()=>[Cg,kg,Sg,Lg,Tg,p("div",Ag,[_(d,{value:s(o).filter(v=>v).map(v=>v).reduce((v,m)=>v+s(lt)(m),0),type:"dollar"},null,8,["value"])]),p("div",Pg,L(s(o).filter(v=>v).map(v=>v).reduce((v,m)=>v+m.n_loans,0)),1)]),"row-details":k(()=>[N("   ")]),_:1},8,["loading","rows"])}}});function vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"title-long":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Long"}},"title-short":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Short"}}}})}typeof vo=="function"&&vo(ii);const ho=V(ii,[["__scopeId","data-v-cd684342"]]),Ig={class:"llamalend"},Vg={class:"toolbar"},Rg={class:"markets"},Dg={class:"kpis"},qg={class:"markets"},Fg={class:"kpis"},ri=P({__name:"LlamaLend.page",setup(t){const{t:e}=M(),a=$e("chain"),o=w({get(){return a.value?a.value:"ethereum"},set(y){a.value=y}}),n=R(""),l=w(()=>q.chain(c.value).filter(({long:y,short:C})=>{const S=n.value.toLocaleLowerCase().split(" ");return(A=>S.some(D=>A.toLocaleLowerCase().includes(D)))(`${(y==null?void 0:y.name)??""}${(C==null?void 0:C.name)??""}`)}).value()),c=w(()=>{const y=["crvusd"],C=(r.value??[]).map(A=>({market:A,isLong:y.includes(A.borrowed_token.symbol.toLocaleLowerCase()),isShort:y.includes(A.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:A,isShort:D})=>A||D),S=[],$=new Set;for(const{market:A,isLong:D,isShort:U}of C){if($.has(A.controller))continue;$.add(A.controller);const F=C.find(W=>W.market.borrowed_token.address===A.collateral_token.address&&W.market.collateral_token.address===A.borrowed_token.address);F&&$.add(F.market.controller),S.push({long:D?A:F==null?void 0:F.market,short:U?A:F==null?void 0:F.market})}return S}),{isFetching:i,data:r}=li(o),{data:d}=fg(),{show:u,crumbs:v}=E(Oe());ie(()=>{u.value=!0,v.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:"Select market for details",hint:!0}]});const m=Be(),h=async y=>{await m.push({name:"llamalendmarket",params:{tab:"",chain:o.value,marketAddr:y.controller}})},b=y=>l.value.map(C=>y==="long"?C.long:C.short).filter(C=>!!C).reduce((C,S)=>C+S.total_debt_usd,0),f=y=>{const C=l.value.map(S=>y==="long"?S.long:S.short).filter(S=>!!S).reduce(({debt:S,assets:$},A)=>({debt:S+A.total_debt_usd,assets:$+A.total_assets_usd}),{debt:0,assets:0});return C.assets===0?0:C.debt/C.assets*100};return(y,C)=>{const S=Ie,$=te,A=ge;return g(),T("div",Ig,[(g(),I(Gt,{to:"#toolbar"},[p("div",Vg,[_(S,{modelValue:s(n),"onUpdate:modelValue":C[0]||(C[0]=D=>le(n)?n.value=D:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(Rt,{class:"chain-select",chain:s(o),chains:s(d),onSelectChain:C[1]||(C[1]=D=>o.value=D==="all"?"ethereum":D)},null,8,["chain","chains"])])])),p("div",Rg,[p("div",Dg,[_(A,{label:s(e)("open-interest"),"has-value":!s(i)},{default:k(()=>[_($,{value:b("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(A,{"tooltip-type":"icon",label:s(e)("avg-util-rate"),"has-value":!s(i),tooltip:s(e)("avg-util-rate-tooltip")},{default:k(()=>[_($,{value:f("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(s(ho),{style:{"grid-column":"1"},type:"long",pairs:s(l),loading:s(i),chain:s(o),onSelected:h},null,8,["pairs","loading","chain"])]),p("div",qg,[p("div",Fg,[_(A,{label:s(e)("open-interest"),"has-value":!s(i)},{default:k(()=>[_($,{value:b("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(A,{"tooltip-type":"icon",label:s(e)("avg-util-rate"),"has-value":!s(i),tooltip:s(e)("avg-util-rate-tooltip")},{default:k(()=>[_($,{value:f("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(s(ho),{style:{"grid-column":"2"},type:"short",pairs:s(l),loading:s(i),chain:s(o),onSelected:h},null,8,["pairs","loading","chain"])])])}}});function _o(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"open-interest":{t:0,b:{t:2,i:[{t:3}],s:"Open Interest"}},"avg-util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Average Utilization Rate"}},"avg-util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Aggregate debt divided by aggregate assets"}}}})}typeof _o=="function"&&_o(ri);const Mg=V(ri,[["__scopeId","data-v-66a126b0"]]),xg={class:"actions"},ci=P({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(t){const{t:e}=M();let a,o,n;const{theme:l,themeId:c}=E(K()),{items:i,toggles:r,disabled:d}=Re(()=>{const{blue:F,yellow:W,purple:oe}=l.value.colors;return[{id:"supply",label:e("supply"),color:F},{id:"debt",label:e("debt"),color:W},{id:"util",label:e("util"),color:oe,togglable:!0}]}),{isFetching:u,data:v}=yt(H(()=>t.market),H(()=>t.chain)),m=R(!1),h=R(void 0),{chart:b,chartRef:f}=me(w(()=>`${c.value}-${r.util.value}`),y,F=>{a=F.addLineSeries(C()),o=F.addLineSeries(S()),n=F.addLineSeries($())});x(l,()=>{a.applyOptions(C()),o.applyOptions(S()),n.applyOptions($())});function y(F){return ae(F,l.value,{height:F.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:r.util.value}})}function C(){return{priceFormat:{type:"custom",formatter:F=>D(F),minMove:.01},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function S(){return{priceFormat:{type:"custom",formatter:F=>D(F),minMove:.01},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function $(){return{priceFormat:{type:"custom",formatter:F=>U(F),minMove:.01},priceScaleId:"left",lineWidth:2,color:l.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}}Xt(A);function A(){var j,X,J,ce;if(!b.value||!a||!o)return;const F=q.chain(v.value).map(G=>({time:G.timestamp,value:G.totalAssetsUsd})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value(),W=q.chain(v.value).map(G=>({time:G.timestamp,value:G.totalDebtUsd})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value(),oe=q.chain(r.util.value?F:[]).zip(W).filter(G=>!!G[1]).map(([G,fe])=>({time:fe.time,value:G&&G.value>0?fe.value/G.value:0})).uniqWith((G,fe)=>G.time===fe.time).orderBy(G=>G.time,"asc").value();if(a.setData(F),o.setData(W),n.setData(oe),n.applyOptions({visible:r.util.value}),F.length>0||W.length>0){const G=Math.min(((j=F[0])==null?void 0:j.time)??1/0,((X=W[0])==null?void 0:X.time)??1/0),fe=Math.max(((J=F[F.length-1])==null?void 0:J.time)??-1/0,((ce=W[W.length-1])==null?void 0:ce.time)??-1/0);b.value.timeScale().setVisibleRange({from:G,to:fe})}}const D=F=>`$${Q(F,0,"dollar")}${z(F,"dollar")}`,U=F=>`${Math.round(F*100)}%`;return(F,W)=>{const oe=Ve,j=Z;return g(),I(j,{ref_key:"chartCard",ref:h,class:O(["chart-card",{fullscreen:s(m)}]),title:s(e)("title"),loading:s(u)},{actions:k(()=>{var X;return[p("div",xg,[_(oe,{items:s(i),disabled:s(d),onToggle:W[0]||(W[0]=J=>s(r)[J].value=!s(r)[J].value)},null,8,["items","disabled"]),_(s(ht),{modelValue:s(m),"onUpdate:modelValue":W[1]||(W[1]=J=>le(m)?m.value=J:null),chart:s(b),target:(X=s(h))==null?void 0:X.$el},null,8,["modelValue","chart","target"])])]}),default:k(()=>[p("div",{ref_key:"chartRef",ref:f,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply & Debt"}},supply:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}},util:{t:0,b:{t:2,i:[{t:3}],s:"Util (%)"}}}})}typeof fo=="function"&&fo(ci);const Bg=V(ci,[["__scopeId","data-v-7af239e3"]]),Og={class:"actions"},ui=P({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(t){const{t:e}=M();let a,o;const n=R(!0),{theme:l}=E(K()),c=w(()=>{var S,$;return(($=(S=t.market)==null?void 0:S.collateral_token)==null?void 0:$.symbol)??"?"}),i=w(()=>{var S,$;return(($=(S=t.market)==null?void 0:S.borrowed_token)==null?void 0:$.symbol)??"?"}),{items:r}=Re(()=>[{id:c.value,label:c.value,color:l.value.colors.blue},{id:i.value,label:i.value,color:l.value.colors.yellow}]),{isFetching:d,data:u}=yt(H(()=>t.market),H(()=>t.chain)),{chart:v,chartRef:m}=me(l,h,S=>{a=S.addLineSeries(b()),o=S.addLineSeries(f())});x([u,v,n],y),x(l,()=>{a.applyOptions(b()),o.applyOptions(f())});function h(S){return ae(S,l.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function b(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function f(){return{priceFormat:{type:"custom",formatter:C},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function y([S,$,A]){var F,W,oe,j;if(!$||!a||!o)return;const D=q.chain(S).map(X=>({time:X.timestamp,value:A?X.collateralBalanceUsd:X.collateralBalance})).uniqWith((X,J)=>X.time===J.time).orderBy(X=>X.time,"asc").value(),U=q.chain(S).map(X=>({time:X.timestamp,value:A?X.borrowedBalanceUsd:X.borrowedBalance})).uniqWith((X,J)=>X.time===J.time).orderBy(X=>X.time,"asc").value();if(D.length>0&&a.setData(D),U.length>0&&o.setData(U),D.length>0||U.length>0){const X=Math.min(((F=D[0])==null?void 0:F.time)??1/0,((W=U[0])==null?void 0:W.time)??1/0),J=Math.max(((oe=D[D.length-1])==null?void 0:oe.time)??-1/0,((j=U[U.length-1])==null?void 0:j.time)??-1/0);$.timeScale().setVisibleRange({from:X,to:J})}}const C=S=>`${n.value?"$":""}${Q(S,0,"dollar")}${z(S,"dollar")}`;return(S,$)=>{const A=Ve,D=Ze,U=Z;return g(),I(U,{class:"chart-container",title:s(e)("title"),loading:s(d)},{actions:k(()=>[p("div",Og,[_(A,{items:s(r)},null,8,["items"]),_(D,{value:"Dollars","model-value":s(n),onClick:$[0]||($[0]=F=>n.value=!s(n))},null,8,["model-value"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function bo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}}}})}typeof bo=="function"&&bo(ui);const Ug=V(ui,[["__scopeId","data-v-bee42147"]]),di=P({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(t){const{t:e}=M();let a;const{theme:o}=E(K()),{chart:n,chartRef:l}=me(o,r,m=>{a=m.addHistogramSeries(d())}),{isFetching:c,data:i}=yt(H(()=>t.market),H(()=>t.chain));x([i,n],u),x(o,()=>a.applyOptions(d()));function r(m){return ae(m,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:v}})}function d(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function u([m,h]){if(!h||!a)return;const b=q.chain(m).map(f=>({time:f.timestamp,value:f.numLoans})).uniqWith((f,y)=>f.time===y.time).orderBy(f=>f.time,"asc").value();if(b.length>0){a.setData(b);const f=b[0].time,y=b[b.length-1].time;h.timeScale().setVisibleRange({from:f,to:y})}}const v=m=>Math.round(m).toString();return(m,h)=>{const b=Z;return g(),I(b,{class:"chart-container",title:s(e)("title"),loading:s(c)},{default:k(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function go(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof go=="function"&&go(di);const Eg=V(di,[["__scopeId","data-v-aa0b2529"]]),Wg={class:"actions"},pi=P({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(t){const{t:e}=M();let a,o;const{theme:n}=E(K()),{items:l}=Re(()=>[{id:"borrow",label:e("borrow-apy"),color:n.value.colors.red},{id:"lend",label:e("lend-apy"),color:n.value.colors.green}]),{isFetching:c,data:i}=yt(H(()=>t.market),H(()=>t.chain)),{chart:r,chartRef:d}=me(n,u,f=>{a=f.addLineSeries(v()),o=f.addLineSeries(m())});x([i,r],h),x(n,()=>{a.applyOptions(v()),o.applyOptions(m())});function u(f){return ae(f,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>b(y)}})}function v(){return{priceFormat:{type:"custom",formatter:b},lineWidth:2,color:n.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}}function m(){return{priceFormat:{type:"custom",formatter:b},lineWidth:2,color:n.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}}function h([f,y]){var $,A,D,U;if(!y||!a||!o)return;const C=q.chain(f).map(F=>({time:F.timestamp,value:F.borrowApy})).uniqWith((F,W)=>F.time===W.time).orderBy(F=>F.time,"asc").value(),S=q.chain(f).map(F=>({time:F.timestamp,value:F.lendApy})).uniqWith((F,W)=>F.time===W.time).orderBy(F=>F.time,"asc").value();if(C.length>0&&a.setData(C),S.length>0&&o.setData(S),C.length>0||S.length>0){const F=Math.min((($=C[0])==null?void 0:$.time)??1/0,((A=S[0])==null?void 0:A.time)??1/0),W=Math.max(((D=C[C.length-1])==null?void 0:D.time)??-1/0,((U=S[S.length-1])==null?void 0:U.time)??-1/0);y.timeScale().setVisibleRange({from:F,to:W})}}const b=f=>`${Q(f*100,0,"percentage")}${z(f,"percentage")}`;return(f,y)=>{const C=Ve,S=Z;return g(),I(S,{class:"chart-container",title:s(e)("title"),loading:s(c)},{actions:k(()=>[p("div",Wg,[_(C,{items:s(l)},null,8,["items"])])]),default:k(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function yo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}},"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}}}})}typeof yo=="function"&&yo(pi);const Hg=V(pi,[["__scopeId","data-v-a7e167ba"]]),Kg={class:"addresses"},Ng={class:"title"},zg=["href"],Qg={key:1},mi=P({__name:"Addresses",props:{market:{}},setup(t){const{t:e}=M(),a=w(()=>{var l,c,i,r,d;return[{description:"controller",address:(l=t.market)==null?void 0:l.controller},{description:"vault",address:(c=t.market)==null?void 0:c.vault},{description:"llamma",address:(i=t.market)==null?void 0:i.llamma},{description:"policy",address:(r=t.market)==null?void 0:r.policy},{description:"oracle",address:(d=t.market)==null?void 0:d.oracle}]}),o=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=Pe,r=pe;return g(),T("div",Kg,[_(r,{class:"datatable-addresses",rows:s(a)},{"header-content":k(()=>[p("div",Ng,L(s(e)("addresses")),1)]),row:k(({item:{description:d,address:u}})=>[p("div",null,L(s(e)(d)),1),p("div",null,[u?(g(),T("a",{key:0,class:"font-mono",href:o(u),target:"_blank"},L(u),9,zg)):(g(),T("span",Qg,"?"))]),p("div",null,[_(i,{icon:"fas fa-link",onClick:v=>n(u)},null,8,["onClick"])])]),_:1},8,["rows"])])}}});function wo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},vault:{t:0,b:{t:2,i:[{t:3}],s:"Vault"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}},policy:{t:0,b:{t:2,i:[{t:3}],s:"Policy"}},oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle"}}}})}typeof wo=="function"&&wo(mi);const jg=V(mi,[["__scopeId","data-v-a568301d"]]),Gg={class:"usage"},Xg={class:"two-sides"},Yg={class:"collateral"},Zg={class:"two-sides"},Jg={class:"two-sides"},vi=P({__name:"KPIUsage",props:{market:{}},setup(t){const{t:e}=M(),a=w(()=>{var l,c;return(((l=t.market)==null?void 0:l.collateral_balance_usd)??0)+(((c=t.market)==null?void 0:c.borrowed_balance_usd)??0)}),o=w(()=>{var r,d;const l=e("collateral"),c=((r=t.market)==null?void 0:r.collateral_token.symbol)??"?",i=((d=t.market)==null?void 0:d.borrowed_token.symbol)??"?";return`${l} (${c} / ${i})`}),n=w(()=>t.market?t.market.total_assets_usd===0?0:t.market.total_debt_usd/t.market.total_assets_usd:0);return(l,c)=>{var d,u;const i=te,r=ge;return g(),T("div",Gg,[_(r,{label:s(o),"has-value":!!l.market},{default:k(()=>{var v,m;return[p("div",Xg,[p("div",Yg,[_(i,{value:(v=l.market)==null?void 0:v.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),N(" / "),_(i,{value:(m=l.market)==null?void 0:m.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),_(i,{value:s(a),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{label:s(e)("borrowed")+` (${((d=l.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:k(()=>{var v,m;return[p("div",Zg,[_(i,{value:(v=l.market)==null?void 0:v.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(i,{value:(m=l.market)==null?void 0:m.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{label:s(e)("supplied")+` (${((u=l.market)==null?void 0:u.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:k(()=>{var v,m;return[p("div",Jg,[_(i,{value:(v=l.market)==null?void 0:v.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(i,{value:(m=l.market)==null?void 0:m.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(r,{"tooltip-type":"icon",label:s(e)("util-rate"),"has-value":!!l.market,tooltip:s(e)("util-rate-tooltip")},{default:k(()=>[_(i,{value:s(n)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function $o(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},supplied:{t:0,b:{t:2,i:[{t:3}],s:"Supplied"}},"util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Utilization Rate"}},"util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Utilization rate is total supplied divided by total borrowed"}}}})}typeof $o=="function"&&$o(vi);const e0=V(vi,[["__scopeId","data-v-7c3eebd2"]]),t0={class:"properties"},a0={class:"title"},s0={key:0},o0={class:"token-info"},n0=["href"],l0={key:1},hi=P({__name:"Properties",props:{market:{},chain:{}},setup(t){const{t:e}=M();function a(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var d,u;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((d=r==null?void 0:r.collateral_token)==null?void 0:d.address)??""}:{type:"token",symbol:(r==null?void 0:r.borrowed_token.symbol)??"?",address:((u=r==null?void 0:r.borrowed_token)==null?void 0:u.address)??""}}const n=w(()=>[{description:"collateral",value:o("collateral",t.market)},{description:"borrowed",value:o("borrowed",t.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const d=Ge,u=Pe,v=pe;return g(),T("div",t0,[_(v,{class:"datatable-properties",rows:s(n)},{"header-content":k(()=>[p("div",a0,L(s(e)("properties")),1)]),row:k(({item:{description:m,value:h}})=>[p("div",null,L(s(e)(m)),1),a(h)?(g(),T("div",s0,[p("div",o0,[_(d,{chain:i.chain,address:h.address},null,8,["chain","address"]),p("div",null,L(h.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(h.address),target:"_blank"},L(h.address),9,n0)]),p("div",null,[_(u,{icon:"fas fa-link",onClick:b=>c(h.address)},null,8,["onClick"])])])])):(g(),T("div",l0,L(h),1))]),_:1},8,["rows"])])}}});function Co(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof Co=="function"&&Co(hi);const i0=V(hi,[["__scopeId","data-v-a42ead0a"]]),r0={class:"market"},_i=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(t){const{t:e}=M(),{isFetching:a,data:o}=yt(H(()=>t.market),H(()=>t.chain)),n=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,ratio:d>0?(i+r)/d:0}))),l=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:c,equity:i+r-d})));return(c,i)=>{const r=te,d=ge;return g(),T("div",r0,[_(d,{style:{"grid-area":"kpi1"},label:s(e)("borrow-apy"),"has-value":!!c.market},{default:k(()=>{var u;return[_(r,{value:(u=c.market)==null?void 0:u.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi2"},label:s(e)("lend-apy"),"has-value":!!c.market},{default:k(()=>{var u;return[_(r,{value:(u=c.market)==null?void 0:u.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi3"},label:s(e)("loans"),"has-value":!!c.market},{default:k(()=>{var u;return[N(L(((u=c.market)==null?void 0:u.n_loans)??0),1)]}),_:1},8,["label","has-value"]),_(d,{style:{"grid-area":"kpi4"},label:s(e)("tvl"),"has-value":!!c.market},{default:k(()=>[_(r,{value:s(lt)(c.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(s(Bg),{style:{"grid-area":"supply"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(s(Ug),{style:{"grid-area":"collateral"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(s(Yl),{style:{"grid-area":"colratio"},ratios:s(n),loading:s(a)},null,8,["ratios","loading"]),_(s(Ub),{style:{"grid-area":"equity"},equity:s(l),loading:s(a)},null,8,["equity","loading"]),_(s(Hg),{style:{"grid-area":"rates"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(s(Eg),{style:{"grid-area":"loans"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(s(jg),{style:{"grid-area":"addresses"},market:c.market},null,8,["market"]),_(s(i0),{style:{"grid-area":"properties"},market:c.market,chain:c.chain},null,8,["market","chain"]),_(s(e0),{style:{"grid-area":"usage"},market:c.market},null,8,["market"])])}}});function ko(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof ko=="function"&&ko(_i);const c0=V(_i,[["__scopeId","data-v-a35de963"]]),u0={class:"trading"},fi=P({__name:"Trading",props:{market:{},chain:{}},setup(t){const{t:e}=M(),a=w(()=>{var v;return(v=t.market)==null?void 0:v.llamma}),{isFetching:o,data:n}=Ka(R("lending"),a,H(()=>t.chain)),l=R(1),{isFetching:c,data:i}=Cl(R("lending"),a,H(()=>t.chain),l),r=R(1),{isFetching:d,data:u}=$l(R("lending"),a,H(()=>t.chain),r);return(v,m)=>{var f,y,C,S;const h=te,b=ge;return g(),T("div",u0,[_(b,{style:{"grid-area":"oracle"},label:s(e)("oracle"),"has-value":!!v.market},{default:k(()=>{var $;return[_(h,{value:($=v.market)==null?void 0:$.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(b,{style:{"grid-area":"amm"},label:s(e)("amm"),"has-value":!!v.market},{default:k(()=>{var $;return[_(h,{value:($=v.market)==null?void 0:$.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(s(ei),{style:{"grid-area":"ohlc"},ohlc:s(n)??[],loading:s(o)},null,8,["ohlc","loading"]),_(s(oi),{style:{"grid-area":"trades"},trades:((f=s(i))==null?void 0:f.trades)??[],count:((y=s(i))==null?void 0:y.count)??0,chain:v.chain,loading:s(c),onPage:m[0]||(m[0]=$=>l.value=$)},null,8,["trades","count","chain","loading"]),_(s(ai),{style:{"grid-area":"events"},events:((C=s(u))==null?void 0:C.events)??[],count:((S=s(u))==null?void 0:S.count)??0,loading:s(d),onPage:m[1]||(m[1]=$=>r.value=$)},null,8,["events","count","loading"])])}}});function So(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof So=="function"&&So(fi);const d0=V(fi,[["__scopeId","data-v-7436bded"]]),p0={class:"liquidations"},m0=P({__name:"Liquidations",props:{market:{},chain:{}},setup(t){const e=w(()=>{var $;return($=t.market)==null?void 0:$.controller}),{isFetching:a,data:o}=yt(H(()=>t.market),H(()=>t.chain)),n=w(()=>o.value.map(({timestamp:$,priceOracle:A})=>({timestamp:$,priceOracle:A}))),l=w(()=>o.value.map(({timestamp:$,discountLiquidation:A})=>({timestamp:$,discount:A}))),{isFetching:c,data:i}=Vl(R("lending"),H(()=>t.chain),e),{isFetching:r,data:d}=Il(R("lending"),H(()=>t.chain),e),{isFetching:u,data:v}=Pl(R("lending"),H(()=>t.chain),e),m=w(()=>v.value.map(({timestamp:$,proportion:A})=>({timestamp:$,proportion:A*100}))),{isFetching:h,data:b}=Rl(R("lending"),H(()=>t.chain),e),{isFetching:f,data:y}=Dl(R("lending"),H(()=>t.chain),e),{isFetching:C,data:S}=ql(R("lending"),H(()=>t.chain),e);return($,A)=>(g(),T("div",p0,[_(s(Ql),{overview:s(b),loading:s(h)},null,8,["overview","loading"]),_(s(Hl),{ratios:s(m),"prices-oracle":s(n),loading:s(u)||s(a)},null,8,["ratios","prices-oracle","loading"]),_(s(Bl),{losses:s(y),loading:s(f)},null,8,["losses","loading"]),_(s(Ul),{losses:s(y),loading:s(f)},null,8,["losses","loading"]),_(s(El),{deciles:s(S),loading:s(C)},null,8,["deciles","loading"]),_(s(Ml),{liqs:s(i),loading:s(c)},null,8,["liqs","loading"]),_(s(Gl),{liqs:s(d),loading:s(r)},null,8,["liqs","loading"]),_(s(Nl),{discounts:s(l),liqs:s(d),loading:s(a)||s(r)},null,8,["discounts","liqs","loading"])]))}}),v0=V(m0,[["__scopeId","data-v-f2820630"]]),h0={class:"market-overview"},_0=P({__name:"Market.page",setup(t){const{show:e,crumbs:a}=E(Oe()),o=$e("chain"),n=$e("marketAddr"),{isFetching:l,data:c}=li(o),i=w(()=>{var u;return(u=c.value)==null?void 0:u.find(v=>v.controller===n.value)});x(i,u=>{a.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),ie(()=>{e.value=!0});const{tabActive:r,tabActiveIndex:d}=na(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:n.value}));return(u,v)=>{const m=He,h=Ye,b=Xe;return g(),T("div",h0,[_(m,{class:O(["spinner",{loading:s(l)}])},null,8,["class"]),!s(l)&&s(i)?(g(),I(b,{key:0,active:s(d),onTab:v[0]||(v[0]=f=>d.value=f.index)},{default:k(()=>[_(h,{header:"Overview"},{default:k(()=>[(g(),I(we,null,[s(r)==="overview"?(g(),I(c0,{key:0,market:s(i),chain:s(o)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),_(h,{header:"Trading"},{default:k(()=>[(g(),I(we,null,[s(r)==="trading"?(g(),I(d0,{key:0,market:s(i),chain:s(o)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),_(h,{header:"Liquidations"},{default:k(()=>[(g(),I(we,null,[s(r)==="liquidations"?(g(),I(v0,{key:0,market:s(i),chain:s(o)},null,8,["market","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),f0=V(_0,[["__scopeId","data-v-a093387c"]]),De=je("monitorStore",()=>{const t=R(null),e=R(null),a=R(null),o=R([]),n=R(!1),l=R([]),c=R([]),i=R([]),r=R([]),d=R([]),u=R({curve:[],balanceCoin0:0,balanceCoin1:0}),v=R([]),m=R(null),h=R("month");return{socket:t,socketPool:e,pool:a,pools:o,poolsLoadingError:n,prices:l,balances:c,volumes:i,transactions:r,tvl:d,bonding:u,coins:v,pair:m,timeRange:h}});class b0{constructor(e){this.init$=new Ce(a=>{const o=n=>{const l=n.map(c=>Lo(c));a.next(l)};return e.on("price_chart",o),()=>{e.off("price_chart",o)}}).pipe(Te()),this.update$=new Ce(a=>{const o=n=>{const l=Lo(n);a.next(l)};return e.on("Update Price-Chart",o),()=>{e.off("Update Price-Chart",o)}}).pipe(Te())}}function Lo(t){const e=Object.keys(t)[0],a=parseInt(e,10),o=t[e];return{timestamp:a,value:o}}class g0{constructor(e){this.init$=new Ce(a=>{const o=n=>{const l=n.map(c=>To(c));a.next(l)};return e.on("balances_chart",o),()=>{e.off("balances_chart",o)}}).pipe(Te()),this.update$=new Ce(a=>{const o=n=>{const l=To(n);a.next(l)};return e.on("Update Balance-Chart",o),()=>{e.off("Update Balance-Chart",o)}}).pipe(Te())}}function To(t){const e=Object.keys(t)[0],a=parseInt(e,10),o=t[e];return{timestamp:a,balances:o}}class y0{constructor(e){this.init$=new Ce(a=>{const o=n=>{const l=n.map(c=>Ao(c));a.next(l)};return e.on("volume_chart",o),()=>{e.off("volume_chart",o)}}).pipe(Te()),this.update$=new Ce(a=>{const o=n=>{const l=Ao(n);a.next(l)};return e.on("Update Volume-Chart",o),()=>{e.off("Update Volume-Chart",o)}}).pipe(Te())}}function Ao(t){const e=Object.keys(t)[0],a=parseInt(e,10),o=t[e];return{timestamp:a,volume:o}}class w0{constructor(e){this.init$=new Ce(a=>{const o=n=>{const l=n.map(c=>Po(c)).flat(1);a.next(l)};return e.on("table_all",o),()=>{e.off("table_all",o)}}).pipe(Te()),this.update$=new Ce(a=>{const o=n=>{const l=Po(n);for(const c of l)a.next(c)};return e.on("Update Table-ALL",o),()=>{e.off("Update Table-ALL",o)}}).pipe(Te())}}function Po(t){let e;if(t.type==="swap")e="swap";else if(t.type==="deposit")e="deposit";else if(t.type==="remove")e="withdraw";else return[];const a=t.txHash.toLocaleLowerCase(),o=t.blockNumber,n=t.trader.toLocaleLowerCase(),l=t.unixtime;let c;if(e==="swap"){const i=t;return c=[{type:e,txHash:a,blockNumber:o,trader:n,timestamp:l,fee:i.tradeDetails.feeUSD,value:i.tradeDetails.valueUSD,amountIn:i.tradeDetails.amountIn,amountOut:i.tradeDetails.amountOut,tokenIn:i.tradeDetails.nameIn,tokenOut:i.tradeDetails.nameOut}],c}else e==="deposit"?c=t.tradeDetails.map(r=>({type:"deposit",txHash:a,blockNumber:o,trader:n,timestamp:l,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):c=t.tradeDetails.map(r=>({type:"withdraw",txHash:a,blockNumber:o,trader:n,timestamp:l,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return c}class $0{constructor(e){this.init$=new Ce(a=>{const o=n=>{const l=n.map(c=>Io(c));a.next(l)};return e.on("tvl_chart",o),()=>{e.off("tvl_chart",o)}}).pipe(Te()),this.update$=new Ce(a=>{const o=n=>{const l=Io(n);a.next(l)};return e.on("Update TVL-Chart",o),()=>{e.off("Update TVL-Chart",o)}}).pipe(Te())}}function Io(t){const e=Object.keys(t)[0],a=parseInt(e,10),o=t[e];return{timestamp:a,tvl:o}}class C0{constructor(e){this.get$=new Ce(a=>{const o=n=>{const l=k0(n);a.next(l)};return e.on("bonding_curve",o),()=>{e.off("bonding_curve",o)}}).pipe(Te())}}function k0(t){return{curve:q.zipWith(t.x,t.y,(a,o)=>({x:a,y:o})),balanceCoin0:t.balance0,balanceCoin1:t.balance1}}function S0(t){return Ta(`${t}/`,{autoConnect:!1,secure:!0})}function L0(t,e){return Ta(`${t}/${e}`,{autoConnect:!1,secure:!0})}function T0(t){return Ta(`${t}/main`,{autoConnect:!1,secure:!0})}function A0(t,e,a){const o=L0(e,a),n=new y0(o),l=new b0(o),c=new w0(o),i=new g0(o),r=new $0(o),d=new C0(o),u=new yp(o),v=new Un(o);return q0(t,c),R0(t,l),I0(t,i),V0(t,r),D0(t,n),F0(t,d),M0(t,u),x0(t,v),o.connect(),o}async function P0(t,e,a){const o=await e.get(a);o?t.pools=o:t.poolsLoadingError=!0}let Et=null;function I0(t,e){Et&&Et.unsubscribe();try{Et=e.init$.subscribe({next:a=>{t.balances=a},error:a=>console.error(a)}),Et.add(e.update$.subscribe({next:a=>{t.balances.push(a)},error:a=>console.error(a)}))}catch{t.poolsLoadingError=!0}}let Wt=null;function V0(t,e){Wt&&Wt.unsubscribe();try{Wt=e.init$.subscribe({next:a=>{t.tvl=a},error:a=>console.error(a)}),Wt.add(e.update$.subscribe({next:a=>{t.tvl.push(a)},error:a=>console.error(a)}))}catch{t.poolsLoadingError=!0}}let Ht=null;function R0(t,e){Ht&&Ht.unsubscribe();try{Ht=e.init$.subscribe({next:a=>{t.prices=a},error:a=>console.error(a)}),Ht.add(e.update$.subscribe({next:a=>{t.prices.push(a)},error:a=>console.error(a)}))}catch{t.poolsLoadingError=!0}}let Kt=null;function D0(t,e){Kt&&Kt.unsubscribe();try{Kt=e.init$.subscribe({next:a=>{t.volumes=a},error:a=>console.error(a)}),Kt.add(e.update$.subscribe({next:a=>{t.volumes.push(a)},error:a=>console.error(a)}))}catch{t.poolsLoadingError=!0}}let Nt=null;function q0(t,e){Nt&&Nt.unsubscribe();try{Nt=e.init$.subscribe({next:a=>{t.transactions=a},error:a=>console.error(a)}),Nt.add(e.update$.subscribe({next:a=>{t.transactions.push(a)},error:a=>console.error(a)}))}catch{t.poolsLoadingError=!0}}let va=null;function F0(t,e){va&&va.unsubscribe();try{va=e.get$.subscribe({next:a=>{t.bonding=a},error:a=>console.error(a)})}catch{t.poolsLoadingError=!0}}let ha=null;function M0(t,e){ha&&ha.unsubscribe();try{ha=e.get$.subscribe({next:a=>{t.coins=a},error:a=>console.error(a)})}catch{t.poolsLoadingError=!0}}let _a=null;function x0(t,e){_a&&_a.unsubscribe();try{_a=e.update$.subscribe({next:a=>{t.pair=a},error:a=>console.error(a)})}catch{t.poolsLoadingError=!0}}const B0={key:0,class:"item"},O0={class:"label"},bi=P({__name:"SearchPool",props:xe({poolService:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:xe(["select"],["update:modelValue"]),setup(t,{emit:e}){const{t:a}=M(),o=dt(t,"modelValue"),n=e,l=De(),c=R(!1),i=R(a("search-placeholder")),r=w(()=>l.pools),d=h=>{const b=Fe(h.name);return b.startsWith("Curve.fi ")?b.slice(9):b},u=q.debounce(P0,200,{maxWait:1e3}),v=h=>{u(l,t.poolService,h),c.value=!!h},m=h=>{c.value=!1,n("select",h)};return x(()=>l.poolsLoadingError,h=>{h?i.value=a("search-error"):i.value=a("search-placeholder")}),(h,b)=>{const f=Ie;return g(),I(f,{class:"select-pool","model-value":o.value,placeholder:s(i),search:!0,"auto-complete":s(c),options:s(r),onInput:v,onSelect:m},{item:k(y=>[y.item?(g(),T("div",B0,[p("div",O0,L(d(y.item)),1)])):B("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"])}}});function Vo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":{t:0,b:{t:2,i:[{t:3}],s:"Loading pools, please wait..."}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve pools"}},"search-error":{t:0,b:{t:2,i:[{t:3}],s:"Failed loading Curve pools"}}}})}typeof Vo=="function"&&Vo(bi);const U0=V(bi,[["__scopeId","data-v-38d10ca3"]]),E0={class:"status"},W0={class:"ping"},H0=P({__name:"Status",setup(t){const e=De(),a=R(1/0),o=R("bad");return x(()=>e.socket,n=>{if(!n)return;new bp(n).get$.subscribe(c=>{a.value=c,o.value=c<=50?"good":c<=500?"meh":"bad"})},{immediate:!0}),(n,l)=>{const c=It;return g(),T("div",E0,[_(c,{class:"tooltip"},{item:k(()=>[p("div",{class:O(["indicator",s(o)])},null,2)]),default:k(()=>[p("div",W0,"Ping: "+L(s(a)===1/0?"?":s(a))+"ms",1)]),_:1})])}}}),K0=V(H0,[["__scopeId","data-v-a782295f"]]),N0=t=>(ue("data-v-ac106eee"),t=t(),de(),t),z0={class:"header"},Q0={class:"header-content"},j0=N0(()=>p("div",{class:"title"},"Live monitor",-1)),G0={class:"controls"},X0=P({__name:"Header",props:{poolService:{}},setup(t){const e=De(),a=R(""),o=n=>{a.value=Fe(n.name),e.pool=n};return(n,l)=>{const c=Z;return g(),T("div",z0,[_(c,null,{default:k(()=>[p("div",Q0,[j0,p("div",G0,[_(U0,{modelValue:s(a),"onUpdate:modelValue":l[0]||(l[0]=i=>le(a)?a.value=i:null),class:"search","pool-service":n.poolService,onSelect:o},null,8,["modelValue","pool-service"]),_(K0)])])]),_:1})])}}}),Y0=V(X0,[["__scopeId","data-v-ac106eee"]]),Z0={class:"pair"},J0={class:"item"},e1=["src"],t1={class:"label"},a1={class:"item"},s1=["src"],o1={class:"label"},n1=P({__name:"SelectorPair",setup(t){const e=De(),a=R([!1,!1]),o=R([null,null]),n=w(()=>e.coins.map(u=>({label:u.name}))),l=w(()=>e.pair?[{label:e.pair[0]},{label:e.pair[1]}]:null),c=u=>u!=null&&u.logo?`${u.logo}`:"",i=u=>u?`${u.label}`:"?",r=u=>{a.value[u]=!a.value[u]},d=(u,v,m)=>{var y,C;const h=u===0?1:0,b=o.value[u],f=v;(b==null?void 0:b.label)!==(f==null?void 0:f.label)&&(o.value[u]=f,((y=o.value[u])==null?void 0:y.label)===((C=o.value[h])==null?void 0:C.label)&&(o.value[h]=b),m&&e.socketPool&&o.value[0]&&o.value[1]&&new Un(e.socketPool).update(e.timeRange,[o.value[0].label,o.value[1].label]))};return x(l,()=>{d(0,l.value?l.value[0]:null,!1),d(1,l.value?l.value[1]:null,!1)}),(u,v)=>{const m=vt;return g(),T("div",Z0,[_(m,{class:"select",options:s(n),selected:s(o)[0],open:s(a)[0],onOpen:v[0]||(v[0]=h=>r(0)),onClose:v[1]||(v[1]=h=>s(a)[0]=!1),onInput:v[2]||(v[2]=h=>d(0,h,!0))},{item:k(h=>{var b;return[p("div",J0,[(b=h.item)!=null&&b.logo?(g(),T("img",{key:0,src:c(h.item)},null,8,e1)):B("",!0),p("div",t1,L(i(h.item)),1)])]}),_:1},8,["options","selected","open"]),_(m,{class:"select",options:s(n),selected:s(o)[1],open:s(a)[1],onOpen:v[3]||(v[3]=h=>r(1)),onClose:v[4]||(v[4]=h=>s(a)[1]=!1),onInput:v[5]||(v[5]=h=>d(1,h,!0))},{item:k(h=>{var b;return[p("div",a1,[(b=h.item)!=null&&b.logo?(g(),T("img",{key:0,src:c(h.item)},null,8,s1)):B("",!0),p("div",o1,L(i(h.item)),1)])]}),_:1},8,["options","selected","open"])])}}}),l1=V(n1,[["__scopeId","data-v-fb2f4b85"]]),i1=["day","week","month"],r1={class:"ranges"},gi=P({__name:"SelectorRange",setup(t){const{t:e}=M(),a=De(),o=n=>{a.timeRange!==n&&(a.timeRange=n,a.pair&&new $p(a.socketPool).update(n))};return(n,l)=>{const c=Ze;return g(),T("div",r1,[(g(!0),T(ne,null,_e(s(i1),i=>(g(),I(c,{key:i,"model-value":s(a).timeRange===i,value:s(e)(i),onClick:r=>o(i)},null,8,["model-value","value","onClick"]))),128))])}}});function Ro(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{day:{t:0,b:{t:2,i:[{t:3}],s:"Day"}},week:{t:0,b:{t:2,i:[{t:3}],s:"Week"}},month:{t:0,b:{t:2,i:[{t:3}],s:"Month"}}}})}typeof Ro=="function"&&Ro(gi);const c1=V(gi,[["__scopeId","data-v-2eb91b18"]]),yi=t=>(ue("data-v-10ded877"),t=t(),de(),t),u1={class:"controls"},d1=yi(()=>p("div",{class:"gutter"},null,-1)),p1={class:"rows"},m1=yi(()=>p("div",{class:"title"},"Charts",-1)),v1={class:"items"},h1=P({__name:"Controls",setup(t){return(e,a)=>(g(),T("div",u1,[d1,p("div",p1,[m1,p("div",v1,[_(l1),_(c1)])])]))}}),_1=V(h1,[["__scopeId","data-v-10ded877"]]);function f1(t){return t.type==="swap"}function b1(t){return t.type==="deposit"}function g1(t){return t.type==="withdraw"}const y1={style:{display:"grid","grid-template-columns":"auto auto"}},w1={class:"title"},$1={style:{display:"flex",gap:"1rem"}},C1={key:0,class:"fas fa-arrow-up"},k1={key:1,class:"fas fa-arrow-down"},S1={key:2,class:"fas fa-exchange-alt"},L1={key:0,class:"end"},T1=["href"],A1=["href"],P1=["href"],I1=["innerHTML"],V1={key:0},R1={key:1,class:"end"},Do=10,wi=P({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(t){const{t:e}=M(),a=De(),{relativeTime:o}=ft(),n=R(""),l=R(["swap","deposit","withdraw"]),c=w(()=>t.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=w(()=>q.chain(t.txs?t.txs:a.transactions).filter(h=>l.value.includes(h.type)).filter(h=>{const b=n.value.toLocaleLowerCase().split(" "),f=y=>b.some(C=>y.toLocaleLowerCase().includes(C));return f(h.blockNumber.toString())||f(h.trader)||f(h.txHash)}).reverse().value()),{page:r,rowsPage:d,onPage:u}=oa(i,Do),v=h=>{if(f1(h)){const b=h.amountIn.toLocaleString(),f=h.amountOut.toLocaleString(),y=`<span>${b} ${h.tokenIn}</span>`,C="<i class='fas fa-arrow-right'></i>",S=`<span style='justify-self: end;'>${f} ${h.tokenOut}</span>`;return`${y}${C}${S}`}else{if(b1(h))return`${h.amountIn.toLocaleString()} ${h.tokenIn}`;if(g1(h))return`${h.amountOut.toLocaleString()} ${h.tokenOut}`}return"???"},m=h=>{h===0?l.value=["swap","deposit","withdraw"]:h===1?l.value=["swap"]:h===2?l.value=["deposit"]:h===3?l.value=["withdraw"]:l.value=[]};return(h,b)=>{const f=Ye,y=Xe,C=Ie,S=Ke,$=pe;return g(),I($,{class:O(["datatable-trades",{compact:h.compact,time:h.time}]),rows:s(d),columns:s(c)},Cn({row:k(A=>[p("div",{class:O(["type",{deposit:A.item.type==="deposit",withdraw:A.item.type==="withdraw",swap:A.item.type==="swap"}])},[A.item.type==="deposit"?(g(),T("i",C1)):A.item.type==="withdraw"?(g(),T("i",k1)):(g(),T("i",S1)),N(" "+L(s(e)(A.item.type)),1)],2),h.time?(g(),T("div",L1,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${A.item.blockNumber}`,target:"_blank"},L(A.item.blockNumber),9,T1)])):B("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${A.item.txHash}`,target:"_blank",onClick:b[2]||(b[2]=Le(()=>{},["stop"]))},L(s(Ae)(A.item.txHash)),9,A1)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${A.item.trader}`,target:"_blank",onClick:b[3]||(b[3]=Le(()=>{},["stop"]))},L(s(Ae)(A.item.trader)),9,P1)]),p("div",{class:O(["assets",{swap:A.item.type==="swap"}]),innerHTML:v(A.item)},null,10,I1),p("div",{class:O({number:h.time})},[A.item.type==="swap"?(g(),T("span",V1," $"+L(s(q.round)(A.item.fee).toLocaleString()),1)):B("",!0)],2),h.time?(g(),T("div",R1,L(s(o)(A.item.timestamp)),1)):B("",!0)]),_:2},[h.header?{name:"header-content",fn:k(()=>[p("div",y1,[p("div",w1,L(s(e)("title")),1),_(y,{class:"types",onTab:b[0]||(b[0]=A=>m(A.index))},{default:k(()=>[_(f,{header:"All"}),_(f,{header:"Swaps"}),_(f,{header:"Deposits"}),_(f,{header:"Withdrawals"})]),_:1})]),p("div",$1,[_(C,{modelValue:s(n),"onUpdate:modelValue":b[1]||(b[1]=A=>le(n)?n.value=A:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(S,{class:"pagination","items-count":s(i).length,"items-per-page":Do,page:s(r),onPage:s(u)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns"])}}});function qo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},withdraw:{t:0,b:{t:2,i:[{t:3}],s:"Withdraw"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof qo=="function"&&qo(wi);const D1=V(wi,[["__scopeId","data-v-51f50369"]]),$i=P({__name:"TVL",setup(t){const{t:e}=M();let a,o;const n=De(),{theme:l}=E(K()),c=R(null),i=w(()=>n.tvl);ie(()=>{c.value&&(a=pt(c.value,r(c.value)),o=a.addAreaSeries(d()),u(i.value))}),x(i,m=>{u(m)}),x(l,()=>{c.value&&(a.applyOptions(r(c.value)),o.applyOptions(d()))});const r=m=>ae(m,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:h=>v(h)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,lineColor:l.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),u=m=>{if(!a||!o)return;const h=q.chain(m).map(b=>({time:b.timestamp,value:b.tvl})).uniqWith((b,f)=>b.time===f.time).orderBy(b=>b.time,"asc").value();h.length>0&&o.setData(h),a.timeScale().fitContent()},v=m=>`$${Q(m,1,"dollar")}${z(m,"dollar")}`;return(m,h)=>{const b=Z;return g(),I(b,{class:"tvl",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Fo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Fo=="function"&&Fo($i);const q1=V($i,[["__scopeId","data-v-fa6e2a1b"]]),Ci=P({__name:"Bonding",setup(t){const{t:e}=M();let a,o;const n=De(),{theme:l}=E(K()),c=R(null),i=w(()=>n.bonding);ie(()=>{c.value&&(a=pt(c.value,r(c.value)),o=a.addLineSeries(d()),v(i.value))}),x(i,h=>{v(h)}),x(l.value,()=>{c.value&&(a.applyOptions(r(c.value)),o.applyOptions(d()),u())});const r=h=>ae(h,l.value,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:b=>m(b)},localization:{priceFormatter:b=>m(b),timeFormatter:b=>m(b)}}),d=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}),u=()=>{const h=[{time:i.value.balanceCoin1,position:"inBar",color:l.value.colors.yellow,shape:"circle"}];o.setMarkers(h)},v=h=>{if(!a||!o)return;const b=q.chain(h.curve).map(f=>({time:f.x,value:f.y})).value();b.length>0&&(o.setData(b),u()),a.timeScale().fitContent()},m=h=>h<0?"":`${Q(Math.abs(h),0,"dollar")}${z(h,"dollar")}`;return(h,b)=>{const f=Z;return g(),I(f,{class:"bondings",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function Mo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Bonding Curve"}}}})}typeof Mo=="function"&&Mo(Ci);const F1=V(Ci,[["__scopeId","data-v-e02f3468"]]),ki=P({__name:"Balances",setup(t){const{t:e}=M();let a,o=[];const n=De(),{theme:l}=E(K()),c=R(null),i=w(()=>n.balances),r=w(()=>{var f,y;return((y=(f=n.balances[0])==null?void 0:f.balances)==null?void 0:y.length)??0}),{items:d}=Re(()=>n.coins.map(f=>f.name).map((f,y)=>({id:f,label:f,color:l.value.colorsArray[y]})));ie(()=>{c.value&&(a=pt(c.value,u(c.value)),m(),h(i.value))}),x(i,f=>{m(),h(f)}),x(l.value,()=>{if(c.value){a.applyOptions(u(c.value));for(const[f,y]of o.entries())y.applyOptions(v(f))}});const u=f=>ae(f,l.value,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>b(y)}}),v=f=>{const{colorsArray:y}=l.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,color:y[f],lastValueVisible:!1,priceLineVisible:!1}},m=()=>{if(a){for(const f of o)a.removeSeries(f);o=[];for(let f=0;f<r.value;f++){const y=a.addLineSeries(v(f));o.push(y)}}},h=f=>{if(!(!a||o.length<0)){for(let y=0;y<r.value;y++){const C=q.chain(f).map(S=>({time:S.timestamp,value:S.balances[y]})).uniqWith((S,$)=>S.time===$.time).orderBy(S=>S.time,"asc").value();C.length>0&&o[y].setData(C)}a.timeScale().fitContent()}},b=f=>`${Q(f,1,"dollar")}${z(f,"dollar")}`;return(f,y)=>{const C=Ve,S=Z;return g(),I(S,{class:"balances",title:s(e)("title")},{default:k(()=>[_(C,{items:s(d)},null,8,["items"]),p("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"])}}});function xo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Balances"}}}})}typeof xo=="function"&&xo(ki);const M1=V(ki,[["__scopeId","data-v-f484aec2"]]),Si=P({__name:"Prices",setup(t){const{t:e}=M();let a,o,n,l=1,c=0;const i=De(),{theme:r}=E(K()),d=R(null),u=w(()=>i.prices),v=w(()=>i.volumes);ie(()=>{d.value&&(a=pt(d.value,m(d.value)),o=a.addAreaSeries(h()),n=a.addHistogramSeries(b()),f(u.value),y(v.value))}),x(u,S=>{f(S)}),x(v,S=>{y(S)}),x(r.value,()=>{d.value&&(a.applyOptions(m(d.value)),o.applyOptions(h()),n.applyOptions(b()))});const m=S=>ae(S,r.value,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:$=>C($)}}),h=()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ve.WithSteps,lineColor:r.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}),b=()=>({color:r.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),f=S=>{if(!a||!o)return;const $=q.chain(S).map(A=>({time:A.timestamp,value:A.value})).uniqWith((A,D)=>A.time===D.time).orderBy(A=>A.time,"asc").value();if($.length>0){o.setData($);const A=$[0].time,D=$[$.length-1].time;a.timeScale().setVisibleRange({from:A,to:D}),c=Math.min(...$.map(U=>U.value)),l=Math.max(...$.map(U=>U.value))}},y=S=>{if(!a||!n)return;const $=q.chain(S).map(A=>({time:A.timestamp,value:A.volume})).uniqWith((A,D)=>A.time===D.time).orderBy(A=>A.time,"asc").value();$.length>0&&n.setData($)},C=S=>{const $=l-c,A=$>1?$-Math.floor($):$,D=-Math.floor(Math.log10(A)+1)+2;return`${Q(S,D,"dollar")}${z(S,"dollar")}`};return(S,$)=>{const A=Z;return g(),I(A,{class:"prices",title:s(e)("title")},{default:k(()=>[p("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"])}}});function Bo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof Bo=="function"&&Bo(Si);const x1=V(Si,[["__scopeId","data-v-343245bd"]]),B1={class:"curve-monitor"},O1={key:0,class:"data"},Oo="https://ws.llama.airforce:2053",U1=P({__name:"Monitor.page",setup(t){const e=S0(Oo),a=new gp(e),o=Be(),n=De();n.socket=e;const l=$e("pool"),c=w(()=>n.pool!==null);let i="";ie(async()=>{await d(l.value),e.connect()});const r=async(u,v)=>{var m;i!==u.id&&(n.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(m=n.socketPool)==null||m.close(),n.socketPool=A0(n,Oo,n.pool.id),i=n.pool.id,v&&await o.push({name:"curvemonitor",params:{pool:n.pool.id}}))},d=async u=>{u&&typeof u=="string"&&await r({id:u,name:"???"},!1)};return x(()=>n.pool,async u=>{u&&await r(u,!0)}),x(l,async u=>{await d(u)}),(u,v)=>(g(),T("div",B1,[_(Y0,{class:"header","pool-service":s(a)},null,8,["pool-service"]),s(c)?(g(),T("div",O1,[_(_1,{class:"controls"}),_(x1,{class:"prices"}),_(D1,{class:"transactions"}),_(M1,{class:"balances"}),_(q1,{class:"tvl"}),_(F1,{class:"bonding"})])):B("",!0)]))}}),E1=V(U1,[["__scopeId","data-v-ed51d0ff"]]);class Li{constructor(e){this.socket=e}search(e){const a=new Promise(o=>{this.socket.once("userSearchResult",n=>{o(n)})});return this.socket.emit("getUserSearchResult",e),a}getSandwichLabelOccurrences(){const e=new Promise(a=>{this.socket.once("sandwichLabelOccurrences",o=>{a(o)})});return this.socket.emit("getSandwichLabelOccurrences"),e}getAbsoluteLabelsRanking(){const e=new Promise(a=>{this.socket.once("absoluteLabelsRanking",o=>{a(o)})});return this.socket.emit("getAbsoluteLabelsRanking"),e}getSandwiches(e=1){const a=new Promise(o=>{this.socket.once("fullSandwichTableContent",({data:n,totalPages:l})=>{o({sandwiches:n,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",e),a}}const la=je("mevStore",()=>{const t=R(null),e=R([]),a=R({cur:0,total:0}),o=R([]),n=R([]);return{socket:t,sandwiches:e,sandwichesPage:a,labelRankingShort:o,labelRankingExtended:n}}),W1=P({__name:"LabelsWorstRelative",setup(t){const e=la(),{theme:a}=E(K()),o=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,u)=>u.ratio-d.ratio).slice(0,10),n=w(()=>o(e.labelRankingExtended).map(r=>r.label)),l=w(()=>o(e.labelRankingExtended).map(r=>r.ratio)),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Ratio: ${i(u)}</div>`].join("")}},labels:n.value})),i=r=>`${r}%`;return(r,d)=>{const u=he;return g(),I(u,{class:"mevLabels",title:"Worst relative offenders",options:s(c),series:s(l)},null,8,["options","series"])}}}),H1=V(W1,[["__scopeId","data-v-ef13fd95"]]),K1=P({__name:"LabelsWorstAbsolute",setup(t){const e=la(),{theme:a}=E(K()),o=r=>r.filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,u)=>u.occurrences-d.occurrences).slice(0,10),n=w(()=>o(e.labelRankingExtended).map(r=>r.label)),l=w(()=>o(e.labelRankingExtended).map(r=>r.occurrences)),c=w(()=>re(a.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const d=r.w.globals.labels[r.seriesIndex],u=r.series[r.seriesIndex];return[`<div><b>${d}</b>:</div><div>Occurences: ${i(u)}</div>`].join("")}},labels:n.value})),i=r=>`${r}`;return(r,d)=>{const u=he;return g(),I(u,{class:"mevLabels",title:"Worst absolute offenders",options:s(c),series:s(l)},null,8,["options","series"])}}}),N1=V(K1,[["__scopeId","data-v-1a5bc38b"]]),z1={style:{display:"grid","grid-template-columns":"auto auto"}},Q1={class:"title"},j1={style:{display:"flex",gap:"1rem"}},G1={key:0,class:"fas fa-arrow-up"},X1={key:1,class:"fas fa-arrow-down"},Y1={key:2,class:"fas fa-exchange-alt"},Z1={key:0,class:"end"},J1=["href"],ey=["href"],ty=["href"],ay=["innerHTML"],sy={key:1,class:"end"},Uo=10,Ti=P({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(t){const{t:e}=M(),{relativeTime:a}=ft(),o=R(""),n=R(["swap","deposit","remove"]),l=w(()=>t.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),c=w(()=>q.chain(t.txs).filter(m=>n.value.includes(m.transaction_type)).filter(m=>{const h=o.value.toLocaleLowerCase().split(" "),b=f=>h.some(y=>f.toLocaleLowerCase().includes(y));return b(m.block_number.toString())||b(m.trader)||b(m.tx_hash)}).value()),{page:i,rowsPage:r,onPage:d}=oa(c,Uo),u=m=>{if(m.transaction_type==="swap"){const h=m.coins_leaving_wallet[0],b=m.coins_entering_wallet[0],f=Qe(parseFloat(h.amount)),y=Qe(parseFloat(b.amount)),C=`<span>${f} ${h.name}</span>`,S="<i class='fas fa-arrow-right'></i>",$=`<span style='justify-self: end;'>${y} ${b.name}</span>`;return`${C}${S}${$}`}else if(m.transaction_type==="deposit"){const h=m.coins_entering_wallet[0];return`${Qe(parseFloat(h.amount))} ${h.name}`}else if(m.transaction_type==="remove"){const h=m.coins_leaving_wallet[0];return`${Qe(parseFloat(h.amount))} ${h.name}`}return"???"},v=m=>{m===0?n.value=["swap","deposit","remove"]:m===1?n.value=["swap"]:m===2?n.value=["deposit"]:m===3?n.value=["remove"]:n.value=[]};return(m,h)=>{const b=Ye,f=Xe,y=Ie,C=Ke,S=pe;return g(),I(S,{class:O(["datatable-trades",{compact:m.compact,time:m.time}]),rows:s(r),columns:s(l),header:m.header},Cn({row:k($=>[p("div",{class:O(["type",{deposit:$.item.transaction_type==="deposit",remove:$.item.transaction_type==="remove",swap:$.item.transaction_type==="swap"}])},[$.item.transaction_type==="deposit"?(g(),T("i",G1)):$.item.transaction_type==="remove"?(g(),T("i",X1)):(g(),T("i",Y1)),N(" "+L(s(e)($.item.transaction_type)),1)],2),m.time?(g(),T("div",Z1,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${$.item.block_number}`,target:"_blank"},L($.item.block_number),9,J1)])):B("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${$.item.tx_hash}`,target:"_blank",onClick:h[2]||(h[2]=Le(()=>{},["stop"]))},L(s(Ae)($.item.tx_hash)),9,ey)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.trader}`,target:"_blank",onClick:h[3]||(h[3]=Le(()=>{},["stop"]))},L(s(Ae)($.item.trader)),9,ty)]),p("div",{class:O(["assets",{swap:$.item.transaction_type==="swap"}]),innerHTML:u($.item)},null,10,ay),m.time?(g(),T("div",sy,L(s(a)($.item.block_unixtime)),1)):B("",!0)]),_:2},[m.header?{name:"header-content",fn:k(()=>[p("div",z1,[p("div",Q1,L(s(e)("title")),1),_(f,{class:"types",onTab:h[0]||(h[0]=$=>v($.index))},{default:k(()=>[_(b,{header:"All"}),_(b,{header:"Swaps"}),_(b,{header:"Deposits"}),_(b,{header:"Removals"})]),_:1})]),p("div",j1,[_(y,{modelValue:s(o),"onUpdate:modelValue":h[1]||(h[1]=$=>le(o)?o.value=$:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),_(C,{class:"pagination","items-count":s(c).length,"items-per-page":Uo,page:s(i),onPage:s(d)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["class","rows","columns","header"])}}});function Eo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},remove:{t:0,b:{t:2,i:[{t:3}],s:"Remove"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Eo=="function"&&Eo(Ti);const oy=V(Ti,[["__scopeId","data-v-872243c1"]]),ny={class:"title"},ly={style:{display:"flex",gap:"1rem"}},iy=["href"],ry={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},cy=["href"],uy={class:"end"},fa=10,Ai=P({__name:"Sandwiches",setup(t){const{t:e}=M(),a=la(),{expanded:o,toggleExpansion:n}=Ea(),{relativeTime:l}=ft(),c=R(""),i=w(()=>a.sandwichesPage.cur),r=w(()=>a.sandwichesPage.total*fa),d=w(()=>q.chain(a.sandwiches).filter(m=>{const h=c.value.toLocaleLowerCase().split(" "),b=f=>h.some(y=>f.toLocaleLowerCase().includes(y));return b(m.poolName.toString())||b(m.poolAddress.toString())||b(m.label.toString())}).orderBy([m=>m.frontrun.block_unixtime,m=>m.frontrun.tx_position],"desc").value()),u=m=>q.orderBy([m.frontrun,...m.center,m.backrun],[h=>h.block_unixtime,h=>h.tx_position]),v=async m=>{if(!a.socket)return;const h=new Li(a.socket),{sandwiches:b,totalPages:f}=await h.getSandwiches(m);a.sandwiches=b,a.sandwichesPage={cur:m,total:f}};return(m,h)=>{const b=Ie,f=Ke,y=pe;return g(),I(y,{class:"datatable-sandwiches",rows:s(d),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:s(o),onSelected:h[1]||(h[1]=C=>s(n)(C))},{"header-content":k(()=>[p("div",ny,L(s(e)("title")),1),p("div",ly,[_(b,{modelValue:s(c),"onUpdate:modelValue":h[0]||(h[0]=C=>le(c)?c.value=C:null),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"]),s(r)>fa?(g(),I(f,{key:0,class:"pagination","items-count":s(r),"items-per-page":fa,page:s(i),onPage:v},null,8,["items-count","page"])):B("",!0)])]),row:k(C=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${C.item.poolAddress}`,target:"_blank"},L(C.item.poolName),9,iy)]),p("div",null,[p("div",ry,[p("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${C.item.center[0].trader}`},L(s(Ae)(C.item.center[0].trader)),9,cy),p("span",null," lost "+L(s(Qe)(C.item.user_losses_details.reduce((S,$)=>S+$.amount,0)))+" "+L(C.item.user_losses_details[0].unit),1),p("span",null,L(s(Qe)(-C.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+L(s(Qe)(C.item.lossInUsd)),1)])]),p("div",null,L(C.item.label),1),p("div",uy,L(s(l)(C.item.frontrun.block_unixtime)),1)]),"row-details":k(C=>[_(oy,{class:"transactions",txs:u(C.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])}}});function Wo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Sandwiches"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Wo=="function"&&Wo(Ai);const dy=V(Ai,[["__scopeId","data-v-7de2e4f6"]]),py={class:"mev"},my="wss://api.curvemonitor.com",vy=P({__name:"MEV.page",setup(t){const e=T0(my),a=new Li(e),o=la();return o.socket=e,ie(()=>{e.connect(),a.getSandwichLabelOccurrences().then(n=>{o.labelRankingExtended=n}),a.getSandwiches().then(n=>{o.sandwiches=n.sandwiches,o.sandwichesPage={cur:1,total:n.totalPages}})}),(n,l)=>(g(),T("div",py,[_(H1,{style:{"grid-row":"1","grid-column":"1"}}),_(N1,{style:{"grid-row":"1","grid-column":"2"}}),_(dy,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}}),hy=V(vy,[["__scopeId","data-v-af19cb5f"]]),_y=["all","ownership","parameter","other"];function rt(t){return t.executed?"executed":t.end>new Date().getTime()/1e3?"active":Vi(t)&&Ii(t)&&Pi(t)?"passed":"denied"}function Pi(t){return t.votesFor>t.support*t.quorum*t.totalSupply}function Ii(t){return t.votesFor>t.quorum*t.totalSupply}function Vi(t){return t.votesFor>t.votesAgainst}const Ri=t=>{var f;const e=t.vote_id,a=t.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(f=t.metadata)!=null&&f.startsWith('"')?t.metadata.substring(1):t.metadata??"",n=t.creator.toLocaleLowerCase(),l=t.snapshot_block,c=t.start_date,i=c+604800,r=We(BigInt(t.min_accept_quorum),18n),d=We(BigInt(t.support_required),18n),u=t.vote_count,v=We(BigInt(t.votes_for),18n),m=We(BigInt(t.votes_against),18n),h=t.executed,b=We(BigInt(t.total_supply),18n);return{id:e,type:a,metadata:o,proposer:n,block:l,start:c,end:i,quorum:r,support:d,voteCount:u,votesFor:v,votesAgainst:m,executed:h,totalSupply:b}},fy=t=>{const e=Ri(t),a=t.script,o=t.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:We(BigInt(n.voting_power),18n)}));return{...e,script:a,votes:o}},Ho="https://prices.curve.fi";class by extends ke{async getProposals(e,a,o,n){const l=await this.fetch(`${Ho}/v1/dao/proposals?pagination=10&page=${e}&search_string=${a}&type_filter=${o}&status_filter=${n}`);return{proposals:l.proposals.map(Ri),count:l.count}}async getProposal(e,a){const o=await this.fetch(`${Ho}/v1/dao/proposals/details/${a}/${e}`);return fy(o)}}const Di=new by;function qi(t,e,a){return Y({queryKey:["curve-proposal",t,e],queryFn:({queryKey:[,o,n]})=>Di.getProposal(o,n),...a&&{enabled:a}})}function gy(t,e,a,o){return Y({queryKey:["curve-proposals",t,o,e,a],queryFn:({queryKey:[,n,l,c,i]})=>Di.getProposals(n,l,c,i),placeholderData:Yt})}const Fi=P({__name:"Status",props:{proposal:{}},setup(t){const{t:e}=M(),a=w(()=>{if(rt(t.proposal)==="denied")if(Ii(t.proposal))if(Vi(t.proposal)){if(!Pi(t.proposal))return e("no-support")}else return e("no-win");else return e("no-quorum");return""}),o=w(()=>{switch(rt(t.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(n,l)=>{const c=It,i=ge;return g(),I(i,{class:"status","tooltip-type":"underline",label:s(e)("status"),"has-value":!0,tooltip:s(a)},{default:k(()=>[s(a)?(g(),I(c,{key:0},{item:k(()=>[p("span",{class:O(["status-value",s(rt)(n.proposal)])},L(s(o)),3)]),default:k(()=>[N(" "+L(s(a)),1)]),_:1})):(g(),T("span",{key:1,class:O(["status-value",s(rt)(n.proposal)])},L(s(o)),3))]),_:1},8,["label","tooltip"])}}});function Ko(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached (yes votes need to pass this number)"}},"no-support":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was reached and 'for' won, but not enough for support"}},"no-win":{t:0,b:{t:2,i:[{t:3}],s:"More 'against' votes than 'for' votes"}}}})}typeof Ko=="function"&&Ko(Fi);const yy=V(Fi,[["__scopeId","data-v-9e86fade"]]),Mi=P({__name:"Type",props:{proposal:{}},setup(t){const{t:e}=M(),a=w(()=>{switch(t.proposal.type){case"ownership":return e("ownership");case"parameter":return e("parameter");case"other":return e("other");default:return"Unk. Type"}});return(o,n)=>{const l=ge;return g(),I(l,{class:"type",label:s(e)("type"),value:s(a),"has-value":!0},null,8,["label","value"])}}});function No(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{type:{t:0,b:{t:2,i:[{t:3}],s:"Type"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof No=="function"&&No(Mi);const wy=["href"],xi=P({__name:"Proposer",props:{proposal:{}},setup(t){const{t:e}=M();return(a,o)=>{const n=ge;return g(),I(n,{class:"proposer",label:s(e)("proposer"),"has-value":!0},{default:k(()=>[p("a",{href:`https://etherscan.io/address/${a.proposal.proposer}`,target:"_blank"},L(s(Ae)(a.proposal.proposer)),9,wy)]),_:1},8,["label"])}}});function zo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof zo=="function"&&zo(xi);const wa=P({__name:"Date",props:{proposal:{},type:{}},setup(t){const{t:e}=M();let a;const o=R(""),n=w(()=>{switch(t.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),l=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(t.proposal.end*1e3);return r>new Date?o.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=w(()=>{switch(t.type){case"start":return new Date(t.proposal.start*1e3).toLocaleDateString()+" "+new Date(t.proposal.start*1e3).toTimeString();case"end":return new Date(t.proposal.end*1e3).toLocaleDateString()+" "+new Date(t.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});ie(()=>{i()});const i=()=>{const r=new Date(t.proposal.end*1e3);a&&clearInterval(a),a=setInterval(()=>{o.value=Mc(r)})};return(r,d)=>{const u=ge;return g(),I(u,{class:"date","tooltip-type":"underline",label:s(n),value:s(l),"has-value":!0,tooltip:s(c)},null,8,["label","value","tooltip"])}}});function Qo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof Qo=="function"&&Qo(wa);const Bi=t=>(ue("data-v-88e3f7d0"),t=t(),de(),t),$y=Bi(()=>p("i",{class:"fas fa-link"},null,-1)),Cy={class:"metadata"},ky={class:"row"},Sy=Bi(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),Ly=[Sy],Oi=P({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(t,{emit:e}){const{t:a}=M(),o=e,n=w(()=>`/dao/proposal/${t.proposal.type}/${t.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${t.proposal.type}/${t.proposal.id}`)};return(c,i)=>{const r=ct("router-link");return g(),T("div",{class:"proposal-summary",onClick:i[0]||(i[0]=d=>o("toggleExpand"))},[p("div",{class:O(["title",{"no-title":!c.proposal.metadata}])},[_(r,{to:s(n),class:"id",onClick:l},{default:k(()=>[$y,N(" "+L(c.proposal.id),1)]),_:1},8,["to"]),p("div",Cy,L(c.proposal.metadata||s(a)("no-title")),1)],2),p("div",ky,[_(yy,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(Mi,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(xi,{class:"item",proposal:c.proposal},null,8,["proposal"]),_(wa,{class:"item",proposal:c.proposal,type:"start"},null,8,["proposal"]),_(wa,{class:"item",proposal:c.proposal,type:"end"},null,8,["proposal"]),p("div",{class:O(["item expander",{expanded:c.expanded}])},Ly,2)])])}}});function jo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof jo=="function"&&jo(Oi);const Ty=V(Oi,[["__scopeId","data-v-88e3f7d0"]]),wt=t=>(ue("data-v-d48830ac"),t=t(),de(),t),Ay={class:"results"},Py={class:"heading"},Iy={class:"choice"},Vy={class:"label"},Ry={class:"amount"},Dy={class:"left"},qy=wt(()=>p("span",null," veCRV",-1)),Fy={class:"right"},My=wt(()=>p("span",null,"(",-1)),xy=wt(()=>p("span",null,")",-1)),By={class:"choice"},Oy={class:"label"},Uy={class:"amount"},Ey={class:"left"},Wy=wt(()=>p("span",null," veCRV",-1)),Hy={class:"right"},Ky=wt(()=>p("span",null,"(",-1)),Ny=wt(()=>p("span",null,")",-1)),Go=4,Ui=P({__name:"VotingResults",props:{proposal:{}},setup(t){const{t:e}=M(),a=w(()=>t.proposal.votesFor+t.proposal.votesAgainst),o=w(()=>t.proposal.votesFor/a.value*100),n=w(()=>t.proposal.votesAgainst/a.value*100);return(l,c)=>{const i=te;return g(),T("div",Ay,[p("div",Py,L(s(e)("results")),1),p("div",Iy,[p("div",Vy,L(s(e)("for")),1),p("div",Ry,[p("div",Dy,[_(i,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),qy]),p("div",Fy,[My,_(i,{value:s(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),xy])]),p("div",{class:"bar",style:Se({width:`${Math.max(Go,s(o))}%`})},null,4)]),p("div",By,[p("div",Oy,L(s(e)("against")),1),p("div",Uy,[p("div",Ey,[_(i,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Wy]),p("div",Hy,[Ky,_(i,{value:s(n),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Ny])]),p("div",{class:"bar",style:Se({width:`${Math.max(Go,s(n))}%`})},null,4)])])}}});function Xo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{results:{t:0,b:{t:2,i:[{t:3}],s:"Results"}},for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Xo=="function"&&Xo(Ui);const zy=V(Ui,[["__scopeId","data-v-d48830ac"]]),Qy=t=>(ue("data-v-7c213e10"),t=t(),de(),t),jy={class:"quorum"},Gy={class:"heading"},Xy={class:"amount"},Yy={class:"bar"},Zy={class:"percentages"},Jy=Qy(()=>p("div",{class:"zero"},"0%",-1)),e2={class:"quorum"},Ei=P({__name:"VotingQuorum",props:{proposal:{}},setup(t){const{t:e}=M(),a=w(()=>t.proposal.votesFor),o=w(()=>t.proposal.quorum*t.proposal.totalSupply),n=w(()=>a.value/o.value*100);return(l,c)=>{const i=te;return g(),T("div",jy,[p("div",Gy,L(s(e)("quorum")),1),p("div",Xy,[_(i,{value:s(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),N(" / "),_(i,{value:s(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),N(" veCRV ")]),p("div",Yy,[p("div",{class:"support",style:Se({width:`${s(n)}%`})},null,4),p("div",{class:"quorum",style:Se({width:`${100-s(n)}%`})},null,4)]),p("div",Zy,[Jy,p("div",e2,[_(i,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Yo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Yo=="function"&&Yo(Ei);const t2=V(Ei,[["__scopeId","data-v-7c213e10"]]),a2=["min","max"],s2=P({__name:"Slider",props:xe({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(t){const e=dt(t,"modelValue",{set(a){return Number(a)}});return(a,o)=>Sa((g(),T("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>e.value=n),type:"range",min:a.min,max:a.max},null,8,a2)),[[$n,e.value]])}}),o2=V(s2,[["__scopeId","data-v-e358da62"]]),n2=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],at=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],l2={class:"buttons"},i2={class:"vecrv"},r2={class:"info"},c2={class:"kpis"},u2={class:"description"},d2={class:"title"},p2={class:"options"},m2={class:"label"},v2={class:"middle"},h2=["contenteditable","textContent"],_2={class:"label"},Wi=P({__name:"VotingButtons",props:{proposal:{}},setup(t){const{t:e}=M(),{address:a}=Pt(),o=R(!1),n=R(50),l=R(null),c=R(!1),i=w(()=>{var ee;return c.value?`${n.value}.`:n.value===0&&!c.value&&((ee=l.value)==null?void 0:ee.textContent)!=="0"?"":n.value.toString()}),r=w(()=>(D.value??0n)>0n&&!fe.value&&v.value&&A.value===0),d=w(()=>r.value?"submit":fe.value?"voting":v.value?A.value!==0?"voted":"not-enough-voting-power":"voting-closed"),u=w(()=>We(D.value??0n,18n)),v=w(()=>rt(t.proposal)==="active"),m=w(()=>rt(t.proposal)==="passed"),h=()=>{const ee=window.getSelection();return ee&&ee.rangeCount>0?ee.getRangeAt(0).startOffset:0},b=ee=>{if(l.value){const be=document.createRange();be.setStart(l.value.firstChild??l.value,ee),be.collapse(!0);const ye=window.getSelection();ye&&(ye.removeAllRanges(),ye.addRange(be))}},f=()=>{n.value=0,l.value&&(l.value.textContent="0")},y=()=>{n.value=100,l.value&&(l.value.textContent="100")},C=ee=>{ee.target===ee.currentTarget&&l.value&&l.value.focus()},S=()=>{if(l.value){const ee=l.value.textContent??"",be=h();if(/^\d*(\.\d*)?$/.test(ee))if(c.value=ee.endsWith("."),ee){const ye=parseFloat(ee);ye>=0&&ye<=100?n.value=ye:(l.value.textContent=i.value,b(be-1))}else n.value=0;else l.value.textContent=i.value,b(be-1)}},{data:$}=Ct({abi:at,address:Je,functionName:"token",query:{enabled:o}}),{data:A}=Ct({abi:at,address:Je,functionName:"getVoterState",args:w(()=>[BigInt(t.proposal.id),a.value]),query:{enabled:w(()=>!!a.value&&o.value),initialData:0,initialDataUpdatedAt:0}}),{data:D}=Ct({abi:n2,address:$,functionName:"balanceOfAt",args:w(()=>[a.value,BigInt(t.proposal.block)]),query:{enabled:w(()=>!!$.value&&!!a.value&&o.value),initialData:0n,initialDataUpdatedAt:0}}),{data:U,refetch:F}=Ct({abi:at,address:Je,functionName:"canExecute",args:[BigInt(t.proposal.id)],query:{enabled:w(()=>m.value&&o.value),initialData:!1,initialDataUpdatedAt:0}}),{data:W}=Ct({abi:at,address:Je,functionName:"PCT_BASE",query:{enabled:o}}),{data:oe,error:j,isPending:X,writeContract:J}=ja(),{isLoading:ce,isSuccess:G}=Ga({hash:oe}),fe=w(()=>X.value||ce.value);function Ne(){if(!W.value){Ee({text:zt("Missing PCT_BASE"),type:"error"});return}const ee=BigInt(Math.log10(Number(W.value))),be=Ia(n.value/100,ee),ye=W.value-be;J({abi:at,address:Je,functionName:"votePct",args:[BigInt(t.proposal.id),be,ye,!1]})}x(j,ee=>{ee&&Ee({text:zt(ee),type:"error"})}),x(G,ee=>{ee&&Ee({text:"Voted",type:"success"})});const{data:$t,error:ia,isPending:rr,writeContract:cr}=ja(),{isLoading:ur,isSuccess:dr}=Ga({hash:$t}),za=w(()=>rr.value||ur.value);function pr(){cr({abi:at,address:Je,functionName:"executeVote",args:[BigInt(t.proposal.id)]}),F()}return x(ia,ee=>{ee&&Ee({text:zt(ee),type:"error"})}),x(dr,ee=>{ee&&Ee({text:"Executed proposal",type:"success"})}),(ee,be)=>{const ye=Pe,mr=te,Qa=ge,vr=o2,hr=Z,_r=Ra;return g(),T(ne,null,[p("div",l2,[_(ye,{value:s(e)("vote"),primary:!0,onClick:be[0]||(be[0]=ra=>o.value=!0)},null,8,["value"]),s(m)?(g(),I(ye,{key:0,value:s(e)(s(za)?"executing":"execute"),primary:!0,disabled:!s(U)||s(za),onClick:pr},null,8,["value","disabled"])):B("",!0)]),_(_r,{show:s(o),onClose:be[2]||(be[2]=ra=>o.value=!1)},{default:k(()=>[_(hr,{title:s(e)("vote-with-vecrv"),class:"vote-content"},{default:k(()=>[p("div",i2,[p("div",r2,[p("div",c2,[_(Qa,{label:s(e)("voting-power"),"has-value":!0},{default:k(()=>[_(mr,{value:s(u),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),N(" veCRV ")]),_:1},8,["label"]),_(Qa,{label:s(e)("block"),value:ee.proposal.block,"has-value":!0},null,8,["label","value"])]),p("div",u2,[p("span",d2,L(s(e)("description"))+": ",1),p("span",null,L(ee.proposal.metadata),1)])]),p("div",p2,[_(ye,{class:O(["no",{winning:s(n)<50}]),disabled:!s(r),onClick:f},{default:k(()=>[p("span",m2,L(s(e)("no")),1)]),_:1},8,["class","disabled"]),p("div",v2,[p("i",{class:O(["fas fa-times",{winning:s(n)<50}])},null,2),p("div",{class:O(["value",{disabled:!s(r)}]),onClick:C},[p("span",{ref_key:"editor",ref:l,contenteditable:s(r),onInput:S,textContent:L(s(i))},null,40,h2),N(" % ")],2),p("i",{class:O(["fas fa-check",{winning:s(n)>50}])},null,2)]),_(ye,{class:O(["yes",{winning:s(n)>50}]),disabled:!s(r),onClick:y},{default:k(()=>[p("span",_2,L(s(e)("yes")),1)]),_:1},8,["class","disabled"])]),_(vr,{modelValue:s(n),"onUpdate:modelValue":be[1]||(be[1]=ra=>le(n)?n.value=ra:null),class:"slider",disabled:!s(r),min:0,max:100},null,8,["modelValue","disabled"]),_(ye,{class:"submit",value:s(e)(s(d)),primary:!0,disabled:!s(r),web3:!0,onClick:Ne},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function Zo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-vecrv":{t:0,b:{t:2,i:[{t:3}],s:"Vote with veCRV"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough veCRV voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof Zo=="function"&&Zo(Wi);const f2=V(Wi,[["__scopeId","data-v-8fec8e74"]]),b2={class:"voting"},g2=P({__name:"Voting",props:{proposal:{}},setup(t){return(e,a)=>(g(),T("div",b2,[_(t2,{proposal:e.proposal},null,8,["proposal"]),_(zy,{proposal:e.proposal},null,8,["proposal"]),_(f2,{proposal:e.proposal},null,8,["proposal"])]))}}),y2=V(g2,[["__scopeId","data-v-35456808"]]),w2={class:"voters"},$2={class:"for"},C2={class:"title"},k2={class:"address"},S2=["href"],L2={class:"amount"},T2={class:"percentage"},A2={class:"against"},P2={class:"title"},I2={class:"percentage"},V2={class:"amount"},R2={class:"address"},D2=["href"],Hi=P({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(t){const{t:e}=M(),{address:a}=Pt(),o=w(()=>t.proposalDetails?q.chain(t.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.votingPower,"desc").value():null),n=w(()=>t.proposalDetails?q.chain(t.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Ae(r,12),c=r=>r/(t.proposal.votesFor+t.proposal.votesAgainst)*100,i=r=>r===a.value;return(r,d)=>{const u=te;return g(),T("div",w2,[p("div",$2,[p("div",C2,L(s(e)("for")),1),(g(!0),T(ne,null,_e(s(o),v=>(g(),T("div",{key:v.voter,class:"vote"},[p("div",k2,[p("a",{target:"_blank",href:`https://etherscan.io/address/${v.voter}`,class:O({you:i(v.voter)})},L(l(v.voter)),11,S2)]),p("div",L2,[_(u,{value:v.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",T2,[_(u,{value:c(v.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),p("div",A2,[p("div",P2,L(s(e)("against")),1),(g(!0),T(ne,null,_e(s(n),v=>(g(),T("div",{key:v.voter,class:"vote"},[p("div",I2,[_(u,{value:c(v.votingPower),precision:0,type:"percentage"},null,8,["value"])]),p("div",V2,[_(u,{value:v.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",R2,[p("a",{target:"_blank",href:`https://etherscan.io/address/${v.voter}`,class:O({you:i(v.voter)})},L(l(v.voter)),11,D2)])]))),128))])])}}});function Jo(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Jo=="function"&&Jo(Hi);const q2=V(Hi,[["__scopeId","data-v-091c77d3"]]),F2={class:"technicals"},M2={class:"technical"},x2={class:"heading"},B2={class:"description"},O2={class:"technical"},U2={class:"technical"},E2=["innerHTML"],Ki=P({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){const{t:e}=M(),a=R(!0),o=R(t.proposal.voteCount>0),{data:n}=qi(H(()=>t.proposal.id),H(()=>t.proposal.type),H(()=>t.expanded)),l=w(()=>n.value?q.uniqWith(n.value.votes,(i,r)=>i.voter===r.voter).length:null),c=w(()=>n.value?n.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&Aa(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i):null);return(i,r)=>{const d=At;return g(),T("div",F2,[p("div",M2,[p("div",x2,L(s(e)("description")),1),p("div",B2,L(i.proposal.metadata),1)]),p("div",O2,[p("div",{class:"heading",onClick:r[0]||(r[0]=u=>o.value=!s(o))},[N(L(s(e)("voters"))+" ("+L(s(l)??"?")+") ",1),p("i",{class:O(["fas fa-chevron-up expander",{expandedVoters:s(o)}])},null,2)]),_(d,{expanded:s(o)},{default:k(()=>[s(n)?(g(),I(q2,{key:0,class:"voters",proposal:i.proposal,"proposal-details":s(n)},null,8,["proposal","proposal-details"])):B("",!0)]),_:1},8,["expanded"])]),p("div",U2,[p("div",{class:"heading",onClick:r[1]||(r[1]=u=>a.value=!s(a))},[N(L(s(e)("calldata"))+" ",1),p("i",{class:O(["fas fa-chevron-up expander",{expandedCallData:s(a)}])},null,2)]),_(d,{expanded:s(a)},{default:k(()=>[s(n)?(g(),T("div",{key:0,class:"calldata",innerHTML:s(c)},null,8,E2)):B("",!0)]),_:1},8,["expanded"])])])}}});function en(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof en=="function"&&en(Ki);const W2=V(Ki,[["__scopeId","data-v-15f6af53"]]),H2={class:"proposal-details"},K2={class:"proposal-details-container"},N2=P({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(t){return(e,a)=>(g(),T("div",H2,[p("div",K2,[_(W2,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),_(y2,{proposal:e.proposal},null,8,["proposal"])])]))}}),z2=V(N2,[["__scopeId","data-v-7028e69e"]]),Q2=P({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(t){const e=R(t.initExpanded);return(a,o)=>{const n=At,l=Z;return g(),I(l,{class:"proposal",compact:!0},{default:k(()=>[_(Ty,{proposal:a.proposal,expanded:s(e),onToggleExpand:o[0]||(o[0]=c=>e.value=!s(e))},null,8,["proposal","expanded"]),_(n,{class:"proposal-details-collapsible",expanded:s(e)},{default:k(()=>[_(z2,{proposal:a.proposal,expanded:s(e)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),Ni=V(Q2,[["__scopeId","data-v-acab9946"]]),j2={class:"item"},G2={class:"label"},zi=P({__name:"ProposalTypeSelect",emits:["select"],setup(t,{emit:e}){const{t:a}=M(),o=[..._y].filter(d=>d!=="other"),n=e,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=d=>{c.value=d,n("select",c.value)};return(d,u)=>{const v=vt;return g(),I(v,{class:"select",options:s(o).map(m=>m),selected:s(c),open:s(l),onOpen:i,onClose:u[0]||(u[0]=m=>l.value=!1),onInput:r},{item:k(m=>[p("div",j2,[p("div",G2,L(s(a)(m.item)),1)])]),_:1},8,["options","selected","open"])}}});function tn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof tn=="function"&&tn(zi);const X2=V(zi,[["__scopeId","data-v-3d847865"]]),Y2={class:"proposals"},Z2={class:"filters"},J2={style:{display:"flex",gap:"1rem"}},ew={class:"proposals-content"},tw={key:0},Qi=P({__name:"Proposals.page",setup(t){const{t:e}=M(),a=R(0),{page:o,onPage:n}=Oa(),l=jt(o,200),c=R(e("search-placeholder")),i=R(""),r=jt(i,300),d=R("all"),u=w(()=>{switch(a.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),v=w(()=>r.value.toLocaleLowerCase()),m=w(()=>{var C;return((C=f.value)==null?void 0:C.count)??0}),h=w(()=>{var C;return q.orderBy(((C=f.value)==null?void 0:C.proposals)??[],S=>S.start,"desc")}),{isFetching:b,data:f}=gy(l,d,u,v),y=C=>{d.value=C};return(C,S)=>{const $=Ye,A=Xe,D=Ie,U=Ke,F=He;return g(),T("div",Y2,[_(A,{onTab:S[0]||(S[0]=W=>a.value=W.index)},{default:k(()=>[_($,{header:s(e)("all")},null,8,["header"]),_($,{header:s(e)("active")},null,8,["header"]),_($,{header:s(e)("passed")},null,8,["header"]),_($,{header:s(e)("denied")},null,8,["header"]),_($,{header:s(e)("executed")},null,8,["header"])]),_:1}),p("div",Z2,[_(D,{modelValue:s(i),"onUpdate:modelValue":S[1]||(S[1]=W=>le(i)?i.value=W:null),class:"search",placeholder:s(c),search:!0},null,8,["modelValue","placeholder"]),p("div",J2,[_(X2,{style:{"flex-grow":"1"},onSelect:y}),_(U,{class:"pagination","items-count":s(m),"items-per-page":10,page:s(o),onPage:s(n)},null,8,["items-count","page","onPage"])])]),p("div",ew,[(g(!0),T(ne,null,_e(s(h),W=>(g(),I(Ni,{key:W.id,proposal:W,class:O({loading:s(b)})},null,8,["proposal","class"]))),128)),_(U,{class:"pagination","items-count":s(m),"items-per-page":10,page:s(o),onPage:s(n)},null,8,["items-count","page","onPage"]),s(h).length===0?(g(),T("div",tw,L(s(e)("no-proposals")),1)):B("",!0),_(F,{class:O(["spinner",{loading:s(b)}])},null,8,["class"])])])}}});function an(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}},all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof an=="function"&&an(Qi);const aw=V(Qi,[["__scopeId","data-v-288924ec"]]),sw={class:"proposal-container"},ow=P({__name:"Proposal.page",setup(t){const e=$e("proposalId",0,{transform:Number}),a=$e("proposalType"),{isFetching:o,data:n}=qi(e,a);return(l,c)=>{const i=He;return g(),T("div",sw,[_(i,{class:O(["spinner",{loading:s(o)}])},null,8,["class"]),!s(o)&&s(n)?(g(),I(Ni,{key:0,proposal:s(n),"init-expanded":!0},null,8,["proposal"])):B("",!0)])}}}),nw=V(ow,[["__scopeId","data-v-b5eb5204"]]),lw=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],iw={class:"form"},rw={class:"field"},cw={class:"label"},uw={class:"value"},dw={class:"field"},pw={class:"label"},mw={class:"value"},ji=P({__name:"DeployGauge",emits:["gauge"],setup(t,{emit:e}){const{t:a}=M(),o=e,n=R(!1),l=R(""),c=R(0),i=w(()=>Pn),r=w(()=>Aa(l.value.toLocaleLowerCase())&&c.value>0),d=Pa();async function u(){if(!l.value||!c.value)return;const v=l.value.toLocaleLowerCase();typeof c.value=="string"&&(c.value=parseFloat(c.value));const m=Ia(c.value,18n);return Dn(n,async()=>{const{result:h,request:b}=await Kr(d,{abi:lw,address:In,functionName:"deploy_gauge",args:[v,m]}),f=await kn(d,b);await Sn(d,{hash:f}),o("gauge",h)})}return(v,m)=>{const h=Ie,b=yl,f=Pe,y=Z;return g(),I(y,{class:"add-new",title:"Gauge Creation"},{default:k(()=>[p("div",iw,[p("div",rw,[p("div",cw,L(s(a)("receiver"))+":",1),p("div",uw,[_(h,{modelValue:s(l),"onUpdate:modelValue":m[0]||(m[0]=C=>le(l)?l.value=C:null),placeholder:s(i)},null,8,["modelValue","placeholder"])])]),p("div",dw,[p("div",pw,L(s(a)("amount"))+":",1),p("div",mw,[_(b,{modelValue:s(c),"onUpdate:modelValue":m[1]||(m[1]=C=>le(c)?c.value=C:null),min:1,max:3303030299},null,8,["modelValue"])])])]),_(f,{class:"action-button request",value:s(a)("submit"),disabled:!s(r)||s(n),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function sn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{receiver:{t:0,b:{t:2,i:[{t:3}],s:"Receiver"}},amount:{t:0,b:{t:2,i:[{t:3}],s:"CRV Amount (Max)"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Fundraising Gauge"}}}})}typeof sn=="function"&&sn(ji);const vw=V(ji,[["__scopeId","data-v-35976fd6"]]),hw=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],_w=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],fw=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],bw={class:"form"},gw={class:"field"},yw={class:"label"},ww={class:"value"},$w={class:"field"},Cw={class:"label"},kw={class:"value"},Gi=P({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(t,{emit:e}){const{t:a}=M(),o=e,n=R(!1),l=R(""),c=R(a("placeholder")),i=w(()=>Pn),r=w(()=>Aa(l.value)&&!!c.value),d=w(()=>r.value&&!n.value);x(()=>t.gauge,h=>{l.value=h.toLocaleLowerCase()});async function u(){if(l.value)return Dn(n,async()=>{await m(),o("request")})}const v=Pa();async function m(){const h="0xe478de485ad2fe566d49342cbd03e49ed7db3356",b="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",f=(X,J)=>String(X).padStart(J,"0"),y=Xa({abi:fw,functionName:"add_gauge",args:[l.value,10n,0n]});let C="0x00000001";const S=Xa({abi:hw,functionName:"execute",args:[Vn,0n,y]}).substring(2),$=f((Math.floor(S.length)/2).toString(16),8);C=`${C}${b.substring(2)}${$}${S}`;const A=new FormData,U={text:c.value.replace(/(\r\n|\n|\r)/gm,"")};A.append("file",JSON.stringify(U));const oe=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:A})).json()).Hash,j=await kn(v,{abi:_w,address:h,functionName:"newVote",args:[C,`ipfs:${oe}`,!1,!1]});await Sn(v,{hash:j})}return(h,b)=>{const f=Ie,y=Pe,C=Z;return g(),I(C,{class:"add-new",title:"Gauge Addition Vote"},{default:k(()=>[p("div",bw,[p("div",gw,[p("div",yw,L(s(a)("gauge"))+":",1),p("div",ww,[_(f,{modelValue:s(l),"onUpdate:modelValue":b[0]||(b[0]=S=>le(l)?l.value=S:null),placeholder:s(i)},null,8,["modelValue","placeholder"])])]),p("div",$w,[p("div",Cw,L(s(a)("description"))+":",1),p("div",kw,[_(f,{modelValue:s(c),"onUpdate:modelValue":b[1]||(b[1]=S=>le(c)?c.value=S:null)},null,8,["modelValue"])])])]),_(y,{class:"action-button request",value:s(a)("submit"),disabled:!s(d),primary:!0,web3:!0,onClick:u},null,8,["value","disabled"])]),_:1})}}});function on(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{gauge:{t:0,b:{t:2,i:[{t:3}],s:"Gauge Address"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Vote Description"}},placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Add a grant gauge: "}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Gauge Addition Vote"}}}})}typeof on=="function"&&on(Gi);const Sw=V(Gi,[["__scopeId","data-v-ae8ca55b"]]),Lw={class:"ve-funder"},Tw={class:"explanation"},Aw={class:"step-one"},Pw=["innerHTML"],Iw=["innerHTML"],Vw={class:"step-two"},Rw=["innerHTML"],Dw={href:"https://gov.curve.fi/",target:"_blank"},qw={class:"forms"},Xi=P({__name:"VeFunder.page",setup(t){const{t:e}=M(),a=R(""),o=n=>{a.value=n};return(n,l)=>{const c=Z;return g(),T("div",Lw,[p("div",Tw,[_(c,null,{default:k(()=>[p("div",Aw,[p("span",{innerHTML:s(e)("process")},null,8,Pw),p("ol",null,[p("li",null,L(s(e)("process-1")),1),p("li",{innerHTML:s(e)("process-2")},null,8,Iw)])]),p("div",Vw,[p("span",{innerHTML:s(e)("requirements")},null,8,Rw),p("ol",null,[p("li",null,[N(L(s(e)("requirements-1a"))+" ",1),p("a",Dw,L(s(e)("requirements-1b")),1)]),p("li",null,L(s(e)("requirements-2")),1)])])]),_:1})]),p("div",qw,[_(vw,{onGauge:o}),_(Sw,{gauge:s(a)},null,8,["gauge"])])])}}});function nn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{process:{t:0,b:{t:2,i:[{t:3}],s:"<strong>veFunder</strong> process:"}},"process-1":{t:0,b:{t:2,i:[{t:3}],s:"Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."}},"process-2":{t:0,b:{t:2,i:[{t:3}],s:"Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."}},requirements:{t:0,b:{t:2,i:[{t:3}],s:"<strong>Gauge vote requirements:</strong>"}},"requirements-1a":{t:0,b:{t:2,i:[{t:3}],s:"New gauge votes must have a vote on the governance forum"}},"requirements-1b":{t:0,b:{t:2,i:[{t:3}],s:"at this address"}},"requirements-2":{t:0,b:{t:2,i:[{t:3}],s:"You must have a minimum of 2,500 veCRV to create this vote"}}}})}typeof nn=="function"&&nn(Xi);const Fw=V(Xi,[["__scopeId","data-v-9854e2e0"]]),Mw="/assets/header--BhHUuM7.png",xw={},Bw=t=>(ue("data-v-80c6610f"),t=t(),de(),t),Ow={class:"header"},Uw=Bw(()=>p("img",{class:"header-image",src:Mw},null,-1)),Ew=[Uw];function Ww(t,e){return g(),T("div",Ow,Ew)}const Hw=V(xw,[["render",Ww],["__scopeId","data-v-80c6610f"]]),Kw={class:"general"},Nw=["innerHTML"],Yi=P({__name:"General",props:{model:{}},setup(t){const{t:e}=M(),a=w(()=>{var r;return(r=t.model)==null?void 0:r.crvLockedDollars}),o=w(()=>{var r;return(r=t.model)==null?void 0:r.crvLockedDollarsMonthly}),n=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxTvl}),l=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxVotingPercentage}),c=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxMarketCap}),i=w(()=>{var r;return(r=t.model)==null?void 0:r.cvxMarketCapFullyDiluted});return(r,d)=>{const u=te;return g(),T("div",Kw,[p("div",{class:"title",innerHTML:s(e)("description")},null,8,Nw),p("ul",null,[p("li",null,[_(u,{value:s(a),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("locked-1"))+" ",1),_(u,{value:s(o),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("locked-2")),1)]),p("li",null,[_(u,{value:s(n),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("locked-2"))+" ",1),_(u,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),N(" "+L(s(e)("locked-3")),1)]),p("li",null,[N(L(s(e)("mcap-1"))+" ",1),_(u,{value:s(c),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("mcap-2"))+" ",1),_(u,{value:s(i),precision:0,type:"dollar"},null,8,["value"]),N(". ")])])])}}});function ln(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Total locked value, incentives &amp; market cap"}},"locked-1":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract, and is continuing to see a rate of about"}},"locked-2":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract per month."}},"locked-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"tvl-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex currently has about"}},"tvl-2":{t:0,b:{t:2,i:[{t:3}],s:"TVL and controls close to"}},"tvl-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"mcap-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex's market cap is just"}},"mcap-2":{t:0,b:{t:2,i:[{t:3}],s:"with a fully diluted valuation of"}}}})}typeof ln=="function"&&ln(Yi);const zw=V(Yi,[["__scopeId","data-v-c68342f5"]]),Qw={class:"bribes"},jw={class:"title"},Zi=P({__name:"Bribes",props:{model:{}},setup(t){const{t:e}=M(),a=w(()=>{var n;return(n=t.model)==null?void 0:n.bribesIncomeAnnually}),o=w(()=>{var n;return(n=t.model)==null?void 0:n.bribesIncomeBiWeekly});return(n,l)=>{const c=te;return g(),T("div",Qw,[p("div",jw,L(s(e)("incentives")),1),p("ul",null,[p("li",null,L(s(e)("description")),1),p("li",null,[N(L(s(e)("annual-1"))+" ",1),_(c,{value:s(a),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("annual-2")),1)]),p("li",null,[N(L(s(e)("biweek-1"))+" ",1),_(c,{value:s(o),precision:0,type:"dollar"},null,8,["value"]),N(" "+L(s(e)("biweek-2")),1)])])])}}});function rn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{incentives:{t:0,b:{t:2,i:[{t:3}],s:"Incentives"}},description:{t:0,b:{t:2,i:[{t:3}],s:"CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."}},"annual-1":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders will potentially earn over"}},"annual-2":{t:0,b:{t:2,i:[{t:3}],s:"in incentives over a 1 year period."}},"biweek-1":{t:0,b:{t:2,i:[{t:3}],s:"Incentives to CVX holders are very likely to reach"}},"biweek-2":{t:0,b:{t:2,i:[{t:3}],s:"biweekly in the coming weeks (based on total rewards paid by Votium app)"}}}})}typeof rn=="function"&&rn(Zi);const Gw=V(Zi,[["__scopeId","data-v-6ddf569b"]]),Xw="/assets/cvx-PJG1_7yb.png",Yw="/assets/cvxcrv-B_jSbKBn.png",Ji=t=>(ue("data-v-1cb9eeb6"),t=t(),de(),t),Zw={class:"farm"},Jw={class:"title"},e$={class:"values"},t$={class:"cvx"},a$={class:"content"},s$={class:"value"},o$={class:"description"},n$=Ji(()=>p("img",{class:"logo",src:Xw},null,-1)),l$={class:"crv"},i$=Ji(()=>p("img",{class:"logo",src:Yw},null,-1)),r$={class:"content"},c$={class:"value"},u$={class:"description"},er=P({__name:"Farm",props:{model:{}},setup(t){const{t:e}=M(),a=new Rn,{address:o}=Pt(),n=Pa(),l=R(void 0),c=w(()=>{var i;return(i=t.model)==null?void 0:i.cvxApr});return x(o,async()=>{const i=Nr(n);if(!i)throw Error("Cannot create public viem client");const d=(await Kc(i,a)).reduce((u,v)=>u+v,0)/2;l.value=d*100},{immediate:!0}),(i,r)=>{const d=te;return g(),T("div",Zw,[p("div",Jw,L(s(e)("income")),1),p("div",e$,[p("div",t$,[p("div",a$,[p("span",s$,[_(d,{value:s(c),precision:0,type:"percentage"},null,8,["value"]),N(" "+L(s(e)("apr")),1)]),p("span",o$,[N(L(s(e)("apr-1"))+" ",1),_(d,{value:s(c),precision:0,type:"percentage"},null,8,["value"]),N(" "+L(s(e)("apr-2")),1)])]),n$]),p("div",l$,[i$,p("div",r$,[p("span",c$,[_(d,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),N(" "+L(s(e)("apr")),1)]),p("span",u$,[N(L(s(e)("staked"))+" ",1),_(d,{value:s(l),precision:0,type:"percentage"},null,8,["value"]),N(" "+L(s(e)("apr"))+". ",1)])])])])])}}});function cn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{income:{t:0,b:{t:2,i:[{t:3}],s:"Income"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}},"apr-1":{t:0,b:{t:2,i:[{t:3}],s:"Locked CVX earns"}},"apr-2":{t:0,b:{t:2,i:[{t:3}],s:"APR with incentives."}},staked:{t:0,b:{t:2,i:[{t:3}],s:"Staked cvxCRV earns"}}}})}typeof cn=="function"&&cn(er);const d$=V(er,[["__scopeId","data-v-1cb9eeb6"]]);class p$ extends mt{async getConvex(){const e="flyer-convex",a=await this.getHost();return this.fetch(`${a}/dashboard/${e}`)}async getAura(){const e="flyer-aura",a=await this.getHost();return this.fetch(`${a}/dashboard/${e}`)}}const m$={class:"flyer"},v$={class:"flyer-items"},h$=P({__name:"Flyer.page",setup(t){const e=new p$(ut()),a=R(null);return ie(async()=>{const o=await Lt(e.getConvex());o.statusCode===200&&o.dashboard&&(a.value=o.dashboard)}),(o,n)=>(g(),T("div",m$,[p("div",v$,[_(Hw),_(d$,{model:s(a)},null,8,["model"]),_(zw,{model:s(a)},null,8,["model"]),_(Gw,{model:s(a)},null,8,["model"])])]))}}),_$=V(h$,[["__scopeId","data-v-33341a13"]]),f$={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},b$={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},qe=je("convexStore",()=>{const t=R([]),e=R({}),a=R(f$),o=R([b$]);function n(l,c){e.value[l.name]=c}return{pools:t,snapshots:e,revenue:a,historicalRevenue:o,setSnapshots:n}});function g$(t){return t.baseApr+t.crvApr+t.cvxApr+t.extraRewardsApr}const tr=P({__name:"ChartApr",props:{poolSelected:{}},setup(t){const{t:e}=M(),a=qe(),{theme:o}=E(K()),n=w(()=>t.poolSelected?a.snapshots[t.poolSelected.name]??[]:[]),l=w(()=>re(o.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].snapshot;return[`<div><b>${e("base")}</b>:</div><div>${i(d.baseApr)}</div>`,`<div><b>${e("crv")}</b>:</div><div>${i(d.crvApr)}</div>`,`<div><b>${e("cvx")}</b>:</div><div>${i(d.cvxApr)}</div>`,`<div><b>${e("extra")}</b>:</div><div>${i(d.extraRewardsApr)}</div>`].join("")}}})),c=w(()=>[{name:"APR",data:n.value.map(r=>({x:r.timeStamp*1e3,y:g$(r),snapshot:r}))}]),i=r=>(r*=100,`${Q(r,1,"percentage")}${z(r,"percentage")}`);return(r,d)=>{const u=he;return g(),I(u,{class:"apr",title:s(e)("title"),options:s(l),series:s(c)},null,8,["title","options","series"])}}});function un(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Annual Percentage Rate"}},base:{t:0,b:{t:2,i:[{t:3}],s:"Base"}},crv:{t:0,b:{t:2,i:[{t:3}],s:"CRV"}},cvx:{t:0,b:{t:2,i:[{t:3}],s:"CVX"}},exta:{t:0,b:{t:2,i:[{t:3}],s:"Extra"}}}})}typeof un=="function"&&un(tr);const y$=V(tr,[["__scopeId","data-v-91b3cbe3"]]),ar=P({__name:"ChartTvl",props:{poolSelected:{}},setup(t){const{t:e}=M(),a=qe(),{theme:o}=E(K()),n=w(()=>t.poolSelected?a.snapshots[t.poolSelected.name]??[]:[]),l=w(()=>re(o.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const d=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].y;return`<div><b>${e("tvl")}</b>:</div><div>${i(d)}</div>`}}})),c=w(()=>[{name:"tvl",data:n.value.map(r=>({x:r.timeStamp*1e3,y:r.tvl}))}]),i=r=>`$${Q(r,1,"dollar")}${z(r,"dollar")}`;return(r,d)=>{const u=he;return g(),I(u,{class:"tvl",title:s(e)("title"),options:s(l),series:s(c)},null,8,["title","options","series"])}}});function dn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total Value Locked"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof dn=="function"&&dn(ar);const w$=V(ar,[["__scopeId","data-v-51afb198"]]);function pn(t){return t.baseApr+t.crvApr+t.cvxApr+t.extraRewardsApr}const $$={class:"title"},C$={class:"end"},k$={class:"end"},S$={key:0,class:"charts"},sr=P({__name:"TablePools",props:{expanded:{default:()=>[]}},setup(t){const{t:e}=M(),a=qe(),o=w(()=>["",{id:"name",label:e("name"),sort:!0},{id:"apr",label:e("apr"),sort:!0,align:"end"},{id:"tvl",label:e("tvl"),sort:!0,align:"end"}]),{sorting:n,onSort:l}=Dt("tvl"),c=w(()=>q.orderBy(a.pools.filter(i=>!xc(i.name)),i=>{switch(n.value.column){case"name":return Fe(i.name);case"apr":return pn(i);case"tvl":return i.tvl;default:return i.tvl}},n.value.order));return(i,r)=>{const d=te,u=pe;return g(),I(u,{class:"datatable-pools",rows:s(c),columns:s(o),sorting:s(n),expanded:i.expanded,onSortColumn:s(l)},{"header-content":k(()=>[p("div",$$,L(s(e)("title")),1)]),row:k(v=>[p("div",null,L(s(Fe)(v.item.name)),1),p("div",C$,[_(d,{value:s(pn)(v.item)*100,precision:1,type:"percentage"},null,8,["value"])]),p("div",k$,[_(d,{value:v.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":k(v=>[i.expanded.includes(v.item)?(g(),T("div",S$,[_(s(w$),{class:"tvl","pool-selected":v.item},null,8,["pool-selected"]),_(s(y$),{class:"apr","pool-selected":v.item},null,8,["pool-selected"])])):B("",!0)]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])}}});function mn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Convex Pools"}},name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof mn=="function"&&mn(sr);const L$=V(sr,[["__scopeId","data-v-c8b9a923"]]);class T$ extends mt{async get(){const e=await this.getHost();return this.fetch(`${e}/pool`)}}class A$ extends mt{async get(e){const a=await this.getHost();return this.fetch(`${a}/poolsnapshots`,{pool:e.name})}}const P$={class:"pools"},I$={class:"dashboard"},V$=P({__name:"Pools.page",setup(t){let e=!1;const a=new T$(ut()),o=new A$(ut()),n=qe(),l=$e("pool"),c=Be(),{expanded:i,toggleExpansion:r}=Ea();ie(async()=>{e=!0;const m=await Lt(a.get());if(m){const h=m.pools;if(h.sort((b,f)=>f.tvl-b.tvl),n.pools=h.filter(b=>b.tvl>1e3),!e)return;l.value&&u(l.value)}}),La(()=>{e=!1});const d=async m=>{if(!m||n.snapshots[m.name])return;const h=await Lt(o.get(m),500);if(h){const b=h.data.snapshots;n.setSnapshots(m,b)}},u=m=>{const h=Va(m),b=n.pools.find(f=>f.name===h);b&&r(b)&&d(b)},v=async m=>{r(m)&&(d(m),await c.push({name:"convexpools",params:{pool:Fe(m.name)}}))};return(m,h)=>(g(),T("div",P$,[p("div",I$,[_(L$,{class:"datatable-pools",expanded:s(i),onSelected:v},null,8,["expanded"])])]))}}),R$=V(V$,[["__scopeId","data-v-0e87e48d"]]),D$="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",q$="https://api-py.llama.airforce/convex/v1/platform/revenue";class F$ extends ke{get(){return this.fetch(q$).then(e=>e.revenue[0])}}class M$ extends ke{get(){return this.fetch(D$).then(e=>e.revenue)}}const x$=P({__name:"RevenueSources",setup(t){const e=qe(),{theme:a}=E(K()),o=w(()=>[{source:"CRV",value:e.revenue.totalCrvRevenue},{source:"3CRV",value:e.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:e.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:e.revenue.totalOtherRevenue},{source:"Bribes",value:e.revenue.totalBribeRevenue}]),n=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(r){return Math.round(r).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[i.blue,i.green,i.purple,i.yellow,i.red],labels:o.value.map(r=>r.source)})}),l=w(()=>o.value.map(i=>i.value)),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"breakdown-revenue",options:s(n),series:s(l)},null,8,["options","series"])}}}),B$=P({__name:"LPRevenue",setup(t){const e=qe(),{theme:a}=E(K()),o=w(()=>[{name:"CRV",data:e.historicalRevenue.map(i=>i.crvRevenueToLpProvidersAmount)},{name:"CVX",data:e.historicalRevenue.map(i=>i.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:e.historicalRevenue.map(i=>i.fxsRevenueToLpProvidersAmount)}]),n=w(()=>e.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"lp-revenue",options:s(l),series:s(o)},null,8,["options","series"])}}}),O$=P({__name:"HolderRevenue",setup(t){const e=qe(),{theme:a}=E(K()),o=w(()=>[{name:"CRV",data:e.historicalRevenue.map(i=>i.crvRevenueToCvxStakersAmount)},{name:"FXS",data:e.historicalRevenue.map(i=>i.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:e.historicalRevenue.map(i=>i.bribeRevenue)}]),n=w(()=>e.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.red],labels:o.value.map(r=>r.name)})}),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"holder-revenue",options:s(l),series:s(o)},null,8,["options","series"])}}}),U$=P({__name:"HistoricalRevenue",setup(t){const e=qe(),{theme:a}=E(K()),o=w(()=>[{name:"CRV",data:e.historicalRevenue.map(i=>i.totalCrvRevenue)},{name:"FXS",data:e.historicalRevenue.map(i=>i.totalFxsRevenue)},{name:"3CRV",data:e.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:e.historicalRevenue.map(i=>i.bribeRevenue)},{name:"Others",data:e.historicalRevenue.map(i=>i.otherRevenue)}]),n=w(()=>e.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.green,i.red,i.yellow],labels:o.value.map(r=>r.name)})}),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"historical-revenue",options:s(l),series:s(o)},null,8,["options","series"])}}}),E$=P({__name:"LiquidRevenue",setup(t){const e=qe(),{theme:a}=E(K()),o=w(()=>[{name:"CRV",data:e.historicalRevenue.map(i=>i.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:e.historicalRevenue.map(i=>i.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:e.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:e.historicalRevenue.map(i=>i.fxsRevenueToCvxFxsStakersAmount)}]),n=w(()=>e.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=a.value;return re(a.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.green,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,r)=>{const d=he;return g(),I(d,{class:"liquid-revenue",options:s(l),series:s(o)},null,8,["options","series"])}}}),W$={class:"summary"},or=P({__name:"Summary",setup(t){const{t:e}=M(),a=qe(),o=w(()=>a.revenue.totalBribeRevenue+a.revenue.totalThreeCrvRevenueToCvxCrvStakers+a.revenue.totalCrvRevenue+a.revenue.totalFxsRevenue+a.revenue.totalOtherRevenue),n=w(()=>a.revenue.totalCrvRevenueToLpProviders+a.revenue.totalFxsRevenueToLpProviders+a.revenue.totalCvxRevenueToLpProviders),l=w(()=>a.revenue.totalCrvRevenueToPlatform+a.revenue.totalFxsRevenueToPlatform+a.revenue.totalFxsRevenueToCallers+a.revenue.totalOtherRevenue),c=w(()=>a.revenue.totalBribeRevenue+a.revenue.totalCrvRevenueToCvxStakers+a.revenue.totalFxsRevenueToCvxStakers),i=w(()=>a.revenue.totalCrvRevenueToCvxCrvStakers+a.revenue.totalCvxRevenueToCvxCrvStakers+a.revenue.totalFxsRevenueToCvxFxsStakers+a.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(r,d)=>{const u=te,v=ge;return g(),T("div",W$,[_(v,{class:"all-time-revenue",label:s(e)("all-time-revenue"),"has-value":!!s(o)},{default:k(()=>[_(u,{value:s(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(v,{class:"lp-revenue",label:s(e)("lp-revenue"),"has-value":!!s(n)},{default:k(()=>[_(u,{value:s(n),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(v,{class:"holder",label:s(e)("holder-revenue"),"has-value":!!s(c)},{default:k(()=>[_(u,{value:s(c),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(v,{class:"liquid-revenue",label:s(e)("liquid-revenue"),"has-value":!!s(i)},{default:k(()=>[_(u,{value:s(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(v,{class:"protocol-revenue",label:s(e)("protocol-revenue"),"has-value":!!s(l)},{default:k(()=>[_(u,{value:s(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function vn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"all-time-revenue":{t:0,b:{t:2,i:[{t:3}],s:"All time total revenue"}},"lp-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for LPs (incl. CVX emissions)"}},"protocol-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue directed to Convex treasury"}},"holder-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for CVX lockers"}},"liquid-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for liquid lockers (cvxCRV, cvxFXS)"}}}})}typeof vn=="function"&&vn(or);const H$=V(or,[["__scopeId","data-v-12aa5999"]]),K$={class:"revenue"},N$={class:"revenue-charts"},nr=P({__name:"Revenue.page",setup(t){const{t:e}=M(),a=new F$,o=new M$;let n=!1;const l=qe(),c=R(!1);return zr(async()=>{if(n)return;n=!0,c.value=!0;const i=await a.get();i&&(l.revenue=i);const r=await o.get();r&&(l.historicalRevenue=r),c.value=!1,n=!1}),La(()=>{n=!1}),(i,r)=>{const d=He;return g(),T("div",K$,[p("div",{class:O(["dashboard",{loading:s(c)}])},[s(c)?(g(),I(d,{key:0,class:"spinner"})):B("",!0),p("div",N$,[_(H$,{class:"summary"}),_(x$,{class:"chart-revenue-sources",title:s(e)("revenue-breakdown")},null,8,["title"]),_(U$,{class:"chart-historical-revenue",title:s(e)("revenue-historical")},null,8,["title"]),_(B$,{class:"chart-lp-revenue",title:s(e)("revenue-lp")},null,8,["title"]),_(O$,{class:"chart-holder-revenue",title:s(e)("revenue-holder")},null,8,["title"]),_(E$,{class:"chart-liquid-revenue",title:s(e)("revenue-liquid")},null,8,["title"])])],2)])}}});function hn(t){const e=t;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"revenue-breakdown":{t:0,b:{t:2,i:[{t:3}],s:"Breakdown of total revenue by source"}},"revenue-lp":{t:0,b:{t:2,i:[{t:3}],s:"Liquidity providers rewards breakdown"}},"revenue-holder":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders rewards breakdown"}},"revenue-historical":{t:0,b:{t:2,i:[{t:3}],s:"Historical total revenue breakdown"}},"revenue-liquid":{t:0,b:{t:2,i:[{t:3}],s:"Liquid lockers rewards breakdown"}}}})}typeof hn=="function"&&hn(nr);const z$=V(nr,[["__scopeId","data-v-6b254c5a"]]),Q$=[{path:"/",component:Tm},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:pv},{path:"/platform/pools/:chain?",name:"pools",component:Nv},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:_h},{path:"/platform/gauges/old",component:Th},{path:"/platform/revenue/:tab?",name:"revenue",component:G_},{path:"/platform/crvusd",name:"crvusd",component:Zf},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:dg},{path:"/platform/lending/:chain?",name:"llamalend",component:Mg},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:f0},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:E1},{path:"/pool/mev",component:hy},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:aw},{path:"/dao/proposal/:proposalType/:proposalId",component:nw},{path:"/dao/vefunder",component:Fw},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:_$},{path:"/convex/pools/:pool?",name:"convexpools",component:R$},{path:"/convex/revenue",name:"convexrevenue",component:z$}],j$={titleRoute:"/",menuItems:[{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]};let lr="http://localhost:8545";lr=void 0;const G$=Qr({chains:[St],connectors:[Ya(),jr({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),Gr(),Xr()],transports:{[St.id]:Yr([Za(lr,{batch:{wait:100}}),Zr(Ya),Za("https://eth.llamarpc.com",{batch:{wait:200}})])}});function X$(t){const e=Jr(t),a=ec({legacy:!1,locale:"en",fallbackLocale:"en"});e.use(a);const o=tc();e.use(o);const n=new ac({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:sc}},queryCache:new oc({onError:(l,c)=>{l.message.includes("Connector not connected")||l.message.includes("connector2.getAccounts is not a function")||l.message.includes("getAccounts is not a function")||Ee({text:`Failed querying ${c.queryHash} >>> ${l.message}`,type:"error"})}})});return e.use(nc).use(lc,{queryClient:n}).use(ic).use(rc,{config:G$}),{app:e,pinia:o}}const{app:Y$}=X$(gd),Z$=[j$],J$=[Q$],ir=qa();ir.pages=Z$;ir.routes=J$;const eC=Xd();Y$.use(eC).mount("#app");

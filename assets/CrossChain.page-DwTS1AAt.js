import{_ as I,a as H}from"./TabItem.vue_vue_type_script_setup_true_lang-CcnwadK-.js";import{d as h,h as u,o as i,w as l,b as d,u as t,a,j as y,t as n,Q as _,_ as R,a8 as V,e as f,c as $,a2 as A,W as Q}from"./index-OoCaSk_-.js";import{_ as q}from"./Table-KVWlDBXT.js";import{_ as x}from"./ChainIcon-CLYGWCwm.js";import{t as D,g as E,f as F}from"./timestamp-DkvXAN4c.js";import{u as K}from"./useQuery-CpgIOpez.js";import{u as L}from"./UseRelativeTime-DcDbB6ow.js";import{u as j}from"./UseTabNavigation-D1VNWAhC.js";import"./index-BHuweXIS.js";const J=c=>({lastRecordedBlock:c.last_recorded_block,oracles:c.oracles.map(({block_header:e,...o})=>({chain:o.chain,address:o.address,lastConfirmedBlockNumber:o.last_confirmed_block_number,blockHeader:{hashBlock:e.block_hash,hashParent:e.parent_hash,stateRoot:e.state_root,blockNumber:e.block_number,timestamp:D(e.timestamp)}}))});async function P(c){const e=E(c),o=await F(`${e}/v1/oracles/all`);return J(o)}function U(){return K({queryKey:["oracles-all"],queryFn:()=>P()})}const W={class:"icon"},z=["onClick"],G={class:"end"},M=["onClick"],X=["onClick"],Y=["onClick"],Z={class:"end"},ee=h({__name:"TableOracles",setup(c){const{isFetching:e,data:o}=U(),{relativeTime:k}=L();async function r(s){V({text:`Copied ${s}`,type:"success",duration:5e3}),await navigator.clipboard.writeText(s)}return(s,v)=>{const m=x,S=q,w=R;return i(),u(w,{title:"Oracles",loading:t(e)},{actions:l(()=>[y(" Last Recorded Block: "+n(t(o)?.lastRecordedBlock),1)]),default:l(()=>[d(S,{loading:t(e),rows:t(o)?.oracles??[],columns:["Chain","Address",{label:"Last Block",align:"end"},"Block Hash","Parent Hash","State Root",{label:"Time",align:"end"}]},{row:l(({item:{chain:b,address:g,lastConfirmedBlockNumber:O,blockHeader:{hashBlock:C,hashParent:T,stateRoot:B,timestamp:N}}})=>[a("div",W,[d(m,{chain:b},null,8,["chain"]),y(" "+n(b),1)]),a("div",null,[a("a",{onClick:p=>r(g)},n(("addressShort"in s?s.addressShort:t(_))(g,12)),9,z)]),a("div",G,n(O),1),a("div",null,[a("a",{onClick:p=>r(C)},n(("addressShort"in s?s.addressShort:t(_))(C,12)),9,M)]),a("div",null,[a("a",{onClick:p=>r(T)},n(("addressShort"in s?s.addressShort:t(_))(T,12)),9,X)]),a("div",null,[a("a",{onClick:p=>r(B)},n(("addressShort"in s?s.addressShort:t(_))(B,12)),9,Y)]),a("div",Z,n(t(k)(N.getUTCTimestamp())),1)]),_:1},8,["loading","rows"])]),_:1},8,["loading"])}}}),se=f(ee,[["__scopeId","data-v-800f6390"]]),oe={class:"dashboard-grid"},ae=h({__name:"BlockOracles",setup(c){return(e,o)=>(i(),$("div",oe,[d(se,{style:{"grid-area":"oracles"}})]))}}),te=f(ae,[["__scopeId","data-v-bf881f2d"]]),ne={class:"dashboard"},ce=h({__name:"CrossChain.page",setup(c){const{tabActive:e,tabActiveIndex:o}=j(["block-oracles"],"cross-chain");return(k,r)=>{const s=I,v=H;return i(),$("div",ne,[d(v,{active:t(o),onTab:r[0]||(r[0]=m=>o.value=m.index)},{default:l(()=>[d(s,{header:"Block Oracles"},{default:l(()=>[(i(),u(A,null,[t(e)==="block-oracles"?(i(),u(te,{key:0})):Q("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),fe=f(ce,[["__scopeId","data-v-f7c09895"]]);export{fe as default};

import{p as hn,f as fn,l as z,I as ft,C as gt,L as Wt,d as k,r as P,c as C,w as M,t as x,o as f,a as D,b as $,e as _,g as w,h as ce,i as qt,n as F,j as E,k as V,F as se,T as gn,u as n,m as Ae,q as bn,s as yn,v as $n,W as wn,x as kn,y as Cn,z as K,A as c,B as Do,D as Ht,E as Sn,G as B,H as me,J as te,K as ae,M as je,N as xe,O as q,P as To,Q as Mo,R as xn,S as Fe,U as Ke,V as ia,X as An,Y as In,Z as bt,_ as ue,$ as Nt,a0 as Gt,a1 as Vo,a2 as Ln,a3 as Pn,a4 as Dn,a5 as lt,a6 as ne,a7 as Ue,a8 as Tn,a9 as Mn,aa as Tt,ab as Vn,ac as he,ad as zn,ae as Bn,af as On,ag as Rn,ah as Fn,ai as be,aj as Qt,ak as zo,al as Yt,am as Un,an as En,ao as Wn,ap as qn,aq as Hn,ar as Nn,as as Gn,at as Qn}from"./vendor-6dcc3284.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Yn(o){return o!=null}function Ie(o,e){const t=new Date(o.valueOf());return t.setUTCDate(t.getUTCDate()+e),t}function jn(o){function e(m){return m<10?"0"+m.toString():m.toString()}const t=o.getTime()-new Date().getTime();if(t<=0)return"00:00:00:00";const a=1e3,s=a*60,l=s*60,u=l*24,p=Math.floor(t/u),i=Math.floor(t%u/l),d=Math.floor(t%l/s),h=Math.floor(t%s/a);return e(p)+":"+e(i)+":"+e(d)+":"+e(h)}function Ve(o,e=0,t=".",a=","){const s=isFinite(+o)?+o:0,l=isFinite(+e)?Math.abs(e):0,u=typeof a>"u"?",":a,p=typeof t>"u"?".":t,i=function(h,m){const b=Math.pow(10,m);return Math.round(h*b)/b},d=(l?i(s,l):Math.round(s)).toString().split(".");return d[0].length>3&&(d[0]=d[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(d[1]||"").length<l&&(d[1]=d[1]||"",d[1]+=new Array(l-d[1].length+1).join("0")),d.join(p)}function j(o,e){const t=Math.abs(o);return e==="percentage"?"%":e==="dollar"?t>=1*10**12?"t":t>=1*10**9?"b":t>=1*10**6?"m":t>=1*10**3?"k":"":""}function J(o,e,t){const a=Math.abs(o);return t==="percentage"?Ve(o,e):t==="dollar"?a>=1*10**12?Ve(o/10**12,e):a>=1*10**9?Ve(o/10**9,e):a>=1*10**6?Ve(o/10**6,e):a>=1*10**3?Ve(o/10**3,e):Ve(o,e):o.toString()}function ze(o){return Number(o.toFixed(o>100?0:2)).toLocaleString()}function ot(o,e){return parseFloat(fn(o,e))}function Jn(o,e){return hn(o.toFixed(Number(e)),Number(e)).toBigInt()}async function Bo(o,e=0,t=1e3){const a=await o(e,t),s=await(a.length>=t?Bo(o,e+1,t):Promise.resolve([]));return a.concat(s)}const Oo={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},St={steth:"steth","Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: MIM-UST":"mim",tricrypto2:"tricrypto2","3pool":"3pool",ib:"cream",usdn:"usdn",ren:"ren",alusd:"alusd",frax:"frax",ironbank:"ironbank",pbtc:"pbtc",bbtc:"bbtc",sbtc:"sbtc",obtc:"obtc",compound:"comp",ankreth:"ankreth",saave:"aave",aeth:"aeth",tbtc:"tbtc",usdp:"usdp","Curve.fi Factory Plain Pool: cvxCRV":"crv",eurs:"eurs",lusd:"lusd",seth:"seth",hbtc:"hbtc",aave:"aave",link:"link",susd:"susd",eurt:"eurt",busdv2:"busd",reth:"reth","Curve.fi Factory Plain Pool: ibCHF-sCHF":"chf",gusd:"gusd","Curve.fi Factory Plain Pool: ibGBP-sGBP":"gbp",tricrypto:"tricrypto",busd:"busd",y:"yfi","Curve.fi Factory Plain Pool: ibJPY-sJPY":"jpy","Curve.fi Factory Plain Pool: ibAUD-sAUD":"aud","Curve.fi Factory Plain Pool: ibEUR-sEUR":"eur","Curve.fi Factory Plain Pool: ibKRW-sKRW":"krw",tusd:"tusd",dusd:"dusd",ust:"ust",rsv:"rsv",musd:"musd",husd:"husd",usdt:"usdt",usdk:"usdk",pax:"pax","Curve.fi Factory Pool: alETH":"alusd","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eur","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eurs","Curve EURT-3Crv":"eurt","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"ust","Curve.fi Factory BTC Metapool: ibBTC":"ibbtc","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-usdp","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve T-ETH":"t","Curve.fi Factory Crypto Pool: YFI-ETH":"yfi","Curve SPELL-ETH":"spell","Curve.fi Factory Crypto Pool: FXS-ETH":"fxs","Curve.fi Factory USD Metapool: FEI Metapool":"fei"},Kn={"f-ustw":"ust","f-d3pool":"d3pool",eursusd:"stasis","crv-eth":"crv","ust-wormhole":"ust","fixedforex:chf":"chf","fixedforex:gbp":"gbp","fixedforex:jpy":"jpy","fixedforex:aud":"aud","fixedforex:eur":"eur","fixedforex:krw":"krw",rai:"rai",cvxeth:"cvx","3eur":"3eur-pool",teth:"t","f-fei":"fei",cvxfxs:"fxs","avalanche-f-3pool":"3pool","fantom-f-4POOL":"3pool"},Zn={"f-cadcusdc":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xcadc0acd4b445166f12d2c07eac6e2544fbe2eef.png","f-pwrd":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xf0a93d4994b3d98fb5e3a2f90dbc2d69073cb86b.png","f-lfteth":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xb620be8a1949aa9532e6a3510132864ef9bc3f82.png"};function Ce(o){const e=Oo[o];return e||o}function Ro(o){const e=z.invert(Oo)[o];return e||o}function jt(o,e=!0){let t=St[o]??St[Ce(o)]??St[Ro(o)]??Kn[o]??"";return t=t?`/pool-icons.svg#${t}`:Zn[o],t||(e?"/why.png":"empty.png")}async function vt(o,e=250){const t=new Promise(s=>setTimeout(()=>{s(null)},e)),[,a]=await Promise.all([t,o]);return a}function Mt(o,e){return(Array.isArray(o)?o:[o]).some(a=>e.path.startsWith(a))}const Jt="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Xn="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",el="0x657ce046d98d163ef4f846210f25919fa7b31944",Fo="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Uo="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",tl="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",Vt=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];class Eo{static createInterface(){return new ft(Vt)}static connect(e,t){return new gt(e,Vt,t)}}Eo.abi=Vt;const zt=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}];class Wo{static createInterface(){return new ft(zt)}static connect(e,t){return new gt(e,zt,t)}}Wo.abi=zt;const Bt=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}];class qo{static createInterface(){return new ft(Bt)}static connect(e,t){return new gt(e,Bt,t)}}qo.abi=Bt;const Ot=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}];class Ho{static createInterface(){return new ft(Ot)}static connect(e,t){return new gt(e,Ot,t)}}Ho.abi=Ot;const al="https://api.llama.airforce/";async function ol(o,e,t){return await fetch(o,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:t}).then(a=>{if(a.ok)return a;throw new Error(`Fetch error ${a.status} for URL: ${o}`)})}async function sl(o,e,t){return await(await ol(o,e,t)).json()}class $e{constructor(e){this.host=e}async fetch(e,t,a){return sl(e,t,a)}}async function nl(o){try{return await o()}catch(e){e instanceof Error&&Wt({text:e.message,type:"error"});return}}const ll="|/-\\",O=k({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(o){let e=0,t=0;const a=P("|"),s=C(()=>o.value?J(o.value,o.precision,o.type??""):o.value===0&&o.showZero?"0":o.value===null||o.value===void 0?a.value:"?"),l=C(()=>!o.value||!o.type||!z.isFinite(o.value)?o.showUnit&&o.type?j(0,o.type):"":j(o.value,o.type));return M(()=>o.value,u=>{if(clearInterval(t),e=0,u)return;const p=()=>{e=(e+1)%4,a.value=ll[e]};t=window.setInterval(p,250)},{immediate:!0}),(u,p)=>x(u.showSymbol&&u.type==="dollar"?"$":"")+x(s.value)+x(u.showUnit?l.value:"")}}),rl={key:0,class:"fas fa-chevron-right"},il=k({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(o,{emit:e}){const t=s=>{var l;return o.active?o.active.id===s.id:((l=o.crumbs.at(-1))==null?void 0:l.id)===s.id},a=s=>{var l;return((l=o.crumbs.at(-1))==null?void 0:l.id)===s.id};return(s,l)=>(f(),D(n(Y),null,{default:$(()=>[_(gn,{name:"fade",tag:"ul"},{default:$(()=>[(f(!0),w(se,null,ce(s.crumbs,u=>(f(),w("li",{key:u.id},[(f(),D(qt(t(u)?"span":"a"),{class:F({active:t(u)}),onClick:p=>e("crumb",u)},{default:$(()=>[E(x(u.label),1)]),_:2},1032,["class","onClick"])),!a(u)||s.crumbs.length===1?(f(),w("i",rl)):V("",!0)]))),128))]),_:1})]),_:1}))}});const S=(o,e)=>{const t=o.__vccOpts||o;for(const[a,s]of e)t[a]=s;return t},No=S(il,[["__scopeId","data-v-997741c8"]]);function cl(){return!1}const Go=Ae({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(o){this.address=o==null?void 0:o.toLocaleLowerCase()}}}),ul=bn(),dl=yn({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),pl=kn({darkMode:!0}),_l=Cn();let ke=null;function ml(){const o=$n({wallets:[ul,dl,pl,_l],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return o.state.actions.updateAccountCenter({enabled:!1}),o}let Rt=null;async function Qo(o=!1){ke||(ke=ml());let[e]=ke.state.get().wallets;if(!e){const t=window.localStorage.getItem("connectedWallet");t?[e]=await ke.connectWallet({autoSelect:{label:t,disableModals:!0}}):o&&([e]=await(ke==null?void 0:ke.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}Rt=e||null}function Be(){return Rt?new wn(Rt.provider):void 0}async function vl(){if(!ke)return;const[o]=ke.state.get().wallets;await ke.disconnectWallet({label:o.label}),window.localStorage.removeItem("connectedWallet")}async function Yo(o){if(!o)return!1;try{const t=await o.getSigner().getAddress();return!0}catch{return!1}}async function jo(o){if(!o)return!1;try{const{name:e,chainId:t}=await o.getNetwork();return e==="homestead"&&t===1}catch{return!1}}async function hl(o){return await o.getSigner().getAddress()}function Se(o,e=6){if(!o)return"0x000...000";const t=e/2+2,a=o.length-e/2;return`${o.substring(0,t)}...${o.substring(a)}`}const fl=k({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=async a=>{if(a.stopImmediatePropagation(),o.web3&&cl()){const s=Be();if(!s)return;await jo(s)||(await s.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}e("click")};return(a,s)=>(f(),w("button",{class:F({primary:a.primary}),onClick:t},[K(a.$slots,"default",{},()=>[a.icon?(f(),w("i",{key:0,class:F(["icon",[a.icon,{noValue:!!a.value}]])},null,2)):V("",!0),E(" "+x(a.value),1)],!0)],2))}});const Z=S(fl,[["__scopeId","data-v-a69c7243"]]),gl=k({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(o,{emit:e}){const t=()=>{e("update:modelValue",!o.modelValue)};return(a,s)=>(f(),w("button",{class:F({toggled:a.modelValue}),onClick:t},[K(a.$slots,"default",{},()=>[a.icon?(f(),w("i",{key:0,class:F(["icon",a.icon])},null,2)):V("",!0),E(" "+x(a.value),1)],!0)],2))}});const Te=S(gl,[["__scopeId","data-v-1a05fba8"]]),bl={class:"card"},yl={class:"text"},$l=k({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",bl,[e.loading?(f(),D(n(rt),{key:0,class:"loader"})):V("",!0),c("div",{class:F(["card-container",{loading:e.loading}])},[e.title?(f(),w("div",{key:0,class:F(["card-header",{collapsible:e.collapsible}])},[c("div",yl,[e.icon?(f(),w("i",{key:0,class:F(["icon",e.icon])},null,2)):V("",!0),E(" "+x(e.title),1)]),K(e.$slots,"actions",{},void 0,!0)],2)):(f(),w("div",{key:1,class:F(["card-no-header",{compact:e.compact}])},null,2)),c("div",{class:F(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[K(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const Y=S($l,[["__scopeId","data-v-317ddfe2"]]),wl=k({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(o){return(e,t)=>(f(),D(n(Y),{class:"card-graph",title:e.title,loading:e.loading},{default:$(()=>[_(n(yt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),K(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ve=S(wl,[["__scopeId","data-v-4e0fd9b7"]]),kl={class:"chip"},Cl={class:"label"},Sl=k({__name:"Chip",props:{label:{default:""}},setup(o){return(e,t)=>(f(),w("div",kl,[c("div",Cl,x(e.label),1)]))}});const xl=S(Sl,[["__scopeId","data-v-1eb2caf8"]]),Al=k({__name:"Code",props:{lang:{},code:{}},setup(o){const e=Do.component,t=Ht(),a=C(function(){return t.default?t.default()[0].children:o.code??""});return(s,l)=>(f(),w(se,null,[_(n(e),{language:s.lang,code:a.value},null,8,["language","code"]),V("",!0)],64))}});const U=S(Al,[["__scopeId","data-v-4da5765d"]]),Il={class:"collapsible-inside"},Ll=k({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(o){return(e,t)=>(f(),w("div",{class:F(["collapsible-outside",{expanded:e.expanded}])},[c("div",Il,[K(e.$slots,"default",{},void 0,!0)])],2))}});const Oe=S(Ll,[["__scopeId","data-v-25b74378"]]),Pl={key:1,class:"header"},Dl={key:0,class:"header-icon"},Tl={class:"header-actions"},Ml={key:2,class:"list"},Vl=["onClick"],zl={key:0,class:"sorting-arrows"},Bl={key:0,class:"sorting-arrow fa fa-caret-up"},Ol={key:1,class:"sorting-arrow fa fa-caret-down"},Rl={key:2,class:"sorting-arrow"},Fl={class:"rows"},Ul={key:3,class:"no-data"},Kt=k({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(o,{emit:e}){const t=P(""),a=P(ge.Ascending),s=C(()=>`grid-template-columns: ${o.columnsHeader}`),l=C(()=>{if(o.rowsMin===null)return[];const r=Math.max(0,o.rowsMin-o.rows.length);return new Array(r)});Sn(()=>{o.sortingDefaultColumn&&(t.value=o.sortingDefaultColumn),o.sortingDefaultDir&&(a.value=o.sortingDefaultDir===ge.Ascending?ge.Ascending:ge.Descending)});const u=r=>{e("selected",r)},{t:p}=B(),i=r=>{const g=r+1;return!!(o.rows[r+1]&&o.rows.findIndex(A=>A===o.selectedRow)===g)},d=r=>o.expanded.includes(r),h=r=>{const g=o.sortingColumns[r];return o.sortingColumnsEnabled.includes(g)},m=r=>t.value===o.sortingColumns[r]&&a.value==="Ascending",b=r=>t.value===o.sortingColumns[r]&&a.value==="Descending",v=r=>{if(!o.sorting||!o.sortingColumns||!h(r))return;const g=o.sortingColumns[r];g===t.value?a.value=a.value===ge.Ascending?ge.Descending:ge.Ascending:a.value=ge.Ascending,t.value=g,e("sortColumn",t.value,a.value)};return(r,g)=>(f(),w("div",{class:F(["datatable",{loading:r.loading}])},[r.loading?(f(),D(n(rt),{key:0,class:"loader"})):V("",!0),r.header?(f(),w("div",Pl,[r.icon?(f(),w("div",Dl,[c("i",{class:F(r.icon)},null,2)])):V("",!0),c("div",{class:"header-title",style:me(s.value)},[K(r.$slots,"header-title",{},void 0,!0)],4),c("div",Tl,[K(r.$slots,"header-actions",{},void 0,!0)])])):V("",!0),r.rowsMin||r.rows&&r.rows.length>0?(f(),w("div",Ml,[c("div",{class:F(["row-data",[r.columnsData,{"selected-below":i(-1)}]])},[K(r.$slots,"column-headers",{},()=>[(f(!0),w(se,null,ce(r.columns,(y,I)=>(f(),w("div",{key:y,class:F(["column-header",{"sortable-header":r.sorting&&h(I),"current-sort":t.value==r.sortingColumns[I]}]),onClick:A=>v(I)},[E(x(y)+" ",1),r.sorting&&h(I)?(f(),w("div",zl,[m(I)?(f(),w("i",Bl)):b(I)?(f(),w("i",Ol)):(f(),w("span",Rl," — "))])):V("",!0)],10,Vl))),128))],!0)],2),c("div",Fl,[(f(!0),w(se,null,ce(r.rows,(y,I)=>(f(),D(n(xt),{key:y,data:y,class:F({"selected-below":i(I)}),columns:r.columnsData,selected:r.selectedRow===y,expanded:d(y),onClick:u},{row:$(()=>[K(r.$slots,"row",{item:y},void 0,!0)]),"row-details":$(()=>[K(r.$slots,"row-details",{item:y},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(f(!0),w(se,null,ce(l.value,y=>(f(),D(n(xt),{key:y}))),128)),r.$slots["row-aggregation"]?(f(),D(n(xt),{key:0,class:"aggregation",columns:r.columnsData},{row:$(()=>[K(r.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])):!r.rowsMin&&!r.loading?(f(),w("div",Ul,[K(r.$slots,"no-data",{},()=>[E(x(n(p)("no-data")),1)],!0)])):V("",!0)],2))}});function ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":t=>{const{normalize:a}=t;return a(["No data :("])}}})}function ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":t=>{const{normalize:a}=t;return a(["没有数据 :("])}}})}typeof ca=="function"&&ca(Kt);typeof ua=="function"&&ua(Kt);const ye=S(Kt,[["__scopeId","data-v-50e85b9c"]]),El=o=>(te("data-v-45ff862c"),o=o(),ae(),o),Wl=El(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),ql=[Wl],Hl={class:"row-details"},Nl=k({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(o,{emit:e}){const t=Ht(),a=C(()=>{var u;const l=t["row-details"];if(l){const p=(u=l()[0])==null?void 0:u.children;if(p)return p.length>0}return!1}),s=()=>{e("click",o.data)};return(l,u)=>(f(),w("div",{class:F(["row",{expanded:l.expanded}])},[c("div",{class:F(["row-data item",[l.columns,{active:l.selected,expandable:a.value}]]),onClick:s},[K(l.$slots,"row",{},void 0,!0),a.value?(f(),w("div",{key:0,class:F(["expander",{expanded:l.expanded}])},ql,2)):V("",!0)],2),_(n(Oe),{expanded:l.expanded},{default:$(()=>[c("div",Hl,[K(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const xt=S(Nl,[["__scopeId","data-v-45ff862c"]]),Gl=k({__name:"GraphApex",props:{options:{},series:{}},setup(o){return(e,t)=>{const a=je("apexchart");return f(),D(a,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const yt=S(Gl,[["__scopeId","data-v-3e2879ed"]]),Ql=["min","max","value"],Yl=k({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(f(),w("input",{type:"number",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Ql))}});const Zt=S(Yl,[["__scopeId","data-v-c7790403"]]),jl=o=>(te("data-v-e9d8f446"),o=o(),ae(),o),Jl={class:"input-text"},Kl={key:0,class:"icon"},Zl=jl(()=>c("i",{class:"fas fa-search"},null,-1)),Xl=[Zl],er=["type","value","placeholder","onInput"],tr=["onClick"],ar=k({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(o,{emit:e}){const t=C(()=>{const s=o.options.filter(u=>o.filter(o.modelValue,u));return o.sort?[...s].sort(o.sort):s}),a=s=>{const l=s.target.value;e("update:modelValue",l),e("input",l)};return(s,l)=>(f(),w("div",Jl,[s.search?(f(),w("span",Kl,Xl)):V("",!0),c("input",{type:s.search?"search":"text",value:s.modelValue,placeholder:s.placeholder,onInput:xe(a,["stop"]),onSelect:l[0]||(l[0]=xe(()=>{},["stop"]))},null,40,er),s.options&&s.autoComplete?(f(),w("div",{key:1,class:F(["items",{selectHide:!s.autoComplete}])},[(f(!0),w(se,null,ce(t.value,(u,p)=>(f(),w("div",{key:p,onClick:i=>e("select",u)},[K(s.$slots,"item",{item:u,idx:p},()=>[E(x(u),1)],!0)],8,tr))),128))],2)):V("",!0)]))}});const pe=S(ar,[["__scopeId","data-v-e9d8f446"]]),or={key:0,class:"value"},sr={key:1,class:"value"},nr=["innerHTML"],lr={key:0,class:"value"},rr={key:1,class:"value"},ir=["innerHTML"],cr={class:"labels"},ur={class:"label"},dr={class:"label-second"},pr=k({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",{class:F(["kpi",{disabled:!e.hasValue}])},[c("div",{class:F(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[K(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(f(),D(n(Me),{key:0},{item:$(()=>[e.hasValue?(f(),w("span",or,x(e.value),1)):(f(),w("span",sr," ? "))]),default:$(()=>[K(e.$slots,"tooltip",{},()=>[c("span",{innerHTML:e.tooltip},null,8,nr)],!0)]),_:3})):(f(),w(se,{key:1},[e.hasValue?(f(),w("span",lr,x(e.value),1)):(f(),w("span",rr," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(f(),D(n(Me),{key:0},{default:$(()=>[c("span",{innerHTML:e.tooltip},null,8,ir)]),_:1})):V("",!0)],2),c("div",cr,[K(e.$slots,"label",{},()=>[c("div",ur,x(e.label),1)],!0),K(e.$slots,"label-second",{},()=>[c("div",dr,x(e.labelSecond),1)],!0)])],2))}});const Pe=S(pr,[["__scopeId","data-v-0123c061"]]),_r={key:0,class:"modal"},mr={class:"modal-popup"},vr=k({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(o,{emit:e}){return M(()=>o.show,t=>{document.body.style.overflow=t?"hidden":""}),(t,a)=>t.show?(f(),w("div",_r,[c("div",{class:"modal-mask",onClick:a[0]||(a[0]=s=>e("close"))}),c("div",mr,[K(t.$slots,"default",{},void 0,!0)])])):V("",!0)}});const hr=S(vr,[["__scopeId","data-v-5f9f89df"]]),fr={class:"buttons"},gr={key:1,class:"not-ready"},Xt=k({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(f(),D(n(hr),{show:a.show},{default:$(()=>[_(n(Y),{title:a.title},{default:$(()=>[K(a.$slots,"default",{},void 0,!0),c("div",fr,[_(n(Z),{class:"no",value:n(t)("no"),onClick:s[0]||(s[0]=l=>e("no"))},null,8,["value"]),a.ready?(f(),D(n(Z),{key:0,class:"yes",value:n(t)("yes"),onClick:s[1]||(s[1]=l=>e("yes"))},null,8,["value"])):(f(),w("div",gr,x(a.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:t=>{const{normalize:a}=t;return a(["Yes"])},no:t=>{const{normalize:a}=t;return a(["No"])}}})}function pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:t=>{const{normalize:a}=t;return a(["是的"])},no:t=>{const{normalize:a}=t;return a(["不是"])}}})}typeof da=="function"&&da(Xt);typeof pa=="function"&&pa(Xt);const br=S(Xt,[["__scopeId","data-v-825b7c02"]]),ea=o=>(te("data-v-05261d5d"),o=o(),ae(),o),yr=ea(()=>c("button",null,"1",-1)),$r=[yr],wr=ea(()=>c("button",null,[c("i",{class:"fas fa-chevron-left"})],-1)),kr=[wr],Cr=["onClick"],Sr=ea(()=>c("button",null,[c("i",{class:"fas fa-chevron-right"})],-1)),xr=[Sr],Ar=k({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(o,{emit:e}){const t=C(()=>Math.ceil(o.itemsCount/o.itemsPerPage)),a=C(()=>{const h=[...Array(12).keys()].map(y=>y-6+o.page).filter(y=>y>=1&&y<=t.value),m=h.findIndex(y=>y===o.page),b=[],v=[],r=o.page!==1&&o.page!==t.value?[o.page]:[];let g=1;for(;;){const y=h[m-g];if(y&&y!==1&&b.unshift(y),b.length+v.length+r.length>=5||g>h.length)break;const I=h[m+g];if(I&&I!==t.value&&v.push(I),g++,b.length+v.length+r.length>=5||g>h.length)break}return[...b,...r,...v]}),s=(i,d,h)=>Math.min(Math.max(i,d),h),l=()=>e("page",s(o.page-1,1,t.value)),u=()=>e("page",s(o.page+1,1,t.value)),p=i=>e("page",s(i,1,t.value));return(i,d)=>(f(),w("ul",null,[c("li",{class:F({active:i.page===1}),onClick:d[0]||(d[0]=h=>p(1))},$r,2),t.value>2?(f(),w("li",{key:0,onClick:l},kr)):V("",!0),(f(!0),w(se,null,ce(a.value,h=>(f(),w("li",{key:h,class:F({active:h===i.page}),onClick:m=>p(h)},[c("button",null,x(h),1)],10,Cr))),128)),t.value>2?(f(),w("li",{key:1,onClick:u},xr)):V("",!0),t.value>1?(f(),w("li",{key:2,class:F({active:i.page===t.value}),onClick:d[1]||(d[1]=h=>p(t.value))},[c("button",null,x(t.value),1)],2)):V("",!0)]))}});const Je=S(Ar,[["__scopeId","data-v-05261d5d"]]),Ir=o=>(te("data-v-18a4b249"),o=o(),ae(),o),Lr={class:"select"},Pr={class:"item"},Dr={key:0,class:"label"},Tr=["onClick"],Mr=Ir(()=>c("div",{class:"chevrons"},[c("i",{class:"fas fa-chevron-up"}),c("i",{class:"fas fa-chevron-down"})],-1)),Vr=k({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(o,{emit:e}){return(t,a)=>(f(),w("div",{class:"select-container",tabindex:"0",onClick:a[0]||(a[0]=xe(s=>e("open"),["stop"])),onBlur:a[1]||(a[1]=s=>e("close"))},[c("div",Lr,[c("div",{class:F(["selected",{open:t.open}])},[K(t.$slots,"item",{item:t.selected},()=>[c("div",Pr,x(t.selected),1)],!0),t.label?(f(),w("div",Dr,x(t.label),1)):V("",!0)],2),c("div",{class:F(["items",{selectHide:!t.open}])},[(f(!0),w(se,null,ce(t.options,(s,l)=>(f(),w("div",{key:l,onClick:u=>e("input",s)},[K(t.$slots,"item",{item:s},()=>[E(x(s),1)],!0)],8,Tr))),128))],2)]),Mr],32))}});const Re=S(Vr,[["__scopeId","data-v-18a4b249"]]),zr={class:"item"},Br={class:"label"},_a="locale",Jo=k({__name:"SelectLanguage",props:{locales:{default:()=>Rr},direction:{default:"up"}},setup(o){const{t:e}=B(),{locale:t}=B({useScope:"global"}),a=P("en"),s=P(!1);q(()=>{const p=localStorage.getItem(_a);p&&o.locales.some(i=>i===p)&&u(p)});const l=()=>{s.value=!s.value},u=p=>{a.value=p,t.value=a.value,localStorage.setItem(_a,a.value)};return(p,i)=>(f(),D(n(Re),{class:F(["select",{"direction-up":p.direction==="up"}]),options:p.locales.map(d=>d),selected:a.value,open:s.value,onOpen:l,onClose:i[0]||(i[0]=d=>s.value=!1),onInput:u},{item:$(d=>[c("div",zr,[c("div",Br,x(n(e)(d.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:t=>{const{normalize:a}=t;return a(["English"])},zh:t=>{const{normalize:a}=t;return a(["中文"])},fr:t=>{const{normalize:a}=t;return a(["Français"])}}})}typeof ma=="function"&&ma(Jo);const Or=S(Jo,[["__scopeId","data-v-8b3337a5"]]),Rr=["en","zh","fr"],Fr=["min","max","value"],Ur=k({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(o,{emit:e}){const t=a=>{e("update:modelValue",a.target.value)};return(a,s)=>(f(),w("input",{type:"range",min:a.min,max:a.max,value:a.modelValue,onInput:t},null,40,Fr))}});const Er=S(Ur,[["__scopeId","data-v-d52b357b"]]);var ge=(o=>(o.Ascending="Ascending",o.Descending="Descending",o))(ge||{});const Wr={},Ko=o=>(te("data-v-ad2adcec"),o=o(),ae(),o),qr={class:"lds-ripple"},Hr=Ko(()=>c("div",null,null,-1)),Nr=Ko(()=>c("div",null,null,-1)),Gr=[Hr,Nr];function Qr(o,e){return f(),w("div",qr,Gr)}const rt=S(Wr,[["render",Qr],["__scopeId","data-v-ad2adcec"]]),le=k({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(o){return(e,t)=>K(e.$slots,"default")}}),Yr={class:"tab-view"},jr={class:"tab-headers"},Jr=["onClick"],Kr={class:"tabs"},Zr=k({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(o,{emit:e}){const t=P(null),a=Ht(),s=C(()=>a!=null&&a.default?a.default():[]);M(()=>o.active,u=>{t.value=u,e("tab",{tab:s.value[u],index:t.value})},{immediate:!0});const l=(u,p)=>{u.props.disabled||(t.value=p,e("tab",{tab:s.value[p],index:t.value}))};return(u,p)=>(f(),w("div",Yr,[c("ul",jr,[(f(!0),w(se,null,ce(s.value,(i,d)=>(f(),w("li",{key:d,class:F(["tab-header",{active:t.value===d,disabled:i.props.disabled}]),onClick:h=>l(i,d)},x(i.props.header),11,Jr))),128))]),c("div",Kr,[(f(!0),w(se,null,ce(s.value,(i,d)=>To((f(),w("div",{key:d,class:"tab"},[(f(),D(qt(i)))])),[[Mo,t.value===d]])),128))])]))}});const Ze=S(Zr,[["__scopeId","data-v-4a99a489"]]),Xr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",ei={key:1,src:Xr},ti=k({__name:"Tooltip",props:{icon:{default:""}},setup(o){const e=P(!1);return(t,a)=>(f(),D(n(xn),{class:"tooltip",show:e.value},{content:$(()=>[K(t.$slots,"default",{},void 0,!0)]),default:$(()=>[c("div",{onMouseover:a[0]||(a[0]=s=>e.value=!0),onMouseleave:a[1]||(a[1]=s=>e.value=!1)},[K(t.$slots,"item",{},()=>[t.icon?(f(),w("i",{key:0,class:F(t.icon)},null,2)):(f(),w("img",ei))],!0)],32)]),_:3},8,["show"]))}});const Me=S(ti,[["__scopeId","data-v-2158cb4b"]]);function oe(o,e){const t=P(!1),a=P(e);return{loading:t,data:a,loadData:()=>(t.value=!0,nl(async()=>{a.value=await o(),t.value=!1}))}}const ai={class:"legend"},oi=["onClick"],si={class:"label"},ni=k({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(o,{emit:e}){const t=a=>o.colors[a];return(a,s)=>(f(),w("div",ai,[(f(!0),w(se,null,ce(a.items,(l,u)=>(f(),w("div",{key:l,class:F(["item",{clickable:a.clickable,disabled:a.disabled.includes(l)}]),onClick:p=>{a.clickable&&e("click",l)}},[c("div",{class:"color",style:me({"background-color":t(u)})},null,4),c("div",si,x(l),1)],10,oi))),128))]))}});const Ee=S(ni,[["__scopeId","data-v-b0a9ca48"]]);function At(o){return(o==null?void 0:o.children)!==void 0}function va(o){return(o==null?void 0:o.to)!==void 0}const li={key:0},ri={class:"nav-link-container"},ii={class:"nav-link-container"},ci={class:"left"},ui={class:"right"},di=k({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(o,{emit:e}){const t=Fe(),a=P(!0),s=C(()=>va(o.item)?[o.item]:At(o.item)?o.item.children:[]),l=()=>{At(o.item)&&o.item.children.filter(i=>Mt(i.to,t)).length>0&&(a.value=!0)};M(()=>o.item,()=>{l()},{immediate:!0}),M(()=>t.fullPath,()=>{l()},{immediate:!0});const u=()=>{a.value=!a.value};return(p,i)=>{const d=je("router-link");return f(),w(se,null,[n(At)(p.item)?(f(),w("li",li,[c("a",{class:"nav-link node",onClick:u},[c("div",ri,[E(x(p.item.label)+" ",1),c("i",{class:F(["expander fas fa-chevron-up",{expanded:a.value}])},null,2)])])])):V("",!0),_(n(Oe),{class:"items",expanded:a.value},{default:$(()=>[c("ul",null,[(f(!0),w(se,null,ce(s.value,h=>(f(),w("li",{key:h.label},[n(va)(h)?(f(),D(d,{key:0,to:h.to,class:F(["nav-link leaf",{"router-link-active":n(Mt)(h.to,n(t))}]),onClick:i[0]||(i[0]=m=>e("navigated"))},{default:$(()=>[c("div",ii,[c("div",ci,x(h.label),1),c("div",ui,[h.tag==="beta"?(f(),D(n(xl),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const pi=S(di,[["__scopeId","data-v-d8ba8816"]]),_i=k({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(o,{emit:e}){const t=Fe(),a=C(()=>o.pages.find(l=>Mt(l.titleRoute,t))),s=C(()=>{var l;return((l=a.value)==null?void 0:l.menuItems)??[]});return(l,u)=>(f(),w("nav",null,[(f(!0),w(se,null,ce(s.value,p=>(f(),w("ul",{key:p.label},[_(pi,{item:p,onNavigated:u[0]||(u[0]=i=>e("navigated"))},null,8,["item"])]))),128))]))}});const mi=S(_i,[["__scopeId","data-v-59493144"]]),vi="/assets/crv-ca6314ed.png",hi="/assets/hat-80c6c9b1.png";const fi={},Zo=o=>(te("data-v-20a1bb61"),o=o(),ae(),o),gi={class:"logo"},bi=Zo(()=>c("div",{class:"visual"},[c("img",{src:vi}),c("img",{src:hi})],-1)),yi=Zo(()=>c("span",null,"curve.monitor",-1)),$i=[bi,yi];function wi(o,e){return f(),w("div",gi,$i)}const ki=S(fi,[["render",wi],["__scopeId","data-v-20a1bb61"]]),Ci={class:"header"},Si={class:"buttons"},xi=k({__name:"Header",emits:["toggle-expansion","navigated"],setup(o,{emit:e}){return(t,a)=>{const s=je("router-link");return f(),w("div",Ci,[_(s,{class:"logo",to:"/",onClick:a[0]||(a[0]=l=>e("navigated"))},{default:$(()=>[_(ki,{class:"logo"})]),_:1}),c("div",Si,[_(n(Z),{icon:"fas fa-bars",onClick:a[1]||(a[1]=l=>e("toggle-expansion"))})])])}}});const Ai=S(xi,[["__scopeId","data-v-02982544"]]),Ii="data:image/gif;base64,R0lGODdhbwEWANUAAAAAAP/vAP/3AO/WAL2tAP/3rf/3nP/3MbWlAO/eAMa1APfnAAgAAN7OAEpCABAQAJycnCEYAK2trSkpAIx7AFpSAEI5AIR7ADExMdbGAJSEAJyMADk5APfnMXNjAKWUAK2cAGNaAHtzAHNrADk5OSkpKWNSAJycraWlnP//nMa1CMa9nN7WrVpaMYSEhOfWMb21GO/nrUpCMb21MbWtMZyUMca9ra2lCN7WnIR7MVpaWkpCEJyUGCkhCM7GnAAAACwAAAAAbwEWAAAG/0CIcEgsClGGpHK5TBlQRqOPSVWmcNWsdsvter/gsHhMLpvP3KgasnJyV+shspuCHyX4vD5/YhX+gIGCNid7e4WCiYExEoqOj5CRkpOUlZaXmJmam5yRhp8SiJIshaB4fZOMEhAnOiUYsLGyGCU1Bx0Hube6vAc5r7OyJS24usW5xwcvMiXHyca90bzPvdS70NPS1dnXyNrc29LW3t/k0dbU48nr4OXu4+3Y3yTBwcO4ztEzwPW0GDTtji17BUECCQAIEypEOGFAgIcQI0bcsLAigAcKJGqEuMABAAYSFwwYObLBQ5EkA5BM+XClypUOBywISTKBTJcBUJLUubGnyv8GI39KHNCgqEaYDnPibFkU6MuXM2GifOly5MyIQGG2ZImV6FaUOq2KRaqxqUmJWYOeXPqQgcWFGAX4fNggwluFFeZGNJGw4MG7CDPqfajALWAAH+QODuABIQPFD0HAVSBAMkINAfgmZEBAQIMJDANQUMjZggMNCSASMIyQAOjWohdmQMiBQtK5Cjx+uBDhgoO8LSk8cFDYAgiInxVGSCBAwQOEISB+mPCAQIUHJiZ0fu4ABGsNjQEMqKCw+0UHGyAOsKvwgoABzwE4iAhiAgMFFSxQ4ACCAMINISQ0QWEAjPABXBlAlAFfIlBUgWABKLDQfAKMhtAHEh12IWQ+eXT/WEOLUdSXQYddsFgAdWkoAodzabCZRAKIoFB6D8noQUseImTBAs09EEEGAnS0WQMgcHcWYwohMMAFzxHwEAcKDfCBYRzcttEFbnkwk4sAADcAaAw0UCFCIij4GkIjPOSiA6khyQACASTQ2AMICPDcBgT+txoACWRwpgMDyIgQcBEqxMFDAiDAwARnCQlAeuNduFpD5DHUQGM3BugYhg8R8BwHM3n0wHGRxYdQnQuQl6ZErL214mCCAsYZixs5p5BfgHHQpl4JWKChA1fplWirMB6YkJMtxRWAZ+xtKIADI8gV45ABQCnfTGMmBIIAAhwI57MKJbCAr2TS+hACxyIq/yNwHj7A7Z6IIWoZQnEJEEGdhQLAgWICeDDrAxMIAO+jAgQoLrnXJrCZYAon5AC/Fpj4UHgRmMStrx9ImFiOEySgsAcCcHkRZSiyF222GKmrHI8ZLKdRqxUBO5ixh1FgbkgII4TrW8oOpilgFd8ckQAtkwajiKdClMADQCI6gkIdPyuxAE87ZhLCdWZ7KrcLTJB1juI52qVP1gKAbJwMVJBoQu4KbJjLOYGttr2dTfsfj0QDUOcD0Q68gQAUeVw2mw1fJlcD5UHmAAXLFg1ABANIu9oH/kVe6eMOTWBCyAvLVTUAIAtwQULRxQmfQja3vCtEMCt3pE+OAybzYJ+P+P+XRa/CquGsi325EEhDi6y30kxL+0F9CoHsQJkTU1t2dFrrHTJq2II9QAI5glwra2cHUMHDl7c9sJNUD8zAtvfK9bN8H0SuAZAPup2QBp4B22tCOw6w2bYqJQ7R4tyyEAAYxZEIfCADWgoAxyJHAZsJ8D5BMtXJRueY1AxAAzR7XFEgp5G7vEloLSnbXYI2mHndikQWscCJvKMhmy0mVRUBHkQAp5CzwSdByxKBB/zDtgRUgHn9ohbCdhQ9BCwgAidbFtgORi+SwUh43WsAZUwlPoWsSAD8oSBtjlg3ASYkAvTjl8BmJK33DG4BhetYS/z3EAB674tiQlQGmiaXyzH/ilvLEmBc8gQ6bmlRel3LTfJU97K3uGcwl/NgZwaTAVOd8HaGspJPknMYQg0GaQs5WpKIR0cR7CiRFdgAZpb1uTBVSyFi8iIBoBQtRFmvSAOEEIwS2T1unY5e72JNCLjFgQsk4EwA0MAF8NUAR5JuaH6LyP0Q4oAGULACcUQRGxVos3HBcWgcyhEHIfJAyqArIaH7498CyUe9heB1y2qdfAbDuRaC8CTAfGQMu+cTsd0FROws54uGhkk4PWRpJBPdwzLQKgQIJohWC0DOUlnD0bRSiQohKAAs8AHmbARc6RraLS+SS9JdzGaY/NFBbVWRvyFqYPRTGsIcgIDnVMCf/2t0mOIYl4CyEbAnArDjkbRWnbUlZIJkPCJl1kccSQagddvEjTEtMru5FOwuO7PiO5t3mJ7phZIxfGINiRfHGM0nAH+0wK5KaZKyMYA5XqyTBZKIUYQkAF4TaBqM1kfPh1DxXe1ZVm3kkrPS5WQBDQiBMSsQLEUlxKT/PKPIZoc4mf6vmghL6kYWGJFuNkchQE0IqiJAmRRpi1YxdKJPfPeh1flEA+rUGQoTcqipCu8uKR3MAHL2O01qVj1MQ5RvlvVLhXAKSQlFGGGL2BwCJMBiSxTbLjVSGe5FBI05ZZtcxvdRbvFRWSLYHNFE0CyxnnRGERnAGQtHsP45to02Q/+oBiGzgGC9kSFW0iNljghOP24mNULllvAm4N62LMSFelnfW3401W9CdbUfkSVOB3YX7S0mPHexbdJask2BYiuDUyPrKf8TwCRxC4vptZ7YLPlcU3WPApsz8AOWBS+XYXFqEP6g95bzYcf5VX6XmeEyJ+oxhaRUf+dVKIZwfNOHhOC3ba3YDB9Yt8+FMyHAESpEyvYAo7aKxD157VsSI9tmvSWqAADwXGJ3Fzad6I8WkaG8nJvHgKkLVFNOCONI6TxmYkt4WTsQ49rKpxETwKiiS8hBP5NSconPMOnhZe4GYJhZPRXAAiAX/1jMGi6fZKUiaU8DPNashy1LAXFVjIf/SCiw3ELEjrdp58gOZ5iTCZAyAkhABBYZAAPDLSKsaQgIS62h5Q4GbF9ebVMn6eW35GWqsTnMY0LysxC0VwM9S87ZZoMQFw4gR2GCJZsUsz4EOPM5KRVhRiD8AFNuRDPOXgAIIkAo3z1ATBTMnaeKLCLeBYgBGpjJugFwSIhg8gLB8hNrG2BNx4i1W/EhIAGQyK8GWCs9CRBObFUSWQgtIMak4jWcPXI+xYzOzEZGiGQfwjbR9gSr9+xvT9Ac7L9w9p0FB4yuF9PS3fUEecFkEr5yUqkqQyQ8Jgo02wjwGxDwqFOtco2chf7F45LrXnP5AJQ2wCSA61g4xHmAcZDz/xoV8tZXH+zXbwp0IAvAlDBe7njcFpIXBbCHA3RUgGYc4CmrX90uuYF6RGo3wKu8lsCNC5AIXBQ/Spfr03a59UmewwDE1hPYFrGqTzylIQDg6uWDgfBderoYz2roonJZgAIIfnSOiMu0HkMUGk+P32VJxGOrj/XpTwL72R8uA6UHfZyKEjkY5SQry2Iv7Ge4eo7wiCjHdf0M41R7cZkejdBf1gIygM7QNwD3qaFVkICSAYs+t/ltCtLpiz/DWGcFj0qDPr/IL5Hn+HUuLLfIxEcrQsD4hQHdvx5SiDISL94F4DZBElmRFkRBWx4UgEhhEx6zfwx4PQg4Egr4gBKof/8BWIE1cYEQ+IACeD2bBoEOuH8IqIEYqH8fiIEKCBMd+IEnSIIsSIEeuIItCBMV6DEWWBMhWIMwyII0OIIaGIFIUUwP0D4rMYBEsQAZVGY72IADIGCAgQIu0AMbQABSiAAIQABUaIVSqACxIjsKUIVXWIVSOIVSGE+HgYVeaIVnCIZpaIZmmIZrSIVfiIZtyIZw6IZvKIdgGIZi6IVu2IZx+IZnSId4OIh7KIh8OIeAWIeGiIWGeIh3+IV9aId2uIiOSABFQndyqIdZuAGppRz9UYhryHeH4QIFogAEYIqoeIp6uAFLVRHaoYqqaIqxeIqJVHmzeIsKkIqzKIu6mIpRvBiLvYiLsOiLWTiMwiiLxfiLyAiLx5iMzMiMwaiMxiiN0niLWUiMzViMYYiN0TiNzmiNzViNKnADO8ADMKAC5/iMXUiGFnEBuRiOrFh5CREEADs=",Li=o=>(te("data-v-2a3f89a0"),o=o(),ae(),o),Pi={class:"buttons"},Di=Li(()=>c("i",{class:"fas fa-trash"},null,-1)),Ti=["innerHTML"],ta=k({__name:"WalletConnectButton",emits:["connected"],setup(o,{emit:e}){const{t}=B(),a=Go(),s=async()=>{await Qo(!0);const u=Be(),p=await Yo(u);a.connected=p,p&&e("connected")},l=()=>{window.localStorage.removeItem("connectedWallet")};return(u,p)=>(f(),w("div",Pi,[_(n(Z),{class:"button",primary:!0,onClick:s},{default:$(()=>[E(x(n(t)("connect-your-wallet")),1)]),_:1}),_(n(Me),{class:"tooltip"},{item:$(()=>[_(n(Z),{class:"button clear",onClick:l},{default:$(()=>[Di]),_:1})]),default:$(()=>[c("div",{class:"ping",innerHTML:n(t)("clear-cache")},null,8,Ti)]),_:1})]))}});function ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["Connect Wallet"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["连接你的钱包"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof ha=="function"&&ha(ta);typeof fa=="function"&&fa(ta);const Mi=S(ta,[["__scopeId","data-v-2a3f89a0"]]),Vi={class:"wallet"},zi={key:0,class:"connected"},Bi={key:0,class:"incorrectNetwork"},Oi={class:"info"},Ri={key:1,class:"notConnected"},Fi={key:0,class:"info"},Xo=k({__name:"Wallet",props:{labelPleaseConnect:{}},setup(o){const{t:e}=B(),t=Go(),a=C(()=>t.connected),s=C(()=>t.correctNetwork),l=C(()=>Se(t.address));q(async()=>{await Qo();const i=Be(),d=await Yo(i);t.connected=d;const h=await jo(i);t.correctNetwork=h}),M(()=>t.connected,async i=>{const d=Be(),h=d&&i?await hl(d):void 0;t.setAddress(h)},{immediate:!0});const u=async()=>{const i=Be();i&&(await i.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},p=async()=>{await vl(),t.connected=!1};return(i,d)=>(f(),w("div",Vi,[a.value?(f(),w("div",zi,[s.value?V("",!0):(f(),w("div",Bi,[_(n(Z),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:u}),c("span",Oi,x(n(e)("incorrect-network")),1)])),_(n(Z),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:p},null,8,["value"])])):(f(),w("div",Ri,[_(Mi),i.labelPleaseConnect?(f(),w("span",Fi,x(i.labelPleaseConnect),1)):V("",!0)]))]))}});function ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":t=>{const{normalize:a}=t;return a(["You are not on the correct network; should be Ethereum"])}}})}typeof ga=="function"&&ga(Xo);const Ui=S(Xo,[["__scopeId","data-v-7d2ec4f7"]]),Ne={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Ei=[Ne.blue,Ne.yellow,Ne.green,Ne.red,Ne.purple],Ge={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Wi=[Ge.blue,Ge.yellow,Ge.green,Ge.red,Ge.purple],Qe={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},qi=[Qe.blue,Qe.yellow,Qe.green,Qe.red,Qe.purple];function W(o){return o==="chad"?Qe:o==="light"?Ge:Ne}function X(o){return o==="chad"?qi:o==="light"?Wi:Ei}const N=Ae({id:"settingsStore",state:()=>({theme:"light"})}),Hi={class:"theme"},Ni={class:"label"},Gi={class:"colors"},Qi=k({__name:"SelectTheme",setup(o){const e=[{id:"chad",colors:W("chad")},{id:"dark",colors:W("dark")},{id:"light",colors:W("light")}],t=N(),a=P(e[0]),s=P(!1);q(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)").matches,i=localStorage.getItem("theme");if(!i&&p)u(e.find(d=>d.id==="dark"));else{const d=e.find(h=>h.id===i)??e.find(h=>h.id==="light")??e[0];u(d)}});const l=()=>{s.value=!s.value},u=p=>{a.value=p,window.document.documentElement.setAttribute("data-theme",a.value.id),t.theme=a.value.id,localStorage.setItem("theme",a.value.id)};return(p,i)=>(f(),D(n(Re),{class:"select direction-up",options:e.map(d=>d),selected:a.value,open:s.value,onOpen:l,onClose:i[0]||(i[0]=d=>s.value=!1),onInput:u},{item:$(d=>[c("div",Hi,[c("div",Ni,x(d.item.id),1),c("div",Gi,[c("div",{class:"color",style:me({"background-color":d.item.colors.backgroundColor})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.level1})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.level2})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.blue})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.yellow})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.green})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.red})},null,4),c("div",{class:"color",style:me({"background-color":d.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const Yi=S(Qi,[["__scopeId","data-v-e1d0d9c3"]]),ji=o=>(te("data-v-2aa2a20b"),o=o(),ae(),o),Ji={class:"bottom"},Ki=ji(()=>c("div",{class:"wip"},[c("img",{src:Ii}),E(" for real though issa WIP ")],-1)),Zi={class:"buttons"},Xi={href:"https://twitter.com/0xAlunara",target:"_blank"},ec={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},tc={class:"selectors"},ac=k({__name:"Bottom",emits:["navigated"],setup(o,{emit:e}){const t=async()=>{await navigator.clipboard.writeText(window.location.href)};return(a,s)=>{const l=je("router-link");return f(),w("div",Ji,[Ki,c("div",Zi,[_(n(Z),{class:"copy",icon:"fas fa-link",onClick:t}),c("a",Xi,[_(n(Z),{icon:"fab fa-twitter"})]),c("a",ec,[_(n(Z),{icon:"fab fa-github"})]),_(l,{to:"/code"},{default:$(()=>[_(n(Z),{icon:"fas fa-code",onClick:s[0]||(s[0]=u=>e("navigated"))})]),_:1})]),c("div",tc,[_(Yi,{class:"themes"}),_(n(Or),{class:"langs",locales:["en"]})]),_(Ui)])}}});const oc=S(ac,[["__scopeId","data-v-2aa2a20b"]]),aa=Ae({id:"pageStore",state:()=>({pages:[]})}),sc=k({__name:"Navigation",emits:["navigated"],setup(o,{emit:e}){const t=aa(),a=P(!1),s=()=>{a.value=!1,e("navigated")};return(l,u)=>(f(),w("div",{class:F(["menu-desktop",{expanded:a.value}])},[_(Ai,{onToggleExpansion:u[0]||(u[0]=p=>a.value=!a.value),onNavigated:s}),_(n(Oe),{class:"menu-content",expanded:a.value},{default:$(()=>[_(n(mi),{pages:n(t).pages,onNavigated:s},null,8,["pages"]),_(oc,{onNavigated:s})]),_:1},8,["expanded"])],2))}});const nc=S(sc,[["__scopeId","data-v-138f47e8"]]),oa=Ae({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),lc={class:"root"},rc={class:"main"},ic={class:"content"},cc=k({__name:"App",setup(o){const e=oa(),t=Fe(),a=Ke();M(()=>t.fullPath,l=>{l.includes("crvusd")||(e.show=!1)});const s=async l=>{l.pathName&&await a.push({name:l.pathName})};return(l,u)=>{const p=je("notifications"),i=je("router-view");return f(),w("div",lc,[_(p,{width:600,duration:-1}),_(nc,{class:"navigation"}),c("main",rc,[_(ia,{name:"fade",mode:"out-in"},{default:$(()=>[n(e).show?(f(),D(n(No),{key:0,class:"breadcrumb",crumbs:n(e).crumbs,onCrumb:s},null,8,["crumbs"])):V("",!0)]),_:1}),c("div",ic,[_(i,null,{default:$(({Component:d})=>[_(ia,{name:"fade",mode:"out-in"},{default:$(()=>[(f(),D(qt(d)))]),_:2},1024)]),_:1})])])])}}});const uc=S(cc,[["__scopeId","data-v-04f4b2f7"]]),dc="/assets/404-3a4df870.png",pc=o=>(te("data-v-c157f3ee"),o=o(),ae(),o),_c={class:"not-found"},mc={class:"not-found-container"},vc=pc(()=>c("img",{src:dc},null,-1)),es=k({__name:"NotFound",setup(o){const{t:e}=B();return(t,a)=>(f(),w("div",_c,[c("div",mc,[_(n(Y),null,{default:$(()=>[E(x(n(e)("404")),1)]),_:1}),vc])]))}});function ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:t=>{const{normalize:a}=t;return a(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof ba=="function"&&ba(es);const hc=S(es,[["__scopeId","data-v-c157f3ee"]]),fc={class:"contracts"},gc={class:"row"},bc=["href"],yc=["href"],ts=k({__name:"Code",setup(o){const{t:e}=B(),s=[{name:"Llama Airforce",contracts:[{contract:Jt,description:"multisig",gnosis:!0},{contract:Xn,description:"treasury",gnosis:!0},{contract:el,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:Fo,description:"gauge-factory"},{contract:Uo,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],u=p=>{switch(p.network){case"arbitrum":return p.gnosis?`https://app.safe.global/arb1:${p.contract}`:`https://arbiscan.io/address/${p.contract}`;case"ethereum":default:return p.gnosis?`https://app.safe.global/eth:${p.contract}`:`https://etherscan.io/address/${p.contract}`}};return(p,i)=>(f(),w("div",fc,[c("div",gc,[_(n(ye),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[n(e)("repository"),n(e)("description")]},{"header-title":$(()=>[c("div",null,x(n(e)("repositories")),1)]),row:$(d=>[c("div",null,[c("a",{href:d.item.url,target:"_blank"},x(d.item.name),9,bc)]),c("div",null,x(n(e)(d.item.description)),1)]),_:1},8,["columns"])]),(f(),w(se,null,ce(s,(d,h)=>_(n(ye),{key:h,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:d.contracts,columns:[n(e)("contract"),n(e)("description")]},{"header-title":$(()=>[c("div",null,x(n(e)(d.name)),1)]),row:$(m=>[c("div",null,[c("a",{href:u(m.item),target:"_blank"},x(m.item.contract),9,yc)]),c("div",null,x(n(e)(m.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function ya(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:t=>{const{normalize:a}=t;return a(["Repositories"])},repository:t=>{const{normalize:a}=t;return a(["Repository"])},description:t=>{const{normalize:a}=t;return a(["Description"])},contract:t=>{const{normalize:a}=t;return a(["Contract"])},other:t=>{const{normalize:a}=t;return a(["Other"])},"repo-laf":t=>{const{normalize:a}=t;return a(["This website's front-end, excluding the Union"])},"repo-graphs":t=>{const{normalize:a}=t;return a(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:t=>{const{normalize:a}=t;return a(["Multisig"])},treasury:t=>{const{normalize:a}=t;return a(["Treasury"])},"treasury-arbitrum":t=>{const{normalize:a}=t;return a(["Treasury Arbitrum"])},"gauge-factory":t=>{const{normalize:a}=t;return a(["Gauge Factory"])},"gauge-controller":t=>{const{normalize:a}=t;return a(["Gauge Controller"])}}})}typeof ya=="function"&&ya(ts);const $c=S(ts,[["__scopeId","data-v-1ccda060"]]);function wc(){const o=aa(),e=[{path:"/code",component:$c},...o.pages.flatMap(a=>a.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:hc}];return An({history:In(),routes:e})}const ie={blue:"rgb(32, 129, 240)",yellow:"rgb(255, 204, 0)",green:"rgb(126, 217, 87)",red:"rgb(255, 87, 87)",purple:"rgb(140, 82, 255)",backgroundColor:"#212124",level1:"#212124",level2:"#27272a",level3:"#303034",level4:"#35353b",level5:"#71717a",level6:"#aea8af",text:"#fafafa"},kc=[ie.blue,ie.yellow,ie.green,ie.red,ie.purple],Cc=o=>(te("data-v-fa8a7ca8"),o=o(),ae(),o),Sc={class:"colors"},xc={class:"dashboard"},Ac=Cc(()=>c("div",null,"Colors",-1)),Ic=k({__name:"Colors",setup(o){const e=[{variable:"var(--c-lvl0)",value:ie.backgroundColor},{variable:"var(--c-lvl1)",value:ie.level1},{variable:"var(--c-lvl2)",value:ie.level2},{variable:"var(--c-lvl3)",value:ie.level3},{variable:"var(--c-lvl4)",value:ie.level4},{variable:"var(--c-lvl5)",value:ie.level5},{variable:"var(--c-lvl6)",value:ie.level6},{variable:"var(--c-text)",value:ie.text},{variable:"var(--c-red)",value:ie.red},{variable:"var(--c-green)",value:ie.green},{variable:"var(--c-blue)",value:ie.blue},{variable:"var(--c-yellow)",value:ie.yellow},{variable:"var(--c-purple)",value:ie.purple}];return(t,a)=>(f(),w("div",Sc,[c("div",xc,[_(n(ye),{class:"datatable-colors","columns-header":"1fr","columns-data":"colors-columns-data",rows:e,columns:["Variable","Value","Preview"]},{"header-title":$(()=>[Ac]),row:$(s=>[c("div",null,x(s.item.variable),1),c("div",null,x(s.item.value),1),c("div",{class:"preview",style:me({"background-color":s.item.value})},null,4)]),_:1})])]))}});const Lc=S(Ic,[["__scopeId","data-v-fa8a7ca8"]]),Pc={class:"item"},Dc={class:"title"},Tc=k({__name:"Recipe",props:{title:{}},setup(o){return(e,t)=>(f(),w("div",Pc,[K(e.$slots,"example",{},void 0,!0),c("div",Dc,x(e.title),1),K(e.$slots,"snippets",{},void 0,!0)]))}});const G=S(Tc,[["__scopeId","data-v-e6b1c9ca"]]),Mc={class:"dashboard-root"},Vc={class:"dashboard"},zc=`<template>
  <div class="dashboard-root">
    <div class="dashboard">
      Content goes here
    </div>
  </div>
</template>`,Bc=`<script setup lang="ts">
<\/script>`,Oc=`@import "@/Styles/Variables.scss";

@include dashboard("dashboard-root");
`,Rc=k({__name:"Dashboard",setup(o){return(e,t)=>(f(),w("div",Mc,[c("div",Vc,[_(G,{title:"Dashboard.vue"},{snippets:$(()=>[_(n(U),{lang:"xml",code:zc}),_(n(U),{lang:"typescript",code:Bc}),E(' <style lang="scss" scoped> '),_(n(U),{lang:"scss",code:Oc}),E(" </style> ")]),_:1})])]))}});const Fc=S(Rc,[["__scopeId","data-v-f8a64e67"]]),Uc={class:"socket"},Ec={class:"dashboard"},Wc={class:"connect"},qc=k({__name:"Socket",setup(o){let e=null;const t=P("https://ws.llama.airforce:2053"),a=P(!1),s=()=>{e=bt(`${t.value}`,{autoConnect:!1,reconnection:!1,secure:!0}),e.on("connect_error",u=>console.log(u)),e.on("message",u=>{console.log(u),a.value=!0}),e.connect()},l=()=>{e==null||e.close(),e=null,a.value=!1};return(u,p)=>(f(),w("div",Uc,[c("div",Ec,[c("div",Wc,[_(n(pe),{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=i=>t.value=i)},null,8,["modelValue"]),a.value?(f(),D(n(Z),{key:1,value:"Disconnect",onClick:l})):(f(),D(n(Z),{key:0,value:"Connect",onClick:s}))])])]))}});const Hc=S(qc,[["__scopeId","data-v-3014baa1"]]),Nc={class:"async-value"},Gc={class:"dashboard"},Qc=`<AsyncValue
  :value="50000">
</AsyncValue>`,Yc=`<AsyncValue
  :value="50000"
  type="dollar"
></AsyncValue>`,jc=`<AsyncValue
  :value="50000"
  type="percentage"
></AsyncValue>`,Jc=`<AsyncValue
  :value="null">
</AsyncValue>`,Kc=`<AsyncValue
  :value="0">
</AsyncValue>`,Zc=` <AsyncValue
  :value="0"
  :show-zero="true"
></AsyncValue>`,Xc=`<AsyncValue
  :value="50000"
  :precision="5"
  type="dollar"
></AsyncValue>`,eu=`<AsyncValue
  :value="50000"
  :show-symbol="false"
  type="dollar"
></AsyncValue>`,tu=`<AsyncValue
  :value="50000"
  :show-unit="false"
  type="dollar"
></AsyncValue>`,au=k({__name:"AsyncValue",setup(o){return(e,t)=>(f(),w("div",Nc,[c("div",Gc,[_(G,{title:"AsyncValue"},{example:$(()=>[_(n(O),{value:5e4})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Qc})]),_:1}),_(G,{title:"Dollar"},{example:$(()=>[_(n(O),{value:5e4,type:"dollar"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Yc})]),_:1}),_(G,{title:"Percentage"},{example:$(()=>[_(n(O),{value:5e4,type:"percentage"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:jc})]),_:1}),_(G,{title:"Loading"},{example:$(()=>[_(n(O),{value:null})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Jc})]),_:1}),_(G,{title:"Unknown"},{example:$(()=>[_(n(O),{value:0})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Kc})]),_:1}),_(G,{title:"Zero"},{example:$(()=>[_(n(O),{value:0,"show-zero":!0})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Zc})]),_:1}),_(G,{title:"Precision"},{example:$(()=>[_(n(O),{value:5e4,precision:5,type:"dollar"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Xc})]),_:1}),_(G,{title:"No Symbol"},{example:$(()=>[_(n(O),{value:5e4,"show-symbol":!1,type:"dollar"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:eu})]),_:1}),_(G,{title:"No Unit"},{example:$(()=>[_(n(O),{value:5e4,"show-unit":!1,type:"dollar"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:tu})]),_:1})])]))}});const ou=S(au,[["__scopeId","data-v-dd805ddd"]]),su={class:"breadcrumb"},nu={class:"dashboard"},lu=`<Breadcrumb
  :crumbs="crumbs"
  :active="crumbActive"
  @crumb="onCrumb"
></Breadcrumb>`,ru=`const crumbs: Crumb[] = [
  { id: "home", label: "Home" },
  { id: "crvusd", label: "crvUSD" },
  { id: "market", label: "Market" },
];

const crumbActive = ref({ id: "market", label: "Market" });

const onCrumb = (crumb: Crumb) => {
  crumbActive.value = crumb;
};`,iu=k({__name:"Breadcrumb",setup(o){const e=[{id:"home",label:"Home"},{id:"crvusd",label:"crvUSD"},{id:"market",label:"Market"}],t=P({id:"market",label:"Market"}),a=s=>{t.value=s};return(s,l)=>(f(),w("div",su,[c("div",nu,[_(G,{title:"Breadcrumb"},{example:$(()=>[_(n(No),{crumbs:e,active:t.value,onCrumb:a},null,8,["active"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:lu}),_(n(U),{lang:"typescript",code:ru})]),_:1})])]))}});const cu=S(iu,[["__scopeId","data-v-1b8b0f32"]]),as=o=>(te("data-v-75776ef5"),o=o(),ae(),o),uu={class:"button"},du={class:"dashboard"},pu=as(()=>c("div",{style:{"margin-right":"1rem"}},"Content goes here",-1)),_u=as(()=>c("i",{class:"fas fa-plane"},null,-1)),mu=`<Button
  value="Value"
  :primary="true"
></Button>`,vu=`<Button
  value="Value"
  :primary="false"
></Button>`,hu=`<Button
  value="Value"
  :disabled="true"
></Button>`,fu=`<Button
  value="Value"
  :web3="true"
></Button>`,gu=`<Button
  value="Value"
  icon="fas fa-plane"
></Button>`,bu=`<Button>
  <div style="margin-right: 1rem">Content goes here</div>
  <i class="fas fa-plane"></i>
</Button>`,yu=`<Button
  value="Click me!"
  @click="showAlert('You clicked me!')"
></Button>`,$u="const showAlert = (msg: string) => alert(msg);",wu=k({__name:"Button",setup(o){const e=t=>alert(t);return(t,a)=>(f(),w("div",uu,[c("div",du,[_(G,{title:"Primary"},{example:$(()=>[_(n(Z),{value:"Value",primary:!0})]),snippets:$(()=>[_(n(U),{lang:"xml",code:mu})]),_:1}),_(G,{title:"Not Primary"},{example:$(()=>[_(n(Z),{value:"Value",primary:!1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:vu})]),_:1}),_(G,{title:"Disabled"},{example:$(()=>[_(n(Z),{value:"Value",disabled:!0})]),snippets:$(()=>[_(n(U),{lang:"xml",code:hu})]),_:1}),_(G,{title:"Web3"},{example:$(()=>[_(n(Z),{value:"Value",web3:!0})]),snippets:$(()=>[_(n(U),{lang:"xml",code:fu})]),_:1}),_(G,{title:"Icon"},{example:$(()=>[_(n(Z),{value:"Value",icon:"fas fa-plane"})]),snippets:$(()=>[_(n(U),{lang:"xml",code:gu})]),_:1}),_(G,{title:"Slot",style:{"grid-column":"2 / span 3"}},{example:$(()=>[_(n(Z),null,{default:$(()=>[pu,_u]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:bu})]),_:1}),_(G,{title:"Event - Click",style:{"grid-column":"1 / span 4"}},{example:$(()=>[_(n(Z),{value:"Click me!",onClick:a[0]||(a[0]=s=>e("You clicked me!"))})]),snippets:$(()=>[_(n(U),{lang:"xml",code:yu}),_(n(U),{lang:"typescript",code:$u})]),_:1})])]))}});const ku=S(wu,[["__scopeId","data-v-75776ef5"]]),Cu={class:"button-toggle"},Su={class:"dashboard"},xu=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,Au=k({__name:"ButtonToggle",setup(o){const e=P(!1);return(t,a)=>(f(),w("div",Cu,[c("div",Su,[_(G,{title:"Toggle"},{example:$(()=>[_(n(Te),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),value:"Value",icon:"fas fa-plane"},null,8,["modelValue"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:xu})]),_:1})])]))}});const Iu=S(Au,[["__scopeId","data-v-f3d50318"]]),Lu={class:"card-root"},Pu={class:"dashboard"},Du=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,Tu=`<Card
  title="Card Title"
  icon="fas fa-plane"
>
  Content goes here
</Card>`,Mu=`<Card
  title="Card Loading"
  icon="fas fa-plane"
  :loading="true"
>
  Content goes here
</Card>`,Vu=`<Card
  title="Card Title"
  icon="fas fa-plane"
  :collapsible="true"
  :collapsed="collapsed"
  @click="collapsed = !collapsed"
>
  <template #actions>
    <i
      class="expander fas fa-chevron-up"
      :class="{ expanded: collapsed }"
    ></i>
  </template>

  <Collapsible :expanded="!collapsed"> Content goes here </Collapsible>
</Card>`,zu=`import { ref } from "vue";

const collapsed = ref(false);
`,Bu=`::v-deep(.card-header) {
  .expander {
    transition: transform 125ms cubic-bezier(0.65, 0.05, 0.36, 1);
    transform: rotate(90deg);

    &.expanded {
      transform: rotate(180deg);
    }
  }
}`,Ou=k({__name:"Card",setup(o){const e=P(!1);return(t,a)=>(f(),w("div",Lu,[c("div",Pu,[_(G,{title:"Card"},{example:$(()=>[_(n(Y),{title:"Card Title",icon:"fas fa-plane"},{default:$(()=>[E(" Content goes here ")]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Du})]),_:1}),_(G,{title:"Compact / no padding"},{example:$(()=>[_(n(Y),{compact:!0},{default:$(()=>[E(" Content goes here ")]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Tu})]),_:1}),_(G,{title:"Collapsible"},{example:$(()=>[_(n(Y),{title:"Card Title",icon:"fas fa-plane",collapsible:!0,collapsed:e.value,onClick:a[0]||(a[0]=s=>e.value=!e.value)},{actions:$(()=>[c("i",{class:F(["expander fas fa-chevron-up",{expanded:e.value}])},null,2)]),default:$(()=>[_(n(Oe),{expanded:!e.value},{default:$(()=>[E(" Content goes here ")]),_:1},8,["expanded"])]),_:1},8,["collapsed"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Vu}),_(n(U),{lang:"typescript",code:zu}),_(n(U),{lang:"scss",code:Bu})]),_:1}),_(G,{title:"Loading"},{example:$(()=>[_(n(Y),{title:"Card Loading",icon:"fas fa-plane",loading:!0},{default:$(()=>[E(" Content goes here ")]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:Mu})]),_:1})])]))}});const Ru=S(Ou,[["__scopeId","data-v-fde7f6d4"]]),os=o=>({chart:{id:"chart",background:"transparant",foreColor:o.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:o.colorsArray,grid:{borderColor:o.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:o.colors.level5,height:1},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:o.colors.level5},axisTicks:{color:o.colors.level5},title:{color:o.colors.level5}}});function Fu(o){const e=os({colors:ie,colorsArray:kc}),t=(a,s)=>{if(typeof s=="object"){z.mergeWith(a,s,t);return}else return a||s};return z.mergeWith(o,e,t)}function de(o,e){const t=os(o),a=(s,l)=>{if(typeof l=="object"){z.mergeWith(s,l,a);return}else return s||l};return z.mergeWith(e,t,a)}const Uu={class:"card-graph"},Eu={class:"dashboard"},Wu=`<CardGraph
  class="chart"
  title="LineChart"
  :options="options"
  :series="series"
></CardGraph>`,qu=`import { computed } from "vue";
import { CardGraph } from "@/Framework";
import createChartStyles from "@/Styles/ChartStyles";
import { round, unit, type DataPoint, addDays } from "@/Util";

type Serie = {
  name: string;
  type: string;
  data: { x: number; y: number }[];
};

const optionsLineChart = computed((): unknown => {
  return createChartStyles({
    chart: {
      animations: {
        enabled: false,
      },
      toolbar: {
        tools: {
          download: true,
        },
      },
    },
    xaxis: {
      type: "datetime",
    },
    yaxis: [
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterEmissions(y),
        },
        min: 0,
        max: 10,
      },
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterFees(y),
        },
        show: false,
        min: 0,
        max: 10,
      },
    ],
    plotOptions: {
      bar: {
        distributed: false,
        dataLabels: {
          position: "top",
          hideOverflowingLabels: false,
        },
      },
    },
    tooltip: {
      followCursor: false,
      enabled: true,
      intersect: false,
      custom: (x: DataPoint<SerieLineChart>) => {
        const emissions = x.w.globals.initialSeries[0].data[x.dataPointIndex].y;

        const fees = x.w.globals.initialSeries[1].data[x.dataPointIndex]
          ? x.w.globals.initialSeries[1].data[x.dataPointIndex].y
          : 0;

        const data = [
          \`<div><b>Emissions</b>:</div><div>\${formatterEmissions(
            emissions
          )}</div>\`,
          \`<div><b>Fees</b>:</div><div>\${formatterFees(fees)}</div>\`,
        ];

        return data.join("");
      },
    },
    dataLabels: {
      enabled: false,
    },
    csv: {
      filename: "emissions.csv",
      columnDelimiter: ",",
      headerCategory: "category",
      headerValue: "value",
      dateFormatter(timestamp: number) {
        return timestamp;
      },
    },
  });
});

const series = computed((): Serie[] => {
  return [
    {
      name: "Emissions",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 1 },
        { x: addDays(new Date(), 1).getTime(), y: 5 },
        { x: addDays(new Date(), 2).getTime(), y: 7 },
        { x: addDays(new Date(), 3).getTime(), y: 3 },
        { x: addDays(new Date(), 4).getTime(), y: 9 },
      ],
    },
    {
      name: "Fees",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 5 },
        { x: addDays(new Date(), 1).getTime(), y: 0 },
        { x: addDays(new Date(), 2).getTime(), y: 3 },
        { x: addDays(new Date(), 3).getTime(), y: 9 },
        { x: addDays(new Date(), 4).getTime(), y: 2 },
      ],
    },
  ];
});

// Methods
const formatterEmissions = (x: number): string => {
  return \`$\${round(Math.abs(x), 1, "dollar")}\${unit(x, "dollar")}\`;
};

const formatterFees = (x: number): string => {
  return \`$\${round(x, 1, "dollar")}\${unit(x, "dollar")}\`;
};`,Hu=`.chart {
  height: 400px;

  ::v-deep(.card-body) {
    .apexcharts-tooltip {
      grid-template-rows: auto auto;
      grid-template-columns: 1fr auto;
    }
  }
}`,Nu=k({__name:"CardGraph",setup(o){const e=C(()=>Fu({chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>a(l)},min:0,max:10},{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>s(l)},show:!1,min:0,max:10}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:l=>{const u=l.w.globals.initialSeries[0].data[l.dataPointIndex].y,p=l.w.globals.initialSeries[1].data[l.dataPointIndex]?l.w.globals.initialSeries[1].data[l.dataPointIndex].y:0;return[`<div><b>Emissions</b>:</div><div>${a(u)}</div>`,`<div><b>Fees</b>:</div><div>${s(p)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(l){return l}}})),t=C(()=>[{name:"Emissions",type:"line",data:[{x:new Date().getTime(),y:1},{x:Ie(new Date,1).getTime(),y:5},{x:Ie(new Date,2).getTime(),y:7},{x:Ie(new Date,3).getTime(),y:3},{x:Ie(new Date,4).getTime(),y:9}]},{name:"Fees",type:"line",data:[{x:new Date().getTime(),y:5},{x:Ie(new Date,1).getTime(),y:0},{x:Ie(new Date,2).getTime(),y:3},{x:Ie(new Date,3).getTime(),y:9},{x:Ie(new Date,4).getTime(),y:2}]}]),a=l=>`$${J(Math.abs(l),1,"dollar")}${j(l,"dollar")}`,s=l=>`$${J(l,1,"dollar")}${j(l,"dollar")}`;return(l,u)=>(f(),w("div",Uu,[c("div",Eu,[_(G,{title:"Line Chart"},{example:$(()=>[_(n(ve),{class:"chart",title:"Line Chart",options:e.value,series:t.value},null,8,["options","series"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Wu}),_(n(U),{lang:"typescript",code:qu}),_(n(U),{lang:"scss",code:Hu})]),_:1})])]))}});const Gu=S(Nu,[["__scopeId","data-v-da7df299"]]),$t=o=>(te("data-v-d414c8c0"),o=o(),ae(),o),Qu={class:"data-table"},Yu={class:"dashboard"},ju=$t(()=>c("div",null,"All Rounds",-1)),Ju={class:"vote-link"},Ku={class:"number"},Zu={class:"number"},Xu=$t(()=>c("div",null,null,-1)),ed=$t(()=>c("div",null,null,-1)),td=$t(()=>c("div",null,null,-1)),ad={class:"number"},od=`<DataTable
  class="datatable-example"
  columns-header="1fr"
  columns-data="example-columns-data"
  :rows="rows"
  :columns="['', 'Deadline', '$/vlCVX', 'Total']"
  :sorting="true"
  :sorting-columns="['', 'deadline', 'vlasset', 'total']"
  :sorting-columns-enabled="['deadline', 'vlasset', 'total']"
  sorting-default-column="deadline"
  sorting-default-dir="Descending"
  @sort-column="onSort"
  @selected="onSelected"
>
  <template #header-title>
    <div>All Rounds</div>
  </template>

  <template #header-actions>
    <Tooltip>Tooltip data goes here</Tooltip>
  </template>

  <template #row="props: { item: Round }">
    <div
      class="round-number"
      @click.stop
    >
      <a class="vote-link">
        {{ props.item.round }}
      </a>
    </div>
    <div>
      {{ new Date(Date.now()).toLocaleDateString() }}
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value"
        :precision="5"
        type="dollar"
      />
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value * 10000"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>

  <template #row-aggregation>
    <div></div>
    <div></div>
    <div></div>
    <div class="number">
      <AsyncValue
        :value="rows.reduce((acc, x) => acc + x.value * 10000, 0)"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>
</DataTable>`,sd=`import { ref, computed } from "vue";
import { orderBy } from "lodash";
import { AsyncValue, DataTable, Tooltip, SortOrder } from "@/Framework";

type Round = {
  round: number;
  value: number;
};

let sortColumn = ref<"deadline" | "vlasset" | "total">("deadline");
let sortOrder = ref(SortOrder.Descending);

const data: Round[] = [
  { round: 1, value: 1 * Math.random() },
  { round: 2, value: 7 * Math.random() },
  { round: 3, value: 5 * Math.random() },
  { round: 4, value: 2 * Math.random() },
  { round: 5, value: 3 * Math.random() },
];

const rows = computed((): Round[] => {
  return orderBy(
    data ?? [],
    (row: Round) => {
      switch (sortColumn.value) {
        case "deadline":
          return row.round;
        case "vlasset":
          return row.value;
        case "total":
          return row.value;
        default:
          return row.round;
      }
    },
    sortOrder.value === SortOrder.Descending ? "desc" : "asc"
  );
});

// Events
const onSort = (columnName: string, order: SortOrder): void => {
  sortColumn.value = columnName as "deadline" | "vlasset" | "total";
  sortOrder.value = order;
};

const onSelected = (data: unknown): void => {
  const epoch = data as Round;
  console.log(epoch.round);
};`,nd=`.datatable-example {
  .round-number {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  ::v-deep(.example-columns-data) {
    display: grid;
    grid-template-columns: 1.5rem 1fr 1fr 1fr;

    // Right adjust number columns.
    div:nth-child(3),
    div:nth-child(4) {
      justify-content: end;
    }

    .vote-link {
      width: 1.5rem;
      text-align: center;
    }
  }
}`,ld=k({__name:"DataTable",setup(o){const e=P("deadline"),t=P(ge.Descending),a=[{round:1,value:1*Math.random()},{round:2,value:7*Math.random()},{round:3,value:5*Math.random()},{round:4,value:2*Math.random()},{round:5,value:3*Math.random()}],s=C(()=>z.orderBy(a??[],p=>{switch(e.value){case"deadline":return p.round;case"vlasset":return p.value;case"total":return p.value;default:return p.round}},t.value===ge.Descending?"desc":"asc")),l=(p,i)=>{e.value=p,t.value=i},u=p=>{console.log(p.round)};return(p,i)=>(f(),w("div",Qu,[c("div",Yu,[_(G,{title:"DataTable",class:"recipe"},{example:$(()=>[_(n(ye),{class:"datatable-example","columns-header":"1fr","columns-data":"example-columns-data",rows:s.value,columns:["","Deadline","$/vlCVX","Total"],sorting:!0,"sorting-columns":["","deadline","vlasset","total"],"sorting-columns-enabled":["deadline","vlasset","total"],"sorting-default-column":"deadline","sorting-default-dir":"Descending",onSortColumn:l,onSelected:u},{"header-title":$(()=>[ju]),"header-actions":$(()=>[_(n(Me),null,{default:$(()=>[E("Tooltip data goes here")]),_:1})]),row:$(d=>[c("div",{class:"round-number",onClick:i[0]||(i[0]=xe(()=>{},["stop"]))},[c("a",Ju,x(d.item.round),1)]),c("div",null,x(new Date(Date.now()).toLocaleDateString()),1),c("div",Ku,[_(n(O),{value:d.item.value,precision:5,type:"dollar"},null,8,["value"])]),c("div",Zu,[_(n(O),{value:d.item.value*1e4,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":$(()=>[Xu,ed,td,c("div",ad,[_(n(O),{value:s.value.reduce((d,h)=>d+h.value*1e4,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:od}),_(n(U),{lang:"typescript",code:sd}),_(n(U),{lang:"scss",code:nd})]),_:1})])]))}});const rd=S(ld,[["__scopeId","data-v-d414c8c0"]]),id="/why.png",cd=o=>(te("data-v-8e184075"),o=o(),ae(),o),ud={class:"input-text"},dd={class:"dashboard"},pd={key:0,class:"search-item"},_d=cd(()=>c("img",{src:id},null,-1)),md={class:"label"},vd={key:0,class:"description"},hd={class:"volume"},fd=`<InputText
  v-model="text1"
  placeholder="Placeholder goes here"
></InputText>`,gd=`<InputText
  v-model="pool"
  placeholder="Search for a pool: enter a space here"
  :search="true"
  :auto-complete="autoComplete"
  :options="pools"
  :filter="filter"
  :sort="sort"
  @input="onInput"
  @select="onSelect"
>
  <template #item="props: { item: Pool, idx: number }">
    <div
      v-if="props.item"
      class="search-item"
    >
      <img src="/why.png" />
      <div class="label">{{ props.item.name }}</div>
      <div
        v-if="props.idx === 0"
        class="description"
      >
        Volume
      </div>
      <div class="volume">
        <AsyncValue
          :value="props.item.volume"
          :precision="2"
          type="dollar"
        />
      </div>
    </div>
  </template>
</InputText>`,bd=`import { ref } from "vue";
import { InputText, AsyncValue } from "@/Framework";

const pool = ref("");
const autoComplete = ref(false);

type Pool = {
  name: string;
  volume: number;
};

const pools: Pool[] = [
  {
    name: "Pool A",
    volume: 10,
  },
  {
    name: "Pool B",
    volume: 1337,
  },
  {
    name: "Pool C",
    volume: 42,
  },
];

// Methods
const filter = (input: string, option: unknown) =>
  (option as Pool).name.toLocaleLowerCase().includes(input.toLocaleLowerCase());

const sort = (a: unknown, b: unknown) =>
  (b as Pool).volume - (a as Pool).volume;

// Events
const onInput = (input: string): void => {
  autoComplete.value = !!input;
};

const toggleExpansion = (newPool: Pool): void => {
  pool.value = newPool.name;
  autoComplete.value = false;
};

const onSelect = (option: unknown): void => {
  const pool = option as Pool;
  toggleExpansion(pool);
};`,yd=`.search-item {
  display: flex;
  align-items: center;

  img {
    width: 20px;
    height: 20px;
    object-fit: scale-down;
  }

  > .label {
    flex-grow: 1;
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .volume,
  > .description {
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .description {
    color: var(--c-lvl5);
  }
}`,$d=k({__name:"InputText",setup(o){const e=P(""),t=P(""),a=P(!1),s=[{name:"Pool A",volume:10},{name:"Pool B",volume:1337},{name:"Pool C",volume:42}],l=(h,m)=>m.name.toLocaleLowerCase().includes(h.toLocaleLowerCase()),u=(h,m)=>m.volume-h.volume,p=h=>{a.value=!!h},i=h=>{t.value=h.name,a.value=!1},d=h=>{i(h)};return(h,m)=>(f(),w("div",ud,[c("div",dd,[_(G,{title:"InputText with placeholder"},{example:$(()=>[_(n(pe),{modelValue:e.value,"onUpdate:modelValue":m[0]||(m[0]=b=>e.value=b),placeholder:"Placeholder goes here"},null,8,["modelValue"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:fd})]),_:1}),_(G,{title:"InputText with search, options, filter, sorting and slot"},{example:$(()=>[_(n(pe),{modelValue:t.value,"onUpdate:modelValue":m[1]||(m[1]=b=>t.value=b),placeholder:"Search for a pool: enter a space here",search:!0,"auto-complete":a.value,options:s,filter:l,sort:u,onInput:p,onSelect:d},{item:$(b=>[b.item?(f(),w("div",pd,[_d,c("div",md,x(b.item.name),1),b.idx===0?(f(),w("div",vd," Volume ")):V("",!0),c("div",hd,[_(n(O),{value:b.item.volume,precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["modelValue","auto-complete"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:gd}),_(n(U),{lang:"typescript",code:bd}),_(n(U),{lang:"scss",code:yd})]),_:1})])]))}});const wd=S($d,[["__scopeId","data-v-8e184075"]]),kd={class:"input-number"},Cd={class:"dashboard"},Sd=`<InputNumber
  v-model="value"
  placeholder="Number goes here"
  :min="-5"
  :max="Infinity"
></InputNumber>`,xd=k({__name:"InputNumber",setup(o){const e=P(0);return(t,a)=>(f(),w("div",kd,[c("div",Cd,[_(G,{title:"InputNumber"},{example:$(()=>[_(n(Zt),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),placeholder:"Number goes here",min:-5,max:1/0},null,8,["modelValue"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Sd})]),_:1})])]))}});const Ad=S(xd,[["__scopeId","data-v-196ca807"]]),Id=o=>(te("data-v-bbac04e1"),o=o(),ae(),o),Ld={class:"modal"},Pd={class:"dashboard"},Dd=Id(()=>c("div",{class:"content"},"Content goes here",-1)),Td=`<ModalYesNo
  class="my-modal"
  title="Modal title"
  :show="openModal"
  @close="openModal = false"
  @no="openModal = false"
  @yes="onYes"
>
  <div class="content">Content goes here</div>
</ModalYesNo>`,Md=`import { ref } from "vue";

const openModal = ref(false);

const onYes = () => {
  alert("You clicked yes!");
  openModal.value = false;
};`,Vd=`.my-modal {
  ::v-deep(.content) {
    width: 40rem;
  }
}`,zd=k({__name:"Modal",setup(o){const e=P(!1),t=()=>{alert("You clicked yes!"),e.value=!1};return(a,s)=>(f(),w("div",Ld,[c("div",Pd,[_(G,{title:"ModalYesNo"},{example:$(()=>[_(n(Z),{onClick:s[0]||(s[0]=l=>e.value=!0)},{default:$(()=>[E("Open Modal")]),_:1}),_(n(br),{class:"my-modal",title:"Modal title",show:e.value,onClose:s[1]||(s[1]=l=>e.value=!1),onNo:s[2]||(s[2]=l=>e.value=!1),onYes:t},{default:$(()=>[Dd]),_:1},8,["show"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Td}),_(n(U),{lang:"typescript",code:Md}),_(n(U),{lang:"scss",code:Vd})]),_:1})])]))}});const Bd=S(zd,[["__scopeId","data-v-bbac04e1"]]),Od={class:"pagination"},Rd={class:"dashboard"},Fd=`<Pagination
  :items-count="96"
  :items-per-page="10"
  :page="page"
  @page="onPage"
></Pagination>`,Ud=k({__name:"Pagination",setup(o){const e=P(1),t=a=>{e.value=a};return(a,s)=>(f(),w("div",Od,[c("div",Rd,[_(G,{title:"Pagination"},{example:$(()=>[_(n(Je),{"items-count":96,"items-per-page":10,page:e.value,onPage:t},null,8,["page"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Fd})]),_:1})])]))}});const Ed=S(Ud,[["__scopeId","data-v-25aea555"]]),Wd={class:"select"},qd={class:"dashboard"},Hd={key:0,class:"item"},Nd=["src"],Gd={class:"label"},Qd=`<Select
  class="select-component"
  :options="options"
  :selected="selected"
  :open="selectOpen"
  @open="onSelectOpen"
  @close="selectOpen = false"
  @input="onSelect"
>
  <template #item="props: { item: SelectItem }">
    <div
      v-if="props.item"
      class="item"
    >
      <img :src="props.item.logo" />
      <div class="label">{{ props.item.label }}</div>
    </div>
  </template>
</Select>`,Yd=`import { ref, onMounted } from "vue";
import { Select } from "@/Framework";

type SelectItem = {
  label: string;
  logo: string;
};

const options: SelectItem[] = [
  {
    label: "Option 1",
    logo: "/why.png",
  },
  {
    label: "Option 2",
    logo: "/why.png",
  },
  {
    label: "Option 3",
    logo: "/why.png",
  },
];

const selectOpen = ref(false);
const selected = ref<SelectItem | null>;

// Hooks
onMounted((): void => {
  onSelect(options[0]);
});

// Events
const onSelectOpen = (): void => {
  selectOpen.value = !selectOpen.value;
};

const onSelect = (option: unknown): void => {
  const item = option as SelectItem;
  selected.value = item;
};`,jd=`::v-deep(.select-component) {
  width: 20rem;

  .item {
    display: flex;
    align-items: center;

    img {
      width: 20px;
      height: 20px;
      object-fit: scale-down;
    }

    > .label {
      font-size: 0.875rem;
      margin-left: 0.75rem;
    }
  }
}`,Jd=k({__name:"Select",setup(o){const e=[{label:"Option 1",logo:"/why.png"},{label:"Option 2",logo:"/why.png"},{label:"Option 3",logo:"/why.png"}],t=P(!1),a=P(null);q(()=>{l(e[0])});const s=()=>{t.value=!t.value},l=u=>{const p=u;a.value=p};return(u,p)=>(f(),w("div",Wd,[c("div",qd,[_(G,{title:"Select"},{example:$(()=>[_(n(Re),{class:"select-component",options:e,selected:a.value,open:t.value,onOpen:s,onClose:p[0]||(p[0]=i=>t.value=!1),onInput:l},{item:$(i=>[i.item?(f(),w("div",Hd,[c("img",{src:i.item.logo},null,8,Nd),c("div",Gd,x(i.item.label),1)])):V("",!0)]),_:1},8,["selected","open"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:Qd}),_(n(U),{lang:"typescript",code:Yd}),_(n(U),{lang:"scss",code:jd})]),_:1})])]))}});const Kd=S(Jd,[["__scopeId","data-v-4bbec1e3"]]),Zd={class:"slider"},Xd={class:"dashboard"},ep={class:"value"},tp=`<Slider
  :min="0"
  :max="5"
  :step="0.1"
  :model-value="value"
  @update:model-value="onInput"
></Slider>`,ap=`import { ref } from "vue";
import { Slider } from "@/Framework";

const value = ref(0);

// Events
const onInput = (newVal: string) => {
  value.value = parseFloat(newVal);
};`,op=k({__name:"Slider",setup(o){const e=P(0),t=a=>{e.value=parseFloat(a)};return(a,s)=>(f(),w("div",Zd,[c("div",Xd,[_(G,{title:"Slider"},{example:$(()=>[c("div",ep,x(e.value),1),_(n(Er),{min:0,max:5,step:.1,"model-value":e.value,"onUpdate:modelValue":t},null,8,["model-value"])]),snippets:$(()=>[_(n(U),{lang:"xml",code:tp}),_(n(U),{lang:"typescript",code:ap})]),_:1})])]))}});const sp=S(op,[["__scopeId","data-v-4f5b3c15"]]),np={class:"spinner"},lp={class:"dashboard"},rp="<Spinner></Spinner>",ip=k({__name:"Spinner",setup(o){return(e,t)=>(f(),w("div",np,[c("div",lp,[_(G,{title:"Spinner"},{example:$(()=>[_(n(rt))]),snippets:$(()=>[_(n(U),{lang:"xml",code:rp})]),_:1})])]))}});const cp=S(ip,[["__scopeId","data-v-716781f5"]]),up={class:"tabs"},dp={class:"dashboard"},pp={class:"active"},_p=`<TabView @tab="tabActive = $event.index">
  <TabItem header="Tab One"> Tab 1 content goes here </TabItem>
  <TabItem header="Tab Two"> Tab 2 content goes here </TabItem>
  <TabItem header="Tab Three"> Tab 3 content goes here </TabItem>
</TabView>`,mp=`import { TabView, TabItem } from "@/Framework";

const tabActive = ref(0);
`,vp=k({__name:"Tabs",setup(o){const e=P(0);return(t,a)=>(f(),w("div",up,[c("div",dp,[_(G,{title:"Tabs"},{example:$(()=>[c("div",pp,"Active tab is index "+x(e.value),1),_(n(Ze),{onTab:a[0]||(a[0]=s=>e.value=s.index)},{default:$(()=>[_(n(le),{header:"Tab One"},{default:$(()=>[E(" Tab 1 content goes here ")]),_:1}),_(n(le),{header:"Tab Two"},{default:$(()=>[E(" Tab 2 content goes here ")]),_:1}),_(n(le),{header:"Tab Three"},{default:$(()=>[E(" Tab 3 content goes here ")]),_:1})]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:_p}),_(n(U),{lang:"typescript",code:mp})]),_:1})])]))}});const hp=S(vp,[["__scopeId","data-v-06c4a326"]]),ss=o=>(te("data-v-2ccadc32"),o=o(),ae(),o),fp={class:"tooltip"},gp={class:"dashboard"},bp=ss(()=>c("div",null,"Hover over me!",-1)),yp=ss(()=>c("div",null,"Tooltip content goes here",-1)),$p=`<Tooltip>
  <template #item>
    <div>Hover over me!</div>
  </template>

  <div>Tooltip content goes here</div>
</Tooltip>`,wp=k({__name:"Tooltip",setup(o){return(e,t)=>(f(),w("div",fp,[c("div",gp,[_(G,{title:"Tooltip"},{example:$(()=>[_(n(Me),null,{item:$(()=>[bp]),default:$(()=>[yp]),_:1})]),snippets:$(()=>[_(n(U),{lang:"xml",code:$p})]),_:1})])]))}});const kp=S(wp,[["__scopeId","data-v-2ccadc32"]]),Cp={titleRoute:"/cookbook",routes:[{path:"/cookbook",redirect:{name:"button"}},{path:"/cookbook/colors",name:"colors",component:Lc},{path:"/cookbook/dashboard",name:"dashboard",component:Fc},{path:"/cookbook/socket",name:"socket",component:Hc},{path:"/cookbook/async-value",name:"async-value",component:ou},{path:"/cookbook/breadcrumb",name:"breadcrumb",component:cu},{path:"/cookbook/button",name:"button",component:ku},{path:"/cookbook/toggle-button",name:"toggle-button",component:Iu},{path:"/cookbook/card",name:"card",component:Ru},{path:"/cookbook/graph-card",name:"graph-card",component:Gu},{path:"/cookbook/data-table",name:"data-table",component:rd},{path:"/cookbook/input-text",name:"input-text",component:wd},{path:"/cookbook/input-number",name:"input-number",component:Ad},{path:"/cookbook/modal",name:"modal",component:Bd},{path:"/cookbook/pagination",name:"pagination",component:Ed},{path:"/cookbook/select",name:"select",component:Kd},{path:"/cookbook/slider",name:"slider",component:sp},{path:"/cookbook/spinner",name:"spinner",component:cp},{path:"/cookbook/tabs",name:"tabs",component:hp},{path:"/cookbook/tooltip",name:"tooltip",component:kp}],menuItems:[{to:"/cookbook/colors",label:"Colors"},{to:"/cookbook/dashboard",label:"Dashboard"},{to:"/cookbook/socket",label:"Socket.IO"},{label:"Framework",children:[{to:"/cookbook/async-value",label:"AsyncValue"},{to:"/cookbook/breadcrumb",label:"Breadcrumb"},{to:"/cookbook/button",label:"Button"},{to:"/cookbook/toggle-button",label:"ButtonToggle"},{to:"/cookbook/card",label:"Card"},{to:"/cookbook/graph-card",label:"CardGraph"},{to:"/cookbook/data-table",label:"DataTable"},{to:"/cookbook/input-text",label:"InputText"},{to:"/cookbook/input-number",label:"InputNumber"},{to:"/cookbook/modal",label:"Modal"},{to:"/cookbook/pagination",label:"Pagination"},{to:"/cookbook/select",label:"Select"},{to:"/cookbook/slider",label:"Slider"},{to:"/cookbook/spinner",label:"Spinner"},{to:"/cookbook/tabs",label:"Tabs"},{to:"/cookbook/tooltip",label:"Tooltip"}]}]};function H(){return al}class Sp extends $e{async getPrice(e){const t=`ethereum:${e}`;return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins[t])}async getPrices(e){const t=e.map(a=>`ethereum:${a}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins)}async getData(e){return this.fetch(`https://api.llama.fi/updatedProtocol/${e}`)}}const xp="https://prices.curve.fi/v1";class Ap extends $e{async getChain(){return this.fetch(`${xp}/chains/ethereum?page=1&per_page=0`)}}const Ip={class:"kpis"},Lp=k({__name:"KPIs",setup(o){const e=new Sp(H()),t=new Ap(H()),a=P(null),s=P(null),l=P(null),u=P(null);return q(async()=>{const p=t.getChain();try{s.value=await e.getData("curve-finance").then(i=>i.mcap),a.value=await e.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(i=>i.price)}catch{[a.value,s.value]=[0,0]}try{const i=await p;l.value=i.total.total_tvl,u.value=i.total.trading_volume_24h}catch{l.value=0,u.value=0}}),(p,i)=>(f(),w("div",Ip,[_(n(Pe),{label:"CRV price","has-value":!!a.value},{default:$(()=>[_(n(O),{value:a.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"CRV market cap","has-value":!!s.value},{default:$(()=>[_(n(O),{value:s.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"Total Value Locked","has-value":!!l.value},{default:$(()=>[_(n(O),{value:l.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(n(Pe),{label:"7-day Volume","has-value":!!u.value},{default:$(()=>[_(n(O),{value:u.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])]))}});const Pp=S(Lp,[["__scopeId","data-v-929ba135"]]),Le="https://api-py.llama.airforce/curve/v1";let wt=class extends $e{async getLiquidityTop(){return this.fetch(`${Le}/protocol/liquidity/top`)}async getTradesLarge(){return this.fetch(`${Le}/protocol/size/trades`)}async getTvlGainers(){return this.fetch(`${Le}/protocol/tvl/gainers`)}async getTvlLosers(){return this.fetch(`${Le}/protocol/tvl/losers`)}async getTvlBreakdownType(){return this.fetch(`${Le}/protocol/tvl/type_breakdown`)}async getTvlBreakdownChain(){return this.fetch(`${Le}/protocol/tvl/chain_breakdown`)}async getVolumeBreakdownType(){return this.fetch(`${Le}/protocol/volume/type_breakdown`)}async getVolumeBreakdownChain(){return this.fetch(`${Le}/protocol/volume/chain_breakdown`)}};const Dp=k({__name:"ChartChainType",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getTvlBreakdownChain().then(d=>d.tvl_breakdown_chain.sort((h,m)=>m.tvl-h.tvl)),[]),u=C(()=>{const d=W(t.theme),h=X(t.theme);return de({colors:d,colorsArray:h},{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:m=>{const b=p.value[m.seriesIndex].name,v=m.series[m.seriesIndex][m.dataPointIndex];return[`<div><b>${b}</b>:</div><div>${i(v[0])}</div>`].join("")}}})}),p=C(()=>[...s.value.map(d=>({name:d.chain,data:[d.tvl,d.tvl]}))]);q(()=>void l());const i=d=>`$${J(Math.abs(d),1,"dollar")}${j(d,"dollar")}`;return(d,h)=>(f(),D(n(ve),{class:"chart",title:"TVL & Volume per Chain",loading:n(a),options:u.value,series:p.value},null,8,["loading","options","series"]))}});const Tp=S(Dp,[["__scopeId","data-v-7fa9aa1a"]]),Mp=k({__name:"ChartLiquidityTop",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getLiquidityTop().then(m=>m.liquidity_use.sort((b,v)=>v.liq_use-b.liq_use)),[]),u=C(()=>{const m=W(t.theme),b=X(t.theme);return de({colors:m,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:p.value,labels:{formatter:d}},yaxis:{labels:{formatter:h}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:v=>{var A;const r=p.value[v.dataPointIndex],g=v.series[0][v.dataPointIndex],y=(A=s.value.find(L=>L.name===r))==null?void 0:A.chain;return`
            <div><b>${r}</b>:</div>
            <div>${d(g)}</div>
            <div>${y}<div>`}}})}),p=C(()=>s.value.map(m=>m.name)),i=C(()=>[{data:s.value.map(m=>m.liq_use)}]);q(()=>void l());const d=m=>`${J(Math.abs(m),2,"dollar")}`,h=m=>m.toString().substring(0,12);return(m,b)=>(f(),D(n(ve),{class:"chart",title:"Liquidity Usage",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const Vp=S(Mp,[["__scopeId","data-v-6fc5faef"]]),zp=k({__name:"ChartRanking",setup(o){const e=new wt(H()),t=N(),{loading:a,data:s,loadData:l}=oe(async()=>{const m=e.getTvlGainers(),b=e.getTvlLosers(),[v,r]=[await m,await b];return[...v.tvl_gainers,...r.tvl_losers].sort((g,y)=>y.tvl_growth-g.tvl_growth)},[]),u=C(()=>{const m=W(t.theme),b=X(t.theme);return de({colors:m,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1}},colors:[v=>v.value<0?m.red:m.green],xaxis:{categories:p.value,labels:{formatter:d}},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:v=>{var A;const r=p.value[v.dataPointIndex],g=v.series[0][v.dataPointIndex],y=(A=s.value.find(L=>L.name===r))==null?void 0:A.chain;return`
            <div><b>${r}</b>:</div>
            <div>${h(g)}</div>
            <div>${y}<div>`}}})}),p=C(()=>s.value.map(m=>m.name)),i=C(()=>[{data:s.value.map(m=>m.tvl_growth)}]);q(()=>void l());const d=m=>m.toString().substring(0,12),h=m=>`${J(m,0,"dollar")}${j(m,"percentage")}`;return(m,b)=>(f(),D(n(ve),{class:"chart",title:"TVL Gainers & Losers",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const Bp=S(zp,[["__scopeId","data-v-5479e52c"]]),Op=o=>(te("data-v-2294fc8f"),o=o(),ae(),o),Rp=Op(()=>c("div",null,"Largest Trades",-1)),Fp=["href"],Up={class:"number"},Ep=k({__name:"TableTrades",setup(o){const e=new wt(H()),{data:t,loadData:a}=oe(()=>e.getTradesLarge().then(s=>s.large_trades.sort((l,u)=>u.value-l.value)).then(s=>s.slice(0,10)),[]);return q(()=>void a()),(s,l)=>(f(),D(n(ye),{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:n(t),columns:["Tx","Name","Value"]},{"header-title":$(()=>[Rp]),row:$(u=>[c("div",{onClick:l[0]||(l[0]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${u.item.tx}`,target:"_blank"},x(n(Se)(u.item.tx)),9,Fp)]),c("div",null,x(u.item.name),1),c("div",Up,[_(n(O),{value:u.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"]))}});const Wp=S(Ep,[["__scopeId","data-v-2294fc8f"]]),qp={class:"home"},Hp={class:"controls-container"},Np={class:"data-1"},Gp={class:"data-2"},Qp=k({__name:"Home",setup(o){const e=P("");return(t,a)=>(f(),w("div",qp,[c("div",Hp,[_(n(pe),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=s=>e.value=s),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),c("div",Np,[_(Pp),_(Tp),_(Vp)]),c("div",Gp,[_(Wp),_(Bp)])]))}});const Yp=S(Qp,[["__scopeId","data-v-c903325c"]]),Xe=Ae({id:"curvePoolsStore",state:()=>({pools:[],poolsLoading:!1,poolsLoadingError:!1,candles:{},reserves:{},volumes:{}}),actions:{setCandles(o,e){this.candles[o]=e},setReserves(o,e){this.reserves[o]=e},setVolumes(o,e){this.volumes[o]=e}}});function jp(o,e){const t=o.toLocaleLowerCase(),a=Ce(e.name).toLocaleLowerCase().includes(t),s=e.symbol.toLocaleLowerCase().includes(t),l=t.startsWith("0x")&&e.address.toLocaleLowerCase().includes(t);return a||s||l}const Jp={key:0,class:"item"},Kp=["src"],Zp={class:"label"},Xp={key:0,class:"description"},e_={class:"volume"},ns=k({__name:"SearchPool",props:{modelValue:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=Xe(),s=P(!1),l=P(t("search-placeholder")),u=C(()=>a.pools),p=(v,r)=>jp(v,r),i=(v,r)=>d(r)-d(v),d=v=>v.cumulativeVolumeUSD,h=v=>{const r=Ce(v.name);return r.startsWith("Curve.fi ")?r.slice(9):r},m=v=>{s.value=!!v},b=v=>{const r=v;s.value=!1,e("select",r)};return M([()=>a.poolsLoading,()=>a.poolsLoadingError],([v,r])=>{r?l.value=t("search-error"):v?l.value=t("search-loading"):l.value=t("search-placeholder")}),(v,r)=>(f(),D(n(pe),{class:"select-pool","model-value":v.modelValue,placeholder:l.value,search:!0,"auto-complete":s.value,options:u.value,filter:p,sort:i,"onUpdate:modelValue":r[0]||(r[0]=g=>e("update:modelValue",g)),onInput:m,onSelect:b},{item:$(g=>[g.item?(f(),w("div",Jp,[c("img",{src:n(jt)(g.item.name,!1)},null,8,Kp),c("div",Zp,x(h(g.item)),1),g.idx===0?(f(),w("div",Xp,x(n(t)("search-description")),1)):V("",!0),c("div",e_,[_(n(O),{value:d(g.item),precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function $a(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])},"search-description":t=>{const{normalize:a}=t;return a(["Cumulative Volume"])}}})}typeof $a=="function"&&$a(ns);const t_=S(ns,[["__scopeId","data-v-0c13035c"]]),ls=k({__name:"Balances",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),l=C(()=>{var b,v,r;return o.poolSelected?(r=(v=(b=t.reserves[o.poolSelected.address])==null?void 0:b[0])==null?void 0:v.reservesUSD)==null?void 0:r.length:0}),u=C(()=>{const b=W(a.theme),v=X(a.theme);return de({colors:b,colorsArray:v},{chart:{id:"balances",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:[...Array(l.value).keys()].map(r=>d(r)),dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>[...Array(l.value).keys()].map(I=>r.w.globals.initialSeries[I].data[r.dataPointIndex].y).map((I,A)=>`<div><b>${i(A).substring(0,10)}</b>:</div><div>${m(I)}</div>`).join("")}})}),p=C(()=>[...Array(l.value).keys()].map(b=>h(b))),i=b=>{var v,r;return((r=(v=o.poolSelected)==null?void 0:v.coins)==null?void 0:r[b])??"0x?"},d=b=>({seriesName:i(b),tickAmount:4,labels:{formatter:v=>m(v)},min:0,max:100,show:b===0}),h=b=>({name:i(b),type:"line",data:s.value.map(v=>({x:v.timestamp*1e3,y:v.reservesUSD[b]/v.reservesUSD.reduce((r,g)=>r+g,0)*100}))}),m=b=>`${J(b,2,"percentage")}${j(b,"percentage")}`;return(b,v)=>(f(),D(n(ve),{class:"balances",title:n(e)("title"),options:u.value,series:p.value},null,8,["title","options","series"]))}});function wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof wa=="function"&&wa(ls);const a_=S(ls,[["__scopeId","data-v-4c361370"]]),rs=k({__name:"Reserves",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.reserves[o.poolSelected.address]??[]:[]),l=C(()=>{const i=W(a.theme),d=X(a.theme);return de({colors:i,colorsArray:d},{chart:{id:"reserves",type:"area",animations:{enabled:!1}},colors:d,xaxis:{type:"datetime"},yaxis:{labels:{formatter:h=>p(h)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const m=h.w.globals.initialSeries[h.seriesIndex].data[h.dataPointIndex].y;return`<div><b>${e("tvl")}</b>:</div><div>${p(m)}</div>`}}})}),u=C(()=>[{name:"reserves",data:s.value.map(i=>({x:i.timestamp*1e3,y:i.reservesUSD.reduce((d,h)=>d+h,0)}))}]),p=i=>`$${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(ve),{class:"reserves",title:n(e)("title"),options:l.value,series:u.value},null,8,["title","options","series"]))}});function ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Reserves"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof ka=="function"&&ka(rs);const o_=S(rs,[["__scopeId","data-v-d65b80df"]]),s_={class:"buttons"},is=k({__name:"Candles",props:{poolSelected:{}},setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=Xe(),i=N(),d=P(null),h=P(!1);q(()=>{if(!d.value)return;const r=W(i.theme);t=ue(d.value,{width:d.value.clientWidth,height:d.value.clientHeight,layout:{background:{type:Nt.Solid,color:r.backgroundColor},textColor:r.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:r.level2,style:Gt.Dashed}},crosshair:{mode:Vo.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:g=>v(g)}}),a=t.addCandlestickSeries({upColor:r.green,borderUpColor:r.green,wickUpColor:r.green,downColor:r.red,borderDownColor:r.red,wickDownColor:r.red,priceFormat:{type:"price",precision:6,minMove:1e-6}}),s=t.addHistogramSeries({color:r.blue,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left"})});const m=C(()=>{var g;const r=(g=o.poolSelected)==null?void 0:g.address;return r?p.candles[r]??[]:[]});M(m,r=>{b(r,h.value)}),M(h,r=>{b(m.value,r)});const b=(r,g)=>{if(!t||!a||!s||!o.poolSelected)return;let y=o.poolSelected.coins[0].toLocaleLowerCase()===tl?-1:1;y=y*(g?-1:1);const I=z.chain(r).map(T=>({time:T.timestamp,open:Math.pow(T.open,y),high:Math.pow(T.high,y),low:Math.pow(T.low,y),close:Math.pow(T.close,y)})).uniqWith((T,R)=>T.time===R.time).orderBy(T=>T.time,"asc").value(),A=W(i.theme),L=z.chain(r).map(T=>({time:T.timestamp,value:T.token0TotalAmount,color:A.blue})).uniqWith((T,R)=>T.time===R.time).orderBy(T=>T.time,"asc").value();I.length>0&&L.length>0&&(a.setData(I),s.setData(L),t.timeScale().fitContent(),u=Math.min(...I.map(T=>T.low)),l=Math.max(...I.map(T=>T.high)))},v=r=>{const g=l-u,y=g>1?g-Math.floor(g):g,I=-Math.floor(Math.log10(y)+1)+2;return`${J(r,I,"dollar")}${j(r,"dollar")}`};return(r,g)=>(f(),D(n(Y),{class:"candles",title:n(e)("title")},{default:$(()=>[c("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512),c("div",s_,[_(n(Te),{modelValue:h.value,"onUpdate:modelValue":g[0]||(g[0]=y=>h.value=y)},{default:$(()=>[E(x(n(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function Ca(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof Ca=="function"&&Ca(is);const n_=S(is,[["__scopeId","data-v-48222cbd"]]),cs=k({__name:"Volume",props:{poolSelected:{}},setup(o){const{t:e}=B(),t=Xe(),a=N(),s=C(()=>o.poolSelected?t.volumes[o.poolSelected.address]??[]:[]),l=C(()=>{const i=W(a.theme),d=X(a.theme);return de({colors:i,colorsArray:d},{chart:{id:"volumes",type:"area",animations:{enabled:!1}},colors:d,xaxis:{type:"datetime"},yaxis:{seriesName:"volume",tickAmount:4,labels:{formatter:h=>p(h)},min:Math.min(...s.value.map(h=>h.volumeUSD)),max:Math.max(...s.value.map(h=>h.volumeUSD))},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const m=h.w.globals.initialSeries[0].data[h.dataPointIndex].y;return[`<div><b>${e("volume")}</b>:</div><div>${p(m)}</div>`].join("")}}})}),u=C(()=>[{name:e("volume"),data:s.value.map(i=>({x:i.timestamp*1e3,y:i.volumeUSD}))}]),p=i=>`$${J(Math.abs(i),1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(ve),{class:"volumes",title:n(e)("volume"),options:l.value,series:u.value},null,8,["title","options","series"]))}});function Sa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{volume:t=>{const{normalize:a}=t;return a(["Volume"])}}})}typeof Sa=="function"&&Sa(cs);const l_=S(cs,[["__scopeId","data-v-edb08b4b"]]),r_="https://api-py.llama.airforce/curve/v1";let i_=class extends $e{async get(){return this.fetch(`${r_}/pools/mainnet/all`)}};const c_="https://api.thegraph.com/subgraphs/name/convex-community/volume-mainnet";class u_ extends $e{async get(e){let t=0;return Bo(async(s,l)=>{const u=`{
        candles(
          where: {
            pool: "${e.address}"
            period: 3600
            timestamp_gte: ${t}
          }
          first: ${l}
        ) {
          timestamp
          open
          close
          low
          high
          token0TotalAmount
        }
      }`,p=await this.fetch(c_,{query:u}).then(i=>i.data.candles.map(d=>({timestamp:parseInt(d.timestamp,10),open:parseFloat(d.open),high:parseFloat(d.high),low:parseFloat(d.low),close:parseFloat(d.close),token0TotalAmount:parseFloat(d.token0TotalAmount)})));return t=Math.max(...p.map(i=>i.timestamp)),p})}}const d_="https://api-py.llama.airforce/curve/v1";class p_ extends $e{async get(e){return this.fetch(`${d_}/pools/mainnet/reserves/${e.address}`)}}const __="https://api-py.llama.airforce/curve/v1";let m_=class extends $e{async get(e){return this.fetch(`${__}/pools/mainnet/volume/${e.address}`)}};async function v_(o,e){if(o.pools.length>0||o.poolsLoading)return;o.poolsLoading=!0;const{pools:t}=await e.get();o.pools=t,o.poolsLoading=!1}async function h_(o,e,t){if(t&&!o.reserves[t.name]){o.poolsLoading=!0;try{const{reserves:a}=await e.get(t);o.setReserves(t.address,a)}finally{o.poolsLoading=!1}}}async function f_(o,e,t){if(t&&!o.candles[t.name]){o.poolsLoading=!0;try{const a=await e.get(t);a&&o.setCandles(t.address,a)}finally{o.poolsLoading=!1}}}async function g_(o,e,t){if(t&&!o.volumes[t.name]){o.poolsLoading=!0;try{const{volume:a}=await e.get(t);o.setVolumes(t.address,a)}finally{o.poolsLoading=!1}}}const b_={class:"pools"},y_=k({__name:"Pools",setup(o){const e=new i_(H()),t=new p_(H()),a=new u_(H()),s=new m_(H()),l=Xe(),u=P(""),p=P(null);q(async()=>{await v_(l,e)});const i=d=>{const h=d;u.value=Ce(h.name),p.value=h,f_(l,a,h),h_(l,t,h),g_(l,s,h)};return(d,h)=>(f(),w("div",b_,[_(t_,{modelValue:u.value,"onUpdate:modelValue":h[0]||(h[0]=m=>u.value=m),onSelect:i},null,8,["modelValue"]),c("div",{class:F(["data",{loading:n(l).poolsLoading}])},[p.value?(f(),D(n_,{key:0,class:"candles","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(f(),D(o_,{key:1,class:"reserves","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(f(),D(l_,{key:2,class:"volumes","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),p.value?(f(),D(a_,{key:3,class:"balances","pool-selected":p.value},null,8,["pool-selected"])):V("",!0),n(l).poolsLoading?(f(),D(n(rt),{key:4,class:"spinner"})):V("",!0)],2)]))}});const $_=S(y_,[["__scopeId","data-v-24a1f43e"]]),We=Ae({id:"curveStore",state:()=>({gauges:[],emissions:{},fees:{},breakdown:[],chainRevenues:[],selectedChain:"mainnet",topPools:{}}),actions:{setEmissions(o,e){this.emissions[o]=e},setFees(o,e){this.fees[o]=e},setTopPools(o,e){this.topPools[o]=e}}});function He(o){const e=o.reduce((t,{timeStamp:a,value:s})=>t.set(a,(t.get(a)??0)+s),new Map);return Array.from(e).map(t=>({timeStamp:t[0],value:t[1]}))}const us=k({__name:"GraphEmissions",props:{gaugeSelected:{}},setup(o){const{t:e}=B(),t=We(),a=N(),s=C(()=>{let r=e("title");return o.gaugeSelected&&(r+=` - ${Ce(o.gaugeSelected.name)}`),r}),l=C(()=>o.gaugeSelected?t.emissions[o.gaugeSelected.name]??[]:[]),u=C(()=>o.gaugeSelected?t.fees[o.gaugeSelected.name]??[]:[]),p=C(()=>Math.min(...He(l.value).map(r=>r.value).concat(He(u.value).map(r=>r.value)))),i=C(()=>Math.max(...He(l.value).map(r=>r.value).concat(He(u.value).map(r=>r.value)).map(r=>Math.abs(r)))),d=C(()=>{const r=W(a.theme),g=X(a.theme);return de({colors:r,colorsArray:g},{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:y=>m(y)},min:p,max:i},{seriesName:"emissions",tickAmount:4,labels:{formatter:y=>b(y)},show:!1,min:p,max:i}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:y=>{const I=y.w.globals.initialSeries[0].data[y.dataPointIndex].y,A=y.w.globals.initialSeries[1].data[y.dataPointIndex]?y.w.globals.initialSeries[1].data[y.dataPointIndex].y:0;return[`<div><b>${e("emissions")}</b>:</div><div>${m(I)}</div>`,`<div><b>${e("fees")}</b>:</div><div>${b(A)}</div>`,`<div><b>${e("ratio")}</b>:</div><div>${v(A/I)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(y){return y}}})}),h=C(()=>{const r=He(l.value),g=He(u.value),y=Object.assign({},...g.map(I=>({[I.timeStamp]:I.value})));return[{name:e("emissions"),type:"line",data:r.map(I=>({x:I.timeStamp*1e3,y:I.value}))},{name:e("fees"),type:"line",data:r.map(I=>({x:I.timeStamp*1e3,y:y[I.timeStamp]?Math.abs(y[I.timeStamp]):0}))}]}),m=r=>`$${J(Math.abs(r),1,"dollar")}${j(r,"dollar")}`,b=r=>`$${J(r,1,"dollar")}${j(r,"dollar")}`,v=r=>`${Ve(r,2)}`;return(r,g)=>(f(),D(n(ve),{class:"emissions",title:s.value,options:d.value,series:h.value},null,8,["title","options","series"]))}});function xa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Emissions & Revenues"])},emissions:t=>{const{normalize:a}=t;return a(["Emissions"])},fees:t=>{const{normalize:a}=t;return a(["Fees"])},ratio:t=>{const{normalize:a}=t;return a(["Ratio"])}}})}typeof xa=="function"&&xa(us);const w_=S(us,[["__scopeId","data-v-09c5de16"]]),k_={class:"logo"},C_=["src"],S_={class:"number"},x_={key:0,class:"graphs"},A_={key:1},ds=k({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(o){const{t:e}=B(),t=We(),a=P("tvl"),s=P(ge.Descending),l=C(()=>z.orderBy(t.gauges,p=>{switch(a.value){case"name":return Ce(p.name);case"tvl":return p.tvl;default:return p.tvl}},s.value===ge.Descending?"desc":"asc")),u=(p,i)=>{a.value=p,s.value=i};return(p,i)=>(f(),D(n(ye),{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:l.value,columns:["",n(e)("name"),n(e)("tvl")],sorting:!0,"sorting-columns":["","name","tvl"],"sorting-columns-enabled":["name","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:p.expanded,onSortColumn:u},{"header-title":$(()=>[c("div",null,x(n(e)("title")),1)]),row:$(d=>[c("div",k_,[c("img",{class:"logo-img",src:n(jt)(d.item.name,!1)},null,8,C_)]),c("div",null,x(n(Ce)(d.item.name)),1),c("div",S_,[_(n(O),{value:d.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":$(d=>[p.expanded.includes(d.item)?(f(),w("div",x_,[_(w_,{class:"fees-and-emissions","gauge-selected":d.item},null,8,["gauge-selected"])])):(f(),w("span",A_))]),_:1},8,["rows","columns","expanded"]))}});function Aa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{name:t=>{const{normalize:a}=t;return a(["Name"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])},title:t=>{const{normalize:a}=t;return a(["Curve Pools"])}}})}typeof Aa=="function"&&Aa(ds);const I_=S(ds,[["__scopeId","data-v-50570fdd"]]);class L_ extends $e{async get(){return this.fetch(`${this.host}/curvepool`)}}class P_ extends $e{async get(e){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:e.name})}}const D_={class:"gauges"},T_=k({__name:"Gauges",setup(o){let e=!1;const t=new L_(H()),a=new P_(H()),s=We(),l=Fe(),u=Ke(),p=P([]);q(async()=>{e=!0;const b=await vt(t.get());if(b){const v=b.pools;if(v.sort((g,y)=>y.tvl-g.tvl),s.gauges=v,!e)return;const r=l.params.gauge;r&&typeof r=="string"&&d(r)}}),Ln(()=>{e=!1});const i=async b=>{if(!b||s.fees[b.name]&&s.emissions[b.name])return;const v=await vt(a.get(b),500);if(v){const r=v.data.feeSnapshots,g=v.data.emissionSnapshots;s.setFees(b.name,r),s.setEmissions(b.name,g)}},d=b=>{const v=Ro(b),r=s.gauges.find(g=>g.name===v);r&&h(r)},h=b=>p.value.includes(b)?(p.value=p.value.filter(v=>v!==b),!1):(i(b),p.value.push(b),!0),m=async b=>{h(b)&&await u.push({name:"curvegauges",params:{gauge:Ce(b.name)}})};return(b,v)=>(f(),w("div",D_,[_(I_,{class:"datatable-gauges",expanded:p.value,onSelected:m},null,8,["expanded"])]))}});const M_=S(T_,[["__scopeId","data-v-eb8d2ea5"]]),V_="https://api-py.llama.airforce/curve/v1/protocol/revenue/historical/breakdown?from=1686750777",z_="https://api-py.llama.airforce/curve/v1/protocol/revenue/chains";class ps extends $e{async getBreakdown(e){return this.fetch(V_,void 0,e).then(t=>t.revenue)}async getByChain(e){return this.fetch(z_,void 0,e).then(t=>t.revenue)}async getTopPools(e,t=10){const a=`https://api-py.llama.airforce/curve/v1/protocol/revenue/${e}/toppools/${t}`;return this.fetch(a).then(s=>s.revenue)}}const B_=k({__name:"GraphRevenueBreakdown",setup(o){const e=We(),t=N(),a=C(()=>e.breakdown??[]),s=C(()=>{const m=W(t.theme),b=X(t.theme);return de({colors:m,colorsArray:b},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:u.value,labels:{formatter:d,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:h},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),l=C(()=>z.chain(a.value).groupBy(m=>m.week).map(m=>({week:m[0].week,numLabels:m.length})).orderBy(m=>m.week,"asc").dropWhile(m=>m.numLabels<3).map(m=>m.week).value()),u=C(()=>z.chain(l.value).map(m=>new Date(m*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),p=C(()=>z.chain(a.value).groupBy(m=>m.label).map((m,b)=>({name:b,data:z.chain(l.value).map(v=>({week:v,breakdown:m.find(r=>r.week===v)})).map(v=>{var r;return{x:new Date(v.week*1e3).toLocaleDateString(),y:((r=v.breakdown)==null?void 0:r.total_fees)??0}}).value()})).value()),i=C(()=>{let m=0;for(let b=0;b<l.value.length;b++)m=Math.max(m,p.value.map(v=>v.data[b].y).reduce((v,r)=>v+r,0));return m*1.1}),d=m=>m,h=m=>`$${J(m,0,"dollar")}${j(m,"dollar")}`;return(m,b)=>(f(),D(n(ve),{class:"graph",options:s.value,series:p.value},null,8,["options","series"]))}});const O_=S(B_,[["__scopeId","data-v-3f1f7e60"]]),R_=k({__name:"GraphRevenueChain",setup(o){const e=We(),t=N(),a=C(()=>z.orderBy(e.chainRevenues??[],p=>p.totalDailyFeesUSD,"asc")),s=C(()=>{const p=W(t.theme),i=X(t.theme);return de({colors:p,colorsArray:i},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const h=d.w.globals.labels[d.seriesIndex],m=d.series[d.seriesIndex][0];return[`<div><b>${h}</b>:</div><div>${u(m)}</div>`].join("")}},labels:a.value.map(d=>d.chain)})}),l=C(()=>a.value.map(p=>p.totalDailyFeesUSD)),u=p=>`$${J(Math.abs(p),1,"dollar")}${j(p,"dollar")}`;return(p,i)=>(f(),D(n(ve),{class:"graph",options:s.value,series:l.value},null,8,["options","series"]))}});const F_=S(R_,[["__scopeId","data-v-88256624"]]);function ht(o){return o==="all"?"":`icons/chains/${(t=>{switch(t){case"mainnet":return"mainnet.svg";case"avalanche":return"avalanche.svg";case"arbitrum":return"arbitrum.png";case"fantom":return"fantom.svg";case"xdai":return"xdai.png";case"harmony":return"harmony.svg";case"moonbeam":return"moonbeam.png";case"matic":return"matic.svg";case"optimism":return"optimism.png";default:return""}})(o)}`}const U_={key:0,class:"item"},E_=["src"],W_={key:1,class:"empty"},q_={class:"label"},H_=k({__name:"SelectChain",props:{chain:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(o,{emit:e}){const t=P(!1),a=[...o.all?[{chain:"all",label:"All"}]:[],{chain:"mainnet",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"}],s=C(()=>a.find(i=>i.chain===o.chain)??null);q(()=>{p(a[0])});const l=i=>i.label,u=()=>{t.value=!t.value},p=i=>{const{chain:d}=i;e("select-chain",d)};return(i,d)=>(f(),D(n(Re),{class:"select",options:a,selected:s.value,open:t.value,onOpen:u,onClose:d[0]||(d[0]=h=>t.value=!1),onInput:p},{item:$(h=>[h.item?(f(),w("div",U_,[n(ht)(h.item.chain)?(f(),w("img",{key:0,src:n(ht)(h.item.chain)},null,8,E_)):(f(),w("div",W_)),c("div",q_,x(l(h.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const _s=S(H_,[["__scopeId","data-v-7d200270"]]),N_=k({__name:"GraphRevenueTopPools",setup(o){const e=new ps(H()),t=We(),a=N(),s=P(!1),l=C(()=>t.selectedChain),u=C(()=>l.value?t.topPools[l.value]??[]:[]),p=C(()=>{const b=W(a.theme),v=X(a.theme);return de({colors:b,colorsArray:v},{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:u.value.map(r=>r.name),labels:{formatter:d}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:d,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}})});q(()=>{m("mainnet")});const i=C(()=>[{data:u.value.map(b=>b.totalDailyFeesUSD)}]),d=b=>`$${J(Math.abs(b),1,"dollar")}${j(b,"dollar")}`,h=async b=>{if(b&&!t.topPools[b]){s.value=!0;try{const v=await vt(e.getTopPools(b),500);v&&t.setTopPools(b,v)}finally{s.value=!1}}},m=b=>{b!=="all"&&(t.selectedChain=b,h(b))};return(b,v)=>(f(),D(n(ve),{class:"graph",options:p.value,series:i.value,loading:s.value},{default:$(()=>[c("div",{class:F(["selector",{loading:s.value}])},[_(_s,{chain:n(t).selectedChain,onSelectChain:m},null,8,["chain"])],2)]),_:1},8,["options","series","loading"]))}});const G_=S(N_,[["__scopeId","data-v-f8dfa23c"]]),Q_={class:"revenue-charts"},ms=k({__name:"Dashboard",setup(o){const e=new ps(H()),{t}=B(),a=We(),s=P(!1),l=P(!1),u=P(!1),p=new AbortController;return Pn(()=>{a.chainRevenues.length>0||(s.value=!0,l.value=!0,u.value=!0,e.getByChain(p.signal).then(i=>{i&&(a.chainRevenues=i,s.value=!1)}),e.getBreakdown(p.signal).then(i=>{i&&(a.breakdown=i,u.value=!1)}))}),Dn(()=>{p.abort()}),(i,d)=>(f(),w("div",Q_,[_(F_,{class:"chain-revenues",title:n(t)("revenue-charts"),loading:s.value},null,8,["title","loading"]),_(G_,{class:"chain-top-pools",title:n(t)("chain-top-pools")},null,8,["title"]),_(O_,{class:"breakdown",title:n(t)("breakdown"),loading:u.value},null,8,["title","loading"])]))}});function Ia(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"revenue-charts":t=>{const{normalize:a}=t;return a(["Total revenue by chain"])},"chain-top-pools":t=>{const{normalize:a}=t;return a(["Top 10 pools by revenue (last 7 days)"])},breakdown:t=>{const{normalize:a}=t;return a(["Revenue breakdown by source"])}}})}typeof Ia=="function"&&Ia(ms);const Y_=S(ms,[["__scopeId","data-v-7205e1b5"]]),j_="https://api-py.llama.airforce/curve/v1";class J_ extends $e{async getCushions(){return this.fetch(`${j_}/protocol/couch/cushions`)}}const sa=o=>(te("data-v-8285b015"),o=o(),ae(),o),K_={class:"chain"},Z_=["src"],X_={class:"label"},em={class:"number"},tm=sa(()=>c("div",null,null,-1)),am=sa(()=>c("div",null,null,-1)),om=sa(()=>c("div",null,null,-1)),sm={class:"number"},vs=k({__name:"TableCushions",setup(o){const{t:e}=B(),t=new J_(H()),a=P(""),s=P("all"),l=C(()=>z.chain(p.value).filter(d=>d.totalUSD>100).filter(d=>{const h=a.value.toLocaleLowerCase().split(" "),m=v=>h.some(r=>v.toLocaleLowerCase().includes(r)),b=s.value==="all"?!0:s.value===d.chain;return(m(d.pool)||m(d.address)||m(d.chain)||m(d.coins.join(" ")))&&b}).value()),{loading:u,data:p,loadData:i}=oe(()=>t.getCushions().then(d=>d.cushions.sort((h,m)=>m.totalUSD-h.totalUSD)),[]);return q(()=>void i()),(d,h)=>(f(),D(n(ye),{class:"datatable-cushions","columns-header":"1fr 12rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:n(u),rows:l.value,columns:["Name","Coins","Chain","Fees ($)"]},{"header-title":$(()=>[c("div",null,x(n(e)("title")),1),_(_s,{class:"chain-select",chain:s.value,all:!0,onSelectChain:h[0]||(h[0]=m=>s.value=m)},null,8,["chain"]),_(n(pe),{modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=m=>a.value=m),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(m=>[c("div",null,x(m.item.pool),1),c("div",null,x(m.item.coinNames.join(" / ")),1),c("div",K_,[n(ht)(m.item.chain)?(f(),w("img",{key:0,src:n(ht)(m.item.chain)},null,8,Z_)):V("",!0),c("span",X_,x(m.item.chain),1)]),c("div",em,[_(n(O),{value:m.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":$(()=>[tm,am,om,c("div",sm,[_(n(O),{value:l.value.reduce((m,b)=>m+b.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows","columns"]))}});function La(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Cushions"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof La=="function"&&La(vs);const nm=S(vs,[["__scopeId","data-v-8285b015"]]),lm={class:"cushions"},rm=k({__name:"Cushions",setup(o){return(e,t)=>(f(),w("div",lm,[_(nm)]))}});const im=S(rm,[["__scopeId","data-v-fc9c8adf"]]),cm={class:"revenue"},um=k({__name:"Revenue",setup(o){const e=Fe(),t=Ke(),a=P(0);return q(()=>{const s=e.params.tab;s&&typeof s=="string"&&s==="cushions"&&(a.value=1)}),M(a,async s=>{s===0?await t.push({name:"revenue",params:{tab:""}}):s===1&&await t.push({name:"revenue",params:{tab:"cushions"}})}),(s,l)=>(f(),w("div",cm,[_(n(Ze),{active:a.value,onTab:l[0]||(l[0]=u=>a.value=u.index)},{default:$(()=>[_(n(le),{header:"Revenue"},{default:$(()=>[(f(),D(lt,null,[a.value===0?(f(),D(Y_,{key:0})):V("",!0)],1024))]),_:1}),_(n(le),{header:"Cushions"},{default:$(()=>[(f(),D(lt,null,[a.value===1?(f(),D(im,{key:0})):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const dm=S(um,[["__scopeId","data-v-282c427f"]]),hs=Ae({id:"curveUsdStore",state:()=>({market:null})}),ee="https://api-py.llama.airforce/curve/v1";class re extends $e{async getMarkets(){return this.fetch(`${ee}/crvusd/markets`)}async getMarketVolume(e){return this.fetch(`${ee}/crvusd/markets/${e}/volume`)}async getMarketLoans(e){return this.fetch(`${ee}/crvusd/markets/${e}/loans`)}async getMarketRates(e){return this.fetch(`${ee}/crvusd/markets/${e}/rate/daily`)}async getMarketUserStates(e,t,a){return this.fetch(`${ee}/crvusd/markets/${e}/users/states?offset=${t}&limit=${a}`)}async getPoolStats(){return this.fetch(`${ee}/crvusd/pools/stats`)}async getPoolPrices(){return this.fetch(`${ee}/crvusd/prices`)}async getCrvUsdPriceHistogram(){return this.fetch(`${ee}/crvusd/prices/hist`)}async getCrvUsdSupply(){return this.fetch(`${ee}/crvusd/supply`)}async getFees(){return this.fetch(`${ee}/crvusd/fees`)}async getFeesBreakdown(){return this.fetch(`${ee}/crvusd/fees/breakdown`)}async getKeepersDebt(){return this.fetch(`${ee}/crvusd/keepers/debt`)}async getKeepersProfit(){return this.fetch(`${ee}/crvusd/keepers/profit`)}async getYield(){return this.fetch(`${ee}/crvusd/yield`)}async getHistoricalSoftLiquidations(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/soft`)}async getHistoricalMedianLoss(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/median`)}async getHistoricalAverageHealth(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/health/historical`)}async getHealthDeciles(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/health`)}async getProportionLosers(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/losses/historical/proportions`)}async getHistoricalLiquidations(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/historical`)}async getTopLiquidators(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/liquidators`)}async getMarketStateHealth(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/state`)}async getMarketAvailableCap(e){return this.fetch(`${ee}/crvusd/markets/${e}/available`)}async getLiquidatorRevenue(e){return this.fetch(`${ee}/crvusd/markets/${e}/liquidations/liquidators/revenue`)}async getHistoricalCollateralRatio(e){return this.fetch(`${ee}/crvusd/markets/${e}/collateral_ratio`)}}const et=o=>(te("data-v-05bf74f1"),o=o(),ae(),o),pm={class:"number"},_m={class:"number"},mm={class:"number"},vm={class:"premia"},hm={class:"best"},fm=et(()=>c("em",null,"Premia",-1)),gm={class:"top"},bm={class:"yields"},ym={class:"number"},$m={class:"number"},wm={class:"number"},km={class:"number"},Cm=et(()=>c("div",null,null,-1)),Sm={class:"number"},xm=et(()=>c("div",null,null,-1)),Am=et(()=>c("div",null,null,-1)),Im=et(()=>c("div",null,null,-1)),Lm={class:"number"},Pm=et(()=>c("div",null,null,-1)),Dm={class:"number"},Tm={class:"number"},Mm={class:"number"},fs=k({__name:"TableMarkets",setup(o){const{t:e}=B(),t=new re(H()),a=P(!0),s=P([]),l=P(""),u=P([]),p=C(()=>z.chain(u.value).maxBy(m=>m.apy).value()??null),i=C(()=>z.chain(u.value).orderBy(m=>m.apy,"desc").take(5).value()),d=C(()=>z.chain(s.value).filter(m=>{const b=l.value.toLocaleLowerCase().split(" "),v=r=>b.some(g=>r.toLocaleLowerCase().includes(g));return v(m.name)||v(m.address)}).value());q(async()=>{a.value=!0;const{markets:m}=await t.getMarkets(),{pending:b,collected:v}=await t.getFeesBreakdown();u.value=await t.getYield().then(r=>r.yields),s.value=m.map(r=>{const g={fees:{pending:b.find(y=>y.market===r.address),collected:v.find(y=>y.market===r.address)}};return{...r,...g}}).sort((r,g)=>g.totalCollateral-r.totalCollateral),a.value=!1});const h=m=>m?m.adminBorrowingFees+m.collateralAdminFeesUsd+m.crvUsdAdminFees:0;return(m,b)=>(f(),D(n(ye),{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data",loading:a.value,rows:d.value,columns:["Name","Loans","Rate","Change (24h)","Premia","Borrowed","Change (24h)","Collateral","Fees Pending","Fees Collected"]},{"header-title":$(()=>[c("div",null,x(n(e)("title")),1),_(n(pe),{modelValue:l.value,"onUpdate:modelValue":b[0]||(b[0]=v=>l.value=v),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(v=>[c("div",null,x(v.item.name),1),c("div",pm,x(v.item.loans),1),c("div",_m,[_(n(O),{value:v.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),c("div",{class:F(["number delta",{negative:v.item.rateAbsDelta<0}])},[E(x(v.item.rateAbsDelta>0?"+":"")+" ",1),v.item.rateAbsDelta?(f(),D(n(O),{key:0,value:v.item.rateAbsDelta*100,precision:2,"show-unit":!1,type:"percentage"},null,8,["value"])):V("",!0)],2),c("div",mm,[p.value?(f(),D(n(Me),{key:0},{item:$(()=>[c("span",{class:F(["number delta",{negative:p.value.apy-v.item.rate*100<0}])},[_(n(O),{value:p.value.apy-v.item.rate*100,precision:2,type:"percentage"},null,8,["value"])],2)]),default:$(()=>[c("div",vm,[c("span",hm,[fm,E(" for "),c("strong",null,x(v.item.name),1),E(" is max yield ("),_(n(O),{value:p.value.apy,precision:2,type:"percentage"},null,8,["value"]),E(") from "),c("strong",null,x(p.value.pool),1),E(" farmed on "),c("strong",null,x(p.value.platform),1),E(" minus the borrow rate ("),_(n(O),{value:v.item.rate*100,precision:2,type:"percentage"},null,8,["value"]),E(") ")]),c("div",gm,[c("strong",null,"Top "+x(i.value.length)+" yields: ",1),c("div",bm,[(f(!0),w(se,null,ce(i.value,(r,g)=>(f(),w(se,{key:g},[c("div",null,x(r.platform),1),c("div",null,x(r.pool.replace("Curve.fi","").replace("Factory Plain Pool: ","")),1),c("div",null,[_(n(O),{value:r.apy,precision:2,type:"percentage"},null,8,["value"])])],64))),128))])])])]),_:2},1024)):V("",!0)]),c("div",ym,[_(n(O),{value:v.item.borrowed,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",{class:F(["number delta",{negative:v.item.borrowedDelta<0}])},[E(x(v.item.borrowedDelta>0?"+":"")+" ",1),v.item.borrowedDelta?(f(),D(n(O),{key:0,value:v.item.borrowedDelta*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)],2),c("div",$m,[_(n(O),{value:v.item.totalCollateral,precision:0,type:"dollar"},null,8,["value"])]),c("div",wm,[_(n(O),{value:h(v.item.fees.pending),precision:0,type:"dollar"},null,8,["value"])]),c("div",km,[_(n(O),{value:h(v.item.fees.collected),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":$(()=>[Cm,c("div",Sm,x(d.value.reduce((v,r)=>v+r.loans,0)),1),xm,Am,Im,c("div",Lm,[_(n(O),{value:d.value.reduce((v,r)=>v+r.borrowed,0),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Pm,c("div",Dm,[_(n(O),{value:d.value.reduce((v,r)=>v+r.totalCollateral,0),precision:0,type:"dollar"},null,8,["value"])]),c("div",Tm,[_(n(O),{value:d.value.reduce((v,r)=>v+h(r.fees.pending),0),precision:0,type:"dollar"},null,8,["value"])]),c("div",Mm,[_(n(O),{value:d.value.reduce((v,r)=>v+h(r.fees.collected),0),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":$(()=>[E("   ")]),_:1},8,["loading","rows","columns"]))}});function Pa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Markets"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Pa=="function"&&Pa(fs);const Vm=S(fs,[["__scopeId","data-v-05bf74f1"]]),zm=o=>(te("data-v-d205f5c2"),o=o(),ae(),o),Bm={class:"number"},Om={class:"number"},Rm={class:"number"},Fm={class:"number"},Um=zm(()=>c("div",null,null,-1)),Em={class:"number"},Wm={class:"number"},qm={class:"number"},Hm={class:"number"},gs=k({__name:"TablePegkeepers",setup(o){const{t:e}=B(),t=new re(H()),a=P(!0),s=P([]),l=P(""),u=C(()=>z.chain(s.value).filter(p=>{const i=l.value.toLocaleLowerCase().split(" "),d=h=>i.some(m=>h.toLocaleLowerCase().includes(m));return d(p.name)||d(p.address)}).value());return q(async()=>{a.value=!0;const p=await t.getPoolStats(),i=await t.getKeepersDebt(),d=await t.getKeepersProfit();s.value=p.stats.map(h=>{const m=i.keepers.find(v=>v.pool===h.address),b=d.profit.find(v=>v.pool===h.address);if(!(!m||!b))return{...h,...m,...b}}).filter(Yn).sort((h,m)=>m.tvl-h.tvl),a.value=!1}),(p,i)=>(f(),D(n(ye),{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:a.value,rows:u.value,columns:["Name","Debt","TVL","Volume","Fees"]},{"header-title":$(()=>[c("div",null,x(n(e)("title")),1),_(n(pe),{modelValue:l.value,"onUpdate:modelValue":i[0]||(i[0]=d=>l.value=d),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(d=>[c("div",null,x(d.item.name),1),c("div",Bm,[_(n(O),{value:d.item.debt,precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Om,[_(n(O),{value:d.item.tvl,precision:0,type:"dollar"},null,8,["value"])]),c("div",Rm,[_(n(O),{value:d.item.volumeUSD,precision:0,type:"dollar"},null,8,["value"])]),c("div",Fm,[_(n(O),{value:d.item.profit,precision:0,type:"dollar"},null,8,["value"])])]),"row-aggregation":$(()=>[Um,c("div",Em,[_(n(O),{value:u.value.reduce((d,h)=>d+h.debt,0),precision:0,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Wm,[_(n(O),{value:u.value.reduce((d,h)=>d+h.tvl,0),precision:0,type:"dollar"},null,8,["value"])]),c("div",qm,[_(n(O),{value:u.value.reduce((d,h)=>d+h.volumeUSD,0),precision:0,type:"dollar"},null,8,["value"])]),c("div",Hm,[_(n(O),{value:u.value.reduce((d,h)=>d+h.profit,0),precision:0,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Da(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Pegkeepers"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Da=="function"&&Da(gs);const Nm=S(gs,[["__scopeId","data-v-d205f5c2"]]),Gm=(o,e)=>{const t=W(e);return{width:o.clientWidth,height:o.clientHeight,layout:{background:{type:Nt.Solid,color:t.backgroundColor},textColor:t.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:t.level4,style:Gt.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function _e(o,e,t){const a=Gm(o,e),s=(l,u)=>{if(typeof u=="object"){z.mergeWith(l,u,s);return}else return l||u};return z.mergeWith(t,a,s)}const bs=k({__name:"ChartPoolPrices",setup(o){const{t:e}=B(),t=new re(H());let a,s=[];const l=N(),u=P(null),p=P([]),i=["USDC","USDT","TUSD","USDP"],d=C(()=>Object.keys(m.value[0]).filter(L=>L!=="timestamp"&&L!=="USD"&&i.includes(L))),{loading:h,data:m,loadData:b}=oe(()=>t.getPoolPrices().then(L=>L.prices),[{timestamp:0}]);q(async()=>{u.value&&(a=ue(u.value,v(u.value,l.theme)),await b(),g(),y(m.value))}),M(m,L=>{g(),y(L)}),M(p,()=>{g(),y(m.value)}),M(()=>l.theme,L=>{if(u.value){a.applyOptions(v(u.value,L));for(const[T,R]of s.entries())R.applyOptions(r(T,l.theme))}});const v=(L,T)=>_e(L,T,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:I}}),r=(L,T)=>{const R=X(T);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:R[L],lastValueVisible:!1,priceLineVisible:!1}},g=()=>{if(a){for(const L of s)a.removeSeries(L);s=[];for(let L=0;L<d.value.length;L++){const T=a.addLineSeries(r(L,l.theme));s.push(T)}}},y=L=>{if(!(!a||s.length<0)){for(const[T,R]of d.value.entries()){if(p.value.includes(R)){s[T].setData([]);continue}const Q=z.chain(L).map(fe=>({time:fe.timestamp,value:fe[R]})).uniqWith((fe,qe)=>fe.time===qe.time).orderBy(fe=>fe.time,"asc").value();Q.length>0&&s[T].setData(Q)}a.timeScale().fitContent()}},I=L=>`${J(L,3,"dollar")}${j(L,"dollar")}`,A=L=>{if(p.value.includes(L)){const T=new Set(p.value);T.delete(L),p.value=Array.from(T)}else p.value=Array.from(new Set([L,...p.value]))};return(L,T)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(h)},{default:$(()=>[_(n(Ee),{items:d.value,disabled:p.value,clickable:!0,colors:n(X)(n(l).theme),onClick:A},null,8,["items","disabled","colors"]),c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ta(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Stablecoin Prices of Pegkeepers"])}}})}typeof Ta=="function"&&Ta(bs);const Qm=S(bs,[["__scopeId","data-v-08017247"]]),Ym=k({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(o){let e,t,a;const s=N(),l=P(null);q(()=>{l.value&&(e=ue(l.value,u(l.value,s.theme)),t=e.addAreaSeries(p(s.theme)),a=e.addLineSeries(i(s.theme)),d(o.data))}),M(()=>s.theme,m=>{l.value&&(e.applyOptions(u(l.value,m)),t.applyOptions(p(m)),a.applyOptions(i(m)))}),M(()=>o.data,m=>{d(m)});const u=(m,b)=>_e(m,b,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>h(v)}}),p=m=>{const b=W(m);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:b.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},i=m=>{const b=W(m);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:b.yellow,lastValueVisible:!1,priceLineVisible:!1}},d=m=>{if(!e||!t)return;const b=z.chain(m).groupBy(r=>r.timestamp).mapValues(r=>({time:r[0].timestamp,value:r.reduce((g,y)=>g+y.totalSupply,0),debt:r[0].totalSupply})).entries().map(r=>r[1]).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc").value(),v=b.map(r=>({time:r.time,value:r.value-r.debt}));b.length>0&&t.setData(b),v.length>0&&a.setData(v),e.timeScale().fitContent()},h=m=>`${J(m,1,"dollar")}${j(m,"dollar")}`;return(m,b)=>(f(),w("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});const jm=S(Ym,[["__scopeId","data-v-c5d0e5c8"]]),Jm=k({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=W(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>z.chain(o.data).groupBy(i=>i.name).map((i,d)=>({name:d,data:z.chain(i).orderBy(h=>h.timestamp,"asc").map(h=>({x:new Date(h.timestamp*1e3).toLocaleDateString(),y:h.totalSupply})).value()})).value()),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,h)=>d+h.totalSupply,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Km=S(Jm,[["__scopeId","data-v-6c28710c"]]),Zm={class:"actions"},Xm={class:"chart-types"},ys=k({__name:"ChartCrvUsdSupply",setup(o){const{t:e}=B(),t=new re(H()),a=N(),s=P("line"),{loading:l,data:u,loadData:p}=oe(()=>t.getCrvUsdSupply().then(d=>d.supply),[]);q(()=>void p());const i=d=>{s.value!==d&&(s.value=d)};return(d,h)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(l)},{actions:$(()=>[c("div",Zm,[s.value==="line"?(f(),D(n(Ee),{key:0,items:["Supply","Borrowed"],colors:n(X)(n(a).theme)},null,8,["colors"])):V("",!0),c("div",Xm,[_(n(Te),{value:"Line","model-value":s.value==="line",onClick:h[0]||(h[0]=m=>i("line"))},null,8,["model-value"]),_(n(Te),{value:"Breakdown","model-value":s.value==="breakdown",onClick:h[1]||(h[1]=m=>i("breakdown"))},null,8,["model-value"])])])]),default:$(()=>[s.value==="line"?(f(),D(jm,{key:0,data:n(u)},null,8,["data"])):(f(),D(Km,{key:1,data:n(u)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function Ma(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["crvUSD Supply"])}}})}typeof Ma=="function"&&Ma(ys);const ev=S(ys,[["__scopeId","data-v-98df8efe"]]),tv=k({__name:"ChartCrvUsdPriceHistogram",setup(o){const e=new re(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>e.getCrvUsdPriceHistogram(),{x:[],y:[]}),u=C(()=>{const m=W(t.theme),b=X(t.theme);return de({colors:m,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:p.value,labels:{formatter:d},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:v=>{const r=p.value[v.dataPointIndex],g=v.series[0][v.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${h(g)}</div>`].join("")}}})}),p=C(()=>s.value.x.map(m=>m.toString())),i=C(()=>[{data:s.value.y}]);q(()=>void l());const d=m=>{const b=m-1;return b<0?`-$${b.toString().substring(2,7)}`:`$${b.toString().substring(1,6)}`},h=m=>{var r,g;const b=((g=(r=i.value[0])==null?void 0:r.data)==null?void 0:g.reduce((y,I)=>y+I,0))??1,v=m/b*100;return`${J(v,0,"dollar")}${j(v,"percentage")}`};return(m,b)=>(f(),D(n(ve),{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const av=S(tv,[["__scopeId","data-v-02db1a9a"]]),ov={class:"crvusd"},sv={class:"col"},nv={class:"col"},lv=k({__name:"CrvUsd",setup(o){const e=Ke(),t=oa(),a=hs();q(()=>{t.show=!0,t.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"}]});const s=async l=>{a.market=l,await e.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,u)=>(f(),w("div",ov,[_(Vm,{style:{"grid-column":"1 / -1"},onSelected:s}),c("div",sv,[_(Nm),_(Qm)]),c("div",nv,[_(ev),_(av,{class:"price"})])]))}});const rv=S(lv,[["__scopeId","data-v-760b16fe"]]),$s=k({__name:"ChartMarketVolume",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getMarketVolume(o.market.address).then(r=>r.volumes):Promise.resolve([]),[]);q(()=>{u.value&&(a=ue(u.value,h(u.value,l.theme)),s=a.addAreaSeries(m(l.theme)),b(i.value))}),M(()=>o.market,d,{immediate:!0}),M(()=>l.theme,r=>{u.value&&(a.applyOptions(h(u.value,r)),s.applyOptions(m(r)))}),M(i,r=>{b(r)});const h=(r,g)=>_e(r,g,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>v(y)}}),m=r=>{const g=W(r);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:g.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=r=>{if(!a||!s)return;const g=z.chain(r).map(y=>({time:y.timestamp,value:y.swapVolumeUsd})).uniqWith((y,I)=>y.time===I.time).orderBy(y=>y.time,"asc").value();g.length>0&&s.setData(g),a.timeScale().fitContent()},v=r=>`$${J(r,1,"dollar")}${j(r,"dollar")}`;return(r,g)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Va(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Volume"])}}})}typeof Va=="function"&&Va($s);const iv=S($s,[["__scopeId","data-v-37be5db0"]]),ws=k({__name:"ChartMarketLoans",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getMarketLoans(o.market.address).then(r=>r.loans):Promise.resolve([]),[]);q(()=>{u.value&&(a=ue(u.value,h(u.value,l.theme)),s=a.addHistogramSeries(m(l.theme)),b(i.value))}),M(()=>o.market,d,{immediate:!0}),M(()=>l.theme,r=>{u.value&&(a.applyOptions(h(u.value,r)),s.applyOptions(m(r)))}),M(i,r=>{b(r)});const h=(r,g)=>_e(r,g,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:v}}),m=r=>({color:W(r).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}),b=r=>{if(!a||!s)return;const g=z.chain(r).map(y=>({time:y.timestamp,value:y.nLoans})).uniqWith((y,I)=>y.time===I.time).orderBy(y=>y.time,"asc").value();if(g.length>0){s.setData(g);const y=g[0].time,I=g[g.length-1].time;a.timeScale().setVisibleRange({from:y,to:I})}},v=r=>Math.round(r).toString();return(r,g)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function za(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Loans"])}}})}typeof za=="function"&&za(ws);const cv=S(ws,[["__scopeId","data-v-9f2d43ea"]]),uv={class:"actions"},ks=k({__name:"ChartMarketRates",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),i=P(null),{loading:d,data:h,loadData:m}=oe(()=>o.market?t.getMarketRates(o.market.address).then(A=>A.rates):Promise.resolve([]),[]);q(()=>{p.value&&(a=ue(p.value,b(p.value,u.theme)),s=a.addAreaSeries(v(u.theme)),l=a.addLineSeries(r(u.theme)),g(h.value))}),M(()=>o.market,m,{immediate:!0}),M(()=>u.theme,A=>{p.value&&(a.applyOptions(b(p.value,A)),s.applyOptions(v(A)),l.applyOptions(r(A)))}),M(h,A=>{g(A)}),M(i,()=>{g(h.value)});const b=(A,L)=>_e(A,L,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>y(T)}}),v=A=>{const L=W(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:L.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=A=>{const L=W(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:L.yellow,lastValueVisible:!1,priceLineVisible:!1}},g=A=>{if(!a||!s)return;const L=z.chain(A).map(Q=>({time:Q.timestamp,value:Q.rate})).uniqWith((Q,fe)=>Q.time===fe.time).orderBy(Q=>Q.time,"asc").value(),T=I(L.map(Q=>Q.value),i.value??31),R=z.chain(T).zip(L).map(Q=>({time:Q[1].time,value:Q[0]})).value();if(R.length>0&&l.setData(R),L.length>0){s.setData(L);const Q=L[0].time,fe=L[L.length-1].time;a.timeScale().setVisibleRange({from:Q,to:fe})}},y=A=>`${J(A*100,2,"percentage")}${j(A,"percentage")}`,I=(A,L=7)=>A.map((T,R)=>{const Q=Math.max(R-(L-1),0),fe=R+1,qe=A.slice(Q,fe);return qe.reduce((ra,Ct)=>ra+Ct,0)/qe.length});return(A,L)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(d)},{actions:$(()=>[c("div",uv,[_(n(Zt),{modelValue:i.value,"onUpdate:modelValue":L[0]||(L[0]=T=>i.value=T),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:$(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ba(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Rates"])}}})}typeof Ba=="function"&&Ba(ks);const dv=S(ks,[["__scopeId","data-v-6d5204ad"]]),pv={class:"actions"},Cs=k({__name:"ChartMarketAvailableCap",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:h}=oe(()=>o.market?t.getMarketAvailableCap(o.market.address).then(y=>y.available):Promise.resolve([]),[]);q(()=>{p.value&&(a=ue(p.value,m(p.value,u.theme)),s=a.addAreaSeries(b(u.theme)),l=a.addAreaSeries(v(u.theme)),r(d.value))}),M(()=>o.market,h,{immediate:!0}),M(()=>u.theme,y=>{p.value&&(a.applyOptions(m(p.value,y)),s.applyOptions(b(y)),l.applyOptions(v(y)))}),M(d,y=>{r(y)});const m=(y,I)=>_e(y,I,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:A=>g(A)}}),b=y=>{const I=W(y);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:I.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=y=>{const I=W(y);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:I.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=y=>{if(!a||!s)return;const I=z.chain(y).map(L=>({time:L.timestamp,value:L.borrowable})).uniqWith((L,T)=>L.time===T.time).orderBy(L=>L.time,"asc").value();I.length>0&&s.setData(I);const A=z.chain(y).map(L=>({time:L.timestamp,value:L.ceiling})).uniqWith((L,T)=>L.time===T.time).orderBy(L=>L.time,"asc").value();A.length>0&&l.setData(A),a.timeScale().fitContent()},g=y=>`$${J(y,1,"dollar")}${j(y,"dollar")}`;return(y,I)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:$(()=>[c("div",pv,[_(n(Ee),{items:["Borrowable","Debt ceiling"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:$(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Oa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Borrowable & Debt Ceiling"])}}})}typeof Oa=="function"&&Oa(Cs);const _v=S(Cs,[["__scopeId","data-v-1797633d"]]),mv={class:"market"},vv=k({__name:"MarketOverview",props:{market:{}},setup(o){return(e,t)=>(f(),w("div",mv,[_(dv,{market:e.market},null,8,["market"]),_(_v,{market:e.market},null,8,["market"]),_(cv,{market:e.market},null,8,["market"]),_(iv,{market:e.market},null,8,["market"])]))}});const hv=S(vv,[["__scopeId","data-v-cc800382"]]),tt=o=>(te("data-v-3c4087c8"),o=o(),ae(),o),fv={key:0},gv=tt(()=>c("span",{class:"text"},"Users in soft liquidation: ",-1)),bv=tt(()=>c("span",{class:"text"},"Median health:",-1)),yv=tt(()=>c("span",{class:"text"},"Collaterization ratio:",-1)),$v=tt(()=>c("span",{class:"text"},"Liquidatable positions:",-1)),wv=tt(()=>c("span",{class:"text"},"Liquidatable positions' debt:",-1)),kv=tt(()=>c("span",{class:"text"},"Liquidatable assets:",-1)),Ss=k({__name:"CardLiquidationOverview",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C(()=>l.value),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getMarketStateHealth(o.market.address).then(i=>i.health):Promise.resolve(null),null);M(()=>o.market,u,{immediate:!0});const p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(Y),{title:n(e)("title"),loading:n(s),content:a.value},{default:$(()=>[a.value?(f(),w("div",fv,[c("div",null,[gv,E(" "+x(a.value.softLiqUsers)+" ("+x((a.value.softLiqRatio*100).toFixed(2))+"%) ",1)]),c("div",null,[bv,E(" "+x(a.value.medianHealth.toFixed(6)),1)]),c("div",null,[yv,E(" "+x((a.value.collatRatio*100).toFixed(2))+"% ",1)]),c("div",null,[$v,E(" "+x(a.value.liqablePositions),1)]),c("div",null,[wv,E(" $"+x(p(a.value.liqableDebt)),1)]),c("div",null,[kv,E(" $"+x(p(a.value.liqableCollatUsd+a.value.liqableStable))+" (C: $"+x(p(a.value.liqableCollatUsd))+", S: $"+x(p(a.value.liqableStable))+") ",1)])])):V("",!0)]),_:1},8,["title","loading","content"]))}});function Ra(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["General Health Metrics"])}}})}typeof Ra=="function"&&Ra(Ss);const Cv=S(Ss,[["__scopeId","data-v-3c4087c8"]]),Sv={class:"actions"},xs=k({__name:"ChartLiquidationSoftLiquidation",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:h}=oe(()=>o.market?t.getHistoricalSoftLiquidations(o.market.address).then(g=>g.losses):Promise.resolve([]),[]);q(async()=>{p.value&&(await Ue(),a=ue(p.value,m(p.value,u.theme)),s=a.addAreaSeries(v(u.theme)),l=a.addAreaSeries(b(u.theme)),r(d.value))}),M(()=>o.market,h,{immediate:!0}),M(()=>u.theme,g=>{p.value&&(a.applyOptions(m(p.value,g)),s.applyOptions(v(g)),l.applyOptions(b(g)))}),M(d,g=>{r(g)});const m=(g,y)=>_e(g,y,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),b=g=>{const y=W(g);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ne.WithSteps,lineColor:y.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=g=>{const y=W(g);return{priceFormat:{type:"percent",precision:2,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:y.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=g=>{if(!a||!s)return;const y=z.chain(g).map(A=>({time:A.timestamp,value:A.proportion})).uniqWith((A,L)=>A.time===L.time).orderBy(A=>A.time,"asc").value(),I=z.chain(g).map(A=>({time:A.timestamp,value:A.collateralPrice})).uniqWith((A,L)=>A.time===L.time).orderBy(A=>A.time,"asc").value();I.length>0&&l.setData(I),y.length>0&&s.setData(y),a.timeScale().fitContent()};return(g,y)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:$(()=>[c("div",Sv,[_(n(Ee),{items:["% of loans in soft liquidation","Collateral price"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:$(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Fa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Soft Liquidations"])}}})}typeof Fa=="function"&&Fa(xs);const xv=S(xs,[["__scopeId","data-v-25aa1166"]]),As=k({__name:"ChartLiquidationMedianLoss",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getHistoricalMedianLoss(o.market.address).then(v=>v.losses):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,h(u.value,l.theme)),s=a.addAreaSeries(m(l.theme)),b(i.value))}),M(()=>o.market,d,{immediate:!0}),M(()=>l.theme,v=>{u.value&&(a.applyOptions(h(u.value,v)),s.applyOptions(m(v)))}),M(i,v=>{b(v)});const h=(v,r)=>_e(v,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=v=>{const r=W(v);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=v=>{if(!a||!s)return;const r=z.chain(v).map(g=>({time:g.timestamp,value:g.lossPct})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(v,r)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ua(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Median Loss % Among Loans with Losses"])}}})}typeof Ua=="function"&&Ua(As);const Av=S(As,[["__scopeId","data-v-8b980e5f"]]),Iv={class:"actions"},Is=k({__name:"ChartLiquidationAverageHealth",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l,u;const p=N(),i=P(null),{loading:d,data:h,loadData:m}=oe(()=>o.market?t.getHistoricalAverageHealth(o.market.address).then(I=>I.health):Promise.resolve([]),[]);q(async()=>{i.value&&(await Ue(),a=ue(i.value,b(i.value,p.theme)),s=a.addAreaSeries(v(p.theme)),l=a.addAreaSeries(r(p.theme)),u=a.addAreaSeries(g(p.theme)),y(h.value))}),M(()=>o.market,m,{immediate:!0}),M(()=>p.theme,I=>{i.value&&(a.applyOptions(b(i.value,I)),l.applyOptions(v(I)),s.applyOptions(v(I)),u.applyOptions(v(I)))}),M(h,I=>{y(I)});const b=(I,A)=>_e(I,A,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),v=I=>{const A=W(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:A.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=I=>{const A=W(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:A.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},g=I=>{const A=W(I);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:A.green,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},y=I=>{if(!a||!s||!l||!u)return;const A=z.chain(I).map(R=>({time:R.timestamp,value:R.quartiles[2]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value(),L=z.chain(I).map(R=>({time:R.timestamp,value:R.quartiles[1]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value(),T=z.chain(I).map(R=>({time:R.timestamp,value:R.quartiles[3]})).uniqWith((R,Q)=>R.time===Q.time).orderBy(R=>R.time,"asc").value();L.length>0&&l.setData(L),A.length>0&&s.setData(A),T.length>0&&u.setData(T),a.timeScale().fitContent()};return(I,A)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(d)},{actions:$(()=>[c("div",Iv,[_(n(Ee),{items:["1st Quartile","Median","3rd Quartile"],colors:n(X)(n(p).theme)},null,8,["colors"])])]),default:$(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ea(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Historical Health Distribution"])}}})}typeof Ea=="function"&&Ea(Is);const Lv=S(Is,[["__scopeId","data-v-e907d5b6"]]),Pv=k({__name:"ChartLiquidationHealthDeciles",props:{market:{default:null}},setup(o){const e=new re(H()),t=N(),{loading:a,data:s,loadData:l}=oe(()=>o.market?e.getHealthDeciles(o.market.address).then(m=>m.health):Promise.resolve([]),[]),u=C(()=>{const m=W(t.theme),b=X(t.theme);return de({colors:m,colorsArray:b},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:p.value,labels:{formatter:d,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:h}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:v=>{const r=v.series[0][v.dataPointIndex],g=v.series[1][v.dataPointIndex],y=v.series[2][v.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${h(g)}</div>`,`<div><b>Debt</b>: ${h(r)}</div>`,`<div><b>Stablecoin</b>: ${h(y)}</div>`].join("")}}})}),p=C(()=>s.value.map(m=>m.decile)),i=C(()=>[{name:"Debt",data:Object.values(s.value).map(m=>m.debt)},{name:"Collateral",data:Object.values(s.value).map(m=>m.collateralUsdValue)},{name:"Stablecoin",data:Object.values(s.value).map(m=>m.stablecoin)}]);M(()=>o.market,l,{immediate:!0});const d=m=>m,h=m=>`$${J(m,0,"dollar")}${j(m,"dollar")}`;return(m,b)=>(f(),D(n(ve),{class:"chart",title:"Debt & Assets per Health Deciles",loading:n(a),options:u.value,series:i.value},null,8,["loading","options","series"]))}});const Dv=S(Pv,[["__scopeId","data-v-c1448a56"]]),Ls=k({__name:"ChartLiquidationProportionLosers",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getProportionLosers(o.market.address).then(v=>v.losses):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,h(u.value,l.theme)),s=a.addAreaSeries(m(l.theme)),b(i.value))}),M(()=>o.market,d,{immediate:!0}),M(()=>l.theme,v=>{u.value&&(a.applyOptions(h(u.value,v)),s.applyOptions(m(v)))}),M(i,v=>{b(v)});const h=(v,r)=>_e(v,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=v=>{const r=W(v);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=v=>{if(!a||!s)return;const r=z.chain(v).map(g=>({time:g.timestamp,value:g.losers})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(v,r)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Wa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Proportion of Loans with Losses"])}}})}typeof Wa=="function"&&Wa(Ls);const Tv=S(Ls,[["__scopeId","data-v-231fe919"]]),Mv=k({__name:"ChartLiquidationHistoricalValue",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=W(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>[{name:"Self liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfValue}))},{name:"Hard liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardValue}))}]),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,h)=>d+h.selfValue+h.hardValue,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Vv=S(Mv,[["__scopeId","data-v-5dc3f15d"]]),zv=k({__name:"ChartLiquidationHistoricalCount",props:{data:{default:()=>[]}},setup(o){const e=N(),t=C(()=>{const i=W(e.theme),d=X(e.theme);return de({colors:i,colorsArray:d},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(o.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,d)=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,d)=>d%8===0?i:"").value()),s=C(()=>[{name:"Self liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfCount}))},{name:"Hard liquidations",data:Object.values(o.data).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardCount}))}]),l=C(()=>Math.max(...z.chain(o.data).groupBy(i=>i.timestamp).map(i=>i.reduce((d,h)=>d+h.selfCount+h.hardCount,0)).value())*1.1),u=i=>i,p=i=>`${J(i,1,"dollar")}${j(i,"dollar")}`;return(i,d)=>(f(),D(n(yt),{class:"chart",options:t.value,series:s.value},null,8,["options","series"]))}});const Bv=S(zv,[["__scopeId","data-v-6f575e58"]]),Ov={class:"actions"},Rv={class:"chart-types"},Ps=k({__name:"ChartLiquidationHistorical",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=P("count"),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getHistoricalLiquidations(o.market.address).then(i=>i.liquidations):Promise.resolve([]),[]);M(()=>o.market,u,{immediate:!0});const p=i=>{a.value!==i&&(a.value=i)};return(i,d)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(s)},{actions:$(()=>[c("div",Ov,[c("div",Rv,[_(n(Te),{value:"Count","model-value":a.value==="count",onClick:d[0]||(d[0]=h=>p("count"))},null,8,["model-value"]),_(n(Te),{value:"Value","model-value":a.value==="value",onClick:d[1]||(d[1]=h=>p("value"))},null,8,["model-value"])])])]),default:$(()=>[a.value==="count"?(f(),D(Bv,{key:0,data:n(l)},null,8,["data"])):(f(),D(Vv,{key:1,data:n(l)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function qa(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Self & Hard Liquidations"])}}})}typeof qa=="function"&&qa(Ps);const Fv=S(Ps,[["__scopeId","data-v-4bf8efe6"]]),Uv={class:"address"},Ev=["href"],Wv={class:"number"},qv={class:"number"},Ds=k({__name:"TableLiquidationLiquidators",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H()),a=C(()=>z.chain(l.value).map(p=>p).value()),{loading:s,data:l,loadData:u}=oe(()=>o.market?t.getTopLiquidators(o.market.address).then(p=>p.liquidations):Promise.resolve([]),[]);return M(()=>o.market,u,{immediate:!0}),(p,i)=>(f(),D(n(ye),{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",loading:n(s),rows:a.value,columns:["Address","Count","Value"]},{"header-title":$(()=>[c("div",null,x(n(e)("title")),1)]),row:$(d=>[c("div",Uv,[c("a",{href:`https://etherscan.io/address/${d.item.address}`,target:"_blank"},x(n(Se)(d.item.address,8)),9,Ev)]),c("div",Wv,[_(n(O),{value:d.item.count,precision:0,"show-zero":!0},null,8,["value"])]),c("div",qv,[_(n(O),{value:d.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Ha(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Top Liquidators"])}}})}typeof Ha=="function"&&Ha(Ds);const Hv=S(Ds,[["__scopeId","data-v-e1ea04bd"]]),Nv={class:"actions"},Ts=k({__name:"ChartLiquidationLiquidatorRevenue",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s,l;const u=N(),p=P(null),{loading:i,data:d,loadData:h}=oe(()=>o.market?t.getLiquidatorRevenue(o.market.address).then(g=>g.revenue):Promise.resolve([]),[]);q(async()=>{p.value&&(await Ue(),a=ue(p.value,m(p.value,u.theme)),s=a.addAreaSeries(v(u.theme)),l=a.addAreaSeries(b(u.theme)),r(d.value))}),M(()=>o.market,h,{immediate:!0}),M(()=>u.theme,g=>{p.value&&(a.applyOptions(m(p.value,g)),s.applyOptions(v(g)),l.applyOptions(b(g)))}),M(d,g=>{r(g)});const m=(g,y)=>_e(g,y,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),b=g=>{const y=W(g);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ne.WithSteps,lineColor:y.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},v=g=>{const y=W(g);return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:y.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=g=>{if(!a||!s)return;const y=z.chain(g).map(A=>({time:A.timestamp,value:A.discount*100})).uniqWith((A,L)=>A.time===L.time).orderBy(A=>A.time,"asc").value(),I=z.chain(g).map(A=>({time:A.timestamp,value:A.amount})).uniqWith((A,L)=>A.time===L.time).orderBy(A=>A.time,"asc").value();I.length>0&&l.setData(I),y.length>0&&s.setData(y),a.timeScale().fitContent()};return(g,y)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(i)},{actions:$(()=>[c("div",Nv,[_(n(Ee),{items:["Liquidator Revenue","Discount"],colors:n(X)(n(u).theme)},null,8,["colors"])])]),default:$(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Na(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Liquidator Revenue"])}}})}typeof Na=="function"&&Na(Ts);const Gv=S(Ts,[["__scopeId","data-v-d27e32b1"]]),Ms=k({__name:"ChartLiquidationCollateralRatio",props:{market:{default:null}},setup(o){const{t:e}=B(),t=new re(H());let a,s;const l=N(),u=P(null),{loading:p,data:i,loadData:d}=oe(()=>o.market?t.getHistoricalCollateralRatio(o.market.address).then(v=>v.ratios):Promise.resolve([]),[]);q(async()=>{u.value&&(await Ue(),a=ue(u.value,h(u.value,l.theme)),s=a.addAreaSeries(m(l.theme)),b(i.value))}),M(()=>o.market,d,{immediate:!0}),M(()=>l.theme,v=>{u.value&&(a.applyOptions(h(u.value,v)),s.applyOptions(m(v)))}),M(i,v=>{b(v)});const h=(v,r)=>_e(v,r,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),m=v=>{const r=W(v);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ne.WithSteps,lineColor:r.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},b=v=>{if(!a||!s)return;const r=z.chain(v).map(g=>({time:g.timestamp,value:g.ratio*100})).uniqWith((g,y)=>g.time===y.time).orderBy(g=>g.time,"asc").value();r.length>0&&s.setData(r),a.timeScale().fitContent()};return(v,r)=>(f(),D(n(Y),{class:"chart-container",title:n(e)("title"),loading:n(p)},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ga(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Collateral Ratio"])}}})}typeof Ga=="function"&&Ga(Ms);const Qv=S(Ms,[["__scopeId","data-v-aefe7d10"]]),Yv={class:"liquidations"},jv=k({__name:"Liquidations",props:{market:{}},setup(o){return(e,t)=>(f(),w("div",Yv,[_(Cv,{market:e.market},null,8,["market"]),_(xv,{market:e.market},null,8,["market"]),_(Av,{market:e.market},null,8,["market"]),_(Tv,{market:e.market},null,8,["market"]),_(Lv,{market:e.market},null,8,["market"]),_(Dv,{market:e.market},null,8,["market"]),_(Qv,{market:e.market},null,8,["market"]),_(Fv,{market:e.market},null,8,["market"]),_(Hv,{market:e.market},null,8,["market"]),_(Gv,{market:e.market},null,8,["market"])]))}});const Jv=S(jv,[["__scopeId","data-v-a5bcb767"]]);class Ye{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return Ye.instance||(Ye.instance=new Ye),Ye.instance}connect(e){this.ws||(this.ws=new WebSocket(e),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(e),1e3)},this.ws.onmessage=t=>{try{const s=JSON.parse(t.data).channel.slice(0,-6);if(this.listeners[s])for(const l of this.listeners[s])l(t.data);else this.messageQueue.push(t.data)}catch(a){console.error("WSManager error parsing message: ",a)}})}registerListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const a=this.messageQueue.filter(s=>JSON.parse(s).channel===e);for(const s of a)t(s);this.messageQueue=this.messageQueue.filter(s=>!a.includes(s))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var Ft=(o=>(o.subscribe="subscribe",o.unsubscribe="unsubscribe",o.snapshots="snapshots",o))(Ft||{}),Ut=(o=>(o.update="update",o.snapshot="snapshot",o))(Ut||{});class Qa{constructor(e,t,a,s,l,u){this.url=e,this.llamma=t,this.chain=a,this.interval=s,this.start=l,this.end=u,this.currentOHLCData=[],this.wsManager=Ye.getInstance(),this.wsManager.connect(e),this.dataSubject=new Tn,this.data$=this.dataSubject.pipe(Mn((p,i)=>this.reconcileData(p,i),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",p=>{try{const i=JSON.parse(p);this.dataSubject.next(i)}catch(i){console.error("Error parsing WebSocket message:",i,"Raw data:",p)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const e={action:Ft.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(e)}subscribeToUpdates(){const e={action:Ft.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(e)}reconcileData(e,t){return t.type===Ut.snapshot?t.payload:t.type===Ut.update?(t.payload.forEach(a=>{const s=e.findIndex(l=>l.time===a.time);s!==-1?e[s]=a:e.push(a)}),[...e]):e}send(e){this.wsManager.send(JSON.stringify(e))}}const Kv={class:"buttons"},Ya="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",ja="ethereum",Ja=86400,Vs=k({__name:"ChartLlammaCandles",props:{market:{}},setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=N(),i=P([]);let d;const h=P(null),m=P(!1),b=C(()=>o.market?`Daily candles ${m.value?`crvUSD/${o.market.name}`:`${o.market.name}/crvUSD`}`:e("title"));q(async()=>{if(!h.value||!o.market)return;await Ue();const g=Tt.getAddress(o.market.llamma),y=Date.now(),I=15*24*60*60*1e3,A=Math.floor(y/1e3),L=Math.floor((y-I)/1e3);t=new Qa(Ya,g,ja,Ja,L,A);const T=W(p.theme);d=t.data$.subscribe(R=>{i.value=R,v(R,m.value)}),a=ue(h.value,{width:h.value.clientWidth,height:h.value.clientHeight,layout:{background:{type:Nt.Solid,color:T.backgroundColor},textColor:T.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:T.level2,style:Gt.Dashed}},crosshair:{mode:Vo.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:R=>r(R)}}),s=a.addCandlestickSeries({upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),Vn(()=>{d.unsubscribe()}),M(i,g=>{v(g,m.value)}),M(m,g=>{v(i.value,g)}),M(()=>o.market,(g,y)=>{if(g&&g!==y){d.unsubscribe();const I=Tt.getAddress(g.llamma),A=Date.now(),L=15*24*60*60*1e3,T=Math.floor(A/1e3),R=Math.floor((A-L)/1e3);t=new Qa(Ya,I,ja,Ja,R,T),d=t.data$.subscribe(Q=>{i.value=Q,v(Q,m.value)})}});const v=(g,y)=>{if(!a||!s||!g)return;const I=y?-1:1,A=z.chain(g).map(L=>({time:L.time,open:Math.pow(L.open,I),high:Math.pow(L.high,I),low:Math.pow(L.low,I),close:Math.pow(L.close,I)})).uniqWith((L,T)=>L.time===T.time).orderBy(L=>L.time,"asc").value();A.length>0&&(s.setData(A),a.timeScale().fitContent(),u=Math.min(...A.map(L=>L.low)),l=Math.max(...A.map(L=>L.high)))},r=g=>{const y=l-u,I=y>1?y-Math.floor(y):y,A=-Math.floor(Math.log10(I)+1)+2;return`${J(g,A,"dollar")}${j(g,"dollar")}`};return(g,y)=>(f(),D(n(Y),{class:"candles",title:b.value},{default:$(()=>[c("div",{ref_key:"chartRef",ref:h,class:"chart"},null,512),c("div",Kv,[_(n(Te),{modelValue:m.value,"onUpdate:modelValue":y[0]||(y[0]=I=>m.value=I)},{default:$(()=>[E(x(n(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function Ka(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof Ka=="function"&&Ka(Vs);const Zv=S(Vs,[["__scopeId","data-v-b6897e91"]]),Xv={class:"llamma"},eh=k({__name:"Llamma",props:{market:{}},setup(o){return(e,t)=>(f(),w("div",Xv,[_(Zv,{market:e.market},null,8,["market"])]))}});const th=S(eh,[["__scopeId","data-v-6c55aae5"]]),ah={class:"market-overview"},oh=k({__name:"Market",setup(o){const e=new re(H()),t=Fe(),a=Ke(),s=oa(),l=hs(),u=P(0),p=C(()=>t.params.marketAddr),i=C(()=>l.market);return q(async()=>{var h,m;const d=t.params.tab;if(d&&typeof d=="string"&&(d==="liquidations"?u.value=1:d==="llamma"&&(u.value=2)),((h=l.market)==null?void 0:h.address)!==p.value){const{markets:b}=await e.getMarkets(),v=b.find(r=>r.address===p.value);v&&(l.market=v)}s.show=!0,s.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${((m=i.value)==null?void 0:m.name)??"?"}`}]}),M(u,async d=>{d===0?await a.push({name:"crvusdmarket",params:{tab:"",marketAddr:p.value}}):d===1?await a.push({name:"crvusdmarket",params:{tab:"liquidations",marketAddr:p.value}}):d===2&&await a.push({name:"crvusdmarket",params:{tab:"llamma",marketAddr:p.value}})}),(d,h)=>(f(),w("div",ah,[_(n(Ze),{active:u.value,onTab:h[0]||(h[0]=m=>u.value=m.index)},{default:$(()=>[_(n(le),{header:"Overview"},{default:$(()=>[(f(),D(lt,null,[u.value===0?(f(),D(hv,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1}),_(n(le),{header:"Liquidations"},{default:$(()=>[(f(),D(lt,null,[u.value===1&&i.value?(f(),D(Jv,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1}),_(n(le),{header:"Llamma"},{default:$(()=>[(f(),D(lt,null,[u.value===2&&i.value?(f(),D(th,{key:0,market:i.value},null,8,["market"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const sh=S(oh,[["__scopeId","data-v-f964467a"]]);class nh{constructor(e){this.get$=new he(t=>{let a=1/0,s=!1;const l=()=>{t.next(Date.now()-a),s=!1};e.on("pong",l);const u=zn({}).pipe(Bn(()=>{if(s){t.next(1/0);return}s=!0,a=Date.now(),e.emit("ping")}),On(5e3),Rn()).subscribe();return()=>{u.unsubscribe(),e.off("pong",l)}}).pipe(Fn({refCount:!0,bufferSize:1}))}}class lh{constructor(e){this.socket=e}get(e){const t=new Promise(a=>{this.socket.once("search_res",s=>{const l=Object.entries(s).map(([u,p])=>({id:u.toLocaleLowerCase(),name:p}));a(l)})});return this.socket.emit("search",e),t}}class rh{constructor(e){this.get$=new he(t=>{const a=s=>{const l=ih(s);t.next(l)};return e.on("token names inside pool",a),()=>{e.off("token names inside pool",a)}}).pipe(be())}}function ih(o){return o.map(e=>({name:e}))}class zs{constructor(e){this.socket=e,this.update$=new he(t=>{const a=s=>{t.next(s)};return e.on("price_chart_combination",a),()=>{e.off("price_chart_combination",a)}}).pipe(be())}update(e,t){this.socket.emit("new combination",[e,t[0],t[1]])}}class ch{constructor(e){this.socket=e}update(e){this.socket.emit(e)}}const we=Ae({id:"monitorStore",state:()=>({socket:null,socketPool:null,pool:null,pools:[],poolsLoadingError:!1,prices:[],balances:[],volumes:[],transactions:[],tvl:[],bonding:{curve:[],balanceCoin0:0,balanceCoin1:0},coins:[],pair:null,timeRange:"month"})});class uh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>Za(u));t.next(l)};return e.on("price_chart",a),()=>{e.off("price_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=Za(s);t.next(l)};return e.on("Update Price-Chart",a),()=>{e.off("Update Price-Chart",a)}}).pipe(be())}}function Za(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,value:a}}class dh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>Xa(u));t.next(l)};return e.on("balances_chart",a),()=>{e.off("balances_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=Xa(s);t.next(l)};return e.on("Update Balance-Chart",a),()=>{e.off("Update Balance-Chart",a)}}).pipe(be())}}function Xa(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,balances:a}}class ph{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>eo(u));t.next(l)};return e.on("volume_chart",a),()=>{e.off("volume_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=eo(s);t.next(l)};return e.on("Update Volume-Chart",a),()=>{e.off("Update Volume-Chart",a)}}).pipe(be())}}function eo(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,volume:a}}class _h{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>to(u)).flat(1);t.next(l)};return e.on("table_all",a),()=>{e.off("table_all",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=to(s);for(const u of l)t.next(u)};return e.on("Update Table-ALL",a),()=>{e.off("Update Table-ALL",a)}}).pipe(be())}}function to(o){let e;if(o.type==="swap")e="swap";else if(o.type==="deposit")e="deposit";else if(o.type==="remove")e="withdraw";else return[];const t=o.txHash.toLocaleLowerCase(),a=o.blockNumber,s=o.trader.toLocaleLowerCase(),l=o.unixtime;let u;if(e==="swap"){const p=o;return u=[{type:e,txHash:t,blockNumber:a,trader:s,timestamp:l,fee:p.tradeDetails.feeUSD,value:p.tradeDetails.valueUSD,amountIn:p.tradeDetails.amountIn,amountOut:p.tradeDetails.amountOut,tokenIn:p.tradeDetails.nameIn,tokenOut:p.tradeDetails.nameOut}],u}else e==="deposit"?u=o.tradeDetails.map(i=>({type:"deposit",txHash:t,blockNumber:a,trader:s,timestamp:l,value:i.valueUSD,amountIn:i.amountIn,tokenIn:i.nameIn})):u=o.tradeDetails.map(i=>({type:"withdraw",txHash:t,blockNumber:a,trader:s,timestamp:l,value:i.valueUSD,amountOut:i.amountOut,tokenOut:i.nameOut}));return u}class mh{constructor(e){this.init$=new he(t=>{const a=s=>{const l=s.map(u=>ao(u));t.next(l)};return e.on("tvl_chart",a),()=>{e.off("tvl_chart",a)}}).pipe(be()),this.update$=new he(t=>{const a=s=>{const l=ao(s);t.next(l)};return e.on("Update TVL-Chart",a),()=>{e.off("Update TVL-Chart",a)}}).pipe(be())}}function ao(o){const e=Object.keys(o)[0],t=parseInt(e,10),a=o[e];return{timestamp:t,tvl:a}}class vh{constructor(e){this.get$=new he(t=>{const a=s=>{const l=hh(s);t.next(l)};return e.on("bonding_curve",a),()=>{e.off("bonding_curve",a)}}).pipe(be())}}function hh(o){return{curve:z.zipWith(o.x,o.y,(t,a)=>({x:t,y:a})),balanceCoin0:o.balance0,balanceCoin1:o.balance1}}function fh(o){return bt(`${o}/`,{autoConnect:!1,secure:!0})}function gh(o,e){return bt(`${o}/${e}`,{autoConnect:!1,secure:!0})}function bh(o){return bt(`${o}/main`,{autoConnect:!1,secure:!0})}function yh(o,e,t){const a=gh(e,t),s=new ph(a),l=new uh(a),u=new _h(a),p=new dh(a),i=new mh(a),d=new vh(a),h=new rh(a),m=new zs(a);return xh(o,u),Ch(o,l),wh(o,p),kh(o,i),Sh(o,s),Ah(o,d),Ih(o,h),Lh(o,m),a.connect(),a}async function $h(o,e,t){const a=await e.get(t);a?o.pools=a:o.poolsLoadingError=!0}let it=null;function wh(o,e){it&&it.unsubscribe();try{it=e.init$.subscribe({next:t=>{o.balances=t},error:t=>console.error(t)}),it.add(e.update$.subscribe({next:t=>{o.balances.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ct=null;function kh(o,e){ct&&ct.unsubscribe();try{ct=e.init$.subscribe({next:t=>{o.tvl=t},error:t=>console.error(t)}),ct.add(e.update$.subscribe({next:t=>{o.tvl.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let ut=null;function Ch(o,e){ut&&ut.unsubscribe();try{ut=e.init$.subscribe({next:t=>{o.prices=t},error:t=>console.error(t)}),ut.add(e.update$.subscribe({next:t=>{o.prices.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let dt=null;function Sh(o,e){dt&&dt.unsubscribe();try{dt=e.init$.subscribe({next:t=>{o.volumes=t},error:t=>console.error(t)}),dt.add(e.update$.subscribe({next:t=>{o.volumes.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let pt=null;function xh(o,e){pt&&pt.unsubscribe();try{pt=e.init$.subscribe({next:t=>{o.transactions=t},error:t=>console.error(t)}),pt.add(e.update$.subscribe({next:t=>{o.transactions.push(t)},error:t=>console.error(t)}))}catch{o.poolsLoadingError=!0}}let It=null;function Ah(o,e){It&&It.unsubscribe();try{It=e.get$.subscribe({next:t=>{o.bonding=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let Lt=null;function Ih(o,e){Lt&&Lt.unsubscribe();try{Lt=e.get$.subscribe({next:t=>{o.coins=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}let Pt=null;function Lh(o,e){Pt&&Pt.unsubscribe();try{Pt=e.update$.subscribe({next:t=>{o.pair=t},error:t=>console.error(t)})}catch{o.poolsLoadingError=!0}}const Ph={key:0,class:"item"},Dh=["src"],Th={class:"label"},Bs=k({__name:"SearchPool",props:{modelValue:{},poolService:{}},emits:["update:modelValue","select"],setup(o,{emit:e}){const{t}=B(),a=we(),s=P(!1),l=P(t("search-placeholder")),u=C(()=>a.pools),p=m=>{const b=Ce(m.name);return b.startsWith("Curve.fi ")?b.slice(9):b},i=z.debounce($h,200,{maxWait:1e3}),d=m=>{i(a,o.poolService,m),s.value=!!m},h=m=>{const b=m;s.value=!1,e("select",b)};return M(()=>a.poolsLoadingError,m=>{m?l.value=t("search-error"):l.value=t("search-placeholder")}),(m,b)=>(f(),D(n(pe),{class:"select-pool","model-value":m.modelValue,placeholder:l.value,search:!0,"auto-complete":s.value,options:u.value,"onUpdate:modelValue":b[0]||(b[0]=v=>e("update:modelValue",v)),onInput:d,onSelect:h},{item:$(v=>[v.item?(f(),w("div",Ph,[c("img",{src:n(jt)(v.item.name,!1)},null,8,Dh),c("div",Th,x(p(v.item)),1)])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function oo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])}}})}typeof oo=="function"&&oo(Bs);const Mh=S(Bs,[["__scopeId","data-v-d87077ae"]]),Vh={class:"status"},zh={class:"ping"},Bh=k({__name:"Status",setup(o){const e=we(),t=P(1/0),a=P("bad");return M(()=>e.socket,s=>{if(!s)return;new nh(s).get$.subscribe(u=>{t.value=u,a.value=u<=50?"good":u<=500?"meh":"bad"})},{immediate:!0}),(s,l)=>(f(),w("div",Vh,[_(n(Me),{class:"tooltip"},{item:$(()=>[c("div",{class:F(["indicator",a.value])},null,2)]),default:$(()=>[c("div",zh,"Ping: "+x(t.value===1/0?"?":t.value)+"ms",1)]),_:1})]))}});const Oh=S(Bh,[["__scopeId","data-v-30181aee"]]),Rh=o=>(te("data-v-193d2201"),o=o(),ae(),o),Fh={class:"header"},Uh={class:"header-content"},Eh=Rh(()=>c("div",{class:"title"},"Live monitor",-1)),Wh={class:"controls"},qh=k({__name:"Header",props:{poolService:{}},setup(o){const e=we(),t=P(""),a=s=>{const l=s;t.value=Ce(l.name),e.pool=l};return(s,l)=>(f(),w("div",Fh,[_(n(Y),null,{default:$(()=>[c("div",Uh,[Eh,c("div",Wh,[_(Mh,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u),class:"search","pool-service":s.poolService,onSelect:a},null,8,["modelValue","pool-service"]),_(Oh)])])]),_:1})]))}});const Hh=S(qh,[["__scopeId","data-v-193d2201"]]),Nh={class:"pair"},Gh={class:"item"},Qh=["src"],Yh={class:"label"},jh={class:"item"},Jh=["src"],Kh={class:"label"},Zh=k({__name:"SelectorPair",setup(o){const e=we(),t=P([!1,!1]),a=P([null,null]),s=C(()=>e.coins.map(h=>({label:h.name}))),l=C(()=>e.pair?[{label:e.pair[0]},{label:e.pair[1]}]:null),u=h=>h!=null&&h.logo?`${h.logo}`:"",p=h=>h?`${h.label}`:"?",i=h=>{t.value[h]=!t.value[h]},d=(h,m,b)=>{var y,I;const v=h===0?1:0,r=a.value[h],g=m;(r==null?void 0:r.label)!==g.label&&(a.value[h]=g,((y=a.value[h])==null?void 0:y.label)===((I=a.value[v])==null?void 0:I.label)&&(a.value[v]=r),b&&e.socketPool&&a.value[0]&&a.value[1]&&new zs(e.socketPool).update(e.timeRange,[a.value[0].label,a.value[1].label]))};return M(l,()=>{d(0,l.value?l.value[0]:null,!1),d(1,l.value?l.value[1]:null,!1)}),(h,m)=>(f(),w("div",Nh,[_(n(Re),{class:"select",options:s.value,selected:a.value[0],open:t.value[0],onOpen:m[0]||(m[0]=b=>i(0)),onClose:m[1]||(m[1]=b=>t.value[0]=!1),onInput:m[2]||(m[2]=b=>d(0,b,!0))},{item:$(b=>{var v;return[c("div",Gh,[(v=b.item)!=null&&v.logo?(f(),w("img",{key:0,src:u(b.item)},null,8,Qh)):V("",!0),c("div",Yh,x(p(b.item)),1)])]}),_:1},8,["options","selected","open"]),_(n(Re),{class:"select",options:s.value,selected:a.value[1],open:t.value[1],onOpen:m[3]||(m[3]=b=>i(1)),onClose:m[4]||(m[4]=b=>t.value[1]=!1),onInput:m[5]||(m[5]=b=>d(1,b,!0))},{item:$(b=>{var v;return[c("div",jh,[(v=b.item)!=null&&v.logo?(f(),w("img",{key:0,src:u(b.item)},null,8,Jh)):V("",!0),c("div",Kh,x(p(b.item)),1)])]}),_:1},8,["options","selected","open"])]))}});const Xh=S(Zh,[["__scopeId","data-v-50c3fa55"]]),ef=["day","week","month"],tf={class:"ranges"},Os=k({__name:"SelectorRange",setup(o){const{t:e}=B(),t=we(),a=s=>{t.timeRange!==s&&(t.timeRange=s,t.pair&&new ch(t.socketPool).update(s))};return(s,l)=>(f(),w("div",tf,[(f(!0),w(se,null,ce(n(ef),u=>(f(),D(n(Te),{key:u,"model-value":n(t).timeRange===u,value:n(e)(u),onClick:p=>a(u)},null,8,["model-value","value","onClick"]))),128))]))}});function so(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{day:t=>{const{normalize:a}=t;return a(["Day"])},week:t=>{const{normalize:a}=t;return a(["Week"])},month:t=>{const{normalize:a}=t;return a(["Month"])}}})}typeof so=="function"&&so(Os);const af=S(Os,[["__scopeId","data-v-60686ec1"]]),Rs=o=>(te("data-v-10ded877"),o=o(),ae(),o),of={class:"controls"},sf=Rs(()=>c("div",{class:"gutter"},null,-1)),nf={class:"rows"},lf=Rs(()=>c("div",{class:"title"},"Charts",-1)),rf={class:"items"},cf=k({__name:"Controls",setup(o){return(e,t)=>(f(),w("div",of,[sf,c("div",nf,[lf,c("div",rf,[_(Xh),_(af)])])]))}});const uf=S(cf,[["__scopeId","data-v-10ded877"]]);function df(o){return o.type==="swap"}function pf(o){return o.type==="deposit"}function _f(o){return o.type==="withdraw"}function na(o,e){const a=Math.round(o.value/1e3)-e;return a<60?`${Math.round(a)} seconds ago`:a<60*60?`${Math.round(a/60)} minutes ago`:a<60*60*24?`${Math.round(a/(60*60))} hours ago`:`${Math.round(a/(60*60*24))} days ago`}const mf={class:"title"},vf={key:0,class:"fas fa-arrow-up"},hf={key:1,class:"fas fa-arrow-down"},ff={key:2,class:"fas fa-exchange-alt"},gf={key:0,class:"number"},bf=["href"],yf=["href"],$f=["href"],wf=["innerHTML"],kf={key:0},Cf={key:1,class:"number"},_t=10,Fs=k({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=we(),a=P(""),s=P(["swap","deposit","withdraw"]),l=P(1),u=P(Date.now()),p=C(()=>o.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),i=C(()=>z.chain(o.txs?o.txs:t.transactions).filter(r=>s.value.includes(r.type)).filter(r=>{const g=a.value.toLocaleLowerCase().split(" "),y=I=>g.some(A=>I.toLocaleLowerCase().includes(A));return y(r.blockNumber.toString())||y(r.trader)||y(r.txHash)}).reverse().value()),d=C(()=>z.chain(i.value).drop((l.value-1)*_t).take(_t).value());q(()=>{setInterval(()=>{u.value=Date.now()})});const h=r=>na(u,r),m=r=>{if(df(r)){const g=r.amountIn.toLocaleString(),y=r.amountOut.toLocaleString(),I=`<span>${g} ${r.tokenIn}</span>`,A="<i class='fas fa-arrow-right'></i>",L=`<span style='justify-self: end;'>${y} ${r.tokenOut}</span>`;return`${I}${A}${L}`}else{if(pf(r))return`${r.amountIn.toLocaleString()} ${r.tokenIn}`;if(_f(r))return`${r.amountOut.toLocaleString()} ${r.tokenOut}`}return"???"},b=r=>{l.value=r},v=r=>{r===0?s.value=["swap","deposit","withdraw"]:r===1?s.value=["swap"]:r===2?s.value=["deposit"]:r===3?s.value=["withdraw"]:s.value=[]};return M(d,r=>{r.length===0&&(l.value=Math.max(1,Math.ceil(i.value.length/_t)))}),(r,g)=>(f(),D(n(ye),{class:F(["datatable-trades",{compact:r.compact,time:r.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:d.value,columns:p.value},Qt({row:$(y=>[c("div",{class:F(["type",{deposit:y.item.type==="deposit",withdraw:y.item.type==="withdraw",swap:y.item.type==="swap"}])},[y.item.type==="deposit"?(f(),w("i",vf)):y.item.type==="withdraw"?(f(),w("i",hf)):(f(),w("i",ff)),E(" "+x(n(e)(y.item.type)),1)],2),r.time?(f(),w("div",gf,[c("a",{class:"vote-link",href:`https://etherscan.io/block/${y.item.blockNumber}`,target:"_blank"},x(y.item.blockNumber),9,bf)])):V("",!0),c("div",{onClick:g[2]||(g[2]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${y.item.txHash}`,target:"_blank"},x(n(Se)(y.item.txHash)),9,yf)]),c("div",{onClick:g[3]||(g[3]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/address/${y.item.trader}`,target:"_blank"},x(n(Se)(y.item.trader)),9,$f)]),c("div",{class:F(["assets",{swap:y.item.type==="swap"}]),innerHTML:m(y.item)},null,10,wf),c("div",{class:F({number:r.time})},[y.item.type==="swap"?(f(),w("span",kf," $"+x(n(z.round)(y.item.fee).toLocaleString()),1)):V("",!0)],2),r.time?(f(),w("div",Cf,x(h(y.item.timestamp)),1)):V("",!0)]),_:2},[r.header?{name:"header-title",fn:$(()=>[c("div",mf,x(n(e)("title")),1),_(n(Ze),{class:"types",onTab:g[0]||(g[0]=y=>v(y.index))},{default:$(()=>[_(n(le),{header:"All"}),_(n(le),{header:"Swaps"}),_(n(le),{header:"Deposits"}),_(n(le),{header:"Withdrawals"})]),_:1}),_(n(pe),{modelValue:a.value,"onUpdate:modelValue":g[1]||(g[1]=y=>a.value=y),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,r.header?{name:"header-actions",fn:$(()=>[_(n(Je),{class:"pagination","items-count":i.value.length,"items-per-page":_t,page:l.value,onPage:b},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns"]))}});function no(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},withdraw:t=>{const{normalize:a}=t;return a(["Withdraw"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof no=="function"&&no(Fs);const Sf=S(Fs,[["__scopeId","data-v-1f133632"]]),Us=k({__name:"TVL",setup(o){const{t:e}=B();let t,a;const s=we(),l=N(),u=P(null),p=C(()=>s.tvl);q(()=>{u.value&&(t=ue(u.value,i(u.value,l.theme)),a=t.addAreaSeries(d(l.theme)),h(p.value))}),M(p,b=>{h(b)}),M(()=>l.theme,b=>{u.value&&(t.applyOptions(i(u.value,b)),a.applyOptions(d(b)))});const i=(b,v)=>_e(b,v,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:r=>m(r)}}),d=b=>{const v=W(b);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:v.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=b=>{if(!t||!a)return;const v=z.chain(b).map(r=>({time:r.timestamp,value:r.tvl})).uniqWith((r,g)=>r.time===g.time).orderBy(r=>r.time,"asc").value();v.length>0&&a.setData(v),t.timeScale().fitContent()},m=b=>`$${J(b,1,"dollar")}${j(b,"dollar")}`;return(b,v)=>(f(),D(n(Y),{class:"tvl",title:n(e)("title")},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof lo=="function"&&lo(Us);const xf=S(Us,[["__scopeId","data-v-10835709"]]),Es=k({__name:"Bonding",setup(o){const{t:e}=B();let t,a;const s=we(),l=N(),u=P(null),p=C(()=>s.bonding);q(()=>{u.value&&(t=ue(u.value,i(u.value,l.theme)),a=t.addLineSeries(d(l.theme)),m(p.value))}),M(p,v=>{m(v)}),M(()=>l.theme,v=>{u.value&&(t.applyOptions(i(u.value,v)),a.applyOptions(d(v)),h(v))});const i=(v,r)=>_e(v,r,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:g=>b(g)},localization:{priceFormatter:g=>b(g),timeFormatter:g=>b(g)}}),d=v=>{const r=W(v);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:r.blue,lastValueVisible:!1,priceLineVisible:!1}},h=v=>{const r=W(v),g=[{time:p.value.balanceCoin1,position:"inBar",color:r.yellow,shape:"circle"}];a.setMarkers(g)},m=v=>{if(!t||!a)return;const r=z.chain(v.curve).map(g=>({time:g.x,value:g.y})).value();r.length>0&&(a.setData(r),h(l.theme)),t.timeScale().fitContent()},b=v=>v<0?"":`${J(Math.abs(v),0,"dollar")}${j(v,"dollar")}`;return(v,r)=>(f(),D(n(Y),{class:"bondings",title:n(e)("title")},{default:$(()=>[c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function ro(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Bonding Curve"])}}})}typeof ro=="function"&&ro(Es);const Af=S(Es,[["__scopeId","data-v-7db05945"]]),Ws=k({__name:"Balances",setup(o){const{t:e}=B();let t,a=[];const s=we(),l=N(),u=P(null),p=C(()=>s.balances),i=C(()=>{var r,g;return((g=(r=s.balances[0])==null?void 0:r.balances)==null?void 0:g.length)??0});q(()=>{u.value&&(t=ue(u.value,d(u.value,l.theme)),m(),b(p.value))}),M(p,r=>{m(),b(r)}),M(()=>l.theme,r=>{if(u.value){t.applyOptions(d(u.value,r));for(const[g,y]of a.entries())y.applyOptions(h(g,l.theme))}});const d=(r,g)=>_e(r,g,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>v(y)}}),h=(r,g)=>{const y=X(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,color:y[r],lastValueVisible:!1,priceLineVisible:!1}},m=()=>{if(t){for(const r of a)t.removeSeries(r);a=[];for(let r=0;r<i.value;r++){const g=t.addLineSeries(h(r,l.theme));a.push(g)}}},b=r=>{if(!(!t||a.length<0)){for(let g=0;g<i.value;g++){const y=z.chain(r).map(I=>({time:I.timestamp,value:I.balances[g]})).uniqWith((I,A)=>I.time===A.time).orderBy(I=>I.time,"asc").value();y.length>0&&a[g].setData(y)}t.timeScale().fitContent()}},v=r=>`${J(r,1,"dollar")}${j(r,"dollar")}`;return(r,g)=>(f(),D(n(Y),{class:"balances",title:n(e)("title")},{default:$(()=>[_(n(Ee),{items:n(s).coins.map(y=>y.name),colors:n(X)(n(l).theme)},null,8,["items","colors"]),c("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title"]))}});function io(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof io=="function"&&io(Ws);const If=S(Ws,[["__scopeId","data-v-9efb7ba6"]]),qs=k({__name:"Prices",setup(o){const{t:e}=B();let t,a,s,l=1,u=0;const p=we(),i=N(),d=P(null),h=C(()=>p.prices),m=C(()=>p.volumes);q(()=>{d.value&&(t=ue(d.value,b(d.value,i.theme)),a=t.addAreaSeries(v(i.theme)),s=t.addHistogramSeries(r(i.theme)),g(h.value),y(m.value))}),M(h,A=>{g(A)}),M(m,A=>{y(A)}),M(()=>i.theme,A=>{d.value&&(t.applyOptions(b(d.value,A)),a.applyOptions(v(A)),s.applyOptions(r(A)))});const b=(A,L)=>_e(A,L,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:T=>I(T)}}),v=A=>{const L=W(A);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ne.WithSteps,lineColor:L.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=A=>({color:W(A).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),g=A=>{if(!t||!a)return;const L=z.chain(A).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,R)=>T.time===R.time).orderBy(T=>T.time,"asc").value();if(L.length>0){a.setData(L);const T=L[0].time,R=L[L.length-1].time;t.timeScale().setVisibleRange({from:T,to:R}),u=Math.min(...L.map(Q=>Q.value)),l=Math.max(...L.map(Q=>Q.value))}},y=A=>{if(!t||!s)return;const L=z.chain(A).map(T=>({time:T.timestamp,value:T.volume})).uniqWith((T,R)=>T.time===R.time).orderBy(T=>T.time,"asc").value();L.length>0&&s.setData(L)},I=A=>{const L=l-u,T=L>1?L-Math.floor(L):L,R=-Math.floor(Math.log10(T)+1)+2;return`${J(A,R,"dollar")}${j(A,"dollar")}`};return(A,L)=>(f(),D(n(Y),{class:"prices",title:n(e)("title")},{default:$(()=>[c("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title"]))}});function co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])}}})}typeof co=="function"&&co(qs);const Lf=S(qs,[["__scopeId","data-v-4a0b4d21"]]),Pf={class:"curve-monitor"},Df={key:0,class:"data"},uo="https://ws.llama.airforce:2053",Tf=k({__name:"Monitor",setup(o){const e=fh(uo),t=new lh(e),a=Fe(),s=Ke(),l=we();l.socket=e;const u=C(()=>l.pool!==null);let p="";q(async()=>{const h=a.params.pool;await d(h),e.connect()});const i=async(h,m)=>{var v;p!==h.id&&(l.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(v=l.socketPool)==null||v.close(),l.socketPool=yh(l,uo,l.pool.id),p=l.pool.id,m&&await s.push({name:"curvemonitor",params:{pool:l.pool.id}}))},d=async h=>{h&&typeof h=="string"&&await i({id:h,name:"???"},!1)};return M(()=>l.pool,async h=>{await i(h,!0)}),M(()=>a.params,async h=>{const m=h.pool;await d(m)}),(h,m)=>(f(),w("div",Pf,[_(Hh,{class:"header","pool-service":n(t)},null,8,["pool-service"]),u.value?(f(),w("div",Df,[_(uf,{class:"controls"}),_(Lf,{class:"prices"}),_(Sf,{class:"transactions"}),_(If,{class:"balances"}),_(xf,{class:"tvl"}),_(Af,{class:"bonding"})])):V("",!0)]))}});const Mf=S(Tf,[["__scopeId","data-v-da95628e"]]);class Hs{constructor(e){this.socket=e}search(e){const t=new Promise(a=>{this.socket.once("userSearchResult",s=>{a(s)})});return this.socket.emit("getUserSearchResult",e),t}getSandwichLabelOccurrences(){const e=new Promise(t=>{this.socket.once("sandwichLabelOccurrences",a=>{t(a)})});return this.socket.emit("getSandwichLabelOccurrences"),e}getAbsoluteLabelsRanking(){const e=new Promise(t=>{this.socket.once("absoluteLabelsRanking",a=>{t(a)})});return this.socket.emit("getAbsoluteLabelsRanking"),e}getSandwiches(e=1){const t=new Promise(a=>{this.socket.once("fullSandwichTableContent",({data:s,totalPages:l})=>{a({sandwiches:s,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",e),t}}const kt=Ae({id:"mevStore",state:()=>({socket:null,sandwiches:[],sandwichesPage:{cur:0,total:0},labelRankingShort:[],labelRankingExtended:[]})}),Vf=k({__name:"LabelsWorstRelative",setup(o){const e=kt(),t=N(),a=i=>i.filter(d=>d.numOfAllTx>=12).map(d=>({...d,ratio:Number((d.occurrences/d.numOfAllTx*100).toFixed(2))})).sort((d,h)=>h.ratio-d.ratio).slice(0,10),s=C(()=>a(e.labelRankingExtended).map(i=>i.label)),l=C(()=>a(e.labelRankingExtended).map(i=>i.ratio)),u=C(()=>{const i=W(t.theme),d=X(t.theme);return de({colors:i,colorsArray:d},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:h=>{const m=h.w.globals.labels[h.seriesIndex],b=h.series[h.seriesIndex];return[`<div><b>${m}</b>:</div><div>Ratio: ${p(b)}</div>`].join("")}},labels:s.value})}),p=i=>`${i}%`;return(i,d)=>(f(),D(n(ve),{class:"mevLabels",title:"Worst relative offenders",options:u.value,series:l.value},null,8,["options","series"]))}});const zf=S(Vf,[["__scopeId","data-v-8dc7cde4"]]),Bf=k({__name:"LabelsWorstAbsolute",setup(o){const e=kt(),t=N(),a=i=>i.filter(d=>d.numOfAllTx>=12).map(d=>({...d,occurrences:d.occurrences})).sort((d,h)=>h.occurrences-d.occurrences).slice(0,10),s=C(()=>a(e.labelRankingExtended).map(i=>i.label)),l=C(()=>a(e.labelRankingExtended).map(i=>i.occurrences)),u=C(()=>{const i=W(t.theme),d=X(t.theme);return de({colors:i,colorsArray:d},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:h=>{const m=h.w.globals.labels[h.seriesIndex],b=h.series[h.seriesIndex];return[`<div><b>${m}</b>:</div><div>Occurences: ${p(b)}</div>`].join("")}},labels:s.value})}),p=i=>`${i}`;return(i,d)=>(f(),D(n(ve),{class:"mevLabels",title:"Worst absolute offenders",options:u.value,series:l.value},null,8,["options","series"]))}});const Of=S(Bf,[["__scopeId","data-v-38c6209e"]]),Rf={class:"title"},Ff={key:0,class:"fas fa-arrow-up"},Uf={key:1,class:"fas fa-arrow-down"},Ef={key:2,class:"fas fa-exchange-alt"},Wf={key:0,class:"number"},qf=["href"],Hf=["href"],Nf=["href"],Gf=["innerHTML"],Qf={key:1,class:"number"},mt=10,Ns=k({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(o){const{t:e}=B(),t=P(""),a=P(["swap","deposit","remove"]),s=P(1),l=P(Date.now()),u=C(()=>o.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),p=C(()=>z.chain(o.txs).filter(v=>a.value.includes(v.transaction_type)).filter(v=>{const r=t.value.toLocaleLowerCase().split(" "),g=y=>r.some(I=>y.toLocaleLowerCase().includes(I));return g(v.block_number.toString())||g(v.trader)||g(v.tx_hash)}).value()),i=C(()=>z.chain(p.value).drop((s.value-1)*mt).take(mt).value());q(()=>{setInterval(()=>{l.value=Date.now()})});const d=v=>na(l,v),h=v=>{if(v.transaction_type==="swap"){const r=v.coins_leaving_wallet[0],g=v.coins_entering_wallet[0],y=ze(parseFloat(r.amount)),I=ze(parseFloat(g.amount)),A=`<span>${y} ${r.name}</span>`,L="<i class='fas fa-arrow-right'></i>",T=`<span style='justify-self: end;'>${I} ${g.name}</span>`;return`${A}${L}${T}`}else if(v.transaction_type==="deposit"){const r=v.coins_entering_wallet[0];return`${ze(parseFloat(r.amount))} ${r.name}`}else if(v.transaction_type==="remove"){const r=v.coins_leaving_wallet[0];return`${ze(parseFloat(r.amount))} ${r.name}`}return"???"},m=v=>{s.value=v},b=v=>{v===0?a.value=["swap","deposit","remove"]:v===1?a.value=["swap"]:v===2?a.value=["deposit"]:v===3?a.value=["remove"]:a.value=[]};return M(i,v=>{v.length===0&&(s.value=Math.max(1,Math.ceil(p.value.length/mt)))}),(v,r)=>(f(),D(n(ye),{class:F(["datatable-trades",{compact:v.compact,time:v.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:i.value,columns:u.value,header:v.header},Qt({row:$(g=>[c("div",{class:F(["type",{deposit:g.item.transaction_type==="deposit",remove:g.item.transaction_type==="remove",swap:g.item.transaction_type==="swap"}])},[g.item.transaction_type==="deposit"?(f(),w("i",Ff)):g.item.transaction_type==="remove"?(f(),w("i",Uf)):(f(),w("i",Ef)),E(" "+x(n(e)(g.item.transaction_type)),1)],2),v.time?(f(),w("div",Wf,[c("a",{class:"vote-link",href:`https://etherscan.io/block/${g.item.block_number}`,target:"_blank"},x(g.item.block_number),9,qf)])):V("",!0),c("div",{onClick:r[2]||(r[2]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${g.item.tx_hash}`,target:"_blank"},x(n(Se)(g.item.tx_hash)),9,Hf)]),c("div",{onClick:r[3]||(r[3]=xe(()=>{},["stop"]))},[c("a",{class:"vote-link",href:`https://etherscan.io/address/${g.item.trader}`,target:"_blank"},x(n(Se)(g.item.trader)),9,Nf)]),c("div",{class:F(["assets",{swap:g.item.transaction_type==="swap"}]),innerHTML:h(g.item)},null,10,Gf),v.time?(f(),w("div",Qf,x(d(g.item.block_unixtime)),1)):V("",!0)]),_:2},[v.header?{name:"header-title",fn:$(()=>[c("div",Rf,x(n(e)("title")),1),_(n(Ze),{class:"types",onTab:r[0]||(r[0]=g=>b(g.index))},{default:$(()=>[_(n(le),{header:"All"}),_(n(le),{header:"Swaps"}),_(n(le),{header:"Deposits"}),_(n(le),{header:"Removals"})]),_:1}),_(n(pe),{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=g=>t.value=g),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,v.header?{name:"header-actions",fn:$(()=>[_(n(Je),{class:"pagination","items-count":p.value.length,"items-per-page":mt,page:s.value,onPage:m},null,8,["items-count","page"])]),key:"1"}:void 0]),1032,["class","rows","columns","header"]))}});function po(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},remove:t=>{const{normalize:a}=t;return a(["Remove"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof po=="function"&&po(Ns);const Yf=S(Ns,[["__scopeId","data-v-ec01a97f"]]),jf={class:"title"},Jf=["href"],Kf={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Zf=["href"],Xf={class:"number"},Dt=10,Gs=k({__name:"Sandwiches",setup(o){const{t:e}=B(),t=kt(),a=P(""),s=P([]),l=P(Date.now()),u=C(()=>t.sandwichesPage.cur),p=C(()=>t.sandwichesPage.total*Dt),i=C(()=>z.chain(t.sandwiches).filter(r=>{const g=a.value.toLocaleLowerCase().split(" "),y=I=>g.some(A=>I.toLocaleLowerCase().includes(A));return y(r.poolName.toString())||y(r.poolAddress.toString())||y(r.label.toString())}).orderBy([r=>r.frontrun.block_unixtime,r=>r.frontrun.tx_position],"desc").value());q(()=>{setInterval(()=>{l.value=Date.now()})});const d=r=>na(l,r),h=r=>s.value.includes(r)?(s.value=s.value.filter(g=>g!==r),!1):(s.value.push(r),!0),m=r=>z.orderBy([r.frontrun,...r.center,r.backrun],[g=>g.block_unixtime,g=>g.tx_position]),b=async r=>{if(!t.socket)return;const g=new Hs(t.socket),{sandwiches:y,totalPages:I}=await g.getSandwiches(r);t.sandwiches=y,t.sandwichesPage={cur:r,total:I}},v=r=>{h(r)};return(r,g)=>(f(),D(n(ye),{class:"datatable-sandwiches","columns-header":"auto 1fr auto","columns-data":"sandwiches-columns-data",rows:i.value,columns:["Pool","Action","Affected Contract","Time"],expanded:s.value,onSelected:v},Qt({"header-title":$(()=>[c("div",jf,x(n(e)("title")),1),_(n(pe),{modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=y=>a.value=y),class:"search",search:!0,placeholder:n(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:$(y=>[c("div",null,[c("a",{class:"vote-link",href:`https://etherscan.io/address/${y.item.poolAddress}`,target:"_blank"},x(y.item.poolName),9,Jf)]),c("div",null,[c("div",Kf,[c("a",{class:"vote-link",style:{"font-family":"monospace"},target:"_blank",href:`https://etherscan.io/address/${y.item.center[0].trader}`},x(n(Se)(y.item.center[0].trader)),9,Zf),c("span",null," lost "+x(n(ze)(y.item.user_losses_details.reduce((I,A)=>I+A.amount,0)))+" "+x(y.item.user_losses_details[0].unit),1),c("span",null,x(n(ze)(-y.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+x(n(ze)(y.item.lossInUsd)),1)])]),c("div",null,x(y.item.label),1),c("div",Xf,x(d(y.item.frontrun.block_unixtime)),1)]),"row-details":$(y=>[_(Yf,{class:"transactions",txs:m(y.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:2},[p.value>Dt?{name:"header-actions",fn:$(()=>[_(n(Je),{class:"pagination","items-count":p.value,"items-per-page":Dt,page:u.value,onPage:b},null,8,["items-count","page"])]),key:"0"}:void 0]),1032,["rows","expanded"]))}});function _o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Sandwiches"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof _o=="function"&&_o(Gs);const eg=S(Gs,[["__scopeId","data-v-57814ad9"]]),tg={class:"mev"},ag="wss://api.curvemonitor.com",og=k({__name:"MEV",setup(o){const e=bh(ag),t=new Hs(e),a=kt();return a.socket=e,q(()=>{e.connect(),t.getSandwichLabelOccurrences().then(s=>{a.labelRankingExtended=s}),t.getSandwiches().then(s=>{a.sandwiches=s.sandwiches,a.sandwichesPage={cur:1,total:s.totalPages}})}),(s,l)=>(f(),w("div",tg,[_(zf,{style:{"grid-row":"1","grid-column":"1"}}),_(Of,{style:{"grid-row":"1","grid-column":"2"}}),_(eg,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const sg=S(og,[["__scopeId","data-v-25cc261e"]]);function De(o){return o.executed?"executed":o.end>new Date().getTime()/1e3?"active":js(o)&&Ys(o)&&Qs(o)?"passed":"denied"}function Qs(o){return o.votesFor>o.support*o.quorum*o.totalSupply}function Ys(o){return o.votesFor+o.votesAgainst>o.quorum*o.totalSupply}function js(o){return o.votesFor>o.votesAgainst}const Js=k({__name:"Status",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>{if(De(o.proposal)==="denied")if(Ys(o.proposal))if(js(o.proposal)){if(!Qs(o.proposal))return e("no-support")}else return e("no-win");else return e("no-quorum");return""}),a=C(()=>{switch(De(o.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(s,l)=>(f(),D(n(Pe),{class:"status","tooltip-type":"underline",label:n(e)("status"),"has-value":!0,tooltip:t.value},{default:$(()=>[t.value?(f(),D(n(Me),{key:0},{item:$(()=>[c("span",{class:F(["status-value",n(De)(s.proposal)])},x(a.value),3)]),default:$(()=>[E(" "+x(t.value),1)]),_:1})):(f(),w("span",{key:1,class:F(["status-value",n(De)(s.proposal)])},x(a.value),3))]),_:1},8,["label","tooltip"]))}});function mo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:t=>{const{normalize:a}=t;return a(["Status"])},active:t=>{const{normalize:a}=t;return a(["Active"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])},"no-quorum":t=>{const{normalize:a}=t;return a(["Quorum was not reached"])},"no-support":t=>{const{normalize:a}=t;return a(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":t=>{const{normalize:a}=t;return a(["More 'against' votes than 'for' votes"])}}})}typeof mo=="function"&&mo(Js);const ng=S(Js,[["__scopeId","data-v-00fa2be1"]]),Ks=k({__name:"Type",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>{switch(o.proposal.type){case"gauge":return e("gauge");case"parameter":return e("parameter");case"other":return e("other");default:return"Unk. Type"}});return(a,s)=>(f(),D(n(Pe),{class:"type",label:n(e)("type"),value:t.value,"has-value":!0},null,8,["label","value"]))}});function vo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{type:t=>{const{normalize:a}=t;return a(["Type"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof vo=="function"&&vo(Ks);const lg=["href"],Zs=k({__name:"Proposer",props:{proposal:{}},setup(o){const{t:e}=B();return(t,a)=>(f(),D(n(Pe),{class:"proposer",label:n(e)("proposer"),"has-value":!0},{default:$(()=>[c("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},x(n(Se)(t.proposal.proposer)),9,lg)]),_:1},8,["label"]))}});function ho(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:t=>{const{normalize:a}=t;return a(["Proposer"])}}})}typeof ho=="function"&&ho(Zs);const Et=k({__name:"Date",props:{proposal:{},type:{}},setup(o){const{t:e}=B();let t;const a=P(""),s=C(()=>{switch(o.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),l=C(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString();case"end":{const i=new Date(o.proposal.end*1e3);return i>new Date?a.value:i.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=C(()=>{switch(o.type){case"start":return new Date(o.proposal.start*1e3).toLocaleDateString()+" "+new Date(o.proposal.start*1e3).toTimeString();case"end":return new Date(o.proposal.end*1e3).toLocaleDateString()+" "+new Date(o.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});q(()=>{p()});const p=()=>{const i=new Date(o.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=jn(i)})};return(i,d)=>(f(),D(n(Pe),{class:"date","tooltip-type":"underline",label:s.value,value:l.value,"has-value":!0,tooltip:u.value},null,8,["label","value","tooltip"]))}});function fo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:t=>{const{normalize:a}=t;return a(["Start"])},end:t=>{const{normalize:a}=t;return a(["End"])}}})}typeof fo=="function"&&fo(Et);const rg=o=>(te("data-v-6bb4b64e"),o=o(),ae(),o),ig={class:"id"},cg={class:"metadata"},ug={class:"row"},dg=rg(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),pg=[dg],Xs=k({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(o,{emit:e}){const{t}=B();return(a,s)=>(f(),w("div",{class:"proposal-summary",onClick:s[0]||(s[0]=l=>e("toggleExpand"))},[c("div",{class:F(["title",{"no-title":!a.proposal.metadata}])},[c("div",ig,x(a.proposal.id),1),c("div",cg,x(a.proposal.metadata||n(t)("no-title")),1)],2),c("div",ug,[_(ng,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Ks,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Zs,{class:"item",proposal:a.proposal},null,8,["proposal"]),_(Et,{class:"item",proposal:a.proposal,type:"start"},null,8,["proposal"]),_(Et,{class:"item",proposal:a.proposal,type:"end"},null,8,["proposal"]),c("div",{class:F(["item expander",{expanded:a.expanded}])},pg,2)])]))}});function go(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":t=>{const{normalize:a}=t;return a(["< No Title >"])}}})}typeof go=="function"&&go(Xs);const _g=S(Xs,[["__scopeId","data-v-6bb4b64e"]]),at=o=>(te("data-v-96bba83b"),o=o(),ae(),o),mg={class:"results"},vg={class:"heading"},hg={class:"choice"},fg={class:"label"},gg={class:"amount"},bg={class:"left"},yg=at(()=>c("span",null," veCRV",-1)),$g={class:"right"},wg=at(()=>c("span",null,"(",-1)),kg=at(()=>c("span",null,")",-1)),Cg={class:"choice"},Sg={class:"label"},xg={class:"amount"},Ag={class:"left"},Ig=at(()=>c("span",null," veCRV",-1)),Lg={class:"right"},Pg=at(()=>c("span",null,"(",-1)),Dg=at(()=>c("span",null,")",-1)),bo=4,en=k({__name:"VotingResults",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=C(()=>o.proposal.votesFor/t.value*100),s=C(()=>o.proposal.votesAgainst/t.value*100);return(l,u)=>(f(),w("div",mg,[c("div",vg,x(n(e)("results")),1),c("div",hg,[c("div",fg,x(n(e)("for")),1),c("div",gg,[c("div",bg,[_(n(O),{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),yg]),c("div",$g,[wg,_(n(O),{value:a.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),kg])]),c("div",{class:"bar",style:me({width:`${Math.max(bo,a.value)}%`})},null,4)]),c("div",Cg,[c("div",Sg,x(n(e)("against")),1),c("div",xg,[c("div",Ag,[_(n(O),{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Ig]),c("div",Lg,[Pg,_(n(O),{value:s.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Dg])]),c("div",{class:"bar",style:me({width:`${Math.max(bo,s.value)}%`})},null,4)])]))}});function yo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{results:t=>{const{normalize:a}=t;return a(["Results"])},for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof yo=="function"&&yo(en);const Tg=S(en,[["__scopeId","data-v-96bba83b"]]),Mg=o=>(te("data-v-566e4086"),o=o(),ae(),o),Vg={class:"quorum"},zg={class:"heading"},Bg={class:"amount"},Og={class:"bar"},Rg={class:"percentages"},Fg=Mg(()=>c("div",{class:"zero"},"0%",-1)),Ug={class:"quorum"},tn=k({__name:"VotingQuorum",props:{proposal:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposal.votesFor+o.proposal.votesAgainst),a=C(()=>o.proposal.quorum*o.proposal.totalSupply),s=C(()=>t.value/a.value*100);return(l,u)=>(f(),w("div",Vg,[c("div",zg,x(n(e)("quorum")),1),c("div",Bg,[_(n(O),{value:t.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" / "),_(n(O),{value:a.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" veCRV ")]),c("div",Og,[c("div",{class:"support",style:me({width:`${s.value}%`})},null,4),c("div",{class:"quorum",style:me({width:`${100-s.value}%`})},null,4)]),c("div",Rg,[Fg,c("div",Ug,[_(n(O),{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])]))}});function $o(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:t=>{const{normalize:a}=t;return a(["Quorum"])}}})}typeof $o=="function"&&$o(tn);const Eg=S(tn,[["__scopeId","data-v-566e4086"]]),Wg={class:"buttons"},qg={class:"heading"},Hg={class:"buttons"},an=k({__name:"VotingButtons",setup(o){const{t:e}=B();return(t,a)=>(f(),w("div",Wg,[c("div",qg,x(n(e)("voting")),1),c("div",Hg,[_(n(Z),{value:n(e)("view-discussion"),primary:!1,disabled:!0},null,8,["value"]),_(n(Z),{value:n(e)("vote-vecrv"),primary:!0,disabled:!0},null,8,["value"]),_(n(Z),{value:n(e)("vote-cvx"),primary:!0,disabled:!0},null,8,["value"])])]))}});function wo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{voting:t=>{const{normalize:a}=t;return a(["Voting"])},"view-discussion":t=>{const{normalize:a}=t;return a(["View Discussion"])},"vote-vecrv":t=>{const{normalize:a}=t;return a(["Vote with veCRV"])},"vote-cvx":t=>{const{normalize:a}=t;return a(["Vote with CVX"])}}})}typeof wo=="function"&&wo(an);const Ng=S(an,[["__scopeId","data-v-b88ba085"]]),Gg={class:"voting"},Qg=k({__name:"Voting",props:{proposal:{}},setup(o){return(e,t)=>(f(),w("div",Gg,[To(_(Ng,null,null,512),[[Mo,!1]]),_(Eg,{proposal:e.proposal},null,8,["proposal"]),_(Tg,{proposal:e.proposal},null,8,["proposal"])]))}});const Yg=S(Qg,[["__scopeId","data-v-3e562905"]]),jg={class:"voters"},Jg={class:"for"},Kg={class:"title"},Zg={class:"address"},Xg=["href"],eb={class:"amount"},tb={class:"percentage"},ab={class:"against"},ob={class:"title"},sb={class:"percentage"},nb={class:"amount"},lb={class:"address"},rb=["href"],on=k({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(o){const{t:e}=B(),t=C(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(u=>u.supports).orderBy(u=>u.stake,"desc").value():null),a=C(()=>o.proposalDetails?z.chain(o.proposalDetails.votes).filter(u=>!u.supports).orderBy(u=>u.stake,"desc").value():null),s=u=>u==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":u==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":u==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Se(u,12),l=u=>u/(o.proposal.votesFor+o.proposal.votesAgainst)*100;return(u,p)=>(f(),w("div",jg,[c("div",Jg,[c("div",Kg,x(n(e)("for")),1),(f(!0),w(se,null,ce(t.value,i=>(f(),w("div",{key:i.voter,class:"vote"},[c("div",Zg,[c("a",{href:`https://etherscan.io/address/${i.voter}`,target:"_blank"},x(s(i.voter)),9,Xg)]),c("div",eb,[_(n(O),{value:i.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",tb,[_(n(O),{value:l(i.stake),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),c("div",ab,[c("div",ob,x(n(e)("against")),1),(f(!0),w(se,null,ce(a.value,i=>(f(),w("div",{key:i.voter,class:"vote"},[c("div",sb,[_(n(O),{value:l(i.stake),precision:0,type:"percentage"},null,8,["value"])]),c("div",nb,[_(n(O),{value:i.stake,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",lb,[c("a",{href:`https://etherscan.io/address/${i.voter}`,target:"_blank"},x(s(i.voter)),9,rb)])]))),128))])]))}});function ko(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof ko=="function"&&ko(on);const ib=S(on,[["__scopeId","data-v-7477ea0f"]]),cb="https://api-py.llama.airforce/curve/v1/dao/proposals",ub="https://api-py.llama.airforce/curve/v1/dao/proposals/ownership/",db="https://api-py.llama.airforce/curve/v1/dao/proposals/parameter/",pb=o=>{const e=o.voteId,t=o.voteType==="PARAMETER"?"parameter":"gauge",a=o.metadata,s=o.creator,l=parseInt(o.startDate,10),u=l+604800,p=ot(BigInt(o.minAcceptQuorum),18n),i=ot(BigInt(o.supportRequired),18n),d=parseInt(o.voteCount,10),h=ot(BigInt(o.votesFor),18n),m=ot(BigInt(o.votesAgainst),18n),b=o.executed,v=ot(BigInt(o.totalSupply),18n);return{id:e,type:t,metadata:a,proposer:s,start:l,end:u,quorum:p,support:i,votes:d,votesFor:h,votesAgainst:m,executed:b,totalSupply:v}},_b=o=>{const e=o.script,t=o.votes.map(a=>({voter:a.voter,supports:a.supports,stake:a.stake/Math.pow(10,18)}));return{script:e,votes:t}};class sn extends $e{async getProposals(){return(await this.fetch(cb)).proposals.map(pb)}async getProposalDetails(e){const t=e.type==="gauge"?ub:db,a=await this.fetch(`${t}${e.id}`);return _b(a)}}const mb={class:"technicals"},vb={class:"technical"},hb={class:"heading"},fb={class:"description"},gb={class:"technical"},bb={class:"technical"},yb=["innerHTML"],nn=k({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){const{t:e}=B(),t=new sn(H()),a=P(null),s=P(!0),l=P(o.proposal.votes>0),u=C(()=>a.value?a.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,p=>/[A-F]/g.test(p)&&Tt.isAddress(p)?`<a href='https://etherscan.io/address/${p}'>${p}</a>`:p):null);return M(()=>o.expanded,async p=>{p&&a.value===null&&(a.value=await t.getProposalDetails(o.proposal))},{immediate:!0}),(p,i)=>(f(),w("div",mb,[c("div",vb,[c("div",hb,x(n(e)("description")),1),c("div",fb,x(p.proposal.metadata),1)]),c("div",gb,[c("div",{class:"heading",onClick:i[0]||(i[0]=d=>l.value=!l.value)},[E(x(n(e)("voters"))+" ("+x(p.proposal.votes)+") ",1),c("i",{class:F(["fas fa-chevron-up expander",{expandedVoters:l.value}])},null,2)]),_(n(Oe),{expanded:l.value},{default:$(()=>[a.value?(f(),D(ib,{key:0,class:"voters",proposal:p.proposal,"proposal-details":a.value},null,8,["proposal","proposal-details"])):V("",!0)]),_:1},8,["expanded"])]),c("div",bb,[c("div",{class:"heading",onClick:i[1]||(i[1]=d=>s.value=!s.value)},[E(x(n(e)("calldata"))+" ",1),c("i",{class:F(["fas fa-chevron-up expander",{expandedCallData:s.value}])},null,2)]),_(n(Oe),{expanded:s.value},{default:$(()=>[a.value?(f(),w("div",{key:0,class:"calldata",innerHTML:u.value},null,8,yb)):V("",!0)]),_:1},8,["expanded"])])]))}});function Co(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:t=>{const{normalize:a}=t;return a(["Description"])},calldata:t=>{const{normalize:a}=t;return a(["Calldata"])},voters:t=>{const{normalize:a}=t;return a(["Voters"])}}})}typeof Co=="function"&&Co(nn);const $b=S(nn,[["__scopeId","data-v-59fbdfd4"]]),wb={class:"proposal-details"},kb={class:"proposal-details-container"},Cb=k({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(o){return(e,t)=>(f(),w("div",wb,[c("div",kb,[_($b,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),_(Yg,{proposal:e.proposal},null,8,["proposal"])])]))}});const Sb=S(Cb,[["__scopeId","data-v-71d3377a"]]),xb=k({__name:"Proposal",props:{proposal:{}},setup(o){const e=P(!1);return(t,a)=>(f(),D(n(Y),{class:"proposal",compact:!0},{default:$(()=>[_(_g,{proposal:t.proposal,expanded:e.value,onToggleExpand:a[0]||(a[0]=s=>e.value=!e.value)},null,8,["proposal","expanded"]),_(n(Oe),{class:"proposal-details-collapsible",expanded:e.value},{default:$(()=>[_(Sb,{proposal:t.proposal,expanded:e.value},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1}))}});const Ab=S(xb,[["__scopeId","data-v-df8bfdec"]]),Ib=["gauge","parameter","other"],Lb={class:"item"},Pb={class:"label"},ln=k({__name:"ProposalTypeSelect",emits:["select"],setup(o,{emit:e}){const{t}=B(),a=["all",...Ib],s=P(!1),l=P("all"),u=()=>{s.value=!s.value},p=i=>{l.value=i,e("select",l.value)};return(i,d)=>(f(),D(n(Re),{class:"select",options:a.map(h=>h),selected:l.value,open:s.value,onOpen:u,onClose:d[0]||(d[0]=h=>s.value=!1),onInput:p},{item:$(h=>[c("div",Lb,[c("div",Pb,x(n(t)(h.item)),1)])]),_:1},8,["options","selected","open"]))}});function So(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof So=="function"&&So(ln);const Db=S(ln,[["__scopeId","data-v-9a121ace"]]),Tb={class:"proposals-tab"},Mb={class:"filters"},Vb={key:1},st=10,rn=k({__name:"ProposalsTab",props:{proposals:{}},setup(o){const{t:e}=B(),t=P(1),a=P(""),s=P(e("search-placeholder")),l=P("all"),u=C(()=>{const h=a.value.toLocaleLowerCase(),m=l.value==="all"?()=>!0:b=>b.type===l.value;return z.chain(o.proposals).filter(m).filter(b=>b.metadata.toLocaleLowerCase().includes(h)).value()}),p=C(()=>z.chain(u.value).drop((t.value-1)*st).take(st).value()),i=h=>{l.value=h},d=h=>{t.value=h};return M(p,h=>{h.length===0&&(t.value=Math.max(1,Math.ceil(u.value.length/st)))}),(h,m)=>(f(),w("div",Tb,[c("div",Mb,[_(n(pe),{modelValue:a.value,"onUpdate:modelValue":m[0]||(m[0]=b=>a.value=b),class:"search",placeholder:s.value,search:!0},null,8,["modelValue","placeholder"]),_(Db,{onSelect:i}),u.value.length>0?(f(),D(n(Je),{key:0,class:"pagination","items-count":u.value.length,"items-per-page":st,page:t.value,onPage:d},null,8,["items-count","page"])):V("",!0)]),(f(!0),w(se,null,ce(p.value,b=>(f(),D(Ab,{key:b.id,proposal:b},null,8,["proposal"]))),128)),u.value.length>0?(f(),D(n(Je),{key:0,class:"pagination","items-count":u.value.length,"items-per-page":st,page:t.value,onPage:d},null,8,["items-count","page"])):V("",!0),u.value.length===0?(f(),w("div",Vb,x(n(e)("no-proposals")),1)):V("",!0)]))}});function xo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve proposals"])},"no-proposals":t=>{const{normalize:a}=t;return a(["No proposals could be found."])}}})}typeof xo=="function"&&xo(rn);const nt=S(rn,[["__scopeId","data-v-2f239d56"]]),zb={class:"proposals"},cn=k({__name:"Proposals",setup(o){const{t:e}=B(),t=new sn(H()),a=P(0),{loading:s,data:l,loadData:u}=oe(()=>vt(t.getProposals().then(m=>m.sort((b,v)=>v.start-b.start)),1e3),[]),p=C(()=>l.value.filter(m=>De(m)==="active")),i=C(()=>l.value.filter(m=>De(m)==="passed")),d=C(()=>l.value.filter(m=>De(m)==="denied")),h=C(()=>l.value.filter(m=>De(m)==="executed"));return q(()=>void u()),(m,b)=>(f(),w("div",zb,[n(s)?(f(),D(n(rt),{key:1,class:"spinner"})):(f(),D(n(Ze),{key:0,onTab:b[0]||(b[0]=v=>a.value=v.index)},{default:$(()=>[_(n(le),{header:n(e)("all")},{default:$(()=>[a.value===0?(f(),D(nt,{key:0,proposals:n(l)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("active")},{default:$(()=>[a.value===1?(f(),D(nt,{key:0,proposals:p.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("passed")},{default:$(()=>[a.value===2?(f(),D(nt,{key:0,proposals:i.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("denied")},{default:$(()=>[a.value===3?(f(),D(nt,{key:0,proposals:d.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),_(n(le),{header:n(e)("executed")},{default:$(()=>[a.value===4?(f(),D(nt,{key:0,proposals:h.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"])]),_:1}))]))}});function Ao(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},active:t=>{const{normalize:a}=t;return a(["Active"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])}}})}typeof Ao=="function"&&Ao(cn);const Bb=S(cn,[["__scopeId","data-v-b878a294"]]),Ob={class:"form"},Rb={class:"field"},Fb={class:"label"},Ub={class:"value"},Eb={class:"field"},Wb={class:"label"},qb={class:"value"},un=k({__name:"DeployGauge",emits:["gauge"],setup(o,{emit:e}){const{t}=B(),a=P(!1),s=P(""),l=P(0),u=C(()=>Jt),p=C(()=>zo(s.value.toLocaleLowerCase())&&l.value>0),i=async()=>{const d=Be();if(!d||!s.value||!l.value)return;const h=d.getSigner(),m=Ho.connect(Fo,h);a.value=!0,typeof l.value=="string"&&(l.value=parseFloat(l.value));const b=Jn(l.value,18n);try{const v=await m.deploy_gauge(s.value.toLocaleLowerCase(),b);e("gauge",v)}catch(v){v instanceof Error&&Wt({text:v.message,type:"error"})}finally{a.value=!1}};return(d,h)=>(f(),D(n(Y),{class:"add-new",title:"Gauge Creation"},{default:$(()=>[c("div",Ob,[c("div",Rb,[c("div",Fb,x(n(t)("receiver"))+":",1),c("div",Ub,[_(n(pe),{modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=m=>s.value=m),placeholder:u.value},null,8,["modelValue","placeholder"])])]),c("div",Eb,[c("div",Wb,x(n(t)("amount"))+":",1),c("div",qb,[_(n(Zt),{modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=m=>l.value=m),min:1,max:3303030299},null,8,["modelValue"])])])]),_(n(Z),{class:"action-button request",value:n(t)("submit"),disabled:!p.value||a.value,primary:!0,web3:!0,onClick:i},null,8,["value","disabled"])]),_:1}))}});function Io(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{receiver:t=>{const{normalize:a}=t;return a(["Receiver"])},amount:t=>{const{normalize:a}=t;return a(["CRV Amount (Max)"])},submit:t=>{const{normalize:a}=t;return a(["Create Fundraising Gauge"])}}})}typeof Io=="function"&&Io(un);const Hb=S(un,[["__scopeId","data-v-af82160d"]]),Nb={class:"form"},Gb={class:"field"},Qb={class:"label"},Yb={class:"value"},jb={class:"field"},Jb={class:"label"},Kb={class:"value"},dn=k({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(o,{emit:e}){const{t}=B(),a=P(!1),s=P(""),l=P(t("placeholder")),u=C(()=>Jt),p=C(()=>zo(s.value)&&!!l.value),i=C(()=>p.value&&!a.value);M(()=>o.gauge,m=>{s.value=m.toLocaleLowerCase()});const d=async()=>{const m=Be();if(!m||!s.value)return;const b=m.getSigner();a.value=!0;try{await h(b),e("request")}catch(v){v instanceof Error&&Wt({text:v.message,type:"error"})}finally{a.value=!1}},h=async m=>{const b="0xe478de485ad2fe566d49342cbd03e49ed7db3356",v="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",r=(mn,vn)=>String(mn).padStart(vn,"0"),g=qo.createInterface(),y=Eo.createInterface(),I="10",A=g.encodeFunctionData("add_gauge",[s.value,I,0]);let L="0x00000001";const T=y.encodeFunctionData("execute",[Uo,0,A]).substring(2),R=r((Math.floor(T.length)/2).toString(16),8);L=`${L}${v.substring(2)}${R}${T}`;const Q=new FormData,qe={text:l.value.replace(/(\r\n|\n|\r)/gm,"")};Q.append("file",JSON.stringify(qe));const Ct=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:Q})).json()).Hash;await Wo.connect(b,m).newVote(L,`ipfs:${Ct}`,!1,!1,{gasLimit:1e6})};return(m,b)=>(f(),D(n(Y),{class:"add-new",title:"Gauge Addition Vote"},{default:$(()=>[c("div",Nb,[c("div",Gb,[c("div",Qb,x(n(t)("gauge"))+":",1),c("div",Yb,[_(n(pe),{modelValue:s.value,"onUpdate:modelValue":b[0]||(b[0]=v=>s.value=v),placeholder:u.value},null,8,["modelValue","placeholder"])])]),c("div",jb,[c("div",Jb,x(n(t)("description"))+":",1),c("div",Kb,[_(n(pe),{modelValue:l.value,"onUpdate:modelValue":b[1]||(b[1]=v=>l.value=v)},null,8,["modelValue"])])])]),_(n(Z),{class:"action-button request",value:n(t)("submit"),disabled:!i.value,primary:!0,web3:!0,onClick:d},null,8,["value","disabled"])]),_:1}))}});function Lo(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{gauge:t=>{const{normalize:a}=t;return a(["Gauge Address"])},description:t=>{const{normalize:a}=t;return a(["Vote Description"])},placeholder:t=>{const{normalize:a}=t;return a(["Add a grant gauge: "])},submit:t=>{const{normalize:a}=t;return a(["Create Gauge Addition Vote"])}}})}typeof Lo=="function"&&Lo(dn);const Zb=S(dn,[["__scopeId","data-v-2e6343b9"]]),Xb={class:"ve-funder"},ey={class:"explanation"},ty={class:"step-one"},ay=["innerHTML"],oy=["innerHTML"],sy={class:"step-two"},ny=["innerHTML"],ly={href:"https://gov.curve.fi/",target:"_blank"},ry={class:"forms"},pn=k({__name:"VeFunder",setup(o){const{t:e}=B(),t=P(""),a=s=>{t.value=s};return(s,l)=>(f(),w("div",Xb,[c("div",ey,[_(n(Y),null,{default:$(()=>[c("div",ty,[c("span",{innerHTML:n(e)("process")},null,8,ay),c("ol",null,[c("li",null,x(n(e)("process-1")),1),c("li",{innerHTML:n(e)("process-2")},null,8,oy)])]),c("div",sy,[c("span",{innerHTML:n(e)("requirements")},null,8,ny),c("ol",null,[c("li",null,[E(x(n(e)("requirements-1a"))+" ",1),c("a",ly,x(n(e)("requirements-1b")),1)]),c("li",null,x(n(e)("requirements-2")),1)])])]),_:1})]),c("div",ry,[_(Hb,{onGauge:a}),_(Zb,{gauge:t.value},null,8,["gauge"])])]))}});function Po(o){const e=o;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{process:t=>{const{normalize:a}=t;return a(["<strong>veFunder</strong> process:"])},"process-1":t=>{const{normalize:a}=t;return a(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":t=>{const{normalize:a}=t;return a(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:t=>{const{normalize:a}=t;return a(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":t=>{const{normalize:a}=t;return a(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":t=>{const{normalize:a}=t;return a(["at this address"])},"requirements-2":t=>{const{normalize:a}=t;return a(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Po=="function"&&Po(pn);const iy=S(pn,[["__scopeId","data-v-9fe06474"]]),cy={titleRoute:"/",routes:[{path:"/",component:Yp},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/pools",component:$_},{path:"/platform/gauges",component:M_},{path:"/platform/revenue/:tab?",name:"revenue",component:dm},{path:"/platform/crvusd",name:"crvusd",component:rv},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:sh},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Mf},{path:"/pool/mev",component:sg},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:Bb},{path:"/dao/vefunder",component:iy}],menuItems:[{label:"Platform",children:[{to:"/platform/pools",label:"Pools"},{to:"/platform/gauges",label:"Gauges"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"}]},{label:"Pool",children:[{to:"/pool/monitor",label:"Live Monitor",tag:"beta"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};Yt.registerLanguage("xml",Un);Yt.registerLanguage("scss",En);Yt.registerLanguage("typescript",Wn);const la=qn(uc),uy=Hn({legacy:!1,locale:"en",fallbackLocale:"en"});la.use(uy);const dy=Nn();la.use(dy);const py=[Cp,cy],_y=aa();_y.pages=py;const my=wc();la.use(my).use(Gn).use(Qn).use(Do).mount("#app");

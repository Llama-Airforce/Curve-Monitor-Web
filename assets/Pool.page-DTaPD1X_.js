import{_ as de,a as pe}from"./TabItem.vue_vue_type_script_setup_true_lang-CnaorDaT.js";import{d as L,h as M,o as w,a4 as re,w as _,a as S,t as Z,e as I,T as Q,f as $,r as J,g as N,U as Y,V as P,_ as j,u as l,b as m,c as X,a7 as oe,Y as ve,W as G,j as W,O as fe,F as _e,l as he,a5 as ge,a6 as be,N as ye,R as Ce,a2 as se}from"./index-LXGoiU-K.js";import{a as ue,b as $e,c as ke,d as Ve}from"./pools-Dg2Ie_iw.js";import{u as ee,_ as te}from"./UseLegend-DUtMzLML.js";import{u as x,J as E,r as ce,a as K,b as z,C as Se,c as me,_ as ae}from"./UseLightweightChart-miolA3Q8.js";import{u as Te}from"./queries-4L73BXrN.js";import{r as O,u as R}from"./Number-ymNWJv-c.js";import{_ as we}from"./AsyncValue-vklsg9cD.js";import{a as Be,_ as Me}from"./KPI-Cu_gXBZT.js";import{_ as Fe}from"./TokenIcon-B8OSB6NZ.js";import{_ as le}from"./ButtonToggle-Dd1z78pA.js";import{g as De}from"./api-Bhu-jkhy.js";import{u as Le}from"./useQuery-EB5VIyWb.js";import{_ as Ae}from"./InputNumber-CV5Am4h-.js";import{a as ne}from"./index-CLuxbeFb.js";import{u as We}from"./UseTabNavigation-tZjQO1NS.js";import"./timestamp-X9wFVw8g.js";import"./timestamp-DkvXAN4c.js";import"./UseHost-DbXEljmI.js";import"./Object-DOSYkgA0.js";import"./Helper-CEA7_3Rd.js";/* empty css                                                                    */const Oe={class:"option"},Ie={class:"label"},Pe=L({__name:"SelectDuration",props:{duration:{default:()=>({value:1,unit:"month"})}},emits:["select"],setup(d,{emit:f}){const n=f,c=[{value:1,unit:"hour"},{value:1,unit:"day"},{value:1,unit:"week"},{value:1,unit:"month"},{value:1,unit:"year"}],g=k=>{n("select",k)};return(k,r)=>{const h=re;return w(),M(h,{options:c.map(b=>b),selected:k.duration,onSelect:g},{option:_(({option:b})=>[S("div",Oe,[S("div",Ie,Z(b.value)+" "+Z(b.unit),1)])]),_:1},8,["options","selected"])}}}),ie=I(Pe,[["__scopeId","data-v-0bc945d9"]]),Re={style:{display:"flex"}},Ue={style:{display:"flex","flex-wrap":"wrap",gap:"2rem"}},qe={class:"time"},Ee={class:"time"},Ne={ref:"chartRef",class:"chart"},Qe=L({__name:"ChartMEV",props:{pool:{}},setup(d){function f(e,a){const v=e.replace("#","").match(/.{2}/g)?.map(y=>parseInt(y,16));return v?`#${v.map(y=>Math.max(0,Math.floor(y*(1-a)))).map(y=>y.toString(16).padStart(2,"0")).join("")}`:e}const n=Q(),c=$(()=>({volume:n.value.colors.red,bars:[n.value.colorsArray[1],f(n.value.colorsArray[1],.33),n.value.colorsArray[0],f(n.value.colorsArray[0],.33)]})),{items:g,toggles:k,disabled:r}=ee(()=>[{id:"atomic",label:"Atomic",color:c.value.bars[0],togglable:!0},{id:"cexdex",label:"Cexdex",color:c.value.bars[1],togglable:!0},{id:"within",label:"Within",color:c.value.bars[2],togglable:!0},{id:"outside",label:"Outside",color:c.value.bars[3],togglable:!0},{id:"total",label:"Volume (Total)",color:c.value.volume,togglable:!0}]),h=J({value:1,unit:"week"}),b=J({value:1,unit:"hour"}),{isFetching:u,data:p}=Te(N(()=>d.pool),h,b),i=Y("card"),{chart:B,series:o}=x({createChartOptions:K(),series:[{type:"StackedBars",name:"data",options:$(()=>({priceFormat:{type:"custom",formatter:e=>`$${O(e,1,"dollar")}${R(e)}`},colors:g.value.map((e,a)=>({item:e,i:a})).filter(({item:e})=>!r.value.includes(e.id)).map(({i:e})=>e).map(e=>c.value.bars[e]),lastValueVisible:!1,priceLineVisible:!1}))},{type:E,name:"volume",options:$(()=>({priceFormat:{type:"custom",formatter:e=>`${O(e,1,"dollar")}${R(e)}`},lineWidth:2,lineType:ce.Curved,color:c.value.volume,lastValueVisible:!1,priceLineVisible:!1}))}]});P(D);function D(){if(!B.value||!o.volume||!o.data)return;const e=r.value.includes("total")?[]:p.value.map(a=>({time:a.interval_start_unixtime,value:a.full_volume})).uniqWith((a,v)=>a.time===v.time).orderBy(a=>a.time,"asc");e.length>1?(o.volume.setData(e),o.volume.applyOptions({visible:!0})):o.volume.applyOptions({visible:!1}),o.data.setData(p.value.map(a=>({time:a.interval_start_unixtime,values:[...r.value.includes("atomic")?[]:[a.atomicArbVolume],...r.value.includes("cexdex")?[]:[a.cexDexArbVolume],...r.value.includes("within")?[]:[a.sandwichVolume_LossWithin],...r.value.includes("outside")?[]:[a.sandwichVolume_LossOutside]]})).uniqWith((a,v)=>a.time===v.time).orderBy(a=>a.time,"asc")),B.value.timeScale().fitContent()}return(e,a)=>{const v=z,V=te,y=j;return w(),M(y,{ref_key:"card",ref:i,title:"MEV",loading:l(u)},{actions:_(()=>[S("div",Re,[m(v,{chart:l(B),target:l(i)},null,8,["chart","target"])])]),"actions-secondary":_(()=>[S("div",Ue,[m(V,{items:l(g),disabled:l(r),onToggle:a[0]||(a[0]=s=>l(k)[s].value=!l(k)[s].value)},null,8,["items","disabled"]),S("div",qe,[a[3]||(a[3]=S("span",null,"Duration:",-1)),m(ie,{duration:l(h),onSelect:a[1]||(a[1]=s=>h.value=s)},null,8,["duration"])]),S("div",Ee,[a[4]||(a[4]=S("span",null,"Interval:",-1)),m(ie,{duration:l(b),onSelect:a[2]||(a[2]=s=>b.value=s)},null,8,["duration"])])])]),default:_(()=>[S("div",Ne,null,512)]),_:1},8,["loading"])}}}),je=I(Qe,[["__scopeId","data-v-7cf8ebb6"]]),xe={class:"dashboard-grid"},Ke=L({__name:"MEV",props:{pool:{}},setup(d){const f=$(()=>d.pool.address);return(n,c)=>(w(),X("div",xe,[m(je,{style:{"grid-area":"chart"},pool:l(f)},null,8,["pool"])]))}}),He=I(Ke,[["__scopeId","data-v-a5261ecc"]]),Ge={class:"actions"},Je={ref:"chartRef",class:"chart"},Ye="chart_pool_balances_dollars",ze="chart_pool_balances_type",Xe=L({__name:"ChartBalances",props:{balances:{},title:{},showDollars:{type:Boolean,default:!0},chartType:{default:"area"}},setup(d){const f=Q(),{items:n,toggles:c,disabled:g}=ee(()=>d.balances.map(({symbol:e},a)=>({id:e,label:e,color:f.value.colorsArray[a],togglable:!0}))),k=Y("card"),r=oe(Ye,!1),h=["unstacked","stacked","100%"],b=[{id:"unstacked",label:"Unstacked"},{id:"stacked",label:"Stacked"},{id:"100%",label:"Stacked (100%)"}],u=oe(ze,h[0]),{chart:p,series:i}=x({createChartOptions:K(),series:[...d.balances.map(({symbol:e},a)=>({type:E,name:e,options:$(()=>({lineWidth:2,lineType:ce.WithSteps,color:f.value.colorsArray[a],lastValueVisible:!1,priceLineVisible:!1}))})),{type:"StackedArea",name:"stackedArea",options:$(()=>({colors:n.value.map((e,a)=>({item:e,i:a})).filter(({item:e})=>!g.value.includes(e.id)).map(({i:e})=>e).map(e=>f.value.colorsArray[e]).map(e=>({line:e,area:e+"15"})),lineWidth:2,lastValueVisible:!1,priceLineVisible:!1}))},{type:"StackedBars",name:"stackedBars",options:$(()=>({colors:n.value.map((e,a)=>({item:e,i:a})).filter(({item:e})=>!g.value.includes(e.id)).map(({i:e})=>e).map(e=>f.value.colorsArray[e]),lineWidth:2,lastValueVisible:!1,priceLineVisible:!1}))}]});P(()=>{p.value&&p.value.applyOptions({localization:{priceFormatter:u.value==="100%"?e=>`${O(e,0,"percentage")}%`:e=>`${O(e,1,"dollar")}${R(e)}`}})}),P(B);function B(){if(!(!p.value||Object.values(i).length<0)){for(const e of Object.values(i))e?.setData([]);u.value==="unstacked"?o():D(u.value==="100%"),p.value.timeScale().fitContent()}}function o(){for(const{symbol:e,balances:a}of d.balances.values()){if(!c[e].value){i[e]?.setData([]);continue}const v=d.showDollars&&r.value,V=a.map(y=>({time:y.timestamp.getUTCTimestamp(),value:v?y.balance*y.tokenPrice:y.balance})).uniqWith((y,s)=>y.time===s.time).orderBy(y=>y.time,"asc");V.length>0&&i[e]?.setData(V)}}function D(e){if(!i.stackedArea||!i.stackedBars)return;const a=d.showDollars&&r.value,v=[...d.balances.values()].filter(({symbol:V,balances:y})=>c[V].value&&y.length>0).flatMap(({symbol:V,balances:y})=>y.map(s=>({symbol:V,timestamp:s.timestamp,balance:a?s.balance*s.tokenPrice:s.balance}))).groupBy(V=>V.timestamp.getTime()).entries().map(([V,y])=>{const s=e&&y.sumBy(C=>C.balance)||1,t=y.map(C=>e?C.balance/s*100:C.balance);return{time:Number(V)/1e3,values:t}}).uniqWith((V,y)=>V.time===y.time).orderBy(V=>V.time,"asc");v.length>0&&(d.chartType==="area"?(i.stackedArea.setData(v),i.stackedBars.setData([])):(i.stackedArea.setData([]),i.stackedBars.setData(v)))}return(e,a)=>{const v=re,V=le,y=Be,s=z,t=te,C=j;return w(),M(C,{ref_key:"card",ref:k,class:"stack-actions",title:e.title??"Balances"},{actions:_(()=>[S("div",Ge,[ve(e.$slots,"actions",{},void 0,!0),m(v,{options:b,selected:b.find(T=>T.id===l(u))??b[0],onSelect:a[0]||(a[0]=T=>u.value=T.id)},{option:_(({option:T})=>[W(Z(T.label),1)]),_:1},8,["selected"]),e.showDollars?(w(),M(y,{key:0},{trigger:_(()=>[m(V,{"model-value":l(r),onClick:a[1]||(a[1]=T=>r.value=!l(r))},{default:_(()=>a[3]||(a[3]=[W(" $ ",-1)])),_:1,__:[3]},8,["model-value"])]),default:_(()=>[a[4]||(a[4]=W(" Show token balances in USD. ",-1))]),_:1,__:[4]})):G("",!0),m(s,{chart:l(p),target:l(k)},null,8,["chart","target"])])]),"actions-secondary":_(()=>[m(t,{items:l(n),disabled:l(g),onToggle:a[2]||(a[2]=T=>l(c)[T].value=!l(c)[T].value)},null,8,["items","disabled"])]),default:_(()=>[S("div",Je,null,512)]),_:3},8,["title"])}}}),Ze=I(Xe,[["__scopeId","data-v-ca373428"]]),et={class:"controls"},tt={ref:"chartRef",class:"chart"},at=L({__name:"ChartPrice",props:{ohlc:{},minMove:{default:()=>{}}},setup(d){const f=Q(),n=J(!1);let c=1,g=0;const{chart:k,series:r}=x({createChartOptions:K(),series:{type:Se,name:"ohlc",options:$(()=>{const{colors:u}=f.value;return{priceFormat:{type:"custom",formatter:b,minMove:d.minMove},upColor:u.green,borderUpColor:u.green,wickUpColor:u.green,downColor:u.red,borderDownColor:u.red,wickDownColor:u.red}})}});P(h);function h(){if(!k.value||!r.ohlc)return;const u=n.value?-1:1,p=d.ohlc.map(i=>({time:i.time.getUTCTimestamp(),open:Math.pow(i.open,u),high:Math.pow(i.high,u),low:Math.pow(i.low,u),close:Math.pow(i.close,u)})).uniqWith((i,B)=>i.time===B.time).orderBy(i=>i.time,"asc");r.ohlc.setData(p),g=Math.min(...p.map(i=>i.low)),c=Math.max(...p.map(i=>i.high)),k.value.timeScale().fitContent()}function b(u){const p=c-g,i=p>1?p-Math.floor(p):p,B=-Math.floor(Math.log10(i)+1)+2;return`${O(u,B,"dollar")}${R(u)}`}return(u,p)=>{const i=le,B=j;return w(),M(B,{title:"Price"},{actions:_(()=>[S("div",et,[m(i,{"model-value":l(n),onClick:p[0]||(p[0]=o=>n.value=!l(n))},{default:_(()=>p[1]||(p[1]=[W(" Invert ",-1)])),_:1,__:[1]},8,["model-value"])])]),default:_(()=>[S("div",tt,null,512)]),_:1})}}}),lt=I(at,[["__scopeId","data-v-2ec926d9"]]),ot={style:{display:"flex"}},st={ref:"chartRef",class:"chart"},nt=L({__name:"ChartTvl",props:{tvl:{}},setup(d){const f=Q(),n=Y("card"),{chart:c,series:g}=x({createChartOptions:K(),series:me({name:"tvl",color:$(()=>f.value.colors.blue),formatter:r=>`$${O(r,1,"dollar")}${R(r)}`})});P(k);function k(){if(!c.value||!g.tvl)return;const r=d.tvl.map(h=>({time:h.timestamp.getUTCTimestamp(),value:h.tvl})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc");r.length>0&&g.tvl.setData(r),c.value.timeScale().fitContent()}return(r,h)=>{const b=ae,u=z,p=j;return w(),M(p,{ref_key:"card",ref:n,title:"TVL"},{actions:_(()=>[S("div",ot,[m(b,{filename:"tvl",series:l(g)},null,8,["series"]),m(u,{chart:l(c),target:l(n)},null,8,["chart","target"])])]),default:_(()=>[S("div",st,null,512)]),_:1},512)}}}),it={style:{display:"flex"}},rt={ref:"chartRef",class:"chart"},ut=L({__name:"ChartVolume",props:{volume:{}},setup(d){const f=Q(),n=Y("card"),{chart:c,series:g}=x({createChartOptions:K(),series:me({name:"volume",color:$(()=>f.value.colors.blue),formatter:r=>`$${O(r,1,"dollar")}${R(r)}`})});P(k);function k(){if(!c.value||!g.volume)return;const r=d.volume.map(h=>({time:h.timestamp.getUTCTimestamp(),value:h.volume})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc");r.length>0&&g.volume.setData(r),c.value.timeScale().fitContent()}return(r,h)=>{const b=ae,u=z,p=j;return w(),M(p,{ref_key:"card",ref:n,title:"Volume"},{actions:_(()=>[S("div",it,[m(b,{filename:"volume",series:l(g)},null,8,["series"]),m(u,{chart:l(c),target:l(n)},null,8,["chart","target"])])]),default:_(()=>[S("div",rt,null,512)]),_:1},512)}}});function ct(d,f,n,c){return Le({queryKey:["curve-token-price",f,n,c],queryFn:({queryKey:[,g,k,r]})=>De(d.value,g,k,r),enabled:$(()=>!!d.value&&!!f.value&&!!n.value&&!!c.value),initialData:[],initialDataUpdatedAt:0})}const mt={style:{display:"flex"}},dt={class:"actions-secondary"},pt={class:"button-group"},vt={ref:"chartRef",class:"chart"},ft=L({__name:"ChartRevenueParameters",props:{pool:{},chain:{}},setup(d){const f=$(()=>d.pool?.address),n=J("3m"),c=$(()=>{switch(n.value){case"7d":return 7;case"1m":return 30;case"3m":return 90;case"6m":return 180;case"1y":return 365;default:return 90}}),{isFetching:g,data:k}=ue(N(()=>d.chain),f,c),{isFetching:r,data:h}=$e(N(()=>d.chain),f,c),b=$(()=>r.value||g.value),u=$(()=>[...h.value,...k.value].groupBy(s=>s.timestamp.getTime()).entries().filter(([,s])=>s.length===2).map(([,s])=>{const t=s[0].timestamp,C=s.find(q=>"a"in q),T=C?.offpegFeeMultiplier??0,H=C?.a??0,A=C?.fee??0,U=s.find(q=>"volume"in q)?.fees??0;return{timestamp:t,revenue:U,a:H,fee:A,offpegFeeMultiplier:T}})),p=Q(),i=J(null),{items:B,toggles:o,disabled:D}=ee(()=>{const{blue:s,yellow:t,green:C,purple:T}=p.value.colors;return[{id:"revenue",label:"Revenue",color:s,togglable:!0},{id:"a",label:"A",color:t,togglable:!0},{id:"fee",label:"Fee (param)",color:C,togglable:!0},{id:"offpegFeeMultiplier",label:"Offpeg Fee Multiplier",color:T,togglable:!0}]});o.fee.value=!1,o.offpegFeeMultiplier.value=!1;const e=Y("card"),{chart:a,series:v}=x({createChartOptions:K($(()=>({leftPriceScale:{visible:o.a.value||o.fee.value||o.offpegFeeMultiplier.value}}))),series:[{type:E,name:"revenue",options:$(()=>({priceFormat:{type:"custom",formatter:s=>`$${O(s,1,"dollar")}${R(s)}`,minMove:1},lineWidth:2,color:p.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:E,name:"a",options:$(()=>({priceFormat:{type:"custom",formatter:s=>`${Math.round(s)}`,minMove:1},priceScaleId:"left",lineWidth:2,color:p.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:E,name:"fee",options:$(()=>({priceFormat:{type:"custom",formatter:s=>`${Math.round(s)}`,minMove:1},priceScaleId:"left",lineWidth:2,color:p.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))},{type:E,name:"offpegFeeMultiplier",options:$(()=>({priceFormat:{type:"custom",formatter:s=>`${Math.round(s)}`,minMove:1},priceScaleId:"left",lineWidth:2,color:p.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});P(V);function V(){if(!a.value||!v.revenue||!v.fee||!v.a||!v.offpegFeeMultiplier)return;let s=u.value.map(t=>({time:t.timestamp.getUTCTimestamp(),value:t.revenue})).uniqWith((t,C)=>t.time===C.time).orderBy(t=>t.time,"asc");if(i.value&&i.value>0){const t=y(s.map(C=>C.value),i.value);s=s.map((C,T)=>({time:C.time,value:t[T]}))}v.revenue.setData(s),v.a.setData(u.value.map(t=>({time:t.timestamp.getUTCTimestamp(),value:t.a})).uniqWith((t,C)=>t.time===C.time).orderBy(t=>t.time,"asc")),v.fee.setData(u.value.map(t=>({time:t.timestamp.getUTCTimestamp(),value:t.fee/1e8})).uniqWith((t,C)=>t.time===C.time).orderBy(t=>t.time,"asc")),v.offpegFeeMultiplier.setData(u.value.map(t=>({time:t.timestamp.getUTCTimestamp(),value:t.offpegFeeMultiplier/1e10})).uniqWith((t,C)=>t.time===C.time).orderBy(t=>t.time,"asc")),v.revenue.applyOptions({visible:o.revenue.value}),v.a.applyOptions({visible:o.a.value}),v.fee.applyOptions({visible:o.fee.value}),v.offpegFeeMultiplier.applyOptions({visible:o.offpegFeeMultiplier.value}),a.value.timeScale().fitContent()}function y(s,t=7){return s.map((C,T)=>{const H=Math.max(T-(t-1),0),A=T+1,U=s.slice(H,A);return U.sumBy(F=>F)/U.length})}return(s,t)=>{const C=Ae,T=ae,H=z,A=le,U=te,q=j;return w(),M(q,{ref_key:"card",ref:e,title:"Revenue & Parameters",class:"stack-actions",loading:l(b)},{actions:_(()=>[S("div",mt,[m(C,{modelValue:l(i),"onUpdate:modelValue":t[0]||(t[0]=F=>fe(i)?i.value=F:null),class:"avg-span",placeholder:"Rev avg (days)",min:1,max:1/0},null,8,["modelValue"]),m(T,{filename:"parameters_and_fees",series:l(v)},null,8,["series"]),m(H,{chart:l(a),target:l(e)},null,8,["chart","target"])])]),"actions-secondary":_(()=>[S("div",dt,[S("div",pt,[m(A,{"model-value":l(n)==="7d",onClick:t[1]||(t[1]=F=>n.value="7d")},{default:_(()=>t[7]||(t[7]=[W(" 7d ",-1)])),_:1,__:[7]},8,["model-value"]),m(A,{"model-value":l(n)==="1m",onClick:t[2]||(t[2]=F=>n.value="1m")},{default:_(()=>t[8]||(t[8]=[W(" 1m ",-1)])),_:1,__:[8]},8,["model-value"]),m(A,{"model-value":l(n)==="3m",onClick:t[3]||(t[3]=F=>n.value="3m")},{default:_(()=>t[9]||(t[9]=[W(" 3m ",-1)])),_:1,__:[9]},8,["model-value"]),m(A,{"model-value":l(n)==="6m",onClick:t[4]||(t[4]=F=>n.value="6m")},{default:_(()=>t[10]||(t[10]=[W(" 6m ",-1)])),_:1,__:[10]},8,["model-value"]),m(A,{"model-value":l(n)==="1y",onClick:t[5]||(t[5]=F=>n.value="1y")},{default:_(()=>t[11]||(t[11]=[W(" 1y ",-1)])),_:1,__:[11]},8,["model-value"])]),m(U,{items:l(B),disabled:l(D),onToggle:t[6]||(t[6]=F=>l(o)[F].value=!l(o)[F].value)},null,8,["items","disabled"])])]),default:_(()=>[S("div",vt,null,512)]),_:1},8,["loading"])}}}),_t=I(ft,[["__scopeId","data-v-28fadc5d"]]),ht={class:"dashboard-grid"},gt={class:"tokens"},bt=L({__name:"PoolOverview",props:{pool:{},chain:{}},setup(d){const f=$(()=>d.pool?.address),n=$(()=>d.pool?.coins[0].address),c=$(()=>d.pool?.coins[1].address),{isFetching:g,data:k}=ct(N(()=>d.chain),f,n,c),{isFetching:r,data:h}=ue(N(()=>d.chain),f),{isFetching:b,data:u}=ke(N(()=>d.chain),f),p=$(()=>h.value.map(o=>({timestamp:o.timestamp,volume:o.volume}))),i=$(()=>u.value.map(o=>({timestamp:o.timestamp,tvl:o.tvlUSD}))),B=$(()=>d.pool?d.pool.coins.map(o=>({symbol:o.symbol,balances:u.value.map(D=>({timestamp:D.timestamp,balance:D.balances[o.poolIndex],tokenPrice:D.tokenPrices[o.poolIndex]}))})):[]);return(o,D)=>{const e=Fe,a=Me,v=we;return w(),X("div",ht,[m(a,{style:{"grid-area":"kpi1"},label:"Tokens","has-value":!!o.pool},{default:_(()=>[S("div",gt,[(w(!0),X(_e,null,he(o.pool?.coins??[],V=>(w(),M(e,{key:V.address,clickable:"",chain:o.chain,address:V.address},null,8,["chain","address"]))),128))])]),_:1},8,["has-value"]),m(a,{style:{"grid-area":"kpi2"},label:"TVL","has-value":!!o.pool},{default:_(()=>[m(v,{type:"dollar",value:o.pool?.tvlUsd??0},null,8,["value"])]),_:1},8,["has-value"]),m(a,{style:{"grid-area":"kpi3"},label:"Volume (24h)","has-value":!!o.pool},{default:_(()=>[m(v,{type:"dollar",value:o.pool?.tradingVolume24h??0},null,8,["value"])]),_:1},8,["has-value"]),m(a,{style:{"grid-area":"kpi4"},label:"Fees (24h)","has-value":!!o.pool},{default:_(()=>[m(v,{type:"dollar",value:o.pool?.tradingFee24h??0},null,8,["value"])]),_:1},8,["has-value"]),m(lt,{style:{"grid-area":"price"},ohlc:l(k),loading:l(g)},null,8,["ohlc","loading"]),m(ut,{style:{"grid-area":"volume"},volume:l(p),loading:l(r)},null,8,["volume","loading"]),m(nt,{style:{"grid-area":"tvl"},tvl:l(i),loading:l(b)},null,8,["tvl","loading"]),m(Ze,{style:{"grid-area":"balances"},balances:l(B),loading:l(b)},null,8,["balances","loading"]),m(_t,{style:{"grid-area":"parameters"},pool:o.pool,chain:o.chain},null,8,["pool","chain"])])}}}),yt=I(bt,[["__scopeId","data-v-b783f9be"]]),Ct={class:"dashboard"},$t=L({__name:"Pool.page",setup(d){const f=ne("chain"),n=ne("poolAddr"),{isFetching:c,data:g}=Ve(f,n.value),{crumbs:k}=ge(be());ye(g,b=>{k.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:f.value})},{id:"pool",label:`Pool: ${b?.name??"?"}`}]},{immediate:!0});const{tabActive:r,tabActiveIndex:h}=We(["overview","mev"],"poolspool",()=>({chain:f.value,poolAddr:n.value}));return(b,u)=>{const p=Ce,i=de,B=pe;return w(),X("div",Ct,[m(p,{loading:l(c)},null,8,["loading"]),!l(c)&&l(g)?(w(),M(B,{key:0,active:l(h),onTab:u[0]||(u[0]=o=>h.value=o.index)},{default:_(()=>[m(i,{header:"Overview"},{default:_(()=>[(w(),M(se,null,[l(r)==="overview"?(w(),M(yt,{key:0,pool:l(g),chain:l(f)},null,8,["pool","chain"])):G("",!0)],1024))]),_:1}),l(f)==="ethereum"&&l(g)?(w(),M(i,{key:0,header:"MEV"},{default:_(()=>[(w(),M(se,null,[l(r)==="mev"?(w(),M(He,{key:0,pool:l(g)},null,8,["pool"])):G("",!0)],1024))]),_:1})):G("",!0)]),_:1},8,["active"])):G("",!0)])}}}),xt=I($t,[["__scopeId","data-v-e7d124fd"]]);export{xt as default};

import{d as x,r as R,f as E,$ as Q,h as S,o as n,w as k,b as l,u as a,a as t,X as U,i as p,t as r,c as _,W as v,Q as W,O as z,_ as F,e as G,a5 as M,a6 as O}from"./index-Bch5xw70.js";import{_ as X}from"./Table-CzfViY2y.js";import{_ as j}from"./IconExpander-Bw8DBqMc.js";import{_ as q}from"./AsyncValue-BZQqUTDJ.js";import{_ as H}from"./InputText-BmImSRbR.js";import{u as J,_ as K}from"./UsePagination-CY2q7m_2.js";import{a as Y}from"./gauge-D7A_AJ3v.js";import{u as Z}from"./UseSort-BgE6w0Ba.js";import"./Number-C9maoR4t.js";import"./timestamp-CoE2HNXc.js";import"./useQuery-YCC5tKgQ.js";const ee={style:{display:"flex","flex-wrap":"wrap",gap:"1rem"}},oe=["href"],se=["href"],ae={key:1},te=["href"],ne={class:"end"},re={class:"end"},le=["href"],P=15,ie=x({__name:"TableGauges",setup(N){const{isFetching:g,data:w}=Y(),$=[{id:"name",label:"Name / Address",sort:!1},{id:"destination",label:"Destination",sort:!1},{id:"lp",label:"LP Token",sort:!1},{id:"weight",label:"Weight",sort:!0,align:"end"},{id:"creation",label:"Creation",sort:!0,align:"end"}],{sorting:m,onSort:V}=Z("weight"),i=R(""),C=E(()=>w.value.filter(o=>{var c,u,d;const s=i.value.toLocaleLowerCase().split(" ");return(f=>s.some(b=>f.toLocaleLowerCase().includes(b)))(`${o.address} ${((c=o.pool)==null?void 0:c.name)??""} ${((u=o.pool)==null?void 0:u.address)??""} ${((d=o.market)==null?void 0:d.name)??""} ${o.lpToken??""}`)}).orderBy(o=>{switch(m.value.column){case"weight":return Number(o.weight);case"creation":return o.creationDate.getTime()}},m.value.order)),{page:B,rowsPage:D,onPage:L}=J(C,P);function h(o){return o.replace("Curve.fi","").replace("Gauge Deposit","").trim()}function y(o){switch(o){case"arbitrum":return"arbiscan.io";case"ethereum":return"etherscan.io";default:return"etherscan.io"}}const I=Q(),A=async o=>{await I.push({name:"gauge",params:{tab:"",gaugeAddr:o.address}})};return(o,s)=>{const T=K,c=H,u=q,d=j,f=X,b=F;return n(),S(b,{title:"Gauges",loading:a(g)},{actions:k(()=>[t("div",ee,[l(T,{"items-count":a(C).length,"items-per-page":P,page:a(B),onPage:a(L)},null,8,["items-count","page","onPage"]),l(c,{modelValue:a(i),"onUpdate:modelValue":s[0]||(s[0]=e=>z(i)?i.value=e:null),search:"",placeholder:"Search for..."},null,8,["modelValue"])])]),default:k(()=>[l(f,{rows:a(D),columns:$,sorting:a(m),onSortColumn:a(V),onSelect:A},{row:k(({item:e})=>[t("div",{style:{display:"contents"},class:U({killed:e.killed})},[t("div",null,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${e.address}`,onClick:s[1]||(s[1]=p(()=>{},["stop"]))},r(h(e.name??e.address)),9,oe)]),t("div",null,[e.pool?(n(),_("a",{key:0,class:"font-mono",target:"_blank",href:`https://${y(e.pool.chain)}/address/${e.pool.address}`,onClick:s[2]||(s[2]=p(()=>{},["stop"]))},r(h(e.pool.name)),9,se)):e.market?(n(),_("span",ae,r(h(e.market.name)),1)):v("",!0)]),t("div",null,[e.lpToken&&e.pool?(n(),_("a",{key:0,class:"font-mono",target:"_blank",href:`https://${y(e.pool.chain)}/address/${e.lpToken}`,onClick:s[3]||(s[3]=p(()=>{},["stop"]))},r(("addressShort"in o?o.addressShort:a(W))(e.lpToken)),9,te)):v("",!0)]),t("div",ne,[e.weight>0?(n(),S(u,{key:0,value:Number(e.weight)/10**18},null,8,["value"])):v("",!0)]),t("div",re,[t("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/tx/${e.creationTx}`,onClick:s[4]||(s[4]=p(()=>{},["stop"]))},r(e.creationDate.toLocaleDateString()),9,le)]),l(d)],2)]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["loading"])}}}),ce=G(ie,[["__scopeId","data-v-dcb071d9"]]),ue={class:"dashboard"},de=x({__name:"Gauges.page",setup(N){const{crumbs:g}=M(O());return g.value=[{id:"gauges",label:"Gauges",pathName:"gauges"},{id:"pool",label:"Select gauge for details",hint:!0}],(w,$)=>(n(),_("div",ue,[l(ce,{style:{"grid-area":"gauges"}})]))}}),Ce=G(de,[["__scopeId","data-v-65bba532"]]);export{Ce as default};

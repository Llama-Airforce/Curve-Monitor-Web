import{ai as N,aj as H,ak as R,ae as V,d as b,al as q,h as E,o as d,w as h,a as y,u as a,b as o,c as m,f,t,N as l,_ as F,am as I,g as S}from"./index-BYnNAfSP.js";import{_ as L}from"./Table-CkrHHA0S.js";import{i as v}from"./Chain-DEbNFSfB.js";const Q=c=>({lastRecordedBlock:c.last_recorded_block,oracles:c.oracles.map(({block_header:s,...n})=>({chain:n.chain,address:n.address,lastConfirmedBlockNumber:n.last_confirmed_block_number,blockHeader:{hashBlock:s.block_hash,hashParent:s.parent_hash,stateRoot:s.state_root,blockNumber:s.block_number,timestamp:N(s.timestamp)}}))});async function j(c){const s=H(c),n=await R(`${s}/v1/oracles/all`);return Q(n)}function A(){return V({queryKey:["oracles-all"],queryFn:()=>j()})}const D={class:"icon"},J=["src"],K={key:1,class:"spacer"},P=["onClick"],U={class:"end"},z=["onClick"],G=["onClick"],M=["onClick"],W={class:"end"},X=b({__name:"TableOracles",setup(c){const{isFetching:s,data:n}=A(),{relativeTime:B}=q();async function i(e){I({text:`Copied ${e}`,type:"success",duration:5e3}),await navigator.clipboard.writeText(e)}return(e,ee)=>{const T=L,w=F;return d(),E(w,{title:"Oracles",loading:a(s)},{actions:h(()=>{var r;return[f(" Last Recorded Block: "+t((r=a(n))==null?void 0:r.lastRecordedBlock),1)]}),default:h(()=>{var r;return[y(T,{loading:a(s),rows:((r=a(n))==null?void 0:r.oracles)??[],columns:["Chain","Address",{label:"Last Block",align:"end"},"Block Hash","Parent Hash","State Root",{label:"Time",align:"end"}]},{row:h(({item:{chain:_,address:p,lastConfirmedBlockNumber:O,blockHeader:{hashBlock:k,hashParent:g,stateRoot:C,timestamp:$}}})=>[o("div",D,[("iconChain"in e?e.iconChain:a(v))(_)?(d(),m("img",{key:0,src:("iconChain"in e?e.iconChain:a(v))(_)},null,8,J)):(d(),m("div",K)),f(" "+t(_),1)]),o("div",null,[o("a",{onClick:u=>i(p)},t(("addressShort"in e?e.addressShort:a(l))(p,12)),9,P)]),o("div",U,t(O),1),o("div",null,[o("a",{onClick:u=>i(k)},t(("addressShort"in e?e.addressShort:a(l))(k,12)),9,z)]),o("div",null,[o("a",{onClick:u=>i(g)},t(("addressShort"in e?e.addressShort:a(l))(g,12)),9,G)]),o("div",null,[o("a",{onClick:u=>i(C)},t(("addressShort"in e?e.addressShort:a(l))(C,12)),9,M)]),o("div",W,t(a(B)($.getTime())),1)]),_:1},8,["loading","rows"])]}),_:1},8,["loading"])}}}),Y=S(X,[["__scopeId","data-v-ba4543df"]]),Z={class:"dashboard"},x=b({__name:"Oracles.page",setup(c){return(s,n)=>(d(),m("div",Z,[y(Y,{style:{"grid-area":"oracles"}})]))}}),ne=S(x,[["__scopeId","data-v-db7347a3"]]);export{ne as default};

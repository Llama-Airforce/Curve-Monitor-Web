import{f as Ds,p as Vs,l as z,I as nt,C as ot,L as et,d as S,r as L,c as C,w as D,t as A,o as y,a as P,b,e as m,g as $,h as pe,i as ta,n as B,j as U,k as V,F as le,T as zs,u as s,m as Ve,q as Bs,s as Rs,v as Os,W as Fs,x as Es,y as Us,z as Z,A as i,B as Gn,D as aa,E as Ws,G as R,H as ye,J as oe,K as se,M as tt,N as De,O as H,P as Qn,Q as qs,R as Hs,S as Ns,U as He,V as st,X as wa,Y as Gs,Z as Qs,_ as It,$ as me,a0 as na,a1 as oa,a2 as Yn,a3 as Ys,a4 as js,a5 as Js,a6 as _t,a7 as ie,a8 as Ne,a9 as Ks,aa as Zs,ab as qt,ac as be,ad as Xs,ae as el,af as tl,ag as al,ah as nl,ai as $e,aj as sa,ak as jn,al as la,am as ol,an as sl,ao as ll,ap as rl,aq as il,ar as cl,as as ul,at as dl}from"./vendor-4fc5e204.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function pl(n){return n!=null}function ze(n,e){const t=new Date(n.valueOf());return t.setUTCDate(t.getUTCDate()+e),t}function ml(n){function e(g){return g<10?"0"+g.toString():g.toString()}const t=n.getTime()-new Date().getTime();if(t<=0)return"00:00:00:00";const a=1e3,o=a*60,l=o*60,c=l*24,v=Math.floor(t/c),r=Math.floor(t%c/l),p=Math.floor(t%l/o),d=Math.floor(t%o/a);return e(v)+":"+e(r)+":"+e(p)+":"+e(d)}function Ee(n,e=0,t=".",a=","){const o=isFinite(+n)?+n:0,l=isFinite(+e)?Math.abs(e):0,c=typeof a>"u"?",":a,v=typeof t>"u"?".":t,r=function(d,g){const _=Math.pow(10,g);return Math.round(d*_)/_},p=(l?r(o,l):Math.round(o)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(p[1]||"").length<l&&(p[1]=p[1]||"",p[1]+=new Array(l-p[1].length+1).join("0")),p.join(v)}function J(n,e){const t=Math.abs(n);return e==="percentage"?"%":e==="dollar"?t>=1*10**12?"t":t>=1*10**9?"b":t>=1*10**6?"m":t>=1*10**3?"k":"":""}function K(n,e,t){const a=Math.abs(n);return e===1/0?n.toLocaleString():t==="percentage"?Ee(n,e):t==="dollar"?a>=1*10**12?Ee(n/10**12,e):a>=1*10**9?Ee(n/10**9,e):a>=1*10**6?Ee(n/10**6,e):a>=1*10**3?Ee(n/10**3,e):Ee(n,e):n.toString()}function Ue(n){return Number(n.toFixed(n>100?0:2)).toLocaleString()}function je(n,e){return parseFloat(Ds(n,e))}function Jn(n,e){return Vs(n.toFixed(Number(e)),Number(e)).toBigInt()}async function Kn(n,e=0,t=1e3){const a=await n(e,t),o=await(a.length>=t?Kn(n,e+1,t):Promise.resolve([]));return a.concat(o)}const Zn={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},zt={steth:"steth","Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: MIM-UST":"mim",tricrypto2:"tricrypto2","3pool":"3pool",ib:"cream",usdn:"usdn",ren:"ren",alusd:"alusd",frax:"frax",ironbank:"ironbank",pbtc:"pbtc",bbtc:"bbtc",sbtc:"sbtc",obtc:"obtc",compound:"comp",ankreth:"ankreth",saave:"aave",aeth:"aeth",tbtc:"tbtc",usdp:"usdp","Curve.fi Factory Plain Pool: cvxCRV":"crv",eurs:"eurs",lusd:"lusd",seth:"seth",hbtc:"hbtc",aave:"aave",link:"link",susd:"susd",eurt:"eurt",busdv2:"busd",reth:"reth","Curve.fi Factory Plain Pool: ibCHF-sCHF":"chf",gusd:"gusd","Curve.fi Factory Plain Pool: ibGBP-sGBP":"gbp",tricrypto:"tricrypto",busd:"busd",y:"yfi","Curve.fi Factory Plain Pool: ibJPY-sJPY":"jpy","Curve.fi Factory Plain Pool: ibAUD-sAUD":"aud","Curve.fi Factory Plain Pool: ibEUR-sEUR":"eur","Curve.fi Factory Plain Pool: ibKRW-sKRW":"krw",tusd:"tusd",dusd:"dusd",ust:"ust",rsv:"rsv",musd:"musd",husd:"husd",usdt:"usdt",usdk:"usdk",pax:"pax","Curve.fi Factory Pool: alETH":"alusd","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eur","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eurs","Curve EURT-3Crv":"eurt","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"ust","Curve.fi Factory BTC Metapool: ibBTC":"ibbtc","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-usdp","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve T-ETH":"t","Curve.fi Factory Crypto Pool: YFI-ETH":"yfi","Curve SPELL-ETH":"spell","Curve.fi Factory Crypto Pool: FXS-ETH":"fxs","Curve.fi Factory USD Metapool: FEI Metapool":"fei"},_l={"f-ustw":"ust","f-d3pool":"d3pool",eursusd:"stasis","crv-eth":"crv","ust-wormhole":"ust","fixedforex:chf":"chf","fixedforex:gbp":"gbp","fixedforex:jpy":"jpy","fixedforex:aud":"aud","fixedforex:eur":"eur","fixedforex:krw":"krw",rai:"rai",cvxeth:"cvx","3eur":"3eur-pool",teth:"t","f-fei":"fei",cvxfxs:"fxs","avalanche-f-3pool":"3pool","fantom-f-4POOL":"3pool"},vl={"f-cadcusdc":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xcadc0acd4b445166f12d2c07eac6e2544fbe2eef.png","f-pwrd":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xf0a93d4994b3d98fb5e3a2f90dbc2d69073cb86b.png","f-lfteth":"https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets/0xb620be8a1949aa9532e6a3510132864ef9bc3f82.png"};function Le(n){const e=Zn[n];return e||n}function Xn(n){const e=z.invert(Zn)[n];return e||n}function ra(n,e=!0){let t=zt[n]??zt[Le(n)]??zt[Xn(n)]??_l[n]??"";return t=t?`/pool-icons.svg#${t}`:vl[n],t||(e?"/why.png":"empty.png")}async function xt(n,e=250){const t=new Promise(o=>setTimeout(()=>{o(null)},e)),[,a]=await Promise.all([t,n]);return a}function Ht(n,e){return(Array.isArray(n)?n:[n]).some(a=>e.path.startsWith(a))}const ia="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",fl="0xaef6ea60f6443bad046e825c1d2b0c0b5ebc1f16",hl="0x657ce046d98d163ef4f846210f25919fa7b31944",eo="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",to="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",bt="0xe478de485ad2fe566d49342cbd03e49ed7db3356",yl="0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",Nt=[{name:"CommitOwnership",inputs:[{type:"address",name:"admin",indexed:!1}],anonymous:!1,type:"event"},{name:"ApplyOwnership",inputs:[{type:"address",name:"admin",indexed:!1}],anonymous:!1,type:"event"},{name:"Deposit",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"value",indexed:!1},{type:"uint256",name:"locktime",indexed:!0},{type:"int128",name:"type",indexed:!1},{type:"uint256",name:"ts",indexed:!1}],anonymous:!1,type:"event"},{name:"Withdraw",inputs:[{type:"address",name:"provider",indexed:!0},{type:"uint256",name:"value",indexed:!1},{type:"uint256",name:"ts",indexed:!1}],anonymous:!1,type:"event"},{name:"Supply",inputs:[{type:"uint256",name:"prevSupply",indexed:!1},{type:"uint256",name:"supply",indexed:!1}],anonymous:!1,type:"event"},{outputs:[],inputs:[{type:"address",name:"token_addr"},{type:"string",name:"_name"},{type:"string",name:"_symbol"},{type:"string",name:"_version"}],stateMutability:"nonpayable",type:"constructor"},{name:"commit_transfer_ownership",outputs:[],inputs:[{type:"address",name:"addr"}],stateMutability:"nonpayable",type:"function"},{name:"apply_transfer_ownership",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"commit_smart_wallet_checker",outputs:[],inputs:[{type:"address",name:"addr"}],stateMutability:"nonpayable",type:"function"},{name:"apply_smart_wallet_checker",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"get_last_user_slope",outputs:[{type:"int128",name:""}],inputs:[{type:"address",name:"addr"}],stateMutability:"view",type:"function"},{name:"user_point_history__ts",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"_addr"},{type:"uint256",name:"_idx"}],stateMutability:"view",type:"function"},{name:"locked__end",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"_addr"}],stateMutability:"view",type:"function"},{name:"checkpoint",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"deposit_for",outputs:[],inputs:[{type:"address",name:"_addr"},{type:"uint256",name:"_value"}],stateMutability:"nonpayable",type:"function"},{name:"create_lock",outputs:[],inputs:[{type:"uint256",name:"_value"},{type:"uint256",name:"_unlock_time"}],stateMutability:"nonpayable",type:"function"},{name:"increase_amount",outputs:[],inputs:[{type:"uint256",name:"_value"}],stateMutability:"nonpayable",type:"function"},{name:"increase_unlock_time",outputs:[],inputs:[{type:"uint256",name:"_unlock_time"}],stateMutability:"nonpayable",type:"function"},{name:"withdraw",outputs:[],inputs:[],stateMutability:"nonpayable",type:"function"},{name:"balanceOf",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"}],stateMutability:"view",type:"function"},{name:"balanceOf",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_t"}],stateMutability:"view",type:"function"},{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"},{name:"totalSupply",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"totalSupply",outputs:[{type:"uint256",name:""}],inputs:[{type:"uint256",name:"t"}],stateMutability:"view",type:"function"},{name:"totalSupplyAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"},{name:"changeController",outputs:[],inputs:[{type:"address",name:"_newController"}],stateMutability:"nonpayable",type:"function"},{name:"token",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"supply",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"locked",outputs:[{type:"int128",name:"amount"},{type:"uint256",name:"end"}],inputs:[{type:"address",name:"arg0"}],stateMutability:"view",type:"function"},{name:"epoch",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"point_history",outputs:[{type:"int128",name:"bias"},{type:"int128",name:"slope"},{type:"uint256",name:"ts"},{type:"uint256",name:"blk"}],inputs:[{type:"uint256",name:"arg0"}],stateMutability:"view",type:"function"},{name:"user_point_history",outputs:[{type:"int128",name:"bias"},{type:"int128",name:"slope"},{type:"uint256",name:"ts"},{type:"uint256",name:"blk"}],inputs:[{type:"address",name:"arg0"},{type:"uint256",name:"arg1"}],stateMutability:"view",type:"function"},{name:"user_point_epoch",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"arg0"}],stateMutability:"view",type:"function"},{name:"slope_changes",outputs:[{type:"int128",name:""}],inputs:[{type:"uint256",name:"arg0"}],stateMutability:"view",type:"function"},{name:"controller",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"transfersEnabled",outputs:[{type:"bool",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"name",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"symbol",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"version",outputs:[{type:"string",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"decimals",outputs:[{type:"uint256",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"future_smart_wallet_checker",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"smart_wallet_checker",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"admin",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"},{name:"future_admin",outputs:[{type:"address",name:""}],inputs:[],stateMutability:"view",type:"function"}];class ao{static createInterface(){return new nt(Nt)}static connect(e,t){return new ot(e,Nt,t)}}ao.abi=Nt;const Gt=[{constant:!0,inputs:[],name:"hasInitialized",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minTime",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_script",type:"bytes"}],name:"getEVMScriptExecutor",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"}],name:"canCreateNewVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getRecoveryVault",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"MODIFY_QUORUM_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minAcceptQuorumPct",type:"uint64"}],name:"changeMinAcceptQuorumPct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MODIFY_SUPPORT_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"lastCreateVoteTimes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_supportRequiredPct",type:"uint64"}],name:"changeSupportRequiredPct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"token",type:"address"}],name:"allowRecoverability",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"appId",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ENABLE_VOTE_CREATION",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getInitializationBlock",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalanceUpperLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minTime",type:"uint256"}],name:"setMinTime",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"}],name:"transferToVault",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"},{name:"_role",type:"bytes32"},{name:"_params",type:"uint256[]"}],name:"canPerform",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getEVMScriptRegistry",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_token",type:"address"},{name:"_supportRequiredPct",type:"uint64"},{name:"_minAcceptQuorumPct",type:"uint64"},{name:"_voteTime",type:"uint64"},{name:"_minBalance",type:"uint256"},{name:"_minTime",type:"uint256"},{name:"_minBalanceLowerLimit",type:"uint256"},{name:"_minBalanceUpperLimit",type:"uint256"},{name:"_minTimeLowerLimit",type:"uint256"},{name:"_minTimeUpperLimit",type:"uint256"}],name:"initialize",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SET_MIN_BALANCE_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minTimeLowerLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"voteTime",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"CREATE_VOTES_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_sender",type:"address"},{name:"",type:"bytes"}],name:"canForward",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SET_MIN_TIME_ROLE",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_minBalance",type:"uint256"}],name:"setMinBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"kernel",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_evmScript",type:"bytes"}],name:"forward",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"disableVoteCreationOnce",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minAcceptQuorumPct",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isPetrified",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"votesLength",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteData",type:"uint256"},{name:"_supports",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"vote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"enableVoteCreationOnce",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"minTimeUpperLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"minBalanceLowerLimit",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"enableVoteCreation",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"supportRequiredPct",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"isForwarder",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"DISABLE_VOTE_CREATION",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"},{indexed:!0,name:"creator",type:"address"},{indexed:!1,name:"metadata",type:"string"},{indexed:!1,name:"minBalance",type:"uint256"},{indexed:!1,name:"minTime",type:"uint256"},{indexed:!1,name:"totalSupply",type:"uint256"},{indexed:!1,name:"creatorVotingPower",type:"uint256"}],name:"StartVote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"},{indexed:!0,name:"voter",type:"address"},{indexed:!1,name:"supports",type:"bool"},{indexed:!1,name:"stake",type:"uint256"}],name:"CastVote",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"voteId",type:"uint256"}],name:"ExecuteVote",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"supportRequiredPct",type:"uint64"}],name:"ChangeSupportRequired",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minAcceptQuorumPct",type:"uint64"}],name:"ChangeMinQuorum",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minBalance",type:"uint256"}],name:"MinimumBalanceSet",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"minTime",type:"uint256"}],name:"MinimumTimeSet",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"executor",type:"address"},{indexed:!1,name:"script",type:"bytes"},{indexed:!1,name:"input",type:"bytes"},{indexed:!1,name:"returnData",type:"bytes"}],name:"ScriptResult",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"vault",type:"address"},{indexed:!0,name:"token",type:"address"},{indexed:!1,name:"amount",type:"uint256"}],name:"RecoverToVault",type:"event"}];class mt{static createInterface(){return new nt(Gt)}static connect(e,t){return new ot(e,Gt,t)}}mt.abi=Gt;const Qt=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}];class no{static createInterface(){return new nt(Qt)}static connect(e,t){return new ot(e,Qt,t)}}no.abi=Qt;const Yt=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}];class oo{static createInterface(){return new nt(Yt)}static connect(e,t){return new ot(e,Yt,t)}}oo.abi=Yt;const jt=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}];class so{static createInterface(){return new nt(jt)}static connect(e,t){return new ot(e,jt,t)}}so.abi=jt;const Jt=[{name:"NewGauge",inputs:[{name:"_instance",type:"address",indexed:!0},{name:"_receiver",type:"address",indexed:!0},{name:"_max_emissions",type:"uint256",indexed:!1}],anonymous:!1,type:"event"},{stateMutability:"nonpayable",type:"constructor",inputs:[{name:"_implementation",type:"address"}],outputs:[]},{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]},{stateMutability:"pure",type:"function",name:"implementation",inputs:[],outputs:[{name:"",type:"address"}]},{stateMutability:"view",type:"function",name:"get_gauge_count",inputs:[],outputs:[{name:"",type:"uint256"}]},{stateMutability:"view",type:"function",name:"get_gauge_by_idx",inputs:[{name:"arg0",type:"uint256"}],outputs:[{name:"",type:"address"}]}];class lo{static createInterface(){return new nt(Jt)}static connect(e,t){return new ot(e,Jt,t)}}lo.abi=Jt;const gl="https://api.llama.airforce/";async function bl(n,e,t){return await fetch(n,{method:e?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e),signal:t}).then(a=>{if(a.ok)return a;throw new Error(`Fetch error ${a.status} for URL: ${n}`)})}async function wl(n,e,t){return await(await bl(n,e,t)).json()}class Ce{constructor(e){this.host=e}async fetch(e,t,a){return wl(e,t,a)}}async function $l(n){try{return await n()}catch(e){e instanceof Error&&et({text:e.message,type:"error"});return}}const kl="|/-\\",O=S({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1}},setup(n){let e=0,t=0;const a=L("|"),o=C(()=>n.value?K(n.value,typeof n.precision=="function"?n.precision(n.value):n.precision,n.type??""):n.value===0&&n.showZero?"0":n.value===null||n.value===void 0?a.value:"?"),l=C(()=>n.precision===1/0?"":!n.value||!n.type||!z.isFinite(n.value)?n.showUnit&&n.type?J(0,n.type):"":J(n.value,n.type));return D(()=>n.value,c=>{if(clearInterval(t),e=0,c)return;const v=()=>{e=(e+1)%4,a.value=kl[e]};t=window.setInterval(v,250)},{immediate:!0}),(c,v)=>A(c.showSymbol&&c.type==="dollar"?"$":"")+A(o.value)+A(c.showUnit?l.value:"")}}),Cl={key:0,class:"fas fa-chevron-right"},Sl=S({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(n,{emit:e}){const t=e,a=l=>{var c;return n.active?n.active.id===l.id:((c=n.crumbs.at(-1))==null?void 0:c.id)===l.id},o=l=>{var c;return((c=n.crumbs.at(-1))==null?void 0:c.id)===l.id};return(l,c)=>(y(),P(s(j),null,{default:b(()=>[m(zs,{name:"fade",tag:"ul"},{default:b(()=>[(y(!0),$(le,null,pe(l.crumbs,v=>(y(),$("li",{key:v.id},[(y(),P(ta(a(v)?"span":"a"),{class:B({active:a(v)}),onClick:r=>t("crumb",v)},{default:b(()=>[U(A(v.label),1)]),_:2},1032,["class","onClick"])),!o(v)||l.crumbs.length===1?(y(),$("i",Cl)):V("",!0)]))),128))]),_:1})]),_:1}))}});const I=(n,e)=>{const t=n.__vccOpts||n;for(const[a,o]of e)t[a]=o;return t},ro=I(Sl,[["__scopeId","data-v-997741c8"]]);function xl(){return!1}const Mt=Ve({id:"walletStore",state:()=>({address:void 0,connected:!1,correctNetwork:!1}),actions:{setAddress(n){this.address=n==null?void 0:n.toLocaleLowerCase()}}}),Al=Bs(),Il=Rs({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",dappUrl:"https://llama.airforce"}),Ml=Es({darkMode:!0}),Ll=Us();let Ae=null;function Pl(){const n=Os({wallets:[Al,Il,Ml,Ll],chains:[{id:"0x1",token:"ETH",label:"Ethereum Mainnet",rpcUrl:"https://mainnet.infura.io/v3/878382a352b14db1b7ad52a89a886207"}],appMetadata:{name:"Llama Airforce",icon:"/wallet-icon.png",description:"Airdropping knowledge bombs about the Curve ecosystem"},theme:"dark"});return n.state.actions.updateAccountCenter({enabled:!1}),n}let Kt=null;async function io(n=!1){Ae||(Ae=Pl());let[e]=Ae.state.get().wallets;if(!e){const t=window.localStorage.getItem("connectedWallet");t?[e]=await Ae.connectWallet({autoSelect:{label:t,disableModals:!0}}):n&&([e]=await(Ae==null?void 0:Ae.connectWallet())??[null],e&&window.localStorage.setItem("connectedWallet",e.label))}Kt=e||null}function Se(){return Kt?new Fs(Kt.provider):void 0}async function Tl(){if(!Ae)return;const[n]=Ae.state.get().wallets;await Ae.disconnectWallet({label:n.label}),window.localStorage.removeItem("connectedWallet")}async function co(n){if(!n)return!1;try{const t=await n.getSigner().getAddress();return!0}catch{return!1}}async function uo(n){if(!n)return!1;try{const{name:e,chainId:t}=await n.getNetwork();return e==="homestead"&&t===1}catch{return!1}}async function Dl(n){return await n.getSigner().getAddress()}function Pe(n,e=6){if(!n)return"0x000...000";const t=e/2+2,a=n.length-e/2;return`${n.substring(0,t)}...${n.substring(a)}`}const Vl=S({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:e}){const t=e,a=async o=>{if(o.stopImmediatePropagation(),n.web3&&xl()){const l=Se();if(!l)return;await uo(l)||(await l.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())}t("click")};return(o,l)=>(y(),$("button",{class:B({primary:o.primary}),onClick:a},[Z(o.$slots,"default",{},()=>[o.icon?(y(),$("i",{key:0,class:B(["icon",[o.icon,{noValue:!!o.value}]])},null,2)):V("",!0),U(" "+A(o.value),1)],!0)],2))}});const ee=I(Vl,[["__scopeId","data-v-b051a687"]]),zl=S({__name:"ButtonToggle",props:{modelValue:{type:Boolean,default:!1},icon:{default:""},value:{default:""}},emits:["update:modelValue"],setup(n,{emit:e}){const t=e,a=()=>{t("update:modelValue",!n.modelValue)};return(o,l)=>(y(),$("button",{class:B({toggled:o.modelValue}),onClick:a},[Z(o.$slots,"default",{},()=>[o.icon?(y(),$("i",{key:0,class:B(["icon",o.icon])},null,2)):V("",!0),U(" "+A(o.value),1)],!0)],2))}});const Re=I(zl,[["__scopeId","data-v-a2cabc6a"]]),Bl={class:"card"},Rl={class:"text"},Ol=S({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(n){return(e,t)=>(y(),$("div",Bl,[e.loading?(y(),P(s(vt),{key:0,class:"loader"})):V("",!0),i("div",{class:B(["card-container",{loading:e.loading}])},[e.title?(y(),$("div",{key:0,class:B(["card-header",{collapsible:e.collapsible}])},[i("div",Rl,[e.icon?(y(),$("i",{key:0,class:B(["icon",e.icon])},null,2)):V("",!0),U(" "+A(e.title),1)]),Z(e.$slots,"actions",{},void 0,!0)],2)):(y(),$("div",{key:1,class:B(["card-no-header",{compact:e.compact}])},null,2)),i("div",{class:B(["card-body",{compact:e.compact,collapsed:e.collapsed}])},[Z(e.$slots,"default",{},void 0,!0)],2)],2)]))}});const j=I(Ol,[["__scopeId","data-v-317ddfe2"]]),Fl=S({__name:"CardGraph",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(n){return(e,t)=>(y(),P(s(j),{class:"card-graph",title:e.title,loading:e.loading},{default:b(()=>[m(s(Lt),{height:"100%",options:e.options,series:e.series},null,8,["options","series"]),Z(e.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"]))}});const ge=I(Fl,[["__scopeId","data-v-4e0fd9b7"]]),El={class:"chip"},Ul={class:"label"},Wl=S({__name:"Chip",props:{label:{default:""}},setup(n){return(e,t)=>(y(),$("div",El,[i("div",Ul,A(e.label),1)]))}});const ql=I(Wl,[["__scopeId","data-v-1eb2caf8"]]),Hl=S({__name:"Code",props:{lang:{},code:{}},setup(n){const e=Gn.component,t=aa(),a=C(function(){return t.default?t.default()[0].children:n.code??""});return(o,l)=>(y(),$(le,null,[m(s(e),{language:o.lang,code:a.value},null,8,["language","code"]),V("",!0)],64))}});const E=I(Hl,[["__scopeId","data-v-4da5765d"]]),Nl={class:"collapsible-inside"},Gl=S({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(n){return(e,t)=>(y(),$("div",{class:B(["collapsible-outside",{expanded:e.expanded}])},[i("div",Nl,[Z(e.$slots,"default",{},void 0,!0)])],2))}});const We=I(Gl,[["__scopeId","data-v-25b74378"]]),Ql={key:1,class:"header"},Yl={key:0,class:"header-icon"},jl={class:"header-actions"},Jl={key:2,class:"list"},Kl=["onClick"],Zl={key:0,class:"sorting-arrows"},Xl={key:0,class:"sorting-arrow fa fa-caret-up"},er={key:1,class:"sorting-arrow fa fa-caret-down"},tr={key:2,class:"sorting-arrow"},ar={class:"rows"},nr={key:3,class:"no-data"},ca=S({__name:"DataTable",props:{columnsHeader:{default:"auto"},columnsData:{default:"auto"},columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},sorting:{type:Boolean,default:!1},sortingColumns:{default:()=>[]},sortingColumnsEnabled:{default:()=>[]},sortingDefaultColumn:{default:null},sortingDefaultDir:{default:null},icon:{default:""},header:{type:Boolean,default:!0},loading:{type:Boolean,default:!1}},emits:["selected","sortColumn"],setup(n,{emit:e}){const t=e,a=L(""),o=L(we.Ascending),l=C(()=>`grid-template-columns: ${n.columnsHeader}`),c=C(()=>{if(n.rowsMin===null)return[];const f=Math.max(0,n.rowsMin-n.rows.length);return new Array(f)});Ws(()=>{n.sortingDefaultColumn&&(a.value=n.sortingDefaultColumn),n.sortingDefaultDir&&(o.value=n.sortingDefaultDir===we.Ascending?we.Ascending:we.Descending)});const v=f=>{t("selected",f)},{t:r}=R(),p=f=>{const w=f+1;return!!(n.rows[f+1]&&n.rows.findIndex(M=>M===n.selectedRow)===w)},d=f=>n.expanded.includes(f),g=f=>{const w=n.sortingColumns[f];return n.sortingColumnsEnabled.includes(w)},_=f=>a.value===n.sortingColumns[f]&&o.value==="Ascending",h=f=>a.value===n.sortingColumns[f]&&o.value==="Descending",u=f=>{if(!n.sorting||!n.sortingColumns||!g(f))return;const w=n.sortingColumns[f];w===a.value?o.value=o.value===we.Ascending?we.Descending:we.Ascending:o.value=we.Ascending,a.value=w,t("sortColumn",a.value,o.value)};return(f,w)=>(y(),$("div",{class:B(["datatable",{loading:f.loading}])},[f.loading?(y(),P(s(vt),{key:0,class:"loader"})):V("",!0),f.header?(y(),$("div",Ql,[f.icon?(y(),$("div",Yl,[i("i",{class:B(f.icon)},null,2)])):V("",!0),i("div",{class:"header-title",style:ye(l.value)},[Z(f.$slots,"header-title",{},void 0,!0)],4),i("div",jl,[Z(f.$slots,"header-actions",{},void 0,!0)])])):V("",!0),f.rowsMin||f.rows&&f.rows.length>0?(y(),$("div",Jl,[i("div",{class:B(["row-data",[f.columnsData,{"selected-below":p(-1)}]])},[Z(f.$slots,"column-headers",{},()=>[(y(!0),$(le,null,pe(f.columns,(k,x)=>(y(),$("div",{key:k,class:B(["column-header",{"sortable-header":f.sorting&&g(x),"current-sort":a.value==f.sortingColumns[x]}]),onClick:M=>u(x)},[U(A(k)+" ",1),f.sorting&&g(x)?(y(),$("div",Zl,[_(x)?(y(),$("i",Xl)):h(x)?(y(),$("i",er)):(y(),$("span",tr," — "))])):V("",!0)],10,Kl))),128))],!0)],2),i("div",ar,[(y(!0),$(le,null,pe(f.rows,(k,x)=>(y(),P(s(Bt),{key:k,data:k,class:B({"selected-below":p(x)}),columns:f.columnsData,selected:f.selectedRow===k,expanded:d(k),onClick:v},{row:b(()=>[Z(f.$slots,"row",{item:k},void 0,!0)]),"row-details":b(()=>[Z(f.$slots,"row-details",{item:k},void 0,!0)]),_:2},1032,["data","class","columns","selected","expanded"]))),128)),(y(!0),$(le,null,pe(c.value,k=>(y(),P(s(Bt),{key:k}))),128)),f.$slots["row-aggregation"]?(y(),P(s(Bt),{key:0,class:"aggregation",columns:f.columnsData},{row:b(()=>[Z(f.$slots,"row-aggregation",{},void 0,!0)]),_:3},8,["columns"])):V("",!0)])])):!f.rowsMin&&!f.loading?(y(),$("div",nr,[Z(f.$slots,"no-data",{},()=>[U(A(s(r)("no-data")),1)],!0)])):V("",!0)],2))}});function $a(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-data":t=>{const{normalize:a}=t;return a(["No data :("])}}})}function ka(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"no-data":t=>{const{normalize:a}=t;return a(["没有数据 :("])}}})}typeof $a=="function"&&$a(ca);typeof ka=="function"&&ka(ca);const ke=I(ca,[["__scopeId","data-v-50e85b9c"]]),or=n=>(oe("data-v-45ff862c"),n=n(),se(),n),sr=or(()=>i("i",{class:"fas fa-chevron-up"},null,-1)),lr=[sr],rr={class:"row-details"},ir=S({__name:"DataTableRow",props:{data:{},columns:{default:"auto"},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1}},emits:["click"],setup(n,{emit:e}){const t=e,a=aa(),o=C(()=>{var v;const c=a["row-details"];if(c){const r=(v=c()[0])==null?void 0:v.children;if(r)return r.length>0}return!1}),l=()=>{t("click",n.data)};return(c,v)=>(y(),$("div",{class:B(["row",{expanded:c.expanded}])},[i("div",{class:B(["row-data item",[c.columns,{active:c.selected,expandable:o.value}]]),onClick:l},[Z(c.$slots,"row",{},void 0,!0),o.value?(y(),$("div",{key:0,class:B(["expander",{expanded:c.expanded}])},lr,2)):V("",!0)],2),m(s(We),{expanded:c.expanded},{default:b(()=>[i("div",rr,[Z(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])],2))}});const Bt=I(ir,[["__scopeId","data-v-45ff862c"]]),cr=S({__name:"GraphApex",props:{options:{},series:{}},setup(n){return(e,t)=>{const a=tt("apexchart");return y(),P(a,{class:"chart",height:"100%",options:e.options,series:e.series},null,8,["options","series"])}}});const Lt=I(cr,[["__scopeId","data-v-3e2879ed"]]),ur=["min","max","value"],dr=S({__name:"InputNumber",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=e,a=o=>{t("update:modelValue",o.target.value)};return(o,l)=>(y(),$("input",{type:"number",min:o.min,max:o.max,value:o.modelValue,onInput:a},null,40,ur))}});const ua=I(dr,[["__scopeId","data-v-097889a4"]]),pr=n=>(oe("data-v-a7ae5e73"),n=n(),se(),n),mr={class:"input-text"},_r={key:0,class:"icon"},vr=pr(()=>i("i",{class:"fas fa-search"},null,-1)),fr=[vr],hr=["type","value","placeholder","onInput"],yr=["onClick"],gr=S({__name:"InputText",props:{modelValue:{},placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},emits:["update:modelValue","input","select"],setup(n,{emit:e}){const t=e,a=C(()=>{const l=n.options.filter(v=>n.filter(n.modelValue,v));return n.sort?[...l].sort(n.sort):l}),o=l=>{const c=l.target.value;t("update:modelValue",c),t("input",c)};return(l,c)=>(y(),$("div",mr,[l.search?(y(),$("span",_r,fr)):V("",!0),i("input",{type:l.search?"search":"text",value:l.modelValue,placeholder:l.placeholder,onInput:De(o,["stop"]),onSelect:c[0]||(c[0]=De(()=>{},["stop"]))},null,40,hr),l.options&&l.autoComplete?(y(),$("div",{key:1,class:B(["items",{selectHide:!l.autoComplete}])},[(y(!0),$(le,null,pe(a.value,(v,r)=>(y(),$("div",{key:r,onClick:p=>t("select",v)},[Z(l.$slots,"item",{item:v,idx:r},()=>[U(A(v),1)],!0)],8,yr))),128))],2)):V("",!0)]))}});const fe=I(gr,[["__scopeId","data-v-a7ae5e73"]]),br={key:0,class:"value"},wr={key:1,class:"value"},$r=["innerHTML"],kr={key:0,class:"value"},Cr={key:1,class:"value"},Sr=["innerHTML"],xr={class:"labels"},Ar={class:"label"},Ir={class:"label-second"},Mr=S({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(n){return(e,t)=>(y(),$("div",{class:B(["kpi",{disabled:!e.hasValue}])},[i("div",{class:B(["value-container",{underline:e.tooltip&&e.tooltipType==="underline"}])},[Z(e.$slots,"default",{},()=>[e.tooltip&&e.tooltipType==="underline"?(y(),P(s(Oe),{key:0},{item:b(()=>[e.hasValue?(y(),$("span",br,A(e.value),1)):(y(),$("span",wr," ? "))]),default:b(()=>[Z(e.$slots,"tooltip",{},()=>[i("span",{innerHTML:e.tooltip},null,8,$r)],!0)]),_:3})):(y(),$(le,{key:1},[e.hasValue?(y(),$("span",kr,A(e.value),1)):(y(),$("span",Cr," ? "))],64))],!0),e.tooltip&&e.tooltipType==="icon"?(y(),P(s(Oe),{key:0},{default:b(()=>[i("span",{innerHTML:e.tooltip},null,8,Sr)]),_:1})):V("",!0)],2),i("div",xr,[Z(e.$slots,"label",{},()=>[i("div",Ar,A(e.label),1)],!0),Z(e.$slots,"label-second",{},()=>[i("div",Ir,A(e.labelSecond),1)],!0)])],2))}});const Ie=I(Mr,[["__scopeId","data-v-0123c061"]]),Lr={key:0,class:"modal"},Pr={class:"modal-popup"},Tr=S({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(n,{emit:e}){const t=e,a=o=>{o.code==="Escape"&&t("close")};return H(()=>{document.addEventListener("keydown",a)}),Qn(()=>{document.removeEventListener("keydown",a)}),D(()=>n.show,o=>{document.body.style.overflow=o?"hidden":""}),(o,l)=>o.show?(y(),$("div",Lr,[i("div",{class:"modal-mask",onClick:l[0]||(l[0]=c=>t("close"))}),i("div",Pr,[Z(o.$slots,"default",{},void 0,!0)])])):V("",!0)}});const po=I(Tr,[["__scopeId","data-v-8f349360"]]),Dr={class:"buttons"},Vr={key:1,class:"not-ready"},da=S({__name:"ModalYesNo",props:{show:{type:Boolean,default:!1},title:{default:""},ready:{type:Boolean,default:!0},readyMsg:{default:""}},emits:["yes","no"],setup(n,{emit:e}){const t=e,{t:a}=R();return(o,l)=>(y(),P(s(po),{show:o.show},{default:b(()=>[m(s(j),{title:o.title},{default:b(()=>[Z(o.$slots,"default",{},void 0,!0),i("div",Dr,[m(s(ee),{class:"no",value:s(a)("no"),onClick:l[0]||(l[0]=c=>t("no"))},null,8,["value"]),o.ready?(y(),P(s(ee),{key:0,class:"yes",value:s(a)("yes"),onClick:l[1]||(l[1]=c=>t("yes"))},null,8,["value"])):(y(),$("div",Vr,A(o.readyMsg),1))])]),_:3},8,["title"])]),_:3},8,["show"]))}});function Ca(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{yes:t=>{const{normalize:a}=t;return a(["Yes"])},no:t=>{const{normalize:a}=t;return a(["No"])}}})}function Sa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{yes:t=>{const{normalize:a}=t;return a(["是的"])},no:t=>{const{normalize:a}=t;return a(["不是"])}}})}typeof Ca=="function"&&Ca(da);typeof Sa=="function"&&Sa(da);const zr=I(da,[["__scopeId","data-v-825b7c02"]]),pa=n=>(oe("data-v-6ab859e6"),n=n(),se(),n),Br=pa(()=>i("button",null,"1",-1)),Rr=[Br],Or=pa(()=>i("button",null,[i("i",{class:"fas fa-chevron-left"})],-1)),Fr=[Or],Er=["onClick"],Ur=pa(()=>i("button",null,[i("i",{class:"fas fa-chevron-right"})],-1)),Wr=[Ur],qr=S({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(n,{emit:e}){const t=e,a=C(()=>Math.ceil(n.itemsCount/n.itemsPerPage)),o=C(()=>{const g=[...Array(12).keys()].map(k=>k-6+n.page).filter(k=>k>=1&&k<=a.value),_=g.findIndex(k=>k===n.page),h=[],u=[],f=n.page!==1&&n.page!==a.value?[n.page]:[];let w=1;for(;;){const k=g[_-w];if(k&&k!==1&&h.unshift(k),h.length+u.length+f.length>=5||w>g.length)break;const x=g[_+w];if(x&&x!==a.value&&u.push(x),w++,h.length+u.length+f.length>=5||w>g.length)break}return[...h,...f,...u]}),l=(p,d,g)=>Math.min(Math.max(p,d),g),c=()=>t("page",l(n.page-1,1,a.value)),v=()=>t("page",l(n.page+1,1,a.value)),r=p=>t("page",l(p,1,a.value));return(p,d)=>(y(),$("ul",null,[i("li",{class:B({active:p.page===1}),onClick:d[0]||(d[0]=g=>r(1))},Rr,2),a.value>2?(y(),$("li",{key:0,onClick:c},Fr)):V("",!0),(y(!0),$(le,null,pe(o.value,g=>(y(),$("li",{key:g,class:B({active:g===p.page}),onClick:_=>r(g)},[i("button",null,A(g),1)],10,Er))),128)),a.value>2?(y(),$("li",{key:1,onClick:v},Wr)):V("",!0),a.value>1?(y(),$("li",{key:2,class:B({active:p.page===a.value}),onClick:d[1]||(d[1]=g=>r(a.value))},[i("button",null,A(a.value),1)],2)):V("",!0)]))}});const at=I(qr,[["__scopeId","data-v-6ab859e6"]]),Hr=n=>(oe("data-v-8e55132f"),n=n(),se(),n),Nr={class:"select"},Gr={class:"item"},Qr={key:0,class:"label"},Yr=["onClick"],jr=Hr(()=>i("div",{class:"chevrons"},[i("i",{class:"fas fa-chevron-up"}),i("i",{class:"fas fa-chevron-down"})],-1)),Jr=S({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(n,{emit:e}){const t=e;return(a,o)=>(y(),$("div",{class:"select-container",tabindex:"0",onClick:o[0]||(o[0]=De(l=>t("open"),["stop"])),onBlur:o[1]||(o[1]=l=>t("close"))},[i("div",Nr,[i("div",{class:B(["selected",{open:a.open}])},[Z(a.$slots,"item",{item:a.selected},()=>[i("div",Gr,A(a.selected),1)],!0),a.label?(y(),$("div",Qr,A(a.label),1)):V("",!0)],2),i("div",{class:B(["items",{selectHide:!a.open}])},[(y(!0),$(le,null,pe(a.options,(l,c)=>(y(),$("div",{key:c,onClick:v=>t("input",l)},[Z(a.$slots,"item",{item:l},()=>[U(A(l),1)],!0)],8,Yr))),128))],2)]),jr],32))}});const qe=I(Jr,[["__scopeId","data-v-8e55132f"]]),Kr={class:"item"},Zr={class:"label"},xa="locale",mo=S({__name:"SelectLanguage",props:{locales:{default:()=>ei},direction:{default:"up"}},setup(n){const{t:e}=R(),{locale:t}=R({useScope:"global"}),a=L("en"),o=L(!1);H(()=>{const v=localStorage.getItem(xa);v&&n.locales.some(r=>r===v)&&c(v)});const l=()=>{o.value=!o.value},c=v=>{a.value=v,t.value=a.value,localStorage.setItem(xa,a.value)};return(v,r)=>(y(),P(s(qe),{class:B(["select",{"direction-up":v.direction==="up"}]),options:v.locales.map(p=>p),selected:a.value,open:o.value,onOpen:l,onClose:r[0]||(r[0]=p=>o.value=!1),onInput:c},{item:b(p=>[i("div",Kr,[i("div",Zr,A(s(e)(p.item)),1)])]),_:1},8,["class","options","selected","open"]))}});function Aa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{en:t=>{const{normalize:a}=t;return a(["English"])},zh:t=>{const{normalize:a}=t;return a(["中文"])},fr:t=>{const{normalize:a}=t;return a(["Français"])}}})}typeof Aa=="function"&&Aa(mo);const Xr=I(mo,[["__scopeId","data-v-8b3337a5"]]),ei=["en","zh","fr"],ti=["min","max","value"],ai=S({__name:"Slider",props:{modelValue:{},min:{},max:{}},emits:["update:modelValue"],setup(n,{emit:e}){const t=e,a=o=>{t("update:modelValue",o.target.value)};return(o,l)=>(y(),$("input",{type:"range",min:o.min,max:o.max,value:o.modelValue,onInput:a},null,40,ti))}});const _o=I(ai,[["__scopeId","data-v-d52b357b"]]);var we=(n=>(n.Ascending="Ascending",n.Descending="Descending",n))(we||{});const ni={},vo=n=>(oe("data-v-ad2adcec"),n=n(),se(),n),oi={class:"lds-ripple"},si=vo(()=>i("div",null,null,-1)),li=vo(()=>i("div",null,null,-1)),ri=[si,li];function ii(n,e){return y(),$("div",oi,ri)}const vt=I(ni,[["render",ii],["__scopeId","data-v-ad2adcec"]]),ce=S({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(n){return(e,t)=>Z(e.$slots,"default")}}),ci={class:"tab-view"},ui={class:"tab-headers"},di=["onClick"],pi={class:"tabs"},mi=S({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(n,{emit:e}){const t=e,a=L(null),o=aa(),l=C(()=>o!=null&&o.default?o.default():[]);D(()=>n.active,v=>{a.value=v,t("tab",{tab:l.value[v],index:a.value})},{immediate:!0});const c=(v,r)=>{v.props.disabled||(a.value=r,t("tab",{tab:l.value[r],index:a.value}))};return(v,r)=>(y(),$("div",ci,[i("ul",ui,[(y(!0),$(le,null,pe(l.value,(p,d)=>(y(),$("li",{key:d,class:B(["tab-header",{active:a.value===d,disabled:p.props.disabled}]),onClick:g=>c(p,d)},A(p.props.header),11,di))),128))]),i("div",pi,[(y(!0),$(le,null,pe(l.value,(p,d)=>qs((y(),$("div",{key:d,class:"tab"},[(y(),P(ta(p)))])),[[Hs,a.value===d]])),128))])]))}});const lt=I(mi,[["__scopeId","data-v-4a99a489"]]),_i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",vi={key:1,src:_i},fi=S({__name:"Tooltip",props:{icon:{default:""}},setup(n){const e=L(!1);return(t,a)=>(y(),P(s(Ns),{class:"tooltip",show:e.value},{content:b(()=>[Z(t.$slots,"default",{},void 0,!0)]),default:b(()=>[i("div",{onMouseover:a[0]||(a[0]=o=>e.value=!0),onMouseleave:a[1]||(a[1]=o=>e.value=!1)},[Z(t.$slots,"item",{},()=>[t.icon?(y(),$("i",{key:0,class:B(t.icon)},null,2)):(y(),$("img",vi))],!0)],32)]),_:3},8,["show"]))}});const Oe=I(fi,[["__scopeId","data-v-2158cb4b"]]);function re(n,e){const t=L(!1),a=L(e);let o=0;const l=()=>(o++,t.value=!0,$l(async()=>{a.value=await n(),o--,t.value=o!==0}));return H(()=>void l()),{loading:t,data:a,loadData:l}}function fo(){const n=L([]);return{expanded:n,toggleExpansion:t=>n.value.includes(t)?(n.value=n.value.filter(a=>a!==t),!1):(n.value.push(t),!0)}}function hi(n,e){const a=Math.round(n.value/1e3)-e;return a<60?`${Math.round(a)} seconds ago`:a<60*60?`${Math.round(a/60)} minutes ago`:a<60*60*24?`${Math.round(a/(60*60))} hours ago`:`${Math.round(a/(60*60*24))} days ago`}function ma(){const n=L(Date.now());return H(()=>{setInterval(()=>{n.value=Date.now()})}),{relativeTime:t=>hi(n,t)}}function yi(n,e){const t=L(n),a=L(e??we.Descending);return{sortColumn:t,sortOrder:a,onSort:(l,c)=>{t.value=l,a.value=c}}}function _a(n,e){const t=L(1),a=C(()=>z.chain(n.value).drop((t.value-1)*e).take(e).value()),o=l=>{t.value=l};return D(a,l=>{l.length===0&&(t.value=Math.max(1,Math.ceil(n.value.length/e)))}),{page:t,rowsPage:a,onPage:o}}const gi={class:"legend"},bi=["onClick"],wi={class:"label"},$i=S({__name:"Legend",props:{colors:{},items:{},clickable:{type:Boolean,default:!1},disabled:{default:()=>[]}},emits:["click"],setup(n,{emit:e}){const t=e,a=o=>n.colors[o];return(o,l)=>(y(),$("div",gi,[(y(!0),$(le,null,pe(o.items,(c,v)=>(y(),$("div",{key:c,class:B(["item",{clickable:o.clickable,disabled:o.disabled.includes(c)}]),onClick:r=>{o.clickable&&t("click",c)}},[i("div",{class:"color",style:ye({"background-color":a(v)})},null,4),i("div",wi,A(c),1)],10,bi))),128))]))}});const Ge=I($i,[["__scopeId","data-v-b0a9ca48"]]);function Rt(n){return(n==null?void 0:n.children)!==void 0}function Ia(n){return(n==null?void 0:n.to)!==void 0}const ki={key:0},Ci={class:"nav-link-container"},Si={class:"nav-link-container"},xi={class:"left"},Ai={class:"right"},Ii=S({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(n,{emit:e}){const t=e,a=He(),o=L(!0),l=C(()=>Ia(n.item)?[n.item]:Rt(n.item)?n.item.children:[]),c=()=>{Rt(n.item)&&n.item.children.filter(p=>Ht(p.to,a)).length>0&&(o.value=!0)};D(()=>n.item,()=>{c()},{immediate:!0}),D(()=>a.fullPath,()=>{c()},{immediate:!0});const v=()=>{o.value=!o.value};return(r,p)=>{const d=tt("router-link");return y(),$(le,null,[s(Rt)(r.item)?(y(),$("li",ki,[i("a",{class:"nav-link node",onClick:v},[i("div",Ci,[U(A(r.item.label)+" ",1),i("i",{class:B(["expander fas fa-chevron-up",{expanded:o.value}])},null,2)])])])):V("",!0),m(s(We),{class:"items",expanded:o.value},{default:b(()=>[i("ul",null,[(y(!0),$(le,null,pe(l.value,g=>(y(),$("li",{key:g.label},[s(Ia)(g)?(y(),P(d,{key:0,to:g.to,class:B(["nav-link leaf",{"router-link-active":s(Ht)(g.to,s(a))}]),onClick:p[0]||(p[0]=_=>t("navigated"))},{default:b(()=>[i("div",Si,[i("div",xi,A(g.label),1),i("div",Ai,[g.tag==="beta"?(y(),P(s(ql),{key:0,label:"BETA"})):V("",!0)])])]),_:2},1032,["to","class"])):V("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}});const Mi=I(Ii,[["__scopeId","data-v-d8ba8816"]]),Li=S({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(n,{emit:e}){const t=e,a=He(),o=C(()=>n.pages.find(c=>Ht(c.titleRoute,a))),l=C(()=>{var c;return((c=o.value)==null?void 0:c.menuItems)??[]});return(c,v)=>(y(),$("nav",null,[(y(!0),$(le,null,pe(l.value,r=>(y(),$("ul",{key:r.label},[m(Mi,{item:r,onNavigated:v[0]||(v[0]=p=>t("navigated"))},null,8,["item"])]))),128))]))}});const Pi=I(Li,[["__scopeId","data-v-59493144"]]),Ti="/assets/crv-ca6314ed.png",Di="/assets/hat-80c6c9b1.png";const Vi={},ho=n=>(oe("data-v-20a1bb61"),n=n(),se(),n),zi={class:"logo"},Bi=ho(()=>i("div",{class:"visual"},[i("img",{src:Ti}),i("img",{src:Di})],-1)),Ri=ho(()=>i("span",null,"curve.monitor",-1)),Oi=[Bi,Ri];function Fi(n,e){return y(),$("div",zi,Oi)}const Ei=I(Vi,[["render",Fi],["__scopeId","data-v-20a1bb61"]]),Ui={class:"header"},Wi={class:"buttons"},qi=S({__name:"Header",emits:["toggle-expansion","navigated"],setup(n,{emit:e}){const t=e;return(a,o)=>{const l=tt("router-link");return y(),$("div",Ui,[m(l,{class:"logo",to:"/",onClick:o[0]||(o[0]=c=>t("navigated"))},{default:b(()=>[m(Ei,{class:"logo"})]),_:1}),i("div",Wi,[m(s(ee),{icon:"fas fa-bars",onClick:o[1]||(o[1]=c=>t("toggle-expansion"))})])])}}});const Hi=I(qi,[["__scopeId","data-v-02982544"]]),Ni="data:image/gif;base64,R0lGODdhbwEWANUAAAAAAP/vAP/3AO/WAL2tAP/3rf/3nP/3MbWlAO/eAMa1APfnAAgAAN7OAEpCABAQAJycnCEYAK2trSkpAIx7AFpSAEI5AIR7ADExMdbGAJSEAJyMADk5APfnMXNjAKWUAK2cAGNaAHtzAHNrADk5OSkpKWNSAJycraWlnP//nMa1CMa9nN7WrVpaMYSEhOfWMb21GO/nrUpCMb21MbWtMZyUMca9ra2lCN7WnIR7MVpaWkpCEJyUGCkhCM7GnAAAACwAAAAAbwEWAAAG/0CIcEgsClGGpHK5TBlQRqOPSVWmcNWsdsvter/gsHhMLpvP3KgasnJyV+shspuCHyX4vD5/YhX+gIGCNid7e4WCiYExEoqOj5CRkpOUlZaXmJmam5yRhp8SiJIshaB4fZOMEhAnOiUYsLGyGCU1Bx0Hube6vAc5r7OyJS24usW5xwcvMiXHyca90bzPvdS70NPS1dnXyNrc29LW3t/k0dbU48nr4OXu4+3Y3yTBwcO4ztEzwPW0GDTtji17BUECCQAIEypEOGFAgIcQI0bcsLAigAcKJGqEuMABAAYSFwwYObLBQ5EkA5BM+XClypUOBywISTKBTJcBUJLUubGnyv8GI39KHNCgqEaYDnPibFkU6MuXM2GifOly5MyIQGG2ZImV6FaUOq2KRaqxqUmJWYOeXPqQgcWFGAX4fNggwluFFeZGNJGw4MG7CDPqfajALWAAH+QODuABIQPFD0HAVSBAMkINAfgmZEBAQIMJDANQUMjZggMNCSASMIyQAOjWohdmQMiBQtK5Cjx+uBDhgoO8LSk8cFDYAgiInxVGSCBAwQOEISB+mPCAQIUHJiZ0fu4ABGsNjQEMqKCw+0UHGyAOsKvwgoABzwE4iAhiAgMFFSxQ4ACCAMINISQ0QWEAjPABXBlAlAFfIlBUgWABKLDQfAKMhtAHEh12IWQ+eXT/WEOLUdSXQYddsFgAdWkoAodzabCZRAKIoFB6D8noQUseImTBAs09EEEGAnS0WQMgcHcWYwohMMAFzxHwEAcKDfCBYRzcttEFbnkwk4sAADcAaAw0UCFCIij4GkIjPOSiA6khyQACASTQ2AMICPDcBgT+txoACWRwpgMDyIgQcBEqxMFDAiDAwARnCQlAeuNduFpD5DHUQGM3BugYhg8R8BwHM3n0wHGRxYdQnQuQl6ZErL214mCCAsYZixs5p5BfgHHQpl4JWKChA1fplWirMB6YkJMtxRWAZ+xtKIADI8gV45ABQCnfTGMmBIIAAhwI57MKJbCAr2TS+hACxyIq/yNwHj7A7Z6IIWoZQnEJEEGdhQLAgWICeDDrAxMIAO+jAgQoLrnXJrCZYAon5AC/Fpj4UHgRmMStrx9ImFiOEySgsAcCcHkRZSiyF222GKmrHI8ZLKdRqxUBO5ixh1FgbkgII4TrW8oOpilgFd8ckQAtkwajiKdClMADQCI6gkIdPyuxAE87ZhLCdWZ7KrcLTJB1juI52qVP1gKAbJwMVJBoQu4KbJjLOYGttr2dTfsfj0QDUOcD0Q68gQAUeVw2mw1fJlcD5UHmAAXLFg1ABANIu9oH/kVe6eMOTWBCyAvLVTUAIAtwQULRxQmfQja3vCtEMCt3pE+OAybzYJ+P+P+XRa/CquGsi325EEhDi6y30kxL+0F9CoHsQJkTU1t2dFrrHTJq2II9QAI5glwra2cHUMHDl7c9sJNUD8zAtvfK9bN8H0SuAZAPup2QBp4B22tCOw6w2bYqJQ7R4tyyEAAYxZEIfCADWgoAxyJHAZsJ8D5BMtXJRueY1AxAAzR7XFEgp5G7vEloLSnbXYI2mHndikQWscCJvKMhmy0mVRUBHkQAp5CzwSdByxKBB/zDtgRUgHn9ohbCdhQ9BCwgAidbFtgORi+SwUh43WsAZUwlPoWsSAD8oSBtjlg3ASYkAvTjl8BmJK33DG4BhetYS/z3EAB674tiQlQGmiaXyzH/ilvLEmBc8gQ6bmlRel3LTfJU97K3uGcwl/NgZwaTAVOd8HaGspJPknMYQg0GaQs5WpKIR0cR7CiRFdgAZpb1uTBVSyFi8iIBoBQtRFmvSAOEEIwS2T1unY5e72JNCLjFgQsk4EwA0MAF8NUAR5JuaH6LyP0Q4oAGULACcUQRGxVos3HBcWgcyhEHIfJAyqArIaH7498CyUe9heB1y2qdfAbDuRaC8CTAfGQMu+cTsd0FROws54uGhkk4PWRpJBPdwzLQKgQIJohWC0DOUlnD0bRSiQohKAAs8AHmbARc6RraLS+SS9JdzGaY/NFBbVWRvyFqYPRTGsIcgIDnVMCf/2t0mOIYl4CyEbAnArDjkbRWnbUlZIJkPCJl1kccSQagddvEjTEtMru5FOwuO7PiO5t3mJ7phZIxfGINiRfHGM0nAH+0wK5KaZKyMYA5XqyTBZKIUYQkAF4TaBqM1kfPh1DxXe1ZVm3kkrPS5WQBDQiBMSsQLEUlxKT/PKPIZoc4mf6vmghL6kYWGJFuNkchQE0IqiJAmRRpi1YxdKJPfPeh1flEA+rUGQoTcqipCu8uKR3MAHL2O01qVj1MQ5RvlvVLhXAKSQlFGGGL2BwCJMBiSxTbLjVSGe5FBI05ZZtcxvdRbvFRWSLYHNFE0CyxnnRGERnAGQtHsP45to02Q/+oBiGzgGC9kSFW0iNljghOP24mNULllvAm4N62LMSFelnfW3401W9CdbUfkSVOB3YX7S0mPHexbdJask2BYiuDUyPrKf8TwCRxC4vptZ7YLPlcU3WPApsz8AOWBS+XYXFqEP6g95bzYcf5VX6XmeEyJ+oxhaRUf+dVKIZwfNOHhOC3ba3YDB9Yt8+FMyHAESpEyvYAo7aKxD157VsSI9tmvSWqAADwXGJ3Fzad6I8WkaG8nJvHgKkLVFNOCONI6TxmYkt4WTsQ49rKpxETwKiiS8hBP5NSconPMOnhZe4GYJhZPRXAAiAX/1jMGi6fZKUiaU8DPNashy1LAXFVjIf/SCiw3ELEjrdp58gOZ5iTCZAyAkhABBYZAAPDLSKsaQgIS62h5Q4GbF9ebVMn6eW35GWqsTnMY0LysxC0VwM9S87ZZoMQFw4gR2GCJZsUsz4EOPM5KRVhRiD8AFNuRDPOXgAIIkAo3z1ATBTMnaeKLCLeBYgBGpjJugFwSIhg8gLB8hNrG2BNx4i1W/EhIAGQyK8GWCs9CRBObFUSWQgtIMak4jWcPXI+xYzOzEZGiGQfwjbR9gSr9+xvT9Ac7L9w9p0FB4yuF9PS3fUEecFkEr5yUqkqQyQ8Jgo02wjwGxDwqFOtco2chf7F45LrXnP5AJQ2wCSA61g4xHmAcZDz/xoV8tZXH+zXbwp0IAvAlDBe7njcFpIXBbCHA3RUgGYc4CmrX90uuYF6RGo3wKu8lsCNC5AIXBQ/Spfr03a59UmewwDE1hPYFrGqTzylIQDg6uWDgfBderoYz2roonJZgAIIfnSOiMu0HkMUGk+P32VJxGOrj/XpTwL72R8uA6UHfZyKEjkY5SQry2Iv7Ge4eo7wiCjHdf0M41R7cZkejdBf1gIygM7QNwD3qaFVkICSAYs+t/ltCtLpiz/DWGcFj0qDPr/IL5Hn+HUuLLfIxEcrQsD4hQHdvx5SiDISL94F4DZBElmRFkRBWx4UgEhhEx6zfwx4PQg4Egr4gBKof/8BWIE1cYEQ+IACeD2bBoEOuH8IqIEYqH8fiIEKCBMd+IEnSIIsSIEeuIItCBMV6DEWWBMhWIMwyII0OIIaGIFIUUwP0D4rMYBEsQAZVGY72IADIGCAgQIu0AMbQABSiAAIQABUaIVSqACxIjsKUIVXWIVSOIVSGE+HgYVeaIVnCIZpaIZmmIZrSIVfiIZtyIZw6IZvKIdgGIZi6IVu2IZx+IZnSId4OIh7KIh8OIeAWIeGiIWGeIh3+IV9aId2uIiOSABFQndyqIdZuAGppRz9UYhryHeH4QIFogAEYIqoeIp6uAFLVRHaoYqqaIqxeIqJVHmzeIsKkIqzKIu6mIpRvBiLvYiLsOiLWTiMwiiLxfiLyAiLx5iMzMiMwaiMxiiN0niLWUiMzViMYYiN0TiNzmiNzViNKnADO8ADMKAC5/iMXUiGFnEBuRiOrFh5CREEADs=",Gi=n=>(oe("data-v-2a3f89a0"),n=n(),se(),n),Qi={class:"buttons"},Yi=Gi(()=>i("i",{class:"fas fa-trash"},null,-1)),ji=["innerHTML"],va=S({__name:"WalletConnectButton",emits:["connected"],setup(n,{emit:e}){const{t}=R(),a=e,o=Mt(),l=async()=>{await io(!0);const v=Se(),r=await co(v);o.connected=r,r&&a("connected")},c=()=>{window.localStorage.removeItem("connectedWallet")};return(v,r)=>(y(),$("div",Qi,[m(s(ee),{class:"button",primary:!0,onClick:l},{default:b(()=>[U(A(s(t)("connect-your-wallet")),1)]),_:1}),m(s(Oe),{class:"tooltip"},{item:b(()=>[m(s(ee),{class:"button clear",onClick:c},{default:b(()=>[Yi]),_:1})]),default:b(()=>[i("div",{class:"ping",innerHTML:s(t)("clear-cache")},null,8,ji)]),_:1})]))}});function Ma(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["Connect Wallet"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>Clear Cache</b><br /> Press this button to possibly solve the issue of a non-working connect button.<br /> This problem often occurs when you switch between wallet extensions in your browser.<br /> Try to connect again after pressing this button."])}}})}function La(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"zh",resource:{"connect-your-wallet":t=>{const{normalize:a}=t;return a(["连接你的钱包"])},"clear-cache":t=>{const{normalize:a}=t;return a(["<b>清除缓存</b><br /> 按下这个按钮，可能会解决连接按钮不工作的问题.<br /> 这个问题经常发生在你在浏览器中切换钱包扩展时.<br /> 按下这个按钮后，尝试再次连接."])}}})}typeof Ma=="function"&&Ma(va);typeof La=="function"&&La(va);const Ji=I(va,[["__scopeId","data-v-2a3f89a0"]]),Ki={class:"wallet"},Zi={key:0,class:"connected"},Xi={key:0,class:"incorrectNetwork"},ec={class:"info"},tc={key:1,class:"notConnected"},ac={key:0,class:"info"},yo=S({__name:"Wallet",props:{labelPleaseConnect:{}},setup(n){const{t:e}=R(),t=Mt(),a=C(()=>t.connected),o=C(()=>t.correctNetwork),l=C(()=>Pe(t.address));H(async()=>{await io();const r=Se(),p=await co(r);t.connected=p;const d=await uo(r);t.correctNetwork=d}),D(()=>t.connected,async r=>{const p=Se(),d=p&&r?await Dl(p):void 0;t.setAddress(d)},{immediate:!0});const c=async()=>{const r=Se();r&&(await r.send("wallet_switchEthereumChain",[{chainId:"0x1"}]),window.location.reload())},v=async()=>{await Tl(),t.connected=!1};return(r,p)=>(y(),$("div",Ki,[a.value?(y(),$("div",Zi,[o.value?V("",!0):(y(),$("div",Xi,[m(s(ee),{class:"changeNetwork",value:"Change Network",primary:!0,onClick:c}),i("span",ec,A(s(e)("incorrect-network")),1)])),m(s(ee),{class:"disconnect",icon:"fas fa-check",value:l.value,onClick:v},null,8,["value"])])):(y(),$("div",tc,[m(Ji),r.labelPleaseConnect?(y(),$("span",ac,A(r.labelPleaseConnect),1)):V("",!0)]))]))}});function Pa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"incorrect-network":t=>{const{normalize:a}=t;return a(["You are not on the correct network; should be Ethereum"])}}})}typeof Pa=="function"&&Pa(yo);const nc=I(yo,[["__scopeId","data-v-7d2ec4f7"]]),Je={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},oc=[Je.blue,Je.yellow,Je.green,Je.red,Je.purple],Ke={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},sc=[Ke.blue,Ke.yellow,Ke.green,Ke.red,Ke.purple],Ze={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},lc=[Ze.blue,Ze.yellow,Ze.green,Ze.red,Ze.purple];function W(n){return n==="chad"?Ze:n==="light"?Ke:Je}function te(n){return n==="chad"?lc:n==="light"?sc:oc}const G=Ve({id:"settingsStore",state:()=>({theme:"light"})}),rc={class:"theme"},ic={class:"label"},cc={class:"colors"},uc=S({__name:"SelectTheme",setup(n){const e=[{id:"chad",colors:W("chad")},{id:"dark",colors:W("dark")},{id:"light",colors:W("light")}],t=G(),a=L(e[0]),o=L(!1);H(()=>{const v=window.matchMedia("(prefers-color-scheme: dark)").matches,r=localStorage.getItem("theme");if(!r&&v)c(e.find(p=>p.id==="dark"));else{const p=e.find(d=>d.id===r)??e.find(d=>d.id==="light")??e[0];c(p)}});const l=()=>{o.value=!o.value},c=v=>{a.value=v,window.document.documentElement.setAttribute("data-theme",a.value.id),t.theme=a.value.id,localStorage.setItem("theme",a.value.id)};return(v,r)=>(y(),P(s(qe),{class:"select direction-up",options:e.map(p=>p),selected:a.value,open:o.value,onOpen:l,onClose:r[0]||(r[0]=p=>o.value=!1),onInput:c},{item:b(p=>[i("div",rc,[i("div",ic,A(p.item.id),1),i("div",cc,[i("div",{class:"color",style:ye({"background-color":p.item.colors.backgroundColor})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.level1})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.level2})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.blue})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.yellow})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.green})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.red})},null,4),i("div",{class:"color",style:ye({"background-color":p.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"]))}});const dc=I(uc,[["__scopeId","data-v-e1d0d9c3"]]),pc=n=>(oe("data-v-2aa2a20b"),n=n(),se(),n),mc={class:"bottom"},_c=pc(()=>i("div",{class:"wip"},[i("img",{src:Ni}),U(" for real though issa WIP ")],-1)),vc={class:"buttons"},fc={href:"https://twitter.com/0xAlunara",target:"_blank"},hc={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},yc={class:"selectors"},gc=S({__name:"Bottom",emits:["navigated"],setup(n,{emit:e}){const t=e,a=async()=>{await navigator.clipboard.writeText(window.location.href)};return(o,l)=>{const c=tt("router-link");return y(),$("div",mc,[_c,i("div",vc,[m(s(ee),{class:"copy",icon:"fas fa-link",onClick:a}),i("a",fc,[m(s(ee),{icon:"fab fa-twitter"})]),i("a",hc,[m(s(ee),{icon:"fab fa-github"})]),m(c,{to:"/code"},{default:b(()=>[m(s(ee),{icon:"fas fa-code",onClick:l[0]||(l[0]=v=>t("navigated"))})]),_:1})]),i("div",yc,[m(dc,{class:"themes"}),m(s(Xr),{class:"langs",locales:["en"]})]),m(nc)])}}});const bc=I(gc,[["__scopeId","data-v-2aa2a20b"]]),fa=Ve({id:"pageStore",state:()=>({pages:[]})}),wc=S({__name:"Navigation",emits:["navigated"],setup(n,{emit:e}){const t=e,a=fa(),o=L(!1),l=()=>{o.value=!1,t("navigated")};return(c,v)=>(y(),$("div",{class:B(["menu-desktop",{expanded:o.value}])},[m(Hi,{onToggleExpansion:v[0]||(v[0]=r=>o.value=!o.value),onNavigated:l}),m(s(We),{class:"menu-content",expanded:o.value},{default:b(()=>[m(s(Pi),{pages:s(a).pages,onNavigated:l},null,8,["pages"]),m(bc,{onNavigated:l})]),_:1},8,["expanded"])],2))}});const $c=I(wc,[["__scopeId","data-v-138f47e8"]]),ha=Ve({id:"breadcrumbStore",state:()=>({crumbs:[],show:!1})}),kc={class:"root"},Cc={class:"main"},Sc={class:"content"},xc=S({__name:"App",setup(n){const e=ha(),t=He(),a=st();D(()=>t.fullPath,l=>{l.includes("crvusd")||(e.show=!1)});const o=async l=>{l.pathName&&await a.push({name:l.pathName})};return(l,c)=>{const v=tt("notifications"),r=tt("router-view");return y(),$("div",kc,[m(v,{width:600,duration:-1}),m($c,{class:"navigation"}),i("main",Cc,[m(wa,{name:"fade",mode:"out-in"},{default:b(()=>[s(e).show?(y(),P(s(ro),{key:0,class:"breadcrumb",crumbs:s(e).crumbs,onCrumb:o},null,8,["crumbs"])):V("",!0)]),_:1}),i("div",Sc,[m(r,null,{default:b(({Component:p})=>[m(wa,{name:"fade",mode:"out-in"},{default:b(()=>[(y(),P(ta(p)))]),_:2},1024)]),_:1})])])])}}});const Ac=I(xc,[["__scopeId","data-v-04f4b2f7"]]),Ic="/assets/404-3a4df870.png",Mc=n=>(oe("data-v-c157f3ee"),n=n(),se(),n),Lc={class:"not-found"},Pc={class:"not-found-container"},Tc=Mc(()=>i("img",{src:Ic},null,-1)),go=S({__name:"NotFound",setup(n){const{t:e}=R();return(t,a)=>(y(),$("div",Lc,[i("div",Pc,[m(s(j),null,{default:b(()=>[U(A(s(e)("404")),1)]),_:1}),Tc])]))}});function Ta(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{404:t=>{const{normalize:a}=t;return a(["Where are you going, pilot? Page not found, please return home fren."])}}})}typeof Ta=="function"&&Ta(go);const Dc=I(go,[["__scopeId","data-v-c157f3ee"]]),Vc={class:"contracts"},zc={class:"row"},Bc=["href"],Rc=["href"],bo=S({__name:"Code",setup(n){const{t:e}=R(),o=[{name:"Llama Airforce",contracts:[{contract:ia,description:"multisig",gnosis:!0},{contract:fl,description:"treasury",gnosis:!0},{contract:hl,description:"treasury-arbitrum",network:"arbitrum",gnosis:!0}]},{name:"veFunder",contracts:[{contract:eo,description:"gauge-factory"},{contract:to,description:"gauge-controller"}]}],l=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"}],c=v=>{switch(v.network){case"arbitrum":return v.gnosis?`https://app.safe.global/arb1:${v.contract}`:`https://arbiscan.io/address/${v.contract}`;case"ethereum":default:return v.gnosis?`https://app.safe.global/eth:${v.contract}`:`https://etherscan.io/address/${v.contract}`}};return(v,r)=>(y(),$("div",Vc,[i("div",zc,[m(s(ke),{class:"datatable-repositories","columns-data":"repositories-columns-data",rows:l,columns:[s(e)("repository"),s(e)("description")]},{"header-title":b(()=>[i("div",null,A(s(e)("repositories")),1)]),row:b(p=>[i("div",null,[i("a",{href:p.item.url,target:"_blank"},A(p.item.name),9,Bc)]),i("div",null,A(s(e)(p.item.description)),1)]),_:1},8,["columns"])]),(y(),$(le,null,pe(o,(p,d)=>m(s(ke),{key:d,class:"datatable-contracts","columns-header":"1fr","columns-data":"contracts-columns-data",rows:p.contracts,columns:[s(e)("contract"),s(e)("description")]},{"header-title":b(()=>[i("div",null,A(s(e)(p.name)),1)]),row:b(g=>[i("div",null,[i("a",{href:c(g.item),target:"_blank"},A(g.item.contract),9,Rc)]),i("div",null,A(s(e)(g.item.description)),1)]),_:2},1032,["rows","columns"])),64))]))}});function Da(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{repositories:t=>{const{normalize:a}=t;return a(["Repositories"])},repository:t=>{const{normalize:a}=t;return a(["Repository"])},description:t=>{const{normalize:a}=t;return a(["Description"])},contract:t=>{const{normalize:a}=t;return a(["Contract"])},other:t=>{const{normalize:a}=t;return a(["Other"])},"repo-laf":t=>{const{normalize:a}=t;return a(["This website's front-end, excluding the Union"])},"repo-graphs":t=>{const{normalize:a}=t;return a(["The Graph subgraphs related to Curve, Convex, Votium and more"])},multisig:t=>{const{normalize:a}=t;return a(["Multisig"])},treasury:t=>{const{normalize:a}=t;return a(["Treasury"])},"treasury-arbitrum":t=>{const{normalize:a}=t;return a(["Treasury Arbitrum"])},"gauge-factory":t=>{const{normalize:a}=t;return a(["Gauge Factory"])},"gauge-controller":t=>{const{normalize:a}=t;return a(["Gauge Controller"])}}})}typeof Da=="function"&&Da(bo);const Oc=I(bo,[["__scopeId","data-v-1ccda060"]]);function Fc(){const n=fa(),e=[{path:"/code",component:Oc},...n.pages.flatMap(a=>a.routes),{path:"/:pathMatch(.*)*",name:"NotFound",component:Dc}];return Gs({history:Qs(),routes:e})}const de={blue:"rgb(32, 129, 240)",yellow:"rgb(255, 204, 0)",green:"rgb(126, 217, 87)",red:"rgb(255, 87, 87)",purple:"rgb(140, 82, 255)",backgroundColor:"#212124",level1:"#212124",level2:"#27272a",level3:"#303034",level4:"#35353b",level5:"#71717a",level6:"#aea8af",text:"#fafafa"},Ec=[de.blue,de.yellow,de.green,de.red,de.purple],Uc=n=>(oe("data-v-fa8a7ca8"),n=n(),se(),n),Wc={class:"colors"},qc={class:"dashboard"},Hc=Uc(()=>i("div",null,"Colors",-1)),Nc=S({__name:"Colors",setup(n){const e=[{variable:"var(--c-lvl0)",value:de.backgroundColor},{variable:"var(--c-lvl1)",value:de.level1},{variable:"var(--c-lvl2)",value:de.level2},{variable:"var(--c-lvl3)",value:de.level3},{variable:"var(--c-lvl4)",value:de.level4},{variable:"var(--c-lvl5)",value:de.level5},{variable:"var(--c-lvl6)",value:de.level6},{variable:"var(--c-text)",value:de.text},{variable:"var(--c-red)",value:de.red},{variable:"var(--c-green)",value:de.green},{variable:"var(--c-blue)",value:de.blue},{variable:"var(--c-yellow)",value:de.yellow},{variable:"var(--c-purple)",value:de.purple}];return(t,a)=>(y(),$("div",Wc,[i("div",qc,[m(s(ke),{class:"datatable-colors","columns-header":"1fr","columns-data":"colors-columns-data",rows:e,columns:["Variable","Value","Preview"]},{"header-title":b(()=>[Hc]),row:b(o=>[i("div",null,A(o.item.variable),1),i("div",null,A(o.item.value),1),i("div",{class:"preview",style:ye({"background-color":o.item.value})},null,4)]),_:1})])]))}});const Gc=I(Nc,[["__scopeId","data-v-fa8a7ca8"]]),Qc={class:"item"},Yc={class:"title"},jc=S({__name:"Recipe",props:{title:{}},setup(n){return(e,t)=>(y(),$("div",Qc,[Z(e.$slots,"example",{},void 0,!0),i("div",Yc,A(e.title),1),Z(e.$slots,"snippets",{},void 0,!0)]))}});const Y=I(jc,[["__scopeId","data-v-e6b1c9ca"]]),Jc={class:"dashboard-root"},Kc={class:"dashboard"},Zc=`<template>
  <div class="dashboard-root">
    <div class="dashboard">
      Content goes here
    </div>
  </div>
</template>`,Xc=`<script setup lang="ts">
<\/script>`,eu=`@import "@/Styles/Variables.scss";

@include dashboard("dashboard-root");
`,tu=S({__name:"Dashboard",setup(n){return(e,t)=>(y(),$("div",Jc,[i("div",Kc,[m(Y,{title:"Dashboard.vue"},{snippets:b(()=>[m(s(E),{lang:"xml",code:Zc}),m(s(E),{lang:"typescript",code:Xc}),U(' <style lang="scss" scoped> '),m(s(E),{lang:"scss",code:eu}),U(" </style> ")]),_:1})])]))}});const au=I(tu,[["__scopeId","data-v-f8a64e67"]]),nu={class:"socket"},ou={class:"dashboard"},su={class:"connect"},lu=S({__name:"Socket",setup(n){let e=null;const t=L("https://ws.llama.airforce:2053"),a=L(!1),o=()=>{e=It(`${t.value}`,{autoConnect:!1,reconnection:!1,secure:!0}),e.on("connect_error",c=>console.log(c)),e.on("message",c=>{console.log(c),a.value=!0}),e.connect()},l=()=>{e==null||e.close(),e=null,a.value=!1};return(c,v)=>(y(),$("div",nu,[i("div",ou,[i("div",su,[m(s(fe),{modelValue:t.value,"onUpdate:modelValue":v[0]||(v[0]=r=>t.value=r)},null,8,["modelValue"]),a.value?(y(),P(s(ee),{key:1,value:"Disconnect",onClick:l})):(y(),P(s(ee),{key:0,value:"Connect",onClick:o}))])])]))}});const ru=I(lu,[["__scopeId","data-v-3014baa1"]]),iu={class:"async-value"},cu={class:"dashboard"},uu=`<AsyncValue
  :value="50000">
</AsyncValue>`,du=`<AsyncValue
  :value="50000"
  type="dollar"
></AsyncValue>`,pu=`<AsyncValue
  :value="50000"
  type="percentage"
></AsyncValue>`,mu=`<AsyncValue
  :value="null">
</AsyncValue>`,_u=`<AsyncValue
  :value="0">
</AsyncValue>`,vu=` <AsyncValue
  :value="0"
  :show-zero="true"
></AsyncValue>`,fu=`<AsyncValue
  :value="50000"
  :precision="5"
  type="dollar"
></AsyncValue>`,hu=`<AsyncValue
  :value="50000"
  :show-symbol="false"
  type="dollar"
></AsyncValue>`,yu=`<AsyncValue
  :value="50000"
  :show-unit="false"
  type="dollar"
></AsyncValue>`,gu=S({__name:"AsyncValue",setup(n){return(e,t)=>(y(),$("div",iu,[i("div",cu,[m(Y,{title:"AsyncValue"},{example:b(()=>[m(s(O),{value:5e4})]),snippets:b(()=>[m(s(E),{lang:"xml",code:uu})]),_:1}),m(Y,{title:"Dollar"},{example:b(()=>[m(s(O),{value:5e4,type:"dollar"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:du})]),_:1}),m(Y,{title:"Percentage"},{example:b(()=>[m(s(O),{value:5e4,type:"percentage"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:pu})]),_:1}),m(Y,{title:"Loading"},{example:b(()=>[m(s(O),{value:null})]),snippets:b(()=>[m(s(E),{lang:"xml",code:mu})]),_:1}),m(Y,{title:"Unknown"},{example:b(()=>[m(s(O),{value:0})]),snippets:b(()=>[m(s(E),{lang:"xml",code:_u})]),_:1}),m(Y,{title:"Zero"},{example:b(()=>[m(s(O),{value:0,"show-zero":!0})]),snippets:b(()=>[m(s(E),{lang:"xml",code:vu})]),_:1}),m(Y,{title:"Precision"},{example:b(()=>[m(s(O),{value:5e4,precision:5,type:"dollar"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:fu})]),_:1}),m(Y,{title:"No Symbol"},{example:b(()=>[m(s(O),{value:5e4,"show-symbol":!1,type:"dollar"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:hu})]),_:1}),m(Y,{title:"No Unit"},{example:b(()=>[m(s(O),{value:5e4,"show-unit":!1,type:"dollar"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:yu})]),_:1})])]))}});const bu=I(gu,[["__scopeId","data-v-dd805ddd"]]),wu={class:"breadcrumb"},$u={class:"dashboard"},ku=`<Breadcrumb
  :crumbs="crumbs"
  :active="crumbActive"
  @crumb="onCrumb"
></Breadcrumb>`,Cu=`const crumbs: Crumb[] = [
  { id: "home", label: "Home" },
  { id: "crvusd", label: "crvUSD" },
  { id: "market", label: "Market" },
];

const crumbActive = ref({ id: "market", label: "Market" });

const onCrumb = (crumb: Crumb) => {
  crumbActive.value = crumb;
};`,Su=S({__name:"Breadcrumb",setup(n){const e=[{id:"home",label:"Home"},{id:"crvusd",label:"crvUSD"},{id:"market",label:"Market"}],t=L({id:"market",label:"Market"}),a=o=>{t.value=o};return(o,l)=>(y(),$("div",wu,[i("div",$u,[m(Y,{title:"Breadcrumb"},{example:b(()=>[m(s(ro),{crumbs:e,active:t.value,onCrumb:a},null,8,["active"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:ku}),m(s(E),{lang:"typescript",code:Cu})]),_:1})])]))}});const xu=I(Su,[["__scopeId","data-v-1b8b0f32"]]),wo=n=>(oe("data-v-75776ef5"),n=n(),se(),n),Au={class:"button"},Iu={class:"dashboard"},Mu=wo(()=>i("div",{style:{"margin-right":"1rem"}},"Content goes here",-1)),Lu=wo(()=>i("i",{class:"fas fa-plane"},null,-1)),Pu=`<Button
  value="Value"
  :primary="true"
></Button>`,Tu=`<Button
  value="Value"
  :primary="false"
></Button>`,Du=`<Button
  value="Value"
  :disabled="true"
></Button>`,Vu=`<Button
  value="Value"
  :web3="true"
></Button>`,zu=`<Button
  value="Value"
  icon="fas fa-plane"
></Button>`,Bu=`<Button>
  <div style="margin-right: 1rem">Content goes here</div>
  <i class="fas fa-plane"></i>
</Button>`,Ru=`<Button
  value="Click me!"
  @click="showAlert('You clicked me!')"
></Button>`,Ou="const showAlert = (msg: string) => alert(msg);",Fu=S({__name:"Button",setup(n){const e=t=>alert(t);return(t,a)=>(y(),$("div",Au,[i("div",Iu,[m(Y,{title:"Primary"},{example:b(()=>[m(s(ee),{value:"Value",primary:!0})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Pu})]),_:1}),m(Y,{title:"Not Primary"},{example:b(()=>[m(s(ee),{value:"Value",primary:!1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Tu})]),_:1}),m(Y,{title:"Disabled"},{example:b(()=>[m(s(ee),{value:"Value",disabled:!0})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Du})]),_:1}),m(Y,{title:"Web3"},{example:b(()=>[m(s(ee),{value:"Value",web3:!0})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Vu})]),_:1}),m(Y,{title:"Icon"},{example:b(()=>[m(s(ee),{value:"Value",icon:"fas fa-plane"})]),snippets:b(()=>[m(s(E),{lang:"xml",code:zu})]),_:1}),m(Y,{title:"Slot",style:{"grid-column":"2 / span 3"}},{example:b(()=>[m(s(ee),null,{default:b(()=>[Mu,Lu]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Bu})]),_:1}),m(Y,{title:"Event - Click",style:{"grid-column":"1 / span 4"}},{example:b(()=>[m(s(ee),{value:"Click me!",onClick:a[0]||(a[0]=o=>e("You clicked me!"))})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Ru}),m(s(E),{lang:"typescript",code:Ou})]),_:1})])]))}});const Eu=I(Fu,[["__scopeId","data-v-75776ef5"]]),Uu={class:"button-toggle"},Wu={class:"dashboard"},qu=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,Hu=S({__name:"ButtonToggle",setup(n){const e=L(!1);return(t,a)=>(y(),$("div",Uu,[i("div",Wu,[m(Y,{title:"Toggle"},{example:b(()=>[m(s(Re),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value=o),value:"Value",icon:"fas fa-plane"},null,8,["modelValue"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:qu})]),_:1})])]))}});const Nu=I(Hu,[["__scopeId","data-v-f3d50318"]]),Gu={class:"card-root"},Qu={class:"dashboard"},Yu=`<ButtonToggle
  v-model="toggle"
  value="Value"
  icon="fas fa-plane"
></ButtonToggle>`,ju=`<Card
  title="Card Title"
  icon="fas fa-plane"
>
  Content goes here
</Card>`,Ju=`<Card
  title="Card Loading"
  icon="fas fa-plane"
  :loading="true"
>
  Content goes here
</Card>`,Ku=`<Card
  title="Card Title"
  icon="fas fa-plane"
  :collapsible="true"
  :collapsed="collapsed"
  @click="collapsed = !collapsed"
>
  <template #actions>
    <i
      class="expander fas fa-chevron-up"
      :class="{ expanded: collapsed }"
    ></i>
  </template>

  <Collapsible :expanded="!collapsed"> Content goes here </Collapsible>
</Card>`,Zu=`import { ref } from "vue";

const collapsed = ref(false);
`,Xu=`::v-deep(.card-header) {
  .expander {
    transition: transform 125ms cubic-bezier(0.65, 0.05, 0.36, 1);
    transform: rotate(90deg);

    &.expanded {
      transform: rotate(180deg);
    }
  }
}`,ed=S({__name:"Card",setup(n){const e=L(!1);return(t,a)=>(y(),$("div",Gu,[i("div",Qu,[m(Y,{title:"Card"},{example:b(()=>[m(s(j),{title:"Card Title",icon:"fas fa-plane"},{default:b(()=>[U(" Content goes here ")]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Yu})]),_:1}),m(Y,{title:"Compact / no padding"},{example:b(()=>[m(s(j),{compact:!0},{default:b(()=>[U(" Content goes here ")]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:ju})]),_:1}),m(Y,{title:"Collapsible"},{example:b(()=>[m(s(j),{title:"Card Title",icon:"fas fa-plane",collapsible:!0,collapsed:e.value,onClick:a[0]||(a[0]=o=>e.value=!e.value)},{actions:b(()=>[i("i",{class:B(["expander fas fa-chevron-up",{expanded:e.value}])},null,2)]),default:b(()=>[m(s(We),{expanded:!e.value},{default:b(()=>[U(" Content goes here ")]),_:1},8,["expanded"])]),_:1},8,["collapsed"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:Ku}),m(s(E),{lang:"typescript",code:Zu}),m(s(E),{lang:"scss",code:Xu})]),_:1}),m(Y,{title:"Loading"},{example:b(()=>[m(s(j),{title:"Card Loading",icon:"fas fa-plane",loading:!0},{default:b(()=>[U(" Content goes here ")]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Ju})]),_:1})])]))}});const td=I(ed,[["__scopeId","data-v-fde7f6d4"]]),$o=n=>({chart:{id:"chart",background:"transparant",foreColor:n.colors.level5,fontFamily:"SF Mono, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:n.colorsArray,grid:{borderColor:n.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:n.colors.level5,height:1},axisTicks:{color:n.colors.level5},title:{color:n.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:n.colors.level5},axisTicks:{color:n.colors.level5},title:{color:n.colors.level5}}});function ad(n){const e=$o({colors:de,colorsArray:Ec}),t=(a,o)=>{if(typeof o=="object"){z.mergeWith(a,o,t);return}else return a||o};return z.mergeWith(n,e,t)}function ve(n,e){const t=$o(n),a=(o,l)=>{if(typeof l=="object"){z.mergeWith(o,l,a);return}else return o||l};return z.mergeWith(e,t,a)}const nd={class:"card-graph"},od={class:"dashboard"},sd=`<CardGraph
  class="chart"
  title="LineChart"
  :options="options"
  :series="series"
></CardGraph>`,ld=`import { computed } from "vue";
import { CardGraph } from "@/Framework";
import createChartStyles from "@/Styles/ChartStyles";
import { round, unit, type DataPoint, addDays } from "@/Util";

type Serie = {
  name: string;
  type: string;
  data: { x: number; y: number }[];
};

const optionsLineChart = computed((): unknown => {
  return createChartStyles({
    chart: {
      animations: {
        enabled: false,
      },
      toolbar: {
        tools: {
          download: true,
        },
      },
    },
    xaxis: {
      type: "datetime",
    },
    yaxis: [
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterEmissions(y),
        },
        min: 0,
        max: 10,
      },
      {
        seriesName: "emissions",
        tickAmount: 4,
        labels: {
          formatter: (y: number): string => formatterFees(y),
        },
        show: false,
        min: 0,
        max: 10,
      },
    ],
    plotOptions: {
      bar: {
        distributed: false,
        dataLabels: {
          position: "top",
          hideOverflowingLabels: false,
        },
      },
    },
    tooltip: {
      followCursor: false,
      enabled: true,
      intersect: false,
      custom: (x: DataPoint<SerieLineChart>) => {
        const emissions = x.w.globals.initialSeries[0].data[x.dataPointIndex].y;

        const fees = x.w.globals.initialSeries[1].data[x.dataPointIndex]
          ? x.w.globals.initialSeries[1].data[x.dataPointIndex].y
          : 0;

        const data = [
          \`<div><b>Emissions</b>:</div><div>\${formatterEmissions(
            emissions
          )}</div>\`,
          \`<div><b>Fees</b>:</div><div>\${formatterFees(fees)}</div>\`,
        ];

        return data.join("");
      },
    },
    dataLabels: {
      enabled: false,
    },
    csv: {
      filename: "emissions.csv",
      columnDelimiter: ",",
      headerCategory: "category",
      headerValue: "value",
      dateFormatter(timestamp: number) {
        return timestamp;
      },
    },
  });
});

const series = computed((): Serie[] => {
  return [
    {
      name: "Emissions",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 1 },
        { x: addDays(new Date(), 1).getTime(), y: 5 },
        { x: addDays(new Date(), 2).getTime(), y: 7 },
        { x: addDays(new Date(), 3).getTime(), y: 3 },
        { x: addDays(new Date(), 4).getTime(), y: 9 },
      ],
    },
    {
      name: "Fees",
      type: "line",
      data: [
        { x: new Date().getTime(), y: 5 },
        { x: addDays(new Date(), 1).getTime(), y: 0 },
        { x: addDays(new Date(), 2).getTime(), y: 3 },
        { x: addDays(new Date(), 3).getTime(), y: 9 },
        { x: addDays(new Date(), 4).getTime(), y: 2 },
      ],
    },
  ];
});

// Methods
const formatterEmissions = (x: number): string => {
  return \`$\${round(Math.abs(x), 1, "dollar")}\${unit(x, "dollar")}\`;
};

const formatterFees = (x: number): string => {
  return \`$\${round(x, 1, "dollar")}\${unit(x, "dollar")}\`;
};`,rd=`.chart {
  height: 400px;

  ::v-deep(.card-body) {
    .apexcharts-tooltip {
      grid-template-rows: auto auto;
      grid-template-columns: 1fr auto;
    }
  }
}`,id=S({__name:"CardGraph",setup(n){const e=C(()=>ad({chart:{animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>a(l)},min:0,max:10},{seriesName:"emissions",tickAmount:4,labels:{formatter:l=>o(l)},show:!1,min:0,max:10}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:l=>{const c=l.w.globals.initialSeries[0].data[l.dataPointIndex].y,v=l.w.globals.initialSeries[1].data[l.dataPointIndex]?l.w.globals.initialSeries[1].data[l.dataPointIndex].y:0;return[`<div><b>Emissions</b>:</div><div>${a(c)}</div>`,`<div><b>Fees</b>:</div><div>${o(v)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(l){return l}}})),t=C(()=>[{name:"Emissions",type:"line",data:[{x:new Date().getTime(),y:1},{x:ze(new Date,1).getTime(),y:5},{x:ze(new Date,2).getTime(),y:7},{x:ze(new Date,3).getTime(),y:3},{x:ze(new Date,4).getTime(),y:9}]},{name:"Fees",type:"line",data:[{x:new Date().getTime(),y:5},{x:ze(new Date,1).getTime(),y:0},{x:ze(new Date,2).getTime(),y:3},{x:ze(new Date,3).getTime(),y:9},{x:ze(new Date,4).getTime(),y:2}]}]),a=l=>`$${K(Math.abs(l),1,"dollar")}${J(l,"dollar")}`,o=l=>`$${K(l,1,"dollar")}${J(l,"dollar")}`;return(l,c)=>(y(),$("div",nd,[i("div",od,[m(Y,{title:"Line Chart"},{example:b(()=>[m(s(ge),{class:"chart",title:"Line Chart",options:e.value,series:t.value},null,8,["options","series"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:sd}),m(s(E),{lang:"typescript",code:ld}),m(s(E),{lang:"scss",code:rd})]),_:1})])]))}});const cd=I(id,[["__scopeId","data-v-da7df299"]]),Pt=n=>(oe("data-v-d414c8c0"),n=n(),se(),n),ud={class:"data-table"},dd={class:"dashboard"},pd=Pt(()=>i("div",null,"All Rounds",-1)),md={class:"vote-link"},_d={class:"number"},vd={class:"number"},fd=Pt(()=>i("div",null,null,-1)),hd=Pt(()=>i("div",null,null,-1)),yd=Pt(()=>i("div",null,null,-1)),gd={class:"number"},bd=`<DataTable
  class="datatable-example"
  columns-header="1fr"
  columns-data="example-columns-data"
  :rows="rows"
  :columns="['', 'Deadline', '$/vlCVX', 'Total']"
  :sorting="true"
  :sorting-columns="['', 'deadline', 'vlasset', 'total']"
  :sorting-columns-enabled="['deadline', 'vlasset', 'total']"
  sorting-default-column="deadline"
  sorting-default-dir="Descending"
  @sort-column="onSort"
  @selected="onSelected"
>
  <template #header-title>
    <div>All Rounds</div>
  </template>

  <template #header-actions>
    <Tooltip>Tooltip data goes here</Tooltip>
  </template>

  <template #row="props: { item: Round }">
    <div
      class="round-number"
      @click.stop
    >
      <a class="vote-link">
        {{ props.item.round }}
      </a>
    </div>
    <div>
      {{ new Date(Date.now()).toLocaleDateString() }}
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value"
        :precision="5"
        type="dollar"
      />
    </div>
    <div class="number">
      <AsyncValue
        :value="props.item.value * 10000"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>

  <template #row-aggregation>
    <div></div>
    <div></div>
    <div></div>
    <div class="number">
      <AsyncValue
        :value="rows.reduce((acc, x) => acc + x.value * 10000, 0)"
        :precision="2"
        type="dollar"
      />
    </div>
  </template>
</DataTable>`,wd=`import { ref, computed } from "vue";
import { orderBy } from "lodash";
import { AsyncValue, DataTable, Tooltip, SortOrder } from "@/Framework";

type Round = {
  round: number;
  value: number;
};

let sortColumn = ref<"deadline" | "vlasset" | "total">("deadline");
let sortOrder = ref(SortOrder.Descending);

const data: Round[] = [
  { round: 1, value: 1 * Math.random() },
  { round: 2, value: 7 * Math.random() },
  { round: 3, value: 5 * Math.random() },
  { round: 4, value: 2 * Math.random() },
  { round: 5, value: 3 * Math.random() },
];

const rows = computed((): Round[] => {
  return orderBy(
    data ?? [],
    (row: Round) => {
      switch (sortColumn.value) {
        case "deadline":
          return row.round;
        case "vlasset":
          return row.value;
        case "total":
          return row.value;
        default:
          return row.round;
      }
    },
    sortOrder.value === SortOrder.Descending ? "desc" : "asc"
  );
});

// Events
const onSort = (columnName: string, order: SortOrder): void => {
  sortColumn.value = columnName as "deadline" | "vlasset" | "total";
  sortOrder.value = order;
};

const onSelected = (data: unknown): void => {
  const epoch = data as Round;
  console.log(epoch.round);
};`,$d=`.datatable-example {
  .round-number {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  ::v-deep(.example-columns-data) {
    display: grid;
    grid-template-columns: 1.5rem 1fr 1fr 1fr;

    // Right adjust number columns.
    div:nth-child(3),
    div:nth-child(4) {
      justify-content: end;
    }

    .vote-link {
      width: 1.5rem;
      text-align: center;
    }
  }
}`,kd=S({__name:"DataTable",setup(n){const e=L("deadline"),t=L(we.Descending),a=[{round:1,value:1*Math.random()},{round:2,value:7*Math.random()},{round:3,value:5*Math.random()},{round:4,value:2*Math.random()},{round:5,value:3*Math.random()}],o=C(()=>z.orderBy(a??[],v=>{switch(e.value){case"deadline":return v.round;case"vlasset":return v.value;case"total":return v.value;default:return v.round}},t.value===we.Descending?"desc":"asc")),l=(v,r)=>{e.value=v,t.value=r},c=v=>{console.log(v.round)};return(v,r)=>(y(),$("div",ud,[i("div",dd,[m(Y,{title:"DataTable",class:"recipe"},{example:b(()=>[m(s(ke),{class:"datatable-example","columns-header":"1fr","columns-data":"example-columns-data",rows:o.value,columns:["","Deadline","$/vlCVX","Total"],sorting:!0,"sorting-columns":["","deadline","vlasset","total"],"sorting-columns-enabled":["deadline","vlasset","total"],"sorting-default-column":"deadline","sorting-default-dir":"Descending",onSortColumn:l,onSelected:c},{"header-title":b(()=>[pd]),"header-actions":b(()=>[m(s(Oe),null,{default:b(()=>[U("Tooltip data goes here")]),_:1})]),row:b(p=>[i("div",{class:"round-number",onClick:r[0]||(r[0]=De(()=>{},["stop"]))},[i("a",md,A(p.item.round),1)]),i("div",null,A(new Date(Date.now()).toLocaleDateString()),1),i("div",_d,[m(s(O),{value:p.item.value,precision:5,type:"dollar"},null,8,["value"])]),i("div",vd,[m(s(O),{value:p.item.value*1e4,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[fd,hd,yd,i("div",gd,[m(s(O),{value:o.value.reduce((p,d)=>p+d.value*1e4,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:bd}),m(s(E),{lang:"typescript",code:wd}),m(s(E),{lang:"scss",code:$d})]),_:1})])]))}});const Cd=I(kd,[["__scopeId","data-v-d414c8c0"]]),Sd="/why.png",xd=n=>(oe("data-v-8e184075"),n=n(),se(),n),Ad={class:"input-text"},Id={class:"dashboard"},Md={key:0,class:"search-item"},Ld=xd(()=>i("img",{src:Sd},null,-1)),Pd={class:"label"},Td={key:0,class:"description"},Dd={class:"volume"},Vd=`<InputText
  v-model="text1"
  placeholder="Placeholder goes here"
></InputText>`,zd=`<InputText
  v-model="pool"
  placeholder="Search for a pool: enter a space here"
  :search="true"
  :auto-complete="autoComplete"
  :options="pools"
  :filter="filter"
  :sort="sort"
  @input="onInput"
  @select="onSelect"
>
  <template #item="props: { item: Pool, idx: number }">
    <div
      v-if="props.item"
      class="search-item"
    >
      <img src="/why.png" />
      <div class="label">{{ props.item.name }}</div>
      <div
        v-if="props.idx === 0"
        class="description"
      >
        Volume
      </div>
      <div class="volume">
        <AsyncValue
          :value="props.item.volume"
          :precision="2"
          type="dollar"
        />
      </div>
    </div>
  </template>
</InputText>`,Bd=`import { ref } from "vue";
import { InputText, AsyncValue } from "@/Framework";

const pool = ref("");
const autoComplete = ref(false);

type Pool = {
  name: string;
  volume: number;
};

const pools: Pool[] = [
  {
    name: "Pool A",
    volume: 10,
  },
  {
    name: "Pool B",
    volume: 1337,
  },
  {
    name: "Pool C",
    volume: 42,
  },
];

// Methods
const filter = (input: string, option: unknown) =>
  (option as Pool).name.toLocaleLowerCase().includes(input.toLocaleLowerCase());

const sort = (a: unknown, b: unknown) =>
  (b as Pool).volume - (a as Pool).volume;

// Events
const onInput = (input: string): void => {
  autoComplete.value = !!input;
};

const toggleExpansion = (newPool: Pool): void => {
  pool.value = newPool.name;
  autoComplete.value = false;
};

const onSelect = (option: unknown): void => {
  const pool = option as Pool;
  toggleExpansion(pool);
};`,Rd=`.search-item {
  display: flex;
  align-items: center;

  img {
    width: 20px;
    height: 20px;
    object-fit: scale-down;
  }

  > .label {
    flex-grow: 1;
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .volume,
  > .description {
    font-size: 0.875rem;
    margin-left: 0.75rem;
  }

  > .description {
    color: var(--c-lvl5);
  }
}`,Od=S({__name:"InputText",setup(n){const e=L(""),t=L(""),a=L(!1),o=[{name:"Pool A",volume:10},{name:"Pool B",volume:1337},{name:"Pool C",volume:42}],l=(d,g)=>g.name.toLocaleLowerCase().includes(d.toLocaleLowerCase()),c=(d,g)=>g.volume-d.volume,v=d=>{a.value=!!d},r=d=>{t.value=d.name,a.value=!1},p=d=>{r(d)};return(d,g)=>(y(),$("div",Ad,[i("div",Id,[m(Y,{title:"InputText with placeholder"},{example:b(()=>[m(s(fe),{modelValue:e.value,"onUpdate:modelValue":g[0]||(g[0]=_=>e.value=_),placeholder:"Placeholder goes here"},null,8,["modelValue"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:Vd})]),_:1}),m(Y,{title:"InputText with search, options, filter, sorting and slot"},{example:b(()=>[m(s(fe),{modelValue:t.value,"onUpdate:modelValue":g[1]||(g[1]=_=>t.value=_),placeholder:"Search for a pool: enter a space here",search:!0,"auto-complete":a.value,options:o,filter:l,sort:c,onInput:v,onSelect:p},{item:b(_=>[_.item?(y(),$("div",Md,[Ld,i("div",Pd,A(_.item.name),1),_.idx===0?(y(),$("div",Td," Volume ")):V("",!0),i("div",Dd,[m(s(O),{value:_.item.volume,precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["modelValue","auto-complete"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:zd}),m(s(E),{lang:"typescript",code:Bd}),m(s(E),{lang:"scss",code:Rd})]),_:1})])]))}});const Fd=I(Od,[["__scopeId","data-v-8e184075"]]),Ed={class:"input-number"},Ud={class:"dashboard"},Wd=`<InputNumber
  v-model="value"
  placeholder="Number goes here"
  :min="-5"
  :max="Infinity"
></InputNumber>`,qd=S({__name:"InputNumber",setup(n){const e=L(0);return(t,a)=>(y(),$("div",Ed,[i("div",Ud,[m(Y,{title:"InputNumber"},{example:b(()=>[m(s(ua),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value=o),placeholder:"Number goes here",min:-5,max:1/0},null,8,["modelValue"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:Wd})]),_:1})])]))}});const Hd=I(qd,[["__scopeId","data-v-196ca807"]]),Nd=n=>(oe("data-v-bbac04e1"),n=n(),se(),n),Gd={class:"modal"},Qd={class:"dashboard"},Yd=Nd(()=>i("div",{class:"content"},"Content goes here",-1)),jd=`<ModalYesNo
  class="my-modal"
  title="Modal title"
  :show="openModal"
  @close="openModal = false"
  @no="openModal = false"
  @yes="onYes"
>
  <div class="content">Content goes here</div>
</ModalYesNo>`,Jd=`import { ref } from "vue";

const openModal = ref(false);

const onYes = () => {
  alert("You clicked yes!");
  openModal.value = false;
};`,Kd=`.my-modal {
  ::v-deep(.content) {
    width: 40rem;
  }
}`,Zd=S({__name:"Modal",setup(n){const e=L(!1),t=()=>{alert("You clicked yes!"),e.value=!1};return(a,o)=>(y(),$("div",Gd,[i("div",Qd,[m(Y,{title:"ModalYesNo"},{example:b(()=>[m(s(ee),{onClick:o[0]||(o[0]=l=>e.value=!0)},{default:b(()=>[U("Open Modal")]),_:1}),m(s(zr),{class:"my-modal",title:"Modal title",show:e.value,onClose:o[1]||(o[1]=l=>e.value=!1),onNo:o[2]||(o[2]=l=>e.value=!1),onYes:t},{default:b(()=>[Yd]),_:1},8,["show"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:jd}),m(s(E),{lang:"typescript",code:Jd}),m(s(E),{lang:"scss",code:Kd})]),_:1})])]))}});const Xd=I(Zd,[["__scopeId","data-v-bbac04e1"]]),ep={class:"pagination"},tp={class:"dashboard"},ap=`<Pagination
  :items-count="96"
  :items-per-page="10"
  :page="page"
  @page="onPage"
></Pagination>`,np=S({__name:"Pagination",setup(n){const e=L(1),t=a=>{e.value=a};return(a,o)=>(y(),$("div",ep,[i("div",tp,[m(Y,{title:"Pagination"},{example:b(()=>[m(s(at),{"items-count":96,"items-per-page":10,page:e.value,onPage:t},null,8,["page"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:ap})]),_:1})])]))}});const op=I(np,[["__scopeId","data-v-25aea555"]]),sp={class:"select"},lp={class:"dashboard"},rp={key:0,class:"item"},ip=["src"],cp={class:"label"},up=`<Select
  class="select-component"
  :options="options"
  :selected="selected"
  :open="selectOpen"
  @open="onSelectOpen"
  @close="selectOpen = false"
  @input="onSelect"
>
  <template #item="props: { item: SelectItem }">
    <div
      v-if="props.item"
      class="item"
    >
      <img :src="props.item.logo" />
      <div class="label">{{ props.item.label }}</div>
    </div>
  </template>
</Select>`,dp=`import { ref, onMounted } from "vue";
import { Select } from "@/Framework";

type SelectItem = {
  label: string;
  logo: string;
};

const options: SelectItem[] = [
  {
    label: "Option 1",
    logo: "/why.png",
  },
  {
    label: "Option 2",
    logo: "/why.png",
  },
  {
    label: "Option 3",
    logo: "/why.png",
  },
];

const selectOpen = ref(false);
const selected = ref<SelectItem | null>;

// Hooks
onMounted((): void => {
  onSelect(options[0]);
});

// Events
const onSelectOpen = (): void => {
  selectOpen.value = !selectOpen.value;
};

const onSelect = (option: unknown): void => {
  const item = option as SelectItem;
  selected.value = item;
};`,pp=`::v-deep(.select-component) {
  width: 20rem;

  .item {
    display: flex;
    align-items: center;

    img {
      width: 20px;
      height: 20px;
      object-fit: scale-down;
    }

    > .label {
      font-size: 0.875rem;
      margin-left: 0.75rem;
    }
  }
}`,mp=S({__name:"Select",setup(n){const e=[{label:"Option 1",logo:"/why.png"},{label:"Option 2",logo:"/why.png"},{label:"Option 3",logo:"/why.png"}],t=L(!1),a=L(null);H(()=>{l(e[0])});const o=()=>{t.value=!t.value},l=c=>{const v=c;a.value=v};return(c,v)=>(y(),$("div",sp,[i("div",lp,[m(Y,{title:"Select"},{example:b(()=>[m(s(qe),{class:"select-component",options:e,selected:a.value,open:t.value,onOpen:o,onClose:v[0]||(v[0]=r=>t.value=!1),onInput:l},{item:b(r=>[r.item?(y(),$("div",rp,[i("img",{src:r.item.logo},null,8,ip),i("div",cp,A(r.item.label),1)])):V("",!0)]),_:1},8,["selected","open"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:up}),m(s(E),{lang:"typescript",code:dp}),m(s(E),{lang:"scss",code:pp})]),_:1})])]))}});const _p=I(mp,[["__scopeId","data-v-4bbec1e3"]]),vp={class:"slider"},fp={class:"dashboard"},hp={class:"value"},yp=`<Slider
  :min="0"
  :max="5"
  :step="0.1"
  :model-value="value"
  @update:model-value="onInput"
></Slider>`,gp=`import { ref } from "vue";
import { Slider } from "@/Framework";

const value = ref(0);

// Events
const onInput = (newVal: string) => {
  value.value = parseFloat(newVal);
};`,bp=S({__name:"Slider",setup(n){const e=L(0),t=a=>{e.value=parseFloat(a)};return(a,o)=>(y(),$("div",vp,[i("div",fp,[m(Y,{title:"Slider"},{example:b(()=>[i("div",hp,A(e.value),1),m(s(_o),{min:0,max:5,step:.1,"model-value":e.value,"onUpdate:modelValue":t},null,8,["model-value"])]),snippets:b(()=>[m(s(E),{lang:"xml",code:yp}),m(s(E),{lang:"typescript",code:gp})]),_:1})])]))}});const wp=I(bp,[["__scopeId","data-v-4f5b3c15"]]),$p={class:"spinner"},kp={class:"dashboard"},Cp="<Spinner></Spinner>",Sp=S({__name:"Spinner",setup(n){return(e,t)=>(y(),$("div",$p,[i("div",kp,[m(Y,{title:"Spinner"},{example:b(()=>[m(s(vt))]),snippets:b(()=>[m(s(E),{lang:"xml",code:Cp})]),_:1})])]))}});const xp=I(Sp,[["__scopeId","data-v-716781f5"]]),Ap={class:"tabs"},Ip={class:"dashboard"},Mp={class:"active"},Lp=`<TabView @tab="tabActive = $event.index">
  <TabItem header="Tab One"> Tab 1 content goes here </TabItem>
  <TabItem header="Tab Two"> Tab 2 content goes here </TabItem>
  <TabItem header="Tab Three"> Tab 3 content goes here </TabItem>
</TabView>`,Pp=`import { TabView, TabItem } from "@/Framework";

const tabActive = ref(0);
`,Tp=S({__name:"Tabs",setup(n){const e=L(0);return(t,a)=>(y(),$("div",Ap,[i("div",Ip,[m(Y,{title:"Tabs"},{example:b(()=>[i("div",Mp,"Active tab is index "+A(e.value),1),m(s(lt),{onTab:a[0]||(a[0]=o=>e.value=o.index)},{default:b(()=>[m(s(ce),{header:"Tab One"},{default:b(()=>[U(" Tab 1 content goes here ")]),_:1}),m(s(ce),{header:"Tab Two"},{default:b(()=>[U(" Tab 2 content goes here ")]),_:1}),m(s(ce),{header:"Tab Three"},{default:b(()=>[U(" Tab 3 content goes here ")]),_:1})]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Lp}),m(s(E),{lang:"typescript",code:Pp})]),_:1})])]))}});const Dp=I(Tp,[["__scopeId","data-v-06c4a326"]]),ko=n=>(oe("data-v-2ccadc32"),n=n(),se(),n),Vp={class:"tooltip"},zp={class:"dashboard"},Bp=ko(()=>i("div",null,"Hover over me!",-1)),Rp=ko(()=>i("div",null,"Tooltip content goes here",-1)),Op=`<Tooltip>
  <template #item>
    <div>Hover over me!</div>
  </template>

  <div>Tooltip content goes here</div>
</Tooltip>`,Fp=S({__name:"Tooltip",setup(n){return(e,t)=>(y(),$("div",Vp,[i("div",zp,[m(Y,{title:"Tooltip"},{example:b(()=>[m(s(Oe),null,{item:b(()=>[Bp]),default:b(()=>[Rp]),_:1})]),snippets:b(()=>[m(s(E),{lang:"xml",code:Op})]),_:1})])]))}});const Ep=I(Fp,[["__scopeId","data-v-2ccadc32"]]),Up={titleRoute:"/cookbook",routes:[{path:"/cookbook",redirect:{name:"button"}},{path:"/cookbook/colors",name:"colors",component:Gc},{path:"/cookbook/dashboard",name:"dashboard",component:au},{path:"/cookbook/socket",name:"socket",component:ru},{path:"/cookbook/async-value",name:"async-value",component:bu},{path:"/cookbook/breadcrumb",name:"breadcrumb",component:xu},{path:"/cookbook/button",name:"button",component:Eu},{path:"/cookbook/toggle-button",name:"toggle-button",component:Nu},{path:"/cookbook/card",name:"card",component:td},{path:"/cookbook/graph-card",name:"graph-card",component:cd},{path:"/cookbook/data-table",name:"data-table",component:Cd},{path:"/cookbook/input-text",name:"input-text",component:Fd},{path:"/cookbook/input-number",name:"input-number",component:Hd},{path:"/cookbook/modal",name:"modal",component:Xd},{path:"/cookbook/pagination",name:"pagination",component:op},{path:"/cookbook/select",name:"select",component:_p},{path:"/cookbook/slider",name:"slider",component:wp},{path:"/cookbook/spinner",name:"spinner",component:xp},{path:"/cookbook/tabs",name:"tabs",component:Dp},{path:"/cookbook/tooltip",name:"tooltip",component:Ep}],menuItems:[{to:"/cookbook/colors",label:"Colors"},{to:"/cookbook/dashboard",label:"Dashboard"},{to:"/cookbook/socket",label:"Socket.IO"},{label:"Framework",children:[{to:"/cookbook/async-value",label:"AsyncValue"},{to:"/cookbook/breadcrumb",label:"Breadcrumb"},{to:"/cookbook/button",label:"Button"},{to:"/cookbook/toggle-button",label:"ButtonToggle"},{to:"/cookbook/card",label:"Card"},{to:"/cookbook/graph-card",label:"CardGraph"},{to:"/cookbook/data-table",label:"DataTable"},{to:"/cookbook/input-text",label:"InputText"},{to:"/cookbook/input-number",label:"InputNumber"},{to:"/cookbook/modal",label:"Modal"},{to:"/cookbook/pagination",label:"Pagination"},{to:"/cookbook/select",label:"Select"},{to:"/cookbook/slider",label:"Slider"},{to:"/cookbook/spinner",label:"Spinner"},{to:"/cookbook/tabs",label:"Tabs"},{to:"/cookbook/tooltip",label:"Tooltip"}]}]};function N(){return gl}class Wp extends Ce{async getPrice(e){const t=`ethereum:${e}`;return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins[t])}async getPrices(e){const t=e.map(a=>`ethereum:${a}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${t}`).then(a=>a.coins)}async getData(e){return this.fetch(`https://api.llama.fi/updatedProtocol/${e}`)}}const qp="https://prices.curve.fi/v1";class Hp extends Ce{async getChain(){return this.fetch(`${qp}/chains/ethereum?page=1&per_page=0`)}}const Np={class:"kpis"},Gp=S({__name:"KPIs",setup(n){const e=new Wp(N()),t=new Hp(N()),a=L(null),o=L(null),l=L(null),c=L(null);return H(async()=>{const v=t.getChain();try{o.value=await e.getData("curve-finance").then(r=>r.mcap),a.value=await e.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price)}catch{[a.value,o.value]=[0,0]}try{const r=await v;l.value=r.total.total_tvl,c.value=r.total.trading_volume_24h}catch{l.value=0,c.value=0}}),(v,r)=>(y(),$("div",Np,[m(s(Ie),{label:"CRV price","has-value":!!a.value},{default:b(()=>[m(s(O),{value:a.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(s(Ie),{label:"CRV market cap","has-value":!!o.value},{default:b(()=>[m(s(O),{value:o.value,precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(s(Ie),{label:"Total Value Locked","has-value":!!l.value},{default:b(()=>[m(s(O),{value:l.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(s(Ie),{label:"7-day Volume","has-value":!!c.value},{default:b(()=>[m(s(O),{value:c.value,precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])]))}});const Qp=I(Gp,[["__scopeId","data-v-929ba135"]]),Be="https://api-py.llama.airforce/curve/v1";let Tt=class extends Ce{async getLiquidityTop(){return this.fetch(`${Be}/protocol/liquidity/top`)}async getTradesLarge(){return this.fetch(`${Be}/protocol/size/trades`)}async getTvlGainers(){return this.fetch(`${Be}/protocol/tvl/gainers`)}async getTvlLosers(){return this.fetch(`${Be}/protocol/tvl/losers`)}async getTvlBreakdownType(){return this.fetch(`${Be}/protocol/tvl/type_breakdown`)}async getTvlBreakdownChain(){return this.fetch(`${Be}/protocol/tvl/chain_breakdown`)}async getVolumeBreakdownType(){return this.fetch(`${Be}/protocol/volume/type_breakdown`)}async getVolumeBreakdownChain(){return this.fetch(`${Be}/protocol/volume/chain_breakdown`)}};const Yp=S({__name:"ChartChainType",setup(n){const e=new Tt(N()),t=G(),{loading:a,data:o}=re(()=>e.getTvlBreakdownChain().then(r=>r.tvl_breakdown_chain.sort((p,d)=>d.tvl-p.tvl)),[]),l=C(()=>{const r=W(t.theme),p=te(t.theme);return ve({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=c.value[d.seriesIndex].name,_=d.series[d.seriesIndex][d.dataPointIndex];return[`<div><b>${g}</b>:</div><div>${v(_[0])}</div>`].join("")}}})}),c=C(()=>[...o.value.map(r=>({name:r.chain,data:[r.tvl,r.tvl]}))]),v=r=>`$${K(Math.abs(r),1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(ge),{class:"chart",title:"TVL & Volume per Chain",loading:s(a),options:l.value,series:c.value},null,8,["loading","options","series"]))}});const jp=I(Yp,[["__scopeId","data-v-331f9b7a"]]),Jp=S({__name:"ChartLiquidityTop",setup(n){const e=new Tt(N()),t=G(),{loading:a,data:o}=re(()=>e.getLiquidityTop().then(d=>d.liquidity_use.sort((g,_)=>_.liq_use-g.liq_use)),[]),l=C(()=>{const d=W(t.theme),g=te(t.theme);return ve({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:r}},yaxis:{labels:{formatter:p}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:_=>{var k;const h=c.value[_.dataPointIndex],u=_.series[0][_.dataPointIndex],f=(k=o.value.find(x=>x.name===h))==null?void 0:k.chain;return`
            <div><b>${h}</b>:</div>
            <div>${r(u)}</div>
            <div>${f}<div>`}}})}),c=C(()=>o.value.map(d=>d.name)),v=C(()=>[{data:o.value.map(d=>d.liq_use)}]),r=d=>`${K(Math.abs(d),2,"dollar")}`,p=d=>d.toString().substring(0,12);return(d,g)=>(y(),P(s(ge),{class:"chart",title:"Liquidity Usage",loading:s(a),options:l.value,series:v.value},null,8,["loading","options","series"]))}});const Kp=I(Jp,[["__scopeId","data-v-84cc6f52"]]),Zp=S({__name:"ChartRanking",setup(n){const e=new Tt(N()),t=G(),{loading:a,data:o}=re(async()=>{const d=e.getTvlGainers(),g=e.getTvlLosers(),[_,h]=[await d,await g];return[..._.tvl_gainers,...h.tvl_losers].sort((u,f)=>f.tvl_growth-u.tvl_growth)},[]),l=C(()=>{const d=W(t.theme),g=te(t.theme);return ve({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},colors:[_=>_.value<0?d.red:d.green],xaxis:{categories:c.value,labels:{formatter:r}},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:_=>{var k;const h=c.value[_.dataPointIndex],u=_.series[0][_.dataPointIndex],f=(k=o.value.find(x=>x.name===h))==null?void 0:k.chain;return`
            <div><b>${h}</b>:</div>
            <div>${p(u)}</div>
            <div>${f}<div>`}}})}),c=C(()=>o.value.map(d=>d.name)),v=C(()=>[{data:o.value.map(d=>d.tvl_growth)}]),r=d=>d.toString().substring(0,12),p=d=>`${K(d,0,"dollar")}${J(d,"percentage")}`;return(d,g)=>(y(),P(s(ge),{class:"chart",title:"TVL Gainers & Losers",loading:s(a),options:l.value,series:v.value},null,8,["loading","options","series"]))}});const Xp=I(Zp,[["__scopeId","data-v-fde419c5"]]),em=n=>(oe("data-v-4d7fe11c"),n=n(),se(),n),tm=em(()=>i("div",null,"Largest Trades",-1)),am=["href"],nm={class:"number"},om=S({__name:"TableTrades",setup(n){const e=new Tt(N()),{data:t}=re(()=>e.getTradesLarge().then(a=>a.large_trades.sort((o,l)=>l.value-o.value)).then(a=>a.slice(0,10)),[]);return(a,o)=>(y(),P(s(ke),{class:"datatable-trades","columns-header":"1fr","columns-data":"trades-columns-data",rows:s(t),columns:["Tx","Name","Value"]},{"header-title":b(()=>[tm]),row:b(l=>[i("div",{onClick:o[0]||(o[0]=De(()=>{},["stop"]))},[i("a",{class:"vote-link",href:`https://etherscan.io/tx/${l.item.tx}`,target:"_blank"},A(s(Pe)(l.item.tx)),9,am)]),i("div",null,A(l.item.name),1),i("div",nm,[m(s(O),{value:l.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"]))}});const sm=I(om,[["__scopeId","data-v-4d7fe11c"]]),lm={class:"home"},rm={class:"controls-container"},im={class:"data-1"},cm={class:"data-2"},um=S({__name:"Home",setup(n){const e=L("");return(t,a)=>(y(),$("div",lm,[i("div",rm,[m(s(fe),{modelValue:e.value,"onUpdate:modelValue":a[0]||(a[0]=o=>e.value=o),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),i("div",im,[m(Qp),m(jp),m(Kp)]),i("div",cm,[m(sm),m(Xp)])]))}});const dm=I(um,[["__scopeId","data-v-c903325c"]]),rt=Ve({id:"curvePoolsStore",state:()=>({pools:[],poolsLoading:!1,poolsLoadingError:!1,candles:{},reserves:{},volumes:{}}),actions:{setCandles(n,e){this.candles[n]=e},setReserves(n,e){this.reserves[n]=e},setVolumes(n,e){this.volumes[n]=e}}});function pm(n,e){const t=n.toLocaleLowerCase(),a=Le(e.name).toLocaleLowerCase().includes(t),o=e.symbol.toLocaleLowerCase().includes(t),l=t.startsWith("0x")&&e.address.toLocaleLowerCase().includes(t);return a||o||l}const mm={key:0,class:"item"},_m=["src"],vm={class:"label"},fm={key:0,class:"description"},hm={class:"volume"},Co=S({__name:"SearchPool",props:{modelValue:{}},emits:["update:modelValue","select"],setup(n,{emit:e}){const{t}=R(),a=e,o=rt(),l=L(!1),c=L(t("search-placeholder")),v=C(()=>o.pools),r=(u,f)=>pm(u,f),p=(u,f)=>d(f)-d(u),d=u=>u.cumulativeVolumeUSD,g=u=>{const f=Le(u.name);return f.startsWith("Curve.fi ")?f.slice(9):f},_=u=>{l.value=!!u},h=u=>{const f=u;l.value=!1,a("select",f)};return D([()=>o.poolsLoading,()=>o.poolsLoadingError],([u,f])=>{f?c.value=t("search-error"):u?c.value=t("search-loading"):c.value=t("search-placeholder")}),(u,f)=>(y(),P(s(fe),{class:"select-pool","model-value":u.modelValue,placeholder:c.value,search:!0,"auto-complete":l.value,options:v.value,filter:r,sort:p,"onUpdate:modelValue":f[0]||(f[0]=w=>a("update:modelValue",w)),onInput:_,onSelect:h},{item:b(w=>[w.item?(y(),$("div",mm,[i("img",{src:s(ra)(w.item.name,!1)},null,8,_m),i("div",vm,A(g(w.item)),1),w.idx===0?(y(),$("div",fm,A(s(t)("search-description")),1)):V("",!0),i("div",hm,[m(s(O),{value:d(w.item),precision:2,type:"dollar"},null,8,["value"])])])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function Va(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])},"search-description":t=>{const{normalize:a}=t;return a(["Cumulative Volume"])}}})}typeof Va=="function"&&Va(Co);const ym=I(Co,[["__scopeId","data-v-0c13035c"]]),So=S({__name:"Balances",props:{poolSelected:{}},setup(n){const{t:e}=R(),t=rt(),a=G(),o=C(()=>n.poolSelected?t.reserves[n.poolSelected.address]??[]:[]),l=C(()=>{var _,h,u;return n.poolSelected?(u=(h=(_=t.reserves[n.poolSelected.address])==null?void 0:_[0])==null?void 0:h.reservesUSD)==null?void 0:u.length:0}),c=C(()=>{const _=W(a.theme),h=te(a.theme);return ve({colors:_,colorsArray:h},{chart:{id:"balances",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:[...Array(l.value).keys()].map(u=>p(u)),dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:u=>[...Array(l.value).keys()].map(k=>u.w.globals.initialSeries[k].data[u.dataPointIndex].y).map((k,x)=>`<div><b>${r(x).substring(0,10)}</b>:</div><div>${g(k)}</div>`).join("")}})}),v=C(()=>[...Array(l.value).keys()].map(_=>d(_))),r=_=>{var h,u;return((u=(h=n.poolSelected)==null?void 0:h.coins)==null?void 0:u[_])??"0x?"},p=_=>({seriesName:r(_),tickAmount:4,labels:{formatter:h=>g(h)},min:0,max:100,show:_===0}),d=_=>({name:r(_),type:"line",data:o.value.map(h=>({x:h.timestamp*1e3,y:h.reservesUSD[_]/h.reservesUSD.reduce((u,f)=>u+f,0)*100}))}),g=_=>`${K(_,2,"percentage")}${J(_,"percentage")}`;return(_,h)=>(y(),P(s(ge),{class:"balances",title:s(e)("title"),options:c.value,series:v.value},null,8,["title","options","series"]))}});function za(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof za=="function"&&za(So);const gm=I(So,[["__scopeId","data-v-4c361370"]]),xo=S({__name:"Reserves",props:{poolSelected:{}},setup(n){const{t:e}=R(),t=rt(),a=G(),o=C(()=>n.poolSelected?t.reserves[n.poolSelected.address]??[]:[]),l=C(()=>{const r=W(a.theme),p=te(a.theme);return ve({colors:r,colorsArray:p},{chart:{id:"reserves",type:"area",animations:{enabled:!1}},colors:p,xaxis:{type:"datetime"},yaxis:{labels:{formatter:d=>v(d)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=d.w.globals.initialSeries[d.seriesIndex].data[d.dataPointIndex].y;return`<div><b>${e("tvl")}</b>:</div><div>${v(g)}</div>`}}})}),c=C(()=>[{name:"reserves",data:o.value.map(r=>({x:r.timestamp*1e3,y:r.reservesUSD.reduce((p,d)=>p+d,0)}))}]),v=r=>`$${K(r,1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(ge),{class:"reserves",title:s(e)("title"),options:l.value,series:c.value},null,8,["title","options","series"]))}});function Ba(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Reserves"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof Ba=="function"&&Ba(xo);const bm=I(xo,[["__scopeId","data-v-d65b80df"]]),wm={class:"buttons"},Ao=S({__name:"Candles",props:{poolSelected:{}},setup(n){const{t:e}=R();let t,a,o,l=1,c=0;const v=rt(),r=G(),p=L(null),d=L(!1);H(()=>{if(!p.value)return;const u=W(r.theme);t=me(p.value,{width:p.value.clientWidth,height:p.value.clientHeight,layout:{background:{type:na.Solid,color:u.backgroundColor},textColor:u.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:u.level2,style:oa.Dashed}},crosshair:{mode:Yn.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:f=>h(f)}}),a=t.addCandlestickSeries({upColor:u.green,borderUpColor:u.green,wickUpColor:u.green,downColor:u.red,borderDownColor:u.red,wickDownColor:u.red,priceFormat:{type:"price",precision:6,minMove:1e-6}}),o=t.addHistogramSeries({color:u.blue,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left"})});const g=C(()=>{var f;const u=(f=n.poolSelected)==null?void 0:f.address;return u?v.candles[u]??[]:[]});D(g,u=>{_(u,d.value)}),D(d,u=>{_(g.value,u)});const _=(u,f)=>{if(!t||!a||!o||!n.poolSelected)return;let w=n.poolSelected.coins[0].toLocaleLowerCase()===yl?-1:1;w=w*(f?-1:1);const k=z.chain(u).map(T=>({time:T.timestamp,open:Math.pow(T.open,w),high:Math.pow(T.high,w),low:Math.pow(T.low,w),close:Math.pow(T.close,w)})).uniqWith((T,F)=>T.time===F.time).orderBy(T=>T.time,"asc").value(),x=W(r.theme),M=z.chain(u).map(T=>({time:T.timestamp,value:T.token0TotalAmount,color:x.blue})).uniqWith((T,F)=>T.time===F.time).orderBy(T=>T.time,"asc").value();k.length>0&&M.length>0&&(a.setData(k),o.setData(M),t.timeScale().fitContent(),c=Math.min(...k.map(T=>T.low)),l=Math.max(...k.map(T=>T.high)))},h=u=>{const f=l-c,w=f>1?f-Math.floor(f):f,k=-Math.floor(Math.log10(w)+1)+2;return`${K(u,k,"dollar")}${J(u,"dollar")}`};return(u,f)=>(y(),P(s(j),{class:"candles",title:s(e)("title")},{default:b(()=>[i("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512),i("div",wm,[m(s(Re),{modelValue:d.value,"onUpdate:modelValue":f[0]||(f[0]=w=>d.value=w)},{default:b(()=>[U(A(s(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function Ra(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof Ra=="function"&&Ra(Ao);const $m=I(Ao,[["__scopeId","data-v-48222cbd"]]),Io=S({__name:"Volume",props:{poolSelected:{}},setup(n){const{t:e}=R(),t=rt(),a=G(),o=C(()=>n.poolSelected?t.volumes[n.poolSelected.address]??[]:[]),l=C(()=>{const r=W(a.theme),p=te(a.theme);return ve({colors:r,colorsArray:p},{chart:{id:"volumes",type:"area",animations:{enabled:!1}},colors:p,xaxis:{type:"datetime"},yaxis:{seriesName:"volume",tickAmount:4,labels:{formatter:d=>v(d)},min:Math.min(...o.value.map(d=>d.volumeUSD)),max:Math.max(...o.value.map(d=>d.volumeUSD))},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:d=>{const g=d.w.globals.initialSeries[0].data[d.dataPointIndex].y;return[`<div><b>${e("volume")}</b>:</div><div>${v(g)}</div>`].join("")}}})}),c=C(()=>[{name:e("volume"),data:o.value.map(r=>({x:r.timestamp*1e3,y:r.volumeUSD}))}]),v=r=>`$${K(Math.abs(r),1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(ge),{class:"volumes",title:s(e)("volume"),options:l.value,series:c.value},null,8,["title","options","series"]))}});function Oa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{volume:t=>{const{normalize:a}=t;return a(["Volume"])}}})}typeof Oa=="function"&&Oa(Io);const km=I(Io,[["__scopeId","data-v-edb08b4b"]]),Cm="https://api-py.llama.airforce/curve/v1";let Sm=class extends Ce{async get(){return this.fetch(`${Cm}/pools/mainnet/all`)}};const xm="https://api.thegraph.com/subgraphs/name/convex-community/volume-mainnet";class Am extends Ce{async get(e){let t=0;return Kn(async(o,l)=>{const c=`{
        candles(
          where: {
            pool: "${e.address}"
            period: 3600
            timestamp_gte: ${t}
          }
          first: ${l}
        ) {
          timestamp
          open
          close
          low
          high
          token0TotalAmount
        }
      }`,v=await this.fetch(xm,{query:c}).then(r=>r.data.candles.map(p=>({timestamp:parseInt(p.timestamp,10),open:parseFloat(p.open),high:parseFloat(p.high),low:parseFloat(p.low),close:parseFloat(p.close),token0TotalAmount:parseFloat(p.token0TotalAmount)})));return t=Math.max(...v.map(r=>r.timestamp)),v})}}const Im="https://api-py.llama.airforce/curve/v1";class Mm extends Ce{async get(e){return this.fetch(`${Im}/pools/mainnet/reserves/${e.address}`)}}const Lm="https://api-py.llama.airforce/curve/v1";let Pm=class extends Ce{async get(e){return this.fetch(`${Lm}/pools/mainnet/volume/${e.address}`)}};async function Tm(n,e){if(n.pools.length>0||n.poolsLoading)return;n.poolsLoading=!0;const{pools:t}=await e.get();n.pools=t,n.poolsLoading=!1}async function Dm(n,e,t){if(t&&!n.reserves[t.name]){n.poolsLoading=!0;try{const{reserves:a}=await e.get(t);n.setReserves(t.address,a)}finally{n.poolsLoading=!1}}}async function Vm(n,e,t){if(t&&!n.candles[t.name]){n.poolsLoading=!0;try{const a=await e.get(t);a&&n.setCandles(t.address,a)}finally{n.poolsLoading=!1}}}async function zm(n,e,t){if(t&&!n.volumes[t.name]){n.poolsLoading=!0;try{const{volume:a}=await e.get(t);n.setVolumes(t.address,a)}finally{n.poolsLoading=!1}}}const Bm={class:"pools"},Rm=S({__name:"Pools",setup(n){const e=new Sm(N()),t=new Mm(N()),a=new Am(N()),o=new Pm(N()),l=rt(),c=L(""),v=L(null);H(async()=>{await Tm(l,e)});const r=p=>{const d=p;c.value=Le(d.name),v.value=d,Vm(l,a,d),Dm(l,t,d),zm(l,o,d)};return(p,d)=>(y(),$("div",Bm,[m(ym,{modelValue:c.value,"onUpdate:modelValue":d[0]||(d[0]=g=>c.value=g),onSelect:r},null,8,["modelValue"]),i("div",{class:B(["data",{loading:s(l).poolsLoading}])},[v.value?(y(),P($m,{key:0,class:"candles","pool-selected":v.value},null,8,["pool-selected"])):V("",!0),v.value?(y(),P(bm,{key:1,class:"reserves","pool-selected":v.value},null,8,["pool-selected"])):V("",!0),v.value?(y(),P(km,{key:2,class:"volumes","pool-selected":v.value},null,8,["pool-selected"])):V("",!0),v.value?(y(),P(gm,{key:3,class:"balances","pool-selected":v.value},null,8,["pool-selected"])):V("",!0),s(l).poolsLoading?(y(),P(s(vt),{key:4,class:"spinner"})):V("",!0)],2)]))}});const Om=I(Rm,[["__scopeId","data-v-24a1f43e"]]),Qe=Ve({id:"curveStore",state:()=>({gauges:[],emissions:{},fees:{},breakdown:[],chainRevenues:[],selectedChain:"mainnet",topPools:{}}),actions:{setEmissions(n,e){this.emissions[n]=e},setFees(n,e){this.fees[n]=e},setTopPools(n,e){this.topPools[n]=e}}});function Ye(n){const e=n.reduce((t,{timeStamp:a,value:o})=>t.set(a,(t.get(a)??0)+o),new Map);return Array.from(e).map(t=>({timeStamp:t[0],value:t[1]}))}const Mo=S({__name:"GraphEmissions",props:{gaugeSelected:{}},setup(n){const{t:e}=R(),t=Qe(),a=G(),o=C(()=>{let u=e("title");return n.gaugeSelected&&(u+=` - ${Le(n.gaugeSelected.name)}`),u}),l=C(()=>n.gaugeSelected?t.emissions[n.gaugeSelected.name]??[]:[]),c=C(()=>n.gaugeSelected?t.fees[n.gaugeSelected.name]??[]:[]),v=C(()=>Math.min(...Ye(l.value).map(u=>u.value).concat(Ye(c.value).map(u=>u.value)))),r=C(()=>Math.max(...Ye(l.value).map(u=>u.value).concat(Ye(c.value).map(u=>u.value)).map(u=>Math.abs(u)))),p=C(()=>{const u=W(a.theme),f=te(a.theme);return ve({colors:u,colorsArray:f},{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:w=>g(w)},min:v,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:w=>_(w)},show:!1,min:v,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:w=>{const k=w.w.globals.initialSeries[0].data[w.dataPointIndex].y,x=w.w.globals.initialSeries[1].data[w.dataPointIndex]?w.w.globals.initialSeries[1].data[w.dataPointIndex].y:0;return[`<div><b>${e("emissions")}</b>:</div><div>${g(k)}</div>`,`<div><b>${e("fees")}</b>:</div><div>${_(x)}</div>`,`<div><b>${e("ratio")}</b>:</div><div>${h(x/k)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(w){return w}}})}),d=C(()=>{const u=Ye(l.value),f=Ye(c.value),w=Object.assign({},...f.map(k=>({[k.timeStamp]:k.value})));return[{name:e("emissions"),type:"line",data:u.map(k=>({x:k.timeStamp*1e3,y:k.value}))},{name:e("fees"),type:"line",data:u.map(k=>({x:k.timeStamp*1e3,y:w[k.timeStamp]?Math.abs(w[k.timeStamp]):0}))}]}),g=u=>`$${K(Math.abs(u),1,"dollar")}${J(u,"dollar")}`,_=u=>`$${K(u,1,"dollar")}${J(u,"dollar")}`,h=u=>`${Ee(u,2)}`;return(u,f)=>(y(),P(s(ge),{class:"emissions",title:o.value,options:p.value,series:d.value},null,8,["title","options","series"]))}});function Fa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Emissions & Revenues"])},emissions:t=>{const{normalize:a}=t;return a(["Emissions"])},fees:t=>{const{normalize:a}=t;return a(["Fees"])},ratio:t=>{const{normalize:a}=t;return a(["Ratio"])}}})}typeof Fa=="function"&&Fa(Mo);const Fm=I(Mo,[["__scopeId","data-v-09c5de16"]]),Em={class:"logo"},Um=["src"],Wm={class:"number"},qm={key:0,class:"graphs"},Hm={key:1},Lo=S({__name:"TableGauges",props:{expanded:{default:()=>[]}},setup(n){const{t:e}=R(),t=Qe(),{sortColumn:a,sortOrder:o,onSort:l}=yi("tvl"),c=C(()=>z.orderBy(t.gauges,v=>{switch(a.value){case"name":return Le(v.name);case"tvl":return v.tvl;default:return v.tvl}},o.value===we.Descending?"desc":"asc"));return(v,r)=>(y(),P(s(ke),{class:"datatable-gauges","columns-header":"1fr","columns-data":"gauges-columns-data",rows:c.value,columns:["",s(e)("name"),s(e)("tvl")],sorting:!0,"sorting-columns":["","name","tvl"],"sorting-columns-enabled":["name","tvl"],"sorting-default-column":"tvl","sorting-default-dir":"Descending",expanded:v.expanded,onSortColumn:s(l)},{"header-title":b(()=>[i("div",null,A(s(e)("title")),1)]),row:b(p=>[i("div",Em,[i("img",{class:"logo-img",src:s(ra)(p.item.name,!1)},null,8,Um)]),i("div",null,A(s(Le)(p.item.name)),1),i("div",Wm,[m(s(O),{value:p.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":b(p=>[v.expanded.includes(p.item)?(y(),$("div",qm,[m(Fm,{class:"fees-and-emissions","gauge-selected":p.item},null,8,["gauge-selected"])])):(y(),$("span",Hm))]),_:1},8,["rows","columns","expanded","onSortColumn"]))}});function Ea(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{name:t=>{const{normalize:a}=t;return a(["Name"])},tvl:t=>{const{normalize:a}=t;return a(["TVL"])},title:t=>{const{normalize:a}=t;return a(["Curve Pools"])}}})}typeof Ea=="function"&&Ea(Lo);const Nm=I(Lo,[["__scopeId","data-v-a001447b"]]);class Gm extends Ce{async get(){return this.fetch(`${this.host}/curvepool`)}}class Qm extends Ce{async get(e){return this.fetch(`${this.host}/curvepoolsnapshots`,{pool:e.name})}}const Ym={class:"gauges"},jm=S({__name:"Gauges",setup(n){let e=!1;const t=new Gm(N()),a=new Qm(N()),o=Qe(),l=He(),c=st(),{expanded:v,toggleExpansion:r}=fo();H(async()=>{e=!0;const _=await xt(t.get());if(_){const h=_.pools;if(h.sort((f,w)=>w.tvl-f.tvl),o.gauges=h,!e)return;const u=l.params.gauge;u&&typeof u=="string"&&d(u)}}),Ys(()=>{e=!1});const p=async _=>{if(!_||o.fees[_.name]&&o.emissions[_.name])return;const h=await xt(a.get(_),500);if(h){const u=h.data.feeSnapshots,f=h.data.emissionSnapshots;o.setFees(_.name,u),o.setEmissions(_.name,f)}},d=_=>{const h=Xn(_),u=o.gauges.find(f=>f.name===h);u&&r(u)&&p(u)},g=async _=>{r(_)&&(p(_),await c.push({name:"curvegauges",params:{gauge:Le(_.name)}}))};return(_,h)=>(y(),$("div",Ym,[m(Nm,{class:"datatable-gauges",expanded:s(v),onSelected:g},null,8,["expanded"])]))}});const Jm=I(jm,[["__scopeId","data-v-d1c3b3aa"]]),Km="https://api-py.llama.airforce/curve/v1/protocol/revenue/historical/breakdown?from=1686750777",Zm="https://api-py.llama.airforce/curve/v1/protocol/revenue/chains";class Po extends Ce{async getBreakdown(e){return this.fetch(Km,void 0,e).then(t=>t.revenue)}async getByChain(e){return this.fetch(Zm,void 0,e).then(t=>t.revenue)}async getTopPools(e,t=10){const a=`https://api-py.llama.airforce/curve/v1/protocol/revenue/${e}/toppools/${t}`;return this.fetch(a).then(o=>o.revenue)}}const Xm=S({__name:"GraphRevenueBreakdown",setup(n){const e=Qe(),t=G(),a=C(()=>e.breakdown??[]),o=C(()=>{const _=W(t.theme);let h=te(t.theme);return h=[h[0],g(h[0],10),g(h[0],20),h[1],g(h[1],10)],ve({colors:_,colorsArray:h},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:p,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:d},min:0,max:r.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),l=C(()=>z.chain(a.value).groupBy(_=>_.week).map(_=>({week:_[0].week,numLabels:_.length})).orderBy(_=>_.week,"asc").dropWhile(_=>_.numLabels<3).map(_=>_.week).value()),c=C(()=>z.chain(l.value).map(_=>new Date(_*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),v=C(()=>z.chain(a.value).groupBy(_=>_.label).map((_,h)=>({name:h,data:z.chain(l.value).map(u=>({week:u,breakdown:_.find(f=>f.week===u)})).map(u=>{var f;return{x:new Date(u.week*1e3).toLocaleDateString(),y:((f=u.breakdown)==null?void 0:f.total_fees)??0}}).value()})).value()),r=C(()=>{let _=0;for(let h=0;h<l.value.length;h++)_=Math.max(_,v.value.map(u=>u.data[h].y).reduce((u,f)=>u+f,0));return _*1.1}),p=_=>_,d=_=>`$${K(_,0,"dollar")}${J(_,"dollar")}`,g=(_,h)=>{let[u,f,w]=[_.slice(1,3),_.slice(3,5),_.slice(5,7)].map(x=>parseInt(x,16));const k=(x,M)=>Math.min(255,Math.max(0,M+Math.round(2.55*x)));return u=k(h,u),f=k(h,f),w=k(h,w),`#${u.toString(16).padStart(2,"0")}${f.toString(16).padStart(2,"0")}${w.toString(16).padStart(2,"0")}`};return(_,h)=>(y(),P(s(ge),{class:"graph",options:o.value,series:v.value},null,8,["options","series"]))}});const e_=I(Xm,[["__scopeId","data-v-07cdddf5"]]),t_=S({__name:"GraphRevenueChain",setup(n){const e=Qe(),t=G(),a=C(()=>z.orderBy(e.chainRevenues??[],v=>v.totalDailyFeesUSD,"asc")),o=C(()=>{const v=W(t.theme),r=te(t.theme);return ve({colors:v,colorsArray:r},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const d=p.w.globals.labels[p.seriesIndex],g=p.series[p.seriesIndex][0];return[`<div><b>${d}</b>:</div><div>${c(g)}</div>`].join("")}},labels:a.value.map(p=>p.chain)})}),l=C(()=>a.value.map(v=>v.totalDailyFeesUSD)),c=v=>`$${K(Math.abs(v),1,"dollar")}${J(v,"dollar")}`;return(v,r)=>(y(),P(s(ge),{class:"graph",options:o.value,series:l.value},null,8,["options","series"]))}});const a_=I(t_,[["__scopeId","data-v-88256624"]]);function At(n){return n==="all"?"":`icons/chains/${(t=>{switch(t){case"mainnet":return"mainnet.svg";case"avalanche":return"avalanche.svg";case"arbitrum":return"arbitrum.png";case"fantom":return"fantom.svg";case"xdai":return"xdai.png";case"harmony":return"harmony.svg";case"moonbeam":return"moonbeam.png";case"matic":return"matic.svg";case"optimism":return"optimism.png";default:return""}})(n)}`}const n_={key:0,class:"item"},o_=["src"],s_={key:1,class:"empty"},l_={class:"label"},r_=S({__name:"SelectChain",props:{chain:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(n,{emit:e}){const t=e,a=L(!1),o=[...n.all?[{chain:"all",label:"All"}]:[],{chain:"mainnet",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"}],l=C(()=>o.find(p=>p.chain===n.chain)??null);H(()=>{r(o[0])});const c=p=>p.label,v=()=>{a.value=!a.value},r=p=>{const{chain:d}=p;t("select-chain",d)};return(p,d)=>(y(),P(s(qe),{class:"select",options:o,selected:l.value,open:a.value,onOpen:v,onClose:d[0]||(d[0]=g=>a.value=!1),onInput:r},{item:b(g=>[g.item?(y(),$("div",n_,[s(At)(g.item.chain)?(y(),$("img",{key:0,src:s(At)(g.item.chain)},null,8,o_)):(y(),$("div",s_)),i("div",l_,A(c(g.item)),1)])):V("",!0)]),_:1},8,["selected","open"]))}});const To=I(r_,[["__scopeId","data-v-7d200270"]]),i_=S({__name:"GraphRevenueTopPools",setup(n){const e=new Po(N()),t=Qe(),a=G(),o=L(!1),l=C(()=>t.selectedChain),c=C(()=>l.value?t.topPools[l.value]??[]:[]),v=C(()=>{const _=W(a.theme),h=te(a.theme);return ve({colors:_,colorsArray:h},{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value.map(u=>u.name),labels:{formatter:p}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:p,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}})});H(()=>{g("mainnet")});const r=C(()=>[{data:c.value.map(_=>_.totalDailyFeesUSD)}]),p=_=>`$${K(Math.abs(_),1,"dollar")}${J(_,"dollar")}`,d=async _=>{if(_&&!t.topPools[_]){o.value=!0;try{const h=await xt(e.getTopPools(_),500);h&&t.setTopPools(_,h)}finally{o.value=!1}}},g=_=>{_!=="all"&&(t.selectedChain=_,d(_))};return(_,h)=>(y(),P(s(ge),{class:"graph",options:v.value,series:r.value,loading:o.value},{default:b(()=>[i("div",{class:B(["selector",{loading:o.value}])},[m(To,{chain:s(t).selectedChain,onSelectChain:g},null,8,["chain"])],2)]),_:1},8,["options","series","loading"]))}});const c_=I(i_,[["__scopeId","data-v-f8dfa23c"]]),u_={class:"revenue-charts"},Do=S({__name:"Dashboard",setup(n){const e=new Po(N()),{t}=R(),a=Qe(),o=L(!1),l=L(!1),c=L(!1),v=new AbortController;return js(()=>{a.chainRevenues.length>0||(o.value=!0,l.value=!0,c.value=!0,e.getByChain(v.signal).then(r=>{r&&(a.chainRevenues=r,o.value=!1)}),e.getBreakdown(v.signal).then(r=>{r&&(a.breakdown=r,c.value=!1)}))}),Js(()=>{v.abort()}),(r,p)=>(y(),$("div",u_,[m(a_,{class:"chain-revenues",title:s(t)("revenue-charts"),loading:o.value},null,8,["title","loading"]),m(c_,{class:"chain-top-pools",title:s(t)("chain-top-pools")},null,8,["title"]),m(e_,{class:"breakdown",title:s(t)("breakdown"),loading:c.value},null,8,["title","loading"])]))}});function Ua(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"revenue-charts":t=>{const{normalize:a}=t;return a(["Total revenue by chain"])},"chain-top-pools":t=>{const{normalize:a}=t;return a(["Top 10 pools by revenue (last 7 days)"])},breakdown:t=>{const{normalize:a}=t;return a(["Revenue breakdown by source"])}}})}typeof Ua=="function"&&Ua(Do);const d_=I(Do,[["__scopeId","data-v-7205e1b5"]]),p_="https://api-py.llama.airforce/curve/v1";class m_ extends Ce{async getCushions(){return this.fetch(`${p_}/protocol/couch/cushions`)}}const ya=n=>(oe("data-v-82a4444c"),n=n(),se(),n),__={class:"chain"},v_=["src"],f_={class:"label"},h_={class:"number"},y_=ya(()=>i("div",null,null,-1)),g_=ya(()=>i("div",null,null,-1)),b_=ya(()=>i("div",null,null,-1)),w_={class:"number"},Vo=S({__name:"TableCushions",setup(n){const{t:e}=R(),t=new m_(N()),a=L(""),o=L("all"),l=C(()=>z.chain(v.value).filter(r=>r.totalUSD>100).filter(r=>{const p=a.value.toLocaleLowerCase().split(" "),d=_=>p.some(h=>_.toLocaleLowerCase().includes(h)),g=o.value==="all"?!0:o.value===r.chain;return(d(r.pool)||d(r.address)||d(r.chain)||d(r.coins.join(" ")))&&g}).value()),{loading:c,data:v}=re(()=>t.getCushions().then(r=>r.cushions.sort((p,d)=>d.totalUSD-p.totalUSD)),[]);return(r,p)=>(y(),P(s(ke),{class:"datatable-cushions","columns-header":"1fr 12rem minmax(auto, 25rem)","columns-data":"cushions-columns-data",loading:s(c),rows:l.value,columns:["Name","Coins","Chain","Fees ($)"]},{"header-title":b(()=>[i("div",null,A(s(e)("title")),1),m(To,{class:"chain-select",chain:o.value,all:!0,onSelectChain:p[0]||(p[0]=d=>o.value=d)},null,8,["chain"]),m(s(fe),{modelValue:a.value,"onUpdate:modelValue":p[1]||(p[1]=d=>a.value=d),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:b(d=>[i("div",null,A(d.item.pool),1),i("div",null,A(d.item.coinNames.join(" / ")),1),i("div",__,[s(At)(d.item.chain)?(y(),$("img",{key:0,src:s(At)(d.item.chain)},null,8,v_)):V("",!0),i("span",f_,A(d.item.chain),1)]),i("div",h_,[m(s(O),{value:d.item.totalUSD,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[y_,g_,b_,i("div",w_,[m(s(O),{value:l.value.reduce((d,g)=>d+g.totalUSD,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows","columns"]))}});function Wa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Cushions"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Wa=="function"&&Wa(Vo);const $_=I(Vo,[["__scopeId","data-v-82a4444c"]]),k_={class:"cushions"},C_=S({__name:"Cushions",setup(n){return(e,t)=>(y(),$("div",k_,[m($_)]))}});const S_=I(C_,[["__scopeId","data-v-fc9c8adf"]]),x_={class:"revenue"},A_=S({__name:"Revenue",setup(n){const e=He(),t=st(),a=L(0);return H(()=>{const o=e.params.tab;o&&typeof o=="string"&&o==="cushions"&&(a.value=1)}),D(a,async o=>{o===0?await t.push({name:"revenue",params:{tab:""}}):o===1&&await t.push({name:"revenue",params:{tab:"cushions"}})}),(o,l)=>(y(),$("div",x_,[m(s(lt),{active:a.value,onTab:l[0]||(l[0]=c=>a.value=c.index)},{default:b(()=>[m(s(ce),{header:"Revenue"},{default:b(()=>[(y(),P(_t,null,[a.value===0?(y(),P(d_,{key:0})):V("",!0)],1024))]),_:1}),m(s(ce),{header:"Cushions"},{default:b(()=>[(y(),P(_t,null,[a.value===1?(y(),P(S_,{key:0})):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const I_=I(A_,[["__scopeId","data-v-282c427f"]]),zo=Ve({id:"curveUsdStore",state:()=>({market:null})}),ne="https://api-py.llama.airforce/curve/v1";class ue extends Ce{async getMarkets(){return this.fetch(`${ne}/crvusd/markets`)}async getMarketVolume(e){return this.fetch(`${ne}/crvusd/markets/${e}/volume`)}async getMarketLoans(e){return this.fetch(`${ne}/crvusd/markets/${e}/loans`)}async getMarketRates(e){return this.fetch(`${ne}/crvusd/markets/${e}/rate/daily`)}async getMarketUserStates(e,t,a){return this.fetch(`${ne}/crvusd/markets/${e}/users/states?offset=${t}&limit=${a}`)}async getPoolStats(){return this.fetch(`${ne}/crvusd/pools/stats`)}async getPoolPrices(){return this.fetch(`${ne}/crvusd/prices`)}async getCrvUsdPriceHistogram(){return this.fetch(`${ne}/crvusd/prices/hist`)}async getCrvUsdSupply(){return this.fetch(`${ne}/crvusd/supply`)}async getFees(){return this.fetch(`${ne}/crvusd/fees`)}async getFeesBreakdown(){return this.fetch(`${ne}/crvusd/fees/breakdown`)}async getKeepersDebt(){return this.fetch(`${ne}/crvusd/keepers/debt`)}async getKeepersProfit(){return this.fetch(`${ne}/crvusd/keepers/profit`)}async getYield(){return this.fetch(`${ne}/crvusd/yield`)}async getHistoricalSoftLiquidations(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/losses/historical/soft`)}async getHistoricalMedianLoss(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/losses/historical/median`)}async getHistoricalAverageHealth(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/health/historical`)}async getHealthDeciles(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/health`)}async getProportionLosers(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/losses/historical/proportions`)}async getHistoricalLiquidations(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/historical`)}async getTopLiquidators(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/liquidators`)}async getMarketStateHealth(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/state`)}async getMarketAvailableCap(e){return this.fetch(`${ne}/crvusd/markets/${e}/available`)}async getLiquidatorRevenue(e){return this.fetch(`${ne}/crvusd/markets/${e}/liquidations/liquidators/revenue`)}async getHistoricalCollateralRatio(e){return this.fetch(`${ne}/crvusd/markets/${e}/collateral_ratio`)}}const it=n=>(oe("data-v-697d5e8a"),n=n(),se(),n),M_={class:"number"},L_={class:"number"},P_={class:"number"},T_={class:"premia"},D_={class:"best"},V_=it(()=>i("em",null,"Premia",-1)),z_={class:"top"},B_={class:"yields"},R_={class:"number"},O_={class:"number"},F_={class:"number"},E_={class:"number"},U_=it(()=>i("div",null,null,-1)),W_={class:"number"},q_=it(()=>i("div",null,null,-1)),H_=it(()=>i("div",null,null,-1)),N_=it(()=>i("div",null,null,-1)),G_={class:"number"},Q_=it(()=>i("div",null,null,-1)),Y_={class:"number"},j_={class:"number"},J_={class:"number"},Bo=S({__name:"TableMarkets",setup(n){const{t:e}=R(),t=new ue(N()),a=L(!0),o=L([]),l=L(""),c=L([]),v=C(()=>z.chain(c.value).maxBy(_=>_.apy).value()??null),r=C(()=>z.chain(c.value).orderBy(_=>_.apy,"desc").take(5).value()),p=C(()=>z.chain(o.value).filter(_=>{const h=l.value.toLocaleLowerCase().split(" "),u=f=>h.some(w=>f.toLocaleLowerCase().includes(w));return u(_.name)||u(_.address)}).value());H(async()=>{a.value=!0;const{markets:_}=await t.getMarkets(),{pending:h,collected:u}=await t.getFeesBreakdown();c.value=await t.getYield().then(f=>f.yields),o.value=_.map(f=>{const w={fees:{pending:h.find(k=>k.market===f.address),collected:u.find(k=>k.market===f.address)}};return{...f,...w}}).sort((f,w)=>w.totalCollateral-f.totalCollateral),a.value=!1});const d=_=>_?_.adminBorrowingFees+_.collateralAdminFeesUsd+_.crvUsdAdminFees:0,g=_=>_>=1e6?2:0;return(_,h)=>(y(),P(s(ke),{class:"datatable-markets","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"markets-columns-data",loading:a.value,rows:p.value,columns:["Name","Loans","Rate","Δ 24h","Premia","Borrowed","Δ 24h","Collateral","Fees Pending","Fees Collected"]},{"header-title":b(()=>[i("div",null,A(s(e)("title")),1),m(s(fe),{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=u=>l.value=u),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:b(u=>[i("div",null,A(u.item.name),1),i("div",M_,A(u.item.loans),1),i("div",L_,[m(s(O),{value:u.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),i("div",{class:B(["number delta",{negative:u.item.rateAbsDelta<0}])},[u.item.rateAbsDelta?(y(),P(s(O),{key:0,value:u.item.rateAbsDelta*100,precision:2,"show-unit":!1,type:"percentage"},null,8,["value"])):V("",!0)],2),i("div",P_,[v.value?(y(),P(s(Oe),{key:0},{item:b(()=>[i("span",{class:B(["number delta",{negative:v.value.apy-u.item.rate*100<0}])},[m(s(O),{value:v.value.apy-u.item.rate*100,precision:2,type:"percentage"},null,8,["value"])],2)]),default:b(()=>[i("div",T_,[i("span",D_,[V_,U(" for "),i("strong",null,A(u.item.name),1),U(" is max yield ("),m(s(O),{value:v.value.apy,precision:2,type:"percentage"},null,8,["value"]),U(") from "),i("strong",null,A(v.value.pool),1),U(" farmed on "),i("strong",null,A(v.value.platform),1),U(" minus the borrow rate ("),m(s(O),{value:u.item.rate*100,precision:2,type:"percentage"},null,8,["value"]),U(") ")]),i("div",z_,[i("strong",null,"Top "+A(r.value.length)+" yields: ",1),i("div",B_,[(y(!0),$(le,null,pe(r.value,(f,w)=>(y(),$(le,{key:w},[i("div",null,A(f.platform),1),i("div",null,A(f.pool.replace("Curve.fi","").replace("Factory Plain Pool: ","")),1),i("div",null,[m(s(O),{value:f.apy,precision:2,type:"percentage"},null,8,["value"])])],64))),128))])])])]),_:2},1024)):V("",!0)]),i("div",R_,[m(s(O),{value:u.item.borrowed,precision:g,"show-symbol":!1,type:"dollar"},null,8,["value"])]),i("div",{class:B(["number delta",{negative:u.item.borrowedDelta<0}])},[u.item.borrowedDelta?(y(),P(s(O),{key:0,value:u.item.borrowedDelta*100,precision:2,type:"percentage"},null,8,["value"])):V("",!0)],2),i("div",O_,[m(s(O),{value:u.item.totalCollateral,precision:g,type:"dollar"},null,8,["value"])]),i("div",F_,[m(s(O),{value:d(u.item.fees.pending),precision:g,type:"dollar"},null,8,["value"])]),i("div",E_,[m(s(O),{value:d(u.item.fees.collected),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[U_,i("div",W_,A(p.value.reduce((u,f)=>u+f.loans,0)),1),q_,H_,N_,i("div",G_,[m(s(O),{value:p.value.reduce((u,f)=>u+f.borrowed,0),precision:g,"show-symbol":!1,type:"dollar"},null,8,["value"])]),Q_,i("div",Y_,[m(s(O),{value:p.value.reduce((u,f)=>u+f.totalCollateral,0),precision:g,type:"dollar"},null,8,["value"])]),i("div",j_,[m(s(O),{value:p.value.reduce((u,f)=>u+d(f.fees.pending),0),precision:g,type:"dollar"},null,8,["value"])]),i("div",J_,[m(s(O),{value:p.value.reduce((u,f)=>u+d(f.fees.collected),0),precision:g,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":b(()=>[U("   ")]),_:1},8,["loading","rows"]))}});function qa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Markets"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof qa=="function"&&qa(Bo);const K_=I(Bo,[["__scopeId","data-v-697d5e8a"]]),Z_=n=>(oe("data-v-01b94e2a"),n=n(),se(),n),X_={class:"number"},ev={class:"number"},tv={class:"number"},av={class:"number"},nv=Z_(()=>i("div",null,null,-1)),ov={class:"number"},sv={class:"number"},lv={class:"number"},rv={class:"number"},Ro=S({__name:"TablePegkeepers",setup(n){const{t:e}=R(),t=new ue(N()),a=L(!0),o=L([]),l=L(""),c=C(()=>z.chain(o.value).filter(r=>{const p=l.value.toLocaleLowerCase().split(" "),d=g=>p.some(_=>g.toLocaleLowerCase().includes(_));return d(r.name)||d(r.address)}).value());H(async()=>{a.value=!0;const r=await t.getPoolStats(),p=await t.getKeepersDebt(),d=await t.getKeepersProfit();o.value=r.stats.map(g=>{const _=p.keepers.find(u=>u.pool===g.address),h=d.profit.find(u=>u.pool===g.address);if(!(!_||!h))return{...g,..._,...h}}).filter(pl).sort((g,_)=>_.tvl-g.tvl),a.value=!1});const v=r=>r>=1e6?2:0;return(r,p)=>(y(),P(s(ke),{class:"datatable-pegkeepers","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"pegkeepers-columns-data",loading:a.value,rows:c.value,columns:["Name","Debt","TVL","Volume","Fees"]},{"header-title":b(()=>[i("div",null,A(s(e)("title")),1),m(s(fe),{modelValue:l.value,"onUpdate:modelValue":p[0]||(p[0]=d=>l.value=d),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:b(d=>[i("div",null,A(d.item.name),1),i("div",X_,[m(s(O),{value:d.item.debt,precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),i("div",ev,[m(s(O),{value:d.item.tvl,precision:v,type:"dollar"},null,8,["value"])]),i("div",tv,[m(s(O),{value:d.item.volumeUSD,precision:v,type:"dollar"},null,8,["value"])]),i("div",av,[m(s(O),{value:d.item.profit,precision:v,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[nv,i("div",ov,[m(s(O),{value:c.value.reduce((d,g)=>d+g.debt,0),precision:v,"show-zero":!0,type:"dollar"},null,8,["value"])]),i("div",sv,[m(s(O),{value:c.value.reduce((d,g)=>d+g.tvl,0),precision:v,type:"dollar"},null,8,["value"])]),i("div",lv,[m(s(O),{value:c.value.reduce((d,g)=>d+g.volumeUSD,0),precision:v,type:"dollar"},null,8,["value"])]),i("div",rv,[m(s(O),{value:c.value.reduce((d,g)=>d+g.profit,0),precision:v,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function Ha(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Pegkeepers"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof Ha=="function"&&Ha(Ro);const iv=I(Ro,[["__scopeId","data-v-01b94e2a"]]),cv=(n,e)=>{const t=W(e);return{width:n.clientWidth,height:n.clientHeight,layout:{background:{type:na.Solid,color:t.backgroundColor},textColor:t.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:t.level4,style:oa.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function he(n,e,t){const a=cv(n,e),o=(l,c)=>{if(typeof c=="object"){z.mergeWith(l,c,o);return}else return l||c};return z.mergeWith(t,a,o)}const Oo=S({__name:"ChartPoolPrices",setup(n){const{t:e}=R(),t=new ue(N());let a,o=[];const l=G(),c=L(null),v=L([]),r=["USDC","USDT","TUSD","USDP"],p=C(()=>Object.keys(g.value[0]).filter(M=>M!=="timestamp"&&M!=="USD"&&r.includes(M))),{loading:d,data:g,loadData:_}=re(()=>t.getPoolPrices().then(M=>M.prices),[{timestamp:0}]);H(async()=>{c.value&&(a=me(c.value,h(c.value,l.theme)),await _(),f(),w(g.value))}),D(g,M=>{f(),w(M)}),D(v,()=>{f(),w(g.value)}),D(()=>l.theme,M=>{if(c.value){a.applyOptions(h(c.value,M));for(const[T,F]of o.entries())F.applyOptions(u(T,l.theme))}});const h=(M,T)=>he(M,T,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:k}}),u=(M,T)=>{const F=te(T);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:F[M],lastValueVisible:!1,priceLineVisible:!1}},f=()=>{if(a){for(const M of o)a.removeSeries(M);o=[];for(let M=0;M<p.value.length;M++){const T=a.addLineSeries(u(M,l.theme));o.push(T)}}},w=M=>{if(!(!a||o.length<0)){for(const[T,F]of p.value.entries()){if(v.value.includes(F)){o[T].setData([]);continue}const Q=z.chain(M).map(_e=>({time:_e.timestamp,value:_e[F]})).uniqWith((_e,Fe)=>_e.time===Fe.time).orderBy(_e=>_e.time,"asc").value();Q.length>0&&o[T].setData(Q)}a.timeScale().fitContent()}},k=M=>`${K(M,3,"dollar")}${J(M,"dollar")}`,x=M=>{if(v.value.includes(M)){const T=new Set(v.value);T.delete(M),v.value=Array.from(T)}else v.value=Array.from(new Set([M,...v.value]))};return(M,T)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(d)},{default:b(()=>[m(s(Ge),{items:p.value,disabled:v.value,clickable:!0,colors:s(te)(s(l).theme),onClick:x},null,8,["items","disabled","colors"]),i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Na(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Stablecoin Prices of Pegkeepers"])}}})}typeof Na=="function"&&Na(Oo);const uv=I(Oo,[["__scopeId","data-v-08017247"]]),dv=S({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(n){let e,t,a;const o=G(),l=L(null);H(()=>{l.value&&(e=me(l.value,c(l.value,o.theme)),t=e.addAreaSeries(v(o.theme)),a=e.addLineSeries(r(o.theme)),p(n.data))}),D(()=>o.theme,g=>{l.value&&(e.applyOptions(c(l.value,g)),t.applyOptions(v(g)),a.applyOptions(r(g)))}),D(()=>n.data,g=>{p(g)});const c=(g,_)=>he(g,_,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:h=>d(h)}}),v=g=>{const _=W(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:_.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},r=g=>{const _=W(g);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:_.yellow,lastValueVisible:!1,priceLineVisible:!1}},p=g=>{if(!e||!t)return;const _=z.chain(g).groupBy(u=>u.timestamp).mapValues(u=>({time:u[0].timestamp,value:u.reduce((f,w)=>f+w.totalSupply,0),debt:u[0].totalSupply})).entries().map(u=>u[1]).uniqWith((u,f)=>u.time===f.time).orderBy(u=>u.time,"asc").value(),h=_.map(u=>({time:u.time,value:u.value-u.debt}));_.length>0&&t.setData(_),h.length>0&&a.setData(h),e.timeScale().fitContent()},d=g=>`${K(g,1,"dollar")}${J(g,"dollar")}`;return(g,_)=>(y(),$("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}});const pv=I(dv,[["__scopeId","data-v-c5d0e5c8"]]),mv=S({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(n){const e=G(),t=C(()=>{const r=W(e.theme),p=te(e.theme);return ve({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(n.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),o=C(()=>z.chain(n.data).groupBy(r=>r.name).map((r,p)=>({name:p,data:z.chain(r).orderBy(d=>d.timestamp,"asc").map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.totalSupply})).value()})).value()),l=C(()=>Math.max(...z.chain(n.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.totalSupply,0)).value())*1.1),c=r=>r,v=r=>`${K(r,1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(Lt),{class:"chart",options:t.value,series:o.value},null,8,["options","series"]))}});const _v=I(mv,[["__scopeId","data-v-6c28710c"]]),vv={class:"actions"},fv={class:"chart-types"},Fo=S({__name:"ChartCrvUsdSupply",setup(n){const{t:e}=R(),t=new ue(N()),a=G(),o=L("line"),{loading:l,data:c}=re(()=>t.getCrvUsdSupply().then(r=>r.supply),[]),v=r=>{o.value!==r&&(o.value=r)};return(r,p)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(l)},{actions:b(()=>[i("div",vv,[o.value==="line"?(y(),P(s(Ge),{key:0,items:["Supply","Borrowed"],colors:s(te)(s(a).theme)},null,8,["colors"])):V("",!0),i("div",fv,[m(s(Re),{value:"Line","model-value":o.value==="line",onClick:p[0]||(p[0]=d=>v("line"))},null,8,["model-value"]),m(s(Re),{value:"Breakdown","model-value":o.value==="breakdown",onClick:p[1]||(p[1]=d=>v("breakdown"))},null,8,["model-value"])])])]),default:b(()=>[o.value==="line"?(y(),P(pv,{key:0,data:s(c)},null,8,["data"])):(y(),P(_v,{key:1,data:s(c)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function Ga(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["crvUSD Supply"])}}})}typeof Ga=="function"&&Ga(Fo);const hv=I(Fo,[["__scopeId","data-v-e44b4351"]]),yv=S({__name:"ChartCrvUsdPriceHistogram",setup(n){const e=new ue(N()),t=G(),{loading:a,data:o}=re(()=>e.getCrvUsdPriceHistogram(),{x:[],y:[]}),l=C(()=>{const d=W(t.theme),g=te(t.theme);return ve({colors:d,colorsArray:g},{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:c.value,labels:{formatter:r},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:p}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:_=>{const h=c.value[_.dataPointIndex],u=_.series[0][_.dataPointIndex];return[`<div><b>${h}</b>:</div><div>${p(u)}</div>`].join("")}}})}),c=C(()=>o.value.x.map(d=>d.toString())),v=C(()=>[{data:o.value.y}]),r=d=>{const g=d-1;return g<0?`-$${g.toString().substring(2,7)}`:`$${g.toString().substring(1,6)}`},p=d=>{var h,u;const g=((u=(h=v.value[0])==null?void 0:h.data)==null?void 0:u.reduce((f,w)=>f+w,0))??1,_=d/g*100;return`${K(_,0,"dollar")}${J(_,"percentage")}`};return(d,g)=>(y(),P(s(ge),{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:s(a),options:l.value,series:v.value},null,8,["loading","options","series"]))}});const gv=I(yv,[["__scopeId","data-v-881697e9"]]),bv={class:"crvusd"},wv={class:"col"},$v={class:"col"},kv=S({__name:"CrvUsd",setup(n){const e=st(),t=ha(),a=zo();H(()=>{t.show=!0,t.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"}]});const o=async l=>{a.market=l,await e.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,c)=>(y(),$("div",bv,[m(K_,{style:{"grid-column":"1 / -1"},onSelected:o}),i("div",wv,[m(iv),m(uv)]),i("div",$v,[m(hv),m(gv,{class:"price"})])]))}});const Cv=I(kv,[["__scopeId","data-v-760b16fe"]]),Eo=S({__name:"ChartMarketVolume",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o;const l=G(),c=L(null),{loading:v,data:r,loadData:p}=re(()=>n.market?t.getMarketVolume(n.market.address).then(u=>u.volumes):Promise.resolve([]),[]);H(()=>{c.value&&(a=me(c.value,d(c.value,l.theme)),o=a.addAreaSeries(g(l.theme)),_(r.value))}),D(()=>n.market,p),D(()=>l.theme,u=>{c.value&&(a.applyOptions(d(c.value,u)),o.applyOptions(g(u)))}),D(r,u=>{_(u)});const d=(u,f)=>he(u,f,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>h(w)}}),g=u=>{const f=W(u);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:f.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},_=u=>{if(!a||!o)return;const f=z.chain(u).map(w=>({time:w.timestamp,value:w.swapVolumeUsd})).uniqWith((w,k)=>w.time===k.time).orderBy(w=>w.time,"asc").value();f.length>0&&o.setData(f),a.timeScale().fitContent()},h=u=>`$${K(u,1,"dollar")}${J(u,"dollar")}`;return(u,f)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Qa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Volume"])}}})}typeof Qa=="function"&&Qa(Eo);const Sv=I(Eo,[["__scopeId","data-v-4e764832"]]),Uo=S({__name:"ChartMarketLoans",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o;const l=G(),c=L(null),{loading:v,data:r,loadData:p}=re(()=>n.market?t.getMarketLoans(n.market.address).then(u=>u.loans):Promise.resolve([]),[]);H(()=>{c.value&&(a=me(c.value,d(c.value,l.theme)),o=a.addHistogramSeries(g(l.theme)),_(r.value))}),D(()=>n.market,p),D(()=>l.theme,u=>{c.value&&(a.applyOptions(d(c.value,u)),o.applyOptions(g(u)))}),D(r,u=>{_(u)});const d=(u,f)=>he(u,f,{height:200,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:h}}),g=u=>({color:W(u).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}),_=u=>{if(!a||!o)return;const f=z.chain(u).map(w=>({time:w.timestamp,value:w.nLoans})).uniqWith((w,k)=>w.time===k.time).orderBy(w=>w.time,"asc").value();if(f.length>0){o.setData(f);const w=f[0].time,k=f[f.length-1].time;a.timeScale().setVisibleRange({from:w,to:k})}},h=u=>Math.round(u).toString();return(u,f)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ya(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Loans"])}}})}typeof Ya=="function"&&Ya(Uo);const xv=I(Uo,[["__scopeId","data-v-50b6ba58"]]),Av={class:"actions"},Wo=S({__name:"ChartMarketRates",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o,l;const c=G(),v=L(null),r=L(null),{loading:p,data:d,loadData:g}=re(()=>n.market?t.getMarketRates(n.market.address).then(x=>x.rates):Promise.resolve([]),[]);H(()=>{v.value&&(a=me(v.value,_(v.value,c.theme)),o=a.addAreaSeries(h(c.theme)),l=a.addLineSeries(u(c.theme)),f(d.value))}),D(()=>n.market,g),D(()=>c.theme,x=>{v.value&&(a.applyOptions(_(v.value,x)),o.applyOptions(h(x)),l.applyOptions(u(x)))}),D(d,x=>{f(x)}),D(r,()=>{f(d.value)});const _=(x,M)=>he(x,M,{height:200,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:T=>w(T)}}),h=x=>{const M=W(x);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:M.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=x=>{const M=W(x);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:M.yellow,lastValueVisible:!1,priceLineVisible:!1}},f=x=>{if(!a||!o)return;const M=z.chain(x).map(Q=>({time:Q.timestamp,value:Q.rate})).uniqWith((Q,_e)=>Q.time===_e.time).orderBy(Q=>Q.time,"asc").value(),T=k(M.map(Q=>Q.value),r.value??31),F=z.chain(T).zip(M).map(Q=>({time:Q[1].time,value:Q[0]})).value();if(F.length>0&&l.setData(F),M.length>0){o.setData(M);const Q=M[0].time,_e=M[M.length-1].time;a.timeScale().setVisibleRange({from:Q,to:_e})}},w=x=>`${K(x*100,2,"percentage")}${J(x,"percentage")}`,k=(x,M=7)=>x.map((T,F)=>{const Q=Math.max(F-(M-1),0),_e=F+1,Fe=x.slice(Q,_e);return Fe.reduce((ht,yt)=>ht+yt,0)/Fe.length});return(x,M)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(p)},{actions:b(()=>[i("div",Av,[m(s(ua),{modelValue:r.value,"onUpdate:modelValue":M[0]||(M[0]=T=>r.value=T),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:b(()=>[i("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function ja(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Market Rates"])}}})}typeof ja=="function"&&ja(Wo);const Iv=I(Wo,[["__scopeId","data-v-188b19df"]]),Mv={class:"actions"},qo=S({__name:"ChartMarketAvailableCap",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o,l;const c=G(),v=L(null),{loading:r,data:p,loadData:d}=re(()=>n.market?t.getMarketAvailableCap(n.market.address).then(w=>w.available):Promise.resolve([]),[]);H(()=>{v.value&&(a=me(v.value,g(v.value,c.theme)),o=a.addAreaSeries(_(c.theme)),l=a.addAreaSeries(h(c.theme)),u(p.value))}),D(()=>n.market,d),D(()=>c.theme,w=>{v.value&&(a.applyOptions(g(v.value,w)),o.applyOptions(_(w)),l.applyOptions(h(w)))}),D(p,w=>{u(w)});const g=(w,k)=>he(w,k,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:x=>f(x)}}),_=w=>{const k=W(w);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:k.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=w=>{const k=W(w);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:k.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=w=>{if(!a||!o)return;const k=z.chain(w).map(M=>({time:M.timestamp,value:M.borrowable})).uniqWith((M,T)=>M.time===T.time).orderBy(M=>M.time,"asc").value();k.length>0&&o.setData(k);const x=z.chain(w).map(M=>({time:M.timestamp,value:M.ceiling})).uniqWith((M,T)=>M.time===T.time).orderBy(M=>M.time,"asc").value();x.length>0&&l.setData(x),a.timeScale().fitContent()},f=w=>`$${K(w,1,"dollar")}${J(w,"dollar")}`;return(w,k)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:b(()=>[i("div",Mv,[m(s(Ge),{items:["Borrowable","Debt ceiling"],colors:s(te)(s(c).theme)},null,8,["colors"])])]),default:b(()=>[i("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Ja(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Borrowable & Debt Ceiling"])}}})}typeof Ja=="function"&&Ja(qo);const Lv=I(qo,[["__scopeId","data-v-95e4bfc5"]]),Pv={class:"market"},Tv=S({__name:"MarketOverview",props:{market:{}},setup(n){return(e,t)=>(y(),$("div",Pv,[m(Iv,{market:e.market},null,8,["market"]),m(Lv,{market:e.market},null,8,["market"]),m(xv,{market:e.market},null,8,["market"]),m(Sv,{market:e.market},null,8,["market"])]))}});const Dv=I(Tv,[["__scopeId","data-v-cc800382"]]),ct=n=>(oe("data-v-c85f0be1"),n=n(),se(),n),Vv={key:0},zv=ct(()=>i("span",{class:"text"},"Users in soft liquidation: ",-1)),Bv=ct(()=>i("span",{class:"text"},"Median health:",-1)),Rv=ct(()=>i("span",{class:"text"},"Collaterization ratio:",-1)),Ov=ct(()=>i("span",{class:"text"},"Liquidatable positions:",-1)),Fv=ct(()=>i("span",{class:"text"},"Liquidatable positions' debt:",-1)),Ev=ct(()=>i("span",{class:"text"},"Liquidatable assets:",-1)),Ho=S({__name:"CardLiquidationOverview",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N()),a=C(()=>l.value),{loading:o,data:l,loadData:c}=re(()=>n.market?t.getMarketStateHealth(n.market.address).then(r=>r.health):Promise.resolve(null),null);D(()=>n.market,c);const v=r=>`${K(r,1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(j),{title:s(e)("title"),loading:s(o),content:a.value},{default:b(()=>[a.value?(y(),$("div",Vv,[i("div",null,[zv,U(" "+A(a.value.softLiqUsers)+" ("+A((a.value.softLiqRatio*100).toFixed(2))+"%) ",1)]),i("div",null,[Bv,U(" "+A(a.value.medianHealth.toFixed(6)),1)]),i("div",null,[Rv,U(" "+A((a.value.collatRatio*100).toFixed(2))+"% ",1)]),i("div",null,[Ov,U(" "+A(a.value.liqablePositions),1)]),i("div",null,[Fv,U(" $"+A(v(a.value.liqableDebt)),1)]),i("div",null,[Ev,U(" $"+A(v(a.value.liqableCollatUsd+a.value.liqableStable))+" (C: $"+A(v(a.value.liqableCollatUsd))+", S: $"+A(v(a.value.liqableStable))+") ",1)])])):V("",!0)]),_:1},8,["title","loading","content"]))}});function Ka(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["General Health Metrics"])}}})}typeof Ka=="function"&&Ka(Ho);const Uv=I(Ho,[["__scopeId","data-v-c85f0be1"]]),Wv={class:"actions"},No=S({__name:"ChartLiquidationSoftLiquidation",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o,l;const c=G(),v=L(null),{loading:r,data:p,loadData:d}=re(()=>n.market?t.getHistoricalSoftLiquidations(n.market.address).then(f=>f.losses):Promise.resolve([]),[]);H(async()=>{v.value&&(await Ne(),a=me(v.value,g(v.value,c.theme)),o=a.addAreaSeries(h(c.theme)),l=a.addAreaSeries(_(c.theme)),u(p.value))}),D(()=>n.market,d),D(()=>c.theme,f=>{v.value&&(a.applyOptions(g(v.value,f)),o.applyOptions(h(f)),l.applyOptions(_(f)))}),D(p,f=>{u(f)});const g=(f,w)=>he(f,w,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),_=f=>{const w=W(f);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ie.WithSteps,lineColor:w.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=f=>{const w=W(f);return{priceFormat:{type:"percent",precision:2,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:w.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=f=>{if(!a||!o)return;const w=z.chain(f).map(x=>({time:x.timestamp,value:x.proportion})).uniqWith((x,M)=>x.time===M.time).orderBy(x=>x.time,"asc").value(),k=z.chain(f).map(x=>({time:x.timestamp,value:x.collateralPrice})).uniqWith((x,M)=>x.time===M.time).orderBy(x=>x.time,"asc").value();k.length>0&&l.setData(k),w.length>0&&o.setData(w),a.timeScale().fitContent()};return(f,w)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:b(()=>[i("div",Wv,[m(s(Ge),{items:["% of loans in soft liquidation","Collateral price"],colors:s(te)(s(c).theme)},null,8,["colors"])])]),default:b(()=>[i("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Za(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Soft Liquidations"])}}})}typeof Za=="function"&&Za(No);const qv=I(No,[["__scopeId","data-v-974cc92f"]]),Go=S({__name:"ChartLiquidationMedianLoss",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o;const l=G(),c=L(null),{loading:v,data:r,loadData:p}=re(()=>n.market?t.getHistoricalMedianLoss(n.market.address).then(h=>h.losses):Promise.resolve([]),[]);H(async()=>{c.value&&(await Ne(),a=me(c.value,d(c.value,l.theme)),o=a.addAreaSeries(g(l.theme)),_(r.value))}),D(()=>n.market,p),D(()=>l.theme,h=>{c.value&&(a.applyOptions(d(c.value,h)),o.applyOptions(g(h)))}),D(r,h=>{_(h)});const d=(h,u)=>he(h,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=h=>{const u=W(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},_=h=>{if(!a||!o)return;const u=z.chain(h).map(f=>({time:f.timestamp,value:f.lossPct})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc").value();u.length>0&&o.setData(u),a.timeScale().fitContent()};return(h,u)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function Xa(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Median Loss % Among Loans with Losses"])}}})}typeof Xa=="function"&&Xa(Go);const Hv=I(Go,[["__scopeId","data-v-122cc243"]]),Nv={class:"actions"},Qo=S({__name:"ChartLiquidationAverageHealth",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o,l,c;const v=G(),r=L(null),{loading:p,data:d,loadData:g}=re(()=>n.market?t.getHistoricalAverageHealth(n.market.address).then(k=>k.health):Promise.resolve([]),[]);H(async()=>{r.value&&(await Ne(),a=me(r.value,_(r.value,v.theme)),o=a.addAreaSeries(h(v.theme)),l=a.addAreaSeries(u(v.theme)),c=a.addAreaSeries(f(v.theme)),w(d.value))}),D(()=>n.market,g),D(()=>v.theme,k=>{r.value&&(a.applyOptions(_(r.value,k)),l.applyOptions(h(k)),o.applyOptions(h(k)),c.applyOptions(h(k)))}),D(d,k=>{w(k)});const _=(k,x)=>he(k,x,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),h=k=>{const x=W(k);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:x.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=k=>{const x=W(k);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:x.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},f=k=>{const x=W(k);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:x.green,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},w=k=>{if(!a||!o||!l||!c)return;const x=z.chain(k).map(F=>({time:F.timestamp,value:F.quartiles[2]})).uniqWith((F,Q)=>F.time===Q.time).orderBy(F=>F.time,"asc").value(),M=z.chain(k).map(F=>({time:F.timestamp,value:F.quartiles[1]})).uniqWith((F,Q)=>F.time===Q.time).orderBy(F=>F.time,"asc").value(),T=z.chain(k).map(F=>({time:F.timestamp,value:F.quartiles[3]})).uniqWith((F,Q)=>F.time===Q.time).orderBy(F=>F.time,"asc").value();M.length>0&&l.setData(M),x.length>0&&o.setData(x),T.length>0&&c.setData(T),a.timeScale().fitContent()};return(k,x)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(p)},{actions:b(()=>[i("div",Nv,[m(s(Ge),{items:["1st Quartile","Median","3rd Quartile"],colors:s(te)(s(v).theme)},null,8,["colors"])])]),default:b(()=>[i("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function en(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Historical Health Distribution"])}}})}typeof en=="function"&&en(Qo);const Gv=I(Qo,[["__scopeId","data-v-23fe7437"]]),Qv=S({__name:"ChartLiquidationHealthDeciles",props:{market:{default:null}},setup(n){const e=new ue(N()),t=G(),{loading:a,data:o,loadData:l}=re(()=>n.market?e.getHealthDeciles(n.market.address).then(g=>g.health):Promise.resolve([]),[]),c=C(()=>{const g=W(t.theme),_=te(t.theme);return ve({colors:g,colorsArray:_},{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:v.value,labels:{formatter:p,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:d}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:h=>{const u=h.series[0][h.dataPointIndex],f=h.series[1][h.dataPointIndex],w=h.series[2][h.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${d(f)}</div>`,`<div><b>Debt</b>: ${d(u)}</div>`,`<div><b>Stablecoin</b>: ${d(w)}</div>`].join("")}}})}),v=C(()=>o.value.map(g=>g.decile)),r=C(()=>[{name:"Debt",data:Object.values(o.value).map(g=>g.debt)},{name:"Collateral",data:Object.values(o.value).map(g=>g.collateralUsdValue)},{name:"Stablecoin",data:Object.values(o.value).map(g=>g.stablecoin)}]);D(()=>n.market,l);const p=g=>g,d=g=>`$${K(g,0,"dollar")}${J(g,"dollar")}`;return(g,_)=>(y(),P(s(ge),{class:"chart",title:"Debt & Assets per Health Deciles",loading:s(a),options:c.value,series:r.value},null,8,["loading","options","series"]))}});const Yv=I(Qv,[["__scopeId","data-v-15979e0a"]]),Yo=S({__name:"ChartLiquidationProportionLosers",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o;const l=G(),c=L(null),{loading:v,data:r,loadData:p}=re(()=>n.market?t.getProportionLosers(n.market.address).then(h=>h.losses):Promise.resolve([]),[]);H(async()=>{c.value&&(await Ne(),a=me(c.value,d(c.value,l.theme)),o=a.addAreaSeries(g(l.theme)),_(r.value))}),D(()=>n.market,p),D(()=>l.theme,h=>{c.value&&(a.applyOptions(d(c.value,h)),o.applyOptions(g(h)))}),D(r,h=>{_(h)});const d=(h,u)=>he(h,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=h=>{const u=W(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},_=h=>{if(!a||!o)return;const u=z.chain(h).map(f=>({time:f.timestamp,value:f.losers})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc").value();u.length>0&&o.setData(u),a.timeScale().fitContent()};return(h,u)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function tn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Proportion of Loans with Losses"])}}})}typeof tn=="function"&&tn(Yo);const jv=I(Yo,[["__scopeId","data-v-0f78ba20"]]),Jv=S({__name:"ChartLiquidationHistoricalValue",props:{data:{default:()=>[]}},setup(n){const e=G(),t=C(()=>{const r=W(e.theme),p=te(e.theme);return ve({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(n.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),o=C(()=>[{name:"Self liquidations",data:Object.values(n.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(n.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=C(()=>Math.max(...z.chain(n.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.selfValue+d.hardValue,0)).value())*1.1),c=r=>r,v=r=>`${K(r,1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(Lt),{class:"chart",options:t.value,series:o.value},null,8,["options","series"]))}});const Kv=I(Jv,[["__scopeId","data-v-5dc3f15d"]]),Zv=S({__name:"ChartLiquidationHistoricalCount",props:{data:{default:()=>[]}},setup(n){const e=G(),t=C(()=>{const r=W(e.theme),p=te(e.theme);return ve({colors:r,colorsArray:p},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:a.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:v},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),a=C(()=>z.chain(n.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,p)=>new Date(parseInt(p,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,p)=>p%8===0?r:"").value()),o=C(()=>[{name:"Self liquidations",data:Object.values(n.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(n.data).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=C(()=>Math.max(...z.chain(n.data).groupBy(r=>r.timestamp).map(r=>r.reduce((p,d)=>p+d.selfCount+d.hardCount,0)).value())*1.1),c=r=>r,v=r=>`${K(r,1,"dollar")}${J(r,"dollar")}`;return(r,p)=>(y(),P(s(Lt),{class:"chart",options:t.value,series:o.value},null,8,["options","series"]))}});const Xv=I(Zv,[["__scopeId","data-v-6f575e58"]]),ef={class:"actions"},tf={class:"chart-types"},jo=S({__name:"ChartLiquidationHistorical",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N()),a=L("count"),{loading:o,data:l,loadData:c}=re(()=>n.market?t.getHistoricalLiquidations(n.market.address).then(r=>r.liquidations):Promise.resolve([]),[]);D(()=>n.market,c);const v=r=>{a.value!==r&&(a.value=r)};return(r,p)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(o)},{actions:b(()=>[i("div",ef,[i("div",tf,[m(s(Re),{value:"Count","model-value":a.value==="count",onClick:p[0]||(p[0]=d=>v("count"))},null,8,["model-value"]),m(s(Re),{value:"Value","model-value":a.value==="value",onClick:p[1]||(p[1]=d=>v("value"))},null,8,["model-value"])])])]),default:b(()=>[a.value==="count"?(y(),P(Xv,{key:0,data:s(l)},null,8,["data"])):(y(),P(Kv,{key:1,data:s(l)},null,8,["data"]))]),_:1},8,["title","loading"]))}});function an(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Self & Hard Liquidations"])}}})}typeof an=="function"&&an(jo);const af=I(jo,[["__scopeId","data-v-4eec258f"]]),nf={class:"address"},of=["href"],sf={class:"number"},lf={class:"number"},Jo=S({__name:"TableLiquidationLiquidators",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N()),{loading:a,data:o,loadData:l}=re(()=>n.market?t.getTopLiquidators(n.market.address).then(v=>v.liquidations):Promise.resolve([]),[]),c=C(()=>z.chain(o.value).map(v=>v).value());return D(()=>n.market,l),(v,r)=>(y(),P(s(ke),{class:"datatable-liquidators","columns-header":"minmax(7rem, 1fr) minmax(auto, 25rem)","columns-data":"liquidators-columns-data",loading:s(a),rows:c.value,columns:["Address","Count","Value"]},{"header-title":b(()=>[i("div",null,A(s(e)("title")),1)]),row:b(p=>[i("div",nf,[i("a",{href:`https://etherscan.io/address/${p.item.address}`,target:"_blank"},A(s(Pe)(p.item.address,8)),9,of)]),i("div",sf,[m(s(O),{value:p.item.count,precision:0,"show-zero":!0},null,8,["value"])]),i("div",lf,[m(s(O),{value:p.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["loading","rows"]))}});function nn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Top Liquidators"])}}})}typeof nn=="function"&&nn(Jo);const rf=I(Jo,[["__scopeId","data-v-218dd130"]]),cf={class:"actions"},Ko=S({__name:"ChartLiquidationLiquidatorRevenue",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o,l;const c=G(),v=L(null),{loading:r,data:p,loadData:d}=re(()=>n.market?t.getLiquidatorRevenue(n.market.address).then(f=>f.revenue):Promise.resolve([]),[]);H(async()=>{v.value&&(await Ne(),a=me(v.value,g(v.value,c.theme)),o=a.addAreaSeries(h(c.theme)),l=a.addAreaSeries(_(c.theme)),u(p.value))}),D(()=>n.market,d),D(()=>c.theme,f=>{v.value&&(a.applyOptions(g(v.value,f)),o.applyOptions(h(f)),l.applyOptions(_(f)))}),D(p,f=>{u(f)});const g=(f,w)=>he(f,w,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),_=f=>{const w=W(f);return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ie.WithSteps,lineColor:w.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},h=f=>{const w=W(f);return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:w.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=f=>{if(!a||!o)return;const w=z.chain(f).map(x=>({time:x.timestamp,value:x.discount*100})).uniqWith((x,M)=>x.time===M.time).orderBy(x=>x.time,"asc").value(),k=z.chain(f).map(x=>({time:x.timestamp,value:x.amount})).uniqWith((x,M)=>x.time===M.time).orderBy(x=>x.time,"asc").value();k.length>0&&l.setData(k),w.length>0&&o.setData(w),a.timeScale().fitContent()};return(f,w)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(r)},{actions:b(()=>[i("div",cf,[m(s(Ge),{items:["Liquidator Revenue","Discount"],colors:s(te)(s(c).theme)},null,8,["colors"])])]),default:b(()=>[i("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function on(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Liquidator Revenue"])}}})}typeof on=="function"&&on(Ko);const uf=I(Ko,[["__scopeId","data-v-7253f754"]]),Zo=S({__name:"ChartLiquidationCollateralRatio",props:{market:{default:null}},setup(n){const{t:e}=R(),t=new ue(N());let a,o;const l=G(),c=L(null),{loading:v,data:r,loadData:p}=re(()=>n.market?t.getHistoricalCollateralRatio(n.market.address).then(h=>h.ratios):Promise.resolve([]),[]);H(async()=>{c.value&&(await Ne(),a=me(c.value,d(c.value,l.theme)),o=a.addAreaSeries(g(l.theme)),_(r.value))}),D(()=>n.market,p),D(()=>l.theme,h=>{c.value&&(a.applyOptions(d(c.value,h)),o.applyOptions(g(h)))}),D(r,h=>{_(h)});const d=(h,u)=>he(h,u,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),g=h=>{const u=W(h);return{priceFormat:{type:"percent",precision:2,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:u.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},_=h=>{if(!a||!o)return;const u=z.chain(h).map(f=>({time:f.timestamp,value:f.ratio*100})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc").value();u.length>0&&o.setData(u),a.timeScale().fitContent()};return(h,u)=>(y(),P(s(j),{class:"chart-container",title:s(e)("title"),loading:s(v)},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"]))}});function sn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Collateral Ratio"])}}})}typeof sn=="function"&&sn(Zo);const df=I(Zo,[["__scopeId","data-v-b1c8d92d"]]),pf={class:"liquidations"},mf=S({__name:"Liquidations",props:{market:{}},setup(n){return(e,t)=>(y(),$("div",pf,[m(Uv,{market:e.market},null,8,["market"]),m(qv,{market:e.market},null,8,["market"]),m(Hv,{market:e.market},null,8,["market"]),m(jv,{market:e.market},null,8,["market"]),m(Gv,{market:e.market},null,8,["market"]),m(Yv,{market:e.market},null,8,["market"]),m(df,{market:e.market},null,8,["market"]),m(af,{market:e.market},null,8,["market"]),m(rf,{market:e.market},null,8,["market"]),m(uf,{market:e.market},null,8,["market"])]))}});const _f=I(mf,[["__scopeId","data-v-a5bcb767"]]);class Xe{constructor(){this.messageQueue=[],this.ws=null,this.shouldReconnect=!0,this.listeners={}}static getInstance(){return Xe.instance||(Xe.instance=new Xe),Xe.instance}connect(e){this.ws||(this.ws=new WebSocket(e),this.ws.onopen=()=>{this.processMessageQueue()},this.ws.onclose=()=>{this.shouldReconnect&&setTimeout(()=>this.connect(e),1e3)},this.ws.onmessage=t=>{try{const o=JSON.parse(t.data).channel.slice(0,-6);if(this.listeners[o])for(const l of this.listeners[o])l(t.data);else this.messageQueue.push(t.data)}catch(a){console.error("WSManager error parsing message: ",a)}})}registerListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const a=this.messageQueue.filter(o=>JSON.parse(o).channel===e);for(const o of a)t(o);this.messageQueue=this.messageQueue.filter(o=>!a.includes(o))}send(e){this.ws&&this.ws.readyState===WebSocket.OPEN?this.ws.send(e):this.messageQueue.push(e)}processMessageQueue(){for(;this.messageQueue.length>0;){const e=this.messageQueue.shift();e&&this.send(e)}}closeConnection(){this.shouldReconnect=!1,this.ws&&this.ws.close()}getConnection(){return this.ws}}var Zt=(n=>(n.subscribe="subscribe",n.unsubscribe="unsubscribe",n.snapshots="snapshots",n))(Zt||{}),Xt=(n=>(n.update="update",n.snapshot="snapshot",n))(Xt||{});class ln{constructor(e,t,a,o,l,c){this.url=e,this.llamma=t,this.chain=a,this.interval=o,this.start=l,this.end=c,this.currentOHLCData=[],this.wsManager=Xe.getInstance(),this.wsManager.connect(e),this.dataSubject=new Ks,this.data$=this.dataSubject.pipe(Zs((v,r)=>this.reconcileData(v,r),this.currentOHLCData)),this.wsManager.registerListener("crvusd_llamma_ohlc",v=>{try{const r=JSON.parse(v);this.dataSubject.next(r)}catch(r){console.error("Error parsing WebSocket message:",r,"Raw data:",v)}}),this.requestSnapshots(),this.subscribeToUpdates()}requestSnapshots(){const e={action:Zt.snapshots,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,start:this.start,end:this.end,interval:this.interval}]};this.send(e)}subscribeToUpdates(){const e={action:Zt.subscribe,channel:"crvusd_llamma_ohlc",settings:[{llamma:this.llamma,chain:this.chain,interval:this.interval}]};this.send(e)}reconcileData(e,t){return t.type===Xt.snapshot?t.payload:t.type===Xt.update?(t.payload.forEach(a=>{const o=e.findIndex(l=>l.time===a.time);o!==-1?e[o]=a:e.push(a)}),[...e]):e}send(e){this.wsManager.send(JSON.stringify(e))}}const vf={class:"buttons"},rn="ws://a85d6d4c6054a4f1f806c8af90dcfdeb-282892957.eu-central-1.elb.amazonaws.com/v1/stream/ws",cn="ethereum",un=86400,Xo=S({__name:"ChartLlammaCandles",props:{market:{}},setup(n){const{t:e}=R();let t,a,o,l=1,c=0;const v=G(),r=L([]);let p;const d=L(null),g=L(!1),_=C(()=>n.market?`Daily candles ${g.value?`crvUSD/${n.market.name}`:`${n.market.name}/crvUSD`}`:e("title"));H(async()=>{if(!d.value||!n.market)return;await Ne();const f=qt.getAddress(n.market.llamma),w=Date.now(),k=15*24*60*60*1e3,x=Math.floor(w/1e3),M=Math.floor((w-k)/1e3);t=new ln(rn,f,cn,un,M,x);const T=W(v.theme);p=t.data$.subscribe(F=>{r.value=F,h(F,g.value)}),a=me(d.value,{width:d.value.clientWidth,height:d.value.clientHeight,layout:{background:{type:na.Solid,color:T.backgroundColor},textColor:T.level5,fontFamily:"SF Mono, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:T.level2,style:oa.Dashed}},crosshair:{mode:Yn.Magnet,horzLine:{visible:!1}},leftPriceScale:{borderVisible:!1,scaleMargins:{top:.8,bottom:0}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1},localization:{priceFormatter:F=>u(F)}}),o=a.addCandlestickSeries({upColor:T.green,borderUpColor:T.green,wickUpColor:T.green,downColor:T.red,borderDownColor:T.red,wickDownColor:T.red,priceFormat:{type:"price",precision:6,minMove:1e-6}})}),Qn(()=>{p.unsubscribe()}),D(r,f=>{h(f,g.value)}),D(g,f=>{h(r.value,f)}),D(()=>n.market,(f,w)=>{if(f&&f!==w){p.unsubscribe();const k=qt.getAddress(f.llamma),x=Date.now(),M=15*24*60*60*1e3,T=Math.floor(x/1e3),F=Math.floor((x-M)/1e3);t=new ln(rn,k,cn,un,F,T),p=t.data$.subscribe(Q=>{r.value=Q,h(Q,g.value)})}});const h=(f,w)=>{if(!a||!o||!f)return;const k=w?-1:1,x=z.chain(f).map(M=>({time:M.time,open:Math.pow(M.open,k),high:Math.pow(M.high,k),low:Math.pow(M.low,k),close:Math.pow(M.close,k)})).uniqWith((M,T)=>M.time===T.time).orderBy(M=>M.time,"asc").value();x.length>0&&(o.setData(x),a.timeScale().fitContent(),c=Math.min(...x.map(M=>M.low)),l=Math.max(...x.map(M=>M.high)))},u=f=>{const w=l-c,k=w>1?w-Math.floor(w):w,x=-Math.floor(Math.log10(k)+1)+2;return`${K(f,x,"dollar")}${J(f,"dollar")}`};return(f,w)=>(y(),P(s(j),{class:"candles",title:_.value},{default:b(()=>[i("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512),i("div",vf,[m(s(Re),{modelValue:g.value,"onUpdate:modelValue":w[0]||(w[0]=k=>g.value=k)},{default:b(()=>[U(A(s(e)("invert")),1)]),_:1},8,["modelValue"])])]),_:1},8,["title"]))}});function dn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])},invert:t=>{const{normalize:a}=t;return a(["Invert"])}}})}typeof dn=="function"&&dn(Xo);const ff=I(Xo,[["__scopeId","data-v-b6897e91"]]),hf={class:"llamma"},yf=S({__name:"Llamma",props:{market:{}},setup(n){return(e,t)=>(y(),$("div",hf,[m(ff,{market:e.market},null,8,["market"])]))}});const gf=I(yf,[["__scopeId","data-v-6c55aae5"]]),bf={class:"market-overview"},wf=S({__name:"Market",setup(n){const e=new ue(N()),t=He(),a=st(),o=ha(),l=zo(),c=L(0),v=C(()=>t.params.marketAddr),r=C(()=>l.market);return H(async()=>{var d,g;const p=t.params.tab;if(p&&typeof p=="string"&&(p==="liquidations"?c.value=1:p==="llamma"&&(c.value=2)),((d=l.market)==null?void 0:d.address)!==v.value){const{markets:_}=await e.getMarkets(),h=_.find(u=>u.address===v.value);h&&(l.market=h)}o.show=!0,o.crumbs=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${((g=r.value)==null?void 0:g.name)??"?"}`}]}),D(c,async p=>{p===0?await a.push({name:"crvusdmarket",params:{tab:"",marketAddr:v.value}}):p===1?await a.push({name:"crvusdmarket",params:{tab:"liquidations",marketAddr:v.value}}):p===2&&await a.push({name:"crvusdmarket",params:{tab:"llamma",marketAddr:v.value}})}),(p,d)=>(y(),$("div",bf,[m(s(lt),{active:c.value,onTab:d[0]||(d[0]=g=>c.value=g.index)},{default:b(()=>[m(s(ce),{header:"Overview"},{default:b(()=>[(y(),P(_t,null,[c.value===0?(y(),P(Dv,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1}),m(s(ce),{header:"Liquidations"},{default:b(()=>[(y(),P(_t,null,[c.value===1&&r.value?(y(),P(_f,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1}),m(s(ce),{header:"Llamma"},{default:b(()=>[(y(),P(_t,null,[c.value===2&&r.value?(y(),P(gf,{key:0,market:r.value},null,8,["market"])):V("",!0)],1024))]),_:1})]),_:1},8,["active"])]))}});const $f=I(wf,[["__scopeId","data-v-f964467a"]]);class kf{constructor(e){this.get$=new be(t=>{let a=1/0,o=!1;const l=()=>{t.next(Date.now()-a),o=!1};e.on("pong",l);const c=Xs({}).pipe(el(()=>{if(o){t.next(1/0);return}o=!0,a=Date.now(),e.emit("ping")}),tl(5e3),al()).subscribe();return()=>{c.unsubscribe(),e.off("pong",l)}}).pipe(nl({refCount:!0,bufferSize:1}))}}class Cf{constructor(e){this.socket=e}get(e){const t=new Promise(a=>{this.socket.once("search_res",o=>{const l=Object.entries(o).map(([c,v])=>({id:c.toLocaleLowerCase(),name:v}));a(l)})});return this.socket.emit("search",e),t}}class Sf{constructor(e){this.get$=new be(t=>{const a=o=>{const l=xf(o);t.next(l)};return e.on("token names inside pool",a),()=>{e.off("token names inside pool",a)}}).pipe($e())}}function xf(n){return n.map(e=>({name:e}))}class es{constructor(e){this.socket=e,this.update$=new be(t=>{const a=o=>{t.next(o)};return e.on("price_chart_combination",a),()=>{e.off("price_chart_combination",a)}}).pipe($e())}update(e,t){this.socket.emit("new combination",[e,t[0],t[1]])}}class Af{constructor(e){this.socket=e}update(e){this.socket.emit(e)}}const xe=Ve({id:"monitorStore",state:()=>({socket:null,socketPool:null,pool:null,pools:[],poolsLoadingError:!1,prices:[],balances:[],volumes:[],transactions:[],tvl:[],bonding:{curve:[],balanceCoin0:0,balanceCoin1:0},coins:[],pair:null,timeRange:"month"})});class If{constructor(e){this.init$=new be(t=>{const a=o=>{const l=o.map(c=>pn(c));t.next(l)};return e.on("price_chart",a),()=>{e.off("price_chart",a)}}).pipe($e()),this.update$=new be(t=>{const a=o=>{const l=pn(o);t.next(l)};return e.on("Update Price-Chart",a),()=>{e.off("Update Price-Chart",a)}}).pipe($e())}}function pn(n){const e=Object.keys(n)[0],t=parseInt(e,10),a=n[e];return{timestamp:t,value:a}}class Mf{constructor(e){this.init$=new be(t=>{const a=o=>{const l=o.map(c=>mn(c));t.next(l)};return e.on("balances_chart",a),()=>{e.off("balances_chart",a)}}).pipe($e()),this.update$=new be(t=>{const a=o=>{const l=mn(o);t.next(l)};return e.on("Update Balance-Chart",a),()=>{e.off("Update Balance-Chart",a)}}).pipe($e())}}function mn(n){const e=Object.keys(n)[0],t=parseInt(e,10),a=n[e];return{timestamp:t,balances:a}}class Lf{constructor(e){this.init$=new be(t=>{const a=o=>{const l=o.map(c=>_n(c));t.next(l)};return e.on("volume_chart",a),()=>{e.off("volume_chart",a)}}).pipe($e()),this.update$=new be(t=>{const a=o=>{const l=_n(o);t.next(l)};return e.on("Update Volume-Chart",a),()=>{e.off("Update Volume-Chart",a)}}).pipe($e())}}function _n(n){const e=Object.keys(n)[0],t=parseInt(e,10),a=n[e];return{timestamp:t,volume:a}}class Pf{constructor(e){this.init$=new be(t=>{const a=o=>{const l=o.map(c=>vn(c)).flat(1);t.next(l)};return e.on("table_all",a),()=>{e.off("table_all",a)}}).pipe($e()),this.update$=new be(t=>{const a=o=>{const l=vn(o);for(const c of l)t.next(c)};return e.on("Update Table-ALL",a),()=>{e.off("Update Table-ALL",a)}}).pipe($e())}}function vn(n){let e;if(n.type==="swap")e="swap";else if(n.type==="deposit")e="deposit";else if(n.type==="remove")e="withdraw";else return[];const t=n.txHash.toLocaleLowerCase(),a=n.blockNumber,o=n.trader.toLocaleLowerCase(),l=n.unixtime;let c;if(e==="swap"){const v=n;return c=[{type:e,txHash:t,blockNumber:a,trader:o,timestamp:l,fee:v.tradeDetails.feeUSD,value:v.tradeDetails.valueUSD,amountIn:v.tradeDetails.amountIn,amountOut:v.tradeDetails.amountOut,tokenIn:v.tradeDetails.nameIn,tokenOut:v.tradeDetails.nameOut}],c}else e==="deposit"?c=n.tradeDetails.map(r=>({type:"deposit",txHash:t,blockNumber:a,trader:o,timestamp:l,value:r.valueUSD,amountIn:r.amountIn,tokenIn:r.nameIn})):c=n.tradeDetails.map(r=>({type:"withdraw",txHash:t,blockNumber:a,trader:o,timestamp:l,value:r.valueUSD,amountOut:r.amountOut,tokenOut:r.nameOut}));return c}class Tf{constructor(e){this.init$=new be(t=>{const a=o=>{const l=o.map(c=>fn(c));t.next(l)};return e.on("tvl_chart",a),()=>{e.off("tvl_chart",a)}}).pipe($e()),this.update$=new be(t=>{const a=o=>{const l=fn(o);t.next(l)};return e.on("Update TVL-Chart",a),()=>{e.off("Update TVL-Chart",a)}}).pipe($e())}}function fn(n){const e=Object.keys(n)[0],t=parseInt(e,10),a=n[e];return{timestamp:t,tvl:a}}class Df{constructor(e){this.get$=new be(t=>{const a=o=>{const l=Vf(o);t.next(l)};return e.on("bonding_curve",a),()=>{e.off("bonding_curve",a)}}).pipe($e())}}function Vf(n){return{curve:z.zipWith(n.x,n.y,(t,a)=>({x:t,y:a})),balanceCoin0:n.balance0,balanceCoin1:n.balance1}}function zf(n){return It(`${n}/`,{autoConnect:!1,secure:!0})}function Bf(n,e){return It(`${n}/${e}`,{autoConnect:!1,secure:!0})}function Rf(n){return It(`${n}/main`,{autoConnect:!1,secure:!0})}function Of(n,e,t){const a=Bf(e,t),o=new Lf(a),l=new If(a),c=new Pf(a),v=new Mf(a),r=new Tf(a),p=new Df(a),d=new Sf(a),g=new es(a);return Hf(n,c),Wf(n,l),Ef(n,v),Uf(n,r),qf(n,o),Nf(n,p),Gf(n,d),Qf(n,g),a.connect(),a}async function Ff(n,e,t){const a=await e.get(t);a?n.pools=a:n.poolsLoadingError=!0}let wt=null;function Ef(n,e){wt&&wt.unsubscribe();try{wt=e.init$.subscribe({next:t=>{n.balances=t},error:t=>console.error(t)}),wt.add(e.update$.subscribe({next:t=>{n.balances.push(t)},error:t=>console.error(t)}))}catch{n.poolsLoadingError=!0}}let $t=null;function Uf(n,e){$t&&$t.unsubscribe();try{$t=e.init$.subscribe({next:t=>{n.tvl=t},error:t=>console.error(t)}),$t.add(e.update$.subscribe({next:t=>{n.tvl.push(t)},error:t=>console.error(t)}))}catch{n.poolsLoadingError=!0}}let kt=null;function Wf(n,e){kt&&kt.unsubscribe();try{kt=e.init$.subscribe({next:t=>{n.prices=t},error:t=>console.error(t)}),kt.add(e.update$.subscribe({next:t=>{n.prices.push(t)},error:t=>console.error(t)}))}catch{n.poolsLoadingError=!0}}let Ct=null;function qf(n,e){Ct&&Ct.unsubscribe();try{Ct=e.init$.subscribe({next:t=>{n.volumes=t},error:t=>console.error(t)}),Ct.add(e.update$.subscribe({next:t=>{n.volumes.push(t)},error:t=>console.error(t)}))}catch{n.poolsLoadingError=!0}}let St=null;function Hf(n,e){St&&St.unsubscribe();try{St=e.init$.subscribe({next:t=>{n.transactions=t},error:t=>console.error(t)}),St.add(e.update$.subscribe({next:t=>{n.transactions.push(t)},error:t=>console.error(t)}))}catch{n.poolsLoadingError=!0}}let Ot=null;function Nf(n,e){Ot&&Ot.unsubscribe();try{Ot=e.get$.subscribe({next:t=>{n.bonding=t},error:t=>console.error(t)})}catch{n.poolsLoadingError=!0}}let Ft=null;function Gf(n,e){Ft&&Ft.unsubscribe();try{Ft=e.get$.subscribe({next:t=>{n.coins=t},error:t=>console.error(t)})}catch{n.poolsLoadingError=!0}}let Et=null;function Qf(n,e){Et&&Et.unsubscribe();try{Et=e.update$.subscribe({next:t=>{n.pair=t},error:t=>console.error(t)})}catch{n.poolsLoadingError=!0}}const Yf={key:0,class:"item"},jf=["src"],Jf={class:"label"},ts=S({__name:"SearchPool",props:{modelValue:{},poolService:{}},emits:["update:modelValue","select"],setup(n,{emit:e}){const{t}=R(),a=e,o=xe(),l=L(!1),c=L(t("search-placeholder")),v=C(()=>o.pools),r=_=>{const h=Le(_.name);return h.startsWith("Curve.fi ")?h.slice(9):h},p=z.debounce(Ff,200,{maxWait:1e3}),d=_=>{p(o,n.poolService,_),l.value=!!_},g=_=>{const h=_;l.value=!1,a("select",h)};return D(()=>o.poolsLoadingError,_=>{_?c.value=t("search-error"):c.value=t("search-placeholder")}),(_,h)=>(y(),P(s(fe),{class:"select-pool","model-value":_.modelValue,placeholder:c.value,search:!0,"auto-complete":l.value,options:v.value,"onUpdate:modelValue":h[0]||(h[0]=u=>a("update:modelValue",u)),onInput:d,onSelect:g},{item:b(u=>[u.item?(y(),$("div",Yf,[i("img",{src:s(ra)(u.item.name,!1)},null,8,jf),i("div",Jf,A(r(u.item)),1)])):V("",!0)]),_:1},8,["model-value","placeholder","auto-complete","options"]))}});function hn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-loading":t=>{const{normalize:a}=t;return a(["Loading pools, please wait..."])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve pools"])},"search-error":t=>{const{normalize:a}=t;return a(["Failed loading Curve pools"])}}})}typeof hn=="function"&&hn(ts);const Kf=I(ts,[["__scopeId","data-v-d87077ae"]]),Zf={class:"status"},Xf={class:"ping"},eh=S({__name:"Status",setup(n){const e=xe(),t=L(1/0),a=L("bad");return D(()=>e.socket,o=>{if(!o)return;new kf(o).get$.subscribe(c=>{t.value=c,a.value=c<=50?"good":c<=500?"meh":"bad"})},{immediate:!0}),(o,l)=>(y(),$("div",Zf,[m(s(Oe),{class:"tooltip"},{item:b(()=>[i("div",{class:B(["indicator",a.value])},null,2)]),default:b(()=>[i("div",Xf,"Ping: "+A(t.value===1/0?"?":t.value)+"ms",1)]),_:1})]))}});const th=I(eh,[["__scopeId","data-v-30181aee"]]),ah=n=>(oe("data-v-193d2201"),n=n(),se(),n),nh={class:"header"},oh={class:"header-content"},sh=ah(()=>i("div",{class:"title"},"Live monitor",-1)),lh={class:"controls"},rh=S({__name:"Header",props:{poolService:{}},setup(n){const e=xe(),t=L(""),a=o=>{const l=o;t.value=Le(l.name),e.pool=l};return(o,l)=>(y(),$("div",nh,[m(s(j),null,{default:b(()=>[i("div",oh,[sh,i("div",lh,[m(Kf,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=c=>t.value=c),class:"search","pool-service":o.poolService,onSelect:a},null,8,["modelValue","pool-service"]),m(th)])])]),_:1})]))}});const ih=I(rh,[["__scopeId","data-v-193d2201"]]),ch={class:"pair"},uh={class:"item"},dh=["src"],ph={class:"label"},mh={class:"item"},_h=["src"],vh={class:"label"},fh=S({__name:"SelectorPair",setup(n){const e=xe(),t=L([!1,!1]),a=L([null,null]),o=C(()=>e.coins.map(d=>({label:d.name}))),l=C(()=>e.pair?[{label:e.pair[0]},{label:e.pair[1]}]:null),c=d=>d!=null&&d.logo?`${d.logo}`:"",v=d=>d?`${d.label}`:"?",r=d=>{t.value[d]=!t.value[d]},p=(d,g,_)=>{var w,k;const h=d===0?1:0,u=a.value[d],f=g;(u==null?void 0:u.label)!==f.label&&(a.value[d]=f,((w=a.value[d])==null?void 0:w.label)===((k=a.value[h])==null?void 0:k.label)&&(a.value[h]=u),_&&e.socketPool&&a.value[0]&&a.value[1]&&new es(e.socketPool).update(e.timeRange,[a.value[0].label,a.value[1].label]))};return D(l,()=>{p(0,l.value?l.value[0]:null,!1),p(1,l.value?l.value[1]:null,!1)}),(d,g)=>(y(),$("div",ch,[m(s(qe),{class:"select",options:o.value,selected:a.value[0],open:t.value[0],onOpen:g[0]||(g[0]=_=>r(0)),onClose:g[1]||(g[1]=_=>t.value[0]=!1),onInput:g[2]||(g[2]=_=>p(0,_,!0))},{item:b(_=>{var h;return[i("div",uh,[(h=_.item)!=null&&h.logo?(y(),$("img",{key:0,src:c(_.item)},null,8,dh)):V("",!0),i("div",ph,A(v(_.item)),1)])]}),_:1},8,["options","selected","open"]),m(s(qe),{class:"select",options:o.value,selected:a.value[1],open:t.value[1],onOpen:g[3]||(g[3]=_=>r(1)),onClose:g[4]||(g[4]=_=>t.value[1]=!1),onInput:g[5]||(g[5]=_=>p(1,_,!0))},{item:b(_=>{var h;return[i("div",mh,[(h=_.item)!=null&&h.logo?(y(),$("img",{key:0,src:c(_.item)},null,8,_h)):V("",!0),i("div",vh,A(v(_.item)),1)])]}),_:1},8,["options","selected","open"])]))}});const hh=I(fh,[["__scopeId","data-v-50c3fa55"]]),yh=["day","week","month"],gh={class:"ranges"},as=S({__name:"SelectorRange",setup(n){const{t:e}=R(),t=xe(),a=o=>{t.timeRange!==o&&(t.timeRange=o,t.pair&&new Af(t.socketPool).update(o))};return(o,l)=>(y(),$("div",gh,[(y(!0),$(le,null,pe(s(yh),c=>(y(),P(s(Re),{key:c,"model-value":s(t).timeRange===c,value:s(e)(c),onClick:v=>a(c)},null,8,["model-value","value","onClick"]))),128))]))}});function yn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{day:t=>{const{normalize:a}=t;return a(["Day"])},week:t=>{const{normalize:a}=t;return a(["Week"])},month:t=>{const{normalize:a}=t;return a(["Month"])}}})}typeof yn=="function"&&yn(as);const bh=I(as,[["__scopeId","data-v-60686ec1"]]),ns=n=>(oe("data-v-10ded877"),n=n(),se(),n),wh={class:"controls"},$h=ns(()=>i("div",{class:"gutter"},null,-1)),kh={class:"rows"},Ch=ns(()=>i("div",{class:"title"},"Charts",-1)),Sh={class:"items"},xh=S({__name:"Controls",setup(n){return(e,t)=>(y(),$("div",wh,[$h,i("div",kh,[Ch,i("div",Sh,[m(hh),m(bh)])])]))}});const Ah=I(xh,[["__scopeId","data-v-10ded877"]]);function Ih(n){return n.type==="swap"}function Mh(n){return n.type==="deposit"}function Lh(n){return n.type==="withdraw"}const Ph={class:"title"},Th={key:0,class:"fas fa-arrow-up"},Dh={key:1,class:"fas fa-arrow-down"},Vh={key:2,class:"fas fa-exchange-alt"},zh={key:0,class:"number"},Bh=["href"],Rh=["href"],Oh=["href"],Fh=["innerHTML"],Eh={key:0},Uh={key:1,class:"number"},gn=10,os=S({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(n){const{t:e}=R(),t=xe(),{relativeTime:a}=ma(),o=L(""),l=L(["swap","deposit","withdraw"]),c=C(()=>n.time?["Type","Block","Tx","Trader","Assets","Fees","Time"]:["Type","Tx","Trader","Assets","Fees"]),v=C(()=>z.chain(n.txs?n.txs:t.transactions).filter(h=>l.value.includes(h.type)).filter(h=>{const u=o.value.toLocaleLowerCase().split(" "),f=w=>u.some(k=>w.toLocaleLowerCase().includes(k));return f(h.blockNumber.toString())||f(h.trader)||f(h.txHash)}).reverse().value()),{page:r,rowsPage:p,onPage:d}=_a(v,gn),g=h=>{if(Ih(h)){const u=h.amountIn.toLocaleString(),f=h.amountOut.toLocaleString(),w=`<span>${u} ${h.tokenIn}</span>`,k="<i class='fas fa-arrow-right'></i>",x=`<span style='justify-self: end;'>${f} ${h.tokenOut}</span>`;return`${w}${k}${x}`}else{if(Mh(h))return`${h.amountIn.toLocaleString()} ${h.tokenIn}`;if(Lh(h))return`${h.amountOut.toLocaleString()} ${h.tokenOut}`}return"???"},_=h=>{h===0?l.value=["swap","deposit","withdraw"]:h===1?l.value=["swap"]:h===2?l.value=["deposit"]:h===3?l.value=["withdraw"]:l.value=[]};return(h,u)=>(y(),P(s(ke),{class:B(["datatable-trades",{compact:h.compact,time:h.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:s(p),columns:c.value},sa({row:b(f=>[i("div",{class:B(["type",{deposit:f.item.type==="deposit",withdraw:f.item.type==="withdraw",swap:f.item.type==="swap"}])},[f.item.type==="deposit"?(y(),$("i",Th)):f.item.type==="withdraw"?(y(),$("i",Dh)):(y(),$("i",Vh)),U(" "+A(s(e)(f.item.type)),1)],2),h.time?(y(),$("div",zh,[i("a",{class:"vote-link",href:`https://etherscan.io/block/${f.item.blockNumber}`,target:"_blank"},A(f.item.blockNumber),9,Bh)])):V("",!0),i("div",{onClick:u[2]||(u[2]=De(()=>{},["stop"]))},[i("a",{class:"vote-link",href:`https://etherscan.io/tx/${f.item.txHash}`,target:"_blank"},A(s(Pe)(f.item.txHash)),9,Rh)]),i("div",{onClick:u[3]||(u[3]=De(()=>{},["stop"]))},[i("a",{class:"vote-link",href:`https://etherscan.io/address/${f.item.trader}`,target:"_blank"},A(s(Pe)(f.item.trader)),9,Oh)]),i("div",{class:B(["assets",{swap:f.item.type==="swap"}]),innerHTML:g(f.item)},null,10,Fh),i("div",{class:B({number:h.time})},[f.item.type==="swap"?(y(),$("span",Eh," $"+A(s(z.round)(f.item.fee).toLocaleString()),1)):V("",!0)],2),h.time?(y(),$("div",Uh,A(s(a)(f.item.timestamp)),1)):V("",!0)]),_:2},[h.header?{name:"header-title",fn:b(()=>[i("div",Ph,A(s(e)("title")),1),m(s(lt),{class:"types",onTab:u[0]||(u[0]=f=>_(f.index))},{default:b(()=>[m(s(ce),{header:"All"}),m(s(ce),{header:"Swaps"}),m(s(ce),{header:"Deposits"}),m(s(ce),{header:"Withdrawals"})]),_:1}),m(s(fe),{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=f=>o.value=f),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,h.header?{name:"header-actions",fn:b(()=>[m(s(at),{class:"pagination","items-count":v.value.length,"items-per-page":gn,page:s(r),onPage:s(d)},null,8,["items-count","page","onPage"])]),key:"1"}:void 0]),1032,["class","rows","columns"]))}});function bn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},withdraw:t=>{const{normalize:a}=t;return a(["Withdraw"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof bn=="function"&&bn(os);const Wh=I(os,[["__scopeId","data-v-392ebb3e"]]),ss=S({__name:"TVL",setup(n){const{t:e}=R();let t,a;const o=xe(),l=G(),c=L(null),v=C(()=>o.tvl);H(()=>{c.value&&(t=me(c.value,r(c.value,l.theme)),a=t.addAreaSeries(p(l.theme)),d(v.value))}),D(v,_=>{d(_)}),D(()=>l.theme,_=>{c.value&&(t.applyOptions(r(c.value,_)),a.applyOptions(p(_)))});const r=(_,h)=>he(_,h,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:u=>g(u)}}),p=_=>{const h=W(_);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:h.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},d=_=>{if(!t||!a)return;const h=z.chain(_).map(u=>({time:u.timestamp,value:u.tvl})).uniqWith((u,f)=>u.time===f.time).orderBy(u=>u.time,"asc").value();h.length>0&&a.setData(h),t.timeScale().fitContent()},g=_=>`$${K(_,1,"dollar")}${J(_,"dollar")}`;return(_,h)=>(y(),P(s(j),{class:"tvl",title:s(e)("title")},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function wn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["TVL"])}}})}typeof wn=="function"&&wn(ss);const qh=I(ss,[["__scopeId","data-v-10835709"]]),ls=S({__name:"Bonding",setup(n){const{t:e}=R();let t,a;const o=xe(),l=G(),c=L(null),v=C(()=>o.bonding);H(()=>{c.value&&(t=me(c.value,r(c.value,l.theme)),a=t.addLineSeries(p(l.theme)),g(v.value))}),D(v,h=>{g(h)}),D(()=>l.theme,h=>{c.value&&(t.applyOptions(r(c.value,h)),a.applyOptions(p(h)),d(h))});const r=(h,u)=>he(h,u,{rightPriceScale:{visible:!1},leftPriceScale:{visible:!0,borderVisible:!1,scaleMargins:{top:.1,bottom:0}},timeScale:{tickMarkFormatter:f=>_(f)},localization:{priceFormatter:f=>_(f),timeFormatter:f=>_(f)}}),p=h=>{const u=W(h);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:u.blue,lastValueVisible:!1,priceLineVisible:!1}},d=h=>{const u=W(h),f=[{time:v.value.balanceCoin1,position:"inBar",color:u.yellow,shape:"circle"}];a.setMarkers(f)},g=h=>{if(!t||!a)return;const u=z.chain(h.curve).map(f=>({time:f.x,value:f.y})).value();u.length>0&&(a.setData(u),d(l.theme)),t.timeScale().fitContent()},_=h=>h<0?"":`${K(Math.abs(h),0,"dollar")}${J(h,"dollar")}`;return(h,u)=>(y(),P(s(j),{class:"bondings",title:s(e)("title")},{default:b(()=>[i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function $n(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Bonding Curve"])}}})}typeof $n=="function"&&$n(ls);const Hh=I(ls,[["__scopeId","data-v-7db05945"]]),rs=S({__name:"Balances",setup(n){const{t:e}=R();let t,a=[];const o=xe(),l=G(),c=L(null),v=C(()=>o.balances),r=C(()=>{var u,f;return((f=(u=o.balances[0])==null?void 0:u.balances)==null?void 0:f.length)??0});H(()=>{c.value&&(t=me(c.value,p(c.value,l.theme)),g(),_(v.value))}),D(v,u=>{g(),_(u)}),D(()=>l.theme,u=>{if(c.value){t.applyOptions(p(c.value,u));for(const[f,w]of a.entries())w.applyOptions(d(f,l.theme))}});const p=(u,f)=>he(u,f,{rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:w=>h(w)}}),d=(u,f)=>{const w=te(f);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:w[u],lastValueVisible:!1,priceLineVisible:!1}},g=()=>{if(t){for(const u of a)t.removeSeries(u);a=[];for(let u=0;u<r.value;u++){const f=t.addLineSeries(d(u,l.theme));a.push(f)}}},_=u=>{if(!(!t||a.length<0)){for(let f=0;f<r.value;f++){const w=z.chain(u).map(k=>({time:k.timestamp,value:k.balances[f]})).uniqWith((k,x)=>k.time===x.time).orderBy(k=>k.time,"asc").value();w.length>0&&a[f].setData(w)}t.timeScale().fitContent()}},h=u=>`${K(u,1,"dollar")}${J(u,"dollar")}`;return(u,f)=>(y(),P(s(j),{class:"balances",title:s(e)("title")},{default:b(()=>[m(s(Ge),{items:s(o).coins.map(w=>w.name),colors:s(te)(s(l).theme)},null,8,["items","colors"]),i("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title"]))}});function kn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Balances"])}}})}typeof kn=="function"&&kn(rs);const Nh=I(rs,[["__scopeId","data-v-9efb7ba6"]]),is=S({__name:"Prices",setup(n){const{t:e}=R();let t,a,o,l=1,c=0;const v=xe(),r=G(),p=L(null),d=C(()=>v.prices),g=C(()=>v.volumes);H(()=>{p.value&&(t=me(p.value,_(p.value,r.theme)),a=t.addAreaSeries(h(r.theme)),o=t.addHistogramSeries(u(r.theme)),f(d.value),w(g.value))}),D(d,x=>{f(x)}),D(g,x=>{w(x)}),D(()=>r.theme,x=>{p.value&&(t.applyOptions(_(p.value,x)),a.applyOptions(h(x)),o.applyOptions(u(x)))});const _=(x,M)=>he(x,M,{leftPriceScale:{scaleMargins:{top:.6,bottom:0}},localization:{priceFormatter:T=>k(T)}}),h=x=>{const M=W(x);return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:M.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}},u=x=>({color:W(x).yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceScaleId:"left",priceLineVisible:!1}),f=x=>{if(!t||!a)return;const M=z.chain(x).map(T=>({time:T.timestamp,value:T.value})).uniqWith((T,F)=>T.time===F.time).orderBy(T=>T.time,"asc").value();if(M.length>0){a.setData(M);const T=M[0].time,F=M[M.length-1].time;t.timeScale().setVisibleRange({from:T,to:F}),c=Math.min(...M.map(Q=>Q.value)),l=Math.max(...M.map(Q=>Q.value))}},w=x=>{if(!t||!o)return;const M=z.chain(x).map(T=>({time:T.timestamp,value:T.volume})).uniqWith((T,F)=>T.time===F.time).orderBy(T=>T.time,"asc").value();M.length>0&&o.setData(M)},k=x=>{const M=l-c,T=M>1?M-Math.floor(M):M,F=-Math.floor(Math.log10(T)+1)+2;return`${K(x,F,"dollar")}${J(x,"dollar")}`};return(x,M)=>(y(),P(s(j),{class:"prices",title:s(e)("title")},{default:b(()=>[i("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title"]))}});function Cn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Price"])}}})}typeof Cn=="function"&&Cn(is);const Gh=I(is,[["__scopeId","data-v-4a0b4d21"]]),Qh={class:"curve-monitor"},Yh={key:0,class:"data"},Sn="https://ws.llama.airforce:2053",jh=S({__name:"Monitor",setup(n){const e=zf(Sn),t=new Cf(e),a=He(),o=st(),l=xe();l.socket=e;const c=C(()=>l.pool!==null);let v="";H(async()=>{const d=a.params.pool;await p(d),e.connect()});const r=async(d,g)=>{var h;v!==d.id&&(l.pool={id:"0xA5407eAE9Ba41422680e2e00537571bcC53efBfD",name:"susd"},(h=l.socketPool)==null||h.close(),l.socketPool=Of(l,Sn,l.pool.id),v=l.pool.id,g&&await o.push({name:"curvemonitor",params:{pool:l.pool.id}}))},p=async d=>{d&&typeof d=="string"&&await r({id:d,name:"???"},!1)};return D(()=>l.pool,async d=>{await r(d,!0)}),D(()=>a.params,async d=>{const g=d.pool;await p(g)}),(d,g)=>(y(),$("div",Qh,[m(ih,{class:"header","pool-service":s(t)},null,8,["pool-service"]),c.value?(y(),$("div",Yh,[m(Ah,{class:"controls"}),m(Gh,{class:"prices"}),m(Wh,{class:"transactions"}),m(Nh,{class:"balances"}),m(qh,{class:"tvl"}),m(Hh,{class:"bonding"})])):V("",!0)]))}});const Jh=I(jh,[["__scopeId","data-v-da95628e"]]);class cs{constructor(e){this.socket=e}search(e){const t=new Promise(a=>{this.socket.once("userSearchResult",o=>{a(o)})});return this.socket.emit("getUserSearchResult",e),t}getSandwichLabelOccurrences(){const e=new Promise(t=>{this.socket.once("sandwichLabelOccurrences",a=>{t(a)})});return this.socket.emit("getSandwichLabelOccurrences"),e}getAbsoluteLabelsRanking(){const e=new Promise(t=>{this.socket.once("absoluteLabelsRanking",a=>{t(a)})});return this.socket.emit("getAbsoluteLabelsRanking"),e}getSandwiches(e=1){const t=new Promise(a=>{this.socket.once("fullSandwichTableContent",({data:o,totalPages:l})=>{a({sandwiches:o,totalPages:l})})});return this.socket.emit("getFullSandwichTableContent","full",e),t}}const Dt=Ve({id:"mevStore",state:()=>({socket:null,sandwiches:[],sandwichesPage:{cur:0,total:0},labelRankingShort:[],labelRankingExtended:[]})}),Kh=S({__name:"LabelsWorstRelative",setup(n){const e=Dt(),t=G(),a=r=>r.filter(p=>p.numOfAllTx>=12).map(p=>({...p,ratio:Number((p.occurrences/p.numOfAllTx*100).toFixed(2))})).sort((p,d)=>d.ratio-p.ratio).slice(0,10),o=C(()=>a(e.labelRankingExtended).map(r=>r.label)),l=C(()=>a(e.labelRankingExtended).map(r=>r.ratio)),c=C(()=>{const r=W(t.theme),p=te(t.theme);return ve({colors:r,colorsArray:p},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const g=d.w.globals.labels[d.seriesIndex],_=d.series[d.seriesIndex];return[`<div><b>${g}</b>:</div><div>Ratio: ${v(_)}</div>`].join("")}},labels:o.value})}),v=r=>`${r}%`;return(r,p)=>(y(),P(s(ge),{class:"mevLabels",title:"Worst relative offenders",options:c.value,series:l.value},null,8,["options","series"]))}});const Zh=I(Kh,[["__scopeId","data-v-8dc7cde4"]]),Xh=S({__name:"LabelsWorstAbsolute",setup(n){const e=Dt(),t=G(),a=r=>r.filter(p=>p.numOfAllTx>=12).map(p=>({...p,occurrences:p.occurrences})).sort((p,d)=>d.occurrences-p.occurrences).slice(0,10),o=C(()=>a(e.labelRankingExtended).map(r=>r.label)),l=C(()=>a(e.labelRankingExtended).map(r=>r.occurrences)),c=C(()=>{const r=W(t.theme),p=te(t.theme);return ve({colors:r,colorsArray:p},{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:d=>{const g=d.w.globals.labels[d.seriesIndex],_=d.series[d.seriesIndex];return[`<div><b>${g}</b>:</div><div>Occurences: ${v(_)}</div>`].join("")}},labels:o.value})}),v=r=>`${r}`;return(r,p)=>(y(),P(s(ge),{class:"mevLabels",title:"Worst absolute offenders",options:c.value,series:l.value},null,8,["options","series"]))}});const ey=I(Xh,[["__scopeId","data-v-38c6209e"]]),ty={class:"title"},ay={key:0,class:"fas fa-arrow-up"},ny={key:1,class:"fas fa-arrow-down"},oy={key:2,class:"fas fa-exchange-alt"},sy={key:0,class:"number"},ly=["href"],ry=["href"],iy=["href"],cy=["innerHTML"],uy={key:1,class:"number"},xn=10,us=S({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(n){const{t:e}=R(),{relativeTime:t}=ma(),a=L(""),o=L(["swap","deposit","remove"]),l=C(()=>n.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),c=C(()=>z.chain(n.txs).filter(_=>o.value.includes(_.transaction_type)).filter(_=>{const h=a.value.toLocaleLowerCase().split(" "),u=f=>h.some(w=>f.toLocaleLowerCase().includes(w));return u(_.block_number.toString())||u(_.trader)||u(_.tx_hash)}).value()),{page:v,rowsPage:r,onPage:p}=_a(c,xn),d=_=>{if(_.transaction_type==="swap"){const h=_.coins_leaving_wallet[0],u=_.coins_entering_wallet[0],f=Ue(parseFloat(h.amount)),w=Ue(parseFloat(u.amount)),k=`<span>${f} ${h.name}</span>`,x="<i class='fas fa-arrow-right'></i>",M=`<span style='justify-self: end;'>${w} ${u.name}</span>`;return`${k}${x}${M}`}else if(_.transaction_type==="deposit"){const h=_.coins_entering_wallet[0];return`${Ue(parseFloat(h.amount))} ${h.name}`}else if(_.transaction_type==="remove"){const h=_.coins_leaving_wallet[0];return`${Ue(parseFloat(h.amount))} ${h.name}`}return"???"},g=_=>{_===0?o.value=["swap","deposit","remove"]:_===1?o.value=["swap"]:_===2?o.value=["deposit"]:_===3?o.value=["remove"]:o.value=[]};return(_,h)=>(y(),P(s(ke),{class:B(["datatable-trades",{compact:_.compact,time:_.time}]),"columns-header":"auto auto 1fr","columns-data":"trades-columns-data",rows:s(r),columns:l.value,header:_.header},sa({row:b(u=>[i("div",{class:B(["type",{deposit:u.item.transaction_type==="deposit",remove:u.item.transaction_type==="remove",swap:u.item.transaction_type==="swap"}])},[u.item.transaction_type==="deposit"?(y(),$("i",ay)):u.item.transaction_type==="remove"?(y(),$("i",ny)):(y(),$("i",oy)),U(" "+A(s(e)(u.item.transaction_type)),1)],2),_.time?(y(),$("div",sy,[i("a",{class:"vote-link",href:`https://etherscan.io/block/${u.item.block_number}`,target:"_blank"},A(u.item.block_number),9,ly)])):V("",!0),i("div",{onClick:h[2]||(h[2]=De(()=>{},["stop"]))},[i("a",{class:"vote-link",href:`https://etherscan.io/tx/${u.item.tx_hash}`,target:"_blank"},A(s(Pe)(u.item.tx_hash)),9,ry)]),i("div",{onClick:h[3]||(h[3]=De(()=>{},["stop"]))},[i("a",{class:"vote-link",href:`https://etherscan.io/address/${u.item.trader}`,target:"_blank"},A(s(Pe)(u.item.trader)),9,iy)]),i("div",{class:B(["assets",{swap:u.item.transaction_type==="swap"}]),innerHTML:d(u.item)},null,10,cy),_.time?(y(),$("div",uy,A(s(t)(u.item.block_unixtime)),1)):V("",!0)]),_:2},[_.header?{name:"header-title",fn:b(()=>[i("div",ty,A(s(e)("title")),1),m(s(lt),{class:"types",onTab:h[0]||(h[0]=u=>g(u.index))},{default:b(()=>[m(s(ce),{header:"All"}),m(s(ce),{header:"Swaps"}),m(s(ce),{header:"Deposits"}),m(s(ce),{header:"Removals"})]),_:1}),m(s(fe),{modelValue:a.value,"onUpdate:modelValue":h[1]||(h[1]=u=>a.value=u),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),key:"0"}:void 0,_.header?{name:"header-actions",fn:b(()=>[m(s(at),{class:"pagination","items-count":c.value.length,"items-per-page":xn,page:s(v),onPage:s(p)},null,8,["items-count","page","onPage"])]),key:"1"}:void 0]),1032,["class","rows","columns","header"]))}});function An(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Transactions"])},swap:t=>{const{normalize:a}=t;return a(["Swap"])},deposit:t=>{const{normalize:a}=t;return a(["Deposit"])},remove:t=>{const{normalize:a}=t;return a(["Remove"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof An=="function"&&An(us);const dy=I(us,[["__scopeId","data-v-410885e8"]]),py={class:"title"},my=["href"],_y={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},vy=["href"],fy={class:"number"},Ut=10,ds=S({__name:"Sandwiches",setup(n){const{t:e}=R(),t=Dt(),{expanded:a,toggleExpansion:o}=fo(),{relativeTime:l}=ma(),c=L(""),v=C(()=>t.sandwichesPage.cur),r=C(()=>t.sandwichesPage.total*Ut),p=C(()=>z.chain(t.sandwiches).filter(_=>{const h=c.value.toLocaleLowerCase().split(" "),u=f=>h.some(w=>f.toLocaleLowerCase().includes(w));return u(_.poolName.toString())||u(_.poolAddress.toString())||u(_.label.toString())}).orderBy([_=>_.frontrun.block_unixtime,_=>_.frontrun.tx_position],"desc").value()),d=_=>z.orderBy([_.frontrun,..._.center,_.backrun],[h=>h.block_unixtime,h=>h.tx_position]),g=async _=>{if(!t.socket)return;const h=new cs(t.socket),{sandwiches:u,totalPages:f}=await h.getSandwiches(_);t.sandwiches=u,t.sandwichesPage={cur:_,total:f}};return(_,h)=>(y(),P(s(ke),{class:"datatable-sandwiches","columns-header":"auto 1fr auto","columns-data":"sandwiches-columns-data",rows:p.value,columns:["Pool","Action","Affected Contract","Time"],expanded:s(a),onSelected:h[1]||(h[1]=u=>s(o)(u))},sa({"header-title":b(()=>[i("div",py,A(s(e)("title")),1),m(s(fe),{modelValue:c.value,"onUpdate:modelValue":h[0]||(h[0]=u=>c.value=u),class:"search",search:!0,placeholder:s(e)("search-placeholder")},null,8,["modelValue","placeholder"])]),row:b(u=>[i("div",null,[i("a",{class:"vote-link",href:`https://etherscan.io/address/${u.item.poolAddress}`,target:"_blank"},A(u.item.poolName),9,my)]),i("div",null,[i("div",_y,[i("a",{class:"vote-link",style:{"font-family":"monospace"},target:"_blank",href:`https://etherscan.io/address/${u.item.center[0].trader}`},A(s(Pe)(u.item.center[0].trader)),9,vy),i("span",null," lost "+A(s(Ue)(u.item.user_losses_details.reduce((f,w)=>f+w.amount,0)))+" "+A(u.item.user_losses_details[0].unit),1),i("span",null,A(s(Ue)(-u.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+A(s(Ue)(u.item.lossInUsd)),1)])]),i("div",null,A(u.item.label),1),i("div",fy,A(s(l)(u.item.frontrun.block_unixtime)),1)]),"row-details":b(u=>[m(dy,{class:"transactions",txs:d(u.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:2},[r.value>Ut?{name:"header-actions",fn:b(()=>[m(s(at),{class:"pagination","items-count":r.value,"items-per-page":Ut,page:v.value,onPage:g},null,8,["items-count","page"])]),key:"0"}:void 0]),1032,["rows","expanded"]))}});function In(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{title:t=>{const{normalize:a}=t;return a(["Sandwiches"])},"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for..."])}}})}typeof In=="function"&&In(ds);const hy=I(ds,[["__scopeId","data-v-89f9dfe6"]]),yy={class:"mev"},gy="wss://api.curvemonitor.com",by=S({__name:"MEV",setup(n){const e=Rf(gy),t=new cs(e),a=Dt();return a.socket=e,H(()=>{e.connect(),t.getSandwichLabelOccurrences().then(o=>{a.labelRankingExtended=o}),t.getSandwiches().then(o=>{a.sandwiches=o.sandwiches,a.sandwichesPage={cur:1,total:o.totalPages}})}),(o,l)=>(y(),$("div",yy,[m(Zh,{style:{"grid-row":"1","grid-column":"1"}}),m(ey,{style:{"grid-row":"1","grid-column":"2"}}),m(hy,{style:{"grid-row":"2","grid-column":"1 / -1"}})]))}});const wy=I(by,[["__scopeId","data-v-25cc261e"]]);function Me(n){return n.executed?"executed":n.end>new Date().getTime()/1e3?"active":_s(n)&&ms(n)&&ps(n)?"passed":"denied"}function ps(n){return n.votesFor>n.support*n.quorum*n.totalSupply}function ms(n){return n.votesFor+n.votesAgainst>n.quorum*n.totalSupply}function _s(n){return n.votesFor>n.votesAgainst}const vs=S({__name:"Status",props:{proposal:{}},setup(n){const{t:e}=R(),t=C(()=>{if(Me(n.proposal)==="denied")if(ms(n.proposal))if(_s(n.proposal)){if(!ps(n.proposal))return e("no-support")}else return e("no-win");else return e("no-quorum");return""}),a=C(()=>{switch(Me(n.proposal)){case"active":return e("active");case"denied":return e("denied");case"passed":return e("passed");case"executed":return e("executed");default:return"Unk. Status"}});return(o,l)=>(y(),P(s(Ie),{class:"status","tooltip-type":"underline",label:s(e)("status"),"has-value":!0,tooltip:t.value},{default:b(()=>[t.value?(y(),P(s(Oe),{key:0},{item:b(()=>[i("span",{class:B(["status-value",s(Me)(o.proposal)])},A(a.value),3)]),default:b(()=>[U(" "+A(t.value),1)]),_:1})):(y(),$("span",{key:1,class:B(["status-value",s(Me)(o.proposal)])},A(a.value),3))]),_:1},8,["label","tooltip"]))}});function Mn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{status:t=>{const{normalize:a}=t;return a(["Status"])},active:t=>{const{normalize:a}=t;return a(["Active"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])},"no-quorum":t=>{const{normalize:a}=t;return a(["Quorum was not reached"])},"no-support":t=>{const{normalize:a}=t;return a(["Quorum was reached and 'for' won, but not enough for support"])},"no-win":t=>{const{normalize:a}=t;return a(["More 'against' votes than 'for' votes"])}}})}typeof Mn=="function"&&Mn(vs);const $y=I(vs,[["__scopeId","data-v-00fa2be1"]]),fs=S({__name:"Type",props:{proposal:{}},setup(n){const{t:e}=R(),t=C(()=>{switch(n.proposal.type){case"gauge":return e("gauge");case"parameter":return e("parameter");case"other":return e("other");default:return"Unk. Type"}});return(a,o)=>(y(),P(s(Ie),{class:"type",label:s(e)("type"),value:t.value,"has-value":!0},null,8,["label","value"]))}});function Ln(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{type:t=>{const{normalize:a}=t;return a(["Type"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof Ln=="function"&&Ln(fs);const ky=["href"],hs=S({__name:"Proposer",props:{proposal:{}},setup(n){const{t:e}=R();return(t,a)=>(y(),P(s(Ie),{class:"proposer",label:s(e)("proposer"),"has-value":!0},{default:b(()=>[i("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},A(s(Pe)(t.proposal.proposer)),9,ky)]),_:1},8,["label"]))}});function Pn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{proposer:t=>{const{normalize:a}=t;return a(["Proposer"])}}})}typeof Pn=="function"&&Pn(hs);const ea=S({__name:"Date",props:{proposal:{},type:{}},setup(n){const{t:e}=R();let t;const a=L(""),o=C(()=>{switch(n.type){case"start":return e("start");case"end":return e("end");default:return"Unk. Type"}}),l=C(()=>{switch(n.type){case"start":return new Date(n.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(n.proposal.end*1e3);return r>new Date?a.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=C(()=>{switch(n.type){case"start":return new Date(n.proposal.start*1e3).toLocaleDateString()+" "+new Date(n.proposal.start*1e3).toTimeString();case"end":return new Date(n.proposal.end*1e3).toLocaleDateString()+" "+new Date(n.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});H(()=>{v()});const v=()=>{const r=new Date(n.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=ml(r)})};return(r,p)=>(y(),P(s(Ie),{class:"date","tooltip-type":"underline",label:o.value,value:l.value,"has-value":!0,tooltip:c.value},null,8,["label","value","tooltip"]))}});function Tn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{start:t=>{const{normalize:a}=t;return a(["Start"])},end:t=>{const{normalize:a}=t;return a(["End"])}}})}typeof Tn=="function"&&Tn(ea);const Cy=n=>(oe("data-v-6bb4b64e"),n=n(),se(),n),Sy={class:"id"},xy={class:"metadata"},Ay={class:"row"},Iy=Cy(()=>i("i",{class:"fas fa-chevron-up"},null,-1)),My=[Iy],ys=S({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(n,{emit:e}){const{t}=R(),a=e;return(o,l)=>(y(),$("div",{class:"proposal-summary",onClick:l[0]||(l[0]=c=>a("toggleExpand"))},[i("div",{class:B(["title",{"no-title":!o.proposal.metadata}])},[i("div",Sy,A(o.proposal.id),1),i("div",xy,A(o.proposal.metadata||s(t)("no-title")),1)],2),i("div",Ay,[m($y,{class:"item",proposal:o.proposal},null,8,["proposal"]),m(fs,{class:"item",proposal:o.proposal},null,8,["proposal"]),m(hs,{class:"item",proposal:o.proposal},null,8,["proposal"]),m(ea,{class:"item",proposal:o.proposal,type:"start"},null,8,["proposal"]),m(ea,{class:"item",proposal:o.proposal,type:"end"},null,8,["proposal"]),i("div",{class:B(["item expander",{expanded:o.expanded}])},My,2)])]))}});function Dn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"no-title":t=>{const{normalize:a}=t;return a(["< No Title >"])}}})}typeof Dn=="function"&&Dn(ys);const Ly=I(ys,[["__scopeId","data-v-6bb4b64e"]]),ut=n=>(oe("data-v-96bba83b"),n=n(),se(),n),Py={class:"results"},Ty={class:"heading"},Dy={class:"choice"},Vy={class:"label"},zy={class:"amount"},By={class:"left"},Ry=ut(()=>i("span",null," veCRV",-1)),Oy={class:"right"},Fy=ut(()=>i("span",null,"(",-1)),Ey=ut(()=>i("span",null,")",-1)),Uy={class:"choice"},Wy={class:"label"},qy={class:"amount"},Hy={class:"left"},Ny=ut(()=>i("span",null," veCRV",-1)),Gy={class:"right"},Qy=ut(()=>i("span",null,"(",-1)),Yy=ut(()=>i("span",null,")",-1)),Vn=4,gs=S({__name:"VotingResults",props:{proposal:{}},setup(n){const{t:e}=R(),t=C(()=>n.proposal.votesFor+n.proposal.votesAgainst),a=C(()=>n.proposal.votesFor/t.value*100),o=C(()=>n.proposal.votesAgainst/t.value*100);return(l,c)=>(y(),$("div",Py,[i("div",Ty,A(s(e)("results")),1),i("div",Dy,[i("div",Vy,A(s(e)("for")),1),i("div",zy,[i("div",By,[m(s(O),{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Ry]),i("div",Oy,[Fy,m(s(O),{value:a.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Ey])]),i("div",{class:"bar",style:ye({width:`${Math.max(Vn,a.value)}%`})},null,4)]),i("div",Uy,[i("div",Wy,A(s(e)("against")),1),i("div",qy,[i("div",Hy,[m(s(O),{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Ny]),i("div",Gy,[Qy,m(s(O),{value:o.value,precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),Yy])]),i("div",{class:"bar",style:ye({width:`${Math.max(Vn,o.value)}%`})},null,4)])]))}});function zn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{results:t=>{const{normalize:a}=t;return a(["Results"])},for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof zn=="function"&&zn(gs);const jy=I(gs,[["__scopeId","data-v-96bba83b"]]),Jy=n=>(oe("data-v-566e4086"),n=n(),se(),n),Ky={class:"quorum"},Zy={class:"heading"},Xy={class:"amount"},eg={class:"bar"},tg={class:"percentages"},ag=Jy(()=>i("div",{class:"zero"},"0%",-1)),ng={class:"quorum"},bs=S({__name:"VotingQuorum",props:{proposal:{}},setup(n){const{t:e}=R(),t=C(()=>n.proposal.votesFor+n.proposal.votesAgainst),a=C(()=>n.proposal.quorum*n.proposal.totalSupply),o=C(()=>t.value/a.value*100);return(l,c)=>(y(),$("div",Ky,[i("div",Zy,A(s(e)("quorum")),1),i("div",Xy,[m(s(O),{value:t.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" / "),m(s(O),{value:a.value,precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),U(" veCRV ")]),i("div",eg,[i("div",{class:"support",style:ye({width:`${o.value}%`})},null,4),i("div",{class:"quorum",style:ye({width:`${100-o.value}%`})},null,4)]),i("div",tg,[ag,i("div",ng,[m(s(O),{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])]))}});function Bn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{quorum:t=>{const{normalize:a}=t;return a(["Quorum"])}}})}typeof Bn=="function"&&Bn(bs);const og=I(bs,[["__scopeId","data-v-566e4086"]]),sg={class:"buttons"},lg={class:"vecrv"},rg={class:"info"},ig={class:"kpis"},cg={class:"description"},ug={class:"title"},dg={class:"options"},pg={class:"label"},mg={class:"middle"},_g=["contenteditable","textContent"],vg={class:"label"},ws=S({__name:"VotingButtons",props:{proposal:{}},setup(n){const{t:e}=R(),t=Mt(),a=L(!1),o=L(!1),l=L(!1),c=L(!1),v=L(0n),r=L(0),p=L(50),d=L(null),g=L(!1),_=C(()=>{var q;return g.value?`${p.value}.`:p.value===0&&!g.value&&((q=d.value)==null?void 0:q.textContent)!=="0"?"":p.value.toString()}),h=C(()=>v.value>0n&&!c.value&&w.value&&r.value===0),u=C(()=>h.value?"submit":c.value?"voting":w.value?r.value!==0?"voted":"not-enough-voting-power":"voting-closed"),f=C(()=>je(v.value,18n)),w=C(()=>Me(n.proposal)==="active"),k=C(()=>Me(n.proposal)==="passed"),x=()=>{const q=window.getSelection();return q&&q.rangeCount>0?q.getRangeAt(0).startOffset:0},M=q=>{if(d.value){const ae=document.createRange();ae.setStart(d.value.firstChild??d.value,q),ae.collapse(!0);const X=window.getSelection();X&&(X.removeAllRanges(),X.addRange(ae))}},T=()=>{p.value=0,d.value&&(d.value.textContent="0")},F=()=>{p.value=100,d.value&&(d.value.textContent="100")},Q=q=>{q.target===q.currentTarget&&d.value&&d.value.focus()},_e=()=>{if(d.value){const q=d.value.textContent??"",ae=x();if(/^\d*(\.\d*)?$/.test(q))if(g.value=q.endsWith("."),q){const X=parseFloat(q);X>=0&&X<=100?p.value=X:(d.value.textContent=_.value,M(ae-1))}else p.value=0;else d.value.textContent=_.value,M(ae-1)}},Fe=q=>{p.value=parseFloat(q)},ft=async()=>{const q=Se();if(!q||!t.address)return;const ae=q.getSigner();c.value=!0;try{const X=mt.connect(bt,ae);r.value=await X.getVoterState(n.proposal.id,t.address);const Te=await X.PCT_BASE().then(Vt=>Vt.toBigInt()),dt=BigInt(Math.log10(Number(Te))),gt=Jn(p.value/100,dt),Ps=Te-gt,ba=[n.proposal.id,gt,Ps,!1],Ts=await X.estimateGas.votePct(...ba);await X.votePct(...ba,{gasLimit:Ts.mul(125).div(100)}).then(Vt=>Vt.wait()),a.value=!1}catch(X){X instanceof Error&&et({text:X.message,type:"error"})}finally{c.value=!1}},ht=async()=>{const q=Se();if(!q||!t.address)return;const ae=q.getSigner();o.value=!0;try{const X=mt.connect(bt,ae),Te=[n.proposal.id],dt=await X.estimateGas.executeVote(...Te);await X.executeVote(...Te,{gasLimit:dt.mul(125).div(100)}).then(gt=>gt.wait()),l.value=await X.canExecute(n.proposal.id)}catch(X){X instanceof Error&&et({text:X.message,type:"error"})}finally{o.value=!1}},yt=async()=>{const q=Se();if(!q||!t.address)return;const ae=mt.connect(bt,q),X=await ae.token();r.value=await ae.getVoterState(n.proposal.id,t.address);const Te=ao.connect(X,q);v.value=await Te.balanceOfAt(t.address,n.proposal.block).then(dt=>dt.toBigInt())};return D(a,async q=>{if(q)try{await yt()}catch(ae){ae instanceof Error&&et({text:ae.message,type:"error"})}}),D(()=>t.address,async()=>{if(!k.value)return;const q=Se();if(!q||!t.address)return;const ae=mt.connect(bt,q);l.value=await ae.canExecute(n.proposal.id)},{immediate:!0}),(q,ae)=>(y(),$(le,null,[i("div",sg,[m(s(ee),{value:s(e)("vote"),primary:!0,onClick:ae[0]||(ae[0]=X=>a.value=!0)},null,8,["value"]),k.value?(y(),P(s(ee),{key:0,value:s(e)(o.value?"executing":"execute"),primary:!0,disabled:!l.value||o.value,onClick:ht},null,8,["value","disabled"])):V("",!0)]),m(s(po),{class:"vote-modal",show:a.value,onClose:ae[1]||(ae[1]=X=>a.value=!1)},{default:b(()=>[m(s(j),{title:s(e)("vote-with-vecrv"),class:"vote-content"},{default:b(()=>[i("div",lg,[i("div",rg,[i("div",ig,[m(s(Ie),{label:s(e)("voting-power"),"has-value":!0},{default:b(()=>[m(s(O),{value:f.value,precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),U(" veCRV ")]),_:1},8,["label"]),m(s(Ie),{label:s(e)("block"),value:q.proposal.block,"has-value":!0},null,8,["label","value"])]),i("div",cg,[i("span",ug,A(s(e)("description"))+": ",1),i("span",null,A(q.proposal.metadata),1)])]),i("div",dg,[m(s(ee),{class:B(["no",{winning:p.value<50}]),disabled:!h.value,onClick:T},{default:b(()=>[i("span",pg,A(s(e)("no")),1)]),_:1},8,["class","disabled"]),i("div",mg,[i("i",{class:B(["fas fa-times",{winning:p.value<50}])},null,2),i("div",{class:B(["value",{disabled:!h.value}]),onClick:Q},[i("span",{ref_key:"editor",ref:d,contenteditable:h.value,onInput:_e,textContent:A(_.value)},null,40,_g),U(" % ")],2),i("i",{class:B(["fas fa-check",{winning:p.value>50}])},null,2)]),m(s(ee),{class:B(["yes",{winning:p.value>50}]),disabled:!h.value,onClick:F},{default:b(()=>[i("span",vg,A(s(e)("yes")),1)]),_:1},8,["class","disabled"])]),m(s(_o),{class:"slider",disabled:!h.value,min:0,max:100,"model-value":p.value,"onUpdate:modelValue":Fe},null,8,["disabled","model-value"]),m(s(ee),{class:"submit",value:s(e)(u.value),primary:!0,disabled:!h.value,web3:!0,onClick:ft},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64))}});function Rn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{vote:t=>{const{normalize:a}=t;return a(["Vote"])},"vote-with-vecrv":t=>{const{normalize:a}=t;return a(["Vote with veCRV"])},voting:t=>{const{normalize:a}=t;return a(["Voting..."])},"voting-closed":t=>{const{normalize:a}=t;return a(["Voting closed"])},voted:t=>{const{normalize:a}=t;return a(["You've already voted"])},description:t=>{const{normalize:a}=t;return a(["Description"])},"voting-power":t=>{const{normalize:a}=t;return a(["Voting power"])},block:t=>{const{normalize:a}=t;return a(["Block"])},yes:t=>{const{normalize:a}=t;return a(["Yes"])},no:t=>{const{normalize:a}=t;return a(["No"])},submit:t=>{const{normalize:a}=t;return a(["Submit"])},"not-enough-voting-power":t=>{const{normalize:a}=t;return a(["Not enough veCRV voting power"])},execute:t=>{const{normalize:a}=t;return a(["Execute"])},executing:t=>{const{normalize:a}=t;return a(["Executing..."])}}})}typeof Rn=="function"&&Rn(ws);const fg=I(ws,[["__scopeId","data-v-aecf3000"]]),hg={class:"voting"},yg=S({__name:"Voting",props:{proposal:{}},setup(n){return(e,t)=>(y(),$("div",hg,[m(og,{proposal:e.proposal},null,8,["proposal"]),m(jy,{proposal:e.proposal},null,8,["proposal"]),m(fg,{proposal:e.proposal},null,8,["proposal"])]))}});const gg=I(yg,[["__scopeId","data-v-e35a47df"]]),bg={class:"voters"},wg={class:"for"},$g={class:"title"},kg={class:"address"},Cg=["href"],Sg={class:"amount"},xg={class:"percentage"},Ag={class:"against"},Ig={class:"title"},Mg={class:"percentage"},Lg={class:"amount"},Pg={class:"address"},Tg=["href"],$s=S({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(n){const{t:e}=R(),t=Mt(),a=C(()=>n.proposalDetails?z.chain(n.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.stake,"desc").value():null),o=C(()=>n.proposalDetails?z.chain(n.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.stake,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Pe(r,12),c=r=>r/(n.proposal.votesFor+n.proposal.votesAgainst)*100,v=r=>r===t.address;return(r,p)=>(y(),$("div",bg,[i("div",wg,[i("div",$g,A(s(e)("for")),1),(y(!0),$(le,null,pe(a.value,d=>(y(),$("div",{key:d.voter,class:"vote"},[i("div",kg,[i("a",{target:"_blank",href:`https://etherscan.io/address/${d.voter}`,class:B({you:v(d.voter)})},A(l(d.voter)),11,Cg)]),i("div",Sg,[m(s(O),{value:d.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),i("div",xg,[m(s(O),{value:c(d.stake),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),i("div",Ag,[i("div",Ig,A(s(e)("against")),1),(y(!0),$(le,null,pe(o.value,d=>(y(),$("div",{key:d.voter,class:"vote"},[i("div",Mg,[m(s(O),{value:c(d.stake),precision:0,type:"percentage"},null,8,["value"])]),i("div",Lg,[m(s(O),{value:d.stake,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),i("div",Pg,[i("a",{target:"_blank",href:`https://etherscan.io/address/${d.voter}`,class:B({you:v(d.voter)})},A(l(d.voter)),11,Tg)])]))),128))])]))}});function On(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{for:t=>{const{normalize:a}=t;return a(["For"])},against:t=>{const{normalize:a}=t;return a(["Against"])}}})}typeof On=="function"&&On($s);const Dg=I($s,[["__scopeId","data-v-3c20568b"]]),Vg="https://api-py.llama.airforce/curve/v1/dao/proposals",zg="https://api-py.llama.airforce/curve/v1/dao/proposals/ownership/",Bg="https://api-py.llama.airforce/curve/v1/dao/proposals/parameter/",Rg=n=>{const e=parseInt(n.voteId,10),t=n.voteType==="PARAMETER"?"parameter":"gauge",a=n.metadata.startsWith('"')?n.metadata.substring(1):n.metadata,o=n.creator,l=n.snapshotBlock,c=parseInt(n.startDate,10),v=c+604800,r=je(BigInt(n.minAcceptQuorum),18n),p=je(BigInt(n.supportRequired),18n),d=parseInt(n.voteCount,10),g=je(BigInt(n.votesFor),18n),_=je(BigInt(n.votesAgainst),18n),h=n.executed,u=je(BigInt(n.totalSupply),18n);return{id:e,type:t,metadata:a,proposer:o,block:l,start:c,end:v,quorum:r,support:p,votes:d,votesFor:g,votesAgainst:_,executed:h,totalSupply:u}},Og=n=>{const e=n.script,t=n.votes.map(a=>({voter:a.voter,supports:a.supports,stake:a.stake/Math.pow(10,18)}));return{script:e,votes:t}};class ks extends Ce{async getProposals(){return(await this.fetch(Vg)).proposals.map(Rg)}async getProposalDetails(e){const t=e.type==="gauge"?zg:Bg,a=await this.fetch(`${t}${e.id}`);return Og(a)}}const Fg={class:"technicals"},Eg={class:"technical"},Ug={class:"heading"},Wg={class:"description"},qg={class:"technical"},Hg={class:"technical"},Ng=["innerHTML"],Cs=S({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(n){const{t:e}=R(),t=new ks(N()),a=L(null),o=L(!0),l=L(n.proposal.votes>0),c=C(()=>a.value?z.uniqWith(a.value.votes,(r,p)=>r.voter===p.voter).length:null),v=C(()=>a.value?a.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,r=>/[A-F]/g.test(r)&&qt.isAddress(r)?`<a href='https://etherscan.io/address/${r}'>${r}</a>`:r):null);return D(()=>n.expanded,async r=>{r&&a.value===null&&(a.value=await t.getProposalDetails(n.proposal))},{immediate:!0}),(r,p)=>(y(),$("div",Fg,[i("div",Eg,[i("div",Ug,A(s(e)("description")),1),i("div",Wg,A(r.proposal.metadata),1)]),i("div",qg,[i("div",{class:"heading",onClick:p[0]||(p[0]=d=>l.value=!l.value)},[U(A(s(e)("voters"))+" ("+A(c.value??"?")+") ",1),i("i",{class:B(["fas fa-chevron-up expander",{expandedVoters:l.value}])},null,2)]),m(s(We),{expanded:l.value},{default:b(()=>[a.value?(y(),P(Dg,{key:0,class:"voters",proposal:r.proposal,"proposal-details":a.value},null,8,["proposal","proposal-details"])):V("",!0)]),_:1},8,["expanded"])]),i("div",Hg,[i("div",{class:"heading",onClick:p[1]||(p[1]=d=>o.value=!o.value)},[U(A(s(e)("calldata"))+" ",1),i("i",{class:B(["fas fa-chevron-up expander",{expandedCallData:o.value}])},null,2)]),m(s(We),{expanded:o.value},{default:b(()=>[a.value?(y(),$("div",{key:0,class:"calldata",innerHTML:v.value},null,8,Ng)):V("",!0)]),_:1},8,["expanded"])])]))}});function Fn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{description:t=>{const{normalize:a}=t;return a(["Description"])},calldata:t=>{const{normalize:a}=t;return a(["Calldata"])},voters:t=>{const{normalize:a}=t;return a(["Voters"])}}})}typeof Fn=="function"&&Fn(Cs);const Gg=I(Cs,[["__scopeId","data-v-e77f5a36"]]),Qg={class:"proposal-details"},Yg={class:"proposal-details-container"},jg=S({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(n){return(e,t)=>(y(),$("div",Qg,[i("div",Yg,[m(Gg,{proposal:e.proposal,expanded:e.expanded},null,8,["proposal","expanded"]),m(gg,{proposal:e.proposal},null,8,["proposal"])])]))}});const Jg=I(jg,[["__scopeId","data-v-71d3377a"]]),Kg=S({__name:"Proposal",props:{proposal:{}},setup(n){const e=L(!1);return(t,a)=>(y(),P(s(j),{class:"proposal",compact:!0},{default:b(()=>[m(Ly,{proposal:t.proposal,expanded:e.value,onToggleExpand:a[0]||(a[0]=o=>e.value=!e.value)},null,8,["proposal","expanded"]),m(s(We),{class:"proposal-details-collapsible",expanded:e.value},{default:b(()=>[m(Jg,{proposal:t.proposal,expanded:e.value},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1}))}});const Zg=I(Kg,[["__scopeId","data-v-df8bfdec"]]),Xg=["gauge","parameter","other"],eb={class:"item"},tb={class:"label"},Ss=S({__name:"ProposalTypeSelect",emits:["select"],setup(n,{emit:e}){const{t}=R(),a=["all",...Xg],o=e,l=L(!1),c=L("all"),v=()=>{l.value=!l.value},r=p=>{c.value=p,o("select",c.value)};return(p,d)=>(y(),P(s(qe),{class:"select",options:a.map(g=>g),selected:c.value,open:l.value,onOpen:v,onClose:d[0]||(d[0]=g=>l.value=!1),onInput:r},{item:b(g=>[i("div",eb,[i("div",tb,A(s(t)(g.item)),1)])]),_:1},8,["options","selected","open"]))}});function En(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},gauge:t=>{const{normalize:a}=t;return a(["Gauge"])},parameter:t=>{const{normalize:a}=t;return a(["Parameter"])},other:t=>{const{normalize:a}=t;return a(["Other"])}}})}typeof En=="function"&&En(Ss);const ab=I(Ss,[["__scopeId","data-v-9a121ace"]]),nb={class:"proposals-tab"},ob={class:"filters"},sb={key:1},Wt=10,xs=S({__name:"ProposalsTab",props:{proposals:{}},setup(n){const{t:e}=R(),t=L(""),a=L(e("search-placeholder")),o=L("all"),l=C(()=>{const d=t.value.toLocaleLowerCase(),g=o.value==="all"?()=>!0:_=>_.type===o.value;return z.chain(n.proposals).filter(g).filter(_=>_.metadata.toLocaleLowerCase().includes(d)).value()}),{page:c,rowsPage:v,onPage:r}=_a(l,Wt),p=d=>{o.value=d};return(d,g)=>(y(),$("div",nb,[i("div",ob,[m(s(fe),{modelValue:t.value,"onUpdate:modelValue":g[0]||(g[0]=_=>t.value=_),class:"search",placeholder:a.value,search:!0},null,8,["modelValue","placeholder"]),m(ab,{onSelect:p}),l.value.length>0?(y(),P(s(at),{key:0,class:"pagination","items-count":l.value.length,"items-per-page":Wt,page:s(c),onPage:s(r)},null,8,["items-count","page","onPage"])):V("",!0)]),(y(!0),$(le,null,pe(s(v),_=>(y(),P(Zg,{key:_.id,proposal:_},null,8,["proposal"]))),128)),l.value.length>0?(y(),P(s(at),{key:0,class:"pagination","items-count":l.value.length,"items-per-page":Wt,page:s(c),onPage:s(r)},null,8,["items-count","page","onPage"])):V("",!0),l.value.length===0?(y(),$("div",sb,A(s(e)("no-proposals")),1)):V("",!0)]))}});function Un(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{"search-placeholder":t=>{const{normalize:a}=t;return a(["Search for Curve proposals"])},"no-proposals":t=>{const{normalize:a}=t;return a(["No proposals could be found."])}}})}typeof Un=="function"&&Un(xs);const pt=I(xs,[["__scopeId","data-v-82202ac1"]]),lb={class:"proposals"},As=S({__name:"Proposals",setup(n){const{t:e}=R(),t=new ks(N()),a=L(0),{loading:o,data:l}=re(()=>xt(t.getProposals().then(d=>d.sort((g,_)=>_.start-g.start)),1e3),[]),c=C(()=>l.value.filter(d=>Me(d)==="active")),v=C(()=>l.value.filter(d=>Me(d)==="passed")),r=C(()=>l.value.filter(d=>Me(d)==="denied")),p=C(()=>l.value.filter(d=>Me(d)==="executed"));return(d,g)=>(y(),$("div",lb,[s(o)?(y(),P(s(vt),{key:1,class:"spinner"})):(y(),P(s(lt),{key:0,onTab:g[0]||(g[0]=_=>a.value=_.index)},{default:b(()=>[m(s(ce),{header:s(e)("all")},{default:b(()=>[a.value===0?(y(),P(pt,{key:0,proposals:s(l)},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(s(ce),{header:s(e)("active")},{default:b(()=>[a.value===1?(y(),P(pt,{key:0,proposals:c.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(s(ce),{header:s(e)("passed")},{default:b(()=>[a.value===2?(y(),P(pt,{key:0,proposals:v.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(s(ce),{header:s(e)("denied")},{default:b(()=>[a.value===3?(y(),P(pt,{key:0,proposals:r.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"]),m(s(ce),{header:s(e)("executed")},{default:b(()=>[a.value===4?(y(),P(pt,{key:0,proposals:p.value},null,8,["proposals"])):V("",!0)]),_:1},8,["header"])]),_:1}))]))}});function Wn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{all:t=>{const{normalize:a}=t;return a(["All"])},active:t=>{const{normalize:a}=t;return a(["Active"])},passed:t=>{const{normalize:a}=t;return a(["Passed"])},denied:t=>{const{normalize:a}=t;return a(["Denied"])},executed:t=>{const{normalize:a}=t;return a(["Executed"])}}})}typeof Wn=="function"&&Wn(As);const rb=I(As,[["__scopeId","data-v-39a06869"]]),ib={class:"form"},cb={class:"field"},ub={class:"label"},db={class:"value"},pb={class:"field"},mb={class:"label"},_b={class:"value"},Is=S({__name:"DeployGauge",emits:["gauge"],setup(n,{emit:e}){const{t}=R(),a=e,o=L(!1),l=L(""),c=L(0),v=C(()=>ia),r=C(()=>jn(l.value.toLocaleLowerCase())&&c.value>0),p=async()=>{const d=Se();if(!d||!l.value||!c.value)return;const g=d.getSigner(),_=lo.connect(eo,g);o.value=!0,typeof c.value=="string"&&(c.value=parseFloat(c.value));const h=Jn(c.value,18n);try{const u=await _.deploy_gauge(l.value.toLocaleLowerCase(),h);a("gauge",u)}catch(u){u instanceof Error&&et({text:u.message,type:"error"})}finally{o.value=!1}};return(d,g)=>(y(),P(s(j),{class:"add-new",title:"Gauge Creation"},{default:b(()=>[i("div",ib,[i("div",cb,[i("div",ub,A(s(t)("receiver"))+":",1),i("div",db,[m(s(fe),{modelValue:l.value,"onUpdate:modelValue":g[0]||(g[0]=_=>l.value=_),placeholder:v.value},null,8,["modelValue","placeholder"])])]),i("div",pb,[i("div",mb,A(s(t)("amount"))+":",1),i("div",_b,[m(s(ua),{modelValue:c.value,"onUpdate:modelValue":g[1]||(g[1]=_=>c.value=_),min:1,max:3303030299},null,8,["modelValue"])])])]),m(s(ee),{class:"action-button request",value:s(t)("submit"),disabled:!r.value||o.value,primary:!0,web3:!0,onClick:p},null,8,["value","disabled"])]),_:1}))}});function qn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{receiver:t=>{const{normalize:a}=t;return a(["Receiver"])},amount:t=>{const{normalize:a}=t;return a(["CRV Amount (Max)"])},submit:t=>{const{normalize:a}=t;return a(["Create Fundraising Gauge"])}}})}typeof qn=="function"&&qn(Is);const vb=I(Is,[["__scopeId","data-v-af82160d"]]),fb={class:"form"},hb={class:"field"},yb={class:"label"},gb={class:"value"},bb={class:"field"},wb={class:"label"},$b={class:"value"},Ms=S({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(n,{emit:e}){const{t}=R(),a=e,o=L(!1),l=L(""),c=L(t("placeholder")),v=C(()=>ia),r=C(()=>jn(l.value)&&!!c.value),p=C(()=>r.value&&!o.value);D(()=>n.gauge,_=>{l.value=_.toLocaleLowerCase()});const d=async()=>{const _=Se();if(!_||!l.value)return;const h=_.getSigner();o.value=!0;try{await g(h),a("request")}catch(u){u instanceof Error&&et({text:u.message,type:"error"})}finally{o.value=!1}},g=async _=>{const h="0xe478de485ad2fe566d49342cbd03e49ed7db3356",u="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",f=(X,Te)=>String(X).padStart(Te,"0"),w=so.createInterface(),k=no.createInterface(),x="10",M=w.encodeFunctionData("add_gauge",[l.value,x,0]);let T="0x00000001";const F=k.encodeFunctionData("execute",[to,0,M]).substring(2),Q=f((Math.floor(F.length)/2).toString(16),8);T=`${T}${u.substring(2)}${Q}${F}`;const _e=new FormData,ft={text:c.value.replace(/(\r\n|\n|\r)/gm,"")};_e.append("file",JSON.stringify(ft));const q=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:_e})).json()).Hash;await oo.connect(h,_).newVote(T,`ipfs:${q}`,!1,!1,{gasLimit:1e6})};return(_,h)=>(y(),P(s(j),{class:"add-new",title:"Gauge Addition Vote"},{default:b(()=>[i("div",fb,[i("div",hb,[i("div",yb,A(s(t)("gauge"))+":",1),i("div",gb,[m(s(fe),{modelValue:l.value,"onUpdate:modelValue":h[0]||(h[0]=u=>l.value=u),placeholder:v.value},null,8,["modelValue","placeholder"])])]),i("div",bb,[i("div",wb,A(s(t)("description"))+":",1),i("div",$b,[m(s(fe),{modelValue:c.value,"onUpdate:modelValue":h[1]||(h[1]=u=>c.value=u)},null,8,["modelValue"])])])]),m(s(ee),{class:"action-button request",value:s(t)("submit"),disabled:!p.value,primary:!0,web3:!0,onClick:d},null,8,["value","disabled"])]),_:1}))}});function Hn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{gauge:t=>{const{normalize:a}=t;return a(["Gauge Address"])},description:t=>{const{normalize:a}=t;return a(["Vote Description"])},placeholder:t=>{const{normalize:a}=t;return a(["Add a grant gauge: "])},submit:t=>{const{normalize:a}=t;return a(["Create Gauge Addition Vote"])}}})}typeof Hn=="function"&&Hn(Ms);const kb=I(Ms,[["__scopeId","data-v-2e6343b9"]]),Cb={class:"ve-funder"},Sb={class:"explanation"},xb={class:"step-one"},Ab=["innerHTML"],Ib=["innerHTML"],Mb={class:"step-two"},Lb=["innerHTML"],Pb={href:"https://gov.curve.fi/",target:"_blank"},Tb={class:"forms"},Ls=S({__name:"VeFunder",setup(n){const{t:e}=R(),t=L(""),a=o=>{t.value=o};return(o,l)=>(y(),$("div",Cb,[i("div",Sb,[m(s(j),null,{default:b(()=>[i("div",xb,[i("span",{innerHTML:s(e)("process")},null,8,Ab),i("ol",null,[i("li",null,A(s(e)("process-1")),1),i("li",{innerHTML:s(e)("process-2")},null,8,Ib)])]),i("div",Mb,[i("span",{innerHTML:s(e)("requirements")},null,8,Lb),i("ol",null,[i("li",null,[U(A(s(e)("requirements-1a"))+" ",1),i("a",Pb,A(s(e)("requirements-1b")),1)]),i("li",null,A(s(e)("requirements-2")),1)])])]),_:1})]),i("div",Tb,[m(vb,{onGauge:a}),m(kb,{gauge:t.value},null,8,["gauge"])])]))}});function Nn(n){const e=n;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"en",resource:{process:t=>{const{normalize:a}=t;return a(["<strong>veFunder</strong> process:"])},"process-1":t=>{const{normalize:a}=t;return a(["Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."])},"process-2":t=>{const{normalize:a}=t;return a(["Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."])},requirements:t=>{const{normalize:a}=t;return a(["<strong>Gauge vote requirements:</strong>"])},"requirements-1a":t=>{const{normalize:a}=t;return a(["New gauge votes must have a vote on the governance forum"])},"requirements-1b":t=>{const{normalize:a}=t;return a(["at this address"])},"requirements-2":t=>{const{normalize:a}=t;return a(["You must have a minimum of 2,500 veCRV to create this vote"])}}})}typeof Nn=="function"&&Nn(Ls);const Db=I(Ls,[["__scopeId","data-v-9fe06474"]]),Vb={titleRoute:"/",routes:[{path:"/",component:dm},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/pools",component:Om},{path:"/platform/gauges",component:Jm},{path:"/platform/revenue/:tab?",name:"revenue",component:I_},{path:"/platform/crvusd",name:"crvusd",component:Cv},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:$f},{path:"/pool",redirect:{name:"monitor"}},{path:"/pool/monitor/:pool?",name:"curvemonitor",component:Jh},{path:"/pool/mev",component:wy},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:rb},{path:"/dao/vefunder",component:Db}],menuItems:[{label:"Platform",children:[{to:"/platform/pools",label:"Pools"},{to:"/platform/gauges",label:"Gauges"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"}]},{label:"Pool",children:[{to:"/pool/monitor",label:"Live Monitor",tag:"beta"},{to:"/pool/mev",label:"MEV",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};la.registerLanguage("xml",ol);la.registerLanguage("scss",sl);la.registerLanguage("typescript",ll);const ga=rl(Ac),zb=il({legacy:!1,locale:"en",fallbackLocale:"en"});ga.use(zb);const Bb=cl();ga.use(Bb);const Rb=[Up,Vb],Ob=fa();Ob.pages=Rb;const Fb=Fc();ga.use(Fb).use(ul).use(dl).use(Gn).mount("#app");

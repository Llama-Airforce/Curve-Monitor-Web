var Co=Object.defineProperty;var So=(e,t,a)=>t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var St=(e,t,a)=>So(e,typeof t!="symbol"?t+"":t,a);import{o as _,c as C,p as N,a as H,b as c,d as T,e as S,n as M,f as B,r as G,g as E,t as V,w as b,h as m,T as Ao,F as ee,i as re,j as ha,k as va,l as q,u as tt,m as Ke,q as o,V as Lo,s as To,v as Io,x as Vo,D as Ae,y as _a,z as y,A as X,B as qo,C as Po,E as Ga,G as _e,H as Mt,I as Rt,J as Xa,K as Fo,L as Bo,M as Do,N as xe,O as ve,P as Mo,Q as be,R as Za,S as Ro,U as Uo,W as K,X as Zt,Y as Ve,Z as at,_ as Eo,$ as Oo,a0 as ma,a1 as Wo,a2 as W,a3 as te,a4 as Y,a5 as ie,a6 as Ko,a7 as xo,a8 as ke,a9 as Ut,aa as No,ab as fa,ac as Ho,ad as O,ae as ce,af as Ya,ag as Dt,ah as zo,ai as Qo,aj as jo,ak as Go,al as mt,am as Ba,an as Da,ao as At,ap as ga,aq as Ja,ar as Xo,as as es,at as ts,au as Ma,av as Zo,aw as as,ax as Yt,ay as Yo,az as Ra,aA as Jo,aB as Ua,aC as en,aD as tn,aE as an,aF as sn,aG as on,aH as nn,aI as ln,aJ as rn,aK as cn,aL as un}from"./vendor-VkenCLSL.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=a(n);fetch(n.href,i)}})();class dn{constructor(t){this.value=t}entries(){return Object.entries(this.value)}}Array.prototype.take=function(e){return this.slice(0,e)};Array.prototype.takeRight=function(e){return this.slice(-e)};Array.prototype.drop=function(e=1){return this.slice(Math.max(0,e))};Array.prototype.dropWhile=function(e){const t=this.findIndex((a,s,n)=>!e(a,s,n));return t===-1?[]:this.slice(t)};Array.prototype.zip=function(...e){return this.map((t,a)=>[t,...e.map(s=>s[a])])};Array.prototype.uniq=function(){return[...new Set(this)]};Array.prototype.uniqWith=function(e){return this.filter((t,a)=>this.findIndex(s=>e(t,s))===a)};Array.prototype.orderBy=function(e,t="asc"){const a=Array.isArray(e)?e:[e],s=Array.isArray(t)?t:[t];return[...this].sort((n,i)=>{for(let l=0;l<a.length;l++){const r=a[l],d=Array.isArray(t)?s[l]||"asc":t,p=r(n),u=r(i);if(p!==u)return(p>u?1:-1)*(d==="asc"?1:-1)}return 0})};Array.prototype.groupBy=function(e){const t=Object.groupBy(this,e);return new dn(t)};Array.prototype.sumBy=function(e){return this.reduce((t,a)=>t+e(a),0)};Array.prototype.meanBy=function(e){const t=this.sumBy(e);return this.length>0?t/this.length:0};Array.prototype.maxBy=function(e){return this.reduce((t,a)=>e(a)>e(t)?a:t)};Array.prototype.difference=function(...e){const t=new Set(e.flat());return this.filter(a=>!t.has(a))};const I=(e,t)=>{const a=e.__vccOpts||e;for(const[s,n]of t)a[s]=n;return a},pn={},ss=e=>(N("data-v-66c6ff87"),e=e(),H(),e),mn={class:"lds-ripple"},hn=ss(()=>c("div",null,null,-1)),vn=ss(()=>c("div",null,null,-1)),_n=[hn,vn];function fn(e,t){return _(),C("div",mn,_n)}const st=I(pn,[["render",fn],["__scopeId","data-v-66c6ff87"]]),gn=["inert"],bn={key:0,class:"title"},yn=T({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const s=st;return _(),C("div",{class:M(["card",{loading:t.loading}]),inert:!!t.loading},[t.loading!==null?(_(),S(s,{key:0,class:M(["loader",{loading:t.loading}])},null,8,["class"])):B("",!0),t.title||t.$slots.title||t.$slots.actions?(_(),C("div",{key:1,class:M(["card-header",{collapsible:t.collapsible}])},[G(t.$slots,"title",{},()=>[t.title?(_(),C("div",bn,[t.icon?(_(),C("i",{key:0,class:M(["icon",t.icon])},null,2)):B("",!0),E(" "+V(t.title),1)])):B("",!0)],!0),G(t.$slots,"actions",{},void 0,!0)],2)):(_(),C("div",{key:2,class:M(["card-no-header",{compact:t.compact}])},null,2)),c("div",{class:M(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[G(t.$slots,"default",{},void 0,!0)],2)],10,gn)}}}),R=I(yn,[["__scopeId","data-v-ad3de834"]]),wn={key:0,class:"fas fa-chevron-right"},kn=T({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const a=t,s=i=>{var r;const l=e.active?e.active.id===i.id:((r=e.crumbs.filter(d=>!d.hint).at(-1))==null?void 0:r.id)===i.id;return i.hint??l},n=i=>{var l;return((l=e.crumbs.at(-1))==null?void 0:l.id)===i.id};return(i,l)=>{const r=R;return _(),S(r,null,{default:b(()=>[m(Ao,{name:"fade",tag:"ul"},{default:b(()=>[(_(!0),C(ee,null,re(i.crumbs,d=>(_(),C("li",{key:d.id},[(_(),S(ha(s(d)?"span":"a"),{class:M({active:s(d),hint:d.hint}),onClick:p=>a("crumb",d)},{default:b(()=>[E(V(d.label),1)]),_:2},1032,["class","onClick"])),!n(d)||i.crumbs.length===1?(_(),C("i",wn)):B("",!0)]))),128))]),_:1})]),_:1})}}}),$n=I(kn,[["__scopeId","data-v-de1572c6"]]),qe=va("breadcrumbStore",()=>{const e=q([]),t=q(!1);return{crumbs:e,show:t}}),Cn=e=>(N("data-v-e4c02f1b"),e=e(),H(),e),Sn={class:"root"},An={class:"toolbar-container"},Ln=Cn(()=>c("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Tn={class:"content"},In=T({__name:"Layout",setup(e){const t=qe(),a=tt(),s=async n=>{n.pathName&&await a.push({name:n.pathName,...n.params&&{params:n.params()}})};return(n,i)=>{const l=Ke("notifications"),r=$n,d=Ke("router-view");return _(),C("div",Sn,[m(l,{width:600,duration:-1}),m(o(Lo)),G(n.$slots,"navigation",{},void 0,!0),c("main",null,[c("div",An,[o(t).show?(_(),S(r,{key:0,class:"breadcrumb",crumbs:o(t).crumbs,onCrumb:s},null,8,["crumbs"])):B("",!0),Ln]),c("div",Tn,[m(d,null,{default:b(({Component:p})=>[m(To,{name:"fade",mode:"out-in"},{default:b(()=>[(_(),S(ha(p)))]),_:2},1024)]),_:1})])])])}}}),Vn=I(In,[["__scopeId","data-v-e4c02f1b"]]),qn={class:"collapsible-inside"},Pn=T({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,a)=>(_(),C("div",{class:M(["collapsible-outside",{expanded:t.expanded}])},[c("div",qn,[G(t.$slots,"default",{},void 0,!0)])],2))}}),_t=I(Pn,[["__scopeId","data-v-f4edd7a4"]]),Fn={class:"badge"},Bn={class:"label"},Dn=T({__name:"Badge",props:{label:{default:""}},setup(e){return(t,a)=>(_(),C("div",Fn,[c("div",Bn,V(t.label),1)]))}}),Mn=I(Dn,[["__scopeId","data-v-8a0a03f3"]]);function ht(e){return!!e.children}function Jt(e){return!!e.to}function Rn(e){return!!e.url}function Un(e){return e!=null}function En(e){function t(h){return h<10?"0"+h.toString():h.toString()}const a=e.getTime()-new Date().getTime();if(a<=0)return"00:00:00:00";const s=1e3,n=s*60,i=n*60,l=i*24,r=Math.floor(a/l),d=Math.floor(a%l/i),p=Math.floor(a%i/n),u=Math.floor(a%n/s);return t(r)+":"+t(d)+":"+t(p)+":"+t(u)}function ze(e,t=0,a=".",s=","){const n=isFinite(+e)?+e:0,i=isFinite(+t)?Math.abs(t):0,l=typeof s>"u"?",":s,r=typeof a>"u"?".":a,d=function(u,h){const f=Math.pow(10,h);return Math.round(u*f)/f},p=(i?d(n,i):Math.round(n)).toString().split(".");return p[0].length>3&&(p[0]=p[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,l)),(p[1]||"").length<i&&(p[1]=p[1]||"",p[1]+=new Array(i-p[1].length+1).join("0")),p.join(r)}function Q(e,t){const a=Math.abs(e);return t==="percentage"?"%":t==="dollar"?a>=1*10**12?"t":a>=1*10**9?"b":a>=1*10**6?"m":a>=1*10**3?"k":"":""}function j(e,t,a){const s=Math.abs(e);return t===1/0?e.toLocaleString():a==="percentage"?ze(e,t):a==="dollar"?s>=1*10**12?ze(e/10**12,t):s>=1*10**9?ze(e/10**9,t):s>=1*10**6?ze(e/10**6,t):s>=1*10**3?ze(e/10**3,t):ze(e,t):e.toString()}function We(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function Oe(e,t){return parseFloat(Vo(e,Number(t)))}function os(e,t){const a=Number(t),s=Number.isInteger(e)?e.toString():e.toFixed(a);return Io(s,a)}function ba(e,t){const a={...e};for(const s in t)Array.isArray(t[s])?a[s]=[...t[s]]:typeof t[s]=="object"&&t[s]!==null?a[s]=ba(a[s],t[s]):a[s]=t[s];return a}async function ns(e,t=0,a=1e3){const s=await e(t,a),n=await(s.length>=a?ns(e,t+1,a):Promise.resolve([]));return s.concat(n)}function Vt(e,t){return(Array.isArray(e)?e:[e]).some(s=>t.path.startsWith(s))}function ft(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}const ls="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",On="0xf939e0a03fb07f59a73314e73794be0e57ac1b4e",rs="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",is="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Qe="0xe478de485ad2fe566d49342cbd03e49ed7db3356",Wn={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class Kn extends Error{constructor(t,a){super(a),this.status=t}}async function xn(e,t,a){try{const s=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:a});if(s.ok)return s;throw new Kn(s.status,`Fetch error ${s.status} for URL: ${e}`)}catch(s){throw s instanceof Error?s:new Error("Unknown fetch error")}}async function Nn(e,t,a){return await(await xn(e,t,a)).json()}class Le{async fetch(t,a,s){return Nn(t,a,s)}}class cs extends Le{constructor(a){super();St(this,"host");this.host=a}async getHost(){return await this.host}}class Hn extends Le{async getPrice(t){const a=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins[a])}async getPrices(t){const a=t.map(s=>`ethereum:${s}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${a}`).then(s=>s.coins)}}function qt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function us(e,t){e.value=!0;try{return await t()}catch(a){Ae({text:qt(a),type:"error"});return}finally{e.value=!1}}const ea={};function zn(e="$llama$"){ea[e]||(ea[e]=0);const t=++ea[e];return e==="$llama$"?`${t}`:`${e}${t}`}const Qn={key:0},jn=["href"],Gn={class:"nav-link-container"},Xn={key:1},Zn={class:"nav-link-container"},Yn={class:"left"},Jn={key:0,class:"icon"},el={class:"right"},tl={key:2},al={class:"nav-link-container"},sl={class:"nav-link-container"},ol={class:"left"},nl={key:0,class:"icon"},ll={class:"right"},rl=T({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=_a(),n=q(!0),i=y(()=>Jt(e.item)?[e.item]:ht(e.item)?e.item.children:[]),l=()=>{ht(e.item)&&e.item.children.filter(u=>Vt(u.to,s)).length>0&&(n.value=!0)},r=p=>typeof p.label=="string"?p.label:p.label();X(()=>e.item,p=>{ht(p)&&(n.value=!p.initCollapsed),l()},{immediate:!0}),X(()=>s.fullPath,()=>{l()},{immediate:!0});const d=()=>{n.value=!n.value};return(p,u)=>{const h=Mn,f=Ke("router-link"),w=_t;return _(),C(ee,null,[o(Rn)(p.item)?(_(),C("li",Qn,[c("a",{class:"nav-link root",href:p.item.url,target:"_blank"},[c("div",Gn,V(p.item.label),1)],8,jn)])):o(Jt)(p.item)?(_(),C("li",Xn,[m(f,{to:p.item.to,class:M(["nav-link root",{"router-link-active":o(Vt)(p.item.to,o(s))}]),onClick:u[0]||(u[0]=v=>a("navigated"))},{default:b(()=>[c("div",Zn,[c("div",Yn,[p.item.icon?(_(),C("div",Jn,[c("i",{class:M(p.item.icon)},null,2)])):B("",!0),E(" "+V(r(p.item)),1)]),c("div",el,[p.item.tag?(_(),S(h,{key:0,label:p.item.tag},null,8,["label"])):B("",!0)])])]),_:1},8,["to","class"])])):o(ht)(p.item)?(_(),C("li",tl,[c("a",{class:"nav-link root",onClick:d},[c("div",al,[E(V(p.item.label)+" ",1),c("i",{class:M(["expander fas fa-chevron-up",{expanded:o(n)}])},null,2)])])])):B("",!0),o(ht)(p.item)?(_(),S(w,{key:3,class:"items",expanded:o(n)},{default:b(()=>[c("ul",null,[(_(!0),C(ee,null,re(o(i),v=>(_(),C("li",{key:r(v)},[o(Jt)(v)?(_(),S(f,{key:0,to:v.to,class:M(["nav-link",{"router-link-active":o(Vt)(v.to,o(s))}]),onClick:u[1]||(u[1]=g=>a("navigated"))},{default:b(()=>[c("div",sl,[c("div",ol,[v.icon?(_(),C("div",nl,[c("i",{class:M(v.icon)},null,2)])):B("",!0),E(" "+V(r(v)),1)]),c("div",ll,[v.tag?(_(),S(h,{key:0,label:v.tag},null,8,["label"])):B("",!0)])])]),_:2},1032,["to","class"])):B("",!0)]))),128))])]),_:1},8,["expanded"])):B("",!0)],64)}}}),il=I(rl,[["__scopeId","data-v-766d2c2e"]]),cl=T({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const a=t,s=_a(),n=y(()=>e.pages.find(r=>Vt(r.titleRoute,s))),i=y(()=>{var r;return((r=n.value)==null?void 0:r.menuItems)??[]}),l=r=>typeof r.label=="string"?r.label:r.label();return(r,d)=>(_(),C("nav",null,[(_(!0),C(ee,null,re(o(i),p=>(_(),C("ul",{key:l(p)},[m(il,{item:p,onNavigated:d[0]||(d[0]=u=>a("navigated"))},null,8,["item"])]))),128))]))}}),ul=I(cl,[["__scopeId","data-v-da87cf2c"]]);function Et(){const{address:e,isConnected:t,chainId:a}=qo(),s=Po(),n=y(()=>s.data.value&&e.value?e.value.toLocaleLowerCase():void 0);return{isConnected:t,chainId:a,address:n}}function $e(e,t=6){if(!e)return"0x000...000";const a=t/2+2,s=e.length-t/2;return`${e.substring(0,a)}...${e.substring(s)}`}function Pt(e,t=6){if(!e)return"0x000";const a=Math.min(e.length,t+2);return e.length>a?`${e.substring(0,a)}...`:e}const dl=T({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},chainId:{}},emits:["click"],setup(e,{emit:t}){const a=t,{chainId:s}=Et(),{switchChain:n}=Ga(),i=l=>{if(l.stopImmediatePropagation(),e.chainId){if(s.value===void 0){Ae({text:"Wallet not connected",type:"error"});return}s.value!==e.chainId&&n({chainId:e.chainId})}a("click")};return(l,r)=>(_(),C("button",{class:M({primary:l.primary}),onClick:i},[G(l.$slots,"default",{},()=>[l.icon?(_(),C("i",{key:0,class:M(["icon",[l.icon,{noValue:!!l.value}]])},null,2)):B("",!0),E(" "+V(l.value),1)],!0)],2))}}),fe=I(dl,[["__scopeId","data-v-8db3aeb3"]]),pl="/assets/crv-CKEIQw2g.png",ml="/assets/hat-D1qfnSjv.png",hl={},ds=e=>(N("data-v-757199dd"),e=e(),H(),e),vl={class:"logo"},_l=ds(()=>c("div",{class:"visual"},[c("img",{src:pl}),c("img",{src:ml})],-1)),fl=ds(()=>c("span",null,"curve.monitor",-1)),gl=[_l,fl];function bl(e,t){return _(),C("div",vl,gl)}const yl=I(hl,[["render",bl],["__scopeId","data-v-757199dd"]]),wl={class:"header"},kl={class:"buttons"},$l=T({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const a=t;return(s,n)=>{const i=Ke("router-link"),l=fe;return _(),C("div",wl,[m(i,{class:"logo",to:"/",onClick:n[0]||(n[0]=r=>a("navigated"))},{default:b(()=>[m(yl,{class:"logo"})]),_:1}),c("div",kl,[m(l,{icon:"fas fa-bars",onClick:n[1]||(n[1]=r=>a("toggle-expansion"))})])])}}}),Cl=I($l,[["__scopeId","data-v-e6d3c72b"]]),Sl={key:0,class:"modal"},Al={class:"modal-popup"},Ll=T({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const a=t,s=n=>{n.code==="Escape"&&a("close")};return _e(()=>{document.addEventListener("keydown",s)}),Mt(()=>{document.removeEventListener("keydown",s)}),X(()=>e.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,i)=>(_(),S(Rt,{to:"body"},[n.show?(_(),C("div",Sl,[c("div",{class:"modal-mask",onClick:i[0]||(i[0]=l=>a("close"))}),c("div",Al,[G(n.$slots,"default",{},void 0,!0)])])):B("",!0)]))}}),Ot=I(Ll,[["__scopeId","data-v-cc1a9f70"]]),Tl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Il={key:1,src:Tl},Vl=T({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(null),i=q(null);X(s,u=>{a("show",u),u&&Xa(()=>{p()})});let l;function r(){l&&(clearTimeout(l),l=void 0),s.value=!0}function d(){l&&clearTimeout(l),l=setTimeout(()=>{s.value=!1,l=void 0},50)}_e(()=>{p(),window.addEventListener("resize",p)}),Mt(()=>{window.removeEventListener("resize",p)});function p(){if(!n.value||!i.value)return;const u=n.value.getBoundingClientRect(),h=i.value.getBoundingClientRect(),f=14,w=f,v=window.innerHeight-h.height-f,g=Math.min(Math.max(w,u.top-h.height-f),v),k=f,$=window.innerWidth-h.width-f,A=Math.min(Math.max(k,u.left+u.width/2-h.width/2),$);i.value.style.top=`${g}px`,i.value.style.left=`${A}px`}return(u,h)=>(_(),C("div",{class:M(["tooltip",{show:o(s)}])},[c("div",{ref_key:"triggerRef",ref:n,class:"trigger",onMouseover:r,onMouseleave:d,onTouchstart:r,onTouchend:d},[G(u.$slots,"trigger",{},()=>[u.icon?(_(),C("i",{key:0,class:M(u.icon)},null,2)):(_(),C("img",Il))],!0)],544),c("div",{ref_key:"contentRef",ref:i,class:"content",onMouseover:r,onMouseleave:d,onTouchstart:r,onTouchend:d},[G(u.$slots,"default",{},void 0,!0)],544)],2))}}),ya=I(Vl,[["__scopeId","data-v-69dad8d5"]]),ql="/assets/injected-DW80ouY-.webp",Pl="/assets/rabby-CG__llS3.svg",Fl="/assets/walletconnect-BCBhrtde.webp",Bl="/assets/coinbase-CsqSq8Nj.webp",Dl="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",Ml=e=>(N("data-v-cae4603a"),e=e(),H(),e),Rl={class:"buttons"},Ul={class:"connectors-body"},El=Ml(()=>c("div",{class:"title"},"Connect Your Wallet",-1)),Ol={class:"connectors"},Wl=["src"],Kl={key:1,class:"empty"},xl={class:"name"},Nl=T({__name:"WalletConnectButton",setup(e){const{connect:t}=Fo(),a=Bo(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],n=y(()=>a.value.filter(p=>s.includes(p.id))),i=q(!1);function l(p){switch(p.id){case"injected":return ql;case"walletConnect":return Fl;case"coinbaseWalletSDK":return Bl;case"safe":return Dl;case"io.rabby":return Pl;default:return""}}function r(p){return p.id==="injected"?"Browser Extension":p.name}function d(p){t({connector:p}),i.value=!1}return(p,u)=>{const h=fe,f=R,w=Ot;return _(),C("div",Rl,[m(h,{class:"button",primary:!0,onClick:u[0]||(u[0]=v=>i.value=!0)},{default:b(()=>[E(" Connect Wallet ")]),_:1}),B("",!0),m(w,{show:o(i),onClose:u[1]||(u[1]=v=>i.value=!1)},{default:b(()=>[m(f,null,{default:b(()=>[c("div",Ul,[El,c("div",Ol,[(_(!0),C(ee,null,re(o(n),v=>(_(),C("div",{key:v.id,class:"connector"},[m(h,{onClick:g=>d(v)},{default:b(()=>[l(v)?(_(),C("img",{key:0,src:l(v)},null,8,Wl)):(_(),C("div",Kl)),c("div",xl,V(r(v)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}}),Hl=I(Nl,[["__scopeId","data-v-cae4603a"]]),zl={class:"wallet"},Ql={key:0},jl={key:1},Gl={key:0,class:"info"},Xl=T({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{disconnect:t}=Do(),{isConnected:a,chainId:s,address:n}=Et(),{switchChain:i}=Ga(),l=y(()=>s.value===xe.id),r=()=>{i({chainId:xe.id})};return(d,p)=>{const u=fe;return _(),C("div",zl,[o(a)?(_(),C("div",Ql,[o(l)?(_(),S(u,{key:1,class:"disconnect",icon:"fas fa-check",value:o($e)(o(n)),onClick:o(t)},null,8,["value","onClick"])):(_(),S(u,{key:0,class:"change",value:"Change Network",primary:!0,onClick:r}))])):(_(),C("div",jl,[m(Hl),d.labelPleaseConnect?(_(),C("span",Gl,V(d.labelPleaseConnect),1)):B("",!0)]))])}}}),Zl=I(Xl,[["__scopeId","data-v-8fd60889"]]),Yl=e=>(N("data-v-c4ab49e9"),e=e(),H(),e),Jl={class:"selected"},er={class:"item"},tr={key:0,class:"label"},ar=["onClick"],sr=Yl(()=>c("div",{class:"chevrons"},[c("i",{class:"fas fa-chevron-up"}),c("i",{class:"fas fa-chevron-down"})],-1)),or=T({__name:"Select",props:{options:{},selected:{},label:{}},emits:["input"],setup(e,{emit:t}){const a=t,s=q(!1);return(n,i)=>(_(),C("div",{tabindex:"0",class:M(["select",{open:o(s)}]),onBlur:i[0]||(i[0]=l=>s.value=!1),onClick:i[1]||(i[1]=ve(l=>s.value=!o(s),["stop"]))},[c("div",Jl,[G(n.$slots,"item",{item:n.selected},()=>[c("div",er,V(n.selected),1)],!0),n.label?(_(),C("div",tr,V(n.label),1)):B("",!0)]),c("div",{class:M(["items",{open:o(s)}])},[(_(!0),C(ee,null,re(n.options,(l,r)=>(_(),C("div",{key:r,onClick:ve(d=>{s.value=!1,a("input",l)},["stop"])},[G(n.$slots,"item",{item:l},()=>[E(V(l),1)],!0)],8,ar))),128))],2),sr],34))}}),ot=I(or,[["__scopeId","data-v-c4ab49e9"]]),Xe={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},nr=[Xe.blue,Xe.yellow,Xe.green,Xe.red,Xe.purple],Ze={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},lr=[Ze.blue,Ze.yellow,Ze.green,Ze.red,Ze.purple],Ye={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},rr=[Ye.blue,Ye.yellow,Ye.green,Ye.red,Ye.purple];function Ft(e){switch(e){case"chad":return Ye;case"light":return Ze;default:return Xe}}function ir(e){switch(e){case"chad":return rr;case"light":return lr;default:return nr}}const z=va("settingsStore",()=>{const e=q("light"),t=y(()=>({colors:Ft(e.value),colorsArray:ir(e.value)}));return{themeId:e,theme:t}}),cr={class:"theme"},ur={class:"label"},dr={class:"colors"},pr="theme",mr=T({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Ft("chad")},{id:"dark",colors:Ft("dark")},{id:"light",colors:Ft("light")}],a=z(),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",i=Mo(pr,t.find(r=>r.id===n)??t[0],void 0,{serializer:{read:r=>t.find(d=>d.id===r)??t[0],write:r=>r.id}});_e(()=>{l(i.value)});const l=r=>{i.value=r,window.document.documentElement.setAttribute("data-theme",r.id),a.themeId=r.id};return(r,d)=>{const p=ot;return _(),S(p,{class:"direction-up",options:t.map(u=>u),selected:o(i),onInput:l},{item:b(u=>[c("div",cr,[c("div",ur,V(u.item.id),1),c("div",dr,[c("div",{class:"color",style:be({"background-color":u.item.colors.backgroundColor})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.level1})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.level2})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.blue})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.yellow})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.green})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.red})},null,4),c("div",{class:"color",style:be({"background-color":u.item.colors.purple})},null,4)])])]),_:1},8,["options","selected"])}}}),hr=I(mr,[["__scopeId","data-v-4d737330"]]),vr={class:"bottom"},_r={class:"buttons"},fr={href:"https://twitter.com/0xAlunara",target:"_blank"},gr=T({__name:"Bottom",setup(e){const t=tt();return(a,s)=>{const n=fe;return _(),C("div",vr,[c("div",_r,[c("a",fr,[m(n,{icon:"fab fa-twitter"})]),m(n,{icon:"fas fa-code",onClick:s[0]||(s[0]=i=>o(t).push("/code"))})]),m(hr,{class:"themes"}),m(Zl)])}}}),br=I(gr,[["__scopeId","data-v-16b6c341"]]),wa=()=>va("pageStore",()=>{const e=q([]),t=q([]);return{pages:e,routes:t}})(),yr=T({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const a=t,s=wa(),n=q(!1),i=()=>{n.value=!1,a("navigated")};return(l,r)=>{const d=ul,p=_t;return _(),C("div",{class:M(["menu-desktop",{expanded:o(n)}])},[m(Cl,{onToggleExpansion:r[0]||(r[0]=u=>n.value=!o(n)),onNavigated:i}),m(p,{class:"menu-content",expanded:o(n)},{default:b(()=>[m(d,{pages:o(s).pages,onNavigated:i},null,8,["pages"]),m(br,{onNavigated:i})]),_:1},8,["expanded"])],2)}}}),wr=I(yr,[["__scopeId","data-v-ed03439a"]]),kr=T({__name:"App",setup(e){const t=qe(),a=_a();return X(()=>a.fullPath,s=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(i=>s.startsWith(i))||(t.show=!1)}),(s,n)=>{const i=Vn;return _(),S(i,null,{navigation:b(()=>[m(wr,{class:"navigation"})]),_:1})}}}),$r=I(kr,[["__scopeId","data-v-20311da9"]]),Cr="/assets/404-DGbqGNxT.png",Sr={},Ar=e=>(N("data-v-b15b1b06"),e=e(),H(),e),Lr={class:"not-found"},Tr={class:"not-found-container"},Ir=Ar(()=>c("img",{src:Cr},null,-1));function Vr(e,t){const a=R;return _(),C("div",Lr,[c("div",Tr,[m(a,null,{default:b(()=>[E(" Where are you going, pilot? Page not found, please return home fren. ")]),_:1}),Ir])])}const qr=I(Sr,[["render",Vr],["__scopeId","data-v-b15b1b06"]]),ps=e=>(N("data-v-7dbdbcc8"),e=e(),H(),e),Pr={key:0,class:"expander"},Fr=ps(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),Br=[Fr],Dr={key:1,class:"expander"},Mr=ps(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),Rr=[Mr],Ur={class:"row-details"},Er=T({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const a=t,s=Za(),n=y(()=>{var r;const l=s["row-details"];if(l){const d=(r=l()[0])==null?void 0:r.children;if(d)return d.length>0}return!1}),i=()=>{a("click",e.data)};return(l,r)=>{const d=_t;return _(),C("div",{class:M(["row",{expanded:l.expanded}])},[c("div",{class:M(["row-data",{active:l.selected,expandable:o(n),"has-data":!!l.data}]),onClick:i},[l.data&&o(n)&&l.expandSide==="left"?(_(),C("div",Pr,Br)):B("",!0),G(l.$slots,"row",{},void 0,!0),l.data&&o(n)&&l.expandSide!=="left"?(_(),C("div",Dr,Rr)):B("",!0)],2),l.data?(_(),S(d,{key:0,expanded:l.expanded},{default:b(()=>[c("div",Ur,[G(l.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):B("",!0)],2)}}}),Or=I(Er,[["__scopeId","data-v-7dbdbcc8"]]),Wr={class:"table"},Kr=["onClick"],xr={key:1,class:"no-data"},Nr=T({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const a=t,s=y(()=>{if(e.rowsMin===null)return[];const u=Math.max(0,e.rowsMin-e.rows.length);return new Array(u)}),n=y(()=>e.columns.map(u=>typeof u=="string"?{id:u,label:u}:u)),i=u=>{u&&a("selected",u)},l=u=>{const h=u+1;return!!(e.rows[u+1]&&e.rows.findIndex(v=>v===e.selectedRow)===h)},r=u=>e.sorting.column===u.id&&e.sorting.order==="asc",d=u=>e.sorting.column===u.id&&e.sorting.order==="desc",p=u=>{if(!u.sort)return;const h=u.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";a("sortColumn",u.id,h)};return(u,h)=>{const f=Or;return _(),C("div",Wr,[u.columns.length>0?(_(),S(f,{key:0,class:M({"selected-below":l(-1)})},{row:b(()=>[(_(!0),C(ee,null,re(o(n),w=>(_(),C("div",{key:w.id,class:M(["column-header",{sortable:w.sort,sorting:w.sort&&u.sorting.column===w.id,[w.align||""]:!!w.align}]),onClick:v=>p(w)},[c("span",null,V(w.label),1),w.sort?(_(),C("i",{key:0,class:M(["sorting-arrow fa fa-caret-right",{asc:r(w),desc:d(w)}])},null,2)):B("",!0)],10,Kr))),128))]),_:1},8,["class"])):B("",!0),(_(!0),C(ee,null,re(u.rows,(w,v)=>(_(),S(f,{key:w,data:w,class:M({"selected-below":l(v)}),selected:u.selectedRow===w,expanded:u.expanded.includes(w),"expand-side":u.expandSide,onClick:i},{row:b(()=>[G(u.$slots,"row",{item:w},void 0,!0)]),"row-details":b(()=>[G(u.$slots,"row-details",{item:w},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(_(!0),C(ee,null,re(o(s),w=>(_(),S(f,{key:w}))),128)),!u.rowsMin&&(!u.rows||u.rows.length===0)?(_(),C("div",xr,[G(u.$slots,"no-data",{},()=>[E("No data")],!0)])):B("",!0),u.$slots["row-aggregation"]&&u.rows.length>0?(_(),S(f,{key:2,class:"aggregation"},{row:b(()=>[G(u.$slots,"row-aggregation",{},void 0,!0)]),_:3})):B("",!0)])}}}),oe=I(Nr,[["__scopeId","data-v-07bfbe17"]]),Hr=e=>(N("data-v-6e93c6b1"),e=e(),H(),e),zr={class:"code"},Qr=["href"],jr=["href"],Gr=["href"],Xr=Hr(()=>c("div",{class:"notices"},[E(" TradingView Lightweight Charts™ Copyright (с) 2023 TradingView, Inc. "),c("span",null,[c("a",{href:"https://www.tradingview.com/",target:"_blank"}," https://www.tradingview.com ")])],-1)),Zr=T({__name:"Code.page",setup(e){const a=[{name:"veFunder",contracts:[{contract:rs,description:"Gauge Factory"},{contract:is,description:"Gauge Controller"}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"This website's front-end, excluding the Union"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"The Graph subgraphs related to Curve, Convex, Votium and more"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],n=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],i=l=>{switch(l.network){case"arbitrum":return l.gnosis?`https://app.safe.global/home?safe=arb1:${l.contract}`:`https://arbiscan.io/address/${l.contract}`;case"ethereum":default:return l.gnosis?`https://app.safe.global/home?safe=eth:${l.contract}`:`https://etherscan.io/address/${l.contract}`}};return(l,r)=>{const d=oe,p=R;return _(),C("div",zr,[m(p,{title:"Repositories"},{default:b(()=>[m(d,{class:"repositories-table",rows:s,columns:["Repository","Description"],title:"Yolo"},{row:b(u=>[c("div",null,[c("a",{href:u.item.url,target:"_blank"},V(u.item.name),9,Qr)]),c("div",null,V(u.item.description),1)]),_:1})]),_:1}),m(p,{title:"APIs"},{default:b(()=>[m(d,{class:"apis-table","columns-data":"apis-columns-data",rows:n,columns:["API","Description"]},{row:b(u=>[c("div",null,[c("a",{href:u.item.url,target:"_blank"},V(u.item.name),9,jr)]),c("div",null,V(u.item.description),1)]),_:1})]),_:1}),(_(),C(ee,null,re(a,(u,h)=>m(p,{key:h,title:u.name},{default:b(()=>[m(d,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:u.contracts,columns:["Contract","Description"]},{row:b(f=>[c("div",null,[c("a",{href:i(f.item),target:"_blank"},V(f.item.contract),9,Gr)]),c("div",null,V(f.item.description),1)]),_:2},1032,["rows"])]),_:2},1032,["title"])),64)),m(p,null,{default:b(()=>[Xr]),_:1})])}}}),Yr=I(Zr,[["__scopeId","data-v-6e93c6b1"]]);function Jr(){const e=wa(),t=[{path:"/code",component:Yr},...e.routes.flatMap(s=>s),{path:"/:pathMatch(.*)*",name:"NotFound",component:qr}];return Ro({history:Uo(),routes:t})}const ei="/assets/llama-cloud-transparant-BquaG1Iu.png",ti={key:0,class:"value"},ai={key:1,class:"value"},si=["innerHTML"],oi={key:0,class:"value"},ni={key:1,class:"value"},li=["innerHTML"],ri={class:"labels"},ii={class:"label"},ci={class:"label-second"},ui=T({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,a)=>{const s=ya;return _(),C("div",{class:M(["kpi",{disabled:!t.hasValue}])},[c("div",{class:M(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[G(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(_(),S(s,{key:0},{trigger:b(()=>[t.hasValue?(_(),C("span",ti,V(t.value),1)):(_(),C("span",ai," ? "))]),default:b(()=>[G(t.$slots,"tooltip",{},()=>[c("span",{innerHTML:t.tooltip},null,8,si)],!0)]),_:3})):(_(),C(ee,{key:1},[t.hasValue?(_(),C("span",oi,V(t.value),1)):(_(),C("span",ni," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(_(),S(s,{key:0},{default:b(()=>[c("span",{innerHTML:t.tooltip},null,8,li)]),_:1})):B("",!0)],2),c("div",ri,[G(t.$slots,"label",{},()=>[c("div",ii,V(t.label),1)],!0),G(t.$slots,"label-second",{},()=>[c("div",ci,V(t.labelSecond),1)],!0)])],2)}}}),me=I(ui,[["__scopeId","data-v-ce995eb5"]]),di={key:0,class:"async-value"},pi="|/-\\",J=T({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,a=0;const s=q("|"),n=y(()=>e.value?j(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?s.value:"?"),i=y(()=>e.precision===1/0?"":!e.value||!e.type||!isFinite(e.value)?e.showUnit&&e.type?Q(0,e.type):"":Q(e.value,e.type));return X(()=>e.value,l=>{if(clearInterval(a),t=0,l)return;const r=()=>{t=(t+1)%4,s.value=pi[t]};a=window.setInterval(r,250)},{immediate:!0}),(l,r)=>l.inline?(_(),C(ee,{key:1},[E(V(l.showSymbol&&l.type==="dollar"?"$":"")+V(o(n))+V(l.showUnit?o(i):""),1)],64)):(_(),C("div",di,V(l.showSymbol&&l.type==="dollar"?"$":"")+V(o(n))+V(l.showUnit?o(i):""),1))}}),mi=["crvusd","lending","pools","router","dao"];function Ce(e){const[t,a]=e.split("T"),[s,n,i]=t.split("-").map(Number),[l,r,d]=a.split(":").map(Number);return Date.UTC(s,n-1,i,l,r,d)/1e3}const hi=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],vi="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",_i="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",fi="/assets/arbitrum-Z8VMulXH.png",gi="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",bi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",yi="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",wi="/assets/moonbeam-CHDPiRRO.png",ki="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",$i="/assets/optimism-CcABTbCu.png",Ci="/assets/base-AohAhS4D.webp",Si="/assets/polygon-GPEdhIuq.png",Ai="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Ea(e){return{ethereum:vi,arbitrum:fi,optimism:$i,fantom:gi,avalanche:_i,xdai:bi,matic:ki,harmony:yi,moonbeam:wi,base:Ci,polygon:Si,fraxtal:Ai,all:""}[e]}const Li=e=>e.data.map(t=>t.name).filter(t=>hi.includes(t)),Ti=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),Ii=e=>e.data.flatMap(t=>t.transactions.map(a=>({chain:t.chain,timestamp:Ce(a.timestamp),type:a.type,transactions:a.transactions}))),Vi=e=>e.data.flatMap(t=>t.users.map(a=>({chain:t.chain,timestamp:Ce(a.timestamp),type:a.type,users:a.users}))),Lt="https://prices.curve.fi";class qi extends Le{async getSupportedChains(){const t=await this.fetch(`${Lt}/v1/chains/`);return Li(t)}async getChainInfo(t){const a=await this.fetch(`${Lt}/v1/chains/${t}?page=1&per_page=1`);return Ti(a)}async getTxs(){const t=await this.fetch(`${Lt}/v1/chains/activity/transactions`);return Ii(t)}async getUsers(){const t=await this.fetch(`${Lt}/v1/chains/activity/users`);return Vi(t)}}const Wt=new qi;function ka(){return{initialData:[],initialDataUpdatedAt:0}}function Pi(){return K({queryKey:["chains-supported"],queryFn:()=>Wt.getSupportedChains(),...ka()})}function ms(e){return K({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Wt.getChainInfo(t),enabled:y(()=>!!e.value)})}function Fi(){return K({queryKey:["chains-txs"],queryFn:()=>Wt.getTxs(),...ka()})}function Bi(){return K({queryKey:["chains-users"],queryFn:()=>Wt.getUsers(),...ka()})}const Di=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),Mi=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),Ri=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),Ui=e=>({timestamp:Ce(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),Tt="https://prices.curve.fi";class Ei extends Le{async getMarkets(t,a){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${a}&per_page=10`)).data.map(Di)}async getSnapshots(t,a){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Mi)}async getCrvUsdSupply(t){return(await this.fetch(`${Tt}/v1/crvusd/markets/${t}/supply`)).data.map(Ui)}async getKeepers(t){return(await this.fetch(`${Tt}/v1/crvusd/pegkeepers/${t}`)).keepers.map(Ri)}}const Oi=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),Wi="https://prices.curve.fi";class hs extends Le{async getOHLC(t,a,s,n){const l=Math.floor(new Date().getTime()/1e3),r=Math.floor(l-72e5),d=`${Wi}/v1/ohlc/${t}/${Zt(a)}?main_token=${Zt(s)}&reference_token=${Zt(n)}&agg_number=1&agg_units=day&start=${r}&end=${l}`;return(await this.fetch(d)).data.map(Oi)}}const Kt=new Ei,Ki=new hs;function xi(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.address})}function xt(){return{initialData:[],initialDataUpdatedAt:0}}function Ni(e,t){return{enabled:y(()=>!!e.value&&!0)}}function Hi(){return K({queryKey:["crvusd-supply"],queryFn:()=>Kt.getCrvUsdSupply("ethereum"),...xt()})}function Nt(e){return K({queryKey:["crvusd-market-snapshots",xi(e)],queryFn:({queryKey:[,t]})=>Kt.getSnapshots("ethereum",t),...Ni(e),...xt()})}function zi(e){return K({queryKey:["crvusd-keepers-prices",y(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async n=>{const i=n.pair.find(d=>d.symbol!=="crvUSD"),l=n.pair.find(d=>d.symbol==="crvUSD");return!i||!l?[]:(await Ki.getOHLC("ethereum",n.pool_address,i.address,l.address)).map(d=>({time:d.time,price:(d.high+d.low)/2,coin:i.symbol}))}),s=(await Promise.all(t)).flat().groupBy(n=>n.time).entries().map(([n,i])=>({timestamp:Number(n),...Object.fromEntries(i.map(l=>[l.coin,l.price]))}));return s.length>0?s:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function $a(){return K({queryKey:["crvusd-markets"],queryFn:()=>Kt.getMarkets("ethereum",1),...xt()})}function vs(){return K({queryKey:["crvusd-keepers"],queryFn:()=>Kt.getKeepers("ethereum"),...xt()})}const Qi={class:"kpis"},ji=T({__name:"KPIs",setup(e){const t=new Hn,{data:a}=$a(),s=y(()=>a.value.reduce((d,p)=>d+p.borrowed,0)),{data:n}=ms(q("ethereum")),i=y(()=>{var d;return((d=n.value)==null?void 0:d.total.tvl)??0}),l=y(()=>{var d;return((d=n.value)==null?void 0:d.total.tradingVolume24h)??0}),{data:r}=K({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(d=>d.price),initialData:0,initialDataUpdatedAt:0});return(d,p)=>{const u=J,h=me;return _(),C("div",Qi,[m(h,{label:"CRV Price","has-value":!!o(r)},{default:b(()=>[m(u,{value:o(r),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(h,{label:"crvUSD Borrowed","has-value":!!o(s)},{default:b(()=>[m(u,{value:o(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(h,{label:"Total Value Locked","has-value":!!o(i)},{default:b(()=>[m(u,{value:o(i),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(h,{label:"24h Volume","has-value":!!o(l)},{default:b(()=>[m(u,{value:o(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),Gi=I(ji,[["__scopeId","data-v-9439060c"]]),Xi="/assets/telegram-DU4d4zRw.webp",gt=e=>(N("data-v-b0a43d97"),e=e(),H(),e),Zi={class:"telegram-body"},Yi=gt(()=>c("div",{class:"item crvUSD"}," This Telegram channel provides real-time updates on crvUSD transactions, including loan activity, collateral movements, peg maintenance, and major asset swaps on the Ethereum blockchain. It's a valuable resource for staying informed about crvUSD market dynamics and related metrics. ",-1)),Ji={class:"item crvUSD"},ec=gt(()=>c("li",null,"/list - List all your Ethereum addresses",-1)),tc=gt(()=>c("li",null,"/removeAll - Remove all your Ethereum addresses",-1)),ac=gt(()=>c("li",null,"/gib - Prints all your health stats",-1)),sc=gt(()=>c("li",null,"/help - Show help message and some QoL commands",-1)),ta="https://t.me/curve_monitor_backup",aa="https://t.me/crvUSD_community_bot",oc=T({__name:"TelegramModal",emits:["close"],setup(e,{emit:t}){const a=t;function s(n){window.open(n,"_blank")}return(n,i)=>{const l=R,r=Ke("emph"),d=Ot;return _(),S(d,{onClose:i[2]||(i[2]=p=>a("close"))},{default:b(()=>[c("div",Zi,[m(l,{title:"Curve Monitor",onClick:i[0]||(i[0]=ve(p=>s(ta),["prevent"]))},{actions:b(()=>[c("a",{href:ta},V(ta))]),default:b(()=>[Yi]),_:1}),m(l,{title:"crvUSD",onClick:i[1]||(i[1]=ve(p=>s(aa),["prevent"]))},{actions:b(()=>[c("a",{href:aa},V(aa))]),default:b(()=>[c("div",Ji,[E(" Health Monitoring bot for Curve LlamaLend positions: "),c("ul",null,[c("li",null,[E("/add "),m(r,null,{default:b(()=>[E("address")]),_:1}),E(" - Add an Ethereum address")]),c("li",null,[E("/remove "),m(r,null,{default:b(()=>[E("address")]),_:1}),E(" - Remove an Ethereum address")]),ec,tc,ac,sc])])]),_:1})])]),_:1})}}}),nc=I(oc,[["__scopeId","data-v-b0a43d97"]]),lc=e=>(N("data-v-b54a4475"),e=e(),H(),e),rc={class:"telegram"},ic=lc(()=>c("div",{class:"telegram-card"},[c("picture",null,[c("img",{class:"llama",src:Xi})]),c("div",{class:"info"},[E(" Try our "),c("strong",null,"Telegram"),E(" bots and monitor channels to get notified about the latest liquidations and events. ")])],-1)),cc=T({__name:"Telegram",setup(e){const t=q(!1);return(a,s)=>{const n=R;return _(),C("div",rc,[m(n,{onClick:s[0]||(s[0]=i=>t.value=!0)},{default:b(()=>[ic]),_:1}),m(nc,{show:o(t),onClose:s[1]||(s[1]=i=>t.value=!1)},null,8,["show"])])}}}),uc=I(cc,[["__scopeId","data-v-b54a4475"]]),dc=[{unit:"year",seconds:365*24*60*60},{unit:"month",seconds:30*24*60*60},{unit:"week",seconds:7*24*60*60},{unit:"day",seconds:24*60*60},{unit:"hour",seconds:60*60},{unit:"minute",seconds:60},{unit:"second",seconds:1}];function pc(e,t){const a=Math.round(e.value/1e3)-t;for(const{unit:s,seconds:n}of dc)if(a>=n){const i=Math.round(a/n);return`${i} ${i===1?s:s+"s"} ago`}return"just now"}function De(){const e=q(Date.now());return _e(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:a=>pc(e,a)}}const ye=e=>(N("data-v-e85444a6"),e=e(),H(),e),mc={class:"articles"},hc=ye(()=>c("div",{class:"title"},"Articles",-1)),vc={class:"articles-cards"},_c={class:"article"},fc=ye(()=>c("div",{class:"title"},"Who are Curve's Users?",-1)),gc=ye(()=>c("div",{class:"description"}," A look at the differences between users of Curve's products ",-1)),bc={class:"date"},yc=ye(()=>c("div",{class:"read"},[c("a",{href:"https://blog.curvemonitor.com/posts/curve-users/",target:"_blank"}," Read now ")],-1)),wc={class:"article"},kc=ye(()=>c("div",{class:"title"},"How to Do Cheaper, Approval-Free Swaps",-1)),$c=ye(()=>c("div",{class:"description"}," A deep dive into the exchange_received function on NG pools which allows users to trade without approvals and can significantly reduce transaction gas costs. ",-1)),Cc={class:"date"},Sc=ye(()=>c("div",{class:"read"},[c("a",{href:"https://blog.curvemonitor.com/posts/exchange-received/",target:"_blank"}," Read now ")],-1)),Ac={class:"article"},Lc=ye(()=>c("div",{class:"title"},"Impact of Dynamic Fees on MEV Activity",-1)),Tc=ye(()=>c("div",{class:"description"}," This post compares MEV activity on StableSwap NG pools and pools with the original implementation. It explains dynamic fees and their impact on certain types of MEV activity. ",-1)),Ic={class:"date"},Vc=ye(()=>c("div",{class:"read"},[c("a",{href:"https://blog.curvemonitor.com/posts/ng-mev/",target:"_blank"}," Read now ")],-1)),qc={class:"article"},Pc=ye(()=>c("div",{class:"title"},"Parameter Ramping",-1)),Fc=ye(()=>c("div",{class:"description"}," Why aren't parameter changes on Curve pools applied instantly? This post dwelves into the reasons behind gradual parameter changes. ",-1)),Bc={class:"date"},Dc=ye(()=>c("div",{class:"read"},[c("a",{href:"https://blog.curvemonitor.com/posts/parameter-ramping/",target:"_blank"}," Read now ")],-1)),Mc=T({__name:"Articles",setup(e){const{relativeTime:t}=De();function a(s){window.open(s,"_blank")}return(s,n)=>{const i=R;return _(),C("div",mc,[hc,c("div",vc,[m(i,{onClick:n[0]||(n[0]=l=>a("https://blog.curvemonitor.com/posts/curve-users/"))},{default:b(()=>[c("div",_c,[fc,gc,c("div",bc,V(o(t)(1723586400)),1),yc])]),_:1}),m(i,{onClick:n[1]||(n[1]=l=>a("https://blog.curvemonitor.com/posts/exchange-received/"))},{default:b(()=>[c("div",wc,[kc,$c,c("div",Cc,V(o(t)(1711234800)),1),Sc])]),_:1}),m(i,{onClick:n[2]||(n[2]=l=>a("https://blog.curvemonitor.com/posts/ng-mev/"))},{default:b(()=>[c("div",Ac,[Lc,Tc,c("div",Ic,V(o(t)(1710025200)),1),Vc])]),_:1}),m(i,{onClick:n[3]||(n[3]=l=>a("https://blog.curvemonitor.com/posts/parameter-ramping/"))},{default:b(()=>[c("div",qc,[Pc,Fc,c("div",Bc,V(o(t)(1707606e3)),1),Dc])]),_:1})])])}}}),Rc=I(Mc,[["__scopeId","data-v-e85444a6"]]),_s=e=>(N("data-v-ef7b1d91"),e=e(),H(),e),Uc={class:"home"},Ec=_s(()=>c("div",{class:"description"},[c("span",{class:"title"},"Curve Monitor"),c("span",{class:"tag"}," Airdropping knowledge bombs about the Curve ecosystem. ")],-1)),Oc=_s(()=>c("img",{class:"llama",src:ei},null,-1)),Wc={class:"highlights"},Kc=T({__name:"Home.page",setup(e){return(t,a)=>(_(),C("div",Uc,[Ec,Oc,c("div",Wc,[m(Gi),m(uc)]),m(Rc,{style:{"grid-area":"articles"}})]))}}),xc=I(Kc,[["__scopeId","data-v-ef7b1d91"]]),Nc={key:0,class:"item"},Hc=["src"],zc={key:1,class:"empty"},Qc={class:"label"},jc=T({__name:"SelectChain",props:{chain:{default:"all"},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const a=t,s=y(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(r=>!e.chains||e.chains.includes(r.chain))),n=y(()=>s.value.find(r=>r.chain===e.chain)??s.value[0]),i=r=>r.label,l=r=>{a("select-chain",r.chain)};return(r,d)=>{const p=ot;return _(),S(p,{options:o(s),selected:o(n),onInput:l},{item:b(u=>[u.item?(_(),C("div",Nc,[o(Ea)(u.item.chain)?(_(),C("img",{key:0,src:o(Ea)(u.item.chain)},null,8,Hc)):(_(),C("div",zc)),c("div",Qc,V(i(u.item)),1)])):B("",!0)]),_:1},8,["options","selected"])}}}),Ht=I(jc,[["__scopeId","data-v-789f2aae"]]),Gc=T({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const a=t,s=q(void 0);let n,i=null;X(s,(d,p)=>{e.target&&(d?l(e.target,d):p&&n&&r(e.target,n,p))});function l(d,p){n=d.parentNode,i=d.nextSibling,n&&(a("enterBefore",p),n.removeChild(d),p.appendChild(d),a("enter",p))}function r(d,p,u){a("exitBefore",u),u.removeChild(d),i?p.insertBefore(d,i):p.appendChild(d),a("exit",u)}return(d,p)=>{const u=Ot;return _(),S(u,null,{default:b(()=>[c("div",{ref_key:"modalRef",ref:s,class:"fullscreen-content"},null,512)]),_:1})}}}),fs=I(Gc,[["__scopeId","data-v-08e2932c"]]),Xc=c("i",{class:"fas fa-expand"},null,-1),nt=T({__name:"BtnChartLWFullscreen",props:Ve({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=at(e,"modelValue");let a=0,s=0;function n(){const l=e.chart.chartElement().parentElement;a=(l==null?void 0:l.clientHeight)??0,s=(l==null?void 0:l.clientWidth)??0}function i(){e.chart.applyOptions({height:a,width:s})}return(l,r)=>{const d=fs,p=fe;return _(),S(p,{disabled:!l.chart,onClick:r[1]||(r[1]=u=>t.value=!t.value)},{default:b(()=>[Xc,m(d,{target:l.target,show:t.value,onClose:r[0]||(r[0]=u=>t.value=!1),onEnterBefore:n,onExit:i},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Zc=(e,t)=>{const{colors:a}=t;return{width:e.clientWidth,height:e.clientHeight||300,rightPriceScale:{borderVisible:!1,scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{scaleMargins:{top:.1,bottom:.1}},layout:{background:{type:Eo.Solid,color:a.backgroundColor},textColor:a.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",attributionLogo:!1},grid:{vertLines:{visible:!1},horzLines:{color:a.level4,style:Oo.SparseDotted}},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ae(e,t,a){const s=Zc(e,t);return a?ba(s,a):s}function se(e){const{recreateChartTrigger:t,createChartOptions:a,series:s}=e,n={},i=Array.isArray(s)?s:[s],l=ma(void 0),r=ma(void 0);let d=null;_e(async()=>{if(!l.value)return;await Xa();const p=Wo(l.value,a(l.value));r.value=p;for(const u of i){const h=Yc(p,u);n[u.name]=h}d=new ResizeObserver(u=>{const h=u[0].target;r.value&&l.value&&(r.value.applyOptions({width:h.clientWidth,height:h.clientHeight}),r.value.timeScale().fitContent())}),l.value.parentElement&&d.observe(l.value.parentElement)}),Mt(()=>{r.value&&(r.value.remove(),r.value=void 0),d&&(d.disconnect(),d=null)}),X(t,()=>{l.value&&r.value&&r.value.applyOptions(a(l.value))});for(const{name:p,options:u}of i)X(u,h=>{const f=n[p];f==null||f.applyOptions(h)});return{chart:r,chartRef:l,series:n}}function Yc(e,{type:t,options:a}){return{Area:e.addAreaSeries.bind(e),Bar:e.addBarSeries.bind(e),Baseline:e.addBaselineSeries.bind(e),Line:e.addLineSeries.bind(e),Candlestick:e.addCandlestickSeries.bind(e),Histogram:e.addHistogramSeries.bind(e)}[t](a.value)}const Jc={class:"actions"},eu=T({__name:"ChartTxs",props:{txs:{}},setup(e){const{theme:t}=W(z()),a=q(!1),s=q(void 0),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:t,createChartOptions:d=>ae(d,t.value),series:{type:"Area",name:"txs",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`${j(d,0,"dollar")}${Q(d,"dollar")}`,minMove:.01},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.txs)return;const d=e.txs.map(p=>({time:p.timestamp,value:p.count})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc");l.txs.setData(d),n.value.timeScale().fitContent()}return(d,p)=>{const u=R;return _(),S(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Transactions"},{actions:b(()=>{var h;return[c("div",Jc,[m(o(nt),{modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=f=>Y(a)?a.value=f:null),chart:o(n),target:(h=o(s))==null?void 0:h.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},512)}}}),tu=I(eu,[["__scopeId","data-v-db2dcf06"]]),au={class:"actions"},su=T({__name:"ChartUsers",props:{users:{}},setup(e){const{theme:t}=W(z()),a=q(!1),s=q(void 0),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:t,createChartOptions:d=>ae(d,t.value),series:{type:"Area",name:"users",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`${j(d,0,"dollar")}${Q(d,"dollar")}`,minMove:.01},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.users)return;const d=e.users.map(p=>({time:p.timestamp,value:p.count})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc");l.users.setData(d),n.value.timeScale().fitContent()}return(d,p)=>{const u=R;return _(),S(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Users"},{actions:b(()=>{var h;return[c("div",au,[m(o(nt),{modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=f=>Y(a)?a.value=f:null),chart:o(n),target:(h=o(s))==null?void 0:h.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},512)}}}),ou=I(su,[["__scopeId","data-v-3e796ee5"]]),nu=T({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,a)=>{const s=Ke("apexchart");return _(),S(s,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),zt=I(nu,[["__scopeId","data-v-b55fca0c"]]),lu=T({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,a)=>{const s=zt,n=R;return _(),S(n,{class:"cart-chart",title:t.title,loading:t.loading},{actions:b(()=>[G(t.$slots,"actions",{},void 0,!0)]),default:b(()=>[m(s,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),G(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),lt=I(lu,[["__scopeId","data-v-25a61ef4"]]),ru={class:"legend"},iu=["onClick"],cu={class:"label"},uu=T({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const a=t;return(s,n)=>(_(),C("div",ru,[(_(!0),C(ee,null,re(s.items,i=>(_(),C("div",{key:i.id,class:M(["item",{togglable:i.togglable,disabled:s.disabled.includes(i.id)}]),onClick:l=>{i.togglable&&a("toggle",i.id)}},[c("div",{class:"color",style:be({"background-color":i.color})},null,4),c("div",cu,V(i.label),1)],10,iu))),128))]))}}),Te=I(uu,[["__scopeId","data-v-c53e0ed6"]]),du=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function Pe(e,t){const a=du(e);return t?ba(a,t):a}function Ie(e){const t=y(e),a=Ko(xo(Object.fromEntries(t.value.map(n=>[n.id,!0])))),s=y(()=>t.value.filter(n=>!a[n.id].value).map(n=>n.id));return{items:t,toggles:a,disabled:s}}const pu={class:"actions"},mu=T({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{theme:t}=W(z()),a=y(()=>`Top Chains (${e.type==="all"?"All Types":ft(e.type)})`),{items:s,toggles:n,disabled:i}=Ie(()=>{const{blue:v,yellow:g}=t.value.colors;return[{id:"txs",label:"Transactions",color:v,togglable:!0},{id:"users",label:"Users",color:g,togglable:!0}]});function l(v){return v.groupBy(g=>g.chain).entries().map(([g,k])=>{const $=k.reduce((A,L)=>A+L.value,0);return{chain:g,count:$}}).orderBy(g=>g.count,"desc")}const r=y(()=>{const{colors:v}=t.value;return Pe(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[v.blue,v.yellow],xaxis:{categories:u.value,labels:{formatter:f}},yaxis:{labels:{formatter:w}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=y(()=>n.txs.value?l(e.txs):[]),p=y(()=>n.users.value?l(e.users):[]),u=y(()=>d.value.concat(p.value).orderBy(v=>v.count,"desc").map(v=>v.chain).uniq()),h=y(()=>{const v=u.value.map(k=>{const $=d.value.find(A=>A.chain===k);return $?$.count:0}),g=u.value.map(k=>{const $=p.value.find(A=>A.chain===k);return $?$.count:0});return[{data:n.txs.value?v:[]},{data:n.users.value?g:[]}]}),f=v=>v,w=v=>`${j(v,0,"dollar")}${Q(v,"dollar")}`;return(v,g)=>{const k=Te,$=lt;return _(),S($,{class:"chart",title:o(a),options:o(r),series:o(h)},{actions:b(()=>[c("div",pu,[m(k,{items:o(s),disabled:o(i),onToggle:g[0]||(g[0]=A=>o(n)[A].value=!o(n)[A].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}}),hu=I(mu,[["__scopeId","data-v-53c98af5"]]),vu={class:"actions"},_u=T({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{theme:t}=W(z()),a=y(()=>`Top Types (${e.chain==="all"?"All Chains":ft(e.chain)})`),{items:s,toggles:n,disabled:i}=Ie(()=>{const{blue:v,yellow:g}=t.value.colors;return[{id:"txs",label:"Transactions",color:v,togglable:!0},{id:"users",label:"Users",color:g,togglable:!0}]});function l(v){return v.groupBy(g=>g.type).entries().map(([g,k])=>{const $=k.reduce((A,L)=>A+L.value,0);return{type:g,count:$}}).orderBy(g=>g.count,"desc")}const r=y(()=>{const{colors:v}=t.value;return Pe(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[v.blue,v.yellow],xaxis:{categories:u.value,labels:{formatter:f}},yaxis:{labels:{formatter:w}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),d=y(()=>n.txs.value?l(e.txs):[]),p=y(()=>n.users.value?l(e.users):[]),u=y(()=>d.value.concat(p.value).orderBy(v=>v.count,"desc").map(v=>v.type).uniq()),h=y(()=>{const v=u.value.map(k=>{const $=d.value.find(A=>A.type===k);return $?$.count:0}),g=u.value.map(k=>{const $=p.value.find(A=>A.type===k);return $?$.count:0});return[{data:n.txs.value?v:[]},{data:n.users.value?g:[]}]}),f=v=>v,w=v=>`${j(v,0,"dollar")}${Q(v,"dollar")}`;return(v,g)=>{const k=Te,$=lt;return _(),S($,{class:"chart",title:o(a),options:o(r),series:o(h)},{actions:b(()=>[c("div",vu,[m(k,{items:o(s),disabled:o(i),onToggle:g[0]||(g[0]=A=>o(n)[A].value=!o(n)[A].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}}),fu=I(_u,[["__scopeId","data-v-199b23b5"]]),gu={class:"item"},bu={class:"label"},yu=T({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const a=["all",...mi],s=t,n=q("all");function i(r){switch(r){case"all":return"All Types";case"crvusd":return"crvUSD";case"lending":return"Lending";case"pools":return"Pools";case"router":return"Router";case"dao":return"DAO"}}function l(r){n.value=r,s("select",n.value)}return(r,d)=>{const p=ot;return _(),S(p,{options:a.map(u=>u),selected:o(n),onInput:l},{item:b(u=>[c("div",gu,[c("div",bu,V(i(u.item)),1)])]),_:1},8,["options","selected"])}}}),wu=I(yu,[["__scopeId","data-v-01ee682e"]]),ku={class:"chains"},$u={class:"toolbar"},Cu={class:"activity"},Su=T({__name:"Chains.page",setup(e){const{show:t}=W(qe());_e(()=>{t.value=!1});const a=ke("chain"),s=y({get(){return a.value?a.value:"all"},set(D){a.value=D}}),n=y(()=>{const D=p.value.map(ne=>ne.chain).concat(h.value.map(ne=>ne.chain)).concat(s.value!=="all"?[s.value]:[]).uniq().orderBy(ne=>ne,"asc"),ue=["ethereum"],de=D.difference(ue).orderBy(ne=>ne,"asc");return["all",...ue,...de]}),i=ke("type"),l=y({get(){return i.value?i.value:"all"},set(D){i.value=D}}),r=D=>{l.value=D},{isFetching:d,data:p}=Fi(),{isFetching:u,data:h}=Bi();function f(D,ue,de,ne){return D.filter(le=>ue==="all"?!0:le.chain===ue).filter(le=>de==="all"?!0:le.type===de).groupBy(le=>le.timestamp).entries().map(([le,He])=>{const Ee=He.reduce((pt,Gt)=>pt+ne(Gt),0);return{timestamp:Number(le),count:Ee}})}const w=y(()=>f(p.value,s.value,l.value,D=>D.transactions)),v=y(()=>f(h.value,s.value,l.value,D=>D.users));function g(D){const ne=Math.floor(Date.now()/1e3)-7*24*60*60,He=D.filter(Ee=>Ee.timestamp>=ne).reduce((Ee,pt)=>Ee+pt.count,0);return Math.round(He/7)}const k=y(()=>{var D;return((D=w.value.at(-1))==null?void 0:D.count)??0}),$=y(()=>g(w.value)),A=y(()=>{var D;return((D=v.value.at(-1))==null?void 0:D.count)??0}),L=y(()=>g(v.value));function F(D,ue,de,ne){return D.filter(le=>ue==="all"?!0:le.chain===ue).filter(le=>de==="all"?!0:le.type===de).map(le=>({chain:le.chain,type:le.type,value:ne(le)}))}const P=y(()=>F(p.value,"all",l.value,D=>D.transactions)),U=y(()=>F(h.value,"all",l.value,D=>D.users)),x=y(()=>F(p.value,s.value,"all",D=>D.transactions)),Ue=y(()=>F(h.value,s.value,"all",D=>D.users));return(D,ue)=>{const de=J,ne=me;return _(),C("div",ku,[(_(),S(Rt,{to:"#toolbar"},[c("div",$u,[m(o(wu),{style:{"grid-area":"type"},onSelect:r}),m(Ht,{style:{"grid-area":"chain"},class:"chain-select",chain:o(s),chains:o(n),all:!0,onSelectChain:ue[0]||(ue[0]=le=>s.value=le)},null,8,["chain","chains"])])])),c("div",Cu,[m(ne,{style:{"grid-area":"kpi1"},label:"Transactions Today","has-value":!!o(d)},{default:b(()=>[m(de,{type:"dollar",value:o(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ne,{style:{"grid-area":"kpi2"},label:"Avg Transactions / 7 Days","has-value":!!o(d)},{default:b(()=>[m(de,{type:"dollar",value:o($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ne,{style:{"grid-area":"kpi3"},label:"Avg Users / 7 Days","has-value":!!o(u)},{default:b(()=>[m(de,{type:"dollar",value:o(A),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(ne,{style:{"grid-area":"kpi4"},label:"Users Today","has-value":!!o(u)},{default:b(()=>[m(de,{type:"dollar",value:o(L),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["has-value"]),m(o(tu),{style:{"grid-area":"txs"},txs:o(w),loading:o(d)},null,8,["txs","loading"]),m(o(ou),{style:{"grid-area":"users"},users:o(v),loading:o(u)},null,8,["users","loading"]),m(o(hu),{style:{"grid-area":"top-chains"},type:o(l),txs:o(P),users:o(U),loading:o(d)||o(u)},null,8,["type","txs","users","loading"]),m(o(fu),{style:{"grid-area":"top-types"},chain:o(s),txs:o(x),users:o(Ue),loading:o(d)||o(u)},null,8,["chain","txs","users","loading"])])])}}}),Au=I(Su,[["__scopeId","data-v-d951844b"]]),Lu=e=>(N("data-v-a8bfcf8d"),e=e(),H(),e),Tu={class:"input-text"},Iu={key:0,class:"icon"},Vu=Lu(()=>c("i",{class:"fas fa-search"},null,-1)),qu=[Vu],Pu=["type","value","placeholder"],Fu=["onClick"],Bu=T({__name:"InputText",props:Ve({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ve(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const a=at(e,"modelValue"),s=t,n=y(()=>{const l=e.options.filter(d=>e.filter(a.value,d));return e.sort?[...l].sort(e.sort):l}),i=l=>{const r=l.target.value;a.value=r,s("input",r)};return(l,r)=>(_(),C("div",Tu,[l.search?(_(),C("span",Iu,qu)):B("",!0),c("input",{type:l.search?"search":"text",value:a.value,placeholder:l.placeholder,onInput:ve(i,["stop"]),onSelect:r[0]||(r[0]=ve(()=>{},["stop"]))},null,40,Pu),l.options&&l.autoComplete?(_(),C("div",{key:1,class:M(["items",{selectHide:!l.autoComplete}])},[(_(!0),C(ee,null,re(o(n),(d,p)=>(_(),C("div",{key:p,onClick:u=>s("select",d)},[G(l.$slots,"item",{item:d,idx:p},()=>[E(V(d),1)],!0)],8,Fu))),128))],2)):B("",!0)]))}}),Se=I(Bu,[["__scopeId","data-v-a8bfcf8d"]]),Du=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),Oa=e=>{var t,a;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(s=>({poolIndex:s.pool_index,symbol:s.symbol,address:s.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((a=e.pool_methods)==null?void 0:a.map(s=>s))??[]}},Mu=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),Ru=e=>({timestamp:e.timestamp,tvlUSD:e.tvl_usd??0}),sa="https://prices.curve.fi";class Uu extends cs{async getPools(t){const a=await this.getHost(),s=await this.fetch(`${a}/chains/${t}`);return{chain:s.chain,totals:Du(s.total),pools:s.data.map(Oa)}}async getPool(t,a){const s=await this.fetch(`${sa}/v1/pools/${t}/${a}`);return Oa(s)}async getVolume(t,a){const n=Math.floor(new Date().getTime()/1e3),i=Math.floor(n-72e5);return(await this.fetch(`${sa}/v1/volume/usd/${t}/${a}?interval=day&start=${i}&end=${n}`)).data.map(Mu)}async getTvl(t,a){const n=Math.floor(new Date().getTime()/1e3),i=Math.floor(n-72e5);return(await this.fetch(`${sa}/v1/snapshots/${t}/${a}/tvl?interval=day&start=${i}&end=${n}`)).data.map(Ru)}}const Eu=["cb","laf","cm","pm","pm-lrt"];function Ou(){const e="cm";if(!Eu.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Ae({text:t,type:"error"}),new Error(t)}return e}const It={};function Wu(e){return Wn[e]}async function gs(e){const t=Ou(),a=t;if(It[a])return Promise.resolve(It[a]);const s=Wu(t);return It[a]=s,It[a]}const bt=new Uu(gs());function Ku(e){return K({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>bt.getPools(t),placeholderData:Ut,enabled:y(()=>!!e.value)})}function xu(e,t){return K({queryKey:["curve-pool",t],queryFn:async({queryKey:[,a]})=>bt.getPool(e.value,a),enabled:y(()=>!!e.value)})}function Nu(e,t){const a=y(()=>t.value.map(s=>({queryKey:["curve-pool",s],queryFn:()=>bt.getPool(e.value,s),enabled:y(()=>!!e.value)})));return No({queries:a})}function Hu(e,t){return K({queryKey:["curve-pool-volume",t],queryFn:async({queryKey:[,a]})=>bt.getVolume(e.value,a),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}function zu(e,t){return K({queryKey:["curve-pool-tvl",t],queryFn:async({queryKey:[,a]})=>bt.getTvl(e.value,a),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const Qu=["src"],ju=["href"],Gu=["src"],Xu=T({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=q("");function a(i){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${i}.png`}const s=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};X(()=>e.address,i=>{t.value=a(i.toLowerCase())},{immediate:!0});const n=y(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(i,l)=>i.clickable?(_(),C("a",{key:1,target:"_blank",href:o(n)},[c("img",{src:t.value,onError:s},null,40,Gu)],8,ju)):(_(),C("img",{key:0,src:t.value,onError:s},null,40,Qu))}}),ge=I(Xu,[["__scopeId","data-v-e852da0c"]]),Ca=e=>(N("data-v-1322d4c0"),e=e(),H(),e),Zu={key:0},Yu=Ca(()=>c("button",null,"1",-1)),Ju=[Yu],ed=Ca(()=>c("button",null,[c("i",{class:"fas fa-chevron-left"})],-1)),td=[ed],ad=["onClick"],sd=Ca(()=>c("button",null,[c("i",{class:"fas fa-chevron-right"})],-1)),od=[sd],nd=T({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const a=t,s=y(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),n=y(()=>{const h=[...Array(12).keys()].map($=>$-6+e.page).filter($=>$>=1&&$<=s.value),f=h.findIndex($=>$===e.page),w=[],v=[],g=e.page!==1&&e.page!==s.value?[e.page]:[];let k=1;for(;;){const $=h[f-k];if($&&$!==1&&w.unshift($),w.length+v.length+g.length>=5||k>h.length)break;const A=h[f+k];if(A&&A!==s.value&&v.push(A),k++,w.length+v.length+g.length>=5||k>h.length)break}return[...w,...g,...v]});X(n,()=>{const p=i(e.page,1,s.value);e.page!==p&&a("page",p)});const i=(p,u,h)=>(h<u&&(h=u),Math.min(Math.max(p,u),h)),l=()=>a("page",i(e.page-1,1,s.value)),r=()=>a("page",i(e.page+1,1,s.value)),d=p=>a("page",i(p,1,s.value));return(p,u)=>o(s)>1?(_(),C("ul",Zu,[c("li",{class:M({active:p.page===1}),onClick:u[0]||(u[0]=h=>d(1))},Ju,2),o(s)>2?(_(),C("li",{key:0,onClick:l},td)):B("",!0),(_(!0),C(ee,null,re(o(n),(h,f)=>(_(),C("li",{key:f,class:M({active:h===p.page}),onClick:w=>d(h)},[c("button",null,V(h),1)],10,ad))),128)),o(s)>2?(_(),C("li",{key:1,onClick:r},od)):B("",!0),o(s)>1?(_(),C("li",{key:2,class:M({active:p.page===o(s)}),onClick:u[1]||(u[1]=h=>d(o(s)))},[c("button",null,V(o(s)),1)],2)):B("",!0)])):B("",!0)}}),Fe=I(nd,[["__scopeId","data-v-1322d4c0"]]);function yt(e,t){const a=q(e),s=q("desc"),n=(l,r)=>{a.value=l,s.value=r},i=y(()=>({column:a.value,order:s.value}));return{sortColumn:a,sortOrder:s,sorting:i,onSort:n}}function wt(e,t){const a=q(1),s=y(()=>e.value.drop((a.value-1)*t).take(t)),n=i=>{a.value=i};return X(s,i=>{i.length===0&&(a.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:a,rowsPage:s,onPage:n}}function Sa(){const e=q(1);return{page:e,onPage:a=>{e.value=a}}}const ld={class:"tokens"},rd={class:"end"},id={class:"end"},cd={class:"end"},Wa=20,ud=T({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const a=t,s=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:n,onSort:i}=yt("tvl"),l=y(()=>e.pools.orderBy(h=>{switch(n.value.column){case"name":return h.name;case"volume":return h.tradingVolume24h;case"tvl":return h.tvlUsd;case"util":return u(h)}},n.value.order)),{page:r,rowsPage:d,onPage:p}=wt(l,Wa);function u(h){return h.tvlUsd!==0?100*h.tradingVolume24h/h.tvlUsd:0}return(h,f)=>{const w=Fe,v=ge,g=J,k=oe,$=R;return _(),S($,{title:"Pools"},{actions:b(()=>[m(w,{"items-count":h.pools.length,"items-per-page":Wa,page:o(r),onPage:o(p)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(k,{class:"pools-table","expand-side":"left",rows:o(d),columns:s,sorting:o(n),onSortColumn:o(i),onSelected:f[0]||(f[0]=A=>a("selected",A))},{row:b(({item:A})=>[c("div",ld,[(_(!0),C(ee,null,re(A.coins,L=>(_(),S(v,{key:L.address,chain:h.chain,address:L.address},null,8,["chain","address"]))),128))]),c("div",null,V(A.name),1),c("div",rd,[m(g,{value:A.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",id,[m(g,{value:A.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",cd,[m(g,{value:u(A),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":b(()=>[E("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),dd=I(ud,[["__scopeId","data-v-2f78c210"]]),pd={class:"pools"},md={class:"toolbar"},hd=T({__name:"Pools.page",setup(e){const t=["ethereum","arbitrum"],a=ke("chain"),s=y({get(){return a.value?a.value:"ethereum"},set(v){a.value=v}}),n=q(""),{isFetching:i,data:l}=ms(s),{isFetching:r,data:d}=Ku(s),p=y(()=>{var v;return(((v=d.value)==null?void 0:v.pools)??[]).filter(g=>{const k=n.value.toLocaleLowerCase().split(" "),$=A=>k.some(L=>A.toLocaleLowerCase().includes(L));return $(g.name)||$(g.address)})}),{show:u,crumbs:h}=W(qe());_e(()=>{u.value=!0,h.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const f=tt(),w=async v=>{await f.push({name:"poolspool",params:{tab:"",chain:s.value,poolAddr:v.address}})};return(v,g)=>{const k=Se,$=J,A=me;return _(),C("div",pd,[(_(),S(Rt,{to:"#toolbar"},[c("div",md,[m(k,{modelValue:o(n),"onUpdate:modelValue":g[0]||(g[0]=L=>Y(n)?n.value=L:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(Ht,{class:"chain-select",chain:o(s),chains:t,onSelectChain:g[1]||(g[1]=L=>s.value=L==="all"?"ethereum":L)},null,8,["chain"])])])),m(A,{style:{"grid-area":"kpi1"},label:"TVL","has-value":!o(i)},{default:b(()=>{var L;return[m($,{value:((L=o(l))==null?void 0:L.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(A,{style:{"grid-area":"kpi2"},label:"Volume (24h)","has-value":!o(i)},{default:b(()=>{var L;return[m($,{value:((L=o(l))==null?void 0:L.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(A,{style:{"grid-area":"kpi3"},label:"Fees Trading (24h)","has-value":!o(i)},{default:b(()=>{var L;return[m($,{value:((L=o(l))==null?void 0:L.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(A,{style:{"grid-area":"kpi4"},label:"Fees Liquidity (24h)","has-value":!o(i)},{default:b(()=>{var L;return[m($,{value:((L=o(l))==null?void 0:L.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(dd),{style:{"grid-area":"pools"},chain:o(s),pools:o(p),loading:o(r),onSelected:w},null,8,["chain","pools","loading"])])}}}),vd=I(hd,[["__scopeId","data-v-c5404b72"]]),_d={class:"tab-view"},fd={class:"tab-headers"},gd=["onClick"],bd={class:"tabs"},yd=T({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const a=t,s=q(null),n=Za(),i=y(()=>(n.default?n.default():[]).filter(d=>d.props));X(()=>e.active,r=>{s.value=r,a("tab",{tab:i.value[r],index:s.value})},{immediate:!0});const l=(r,d)=>{r.props.disabled||(s.value=d,a("tab",{tab:i.value[d],index:s.value}))};return(r,d)=>(_(),C("div",_d,[c("ul",fd,[(_(!0),C(ee,null,re(o(i),(p,u)=>(_(),C("li",{key:u,class:M(["tab-header",{active:o(s)===u,disabled:p.props.disabled}]),onClick:h=>l(p,u)},V(p.props.header),11,gd))),128))]),c("div",bd,[(_(!0),C(ee,null,re(o(i),(p,u)=>fa((_(),C("div",{key:u,class:"tab"},[(_(),S(ha(p)))])),[[Ho,o(s)===u]])),128))])]))}}),Me=I(yd,[["__scopeId","data-v-0fb1a0bc"]]),Re=T({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,a)=>G(t.$slots,"default")}}),wd=new hs;function kd(e,t,a,s){return K({queryKey:["curve-token-price",t,a,s],queryFn:({queryKey:[,n,i,l]})=>wd.getOHLC(e.value,n,i,l),enabled:y(()=>!!e.value&&!!t.value&&!!a.value&&!!s.value),initialData:[],initialDataUpdatedAt:0})}const $d=T({__name:"ButtonToggle",props:Ve({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Ve(["change"],["update:modelValue"]),setup(e,{emit:t}){const a=at(e,"modelValue"),s=t,n=()=>{const i=!a.value;a.value=i,s("change",i)};return(i,l)=>(_(),C("button",{class:M({toggled:a.value}),onClick:n},[G(i.$slots,"default",{},()=>[i.icon?(_(),C("i",{key:0,class:M(["icon",i.icon])},null,2)):B("",!0),E(" "+V(i.value),1)],!0)],2))}}),kt=I($d,[["__scopeId","data-v-b6760b51"]]),Cd={class:"controls"},Sd=T({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{theme:t}=W(z()),a=q(!1);let s=1,n=0;const{chart:i,chartRef:l,series:r}=se({recreateChartTrigger:t,createChartOptions:u=>ae(u,t.value),series:{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:u}=t.value;return{priceFormat:{type:"custom",formatter:p},upColor:u.green,borderUpColor:u.green,wickUpColor:u.green,downColor:u.red,borderDownColor:u.red,wickDownColor:u.red}})}});te(d);function d(){if(!i.value||!r.ohlc)return;const u=a.value?-1:1,h=e.ohlc.map(f=>({time:f.time,open:Math.pow(f.open,u),high:Math.pow(f.high,u),low:Math.pow(f.low,u),close:Math.pow(f.close,u)})).uniqWith((f,w)=>f.time===w.time).orderBy(f=>f.time,"asc");h.length>0&&(r.ohlc.setData(h),n=Math.min(...h.map(f=>f.low)),s=Math.max(...h.map(f=>f.high))),i.value.timeScale().fitContent()}function p(u){const h=s-n,f=h>1?h-Math.floor(h):h,w=-Math.floor(Math.log10(f)+1)+2;return`${j(u,w,"dollar")}${Q(u,"dollar")}`}return(u,h)=>{const f=kt,w=R;return _(),S(w,{class:"chart-container",title:"Price"},{actions:b(()=>[c("div",Cd,[m(f,{value:"Invert","model-value":o(a),onClick:h[0]||(h[0]=v=>a.value=!o(a))},null,8,["model-value"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1})}}}),Ad=I(Sd,[["__scopeId","data-v-208f081b"]]),Ld=T({__name:"ChartVolume",props:{volume:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`$${j(l,1,"dollar")}${Q(l,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(i);function i(){if(!a.value||!n.volume)return;const l=e.volume.map(r=>({time:r.timestamp,value:r.volume})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.volume.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=R;return _(),S(d,{class:"chart-container",title:"Volume"},{default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Td=I(Ld,[["__scopeId","data-v-05a20892"]]),Id=T({__name:"ChartTvl",props:{tvl:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Area",name:"tvl",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`$${j(l,1,"dollar")}${Q(l,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(i);function i(){if(!a.value||!n.tvl)return;const l=e.tvl.map(r=>({time:r.timestamp,value:r.tvl})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.tvl.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=R;return _(),S(d,{class:"chart-container",title:"TVL"},{default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Vd=I(Id,[["__scopeId","data-v-d072e37a"]]),qd={class:"pool-overview"},Pd={class:"tokens"},Fd=T({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const t=y(()=>{var f;return(f=e.pool)==null?void 0:f.address}),a=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[0].address}),s=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[1].address}),{isFetching:n,data:i}=kd(O(()=>e.chain),t,a,s),{isFetching:l,data:r}=Hu(O(()=>e.chain),t),{isFetching:d,data:p}=zu(O(()=>e.chain),t),u=y(()=>r.value.map(f=>({timestamp:f.timestamp,volume:f.volume}))),h=y(()=>p.value.map(f=>({timestamp:f.timestamp,tvl:f.tvlUSD})));return(f,w)=>{const v=ge,g=me,k=J;return _(),C("div",qd,[m(g,{style:{"grid-area":"kpi1"},label:"Tokens","has-value":!!f.pool},{default:b(()=>{var $;return[c("div",Pd,[(_(!0),C(ee,null,re((($=f.pool)==null?void 0:$.coins)??[],A=>(_(),S(v,{key:A.address,chain:f.chain,address:A.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["has-value"]),m(g,{style:{"grid-area":"kpi2"},label:"TVL","has-value":!!f.pool},{default:b(()=>{var $;return[m(k,{value:(($=f.pool)==null?void 0:$.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(g,{style:{"grid-area":"kpi3"},label:"Volume (24h)","has-value":!!f.pool},{default:b(()=>{var $;return[m(k,{value:(($=f.pool)==null?void 0:$.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(g,{style:{"grid-area":"kpi4"},label:"Fees (24h)","has-value":!!f.pool},{default:b(()=>{var $;return[m(k,{value:(($=f.pool)==null?void 0:$.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(Ad),{style:{"grid-area":"price"},ohlc:o(i),loading:o(n)},null,8,["ohlc","loading"]),m(o(Td),{style:{"grid-area":"volume"},volume:o(u),loading:o(l)},null,8,["volume","loading"]),m(o(Vd),{style:{"grid-area":"tvl"},tvl:o(h),loading:o(d)},null,8,["tvl","loading"])])}}}),Bd=I(Fd,[["__scopeId","data-v-d0ed3f63"]]),Dd={},Md={class:"mev"};function Rd(e,t){return _(),C("div",Md,"MEV goes here")}const Ud=I(Dd,[["render",Rd],["__scopeId","data-v-1b58cb9c"]]);function rt(e,t,a){const s=tt(),n=ke("tab",e[0]),i=q(-1);return X(n,l=>i.value=e.findIndex(r=>r===l),{immediate:!0}),X(i,async l=>{l===-1&&(l=0),await s.push({name:t,params:{tab:e[l],...(a==null?void 0:a())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:i}}const Ed={class:"pool"},Od=T({__name:"Pool.page",setup(e){const{show:t,crumbs:a}=W(qe()),s=ke("chain"),n=ke("poolAddr"),{isFetching:i,data:l}=xu(s,n.value);X(l,p=>{a.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:s.value})},{id:"pool",label:`Pool: ${(p==null?void 0:p.name)??"?"}`}]},{immediate:!0}),_e(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:d}=rt(["overview","mev"],"poolspool",()=>({chain:s.value,poolAddr:n.value}));return(p,u)=>{const h=st,f=Re,w=Me;return _(),C("div",Ed,[m(h,{class:M(["spinner",{loading:o(i)}])},null,8,["class"]),!o(i)&&o(l)?(_(),S(w,{key:0,active:o(d),onTab:u[0]||(u[0]=v=>d.value=v.index)},{default:b(()=>[m(f,{header:"Overview"},{default:b(()=>[(_(),S(ce,null,[o(r)==="overview"?(_(),S(Bd,{key:0,pool:o(l),chain:o(s)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1}),m(f,{header:"MEV"},{default:b(()=>[(_(),S(ce,null,[o(r)==="mev"?(_(),S(Ud,{key:0,pool:o(l),chain:o(s)},null,8,["pool","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),Wd=I(Od,[["__scopeId","data-v-5ee3289f"]]),Kd=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),xd=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),Nd=e=>({timestamp:Ce(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),Hd=e=>({timestamp:Ce(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),zd=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),Qd=e=>({timestamp:Ce(e.timestamp),feesUsd:e.fees_usd}),jd=e=>({timestamp:Ce(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),Gd=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Xd=e=>({coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),decimals:e.coin.precision},amount:parseFloat(e.amount),amountUsd:parseFloat(e.usd_amount)}),Ka="https://api-py.llama.airforce/curve/v1",oa="https://prices.curve.fi";class Zd extends cs{async getByChain(t){return(await this.fetch(`${Ka}/protocol/revenue/chains`,void 0,t)).revenue.map(Kd)}async getTopPools(t,a=10){const s=t==="ethereum"?"mainnet":t;return(await this.fetch(`${Ka}/protocol/revenue/${s}/toppools/${a}`)).revenue.map(xd)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(Nd)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(Hd)}async getCushions(t){return(await this.fetch(`${oa}/v1/dao/fees/${t}/pending`)).data.map(zd)}async getDistributions(){return await ns(s=>this.fetch(`${oa}/v1/dao/fees/distributions?page=${s}&per_page=100`).then(n=>n.distributions.map(Qd)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${oa}/v1/dao/fees/settlements${t?"?timestamp="+t.toString():""}`)).data.map(jd)}async getFeesCollected(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-collected`)).data.map(Gd)}async getFeesStaged(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/fees-staged`)).data.map(Xd)}}const Ne=new Zd(gs());function it(){return{initialData:[],initialDataUpdatedAt:0}}function Yd(e){return K({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>Ne.getCushions(t).then(a=>a.sort((s,n)=>n.usdValue-s.usdValue)),...it()})}function Jd(){return K({queryKey:["curve-revenue-distributions"],queryFn:()=>Ne.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function ep(){return K({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>Ne.getCowSwapSettlements(),...it()})}function tp(){return K({queryKey:["curve-revenue-crvusd-weekly"],queryFn:()=>Ne.getCrvUsdWeekly(),...it()})}function ap(){return K({queryKey:["curve-revenue-pools-weekly"],queryFn:()=>Ne.getPoolsWeekly(),...it()})}function sp(){return K({queryKey:["curve-revenue-fees-collected"],queryFn:()=>Ne.getFeesCollected(),...it()})}function op(){return K({queryKey:["curve-revenue-fees-staged"],queryFn:()=>Ne.getFeesStaged(),...it()})}const np={class:"actions"},lp=T({__name:"ChartBreakdown",setup(e){const{theme:t}=W(z()),{items:a}=Ie(()=>[{id:"crvusd",label:"crvUSD",color:t.value.colorsArray[0]},{id:"pools",label:"Pools",color:t.value.colorsArray[1]}]),{isFetching:s,data:n}=tp(),{isFetching:i,data:l}=ap(),r=y(()=>s.value||i.value),d=y(()=>{const{colors:v,colorsArray:g}={colors:t.value.colors,colorsArray:[t.value.colorsArray[0],t.value.colorsArray[1]]};return Pe({colors:v,colorsArray:g},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:f.value,labels:{formatter:k=>k,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:k=>`$${j(k,0,"dollar")}${Q(k,"dollar")}`},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})});function p(v){return v.groupBy(g=>g.timestamp).entries().map(([g,k])=>{const $=k.reduce((A,L)=>A+L.feesUsd,0);return{timestamp:Number(g),feesUsd:$}}).orderBy(g=>g.timestamp,"asc")}const u=y(()=>{const v=p(n.value),g=p(l.value);return v.concat(g).groupBy(k=>k.timestamp).entries().map(([,k])=>({timestamp:k[0].timestamp,numLabels:k.length})).orderBy(k=>k.timestamp,"asc").dropWhile(k=>k.numLabels<2).map(k=>k.timestamp)});function h(v){return new Date(v*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"short"})}const f=y(()=>u.value.map(v=>h(v))),w=y(()=>{function v($){return p($).map(A=>({x:h(A.timestamp),y:A.feesUsd}))}const g={name:"crvusd",data:v(n.value)},k={name:"pools",data:v(l.value)};return[g,k]});return(v,g)=>{const k=Te,$=lt;return _(),S($,{class:"chart",title:"Revenue breakdown by source",options:o(d),series:o(w),loading:o(r)},{actions:b(()=>[c("div",np,[m(k,{items:o(a)},null,8,["items"])])]),_:1},8,["options","series","loading"])}}}),rp=I(lp,[["__scopeId","data-v-acc7f897"]]),ip={class:"overview"},cp=T({__name:"Overview",setup(e){return(t,a)=>(_(),C("div",ip,[m(rp,{style:{"grid-area":"breakdown"},class:"breakdown"})]))}}),up=I(cp,[["__scopeId","data-v-9842f493"]]),dp={class:"end"},pp=T({__name:"TableDistributions",props:{distributions:{}},setup(e){const t=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:a,onSort:s}=yt("timestamp"),n=y(()=>e.distributions.orderBy(l=>{switch(a.value.column){case"timestamp":return l.timestamp;case"fees":return l.feesUsd}},a.value.order));function i(l){return new Date(l*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(l,r)=>{const d=J,p=oe,u=R;return _(),S(u,{title:"Distributions"},{default:b(()=>[m(p,{class:"distributions-table",rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:{timestamp:h,feesUsd:f}})=>[c("div",null,V(i(h)),1),c("div",dp,[m(d,{value:f,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),mp=I(pp,[["__scopeId","data-v-7e3c6121"]]),hp={class:"actions"},vp=T({__name:"ChartDistributions",props:{distributions:{}},setup(e){const{theme:t}=W(z()),a=q(!1),s=q(void 0),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:t,createChartOptions:d=>ae(d,t.value),series:{type:"Histogram",name:"distributions",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${j(d,0,"dollar")}${Q(d,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.distributions)return;const d=e.distributions.map(p=>({time:p.timestamp,value:p.feesUsd})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc").takeRight(52);if(d.length>0){l.distributions.setData(d);const p=d[0].time,u=d[d.length-1].time;n.value.timeScale().setVisibleRange({from:p,to:u})}}return(d,p)=>{const u=R;return _(),S(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Distributions (1y)"},{actions:b(()=>{var h;return[c("div",hp,[m(o(nt),{modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=f=>Y(a)?a.value=f:null),chart:o(n),target:(h=o(s))==null?void 0:h.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},512)}}}),_p=I(vp,[["__scopeId","data-v-6eb65d1c"]]),fp={class:"actions"},gp=T({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const{theme:t}=W(z()),a=q(!1),s=q(void 0),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:t,createChartOptions:d=>ae(d,t.value),series:{type:"Histogram",name:"deltas",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${j(d,0,"dollar")}${Q(d,"dollar")}`,minMove:.01},color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.deltas)return;const{colors:d}=t.value,p=e.distributions.map(u=>({time:u.timestamp,value:u.feesUsd})).uniqWith((u,h)=>u.time===h.time).orderBy(u=>u.time,"asc").takeRight(53).reduce((u,h,f,w)=>{if(f===0)return u;const v=h.value-w[f-1].value,g=v<0?d.red:d.green;return u.push({time:h.time,value:v,color:g}),u},[]);if(p.length>0){l.deltas.setData(p);const u=p[0].time,h=p[p.length-1].time;n.value.timeScale().setVisibleRange({from:u,to:h})}}return(d,p)=>{const u=R;return _(),S(u,{ref_key:"chartCard",ref:s,class:"chart-card",title:"Distributions Change (1y)"},{actions:b(()=>{var h;return[c("div",fp,[m(o(nt),{modelValue:o(a),"onUpdate:modelValue":p[0]||(p[0]=f=>Y(a)?a.value=f:null),chart:o(n),target:(h=o(s))==null?void 0:h.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},512)}}}),bp=I(gp,[["__scopeId","data-v-84bafe91"]]),yp={class:"distributions"},wp=T({__name:"Distributions",setup(e){const{isFetching:t,data:a}=Jd(),s=y(()=>a.value.sumBy(l=>l.feesUsd)),n=y(()=>a.value.orderBy(l=>l.timestamp,"desc").take(52).meanBy(l=>l.feesUsd)),i=y(()=>{const l=a.value.orderBy(p=>p.timestamp,"desc").take(52).map(p=>p.feesUsd),r=l.meanBy(p=>p),d=l.map(p=>Math.pow(p-r,2));return Math.sqrt(d.sumBy(p=>p)/(l.length-1))});return(l,r)=>{const d=J,p=me;return _(),C("div",yp,[m(p,{style:{"grid-area":"kpi1"},label:"Total","has-value":o(a).length>0},{default:b(()=>[m(d,{value:o(s),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(p,{style:{"grid-area":"kpi2"},label:"Average (1y)","has-value":o(a).length>0},{default:b(()=>[m(d,{value:o(n),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(p,{style:{"grid-area":"kpi3"},label:"Standard Deviation (1y)","has-value":o(a).length>0},{default:b(()=>[m(d,{value:o(i),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(_p,{style:{"grid-area":"chart"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"]),m(bp,{style:{"grid-area":"delta"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"]),m(mp,{style:{"grid-area":"table"},distributions:o(a),loading:o(t)},null,8,["distributions","loading"])])}}}),kp=I(wp,[["__scopeId","data-v-323bca14"]]),bs=e=>(N("data-v-657998a2"),e=e(),H(),e),$p=["href"],Cp={class:"end"},Sp=bs(()=>c("div",null,null,-1)),Ap=bs(()=>c("div",null,null,-1)),Lp={class:"end"},Tp=T({__name:"TableCushions",setup(e){const t=q(""),a=y(()=>i.value||d.value),s=q("ethereum"),{data:n,isFetching:i}=Pi(),l=y(()=>r.value.filter(u=>u.usdValue>100).filter(u=>{const h=t.value.toLocaleLowerCase().split(" "),f=w=>h.some(v=>w.toLocaleLowerCase().includes(v));return f(u.pool)||f(u.name)})),{data:r,isFetching:d}=Yd(s),p=u=>`https://etherscan.io/address/${u}`;return(u,h)=>{const f=Se,w=J,v=oe,g=R;return _(),S(g,{class:"cushions-card",title:"Cushions",loading:o(a)},{actions:b(()=>[m(Ht,{class:"chain-select",chain:o(s),chains:o(n),onSelectChain:h[0]||(h[0]=k=>s.value=k==="all"?"ethereum":k)},null,8,["chain","chains"]),m(f,{modelValue:o(t),"onUpdate:modelValue":h[1]||(h[1]=k=>Y(t)?t.value=k:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:b(()=>[m(v,{class:"cushions-table",rows:o(l),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:b(k=>[c("div",null,V(k.item.name),1),c("div",null,[c("a",{class:"font-mono",href:p(k.item.pool),target:"_blank"},V(k.item.pool),9,$p)]),c("div",Cp,[m(w,{value:k.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Sp,Ap,c("div",Lp,[m(w,{value:o(l).reduce((k,$)=>k+$.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),Ip=I(Tp,[["__scopeId","data-v-657998a2"]]),Vp={class:"cushions"},qp=T({__name:"Cushions",setup(e){return(t,a)=>(_(),C("div",Vp,[m(Ip)]))}}),Pp=I(qp,[["__scopeId","data-v-78dd0726"]]),Fp=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[a,s])=>(t[a]=BigInt(s),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((a,[s,n])=>(a[s]=BigInt(n),a),{}),orders:t.orders.map(a=>({id:a.id,sellAmount:BigInt(a.sellAmount),buyAmount:BigInt(a.buyAmount)}))}))}),Bp="https://api.cow.fi";class Dp extends Le{async getCompetition(t){const a=await this.fetch(`${Bp}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return Fp(a)}}const Mp=new Dp;function Rp(e){return K({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>Mp.getCompetition(t)})}const Up=e=>(N("data-v-e66b8ca2"),e=e(),H(),e),Ep={class:"settlement-details-body"},Op={class:"info col"},Wp={class:"buttons"},Kp=Up(()=>c("i",{class:"fas fa-expand"},null,-1)),xp={class:"font-mono json"},Np={key:0,class:"fas fa-trophy"},Hp={key:1},zp=["href"],Qp=T({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:a}=Rp(O(()=>e.settlement.txHash)),s=y(()=>t.value?JSON.stringify(t.value,(h,f)=>typeof f=="bigint"?f.toString():f,2):"no data"),n=y(()=>t.value?t.value.solutions.orderBy(h=>h.ranking,"asc"):[]);function i(h){return`https://etherscan.io/address/${h}`}async function l(h){await navigator.clipboard.writeText(h)}async function r(){await navigator.clipboard.writeText(s.value)}function d(h){switch(h){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const p=q(!1),u=q(void 0);return(h,f)=>{const w=me,v=fe,g=fs,k=R,$=oe;return _(),S(k,{class:"settlement-details"},{default:b(()=>[c("div",Ep,[c("div",Op,[m(w,{label:"Auction Start Block","has-value":!o(a)},{default:b(()=>{var A;return[E(V(((A=o(t))==null?void 0:A.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),m(w,{label:"Solvers","has-value":!o(a)},{default:b(()=>{var A,L;return[E(V(((L=(A=o(t))==null?void 0:A.solutions)==null?void 0:L.length)??0),1)]}),_:1},8,["has-value"]),m(w,{label:"Orders","has-value":!o(a)},{default:b(()=>{var A,L;return[E(V(((L=(A=o(t))==null?void 0:A.orders)==null?void 0:L.length)??0),1)]}),_:1},8,["has-value"]),m(k,{ref_key:"cardJson",ref:u,class:"card-json col",title:"Json"},{actions:b(()=>[c("div",Wp,[m(v,{icon:"fas fa-link",onClick:f[0]||(f[0]=A=>r())}),m(v,{onClick:f[2]||(f[2]=A=>p.value=!o(p))},{default:b(()=>{var A;return[Kp,m(g,{target:(A=o(u))==null?void 0:A.$el,show:o(p),onClose:f[1]||(f[1]=L=>p.value=!1)},null,8,["target","show"])]}),_:1})])]),default:b(()=>[c("div",xp,V(o(s)),1)]),_:1},512)]),m(k,{class:"col",title:"Solvers"},{default:b(()=>[m($,{class:"solvers-table col",rows:o(n)},{row:b(({item:{solver:A,solverAddress:L,ranking:F,score:P}})=>[c("div",{class:M(["trophy",d(F)])},[F<=3?(_(),C("i",Np)):(_(),C("span",Hp,V(F),1))],2),c("div",null,[c("a",{class:"font-mono",href:i(L),target:"_blank"},V(A),9,zp)]),c("div",null,V(P),1),c("div",null,[m(v,{icon:"fas fa-link",onClick:U=>l(L)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),jp=I(Qp,[["__scopeId","data-v-e66b8ca2"]]);function ys(){const e=q([]);return{expanded:e,toggleExpansion:a=>{const s=e.value.findIndex(n=>n===a);return s===-1?(e.value.push(a),!0):(e.value.splice(s,1),!1)}}}const Gp=e=>(N("data-v-8ab7e470"),e=e(),H(),e),Xp={class:"header-content"},Zp={class:"token"},Yp=["href"],Jp={class:"end"},em={class:"end"},tm={class:"end"},am={class:"end profit"},sm={class:"end"},om=["href"],nm={class:"end"},lm=Gp(()=>c("div",{class:"empty"},null,-1)),xa=15,rm=T({__name:"TableSettlements",props:{settlements:{}},setup(e){const t=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:a,onSort:s}=yt("timestamp"),n=y(()=>e.settlements.orderBy(v=>{switch(a.value.column){case"amount":return v.amountReceived;case"quote":return v.routerReceived;case"profit":return h(v);case"profitPct":return f(v);case"timestamp":return v.timestamp}},a.value.order)),{page:i,rowsPage:l,onPage:r}=wt(n,xa),{expanded:d,toggleExpansion:p}=ys(),{relativeTime:u}=De();function h(v){return v.amountReceived-v.routerReceived}function f(v){return 100*v.amountReceived/v.routerReceived-100}function w(v){const g=v.coin.symbol;return g.includes(":")?g.split(":")[1]:g}return(v,g)=>{const k=Fe,$=ge,A=J,L=oe,F=R;return _(),S(F,{title:"CowSwap Settlements"},{actions:b(()=>[c("div",Xp,[m(k,{"items-count":o(n).length,"items-per-page":xa,page:o(i),onPage:o(r)},null,8,["items-count","page","onPage"])])]),default:b(()=>[m(L,{class:"settlements-table",rows:o(l),columns:t,sorting:o(a),expanded:o(d),"expand-side":"right",onSortColumn:o(s),onSelected:o(p)},{row:b(({item:P})=>[c("div",Zp,[m($,{address:P.coin.address},null,8,["address"]),c("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${P.coin.address}`},V(w(P)),9,Yp)]),c("div",Jp,[m(A,{value:P.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),c("div",em,[m(A,{value:P.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),c("div",tm,[P.routerReceived>1?(_(),S(A,{key:0,value:h(P),precision:2,inline:!1,type:"dollar"},null,8,["value"])):B("",!0)]),c("div",am,[P.routerReceived>1?(_(),S(A,{key:0,class:M(["pct",{green:f(P)>0}]),value:f(P),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):B("",!0)]),c("div",sm,[c("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${P.txHash}`,target:"_blank",onClick:g[0]||(g[0]=ve(()=>{},["stop"]))},V(o($e)(P.txHash)),9,om)]),c("div",nm,V(o(u)(P.timestamp)),1)]),"row-details":b(({item:P})=>[lm,o(d).includes(P)?(_(),S(jp,{key:0,settlement:P},null,8,["settlement"])):B("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1})}}}),im=I(rm,[["__scopeId","data-v-8ab7e470"]]),cm={class:"settlements"},um=T({__name:"Settlements",setup(e){const{isFetching:t,data:a}=ep();return(s,n)=>(_(),C("div",cm,[m(im,{style:{"grid-area":"table"},settlements:o(a),loading:o(t)},null,8,["settlements","loading"])]))}}),dm=I(um,[["__scopeId","data-v-3297d635"]]),Aa=e=>(N("data-v-6adacae7"),e=e(),H(),e),pm=["href"],mm={class:"end"},hm={class:"end"},vm=Aa(()=>c("div",null,null,-1)),_m=Aa(()=>c("div",null,null,-1)),fm=Aa(()=>c("div",null,null,-1)),gm={class:"end"},bm=T({__name:"TableFeesCollected",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:s}=yt("amountUsd"),n=y(()=>e.fees.orderBy(i=>{switch(a.value.column){case"symbol":return i.coin.symbol;case"amount":return i.amount;default:return i.amountUsd}},a.value.order));return(i,l)=>{const r=ge,d=J,p=oe,u=R;return _(),S(u,{title:"Fees Collected"},{default:b(()=>[m(p,{rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:h})=>[m(r,{address:h.coin.address},null,8,["address"]),c("div",null,[c("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${h.coin.address}`},V(h.coin.symbol),9,pm)]),c("div",mm,[m(d,{value:h.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",hm,[m(d,{value:h.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[vm,_m,fm,c("div",gm,[m(d,{value:o(n).reduce((h,f)=>h+f.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),ym=I(bm,[["__scopeId","data-v-6adacae7"]]),La=e=>(N("data-v-a71a8f4a"),e=e(),H(),e),wm=["href"],km={class:"end"},$m={class:"end"},Cm=La(()=>c("div",null,null,-1)),Sm=La(()=>c("div",null,null,-1)),Am=La(()=>c("div",null,null,-1)),Lm={class:"end"},Tm=T({__name:"TableFeesStaged",props:{fees:{}},setup(e){const t=[{id:"token",label:"",sort:!1},{id:"symbol",label:"Token",sort:!0},{id:"amount",label:"Amount",align:"end",sort:!0},{id:"amountUsd",label:"Amount ($)",align:"end",sort:!0}],{sorting:a,onSort:s}=yt("amountUsd"),n=y(()=>e.fees.orderBy(i=>{switch(a.value.column){case"symbol":return i.coin.symbol;case"amount":return i.amount;default:return i.amountUsd}},a.value.order));return(i,l)=>{const r=ge,d=J,p=oe,u=R;return _(),S(u,{title:"Fees Staged"},{default:b(()=>[m(p,{rows:o(n),columns:t,sorting:o(a),onSortColumn:o(s)},{row:b(({item:h})=>[m(r,{address:h.coin.address},null,8,["address"]),c("div",null,[c("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${h.coin.address}`},V(h.coin.symbol),9,wm)]),c("div",km,[m(d,{value:h.amount,precision:2,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",$m,[m(d,{value:h.amountUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Cm,Sm,Am,c("div",Lm,[m(d,{value:o(n).reduce((h,f)=>h+f.amountUsd,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1})}}}),Im=I(Tm,[["__scopeId","data-v-a71a8f4a"]]),Vm={class:"harvesting"},qm=T({__name:"Harvesting",setup(e){const{isFetching:t,data:a}=sp(),{isFetching:s,data:n}=op();return(i,l)=>(_(),C("div",Vm,[m(ym,{style:{"grid-area":"collected"},fees:o(a),loading:o(t)},null,8,["fees","loading"]),m(Im,{style:{"grid-area":"staged"},fees:o(n),loading:o(s)},null,8,["fees","loading"])]))}}),Pm=I(qm,[["__scopeId","data-v-2bec8864"]]),Fm={class:"revenue"},Bm=T({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["overview","distributions","cushions","settlements","harvesting"],"revenue");return(s,n)=>{const i=Re,l=Me;return _(),C("div",Fm,[m(l,{active:o(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:b(()=>[m(i,{header:"Revenue"},{default:b(()=>[(_(),S(ce,null,[o(t)==="overview"?(_(),S(up,{key:0})):B("",!0)],1024))]),_:1}),m(i,{header:"Distributions"},{default:b(()=>[(_(),S(ce,null,[o(t)==="distributions"?(_(),S(kp,{key:0})):B("",!0)],1024))]),_:1}),m(i,{header:"Cushions"},{default:b(()=>[(_(),S(ce,null,[o(t)==="cushions"?(_(),S(Pp,{key:0})):B("",!0)],1024))]),_:1}),m(i,{header:"Settlements"},{default:b(()=>[(_(),S(ce,null,[o(t)==="settlements"?(_(),S(dm,{key:0})):B("",!0)],1024))]),_:1}),m(i,{header:"Harvesting"},{default:b(()=>[(_(),S(ce,null,[o(t)==="harvesting"?(_(),S(Pm,{key:0})):B("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Dm=I(Bm,[["__scopeId","data-v-995223b6"]]),ws=e=>(N("data-v-0b9c8a31"),e=e(),H(),e),Mm={class:"end"},Rm={class:"end"},Um={class:"end"},Em={class:"end"},Om=ws(()=>c("div",null,null,-1)),Wm=ws(()=>c("div",null,null,-1)),Km={class:"end"},xm={class:"end"},Nm={class:"end"},Hm={class:"end"},zm=T({__name:"TablePegkeepers",setup(e){const t=q(""),a=y(()=>u.value||i.value),s=y(()=>l.value.map(v=>{const g=h.value.find(k=>v.pool_address===k.address);if(g)return{...g,...v}}).filter(Un).orderBy(v=>v.tvlUsd,"desc")),n=y(()=>s.value.filter(v=>{const g=t.value.toLocaleLowerCase().split(" "),k=$=>g.some(A=>$.toLocaleLowerCase().includes(A));return k(v.name)||k(v.address)})),{isFetching:i,data:l}=vs(),r=v=>`${v.pair[1].symbol} / ${v.pair[0].symbol}`,d=y(()=>l.value.map(v=>v.pool_address)),p=Nu(q("ethereum"),d),u=y(()=>p.value.some(v=>v.isFetching)),h=y(()=>p.value.filter(v=>v.data).map(v=>v.data)),f=v=>v>=1e6?2:0,w=v=>v.pair.filter(g=>g.address!==On)[0].address;return(v,g)=>{const k=Se,$=ge,A=J,L=oe,F=R;return _(),S(F,{class:"pegkeepers-card",title:"Pegkeepers",loading:o(a)},{actions:b(()=>[m(k,{modelValue:o(t),"onUpdate:modelValue":g[0]||(g[0]=P=>Y(t)?t.value=P:null),placeholder:"Search for..",search:!0},null,8,["modelValue"])]),default:b(()=>[m(L,{class:"pegkeepers-table",rows:o(n),columns:["","Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:b(({item:P})=>[m($,{chain:"ethereum",address:w(P)},null,8,["address"]),c("div",null,V(r(P)),1),c("div",Mm,[m(A,{value:P.total_debt,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Rm,[m(A,{value:P.tvlUsd,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Um,[m(A,{value:P.tradingVolume24h,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Em,[m(A,{value:P.total_profit,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[Om,Wm,c("div",Km,[m(A,{value:o(n).reduce((P,U)=>P+U.total_debt,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",xm,[m(A,{value:o(n).reduce((P,U)=>P+U.tvlUsd,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Nm,[m(A,{value:o(n).reduce((P,U)=>P+U.tradingVolume24h,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),c("div",Hm,[m(A,{value:o(n).reduce((P,U)=>P+U.total_profit,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),Qm=I(zm,[["__scopeId","data-v-0b9c8a31"]]),Qt=e=>(N("data-v-6eb4ea46"),e=e(),H(),e),jm={class:"end"},Gm={class:"end"},Xm={class:"end"},Zm={class:"end"},Ym={class:"end"},Jm={class:"end"},eh=Qt(()=>c("div",null,null,-1)),th=Qt(()=>c("div",null,null,-1)),ah=Qt(()=>c("div",null,null,-1)),sh={class:"end"},oh=Qt(()=>c("div",null,null,-1)),nh={class:"end"},lh={class:"end"},rh={class:"end"},ih={class:"end"},ch=T({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const a=t,s=q(""),n=y(()=>l.value.filter(d=>{const p=s.value.toLocaleLowerCase().split(" "),u=h=>p.some(f=>h.toLocaleLowerCase().includes(f));return u(d.name)||u(d.address)}).orderBy(d=>d.borrowed,"desc")),{isFetching:i,data:l}=$a(),r=d=>d>=1e6?2:0;return(d,p)=>{const u=Se,h=ge,f=J,w=oe,v=R;return _(),S(v,{class:"markets-card",title:"Markets",loading:o(i)},{actions:b(()=>[m(u,{modelValue:o(s),"onUpdate:modelValue":p[0]||(p[0]=g=>Y(s)?s.value=g:null),placeholder:"Search for...",search:!0},null,8,["modelValue"])]),default:b(()=>[m(w,{class:"markets-table","expand-side":"left",rows:o(n),columns:["","","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:p[1]||(p[1]=g=>a("selected",g))},{row:b(({item:g})=>[m(h,{chain:"ethereum",address:g.collateral_token.address},null,8,["address"]),c("div",null,V(g.name),1),c("div",jm,V(g.loans),1),c("div",Gm,[m(f,{value:g.rate*100,precision:2,type:"percentage"},null,8,["value"])]),c("div",Xm,[m(f,{value:g.borrowed,precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",Zm,[m(f,{value:g.collateralUsd,precision:r,type:"dollar"},null,8,["value"])]),c("div",Ym,[m(f,{value:g.fees.pending,precision:r,type:"dollar"},null,8,["value"])]),c("div",Jm,[m(f,{value:g.fees.collected,precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":b(()=>[eh,th,ah,c("div",sh,V(o(n).reduce((g,k)=>g+k.loans,0)),1),oh,c("div",nh,[m(f,{value:o(n).reduce((g,k)=>g+k.borrowed,0),precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",lh,[m(f,{value:o(n).reduce((g,k)=>g+k.collateralUsd,0),precision:r,type:"dollar"},null,8,["value"])]),c("div",rh,[m(f,{value:o(n).reduce((g,k)=>g+k.fees.pending,0),precision:r,type:"dollar"},null,8,["value"])]),c("div",ih,[m(f,{value:o(n).reduce((g,k)=>g+k.fees.collected,0),precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":b(()=>[E("   ")]),_:1},8,["rows"])]),_:1},8,["loading"])}}}),uh=I(ch,[["__scopeId","data-v-6eb4ea46"]]),dh={class:"actions"},ph={class:"chart-types"},mh=T({__name:"ChartCrvUsdSupply",setup(e){const{theme:t}=W(z()),a=q("line"),{items:s}=Ie(()=>[{id:"supply",label:"Supply",color:t.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:t.value.colorsArray[1]}]),{isFetching:n,data:i}=Hi(),l=r=>{a.value!==r&&(a.value=r)};return(r,d)=>{const p=Te,u=kt,h=R;return _(),S(h,{class:"chart-container",title:"crvUSD Supply",loading:o(n)},{actions:b(()=>[c("div",dh,[o(a)==="line"?(_(),S(p,{key:0,items:o(s)},null,8,["items"])):B("",!0),c("div",ph,[m(u,{value:"Line","model-value":o(a)==="line",onClick:d[0]||(d[0]=f=>l("line"))},null,8,["model-value"]),m(u,{value:"Breakdown","model-value":o(a)==="breakdown",onClick:d[1]||(d[1]=f=>l("breakdown"))},null,8,["model-value"])])])]),default:b(()=>[(_(),S(ce,null,[o(a)==="line"?(_(),S(o(fh),{key:0,data:o(i)},null,8,["data"])):B("",!0)],1024)),(_(),S(ce,null,[o(a)==="breakdown"?(_(),S(o(_h),{key:0,data:o(i)},null,8,["data"])):B("",!0)],1024))]),_:1},8,["loading"])}}}),hh=I(mh,[["__scopeId","data-v-47d6feeb"]]),vh=T({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=W(z()),a=y(()=>Pe(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.data.orderBy(d=>d.timestamp,"asc").groupBy(d=>d.timestamp).entries().map(([d])=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((d,p)=>p%8===0?d:"")),n=y(()=>e.data.groupBy(d=>d.market).entries().map(([d,p])=>({name:d,data:p.groupBy(u=>u.timestamp).entries().map(([u,h])=>({x:new Date(parseInt(u,10)*1e3).toLocaleDateString(),y:h.reduce((f,w)=>f+w.supply,0)})).orderBy(u=>u.x,"asc")}))),i=y(()=>Math.max(...e.data.groupBy(d=>d.timestamp).entries().map(([,d])=>d.reduce((p,u)=>p+u.supply,0)))*1.1),l=d=>d,r=d=>`${j(d,1,"dollar")}${Q(d,"dollar")}`;return(d,p)=>{const u=zt;return _(),S(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),_h=I(vh,[["__scopeId","data-v-1ccdf5c2"]]),fh=T({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:r=>ae(r,t.value),series:[{type:"Area",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:l},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:l},lineWidth:2,lineType:ie.WithSteps,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(i);function i(){if(!a.value||!n.debt||!n.supply)return;const r=e.data.groupBy(p=>p.timestamp).entries().map(([,p])=>{var u;return{time:p[0].timestamp,value:p.reduce((h,f)=>h+f.supply,0),debt:((u=p.find(h=>h.market==="Keepers debt"))==null?void 0:u.supply)??0}}).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc"),d=r.map(p=>({time:p.time,value:p.value-p.debt}));r.length>0&&n.supply.setData(r),d.length>0&&n.debt.setData(d),a.value.timeScale().fitContent()}function l(r){return`${j(r,0,"dollar")}${Q(r,"dollar")}`}return(r,d)=>(_(),C("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512))}}),gh=T({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{isFetching:t,data:a}=Nt(O(()=>e.market)),{theme:s}=W(z()),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:s,createChartOptions:d=>ae(d,s.value),series:{type:"Area",name:"available",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${j(d,0,"dollar")}${Q(d,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.available)return;const d=a.value.map(p=>({time:p.timestamp,value:p.borrowable})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc").dropWhile(p=>p.value===0);d.length>0&&l.available.setData(d),n.value.timeScale().fitContent()}return(d,p)=>{const u=R;return _(),S(u,{class:"chart-container",title:"Borrowable & Debt Ceiling",loading:o(t)},{default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["loading"])}}}),bh=I(gh,[["__scopeId","data-v-c9d93c4c"]]),yh=T({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{isFetching:t,data:a}=Nt(O(()=>e.market)),{theme:s}=W(z()),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:s,createChartOptions:d=>ae(d,s.value,{localization:{priceFormatter:p=>Math.round(p).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.loans)return;const d=a.value.map(p=>({time:p.timestamp,value:p.nLoans})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc");if(d.length>0){l.loans.setData(d);const p=d[0].time,u=d[d.length-1].time;n.value.timeScale().setVisibleRange({from:p,to:u})}}return(d,p)=>{const u=R;return _(),S(u,{class:"chart-container",title:"Loans",loading:o(t)},{default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["loading"])}}}),wh=I(yh,[["__scopeId","data-v-30e5e2d2"]]),kh=["min","max"],$h=T({__name:"InputNumber",props:Ve({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=at(e,"modelValue");return X(t,a=>{a===""?t.value=null:typeof a=="number"&&(t.value=Math.min(Math.max(a,e.min),e.max))}),(a,s)=>fa((_(),C("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),type:"number",min:a.min,max:a.max},null,8,kh)),[[Ya,t.value]])}}),jt=I($h,[["__scopeId","data-v-4bb37a2c"]]),Ch={class:"actions"},Sh=T({__name:"ChartMarketRates",props:{market:{}},setup(e){const{isFetching:t,data:a}=Nt(O(()=>e.market)),{theme:s}=W(z()),n=q(null),{chart:i,chartRef:l,series:r}=se({recreateChartTrigger:s,createChartOptions:h=>ae(h,s.value),series:[{type:"Area",name:"rates",options:y(()=>({priceFormat:{type:"custom",formatter:p},lineWidth:2,lineType:ie.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"ema",options:y(()=>({priceFormat:{type:"custom",formatter:p},lineWidth:2,lineType:ie.WithSteps,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(d);function d(){if(!i.value||!r.rates||!r.ema)return;const h=a.value.map(v=>({time:v.timestamp,value:v.rate})).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc"),w=u(h.map(v=>v.value),n.value??31).zip(h).map(v=>({time:v[1].time,value:v[0]}));if(w.length>0&&r.ema.setData(w),h.length>0){r.rates.setData(h);const v=h[0].time,g=h[h.length-1].time;i.value.timeScale().setVisibleRange({from:v,to:g})}}function p(h){return`${j(h*100,0,"percentage")}${Q(h,"percentage")}`}const u=(h,f=7)=>h.map((w,v)=>{const g=Math.max(v-(f-1),0),k=v+1,$=h.slice(g,k);return $.reduce((L,F)=>L+F,0)/$.length});return(h,f)=>{const w=jt,v=R;return _(),S(v,{class:"chart-container",title:"Rates",loading:o(t)},{actions:b(()=>[c("div",Ch,[m(w,{modelValue:o(n),"onUpdate:modelValue":f[0]||(f[0]=g=>Y(n)?n.value=g:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Ah=I(Sh,[["__scopeId","data-v-10d7e239"]]),Lh=e=>{const t=e.provider.toLocaleLowerCase(),a=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,s=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,n=e.block_number,i=e.timestamp,l=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:a,withdrawal:s,block_number:n,timestamp:i,transaction_hash:l}},Th=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),Ih=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),na="https://prices.curve.fi";class Vh extends Le{async getEvents(t,a,s,n){const i=await this.fetch(`${na}/v1/${t}/llamma_events/${a}/${s}?page=${n}&per_page=10`);return{events:i.data.map(Lh),count:i.count}}async getTrades(t,a,s,n){const i=await this.fetch(`${na}/v1/${t}/llamma_trades/${a}/${s}?page=${n}&per_page=10`);return{trades:i.data.map(Th),count:i.count}}async getOHLC(t,a,s){const n=Math.floor(new Date().getTime()/1e3),i=n-10*24*60*60;return(await this.fetch(`${na}/v1/${t}/llamma_ohlc/${a}/${s}?agg_number=1&agg_units=hour&start=${i}&end=${n}`)).data.map(Ih)}}const Ta=new Vh;function ks(e,t,a,s){return K({queryKey:["llamma-market-events",t,s],queryFn:({queryKey:[,n,i]})=>Ta.getEvents(e.value,a.value,n,i),placeholderData:Ut,enabled:y(()=>!!t.value&&!!a.value)})}function $s(e,t,a,s){return K({queryKey:["llamma-market-trades",t,s],queryFn:({queryKey:[,n,i]})=>Ta.getTrades(e.value,a.value,n,i),placeholderData:Ut,enabled:y(()=>!!t.value&&!!a.value)})}function Ia(e,t,a){return K({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,s]})=>Ta.getOHLC(e.value,a.value,s),enabled:y(()=>!!t.value&&!!a.value)})}const qh=T({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=Ia(O("crvusd"),y(()=>{var d;return(d=e.market)==null?void 0:d.llamma}),O(()=>e.chain)),{theme:s}=W(z()),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:s,createChartOptions:d=>ae(d,s.value),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:d=>`$${j(d,0,"dollar")}${Q(d,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.volume)return;const d=(a.value??[]).map(p=>({time:p.time,value:p.volume})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc");d.length>0&&l.volume.setData(d),n.value.timeScale().fitContent()}return(d,p)=>{const u=R;return _(),S(u,{class:"chart-container",title:"Volume",loading:o(t)},{default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Ph=I(qh,[["__scopeId","data-v-4276f7f8"]]),Fh={class:"actions"},Bh=T({__name:"ChartKeeperPrices",setup(e){const{theme:t}=W(z()),a=["USDC","USDT","TUSD","USDP"],{items:s,toggles:n,disabled:i}=Ie(()=>a.map(($,A)=>({id:$,label:$,color:t.value.colorsArray[A],togglable:!0}))),l=y(()=>r.value||p.value),{isFetching:r,data:d}=vs(),{isFetching:p,data:u}=zi(d),h=q(!1),f=q(void 0),{chart:w,chartRef:v,series:g}=se({recreateChartTrigger:t,createChartOptions:$=>ae($,t.value),series:a.map(($,A)=>({type:"Line",name:$,options:y(()=>({priceFormat:{type:"custom",formatter:L=>`${j(L,3,"dollar")}${Q(L,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,color:t.value.colorsArray[A],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:L=>{const F=L();return F!==null&&(F.priceRange.minValue=Math.max(.98,F.priceRange.minValue),F.priceRange.maxValue=Math.min(1.02,F.priceRange.maxValue)),F}}))}))});te(k);function k(){var $,A;if(!(!w.value||Object.values(g).length<0)){for(const[,L]of a.entries()){if(!n[L].value){($=g[L])==null||$.setData([]);continue}const F=u.value.map(P=>({time:P.timestamp,value:P[L]})).uniqWith((P,U)=>P.time===U.time).orderBy(P=>P.time,"asc");F.length>0&&((A=g[L])==null||A.setData(F))}w.value.timeScale().fitContent()}}return($,A)=>{const L=Te,F=R;return _(),S(F,{ref_key:"chartCard",ref:f,class:"chart-container",title:"Stablecoin Prices of Pegkeepers",loading:o(l)},{actions:b(()=>{var P;return[c("div",Fh,[m(L,{items:o(s),disabled:o(i),onToggle:A[0]||(A[0]=U=>o(n)[U].value=!o(n)[U].value)},null,8,["items","disabled"]),m(o(nt),{modelValue:o(h),"onUpdate:modelValue":A[1]||(A[1]=U=>Y(h)?h.value=U:null),chart:o(w),target:(P=o(f))==null?void 0:P.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["loading"])}}}),Dh=I(Bh,[["__scopeId","data-v-d6623148"]]),Mh={class:"crvusd"},Rh={class:"col"},Uh={class:"col"},Eh=T({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:a}=W(qe());_e(()=>{t.value=!0,a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const s=tt(),n=async i=>{await s.push({name:"crvusdmarket",params:{tab:"",marketAddr:i.address}})};return(i,l)=>(_(),C("div",Mh,[m(o(uh),{style:{"grid-column":"1 / -1"},onSelected:n}),c("div",Rh,[m(o(Qm))]),c("div",Uh,[m(o(hh)),m(o(Dh))])]))}}),Oh=I(Eh,[["__scopeId","data-v-8aedfed5"]]),Wh=["href"],Kh={key:1},xh=T({__name:"Addresses",props:{market:{}},setup(e){const t=y(()=>{var n,i,l;return[{description:"Controller",address:(n=e.market)==null?void 0:n.address},{description:"Factory",address:(i=e.market)==null?void 0:i.factory},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma}]}),a=n=>`https://etherscan.io/address/${n}`,s=async n=>{await navigator.clipboard.writeText(n)};return(n,i)=>{const l=fe,r=oe,d=R;return _(),S(d,{class:"addresses",title:"Addresses"},{default:b(()=>[m(r,{class:"addresses-table",rows:o(t)},{row:b(({item:{description:p,address:u}})=>[c("div",null,V(p),1),c("div",null,[u?(_(),C("a",{key:0,class:"font-mono",href:a(u),target:"_blank"},V(u),9,Wh)):(_(),C("span",Kh,"?"))]),c("div",null,[m(l,{icon:"fas fa-link",onClick:h=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})}}}),Nh=I(xh,[["__scopeId","data-v-ab0b00a1"]]),Hh={key:0},zh={class:"token-info"},Qh=["href"],jh={key:1},Gh=T({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,r){return r?l==="collateral"?{type:"token",symbol:r.collateral_token.symbol,address:r.collateral_token.address}:{type:"token",symbol:r.stablecoin_token.symbol,address:r.stablecoin_token.address}:{type:"token",symbol:"?",address:"?"}}const s=y(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,i=async l=>{await navigator.clipboard.writeText(l)};return(l,r)=>{const d=ge,p=fe,u=oe,h=R;return _(),S(h,{class:"properties",title:"Properties"},{default:b(()=>[m(u,{class:"properties-table",rows:o(s)},{row:b(({item:{description:f,value:w}})=>[c("div",null,V(f),1),t(w)?(_(),C("div",Hh,[c("div",zh,[m(d,{chain:l.chain,address:w.address},null,8,["chain","address"]),c("div",null,V(w.symbol),1),c("div",null,[c("a",{class:"font-mono",href:n(w.address),target:"_blank"},V(w.address),9,Qh)]),c("div",null,[m(p,{icon:"fas fa-link",onClick:v=>i(w.address)},null,8,["onClick"])])])])):(_(),C("div",jh,V(w),1))]),_:1},8,["rows"])]),_:1})}}}),Xh=I(Gh,[["__scopeId","data-v-f07f33c1"]]),Zh={class:"market"},Yh=T({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){return(t,a)=>{const s=J,n=me;return _(),C("div",Zh,[m(n,{style:{"grid-area":"kpi1"},label:"Borrow Rate","has-value":!!t.market},{default:b(()=>{var i;return[m(s,{value:100*(((i=t.market)==null?void 0:i.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi2"},label:"Borrowed","has-value":!!t.market},{default:b(()=>{var i;return[m(s,{value:(i=t.market)==null?void 0:i.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi3"},label:"Borrowable","has-value":!!t.market},{default:b(()=>{var i;return[m(s,{value:(i=t.market)==null?void 0:i.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(n,{style:{"grid-area":"kpi4"},label:"Loans","has-value":!!t.market},{default:b(()=>{var i;return[E(V(((i=t.market)==null?void 0:i.loans)??0),1)]}),_:1},8,["has-value"]),m(o(Ah),{style:{"grid-area":"rates"},market:t.market},null,8,["market"]),m(o(bh),{style:{"grid-area":"cap"},market:t.market},null,8,["market"]),m(o(wh),{style:{"grid-area":"loans"},market:t.market},null,8,["market"]),m(o(Ph),{style:{"grid-area":"volume"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(o(Xh),{style:{"grid-area":"properties"},market:t.market,chain:t.chain},null,8,["market","chain"]),m(o(Nh),{style:{"grid-area":"addresses"},market:t.market,chain:t.chain},null,8,["market","chain"])])}}}),Jh=I(Yh,[["__scopeId","data-v-945ab763"]]),ev=e=>({timestamp:Ce(e.timestamp),proportion:e.proportion/100}),tv=e=>({timestamp:Ce(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),av=e=>({timestamp:Ce(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),sv=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),ov=e=>({timestamp:Ce(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),nv=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),je="https://prices.curve.fi";class lv extends Le{async getSoftLiqRatios(t,a,s){return(await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/soft_liquidation_ratio`)).data.map(ev)}async getLiqsDetailed(t,a,s){return(await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/history/detailed`)).data.map(tv)}async getLiqsAggregate(t,a,s){return(await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/history/aggregated`)).data.map(av)}async getLiqOverview(t,a,s){const n=await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/overview?fetch_on_chain=true`);return sv(n)}async getLiqLosses(t,a,s){return(await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/losses/history`)).data.map(ov)}async getLiqHealthDeciles(t,a,s){return(await this.fetch(`${je}/v1/${t}/liquidations/${a}/${s}/health/distribution`)).data.map(nv)}}const ct=new lv;function $t(){return{initialData:[],initialDataUpdatedAt:0}}function ut(e,t){return{enabled:y(()=>!!e.value&&(t?!!t.value:!0))}}function Cs(e,t,a){return K({queryKey:["liqs-soft-liqs",a],queryFn:({queryKey:[,s]})=>ct.getSoftLiqRatios(e.value,t.value,s),...ut(a,t),...$t()})}function Ss(e,t,a){return K({queryKey:["liqs-detailed",a],queryFn:({queryKey:[,s]})=>ct.getLiqsDetailed(e.value,t.value,s),...ut(a,t),...$t()})}function As(e,t,a){return K({queryKey:["liqs-aggregate",a],queryFn:({queryKey:[,s]})=>ct.getLiqsAggregate(e.value,t.value,s),...ut(a,t),...$t()})}function Ls(e,t,a){return K({queryKey:["liqs-overview",a],queryFn:({queryKey:[,s]})=>ct.getLiqOverview(e.value,t.value,s),...ut(a,t)})}function Ts(e,t,a){return K({queryKey:["liqs-losses",a],queryFn:({queryKey:[,s]})=>ct.getLiqLosses(e.value,t.value,s),...ut(a,t),...$t()})}function Is(e,t,a){return K({queryKey:["liqs-health-deciles",a],queryFn:({queryKey:[,s]})=>ct.getLiqHealthDeciles(e.value,t.value,s),...ut(a,t),...$t()})}const rv={class:"actions"},iv={class:"chart-types"},cv=T({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const t=q("count"),a=s=>{t.value!==s&&(t.value=s)};return(s,n)=>{const i=kt,l=R;return _(),S(l,{class:"chart-container",title:"Self & Hard Liquidations"},{actions:b(()=>[c("div",rv,[c("div",iv,[m(i,{value:"Count","model-value":o(t)==="count",onClick:n[0]||(n[0]=r=>a("count"))},null,8,["model-value"]),m(i,{value:"Value","model-value":o(t)==="value",onClick:n[1]||(n[1]=r=>a("value"))},null,8,["model-value"])])])]),default:b(()=>[o(t)==="count"?(_(),S(o(dv),{key:0,liqs:s.liqs},null,8,["liqs"])):(_(),S(o(mv),{key:1,liqs:s.liqs},null,8,["liqs"]))]),_:1})}}}),Vs=I(cv,[["__scopeId","data-v-55fa1b9b"]]),uv=T({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=W(z()),a=y(()=>Pe(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.liqs.orderBy(d=>d.timestamp,"asc").groupBy(d=>d.timestamp).entries().map(([d])=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((d,p)=>p%8===0?d:"")),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.hardCount}))}]),i=y(()=>Math.max(...e.liqs.groupBy(d=>d.timestamp).entries().map(([,d])=>d.reduce((p,u)=>p+u.selfCount+u.hardCount,0)))*1.1),l=d=>d,r=d=>`${j(d,1,"dollar")}${Q(d,"dollar")}`;return(d,p)=>{const u=zt;return _(),S(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),dv=I(uv,[["__scopeId","data-v-90b199b1"]]),pv=T({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=W(z()),a=y(()=>Pe(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:s.value,labels:{formatter:l,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:i.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),s=y(()=>e.liqs.orderBy(d=>d.timestamp,"asc").groupBy(d=>d.timestamp).entries().map(([d])=>new Date(parseInt(d,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((d,p)=>p%8===0?d:"")),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(d=>({x:new Date(d.timestamp*1e3).toLocaleDateString(),y:d.hardValue}))}]),i=y(()=>Math.max(...e.liqs.groupBy(d=>d.timestamp).entries().map(([,d])=>d.reduce((p,u)=>p+u.selfValue+u.hardValue,0)))*1.1),l=d=>d,r=d=>`${j(d,1,"dollar")}${Q(d,"dollar")}`;return(d,p)=>{const u=zt;return _(),S(u,{class:"chart",options:o(a),series:o(n)},null,8,["options","series"])}}}),mv=I(pv,[["__scopeId","data-v-11507ff4"]]),hv=T({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${j(l,0,"percentage")}${Q(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(i);function i(){if(!a.value||!n.losses)return;const l=e.losses.map(r=>({time:r.timestamp,value:r.pctLossMedian})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.losses.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=R;return _(),S(d,{class:"chart-container",title:"Median Loss % Among Loans with Losses"},{default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),qs=I(hv,[["__scopeId","data-v-a3d777f5"]]),vv=T({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${j(l,0,"percentage")}${Q(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(i);function i(){if(!a.value||!n.losses)return;const l=e.losses.map(r=>({time:r.timestamp,value:r.numTotalUsers>0?100*r.numUsersWithLosses/r.numTotalUsers:0})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.losses.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=R;return _(),S(d,{class:"chart-container",title:"Proportion of Loans with Losses"},{default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Ps=I(vv,[["__scopeId","data-v-64aa176d"]]),_v=T({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=W(z()),a=y(()=>Pe(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{formatter:i,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:l}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:r=>{const d=r.series[0][r.dataPointIndex],p=r.series[1][r.dataPointIndex],u=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${l(p)}</div>`,`<div><b>Debt</b>: ${l(d)}</div>`,`<div><b>Stablecoin</b>: ${l(u)}</div>`].join("")}}})),s=y(()=>e.deciles.map(r=>r.decile)),n=y(()=>[{name:"Debt",data:Object.values(e.deciles).map(r=>r.debt)},{name:"Collateral",data:Object.values(e.deciles).map(r=>r.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(r=>r.stablecoin)}]),i=r=>r,l=r=>`$${j(r,0,"dollar")}${Q(r,"dollar")}`;return(r,d)=>{const p=lt;return _(),S(p,{class:"chart",title:"Debt & Assets per Health Deciles",options:o(a),series:o(n)},null,8,["options","series"])}}}),Fs=I(_v,[["__scopeId","data-v-7e53d83b"]]),fv={class:"actions"},gv=T({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{theme:t}=W(z()),{items:a}=Ie(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:t.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:t.value.colorsArray[1]}]),{chart:s,chartRef:n,series:i}=se({recreateChartTrigger:t,createChartOptions:r=>ae(r,t.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"price",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`$${j(r,2,"dollar")}${Q(r,"dollar")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"ratio",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${j(r,0,"percentage")}${Q(r,"percentage")}`},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});te(l);function l(){if(!s.value||!i.price||!i.ratio)return;const r=e.ratios.map(u=>({time:u.timestamp,value:u.proportion})).uniqWith((u,h)=>u.time===h.time).orderBy(u=>u.time,"asc"),d=r.length>0?r[0].time:0,p=e.pricesOracle.filter(u=>u.timestamp>=d).map(u=>({time:u.timestamp,value:u.priceOracle})).uniqWith((u,h)=>u.time===h.time).orderBy(u=>u.time,"asc");p.length>0&&i.price.setData(p),r.length>0&&i.ratio.setData(r),s.value.timeScale().fitContent()}return(r,d)=>{const p=Te,u=R;return _(),S(u,{class:"chart-container",title:"Soft Liquidations Ratio"},{actions:b(()=>[c("div",fv,[m(p,{items:o(a)},null,8,["items"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1})}}}),Bs=I(gv,[["__scopeId","data-v-e2b66e3b"]]),bv={class:"actions"},yv=T({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{theme:t}=W(z()),{items:a}=Ie(()=>[{id:"revenue",label:"Liquidator Revenue",color:t.value.colorsArray[0]},{id:"discount",label:"Discount",color:t.value.colorsArray[1]}]),{chart:s,chartRef:n,series:i}=se({recreateChartTrigger:t,createChartOptions:r=>ae(r,t.value,{leftPriceScale:{visible:!0}}),series:[{type:"Area",name:"revenue",options:y(()=>({priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"discount",options:y(()=>({priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});te(l);function l(){if(!s.value||!i.discount||!i.revenue)return;const r=e.liqs.map(u=>({time:u.timestamp,value:u.debt})).uniqWith((u,h)=>u.time===h.time).orderBy(u=>u.time,"asc").reduce((u,h)=>{const f=u.length>0?u[u.length-1].value:0;return u.push({time:h.time,value:h.value+f}),u},[]),d=r.length>0?r[0].time:0,p=e.discounts.filter(u=>u.timestamp>=d).map(u=>({time:u.timestamp,value:u.discount*100})).uniqWith((u,h)=>u.time===h.time).orderBy(u=>u.time,"asc");r.length>0&&i.revenue.setData(r),p.length>0&&i.discount.setData(p),s.value.timeScale().fitContent()}return(r,d)=>{const p=Te,u=R;return _(),S(u,{class:"chart-container",title:"Liquidator Revenue"},{actions:b(()=>[c("div",bv,[m(p,{items:o(a)},null,8,["items"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1})}}}),Ds=I(yv,[["__scopeId","data-v-6e4e397d"]]),wv={key:0,class:"end"},kv={key:1,class:"end"},$v={key:2},Cv=T({__name:"TableLiqOverview",props:{overview:{}},setup(e){const t=y(()=>{if(!e.overview)return[];const s=e.overview.liqableDebtUsd,n=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,i=s-n;return i<=0?[]:[{description:"Bad debt",value:i,type:"bad-debt"}]}),a=y(()=>{var s,n,i,l,r,d,p;return[{description:"Users in soft liquidation",value:((s=e.overview)==null?void 0:s.softLiqUsers)??0,type:"number"},{description:"Median health",value:((n=e.overview)==null?void 0:n.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((i=e.overview)==null?void 0:i.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((l=e.overview)==null?void 0:l.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=e.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((d=e.overview)==null?void 0:d.liqableCollatUsd)??0,((p=e.overview)==null?void 0:p.liqableBorrowedUsd)??0],type:"collateral"},...t.value]});return(s,n)=>{const i=J,l=oe,r=R;return _(),S(r,{title:"General Health Metrics"},{default:b(()=>[m(l,{class:"liq-overview-table",rows:o(a)},{row:b(({item:{description:d,value:p,type:u}})=>[c("div",null,V(d),1),u==="collateral"?(_(),C("div",wv,[m(i,{value:p[0],"show-zero":!0,type:"dollar"},null,8,["value"]),E(" / "),m(i,{value:p[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(_(),C("div",kv,[u==="bad-debt"?(_(),S(i,{key:0,class:"red",value:p,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):u!=="number"?(_(),S(i,{key:1,value:p,"show-zero":!0,type:u},null,8,["value","type"])):(_(),C("span",$v,V(p),1))]))]),_:1},8,["rows"])]),_:1})}}}),Ms=I(Cv,[["__scopeId","data-v-ef463f79"]]),Sv={class:"address"},Av=["href"],Lv={class:"end"},Tv={class:"end"},Iv=T({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const t=y(()=>e.liqs.groupBy(a=>a.liquidator).entries().map(([a,s])=>({liquidator:a,count:s.length,value:s.reduce((n,i)=>n+i.collateralReceivedUsd,0)})).orderBy(a=>a.value,"desc").take(5));return(a,s)=>{const n=J,i=oe,l=R;return _(),S(l,{title:"Top Liquidators"},{default:b(()=>[m(i,{class:"liquidators-table",rows:o(t),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:b(r=>[c("div",Sv,[c("a",{href:`https://etherscan.io/address/${r.item.liquidator}`,target:"_blank"},V(o($e)(r.item.liquidator,8)),9,Av)]),c("div",Lv,[m(n,{value:r.item.count,precision:0,"show-zero":!0},null,8,["value"])]),c("div",Tv,[m(n,{value:r.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1})}}}),Rs=I(Iv,[["__scopeId","data-v-e5a62507"]]),Vv=T({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Area",name:"ratios",options:y(()=>({priceFormat:{type:"custom",formatter:l=>`${j(l,0,"percentage")}${Q(l,"percentage")}`,minMove:.1},lineWidth:2,lineType:ie.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});te(i);function i(){if(!a.value||!n.ratios)return;const l=e.ratios.map(r=>({time:r.timestamp,value:r.ratio*100})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.ratios.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=R;return _(),S(d,{class:"chart-container",title:"Collateral Ratio"},{default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Us=I(Vv,[["__scopeId","data-v-542ef5aa"]]),qv=e=>(N("data-v-780de7cc"),e=e(),H(),e),Pv={class:"actions"},Fv=qv(()=>c("span",null,[E(" This chart shows the difference between the value of the collateral and the debt."),c("br"),c("br"),E(" Positive values indicate net equity (collateral exceeds debt),"),c("br"),E(" while negative values indicate a deficit (debt exceeds collateral, also known as bad debt). ")],-1)),Bv=T({__name:"ChartEquity",props:{equity:{}},setup(e){const{theme:t}=W(z()),{chart:a,chartRef:s,series:n}=se({recreateChartTrigger:t,createChartOptions:l=>ae(l,t.value),series:{type:"Baseline",name:"equity",options:y(()=>{const{colors:l}=t.value;return{priceFormat:{type:"custom",formatter:r=>`$${j(r,0,"dollar")}${Q(r,"dollar")}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:l.green,bottomLineColor:l.red,lastValueVisible:!1,priceLineVisible:!1}})}});te(i);function i(){if(!a.value||!n.equity)return;const l=e.equity.map(r=>({time:r.timestamp,value:r.equity})).uniqWith((r,d)=>r.time===d.time).orderBy(r=>r.time,"asc");l.length>0&&n.equity.setData(l),a.value.timeScale().fitContent()}return(l,r)=>{const d=ya,p=R;return _(),S(p,{class:"chart-container",title:"Equity"},{actions:b(()=>[c("div",Pv,[m(d,null,{default:b(()=>[Fv]),_:1})])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:s,class:"chart"},null,512)]),_:1})}}}),Dv=I(Bv,[["__scopeId","data-v-780de7cc"]]),Mv={class:"liquidations"},Rv=T({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var L;return(L=e.market)==null?void 0:L.address}),{isFetching:a,data:s}=Ls(q("crvusd"),O(()=>e.chain),t),{isFetching:n,data:i}=Nt(O(()=>e.market)),l=y(()=>i.value.map(({timestamp:L,priceOracle:F})=>({timestamp:L,priceOracle:F}))),r=y(()=>i.value.map(({timestamp:L,discountLiquidation:F})=>({timestamp:L,discount:F}))),d=y(()=>i.value.map(({timestamp:L,totalCollateralUsd:F,totalDebt:P})=>({timestamp:L,ratio:F/P}))),{isFetching:p,data:u}=Cs(q("crvusd"),O(()=>e.chain),t),{isFetching:h,data:f}=As(q("crvusd"),O(()=>e.chain),t),{isFetching:w,data:v}=Ss(q("crvusd"),O(()=>e.chain),t),{isFetching:g,data:k}=Is(q("crvusd"),O(()=>e.chain),t),{isFetching:$,data:A}=Ts(q("crvusd"),O(()=>e.chain),t);return(L,F)=>(_(),C("div",Mv,[m(o(Ms),{overview:o(s),loading:o(a)},null,8,["overview","loading"]),m(o(Bs),{ratios:o(u),"prices-oracle":o(l),loading:o(p)||o(n)},null,8,["ratios","prices-oracle","loading"]),m(o(qs),{losses:o(A),loading:o($)},null,8,["losses","loading"]),m(o(Ps),{losses:o(A),loading:o($)},null,8,["losses","loading"]),m(o(Fs),{deciles:o(k),loading:o(g)},null,8,["deciles","loading"]),m(o(Us),{ratios:o(d),loading:o(n)},null,8,["ratios","loading"]),m(o(Vs),{liqs:o(f),loading:o(h)},null,8,["liqs","loading"]),m(o(Rs),{liqs:o(v),loading:o(w)},null,8,["liqs","loading"]),m(o(Ds),{discounts:o(r),liqs:o(v),loading:o(n)||o(w)},null,8,["discounts","liqs","loading"])]))}}),Uv=I(Rv,[["__scopeId","data-v-08e46367"]]),Ev={class:"controls"},Ov=T({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{theme:t}=W(z()),a=q(!1),s=q(!1);let n=1,i=0;const{chart:l,chartRef:r,series:d}=se({recreateChartTrigger:t,createChartOptions:h=>ae(h,t.value,{localization:{priceFormatter:f=>u(f)}}),series:[{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:h}=t.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:h.green,borderUpColor:h.green,wickUpColor:h.green,downColor:h.red,borderDownColor:h.red,wickDownColor:h.red}})},{type:"Line",name:"oracle",options:y(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:ie.WithSteps,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}]});te(p);function p(){if(!l.value||!d.ohlc||!d.oracle)return;const h=a.value?-1:1,f=e.ohlc.map(v=>({time:v.time,open:Math.pow(v.open,h),high:Math.pow(v.high,h),low:Math.pow(v.low,h),close:Math.pow(v.close,h)})).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc");f.length>0&&(d.ohlc.setData(f),i=Math.min(...f.map(v=>v.low)),n=Math.max(...f.map(v=>v.high)));const w=e.ohlc.map(v=>({time:v.time,value:Math.pow(v.oracle_price,h)})).uniqWith((v,g)=>v.time===g.time).orderBy(v=>v.time,"asc");w.length>0&&d.oracle.setData(w),d.oracle.applyOptions({visible:s.value}),l.value.timeScale().fitContent()}const u=h=>{const f=n-i,w=f>1?f-Math.floor(f):f,v=-Math.floor(Math.log10(w)+1)+2;return`${j(h,v,"dollar")}${Q(h,"dollar")}`};return(h,f)=>{const w=kt,v=R;return _(),S(v,{class:"chart-container",title:"Price"},{actions:b(()=>[c("div",Ev,[m(w,{value:"Oracle Price","model-value":o(s),onClick:f[0]||(f[0]=g=>s.value=!o(s))},null,8,["model-value"]),m(w,{value:"Invert","model-value":o(a),onClick:f[1]||(f[1]=g=>a.value=!o(a))},null,8,["model-value"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1})}}}),Es=I(Ov,[["__scopeId","data-v-5595004d"]]),Wv=e=>(N("data-v-b563290d"),e=e(),H(),e),Kv={class:"end"},xv=Wv(()=>c("div",null,null,-1)),Nv=["href"],Hv={class:"end"},zv=["href"],Qv=T({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:s,onPage:n}=Sa(),i=Dt(s,200);X(i,u=>{a("page",u)});const{relativeTime:l}=De(),r=u=>u<1?u.toFixed(4):u>1e3?u.toFixed(0):u.toFixed(2),d=u=>{var h,f;return r(((h=u.deposit)==null?void 0:h.amount)??((f=u.withdrawal)==null?void 0:f.amount_collateral)??0)},p=u=>u.deposit?"Deposit":u.withdrawal?"Withdrawal":"Unknown";return(u,h)=>{const f=Fe,w=oe,v=R;return _(),S(v,{title:"Events"},{actions:b(()=>[m(f,{"items-count":u.count,"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(w,{class:"events-table",rows:u.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:b(({item:g})=>[c("div",null,V(p(g)),1),c("div",Kv,V(d(g)),1),xv,c("div",null,[c("a",{href:`https://etherscan.io/address/${g.provider}`,target:"_blank",onClick:h[0]||(h[0]=ve(()=>{},["stop"]))},V(o($e)(g.provider)),9,Nv)]),c("div",Hv,[c("a",{href:`https://etherscan.io/tx/${g.transaction_hash}`,target:"_blank",onClick:h[1]||(h[1]=ve(()=>{},["stop"]))},V(o(l)(g.timestamp)),9,zv)])]),_:1},8,["rows"])]),_:1})}}}),Os=I(Qv,[["__scopeId","data-v-b563290d"]]),jv={class:"end"},Gv=["href"],Xv={class:"end"},Zv=["href"],Yv=["href"],Jv={class:"end"},e_=["href"],t_=T({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const a=t,{page:s,onPage:n}=Sa(),i=Dt(s,200);X(i,d=>{a("page",d)});const{relativeTime:l}=De(),r=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2);return(d,p)=>{const u=Fe,h=ge,f=oe,w=R;return _(),S(w,{title:"Trades"},{actions:b(()=>[m(u,{"items-count":d.count,"items-per-page":10,page:o(s),onPage:o(n)},null,8,["items-count","page","onPage"])]),default:b(()=>[m(f,{class:"trades-table",rows:d.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:b(({item:v})=>[c("div",jv,V(r(v.amount_bought)),1),m(h,{chain:d.chain,address:v.token_bought.address},null,8,["chain","address"]),c("div",null,[c("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.token_bought.address}`},V(v.token_bought.symbol),9,Gv)]),c("div",Xv,V(r(v.amount_sold)),1),m(h,{chain:d.chain,address:v.token_sold.address},null,8,["chain","address"]),c("div",null,[c("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${v.token_sold.address}`},V(v.token_sold.symbol),9,Zv)]),c("div",null,[c("a",{href:`https://etherscan.io/address/${v.buyer}`,target:"_blank",onClick:p[0]||(p[0]=ve(()=>{},["stop"]))},V(o($e)(v.buyer)),9,Yv)]),c("div",Jv,[c("a",{href:`https://etherscan.io/tx/${v.transaction_hash}`,target:"_blank",onClick:p[1]||(p[1]=ve(()=>{},["stop"]))},V(o(l)(v.timestamp)),9,e_)])]),_:1},8,["rows"])]),_:1})}}}),Ws=I(t_,[["__scopeId","data-v-f1af0563"]]),a_={class:"trading"},s_=T({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var u;return(u=e.market)==null?void 0:u.llamma}),{isFetching:a,data:s}=Ia(q("crvusd"),t,O(()=>e.chain)),n=q(1),{isFetching:i,data:l}=$s(q("crvusd"),t,O(()=>e.chain),n),r=q(1),{isFetching:d,data:p}=ks(q("crvusd"),t,O(()=>e.chain),r);return(u,h)=>{var f,w,v,g;return _(),C("div",a_,[m(o(Es),{style:{"grid-area":"ohlc"},ohlc:o(s)??[],loading:o(a)},null,8,["ohlc","loading"]),m(o(Ws),{style:{"grid-area":"trades"},trades:((f=o(l))==null?void 0:f.trades)??[],count:((w=o(l))==null?void 0:w.count)??0,chain:u.chain,loading:o(i),onPage:h[0]||(h[0]=k=>n.value=k)},null,8,["trades","count","chain","loading"]),m(o(Os),{style:{"grid-area":"events"},events:((v=o(p))==null?void 0:v.events)??[],count:((g=o(p))==null?void 0:g.count)??0,loading:o(d),onPage:h[1]||(h[1]=k=>r.value=k)},null,8,["events","count","loading"])])}}}),o_=I(s_,[["__scopeId","data-v-fb72a747"]]),n_={class:"market-overview"},l_=T({__name:"Market.page",setup(e){const{show:t,crumbs:a}=W(qe()),s=ke("marketAddr"),{isFetching:n,data:i}=$a(),l=y(()=>i.value.find(p=>p.address===s.value));X(l,p=>{a.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(p==null?void 0:p.name)??"?"}`}]},{immediate:!0}),_e(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:d}=rt(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:s.value}));return(p,u)=>{const h=st,f=Re,w=Me;return _(),C("div",n_,[m(h,{class:M(["spinner",{loading:o(n)}])},null,8,["class"]),!o(n)&&o(l)?(_(),S(w,{key:0,active:o(d),onTab:u[0]||(u[0]=v=>d.value=v.index)},{default:b(()=>[m(f,{header:"Overview"},{default:b(()=>[(_(),S(ce,null,[o(r)==="overview"?(_(),S(Jh,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),m(f,{header:"Trading"},{default:b(()=>[(_(),S(ce,null,[o(r)==="trading"?(_(),S(o_,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1}),m(f,{header:"Liquidations"},{default:b(()=>[(_(),S(ce,null,[o(r)==="liquidations"?(_(),S(Uv,{key:0,market:o(l),chain:"ethereum"},null,8,["market"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),r_=I(l_,[["__scopeId","data-v-9ba821e5"]]);function Je(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const i_=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),c_=e=>{const t=parseFloat(e.rate),a=parseFloat(e.borrow_apy)/100,s=parseFloat(e.lend_apy)/100,n=e.n_loans,i=parseFloat(e.price_oracle),l=parseFloat(e.amm_price),r=parseFloat(e.total_debt),d=parseFloat(e.total_debt_usd),p=parseFloat(e.total_assets),u=parseFloat(e.total_assets_usd),h=parseFloat(e.minted),f=parseFloat(e.redeemed),w=parseFloat(e.collateral_balance),v=parseFloat(e.collateral_balance_usd),g=parseFloat(e.borrowed_balance),k=parseFloat(e.borrowed_balance_usd),$=Ce(e.timestamp),A=e.liquidation_discount,L=e.loan_discount;return{rate:t,borrowApy:a,lendApy:s,numLoans:n,priceOracle:i,ammPrice:l,totalDebt:r,totalDebtUsd:d,totalAssets:p,totalAssetsUsd:u,minted:h,redeemed:f,collateralBalance:w,collateralBalanceUsd:v,borrowedBalance:g,borrowedBalanceUsd:k,timestamp:$,discountLiquidation:A,discountLoan:L}},la="https://prices.curve.fi";class u_ extends Le{async getChains(){return this.fetch(`${la}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${la}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(i_)}async getSnapshots(t,a){return(await this.fetch(`${la}/v1/lending/markets/${t}/${a}/snapshots?fetch_on_chain=true&agg=day`)).data.map(c_)}}const Va=new u_;function d_(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function p_(){return{initialData:[],initialDataUpdatedAt:0}}function m_(){return K({queryKey:["llama-markets-chains"],queryFn:()=>Va.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Ks(e){return K({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>Va.getMarkets(t)})}function dt(e,t){return K({queryKey:["llama-market-snapshots",d_(e)],queryFn:({queryKey:[,a]})=>Va.getSnapshots(t.value,a),...p_(),enabled:y(()=>!!e.value&&!!t.value)})}const Ct=e=>(N("data-v-06735a04"),e=e(),H(),e),h_={class:"end"},v_={class:"end"},__={class:"end"},f_={class:"end"},g_=Ct(()=>c("div",null,null,-1)),b_=Ct(()=>c("div",null,null,-1)),y_=Ct(()=>c("div",null,null,-1)),w_=Ct(()=>c("div",null,null,-1)),k_=Ct(()=>c("div",null,null,-1)),$_={class:"end"},C_={class:"end"},S_=T({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const a=t,s=y(()=>e.type==="long"?"Markets - Long":"Markets - Short"),n=y(()=>e.pairs.map(r=>({count:(r.long?1:0)+(r.short?1:0),...r})).orderBy([r=>r.count,({long:r,short:d})=>Je(r)+Je(d)],["desc","desc"]).map(({long:r,short:d})=>e.type==="long"?r:d));function i(r){return r.name.replace(/(-long|-short)/i,"")}const l=r=>e.type==="long"?r.collateral_token.address:r.borrowed_token.address;return(r,d)=>{const p=ge,u=J,h=oe,f=R;return _(),S(f,{title:o(s),loading:r.loading},{default:b(()=>[m(h,{class:"markets-table","expand-side":"left",rows:o(n),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:d[0]||(d[0]=w=>a("selected",w))},{row:b(({item:w})=>[w?(_(),C(ee,{key:0},[m(p,{chain:r.chain,address:l(w)},null,8,["chain","address"]),c("div",null,V(i(w)),1),c("div",h_,[w.borrow_apy?(_(),S(u,{key:0,value:w.borrow_apy,type:"percentage"},null,8,["value"])):B("",!0)]),c("div",v_,[w.lend_apy?(_(),S(u,{key:0,value:w.lend_apy,type:"percentage"},null,8,["value"])):B("",!0)]),c("div",__,[o(Je)(w)?(_(),S(u,{key:0,value:o(Je)(w),type:"dollar"},null,8,["value"])):B("",!0)]),c("div",f_,V(w.n_loans),1)],64)):B("",!0)]),"row-aggregation":b(()=>[g_,b_,y_,w_,k_,c("div",$_,[m(u,{value:o(n).filter(w=>w).map(w=>w).reduce((w,v)=>w+o(Je)(v),0),type:"dollar"},null,8,["value"])]),c("div",C_,V(o(n).filter(w=>w).map(w=>w).reduce((w,v)=>w+v.n_loans,0)),1)]),"row-details":b(()=>[E("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}}),Na=I(S_,[["__scopeId","data-v-06735a04"]]),A_={class:"llamalend"},L_={class:"toolbar"},T_={class:"markets"},I_={class:"kpis"},V_={class:"markets"},q_={class:"kpis"},P_=T({__name:"LlamaLend.page",setup(e){const t=ke("chain"),a=y({get(){return t.value?t.value:"ethereum"},set(g){t.value=g}}),s=q(""),n=y(()=>i.value.filter(({long:g,short:k})=>{const $=s.value.toLocaleLowerCase().split(" ");return(L=>$.some(F=>L.toLocaleLowerCase().includes(F)))(`${(g==null?void 0:g.name)??""}${(k==null?void 0:k.name)??""}`)})),i=y(()=>{const g=["crvusd"],k=(r.value??[]).map(L=>({market:L,isLong:g.includes(L.borrowed_token.symbol.toLocaleLowerCase()),isShort:g.includes(L.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:L,isShort:F})=>L||F),$=[],A=new Set;for(const{market:L,isLong:F,isShort:P}of k){if(A.has(L.controller))continue;A.add(L.controller);const U=k.find(x=>x.market.borrowed_token.address===L.collateral_token.address&&x.market.collateral_token.address===L.borrowed_token.address);U&&A.add(U.market.controller),$.push({long:F?L:U==null?void 0:U.market,short:P?L:U==null?void 0:U.market})}return $}),{isFetching:l,data:r}=Ks(a),{data:d}=m_(),{show:p,crumbs:u}=W(qe());_e(()=>{p.value=!0,u.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:a.value})},{id:"market",label:"Select market for details",hint:!0}]});const h=tt(),f=async g=>{g&&await h.push({name:"llamalendmarket",params:{tab:"",chain:a.value,marketAddr:g.controller}})},w=g=>n.value.map(k=>g==="long"?k.long:k.short).filter(k=>!!k).reduce((k,$)=>k+$.total_debt_usd,0),v=g=>{const k=n.value.map($=>g==="long"?$.long:$.short).filter($=>!!$).reduce(({debt:$,assets:A},L)=>({debt:$+L.total_debt_usd,assets:A+L.total_assets_usd}),{debt:0,assets:0});return k.assets===0?0:k.debt/k.assets*100};return(g,k)=>{const $=Se,A=J,L=me;return _(),C("div",A_,[(_(),S(Rt,{to:"#toolbar"},[c("div",L_,[m($,{modelValue:o(s),"onUpdate:modelValue":k[0]||(k[0]=F=>Y(s)?s.value=F:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(Ht,{class:"chain-select",chain:o(a),chains:o(d),onSelectChain:k[1]||(k[1]=F=>a.value=F==="all"?"ethereum":F)},null,8,["chain","chains"])])])),c("div",T_,[c("div",I_,[m(L,{label:"Open Interest","has-value":!o(l)},{default:b(()=>[m(A,{value:w("long"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(L,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!o(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:b(()=>[m(A,{value:v("long"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(o(Na),{style:{"grid-column":"1"},type:"long",pairs:o(n),loading:o(l),chain:o(a),onSelected:f},null,8,["pairs","loading","chain"])]),c("div",V_,[c("div",q_,[m(L,{label:"Open Interest","has-value":!o(l)},{default:b(()=>[m(A,{value:w("short"),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(L,{"tooltip-type":"icon",label:"Average Utilization Rate","has-value":!o(l),tooltip:"Aggregate debt divided by aggregate assets"},{default:b(()=>[m(A,{value:v("short"),type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])]),m(o(Na),{style:{"grid-column":"2"},type:"short",pairs:o(n),loading:o(l),chain:o(a),onSelected:f},null,8,["pairs","loading","chain"])])])}}}),F_=I(P_,[["__scopeId","data-v-26901192"]]),B_={class:"actions"},D_=T({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{theme:t,themeId:a}=W(z()),{items:s,toggles:n,disabled:i}=Ie(()=>{const{blue:v,yellow:g,purple:k}=t.value.colors;return[{id:"supply",label:"Supply",color:v},{id:"debt",label:"Debt",color:g},{id:"util",label:"Util %",color:k,togglable:!0}]}),{isFetching:l,data:r}=dt(O(()=>e.market),O(()=>e.chain)),d=q(!1),p=q(void 0),{chart:u,chartRef:h,series:f}=se({recreateChartTrigger:y(()=>`${a.value}-${n.util.value}`),createChartOptions:v=>ae(v,t.value,{leftPriceScale:{visible:n.util.value}}),series:[{type:"Line",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:v=>`$${j(v,0,"dollar")}${Q(v,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:v=>`$${j(v,0,"dollar")}${Q(v,"dollar")}`,minMove:.01},lineWidth:2,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:y(()=>({priceFormat:{type:"custom",formatter:v=>`${Math.round(v*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:t.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});te(w);function w(){var $,A,L,F;if(!u.value||!f.supply||!f.debt||!f.util)return;const v=r.value.map(P=>({time:P.timestamp,value:P.totalAssetsUsd})).uniqWith((P,U)=>P.time===U.time).orderBy(P=>P.time,"asc"),g=r.value.map(P=>({time:P.timestamp,value:P.totalDebtUsd})).uniqWith((P,U)=>P.time===U.time).orderBy(P=>P.time,"asc"),k=(n.util.value?v:[]).zip(g).map(([P,U])=>({time:U.time,value:P.value>0?U.value/P.value:0})).uniqWith((P,U)=>P.time===U.time).orderBy(P=>P.time,"asc");if(f.supply.setData(v),f.debt.setData(g),f.util.setData(k),f.util.applyOptions({visible:n.util.value}),v.length>0||g.length>0){const P=Math.min((($=v.at(0))==null?void 0:$.time)??1/0,((A=g.at(0))==null?void 0:A.time)??1/0),U=Math.max(((L=v.at(-1))==null?void 0:L.time)??-1/0,((F=g.at(-1))==null?void 0:F.time)??-1/0);u.value.timeScale().setVisibleRange({from:P,to:U})}}return(v,g)=>{const k=Te,$=R;return _(),S($,{ref_key:"chartCard",ref:p,class:"chart-card",title:"Supply & Debt",loading:o(l)},{actions:b(()=>{var A;return[c("div",B_,[m(k,{items:o(s),disabled:o(i),onToggle:g[0]||(g[0]=L=>o(n)[L].value=!o(n)[L].value)},null,8,["items","disabled"]),m(o(nt),{modelValue:o(d),"onUpdate:modelValue":g[1]||(g[1]=L=>Y(d)?d.value=L:null),chart:o(u),target:(A=o(p))==null?void 0:A.$el},null,8,["modelValue","chart","target"])])]}),default:b(()=>[c("div",{ref_key:"chartRef",ref:h,class:"chart"},null,512)]),_:1},8,["loading"])}}}),M_=I(D_,[["__scopeId","data-v-06df5b01"]]),R_={class:"actions"},U_=T({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=dt(O(()=>e.market),O(()=>e.chain)),{theme:s}=W(z()),n=y(()=>e.market?e.market.collateral_token.symbol:"?"),i=y(()=>e.market?e.market.borrowed_token.symbol:"?"),{items:l}=Ie(()=>[{id:n.value,label:n.value,color:s.value.colors.blue},{id:i.value,label:i.value,color:s.value.colors.yellow}]),r=q(!0),{chart:d,chartRef:p,series:u}=se({recreateChartTrigger:s,createChartOptions:w=>ae(w,s.value),series:[{type:"Line",name:"collateral",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});te(h);function h(){var k,$,A,L;if(!d.value||!u.collateral||!u.borrowed)return;const w=r.value,v=a.value.map(F=>({time:F.timestamp,value:w?F.collateralBalanceUsd:F.collateralBalance})).uniqWith((F,P)=>F.time===P.time).orderBy(F=>F.time,"asc"),g=a.value.map(F=>({time:F.timestamp,value:w?F.borrowedBalanceUsd:F.borrowedBalance})).uniqWith((F,P)=>F.time===P.time).orderBy(F=>F.time,"asc");if(v.length>0&&u.collateral.setData(v),g.length>0&&u.borrowed.setData(g),v.length>0||g.length>0){const F=Math.min(((k=v.at(0))==null?void 0:k.time)??1/0,(($=g.at(0))==null?void 0:$.time)??1/0),P=Math.max(((A=v.at(-1))==null?void 0:A.time)??-1/0,((L=g.at(-1))==null?void 0:L.time)??-1/0);d.value.timeScale().setVisibleRange({from:F,to:P})}}function f(w){return`${r.value?"$":""}${j(w,0,"dollar")}${Q(w,"dollar")}`}return(w,v)=>{const g=Te,k=kt,$=R;return _(),S($,{class:"chart-container",title:"Collateral",loading:o(t)},{actions:b(()=>[c("div",R_,[m(g,{items:o(l)},null,8,["items"]),m(k,{value:"Dollars","model-value":o(r),onClick:v[0]||(v[0]=A=>r.value=!o(r))},null,8,["model-value"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["loading"])}}}),E_=I(U_,[["__scopeId","data-v-af52026f"]]),O_=T({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=dt(O(()=>e.market),O(()=>e.chain)),{theme:s}=W(z()),{chart:n,chartRef:i,series:l}=se({recreateChartTrigger:s,createChartOptions:d=>ae(d,s.value,{localization:{priceFormatter:p=>Math.round(p).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:s.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});te(r);function r(){if(!n.value||!l.loans)return;const d=a.value.map(p=>({time:p.timestamp,value:p.numLoans})).uniqWith((p,u)=>p.time===u.time).orderBy(p=>p.time,"asc");if(d.length>0){l.loans.setData(d);const p=d[0].time,u=d[d.length-1].time;n.value.timeScale().setVisibleRange({from:p,to:u})}}return(d,p)=>{const u=R;return _(),S(u,{class:"chart-container",title:"Loans",loading:o(t)},{default:b(()=>[c("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["loading"])}}}),W_=I(O_,[["__scopeId","data-v-ca308a0a"]]),K_={class:"actions"},x_=T({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{theme:t}=W(z()),{items:a}=Ie(()=>[{id:"borrow",label:"Borrow APY",color:t.value.colors.red},{id:"lend",label:"Lend APY",color:t.value.colors.green}]),{isFetching:s,data:n}=dt(O(()=>e.market),O(()=>e.chain)),{chart:i,chartRef:l,series:r}=se({recreateChartTrigger:t,createChartOptions:u=>ae(u,t.value,{localization:{priceFormatter:h=>p(h)}}),series:[{type:"Line",name:"borrowApy",options:y(()=>({priceFormat:{type:"custom",formatter:p},lineWidth:2,color:t.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:y(()=>({priceFormat:{type:"custom",formatter:p},lineWidth:2,color:t.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});te(d);function d(){var f,w,v,g;if(!i.value||!r.borrowApy||!r.lendApy)return;const u=n.value.map(k=>({time:k.timestamp,value:k.borrowApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc"),h=n.value.map(k=>({time:k.timestamp,value:k.lendApy})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc");if(u.length>0&&r.borrowApy.setData(u),h.length>0&&r.lendApy.setData(h),u.length>0||h.length>0){const k=Math.min(((f=u.at(0))==null?void 0:f.time)??1/0,((w=h.at(0))==null?void 0:w.time)??1/0),$=Math.max(((v=u.at(-1))==null?void 0:v.time)??-1/0,((g=h.at(-1))==null?void 0:g.time)??-1/0);i.value.timeScale().setVisibleRange({from:k,to:$})}}function p(u){return`${j(u*100,0,"percentage")}${Q(u,"percentage")}`}return(u,h)=>{const f=Te,w=R;return _(),S(w,{class:"chart-container",title:"Rates",loading:o(s)},{actions:b(()=>[c("div",K_,[m(f,{items:o(a)},null,8,["items"])])]),default:b(()=>[c("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["loading"])}}}),N_=I(x_,[["__scopeId","data-v-60a8a6c6"]]),H_=["href"],z_={key:1},Q_=T({__name:"Addresses",props:{market:{}},setup(e){const t=y(()=>{var n,i,l,r,d;return[{description:"Controller",address:(n=e.market)==null?void 0:n.controller},{description:"Vault",address:(i=e.market)==null?void 0:i.vault},{description:"Llamma",address:(l=e.market)==null?void 0:l.llamma},{description:"Policy",address:(r=e.market)==null?void 0:r.policy},{description:"Oracle",address:(d=e.market)==null?void 0:d.oracle}]}),a=n=>`https://etherscan.io/address/${n}`,s=async n=>{await navigator.clipboard.writeText(n)};return(n,i)=>{const l=fe,r=oe,d=R;return _(),S(d,{title:"Addresses",class:"addresses"},{default:b(()=>[m(r,{class:"addresses-table",rows:o(t)},{row:b(({item:{description:p,address:u}})=>[c("div",null,V(p),1),c("div",null,[u?(_(),C("a",{key:0,class:"font-mono",href:a(u),target:"_blank"},V(u),9,H_)):(_(),C("span",z_,"?"))]),c("div",null,[m(l,{icon:"fas fa-link",onClick:h=>s(u)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})}}}),j_=I(Q_,[["__scopeId","data-v-4bc733a1"]]),G_={class:"usage"},X_={class:"two-sides"},Z_={class:"collateral"},Y_={class:"two-sides"},J_={class:"two-sides"},ef=T({__name:"KPIUsage",props:{market:{}},setup(e){const t=y(()=>{var n,i;return(((n=e.market)==null?void 0:n.collateral_balance_usd)??0)+(((i=e.market)==null?void 0:i.borrowed_balance_usd)??0)}),a=y(()=>{var r,d;const n="Collateral",i=((r=e.market)==null?void 0:r.collateral_token.symbol)??"?",l=((d=e.market)==null?void 0:d.borrowed_token.symbol)??"?";return`${n} (${i} / ${l})`}),s=y(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(n,i)=>{var d,p;const l=J,r=me;return _(),C("div",G_,[m(r,{style:{"grid-area":"kpi1"},label:o(a),"has-value":!!n.market},{default:b(()=>{var u,h;return[c("div",X_,[c("div",Z_,[m(l,{value:(u=n.market)==null?void 0:u.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),E(" / "),m(l,{value:(h=n.market)==null?void 0:h.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),m(l,{value:o(t),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi2"},label:`Borrowed (${((d=n.market)==null?void 0:d.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:b(()=>{var u,h;return[c("div",Y_,[m(l,{value:(u=n.market)==null?void 0:u.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(h=n.market)==null?void 0:h.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi3"},label:`Supplied (${((p=n.market)==null?void 0:p.borrowed_token.symbol)??"?"})`,"has-value":!!n.market},{default:b(()=>{var u,h;return[c("div",J_,[m(l,{value:(u=n.market)==null?void 0:u.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),m(l,{value:(h=n.market)==null?void 0:h.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),m(r,{style:{"grid-area":"kpi4"},"tooltip-type":"icon",label:"Utilization Rate",tooltip:"Utilization rate is total supplied divided by total borrowed","has-value":!!n.market},{default:b(()=>[m(l,{value:o(s)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["has-value"])])}}}),tf=I(ef,[["__scopeId","data-v-917ee38f"]]),af={key:0},sf={class:"token-info"},of=["href"],nf={key:1},lf=T({__name:"Properties",props:{market:{},chain:{}},setup(e){function t(l){return typeof l=="object"&&l.type==="token"}function a(l,r){return r?l==="collateral"?{type:"token",symbol:r.collateral_token.symbol,address:r.collateral_token.address}:{type:"token",symbol:r.borrowed_token.symbol,address:r.borrowed_token.address}:{type:"token",symbol:"?",address:"?"}}const s=y(()=>[{description:"Collateral",value:a("collateral",e.market)},{description:"Borrowed",value:a("borrowed",e.market)}]),n=l=>`https://etherscan.io/address/${l}`,i=async l=>{await navigator.clipboard.writeText(l)};return(l,r)=>{const d=ge,p=fe,u=oe,h=R;return _(),S(h,{class:"properties",title:"Properties"},{default:b(()=>[m(u,{class:"properties-table",rows:o(s)},{row:b(({item:{description:f,value:w}})=>[c("div",null,V(f),1),t(w)?(_(),C("div",af,[c("div",sf,[m(d,{chain:l.chain,address:w.address},null,8,["chain","address"]),c("div",null,V(w.symbol),1),c("div",null,[c("a",{class:"font-mono",href:n(w.address),target:"_blank"},V(w.address),9,of)]),c("div",null,[m(p,{icon:"fas fa-link",onClick:v=>i(w.address)},null,8,["onClick"])])])])):(_(),C("div",nf,V(w),1))]),_:1},8,["rows"])]),_:1})}}}),rf=I(lf,[["__scopeId","data-v-09259739"]]),cf={class:"market"},uf=T({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{isFetching:t,data:a}=dt(O(()=>e.market),O(()=>e.chain)),s=y(()=>a.value.map(({timestamp:i,collateralBalanceUsd:l,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:i,ratio:d>0?(l+r)/d:0}))),n=y(()=>a.value.map(({timestamp:i,collateralBalanceUsd:l,borrowedBalanceUsd:r,totalDebtUsd:d})=>({timestamp:i,equity:l+r-d})));return(i,l)=>{const r=J,d=me;return _(),C("div",cf,[m(d,{style:{"grid-area":"kpi1"},label:"Borrow APY","has-value":!!i.market},{default:b(()=>{var p;return[m(r,{value:(p=i.market)==null?void 0:p.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi2"},label:"Lend APY","has-value":!!i.market},{default:b(()=>{var p;return[m(r,{value:(p=i.market)==null?void 0:p.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi3"},label:"Loans","has-value":!!i.market},{default:b(()=>{var p;return[E(V(((p=i.market)==null?void 0:p.n_loans)??0),1)]}),_:1},8,["has-value"]),m(d,{style:{"grid-area":"kpi4"},label:"TVL","has-value":!!i.market},{default:b(()=>[m(r,{value:o(Je)(i.market),type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),m(o(M_),{style:{"grid-area":"supply"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(o(E_),{style:{"grid-area":"collateral"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(o(Us),{style:{"grid-area":"colratio"},ratios:o(s),loading:o(t)},null,8,["ratios","loading"]),m(o(Dv),{style:{"grid-area":"equity"},equity:o(n),loading:o(t)},null,8,["equity","loading"]),m(o(N_),{style:{"grid-area":"rates"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(o(W_),{style:{"grid-area":"loans"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(o(j_),{style:{"grid-area":"addresses"},market:i.market},null,8,["market"]),m(o(rf),{style:{"grid-area":"properties"},market:i.market,chain:i.chain},null,8,["market","chain"]),m(o(tf),{style:{"grid-area":"usage"},market:i.market},null,8,["market"])])}}}),df=I(uf,[["__scopeId","data-v-b4052d65"]]),pf={class:"trading"},mf=T({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var u;return(u=e.market)==null?void 0:u.llamma}),{isFetching:a,data:s}=Ia(q("lending"),t,O(()=>e.chain)),n=q(1),{isFetching:i,data:l}=$s(q("lending"),t,O(()=>e.chain),n),r=q(1),{isFetching:d,data:p}=ks(q("lending"),t,O(()=>e.chain),r);return(u,h)=>{var v,g,k,$;const f=J,w=me;return _(),C("div",pf,[m(w,{style:{"grid-area":"oracle"},label:"Oracle Price","has-value":!!u.market},{default:b(()=>{var A;return[m(f,{value:(A=u.market)==null?void 0:A.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(w,{style:{"grid-area":"amm"},label:"AMM Price","has-value":!!u.market},{default:b(()=>{var A;return[m(f,{value:(A=u.market)==null?void 0:A.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["has-value"]),m(o(Es),{style:{"grid-area":"ohlc"},ohlc:o(s)??[],loading:o(a)},null,8,["ohlc","loading"]),m(o(Ws),{style:{"grid-area":"trades"},trades:((v=o(l))==null?void 0:v.trades)??[],count:((g=o(l))==null?void 0:g.count)??0,chain:u.chain,loading:o(i),onPage:h[0]||(h[0]=A=>n.value=A)},null,8,["trades","count","chain","loading"]),m(o(Os),{style:{"grid-area":"events"},events:((k=o(p))==null?void 0:k.events)??[],count:(($=o(p))==null?void 0:$.count)??0,loading:o(d),onPage:h[1]||(h[1]=A=>r.value=A)},null,8,["events","count","loading"])])}}}),hf=I(mf,[["__scopeId","data-v-67a87885"]]),vf={class:"liquidations"},_f=T({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var L;return(L=e.market)==null?void 0:L.controller}),{isFetching:a,data:s}=dt(O(()=>e.market),O(()=>e.chain)),n=y(()=>s.value.map(({timestamp:L,priceOracle:F})=>({timestamp:L,priceOracle:F}))),i=y(()=>s.value.map(({timestamp:L,discountLiquidation:F})=>({timestamp:L,discount:F}))),{isFetching:l,data:r}=As(q("lending"),O(()=>e.chain),t),{isFetching:d,data:p}=Ss(q("lending"),O(()=>e.chain),t),{isFetching:u,data:h}=Cs(q("lending"),O(()=>e.chain),t),f=y(()=>h.value.map(({timestamp:L,proportion:F})=>({timestamp:L,proportion:F*100}))),{isFetching:w,data:v}=Ls(q("lending"),O(()=>e.chain),t),{isFetching:g,data:k}=Ts(q("lending"),O(()=>e.chain),t),{isFetching:$,data:A}=Is(q("lending"),O(()=>e.chain),t);return(L,F)=>(_(),C("div",vf,[m(o(Ms),{overview:o(v),loading:o(w)},null,8,["overview","loading"]),m(o(Bs),{ratios:o(f),"prices-oracle":o(n),loading:o(u)||o(a)},null,8,["ratios","prices-oracle","loading"]),m(o(qs),{losses:o(k),loading:o(g)},null,8,["losses","loading"]),m(o(Ps),{losses:o(k),loading:o(g)},null,8,["losses","loading"]),m(o(Fs),{deciles:o(A),loading:o($)},null,8,["deciles","loading"]),m(o(Vs),{liqs:o(r),loading:o(l)},null,8,["liqs","loading"]),m(o(Rs),{liqs:o(p),loading:o(d)},null,8,["liqs","loading"]),m(o(Ds),{discounts:o(i),liqs:o(p),loading:o(a)||o(d)},null,8,["discounts","liqs","loading"])]))}}),ff=I(_f,[["__scopeId","data-v-34d8f6cb"]]),gf={class:"market-overview"},bf=T({__name:"Market.page",setup(e){const{show:t,crumbs:a}=W(qe()),s=ke("chain"),n=ke("marketAddr"),{isFetching:i,data:l}=Ks(s),r=y(()=>{var u;return(u=l.value)==null?void 0:u.find(h=>h.controller===n.value)});X(r,u=>{a.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:s.value})},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),_e(()=>{t.value=!0});const{tabActive:d,tabActiveIndex:p}=rt(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:s.value,marketAddr:n.value}));return(u,h)=>{const f=st,w=Re,v=Me;return _(),C("div",gf,[m(f,{class:M(["spinner",{loading:o(i)}])},null,8,["class"]),!o(i)&&o(r)?(_(),S(v,{key:0,active:o(p),onTab:h[0]||(h[0]=g=>p.value=g.index)},{default:b(()=>[m(w,{header:"Overview"},{default:b(()=>[(_(),S(ce,null,[o(d)==="overview"?(_(),S(df,{key:0,market:o(r),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),m(w,{header:"Trading"},{default:b(()=>[(_(),S(ce,null,[o(d)==="trading"?(_(),S(hf,{key:0,market:o(r),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1}),m(w,{header:"Liquidations"},{default:b(()=>[(_(),S(ce,null,[o(d)==="liquidations"?(_(),S(ff,{key:0,market:o(r),chain:o(s)},null,8,["market","chain"])):B("",!0)],1024))]),_:1})]),_:1},8,["active"])):B("",!0)])}}}),yf=I(bf,[["__scopeId","data-v-5c0a9226"]]);function xs(e){const{url:t,connectOnMount:a=!0}=e,s=ma(null),n=q("");function i(){return s.value&&h(),n.value=typeof t=="function"?t():t,zo(n.value,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",w=>{Ae({text:`Socket.IO error: ${w.message}`,type:"error"})})}const l=q(!1),r=q(!1);function d(){l.value=!1,r.value=!0}function p(){Ae({text:`Failed to connect to ${n.value}`,type:"error"}),l.value=!1}function u(){s.value=null,r.value=!1}function h(){var w,v,g,k;(w=s.value)==null||w.off("connect",d),(v=s.value)==null||v.off("connect_error",p),(g=s.value)==null||g.off("disconnect",u),(k=s.value)==null||k.disconnect(),u()}function f(){l.value||(s.value&&h(),s.value=i(),s.value.on("connect",d),s.value.on("connect_error",p),s.value.on("disconnect",u),l.value=!0,s.value.connect())}return a&&_e(f),{socket:s,connecting:l,isConnected:r,connect:f,disconnect:h,url:n}}var we=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))(we||{});let ra;function Ns(){return ra||(ra=xs({url:"wss://api.curvemonitor.com/main"})),ra}function ia(e,t,a,...s){return new Promise(n=>{e.once(a,n),e.emit(t,...s)})}function Hs(e,t,a){return new Qo(s=>{const n=i=>{s.next(i)};return e.on(t,n),()=>e.off(t,n)}).pipe(jo())}class zs{constructor(t){this.socket=t}getSandwiches(){return ia(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return ia(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return ia(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function Qs(){const{socket:e,isConnected:t,url:a}=Ns(),s=y(()=>e.value?new zs(e.value):null),n=y(()=>["mev-labels",a.value]);return K({queryKey:n,queryFn:()=>{var i;return(i=s.value)==null?void 0:i.getLabels()},enabled:t})}function wf(){const{socket:e,isConnected:t,url:a}=Ns(),s=y(()=>e.value?new zs(e.value):null),n=y(()=>["mev-sandwiches-tx",a.value]);return K({queryKey:n,queryFn:()=>{var i;return(i=s.value)==null?void 0:i.getSandwiches()},enabled:t})}const kf=T({__name:"LabelsWorstRelative",setup(e){const{theme:t}=W(z()),{data:a,isFetching:s}=Qs(),n=p=>(p??[]).filter(u=>u.numOfAllTx>=12).map(u=>({...u,ratio:Number((u.occurrences/u.numOfAllTx*100).toFixed(2))})).sort((u,h)=>h.ratio-u.ratio).slice(0,10),i=y(()=>n(a.value).map(p=>p.label)),l=y(()=>n(a.value).map(p=>p.ratio)),r=y(()=>Pe(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const u=p.w.globals.labels[p.seriesIndex],h=p.series[p.seriesIndex];return[`<div><b>${u}</b>:</div><div>Ratio: ${d(h)}</div>`].join("")}},labels:i.value})),d=p=>`${p}%`;return(p,u)=>{const h=lt;return _(),S(h,{class:"mevLabels",title:"Worst relative offenders",options:o(r),series:o(l),loading:o(s)},null,8,["options","series","loading"])}}}),$f=I(kf,[["__scopeId","data-v-323edaa5"]]),Cf=T({__name:"LabelsWorstAbsolute",setup(e){const{theme:t}=W(z()),{data:a,isFetching:s}=Qs(),n=p=>(p??[]).filter(u=>u.numOfAllTx>=12).map(u=>({...u,occurrences:u.occurrences})).sort((u,h)=>h.occurrences-u.occurrences).slice(0,10),i=y(()=>n(a.value).map(p=>p.label)),l=y(()=>n(a.value).map(p=>p.occurrences)),r=y(()=>Pe(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:p=>{const u=p.w.globals.labels[p.seriesIndex],h=p.series[p.seriesIndex];return[`<div><b>${u}</b>:</div><div>Occurences: ${d(h)}</div>`].join("")}},labels:i.value})),d=p=>`${p}`;return(p,u)=>{const h=lt;return _(),S(h,{class:"mevLabels",title:"Worst absolute offenders",options:o(r),series:o(l),loading:o(s)},null,8,["options","series","loading"])}}}),Sf=I(Cf,[["__scopeId","data-v-a1d10c28"]]),Af={style:{display:"grid","grid-template-columns":"auto auto"}},Lf={style:{display:"flex",gap:"1rem"}},Tf={key:0,class:"fas fa-arrow-up"},If={key:1,class:"fas fa-arrow-down"},Vf={key:2,class:"fas fa-exchange-alt"},qf={key:0,class:"end"},Pf=["href"],Ff=["href"],Bf=["href"],Df=["innerHTML"],Mf={key:1,class:"end"},Ha=10,Rf=T({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{relativeTime:t}=De(),a=q(""),s=q([we.Swap,we.Deposit,we.Remove]),n=y(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),i=y(()=>(e.txs??[]).filter(h=>s.value.includes(h.transaction_type)).filter(h=>{const f=a.value.toLocaleLowerCase().split(" "),w=v=>f.some(g=>v.toLocaleLowerCase().includes(g));return w(h.block_number.toString())||w(h.trader)||w(h.tx_hash)})),{page:l,rowsPage:r,onPage:d}=wt(i,Ha),p=h=>{if(h.transaction_type===we.Swap){const f=h.coins_leaving_wallet[0],w=h.coins_entering_wallet[0],v=We(parseFloat(f.amount.toString())),g=We(parseFloat(w.amount.toString())),k=`<span>${v} ${f.name}</span>`,$="<i class='fas fa-arrow-right'></i>",A=`<span style='justify-self: end;'>${g} ${w.name}</span>`;return`${k}${$}${A}`}else if(h.transaction_type===we.Deposit){const f=h.coins_entering_wallet[0];return`${We(parseFloat(f.amount.toString()))} ${f.name}`}else{const f=h.coins_leaving_wallet[0];return`${We(parseFloat(f.amount.toString()))} ${f.name}`}},u=h=>{h===0?s.value=[we.Swap,we.Deposit,we.Remove]:h===1?s.value=[we.Swap]:h===2?s.value=[we.Deposit]:h===3?s.value=[we.Remove]:s.value=[]};return(h,f)=>{const w=Re,v=Me,g=Se,k=Fe,$=oe,A=R;return _(),S(A,{class:"trades-card",title:"Transactions"},Go({default:b(()=>[m($,{class:M(["trades-table",{compact:h.compact,time:h.time}]),rows:o(r),columns:o(n)},{row:b(L=>[c("div",{class:M(["type",{deposit:L.item.transaction_type==="deposit",remove:L.item.transaction_type==="remove",swap:L.item.transaction_type==="swap"}])},[L.item.transaction_type==="deposit"?(_(),C("i",Tf)):L.item.transaction_type==="remove"?(_(),C("i",If)):(_(),C("i",Vf)),E(" "+V(o(ft)(L.item.transaction_type)),1)],2),h.time?(_(),C("div",qf,[c("a",{class:"vote-link",href:`https://etherscan.io/block/${L.item.block_number}`,target:"_blank"},V(L.item.block_number),9,Pf)])):B("",!0),c("div",null,[c("a",{class:"vote-link",href:`https://etherscan.io/tx/${L.item.tx_hash}`,target:"_blank",onClick:f[2]||(f[2]=ve(()=>{},["stop"]))},V(o($e)(L.item.tx_hash)),9,Ff)]),c("div",null,[c("a",{class:"vote-link",href:`https://etherscan.io/address/${L.item.trader}`,target:"_blank",onClick:f[3]||(f[3]=ve(()=>{},["stop"]))},V(o($e)(L.item.trader)),9,Bf)]),c("div",{class:M(["assets",{swap:L.item.transaction_type==="swap"}]),innerHTML:p(L.item)},null,10,Df),h.time?(_(),C("div",Mf,V(o(t)(L.item.block_unixtime)),1)):B("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[h.header?{name:"actions",fn:b(()=>[c("div",Af,[m(v,{class:"types",onTab:f[0]||(f[0]=L=>u(L.index))},{default:b(()=>[m(w,{header:"All"}),m(w,{header:"Swaps"}),m(w,{header:"Deposits"}),m(w,{header:"Removals"})]),_:1})]),c("div",Lf,[m(g,{modelValue:o(a),"onUpdate:modelValue":f[1]||(f[1]=L=>Y(a)?a.value=L:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),m(k,{class:"pagination","items-count":o(i).length,"items-per-page":Ha,page:o(l),onPage:o(d)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1024)}}}),Uf=I(Rf,[["__scopeId","data-v-3c3f60b0"]]),Ef={style:{display:"flex",gap:"1rem"}},Of=["href"],Wf={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},Kf=["href"],xf={class:"end"},ca=10,Nf=T({__name:"Sandwiches",setup(e){const t=q(1),{data:a,isFetching:s}=wf(),{expanded:n,toggleExpansion:i}=ys(),{relativeTime:l}=De(),r=q(""),d=y(()=>{var h;return((h=a.value)==null?void 0:h.totalPages)??0*ca}),p=y(()=>{var h;return(((h=a.value)==null?void 0:h.data)??[]).filter(f=>{const w=r.value.toLocaleLowerCase().split(" "),v=g=>w.some(k=>g.toLocaleLowerCase().includes(k));return v(f.poolName)||v(f.poolAddress)||v(f.label)}).orderBy([f=>f.frontrun.block_unixtime,f=>f.frontrun.tx_position],"desc")}),u=h=>[h.frontrun,...h.center,h.backrun].orderBy([f=>f.block_unixtime,f=>f.tx_position]);return(h,f)=>{const w=Se,v=Fe,g=oe,k=R;return _(),S(k,{class:"sandwiches-card",title:"Sandwiches",loading:o(s)},{actions:b(()=>[c("div",Ef,[m(w,{modelValue:o(r),"onUpdate:modelValue":f[0]||(f[0]=$=>Y(r)?r.value=$:null),class:"search",placeholder:"Search for...",search:!0},null,8,["modelValue"]),o(d)>ca?(_(),S(v,{key:0,class:"pagination","items-count":o(d),"items-per-page":ca,page:o(t),onPage:f[1]||(f[1]=$=>t.value=$)},null,8,["items-count","page"])):B("",!0)])]),default:b(()=>[m(g,{class:"sandwiches-table",rows:o(p),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:o(n),onSelected:f[2]||(f[2]=$=>o(i)($))},{row:b($=>[c("div",null,[c("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.poolAddress}`,target:"_blank"},V($.item.poolName),9,Of)]),c("div",null,[c("div",Wf,[c("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${$.item.center[0].trader}`},V(o($e)($.item.center[0].trader)),9,Kf),c("span",null," lost "+V(o(We)($.item.user_losses_details.reduce((A,L)=>A+L.amount,0)))+" "+V($.item.user_losses_details[0].unit),1),c("span",null,V(o(We)(-$.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+V(o(We)($.item.lossInUsd)),1)])]),c("div",null,V($.item.label),1),c("div",xf,V(o(l)($.item.frontrun.block_unixtime)),1)]),"row-details":b($=>[m(Uf,{class:"transactions",txs:u($.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["loading"])}}}),Hf=I(Nf,[["__scopeId","data-v-df4130f4"]]),zf={class:"mev"},Qf=T({__name:"MEV",setup(e){return(t,a)=>(_(),C("div",zf,[m(Hf,{style:{"grid-area":"sws"}}),m($f,{style:{"grid-area":"relative"}}),m(Sf,{style:{"grid-area":"absolute"}})]))}}),jf=I(Qf,[["__scopeId","data-v-861d7244"]]),Gf={class:"monitor"},Xf=T({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["mev"],"monitor");return(s,n)=>{const i=Re,l=Me;return _(),C("div",Gf,[m(l,{active:o(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:b(()=>[m(i,{header:"MEV"},{default:b(()=>[(_(),S(ce,null,[o(t)==="mev"?(_(),S(jf,{key:0})):B("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Zf=I(Xf,[["__scopeId","data-v-b5d30464"]]),Yf=["all","ownership","parameter","other"];function et(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":Xs(e)&&Gs(e)&&js(e)?"passed":"denied"}function js(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function Gs(e){return e.votesFor>e.quorum*e.totalSupply}function Xs(e){return e.votesFor>e.votesAgainst}const Zs=e=>{var g;const t=e.vote_id,a=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",s=(g=e.metadata)!=null&&g.startsWith('"')?e.metadata.substring(1):e.metadata??"",n=e.creator.toLocaleLowerCase(),i=e.snapshot_block,l=e.start_date,r=l+604800,d=Oe(BigInt(e.min_accept_quorum),18n),p=Oe(BigInt(e.support_required),18n),u=e.vote_count,h=Oe(BigInt(e.votes_for),18n),f=Oe(BigInt(e.votes_against),18n),w=e.executed,v=Oe(BigInt(e.total_supply),18n);return{id:t,type:a,metadata:s,proposer:n,block:i,start:l,end:r,quorum:d,support:p,voteCount:u,votesFor:h,votesAgainst:f,executed:w,totalSupply:v}},Jf=e=>{const t=Zs(e),a=e.script,s=e.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:Oe(BigInt(n.voting_power),18n)}));return{...t,script:a,votes:s}},za="https://prices.curve.fi";class eg extends Le{async getProposals(t,a,s,n){const i=await this.fetch(`${za}/v1/dao/proposals?pagination=10&page=${t}&search_string=${a}&type_filter=${s}&status_filter=${n}`);return{proposals:i.proposals.map(Zs),count:i.count}}async getProposal(t,a){const s=await this.fetch(`${za}/v1/dao/proposals/details/${a}/${t}`);return Jf(s)}}const Ys=new eg;function Js(e,t,a){return K({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,s,n]})=>Ys.getProposal(s,n),...a&&{enabled:a}})}function tg(e,t,a,s){return K({queryKey:["curve-proposals",e,s,t,a],queryFn:({queryKey:[,n,i,l,r]})=>Ys.getProposals(n,i,l,r),placeholderData:Ut})}const ag=T({__name:"Status",props:{proposal:{}},setup(e){const t=y(()=>{if(et(e.proposal)==="denied")if(Gs(e.proposal))if(Xs(e.proposal)){if(!js(e.proposal))return"Quorum was reached and 'for' won, but not enough for support"}else return"More 'against' votes than 'for' votes";else return"Quorum was not reached (yes votes need to pass this number)";return""}),a=y(()=>{switch(et(e.proposal)){case"active":return"Active";case"denied":return"Denied";case"passed":return"Passed";case"executed":return"Executed";default:return"Unk. Status"}});return(s,n)=>{const i=ya,l=me;return _(),S(l,{class:"status","tooltip-type":"underline",label:"Status","has-value":!0,tooltip:o(t)},{default:b(()=>[o(t)?(_(),S(i,{key:0},{trigger:b(()=>[c("span",{class:M(["status-value",o(et)(s.proposal)])},V(o(a)),3)]),default:b(()=>[E(" "+V(o(t)),1)]),_:1})):(_(),C("span",{key:1,class:M(["status-value",o(et)(s.proposal)])},V(o(a)),3))]),_:1},8,["tooltip"])}}}),sg=I(ag,[["__scopeId","data-v-2f9513ce"]]),og=T({__name:"Type",props:{proposal:{}},setup(e){return(t,a)=>{const s=me;return _(),S(s,{class:"type",label:"Type",value:o(ft)(t.proposal.type),"has-value":!0},null,8,["value"])}}}),ng=["href"],lg=T({__name:"Proposer",props:{proposal:{}},setup(e){return(t,a)=>{const s=me;return _(),S(s,{class:"proposer",label:"Proposer","has-value":!0},{default:b(()=>[c("a",{href:`https://etherscan.io/address/${t.proposal.proposer}`,target:"_blank"},V(o($e)(t.proposal.proposer)),9,ng)]),_:1})}}}),Qa=T({__name:"Date",props:{proposal:{},type:{}},setup(e){let t;const a=q(""),s=y(()=>{switch(e.type){case"start":return"Start";case"end":return"End";default:return"Unk. Type"}}),n=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(e.proposal.end*1e3);return r>new Date?a.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),i=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});_e(()=>{l()});const l=()=>{const r=new Date(e.proposal.end*1e3);t&&clearInterval(t),t=setInterval(()=>{a.value=En(r)})};return(r,d)=>{const p=me;return _(),S(p,{class:"date","tooltip-type":"underline",label:o(s),value:o(n),"has-value":!0,tooltip:o(i)},null,8,["label","value","tooltip"])}}}),eo=e=>(N("data-v-a0e3f25a"),e=e(),H(),e),rg=eo(()=>c("i",{class:"fas fa-link"},null,-1)),ig={class:"metadata"},cg={class:"row"},ug=eo(()=>c("i",{class:"fas fa-chevron-up"},null,-1)),dg=[ug],pg=T({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const a=t,s=y(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),n=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(i,l)=>{const r=Ke("router-link");return _(),C("div",{class:"proposal-summary",onClick:l[0]||(l[0]=d=>a("toggleExpand"))},[c("div",{class:M(["title",{"no-title":!i.proposal.metadata}])},[m(r,{to:o(s),class:"id",onClick:n},{default:b(()=>[rg,E(" "+V(i.proposal.id),1)]),_:1},8,["to"]),c("div",ig,V(i.proposal.metadata||"< No Title >"),1)],2),c("div",cg,[m(sg,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(og,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(lg,{class:"item",proposal:i.proposal},null,8,["proposal"]),m(Qa,{class:"item",proposal:i.proposal,type:"start"},null,8,["proposal"]),m(Qa,{class:"item",proposal:i.proposal,type:"end"},null,8,["proposal"]),c("div",{class:M(["item expander",{expanded:i.expanded}])},dg,2)])])}}}),mg=I(pg,[["__scopeId","data-v-a0e3f25a"]]),Be=e=>(N("data-v-7df0a29d"),e=e(),H(),e),hg={class:"results"},vg=Be(()=>c("div",{class:"heading"},"Results",-1)),_g={class:"choice"},fg=Be(()=>c("div",{class:"label"},"For",-1)),gg={class:"amount"},bg={class:"left"},yg=Be(()=>c("span",null," veCRV",-1)),wg={class:"right"},kg=Be(()=>c("span",null,"(",-1)),$g=Be(()=>c("span",null,")",-1)),Cg={class:"choice"},Sg=Be(()=>c("div",{class:"label"},"Against",-1)),Ag={class:"amount"},Lg={class:"left"},Tg=Be(()=>c("span",null," veCRV",-1)),Ig={class:"right"},Vg=Be(()=>c("span",null,"(",-1)),qg=Be(()=>c("span",null,")",-1)),ja=4,Pg=T({__name:"VotingResults",props:{proposal:{}},setup(e){const t=y(()=>e.proposal.votesFor+e.proposal.votesAgainst),a=y(()=>e.proposal.votesFor/t.value*100),s=y(()=>e.proposal.votesAgainst/t.value*100);return(n,i)=>{const l=J;return _(),C("div",hg,[vg,c("div",_g,[fg,c("div",gg,[c("div",bg,[m(l,{value:n.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),yg]),c("div",wg,[kg,m(l,{value:o(a),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),$g])]),c("div",{class:"bar",style:be({width:`${Math.max(ja,o(a))}%`})},null,4)]),c("div",Cg,[Sg,c("div",Ag,[c("div",Lg,[m(l,{value:n.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Tg]),c("div",Ig,[Vg,m(l,{value:o(s),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),qg])]),c("div",{class:"bar",style:be({width:`${Math.max(ja,o(s))}%`})},null,4)])])}}}),Fg=I(Pg,[["__scopeId","data-v-7df0a29d"]]),to=e=>(N("data-v-d418450d"),e=e(),H(),e),Bg={class:"quorum"},Dg=to(()=>c("div",{class:"heading"},"Quorum",-1)),Mg={class:"amount"},Rg={class:"bar"},Ug={class:"percentages"},Eg=to(()=>c("div",{class:"zero"},"0%",-1)),Og={class:"quorum"},Wg=T({__name:"VotingQuorum",props:{proposal:{}},setup(e){const t=y(()=>e.proposal.votesFor),a=y(()=>e.proposal.quorum*e.proposal.totalSupply),s=y(()=>t.value/a.value*100);return(n,i)=>{const l=J;return _(),C("div",Bg,[Dg,c("div",Mg,[m(l,{value:o(t),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" / "),m(l,{value:o(a),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),E(" veCRV ")]),c("div",Rg,[c("div",{class:"support",style:be({width:`${o(s)}%`})},null,4),c("div",{class:"quorum",style:be({width:`${100-o(s)}%`})},null,4)]),c("div",Ug,[Eg,c("div",Og,[m(l,{value:n.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}}),Kg=I(Wg,[["__scopeId","data-v-d418450d"]]),xg=["min","max"],Ng=T({__name:"Slider",props:Ve({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=at(e,"modelValue",{set(a){return Number(a)}});return(a,s)=>fa((_(),C("input",{"onUpdate:modelValue":s[0]||(s[0]=n=>t.value=n),type:"range",min:a.min,max:a.max},null,8,xg)),[[Ya,t.value]])}}),Hg=I(Ng,[["__scopeId","data-v-f0a8da37"]]),zg=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],Ge=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],qa=e=>(N("data-v-8b3d2b54"),e=e(),H(),e),Qg={class:"buttons"},jg={class:"vecrv"},Gg={class:"info"},Xg={class:"kpis"},Zg={class:"description"},Yg=qa(()=>c("span",{class:"title"},"Description: ",-1)),Jg={class:"options"},e1=qa(()=>c("span",{class:"label"},"No",-1)),t1={class:"middle"},a1=["contenteditable","textContent"],s1=qa(()=>c("span",{class:"label"},"Yes",-1)),o1=T({__name:"VotingButtons",props:{proposal:{}},setup(e){const{address:t}=Et(),a=q(!1),s=q(50),n=q(null),i=q(!1),l=y(()=>{var Z;return i.value?`${s.value}.`:s.value===0&&((Z=n.value)==null?void 0:Z.textContent)!=="0"?"":s.value.toString()}),r=y(()=>(F.value??0n)>0n&&!He.value&&u.value&&L.value===0),d=y(()=>r.value?"Submit":He.value?"Voting...":u.value?L.value!==0?"You've already voted":"Not enough voting power":"Voting closed"),p=y(()=>Oe(F.value??0n,18n)),u=y(()=>et(e.proposal)==="active"),h=y(()=>et(e.proposal)==="passed"),f=()=>{const Z=window.getSelection();return Z&&Z.rangeCount>0?Z.getRangeAt(0).startOffset:0},w=Z=>{if(n.value){const pe=document.createRange();pe.setStart(n.value.firstChild??n.value,Z),pe.collapse(!0);const he=window.getSelection();he&&(he.removeAllRanges(),he.addRange(pe))}},v=()=>{s.value=0,n.value&&(n.value.textContent="0")},g=()=>{s.value=100,n.value&&(n.value.textContent="100")},k=Z=>{Z.target===Z.currentTarget&&n.value&&n.value.focus()},$=()=>{if(n.value){const Z=n.value.textContent??"",pe=f();if(/^\d*(\.\d*)?$/.test(Z))if(i.value=Z.endsWith("."),Z){const he=parseFloat(Z);he>=0&&he<=100?s.value=he:(n.value.textContent=l.value,w(pe-1))}else s.value=0;else n.value.textContent=l.value,w(pe-1)}},{data:A}=mt({abi:Ge,address:Qe,functionName:"token",query:{enabled:a}}),{data:L}=mt({abi:Ge,address:Qe,functionName:"getVoterState",args:y(()=>[BigInt(e.proposal.id),t.value]),query:{enabled:y(()=>!!t.value&&a.value),initialData:0,initialDataUpdatedAt:0}}),{data:F}=mt({abi:zg,address:A,functionName:"balanceOfAt",args:y(()=>[t.value,BigInt(e.proposal.block)]),query:{enabled:y(()=>!!A.value&&!!t.value&&a.value),initialData:0n,initialDataUpdatedAt:0}}),{data:P,refetch:U}=mt({abi:Ge,address:Qe,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:y(()=>h.value&&a.value),initialData:!1,initialDataUpdatedAt:0}}),{data:x}=mt({abi:Ge,address:Qe,functionName:"PCT_BASE",query:{enabled:a}}),{data:Ue,error:D,isPending:ue,writeContract:de}=Ba(),{isLoading:ne,isSuccess:le}=Da({hash:Ue}),He=y(()=>ue.value||ne.value);function Ee(){if(!x.value){Ae({text:qt("Missing PCT_BASE"),type:"error"});return}const Z=BigInt(Math.log10(Number(x.value))),pe=os(s.value/100,Z),he=x.value-pe;de({abi:Ge,address:Qe,functionName:"votePct",args:[BigInt(e.proposal.id),pe,he,!1]})}At(D,Z=>{Ae({text:qt(Z),type:"error"})}),At(le,()=>{Ae({text:"Voted",type:"success"})});const{data:pt,error:Gt,isPending:vo,writeContract:_o}=Ba(),{isLoading:fo,isSuccess:go}=Da({hash:pt}),Pa=y(()=>vo.value||fo.value);function bo(){_o({abi:Ge,address:Qe,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),U()}return At(Gt,Z=>{Ae({text:qt(Z),type:"error"})}),At(go,()=>{Ae({text:"Executed proposal",type:"success"})}),(Z,pe)=>{const he=fe,yo=J,Fa=me,wo=Hg,ko=R,$o=Ot;return _(),C(ee,null,[c("div",Qg,[m(he,{value:"Vote",primary:!0,onClick:pe[0]||(pe[0]=Xt=>a.value=!0)}),o(h)?(_(),S(he,{key:0,value:o(Pa)?"Executing...":"Execute",primary:!0,disabled:!o(P)||o(Pa),onClick:bo},null,8,["value","disabled"])):B("",!0)]),m($o,{show:o(a),onClose:pe[2]||(pe[2]=Xt=>a.value=!1)},{default:b(()=>[m(ko,{title:"Vote with veCRV",class:"vote-content"},{default:b(()=>[c("div",jg,[c("div",Gg,[c("div",Xg,[m(Fa,{label:"Voting power","has-value":!0},{default:b(()=>[m(yo,{value:o(p),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),E(" veCRV ")]),_:1}),m(Fa,{label:"Block",value:Z.proposal.block,"has-value":!0},null,8,["value"])]),c("div",Zg,[Yg,c("span",null,V(Z.proposal.metadata),1)])]),c("div",Jg,[m(he,{class:M(["no",{winning:o(s)<50}]),disabled:!o(r),onClick:v},{default:b(()=>[e1]),_:1},8,["class","disabled"]),c("div",t1,[c("i",{class:M(["fas fa-times",{winning:o(s)<50}])},null,2),c("div",{class:M(["value",{disabled:!o(r)}]),onClick:k},[c("span",{ref_key:"editor",ref:n,contenteditable:o(r),onInput:$,textContent:V(o(l))},null,40,a1),E(" % ")],2),c("i",{class:M(["fas fa-check",{winning:o(s)>50}])},null,2)]),m(he,{class:M(["yes",{winning:o(s)>50}]),disabled:!o(r),onClick:g},{default:b(()=>[s1]),_:1},8,["class","disabled"])]),m(wo,{modelValue:o(s),"onUpdate:modelValue":pe[1]||(pe[1]=Xt=>Y(s)?s.value=Xt:null),class:"slider",disabled:!o(r),min:0,max:100},null,8,["modelValue","disabled"]),m(he,{class:"submit",value:o(d),primary:!0,disabled:!o(r),"chain-id":o(xe).id,onClick:Ee},null,8,["value","disabled","chain-id"])])]),_:1})]),_:1},8,["show"])],64)}}}),n1=I(o1,[["__scopeId","data-v-8b3d2b54"]]),l1={class:"voting"},r1=T({__name:"Voting",props:{proposal:{}},setup(e){return(t,a)=>(_(),C("div",l1,[m(Kg,{proposal:t.proposal},null,8,["proposal"]),m(Fg,{proposal:t.proposal},null,8,["proposal"]),m(n1,{proposal:t.proposal},null,8,["proposal"])]))}}),i1=I(r1,[["__scopeId","data-v-8e776315"]]),ao=e=>(N("data-v-817e3bb8"),e=e(),H(),e),c1={class:"voters"},u1={class:"for"},d1=ao(()=>c("div",{class:"title"},"For",-1)),p1={class:"address"},m1=["href"],h1={class:"amount"},v1={class:"percentage"},_1={class:"against"},f1=ao(()=>c("div",{class:"title"},"Against",-1)),g1={class:"percentage"},b1={class:"amount"},y1={class:"address"},w1=["href"],k1=T({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{address:t}=Et(),a=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(r=>r.supports).orderBy(r=>r.votingPower,"desc"):null),s=y(()=>e.proposalDetails?e.proposalDetails.votes.filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc"):null),n=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":$e(r,12),i=r=>r/(e.proposal.votesFor+e.proposal.votesAgainst)*100,l=r=>r===t.value;return(r,d)=>{const p=J;return _(),C("div",c1,[c("div",u1,[d1,(_(!0),C(ee,null,re(o(a),u=>(_(),C("div",{key:u.voter,class:"vote"},[c("div",p1,[c("a",{target:"_blank",href:`https://etherscan.io/address/${u.voter}`,class:M({you:l(u.voter)})},V(n(u.voter)),11,m1)]),c("div",h1,[m(p,{value:u.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",v1,[m(p,{value:i(u.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),c("div",_1,[f1,(_(!0),C(ee,null,re(o(s),u=>(_(),C("div",{key:u.voter,class:"vote"},[c("div",g1,[m(p,{value:i(u.votingPower),precision:0,type:"percentage"},null,8,["value"])]),c("div",b1,[m(p,{value:u.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),c("div",y1,[c("a",{target:"_blank",href:`https://etherscan.io/address/${u.voter}`,class:M({you:l(u.voter)})},V(n(u.voter)),11,w1)])]))),128))])])}}}),$1=I(k1,[["__scopeId","data-v-817e3bb8"]]),C1=e=>(N("data-v-5705cc25"),e=e(),H(),e),S1={class:"technicals"},A1={class:"technical"},L1=C1(()=>c("div",{class:"heading"},"Description",-1)),T1={class:"description"},I1={class:"technical"},V1={class:"technical"},q1=["innerHTML"],P1=T({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const t=q(!0),a=q(e.proposal.voteCount>0),{data:s}=Js(O(()=>e.proposal.id),O(()=>e.proposal.type),O(()=>e.expanded)),n=y(()=>s.value?s.value.votes.uniqWith((l,r)=>l.voter===r.voter).length:null),i=y(()=>s.value?s.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,l=>/[A-F]/g.test(l)&&ga(l)?`<a href='https://etherscan.io/address/${l}'>${l}</a>`:l):null);return(l,r)=>{const d=_t;return _(),C("div",S1,[c("div",A1,[L1,c("div",T1,V(l.proposal.metadata),1)]),c("div",I1,[c("div",{class:"heading",onClick:r[0]||(r[0]=p=>a.value=!o(a))},[E(" Voters ("+V(o(n)??"?")+") ",1),c("i",{class:M(["fas fa-chevron-up expander",{expandedVoters:o(a)}])},null,2)]),m(d,{expanded:o(a)},{default:b(()=>[o(s)?(_(),S($1,{key:0,class:"voters",proposal:l.proposal,"proposal-details":o(s)},null,8,["proposal","proposal-details"])):B("",!0)]),_:1},8,["expanded"])]),c("div",V1,[c("div",{class:"heading",onClick:r[1]||(r[1]=p=>t.value=!o(t))},[E(" Calldata "),c("i",{class:M(["fas fa-chevron-up expander",{expandedCallData:o(t)}])},null,2)]),m(d,{expanded:o(t)},{default:b(()=>[o(s)?(_(),C("div",{key:0,class:"calldata",innerHTML:o(i)},null,8,q1)):B("",!0)]),_:1},8,["expanded"])])])}}}),F1=I(P1,[["__scopeId","data-v-5705cc25"]]),B1={class:"proposal-details"},D1={class:"proposal-details-container"},M1=T({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,a)=>(_(),C("div",B1,[c("div",D1,[m(F1,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),m(i1,{proposal:t.proposal},null,8,["proposal"])])]))}}),R1=I(M1,[["__scopeId","data-v-33738e05"]]),U1=T({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=q(e.initExpanded);return(a,s)=>{const n=_t,i=R;return _(),S(i,{class:"proposal",compact:!0},{default:b(()=>[m(mg,{proposal:a.proposal,expanded:o(t),onToggleExpand:s[0]||(s[0]=l=>t.value=!o(t))},null,8,["proposal","expanded"]),m(n,{class:"proposal-details-collapsible",expanded:o(t)},{default:b(()=>[m(R1,{proposal:a.proposal,expanded:o(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),so=I(U1,[["__scopeId","data-v-c308539c"]]),E1={class:"item"},O1={class:"label"},W1=T({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const a=[...Yf].filter(l=>l!=="other"),s=t,n=q("all"),i=l=>{n.value=l,s("select",n.value)};return(l,r)=>{const d=ot;return _(),S(d,{options:o(a).map(p=>p),selected:o(n),onInput:i},{item:b(p=>[c("div",E1,[c("div",O1,V(o(ft)(p.item)),1)])]),_:1},8,["options","selected"])}}}),K1=I(W1,[["__scopeId","data-v-b479bc8d"]]),x1={class:"proposals"},N1={class:"filters"},H1={style:{display:"flex",gap:"1rem"}},z1={class:"proposals-content"},Q1={key:0},j1=T({__name:"Proposals.page",setup(e){const t=q(0),{page:a,onPage:s}=Sa(),n=Dt(a,200),i=q(""),l=Dt(i,300),r=q("all"),d=y(()=>{switch(t.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),p=y(()=>l.value.toLocaleLowerCase()),u=y(()=>{var g;return((g=w.value)==null?void 0:g.count)??0}),h=y(()=>{var g;return(((g=w.value)==null?void 0:g.proposals)??[]).orderBy(k=>k.start,"desc")}),{isFetching:f,data:w}=tg(n,r,d,p),v=g=>{r.value=g};return(g,k)=>{const $=Re,A=Me,L=Se,F=Fe,P=st;return _(),C("div",x1,[m(A,{onTab:k[0]||(k[0]=U=>t.value=U.index)},{default:b(()=>[m($,{header:"All"}),m($,{header:"Active"}),m($,{header:"Passed"}),m($,{header:"Denied"}),m($,{header:"Executed"})]),_:1}),c("div",N1,[m(L,{modelValue:o(i),"onUpdate:modelValue":k[1]||(k[1]=U=>Y(i)?i.value=U:null),class:"search",placeholder:"Search for Curve proposals",search:!0},null,8,["modelValue"]),c("div",H1,[m(K1,{style:{"flex-grow":"1"},onSelect:v}),m(F,{class:"pagination","items-count":o(u),"items-per-page":10,page:o(a),onPage:o(s)},null,8,["items-count","page","onPage"])])]),c("div",z1,[(_(!0),C(ee,null,re(o(h),U=>(_(),S(so,{key:U.id,proposal:U,class:M({loading:o(f)})},null,8,["proposal","class"]))),128)),m(F,{class:"pagination","items-count":o(u),"items-per-page":10,page:o(a),onPage:o(s)},null,8,["items-count","page","onPage"]),o(h).length===0?(_(),C("div",Q1,"No proposals could be found.")):B("",!0),m(P,{class:M(["spinner",{loading:o(f)}])},null,8,["class"])])])}}}),G1=I(j1,[["__scopeId","data-v-6a7a4ce5"]]),X1={class:"proposal-container"},Z1=T({__name:"Proposal.page",setup(e){const t=ke("proposalId",0,{transform:Number}),a=ke("proposalType"),{isFetching:s,data:n}=Js(t,a);return(i,l)=>{const r=st;return _(),C("div",X1,[m(r,{class:M(["spinner",{loading:o(s)}])},null,8,["class"]),!o(s)&&o(n)?(_(),S(so,{key:0,proposal:o(n),"init-expanded":!0},null,8,["proposal"])):B("",!0)])}}}),Y1=I(Z1,[["__scopeId","data-v-9afd57bb"]]),J1=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],oo=e=>(N("data-v-f41a9b71"),e=e(),H(),e),e0={class:"form"},t0={class:"field"},a0=oo(()=>c("div",{class:"label"},"Receiver:",-1)),s0={class:"value"},o0={class:"field"},n0=oo(()=>c("div",{class:"label"},"CRV Amount (Max):",-1)),l0={class:"value"},r0=T({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(""),i=q(0),l=y(()=>ls),r=y(()=>ga(n.value.toLocaleLowerCase())&&typeof i.value=="number"&&i.value>0),d=Ja();async function p(){const u=n.value.toLocaleLowerCase();typeof i.value=="string"&&(i.value=parseFloat(i.value));const h=os(i.value,18n);return us(s,async()=>{const{result:f,request:w}=await Xo(d,{abi:J1,address:rs,functionName:"deploy_gauge",args:[u,h]}),v=await es(d,w);await ts(d,{hash:v}),a("gauge",f)})}return(u,h)=>{const f=Se,w=jt,v=fe,g=R;return _(),S(g,{class:"add-new",title:"Gauge Creation"},{default:b(()=>[c("div",e0,[c("div",t0,[a0,c("div",s0,[m(f,{modelValue:o(n),"onUpdate:modelValue":h[0]||(h[0]=k=>Y(n)?n.value=k:null),placeholder:o(l)},null,8,["modelValue","placeholder"])])]),c("div",o0,[n0,c("div",l0,[m(w,{modelValue:o(i),"onUpdate:modelValue":h[1]||(h[1]=k=>Y(i)?i.value=k:null),min:1,max:3303030299},null,8,["modelValue"])])])]),m(v,{class:"action-button request",value:"Create Fundraising Gauge",disabled:!o(r)||o(s),primary:!0,"chain-id":o(xe).id,onClick:p},null,8,["disabled","chain-id"])]),_:1})}}}),i0=I(r0,[["__scopeId","data-v-f41a9b71"]]),c0=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],u0=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],d0=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],no=e=>(N("data-v-80d90fe0"),e=e(),H(),e),p0={class:"form"},m0={class:"field"},h0=no(()=>c("div",{class:"label"},"Gauge Address:",-1)),v0={class:"value"},_0={class:"field"},f0=no(()=>c("div",{class:"label"},"Vote Description:",-1)),g0={class:"value"},b0=T({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const a=t,s=q(!1),n=q(""),i=q("Add a grant gauge: "),l=y(()=>ls),r=y(()=>ga(n.value)&&!!i.value),d=y(()=>r.value&&!s.value);X(()=>e.gauge,f=>{n.value=f.toLocaleLowerCase()});async function p(){if(n.value)return us(s,async()=>{await h(),a("request")})}const u=Ja();async function h(){const f="0xe478de485ad2fe566d49342cbd03e49ed7db3356",w="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",v=(ue,de)=>String(ue).padStart(de,"0"),g=Ma({abi:d0,functionName:"add_gauge",args:[n.value,10n,0n]});let k="0x00000001";const $=Ma({abi:c0,functionName:"execute",args:[is,0n,g]}).substring(2),A=v((Math.floor($.length)/2).toString(16),8);k=`${k}${w.substring(2)}${A}${$}`;const L=new FormData,P={text:i.value.replace(/(\r\n|\n|\r)/gm,"")};L.append("file",JSON.stringify(P));const Ue=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:L})).json()).Hash,D=await es(u,{abi:u0,address:f,functionName:"newVote",args:[k,`ipfs:${Ue}`,!1,!1]});await ts(u,{hash:D})}return(f,w)=>{const v=Se,g=fe,k=R;return _(),S(k,{class:"add-new",title:"Gauge Addition Vote"},{default:b(()=>[c("div",p0,[c("div",m0,[h0,c("div",v0,[m(v,{modelValue:o(n),"onUpdate:modelValue":w[0]||(w[0]=$=>Y(n)?n.value=$:null),placeholder:o(l)},null,8,["modelValue","placeholder"])])]),c("div",_0,[f0,c("div",g0,[m(v,{modelValue:o(i),"onUpdate:modelValue":w[1]||(w[1]=$=>Y(i)?i.value=$:null)},null,8,["modelValue"])])])]),m(g,{class:"action-button request",value:"Create Gauge Addition Vote",disabled:!o(d),primary:!0,"chain-id":o(xe).id,onClick:p},null,8,["disabled","chain-id"])]),_:1})}}}),y0=I(b0,[["__scopeId","data-v-80d90fe0"]]),lo=e=>(N("data-v-8bd18cb3"),e=e(),H(),e),w0={class:"ve-funder"},k0={class:"explanation"},$0=lo(()=>c("div",{class:"step-one"},[c("span",null,[c("strong",null,"veFunder"),E(" process:")]),c("ol",null,[c("li",null," Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV. "),c("li",null,[E(" Request a vote to add the gauge to the controller."),c("br"),E("When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions. ")])])],-1)),C0=lo(()=>c("div",{class:"step-two"},[c("span",null,[c("strong",null,"Gauge vote requirements:")]),c("ol",null,[c("li",null,[E(" New gauge votes must have a vote on the governance forum "),c("a",{href:"https://gov.curve.fi/",target:"_blank"}," at this address ")]),c("li",null,"You must have a minimum of 2,500 veCRV to create this vote")])],-1)),S0={class:"forms"},A0=T({__name:"VeFunder.page",setup(e){const t=q(""),a=s=>{t.value=s};return(s,n)=>{const i=R;return _(),C("div",w0,[c("div",k0,[m(i,null,{default:b(()=>[$0,C0]),_:1})]),c("div",S0,[m(i0,{onGauge:a}),m(y0,{gauge:o(t)},null,8,["gauge"])])])}}}),L0=I(A0,[["__scopeId","data-v-8bd18cb3"]]),T0={class:"item"},I0={class:"label"},V0=T({__name:"SelectToken",props:Ve({tokens:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ve(["select"],["update:modelValue"]),setup(e,{emit:t}){const a=at(e,"modelValue"),s=t,n=i=>{s("select",i)};return X(()=>e.tokens,()=>{e.tokens.length>0&&n(e.tokens[0])},{immediate:!0}),(i,l)=>{const r=ge,d=ot;return _(),S(d,{options:i.tokens,selected:a.value,onInput:n},{item:b(({item:{address:p,symbol:u}})=>[c("div",T0,[m(r,{class:"icon",address:p},null,8,["address"]),c("div",I0,V(u??"?"),1)])]),_:1},8,["options","selected"])}}}),q0=I(V0,[["__scopeId","data-v-7bba0d02"]]);let ua;function ro(){return ua||(ua=xs({url:"wss://api.defimonitor.com/main"})),ua}class P0{constructor(t,a){St(this,"transfers$");this.socket=t,this.transfers$=(a==null?void 0:a.transfers$)??Hs(t,"NewTransfersForToken")}subTransfers(t){this.socket.emit("connectToGeneralErc20Livestream",t)}}const vt=new Map,io=new Zo(void 0),Bt=e=>JSON.stringify(e);function co({queryKey:e,queryFn:t,enabled:a,observable:s,setQueryData:n,resetOnSubscribe:i}){const l=as(),r=y(()=>a.value&&!!s.value),d=K({queryKey:e,queryFn:()=>new Promise((p,u)=>{i&&l.setQueryData(e.value,null);const h=Bt(e.value);let f=vt.get(h);const w=f==null?void 0:f.subscription;w==null||w.unsubscribe(),f={subscription:s.value.subscribe({next:v=>{const g=l.getQueryData(e),k=n(g,v);l.setQueryData(e.value,k),p(k)},error:v=>{u(v instanceof Error?v:new Error(String(v)))}}),users:new Set},vt.set(h,f),io.next({queryKeyString:h,record:f}),t()}),enabled:r,staleTime:1/0});return X(s,async(p,u)=>{u&&p!==u&&await l.invalidateQueries({queryKey:e})}),F0(e,r),d}function F0(e,t){const a=as(),s=zn(),n=io.pipe(Yt(()=>t.value),Yt(l=>l!==void 0),Yt(l=>l.queryKeyString===Bt(e.value))).subscribe(l=>{l.record.users.add(s)});X(t,async l=>{if(!l)await i(e.value);else{const r=Bt(e.value),d=vt.get(r);d&&d.users.add(s)}}),X(e,async(l,r)=>{await i(r)}),Mt(async()=>{await i(e.value),n.unsubscribe()});async function i(l){const r=Bt(l),d=vt.get(r);d&&(d.users.delete(s),d.users.size===0&&(d.subscription.unsubscribe(),vt.delete(r),await a.invalidateQueries({queryKey:l})))}return i}function B0(e){const{socket:t,isConnected:a,url:s}=ro(),n=y(()=>t.value?new P0(t.value):null),i=y(()=>["defimonitor-transfers",s.value,e.value]);return co({queryKey:i,queryFn:()=>{var r;return(r=n.value)==null?void 0:r.subTransfers(e.value)},enabled:a,observable:y(()=>{var r;return(r=n.value)==null?void 0:r.transfers$}),setQueryData:(r,d)=>[...r??[],...d.transfers.flat().filter(p=>p.coinAddress.toLocaleLowerCase()===e.value.toLocaleLowerCase())].takeRight(200),resetOnSubscribe:!0})}const uo=e=>(N("data-v-e463b5d2"),e=e(),H(),e),D0={style:{display:"flex",gap:"1rem"}},M0={class:"transfers-card-body"},R0={class:"transfers-options"},U0={class:"option"},E0=uo(()=>c("div",{class:"label"},"Token",-1)),O0={class:"option"},W0=uo(()=>c("div",{class:"label"},"Min Amount",-1)),K0={class:"hash"},x0=["href"],N0=["href"],H0=["href"],z0=["href"],Q0={class:"token"},j0=["href"],G0={class:"end"},X0=["href"],da=10,Z0=T({__name:"TableTransfers",setup(e){const t=[{address:"0xdAC17F958D2ee523a2206206994597C13D831ec7",symbol:"USDT"},{address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48",symbol:"USDC"}],a=q(t[0]),s=q(0),n=y(()=>{const g=s.value;return typeof g=="string"?parseFloat(g)||0:g||0}),{data:i,isFetching:l}=B0(y(()=>a.value.address)),{relativeTime:r}=De(),d=q(""),p=y(()=>(i.value??[]).filter(g=>{const k=d.value.toLocaleLowerCase().split(" "),$=A=>k.some(L=>A.toLocaleLowerCase().includes(L));return($(g.transferFrom)||$(g.transferTo))&&g.parsedAmount>=n.value}).orderBy([g=>g.blockUnixtime,g=>g.positionInBlock],"desc")),{page:u,rowsPage:h,onPage:f}=wt(p,da),w=g=>g<1?g.toFixed(4):g>1e3?g.toFixed(0):g.toFixed(2),v=async g=>{await navigator.clipboard.writeText(g)};return(g,k)=>{const $=Se,A=Fe,L=q0,F=jt,P=fe,U=ge,x=oe,Ue=R;return _(),S(Ue,{class:"transfers-card",title:"Transfers",loading:o(l)},{actions:b(()=>[c("div",D0,[m($,{modelValue:o(d),"onUpdate:modelValue":k[0]||(k[0]=D=>Y(d)?d.value=D:null),placeholder:"Search for...",search:!0},null,8,["modelValue"]),o(p).length>da?(_(),S(A,{key:0,"items-count":o(p).length,"items-per-page":da,page:o(u),onPage:o(f)},null,8,["items-count","page","onPage"])):B("",!0)])]),default:b(()=>[c("div",M0,[c("div",R0,[c("div",U0,[E0,m(L,{modelValue:o(a),"onUpdate:modelValue":k[1]||(k[1]=D=>Y(a)?a.value=D:null),tokens:t,onSelect:k[2]||(k[2]=D=>a.value=D)},null,8,["modelValue"])]),c("div",O0,[W0,m(F,{modelValue:o(s),"onUpdate:modelValue":k[3]||(k[3]=D=>Y(s)?s.value=D:null),min:0,max:1/0},null,8,["modelValue"])])]),m(x,{class:"transfers-table",rows:o(h),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}]},{row:b(({item:D})=>[c("div",K0,[c("a",{class:"font-mono",href:`https://etherscan.io/tx/${D.txHash}`,target:"_blank"},V(o(Pt)(D.txHash,10)),9,x0),m(P,{icon:"fas fa-link",onClick:ue=>v(D.txHash)},null,8,["onClick"])]),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/block/${D.blockNumber}`,target:"_blank"},V(D.blockNumber),9,N0)]),c("div",null,V(D.gasInGwei),1),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/address/${D.transferFrom}`,target:"_blank"},V(o($e)(D.transferFrom,10)),9,H0)]),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${D.transferTo}`,target:"_blank"},V(o($e)(D.transferTo,10)),9,z0)]),c("div",null,V(w(D.parsedAmount)),1),c("div",Q0,[m(U,{chain:"ethereum",address:D.coinAddress},null,8,["address"]),c("a",{target:"_blank",href:`https://etherscan.io/address/${D.coinAddress}`},V(D.coinSymbol),9,j0)]),c("div",G0,[c("a",{href:`https://etherscan.io/tx/${D.txHash}`,target:"_blank",onClick:k[4]||(k[4]=ve(()=>{},["stop"]))},V(o(r)(D.blockUnixtime)),9,X0)])]),_:1},8,["rows"])])]),_:1},8,["loading"])}}}),Y0=I(Z0,[["__scopeId","data-v-e463b5d2"]]),J0={class:"transfers"},eb=T({__name:"Transfers",setup(e){return(t,a)=>(_(),C("div",J0,[m(Y0,{style:{"grid-area":"transfers"}})]))}}),tb=I(eb,[["__scopeId","data-v-74e96c37"]]);class ab{constructor(t,a){St(this,"swaps$");this.socket=t,this.swaps$=(a==null?void 0:a.swaps$)??Hs(t,"NewSwapDataForAddress")}subSwaps(t){this.socket.emit("connectToGeneralErc20SwapLivestream",t)}}function sb(e){const{socket:t,isConnected:a,url:s}=ro(),n=y(()=>t.value?new ab(t.value):null),i=y(()=>["defimonitor-swaps",s.value,e.value]);return co({queryKey:i,queryFn:()=>{var r;return(r=n.value)==null?void 0:r.subSwaps(e.value)},enabled:a,observable:y(()=>{var r;return(r=n.value)==null?void 0:r.swaps$}),setQueryData:(r,d)=>[...r??[],...d.swaps.flat()].takeRight(200),resetOnSubscribe:!0})}const po=e=>(N("data-v-09cb192c"),e=e(),H(),e),ob={style:{display:"flex",gap:"1rem"}},nb={class:"swaps-card-body"},lb={class:"swaps-options"},rb={class:"option"},ib=po(()=>c("div",{class:"label"},"Token",-1)),cb={class:"item"},ub={class:"label"},db={class:"option"},pb=po(()=>c("div",{class:"label"},"Min Amount",-1)),mb={class:"hash"},hb=["href"],vb=["href"],_b=["href"],fb=["href"],gb={class:"token"},bb=["href"],yb={class:"token"},wb=["href"],kb={class:"end"},$b=["href"],pa=10,Cb=T({__name:"TableSwaps",setup(e){const t=[{address:"0x111111125421ca6dc452d289314280a0f8842a65",name:"1inch V6"},{address:"0x1111111254eeb25477b68fb85ed929f73a960582",name:"1inch V5"}],a=q(t[0]),s=q(0),n=y(()=>{const v=s.value;return typeof v=="string"?parseFloat(v)||0:v||0}),{data:i,isFetching:l}=sb(y(()=>a.value.address)),{relativeTime:r}=De(),d=q(""),p=y(()=>(i.value??[]).filter(v=>{const g=d.value.toLocaleLowerCase().split(" "),k=A=>g.some(L=>A.toLocaleLowerCase().includes(L)),$=v.parsedBeforeAmount>=n.value||v.parsedAfterAmount>=n.value;return(k(v.coinAfterAddress)||k(v.coinAfterSymbol)||k(v.coinBeforeAddress)||k(v.coinBeforeSymbol))&&$}).orderBy([v=>v.blockUnixtime,v=>v.positionInBlock],"desc")),{page:u,rowsPage:h,onPage:f}=wt(p,pa),w=v=>v<1?v.toFixed(4):v>1e3?v.toFixed(0):v.toFixed(2);return(v,g)=>{const k=Se,$=Fe,A=ot,L=jt,F=ge,P=oe,U=R;return _(),S(U,{class:"swaps-card",title:"Swaps",loading:o(l)},{actions:b(()=>[c("div",ob,[m(k,{modelValue:o(d),"onUpdate:modelValue":g[0]||(g[0]=x=>Y(d)?d.value=x:null),placeholder:"Search for...",search:!0},null,8,["modelValue"]),o(p).length>pa?(_(),S($,{key:0,"items-count":o(p).length,"items-per-page":pa,page:o(u),onPage:o(f)},null,8,["items-count","page","onPage"])):B("",!0)])]),default:b(()=>[c("div",nb,[c("div",lb,[c("div",rb,[ib,m(A,{options:t,selected:o(a),onInput:g[1]||(g[1]=x=>a.value=x)},{item:b(({item:{name:x}})=>[c("div",cb,[c("div",ub,V(x??"?"),1)])]),_:1},8,["selected"])]),c("div",db,[pb,m(L,{modelValue:o(s),"onUpdate:modelValue":g[2]||(g[2]=x=>Y(s)?s.value=x:null),min:0,max:1/0},null,8,["modelValue"])])]),m(P,{class:"swaps-table",rows:o(h),columns:["Hash","Block","Gas","From","To","In","Out",{label:"Age",align:"end"}]},{row:b(({item:x})=>[c("div",mb,[c("a",{class:"font-mono",href:`https://etherscan.io/tx/${x.txHash}`,target:"_blank"},V(o(Pt)(x.txHash,10)),9,hb)]),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/block/${x.blockNumber}`,target:"_blank"},V(x.blockNumber),9,vb)]),c("div",null,V(x.gasInGwei),1),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/address/${x.coinBeforeAddress}`,target:"_blank"},V(o(Pt)(x.coinBeforeAddress,5)),9,_b)]),c("div",null,[c("a",{class:"font-mono",href:`https://etherscan.io/address/${x.coinAfterAddress}`,target:"_blank"},V(o(Pt)(x.coinAfterAddress,5)),9,fb)]),c("div",gb,[m(F,{chain:"ethereum",address:x.coinBeforeAddress},null,8,["address"]),E(" "+V(w(x.parsedBeforeAmount))+" ",1),c("a",{target:"_blank",href:`https://etherscan.io/address/${x.coinBeforeAddress}`},V(x.coinBeforeSymbol),9,bb)]),c("div",yb,[m(F,{chain:"ethereum",address:x.coinAfterAddress},null,8,["address"]),E(" "+V(w(x.parsedAfterAmount))+" ",1),c("a",{target:"_blank",href:`https://etherscan.io/address/${x.coinAfterAddress}`},V(x.coinAfterSymbol),9,wb)]),c("div",kb,[c("a",{href:`https://etherscan.io/tx/${x.txHash}`,target:"_blank",onClick:g[3]||(g[3]=ve(()=>{},["stop"]))},V(o(r)(x.blockUnixtime)),9,$b)])]),_:1},8,["rows"])])]),_:1},8,["loading"])}}}),Sb=I(Cb,[["__scopeId","data-v-09cb192c"]]),Ab={class:"swaps"},Lb=T({__name:"Swaps",setup(e){return(t,a)=>(_(),C("div",Ab,[m(Sb,{style:{"grid-area":"swaps"}})]))}}),Tb=I(Lb,[["__scopeId","data-v-ad177650"]]),Ib={class:"monitor"},Vb=T({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:a}=rt(["transfers","swaps"],"defimonitor");return(s,n)=>{const i=Re,l=Me;return _(),C("div",Ib,[m(l,{active:o(a),onTab:n[0]||(n[0]=r=>a.value=r.index)},{default:b(()=>[m(i,{header:"Transfers"},{default:b(()=>[(_(),S(ce,null,[o(t)==="transfers"?(_(),S(tb,{key:0})):B("",!0)],1024))]),_:1}),m(i,{header:"Swaps"},{default:b(()=>[(_(),S(ce,null,[o(t)==="swaps"?(_(),S(Tb,{key:0})):B("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),qb=I(Vb,[["__scopeId","data-v-cd21d15d"]]),Pb=[{path:"/",component:xc},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:Au},{path:"/platform/pools/:chain?",name:"pools",component:vd},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:Wd},{path:"/platform/revenue/:tab?",name:"revenue",component:Dm},{path:"/platform/crvusd",name:"crvusd",component:Oh},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:r_},{path:"/platform/lending/:chain?",name:"llamalend",component:F_},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:yf},{path:"/platform/monitor",name:"monitor",component:Zf},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:G1},{path:"/dao/proposal/:proposalType/:proposalId",component:Y1},{path:"/dao/vefunder",component:L0},{path:"/defimonitor/:tab?",name:"defimonitor",component:qb}],Fb={titleRoute:"/",menuItems:[{label:"Articles",url:"https://blog.curvemonitor.com/"},{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]}]};let mo="http://localhost:8545";mo=void 0;function Bb(e=[]){return Yo({chains:[xe],connectors:[Ra(),...e],transports:{[xe.id]:Jo([Ua(mo,{batch:{wait:100}}),en(Ra),Ua("https://eth.llamarpc.com",{batch:{wait:200}})])}})}function Db(e,t){const a=tn(e);for(const i of[])a.use(i);const s=an();a.use(s);const n=new sn({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:on}},queryCache:new nn({onError:(i,l)=>{i.message.includes("Connector not connected")||i.message.includes("connector2.getAccounts is not a function")||i.message.includes("getAccounts is not a function")||Ae({text:`Failed querying ${l.queryHash} >>> ${i.message}`,type:"error"})}})});return a.use(ln).use(rn,{queryClient:n}).use(cn).use(un,{config:Bb(t==null?void 0:t.extraWagmiConnectors)}),{app:a,pinia:s}}const{app:Mb}=Db($r),Rb=[Fb],Ub=[Pb],ho=wa();ho.pages=Rb;ho.routes=Ub;const Eb=Jr();Mb.use(Eb).mount("#app");

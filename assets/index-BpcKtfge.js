import{o as g,c as A,p as se,a as oe,b as p,d as I,e as P,n as x,f as D,r as Z,g as H,t as L,w,h as _,T as Wr,F as J,i as ue,j as ha,k as yt,l as V,u as xe,m as lt,q as a,V as Nr,s as Hr,v as Kr,x as zr,y as q,z as Qr,D as Re,A as fa,B as y,C as N,E as jr,G as Gr,H as Xr,I as ft,J as zo,K as Te,L as F,M as Qo,N as pe,O as ga,P as Ot,Q as Yr,R as Zr,S as Jr,U as ei,W as Ce,X as jo,Y as ti,Z as ai,_ as j,$ as Zt,a0 as Ke,a1 as wt,a2 as si,a3 as oi,a4 as ua,a5 as ni,a6 as li,a7 as E,a8 as Et,a9 as le,aa as de,ab as ri,ac as ii,ad as ye,ae as Wt,af as ci,ag as ba,ah as ui,ai as B,aj as ge,ak as ya,al as Go,am as Ut,an as di,ao as pi,ap as mi,aq as vi,ar as ht,as as Oa,at as Ea,au as wa,av as Ca,aw as _i,ax as Xo,ay as Yo,az as Wa,aA as hi,aB as fi,aC as gi,aD as Zo,aE as bi,aF as Na,aG as yi,aH as wi,aI as Ci,aJ as ki,aK as Ha,aL as $i,aM as Si,aN as Ai,aO as Li,aP as Ti,aQ as Ii,aR as Pi,aS as Ri,aT as Vi,aU as qi,aV as Fi}from"./vendor-CzHV0gZt.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(n){if(n.ep)return;n.ep=!0;const l=s(n);fetch(n.href,l)}})();const R=(e,t)=>{const s=e.__vccOpts||e;for(const[o,n]of t)s[o]=n;return s},Di={},Jo=e=>(se("data-v-ad2adcec"),e=e(),oe(),e),Mi={class:"lds-ripple"},xi=Jo(()=>p("div",null,null,-1)),Bi=Jo(()=>p("div",null,null,-1)),Ui=[xi,Bi];function Oi(e,t){return g(),A("div",Mi,Ui)}const Qe=R(Di,[["render",Oi],["__scopeId","data-v-ad2adcec"]]),Ei=["inert"],Wi={key:0,class:"title"},Ni=I({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(e){return(t,s)=>{const o=Qe;return g(),A("div",{class:x(["card",{loading:t.loading}]),inert:!!t.loading},[t.loading!==null?(g(),P(o,{key:0,class:x(["loader",{loading:t.loading}])},null,8,["class"])):D("",!0),t.title||t.$slots.title||t.$slots.actions?(g(),A("div",{key:1,class:x(["card-header",{collapsible:t.collapsible}])},[Z(t.$slots,"title",{},()=>[t.title?(g(),A("div",Wi,[t.icon?(g(),A("i",{key:0,class:x(["icon",t.icon])},null,2)):D("",!0),H(" "+L(t.title),1)])):D("",!0)],!0),Z(t.$slots,"actions",{},void 0,!0)],2)):(g(),A("div",{key:2,class:x(["card-no-header",{compact:t.compact}])},null,2)),p("div",{class:x(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[Z(t.$slots,"default",{},void 0,!0)],2)],10,Ei)}}}),U=R(Ni,[["__scopeId","data-v-c6d0f5d6"]]),Hi={key:0,class:"fas fa-chevron-right"},Ki=I({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const s=t,o=l=>{var r;const u=e.active?e.active.id===l.id:((r=e.crumbs.filter(i=>!i.hint).at(-1))==null?void 0:r.id)===l.id;return l.hint??u},n=l=>{var u;return((u=e.crumbs.at(-1))==null?void 0:u.id)===l.id};return(l,u)=>{const r=U;return g(),P(r,null,{default:w(()=>[_(Wr,{name:"fade",tag:"ul"},{default:w(()=>[(g(!0),A(J,null,ue(l.crumbs,i=>(g(),A("li",{key:i.id},[(g(),P(ha(o(i)?"span":"a"),{class:x({active:o(i),hint:i.hint}),onClick:c=>s("crumb",i)},{default:w(()=>[H(L(i.label),1)]),_:2},1032,["class","onClick"])),!n(i)||l.crumbs.length===1?(g(),A("i",Hi)):D("",!0)]))),128))]),_:1})]),_:1})}}}),zi=R(Ki,[["__scopeId","data-v-1c1116d3"]]),Fe=yt("breadcrumbStore",()=>{const e=V([]),t=V(!1);return{crumbs:e,show:t}}),Qi=e=>(se("data-v-a9017ae5"),e=e(),oe(),e),ji={class:"root"},Gi={class:"toolbar-container"},Xi=Qi(()=>p("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Yi={class:"content"},Zi=I({__name:"Layout",setup(e){const t=Fe(),s=xe(),o=async n=>{n.pathName&&await s.push({name:n.pathName,...n.params&&{params:n.params()}})};return(n,l)=>{const u=lt("notifications"),r=zi,i=lt("router-view");return g(),A("div",ji,[_(u,{width:600,duration:-1}),_(a(Nr)),Z(n.$slots,"navigation",{},void 0,!0),p("main",null,[p("div",Gi,[a(t).show?(g(),P(r,{key:0,class:"breadcrumb",crumbs:a(t).crumbs,onCrumb:o},null,8,["crumbs"])):D("",!0),Xi]),p("div",Yi,[_(i,null,{default:w(({Component:c})=>[_(Hr,{name:"fade",mode:"out-in"},{default:w(()=>[(g(),P(ha(c)))]),_:2},1024)]),_:1})])])])}}}),Ji=R(Zi,[["__scopeId","data-v-a9017ae5"]]),ec={class:"collapsible-inside"},tc=I({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,s)=>(g(),A("div",{class:x(["collapsible-outside",{expanded:t.expanded}])},[p("div",ec,[Z(t.$slots,"default",{},void 0,!0)])],2))}}),Ct=R(tc,[["__scopeId","data-v-25b74378"]]),ac={class:"badge"},sc={class:"label"},oc=I({__name:"Badge",props:{label:{default:""}},setup(e){return(t,s)=>(g(),A("div",ac,[p("div",sc,L(t.label),1)]))}}),nc=R(oc,[["__scopeId","data-v-79abf25e"]]);function qt(e){return!!e.children}function Ka(e){return!!e.to}function lc(e){return!!e.url}function rc(e,t,s){return e.reduce((o,n)=>({...o,[t(n)]:s(n)}),{})}function ic(e){return e!=null}function cc(e){function t(d){return d<10?"0"+d.toString():d.toString()}const s=e.getTime()-new Date().getTime();if(s<=0)return"00:00:00:00";const o=1e3,n=o*60,l=n*60,u=l*24,r=Math.floor(s/u),i=Math.floor(s%u/l),c=Math.floor(s%l/n),m=Math.floor(s%n/o);return t(r)+":"+t(i)+":"+t(c)+":"+t(m)}function Ne(e,t=0,s=".",o=","){const n=isFinite(+e)?+e:0,l=isFinite(+t)?Math.abs(t):0,u=typeof o>"u"?",":o,r=typeof s>"u"?".":s,i=function(m,d){const v=Math.pow(10,d);return Math.round(m*v)/v},c=(l?i(n,l):Math.round(n)).toString().split(".");return c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,u)),(c[1]||"").length<l&&(c[1]=c[1]||"",c[1]+=new Array(l-c[1].length+1).join("0")),c.join(r)}function z(e,t){const s=Math.abs(e);return t==="percentage"?"%":t==="dollar"?s>=1*10**12?"t":s>=1*10**9?"b":s>=1*10**6?"m":s>=1*10**3?"k":"":""}function Q(e,t,s){const o=Math.abs(e);return t===1/0?e.toLocaleString():s==="percentage"?Ne(e,t):s==="dollar"?o>=1*10**12?Ne(e/10**12,t):o>=1*10**9?Ne(e/10**9,t):o>=1*10**6?Ne(e/10**6,t):o>=1*10**3?Ne(e/10**3,t):Ne(e,t):e.toString()}function He(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function De(e,t){return parseFloat(Kr(e,Number(t)))}function ka(e,t){const s=Number(t),o=Number.isInteger(e)?e.toString():e.toFixed(s);return zr(o,s)}async function en(e,t=0,s=1e3){const o=await e(t,s),n=await(o.length>=s?en(e,t+1,s):Promise.resolve([]));return o.concat(n)}const tn={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},Jt=["tricrypto","usdm"];function Me(e){const t=tn[e];return t||e}function $a(e){const t=q.invert(tn)[e];return t||e}function uc(e){return!!(Jt.find(t=>t===e)??Jt.find(t=>t===Me(e))??Jt.find(t=>t===$a(e)))}async function gt(e,t=250){const s=new Promise(n=>setTimeout(()=>{n(null)},t)),[,o]=await Promise.all([s,e]);return o}function da(e,t){return(Array.isArray(e)?e:[e]).some(o=>t.path.startsWith(o))}const an="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",za="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",sn="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",on="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Ye="0xe478de485ad2fe566d49342cbd03e49ed7db3356",dc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",pc=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],mc={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class vc extends Error{constructor(t,s){super(s),this.status=t}}async function _c(e,t,s){try{const o=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:s});if(o.ok)return o;throw new vc(o.status,`Fetch error ${o.status} for URL: ${e}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function hc(e,t,s){return await(await _c(e,t,s)).json()}class Ae{async fetch(t,s,o){return hc(t,s,o)}}class je extends Ae{constructor(t){super(),this.host=t}async getHost(){return await this.host}}class nn extends Ae{async getPrice(t){const s=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${s}`).then(o=>o.coins[s])}async getPrices(t){const s=t.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${s}`).then(o=>o.coins)}}async function fc(e,t,s){const o=Qr({abi:pc,address:dc,client:e}),n=await o.read.mainRewardRates().then(([d,v])=>q.zip(d,v)),l=await o.read.extraRewardRates().then(([d,v])=>q.zip(d,v)),u=q.chain(n).concat(l).filter(d=>d[1]>0).groupBy(d=>d[0]).map((d,v)=>({address:v,rate:d.reduce((f,h)=>f+h[1],BigInt(0))})).value(),r=q.chain(u).map(d=>d.address).concat([za]).uniq().value(),i=await t.getPrices(r).then(d=>rc(Object.keys(d).map(v=>({address:v.replace("ethereum:","").toLocaleLowerCase(),price:d[v].price})),v=>v.address,v=>ka(v.price,18n))),c=[],m=i[za];for(const d of u){const v=await o.read.apr([d.rate,i[d.address.toLocaleLowerCase()],m]),f=De(v,18n);c.push(f)}return c}function xt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function ln(e,t){e.value=!0;try{return await t()}catch(s){Re({text:xt(s),type:"error"});return}finally{e.value=!1}}const gc={key:0},bc={class:"nav-link-container"},yc={key:1},wc=["href"],Cc={class:"nav-link-container"},kc={class:"nav-link-container"},$c={class:"left"},Sc={key:0,class:"icon"},Ac={class:"right"},Lc=I({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const s=t,o=fa(),n=V(!0),l=y(()=>Ka(e.item)?[e.item]:qt(e.item)?e.item.children:[]),u=()=>{qt(e.item)&&e.item.children.filter(m=>da(m.to,o)).length>0&&(n.value=!0)},r=c=>typeof c.label=="string"?c.label:c.label();N(()=>e.item,c=>{qt(c)&&(n.value=!c.initCollapsed),u()},{immediate:!0}),N(()=>o.fullPath,()=>{u()},{immediate:!0});const i=()=>{n.value=!n.value};return(c,m)=>{const d=nc,v=lt("router-link"),f=Ct;return g(),A(J,null,[a(qt)(c.item)?(g(),A("li",gc,[p("a",{class:"nav-link node",onClick:i},[p("div",bc,[H(L(c.item.label)+" ",1),p("i",{class:x(["expander fas fa-chevron-up",{expanded:a(n)}])},null,2)])])])):D("",!0),a(lc)(c.item)?(g(),A("li",yc,[p("a",{class:"nav-link node",href:c.item.url,target:"_blank"},[p("div",Cc,L(c.item.label),1)],8,wc)])):D("",!0),_(f,{class:"items",expanded:a(n)},{default:w(()=>[p("ul",null,[(g(!0),A(J,null,ue(a(l),h=>(g(),A("li",{key:r(h)},[a(Ka)(h)?(g(),P(v,{key:0,to:h.to,class:x(["nav-link leaf",{"router-link-active":a(da)(h.to,a(o))}]),onClick:m[0]||(m[0]=b=>s("navigated"))},{default:w(()=>[p("div",kc,[p("div",$c,[h.icon?(g(),A("div",Sc,[p("i",{class:x(h.icon)},null,2)])):D("",!0),H(" "+L(r(h)),1)]),p("div",Ac,[h.tag?(g(),P(d,{key:0,label:h.tag},null,8,["label"])):D("",!0)])])]),_:2},1032,["to","class"])):D("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),Tc=R(Lc,[["__scopeId","data-v-b160fcc1"]]),Ic=I({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const s=t,o=fa(),n=y(()=>e.pages.find(r=>da(r.titleRoute,o))),l=y(()=>{var r;return((r=n.value)==null?void 0:r.menuItems)??[]}),u=r=>typeof r.label=="string"?r.label:r.label();return(r,i)=>(g(),A("nav",null,[(g(!0),A(J,null,ue(a(l),c=>(g(),A("ul",{key:u(c)},[_(Tc,{item:c,onNavigated:i[0]||(i[0]=m=>s("navigated"))},null,8,["item"])]))),128))]))}}),Pc=R(Ic,[["__scopeId","data-v-320414b3"]]);function kt(){const{address:e,isConnected:t,chainId:s}=jr(),o=Gr(),n=y(()=>o.data.value&&e.value?e.value.toLocaleLowerCase():void 0),l=y(()=>{switch(s.value){case ft.id:return"ethereum";case Xr.id:return"base";default:return}});return{isConnected:t,network:l,address:n}}function Se(e,t=6){if(!e)return"0x000...000";const s=t/2+2,o=e.length-t/2;return`${e.substring(0,s)}...${e.substring(o)}`}function Rc(e,t=6){if(!e)return"0x000";const s=Math.min(e.length,t+2);return e.length>s?`${e.substring(0,s)}...`:e}const Vc=I({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const s=t,{network:o}=kt(),{switchChain:n}=zo(),l=u=>{u.stopImmediatePropagation(),e.web3&&o.value!=="ethereum"&&n({chainId:ft.id}),s("click")};return(u,r)=>(g(),A("button",{class:x({primary:u.primary}),onClick:l},[Z(u.$slots,"default",{},()=>[u.icon?(g(),A("i",{key:0,class:x(["icon",[u.icon,{noValue:!!u.value}]])},null,2)):D("",!0),H(" "+L(u.value),1)],!0)],2))}}),we=R(Vc,[["__scopeId","data-v-a01f98b9"]]),qc="/assets/crv-CKEIQw2g.png",Fc="/assets/hat-D1qfnSjv.png",Dc={},rn=e=>(se("data-v-873449c5"),e=e(),oe(),e),Mc={class:"logo"},xc=rn(()=>p("div",{class:"visual"},[p("img",{src:qc}),p("img",{src:Fc})],-1)),Bc=rn(()=>p("span",null,"curve.monitor",-1)),Uc=[xc,Bc];function Oc(e,t){return g(),A("div",Mc,Uc)}const Ec=R(Dc,[["render",Oc],["__scopeId","data-v-873449c5"]]),Wc={class:"header"},Nc={class:"buttons"},Hc=I({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const s=t;return(o,n)=>{const l=lt("router-link"),u=we;return g(),A("div",Wc,[_(l,{class:"logo",to:"/",onClick:n[0]||(n[0]=r=>s("navigated"))},{default:w(()=>[_(Ec,{class:"logo"})]),_:1}),p("div",Nc,[_(u,{icon:"fas fa-bars",onClick:n[1]||(n[1]=r=>s("toggle-expansion"))})])])}}}),Kc=R(Hc,[["__scopeId","data-v-edc55270"]]),zc=e=>(se("data-v-9d368235"),e=e(),oe(),e),Qc={class:"select"},jc={class:"item"},Gc={key:0,class:"label"},Xc=["onClick"],Yc=zc(()=>p("div",{class:"chevrons"},[p("i",{class:"fas fa-chevron-up"}),p("i",{class:"fas fa-chevron-down"})],-1)),Zc=I({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(e,{emit:t}){const s=t;return(o,n)=>(g(),A("div",{class:"select-container",tabindex:"0",onClick:n[0]||(n[0]=Te(l=>s("open"),["stop"])),onBlur:n[1]||(n[1]=l=>s("close"))},[p("div",Qc,[p("div",{class:x(["selected",{open:o.open}])},[Z(o.$slots,"item",{item:o.selected},()=>[p("div",jc,L(o.selected),1)],!0),o.label?(g(),A("div",Gc,L(o.label),1)):D("",!0)],2),p("div",{class:x(["items",{selectHide:!o.open}])},[(g(!0),A(J,null,ue(o.options,(l,u)=>(g(),A("div",{key:u,onClick:r=>s("input",l)},[Z(o.$slots,"item",{item:l},()=>[H(L(l),1)],!0)],8,Xc))),128))],2)]),Yc],32))}}),$t=R(Zc,[["__scopeId","data-v-9d368235"]]),Jc=["en","zh","fr"],eu={class:"item"},tu={class:"label"},au="locale",cn=I({__name:"SelectLanguage",props:{locales:{default:()=>Jc},direction:{default:"up"}},setup(e){const{t}=F(),s=Qo(au,"en"),{locale:o}=F({useScope:"global"});pe(()=>{u(s.value)});const n=V(!1),l=()=>{n.value=!n.value},u=r=>{s.value=r,o.value=s.value};return(r,i)=>{const c=$t;return g(),P(c,{class:x(["select",{"direction-up":r.direction==="up"}]),options:r.locales.map(m=>m),selected:a(s),open:a(n),onOpen:l,onClose:i[0]||(i[0]=m=>n.value=!1),onInput:u},{item:w(m=>[p("div",eu,[p("div",tu,L(a(t)(m.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function Qa(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{en:{t:0,b:{t:2,i:[{t:3}],s:"English"}},zh:{t:0,b:{t:2,i:[{t:3}],s:"中文"}},fr:{t:0,b:{t:2,i:[{t:3}],s:"Français"}}}})}typeof Qa=="function"&&Qa(cn);const su=R(cn,[["__scopeId","data-v-1e04f93c"]]),ou={key:0,class:"modal"},nu={class:"modal-popup"},lu=I({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const s=t,o=n=>{n.code==="Escape"&&s("close")};return pe(()=>{document.addEventListener("keydown",o)}),ga(()=>{document.removeEventListener("keydown",o)}),N(()=>e.show,n=>{document.body.style.overflow=n?"hidden":""}),(n,l)=>(g(),P(Ot,{to:"body"},[n.show?(g(),A("div",ou,[p("div",{class:"modal-mask",onClick:l[0]||(l[0]=u=>s("close"))}),p("div",nu,[Z(n.$slots,"default",{},void 0,!0)])])):D("",!0)]))}}),Sa=R(lu,[["__scopeId","data-v-b0df9b35"]]),ru="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",iu={key:1,src:ru},cu=I({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const s=t,o=V(!1);return N(o,n=>s("show",n)),(n,l)=>(g(),P(a(Yr),{class:"tooltip",show:a(o)},{content:w(()=>[Z(n.$slots,"default",{},void 0,!0)]),default:w(()=>[p("div",{onMouseover:l[0]||(l[0]=u=>o.value=!0),onMouseleave:l[1]||(l[1]=u=>o.value=!1)},[Z(n.$slots,"item",{},()=>[n.icon?(g(),A("i",{key:0,class:x(n.icon)},null,2)):(g(),A("img",iu))],!0)],32)]),_:3},8,["show"]))}}),Nt=R(cu,[["__scopeId","data-v-ee2caf15"]]),uu="/assets/injected-DW80ouY-.webp",du="/assets/rabby-CG__llS3.svg",pu="/assets/walletconnect-BCBhrtde.webp",mu="/assets/coinbase-CsqSq8Nj.webp",vu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",_u={class:"buttons"},hu={class:"connectors-body"},fu={class:"title"},gu={class:"connectors"},bu=["src"],yu={key:1,class:"empty"},wu={class:"name"},Aa=I({__name:"WalletConnectButton",setup(e){const{t}=F(),{connect:s}=Zr(),o=Jr(),n=["injected","walletConnect","coinbaseWalletSDK","safe"],l=y(()=>o.value.filter(m=>n.includes(m.id))),u=V(!1);function r(m){switch(m.id){case"injected":return uu;case"walletConnect":return pu;case"coinbaseWalletSDK":return mu;case"safe":return vu;case"io.rabby":return du;default:return""}}function i(m){return m.id==="injected"?"Browser Extension":m.name}function c(m){s({connector:m}),u.value=!1}return(m,d)=>{const v=we,f=U,h=Sa;return g(),A("div",_u,[_(v,{class:"button",primary:!0,onClick:d[0]||(d[0]=b=>u.value=!0)},{default:w(()=>[H(L(a(t)("connect-your-wallet")),1)]),_:1}),D("",!0),_(h,{show:a(u),onClose:d[1]||(d[1]=b=>u.value=!1)},{default:w(()=>[_(f,null,{default:w(()=>[p("div",hu,[p("div",fu,L(a(t)("connect-your-wallet")),1),p("div",gu,[(g(!0),A(J,null,ue(a(l),b=>(g(),A("div",{key:b.id,class:"connector"},[_(v,{onClick:C=>c(b)},{default:w(()=>[r(b)?(g(),A("img",{key:0,src:r(b)},null,8,bu)):(g(),A("div",yu)),p("div",wu,L(i(b)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function ja(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function Ga(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof ja=="function"&&ja(Aa);typeof Ga=="function"&&Ga(Aa);const Cu=R(Aa,[["__scopeId","data-v-3c15f258"]]),ku={class:"wallet"},$u={key:0,class:"connected"},Su={key:0,class:"unsupportedNetwork"},Au={class:"info"},Lu={key:1,class:"notConnected"},Tu={key:0,class:"info"},un=I({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{t}=F(),{disconnect:s}=ei(),{isConnected:o,network:n,address:l}=kt(),{switchChain:u}=zo(),r=y(()=>n.value==="ethereum"),i=()=>u({chainId:ft.id});return(c,m)=>{const d=we;return g(),A("div",ku,[a(o)?(g(),A("div",$u,[a(r)?D("",!0):(g(),A("div",Su,[_(d,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:i}),p("span",Au,L(a(t)("incorrect-network")),1)])),_(d,{class:"disconnect",icon:"fas fa-check",value:a(Se)(a(l)),onClick:a(s)},null,8,["value","onClick"])])):(g(),A("div",Lu,[_(Cu),c.labelPleaseConnect?(g(),A("span",Tu,L(c.labelPleaseConnect),1)):D("",!0)]))])}}});function Xa(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof Xa=="function"&&Xa(un);const Iu=R(un,[["__scopeId","data-v-610d17cd"]]),tt={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},Pu=[tt.blue,tt.yellow,tt.green,tt.red,tt.purple],at={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},Ru=[at.blue,at.yellow,at.green,at.red,at.purple],st={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},Vu=[st.blue,st.yellow,st.green,st.red,st.purple];function Bt(e){switch(e){case"chad":return st;case"light":return at;default:return tt}}function qu(e){switch(e){case"chad":return Vu;case"light":return Ru;default:return Pu}}const K=yt("settingsStore",()=>{const e=V("light"),t=y(()=>({colors:Bt(e.value),colorsArray:qu(e.value)}));return{themeId:e,theme:t}}),Fu={class:"theme"},Du={class:"label"},Mu={class:"colors"},xu="theme",Bu=I({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Bt("chad")},{id:"dark",colors:Bt("dark")},{id:"light",colors:Bt("light")}],s=K(),n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l=Qo(xu,t.find(c=>c.id===n)??t[0],void 0,{serializer:{read:c=>t.find(m=>m.id===c)??t[0],write:c=>c.id}});pe(()=>{i(l.value)});const u=V(!1),r=()=>{u.value=!u.value},i=c=>{l.value=c,window.document.documentElement.setAttribute("data-theme",c.id),s.themeId=c.id};return(c,m)=>{const d=$t;return g(),P(d,{class:"select direction-up",options:t.map(v=>v),selected:a(l),open:a(u),onOpen:r,onClose:m[0]||(m[0]=v=>u.value=!1),onInput:i},{item:w(v=>[p("div",Fu,[p("div",Du,L(v.item.id),1),p("div",Mu,[p("div",{class:"color",style:Ce({"background-color":v.item.colors.backgroundColor})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.level1})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.level2})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.blue})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.yellow})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.green})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.red})},null,4),p("div",{class:"color",style:Ce({"background-color":v.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Uu=R(Bu,[["__scopeId","data-v-caaa7fab"]]),Ou={class:"bottom"},Eu={class:"buttons"},Wu={href:"https://twitter.com/0xAlunara",target:"_blank"},Nu={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},Hu={class:"selectors"},Ku=I({__name:"Bottom",setup(e){const t=xe(),s=async()=>{await navigator.clipboard.writeText(window.location.href)};return(o,n)=>{const l=we,u=su;return g(),A("div",Ou,[p("div",Eu,[_(l,{class:"copy",icon:"fas fa-link",onClick:s}),p("a",Wu,[_(l,{icon:"fab fa-twitter"})]),p("a",Nu,[_(l,{icon:"fab fa-github"})]),_(l,{icon:"fas fa-code",onClick:n[0]||(n[0]=r=>a(t).push("/code"))})]),p("div",Hu,[_(Uu,{class:"themes"}),_(u,{class:"langs",locales:["en"]})]),_(Iu)])}}}),zu=R(Ku,[["__scopeId","data-v-464b5569"]]),La=()=>yt("pageStore",()=>{const e=V([]),t=V([]);return{pages:e,routes:t}})(),Qu=I({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const s=t,o=La(),n=V(!1),l=()=>{n.value=!1,s("navigated")};return(u,r)=>{const i=Pc,c=Ct;return g(),A("div",{class:x(["menu-desktop",{expanded:a(n)}])},[_(Kc,{onToggleExpansion:r[0]||(r[0]=m=>n.value=!a(n)),onNavigated:l}),_(c,{class:"menu-content",expanded:a(n)},{default:w(()=>[_(i,{pages:a(o).pages,onNavigated:l},null,8,["pages"]),_(zu,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),ju=R(Qu,[["__scopeId","data-v-3e40060f"]]),Gu=I({__name:"App",setup(e){const t=Fe(),s=fa();return N(()=>s.fullPath,o=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(l=>o.startsWith(l))||(t.show=!1)}),(o,n)=>{const l=Ji;return g(),P(l,null,{navigation:w(()=>[_(ju,{class:"navigation"})]),_:1})}}}),Xu=R(Gu,[["__scopeId","data-v-1d99b6b8"]]),Yu="/assets/404-DGbqGNxT.png",Zu=e=>(se("data-v-3987f8f8"),e=e(),oe(),e),Ju={class:"not-found"},ed={class:"not-found-container"},td=Zu(()=>p("img",{src:Yu},null,-1)),dn=I({__name:"NotFound.page",setup(e){const{t}=F();return(s,o)=>{const n=U;return g(),A("div",Ju,[p("div",ed,[_(n,null,{default:w(()=>[H(L(a(t)("404")),1)]),_:1}),td])])}}});function Ya(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof Ya=="function"&&Ya(dn);const ad=R(dn,[["__scopeId","data-v-3987f8f8"]]),pn=e=>(se("data-v-16243365"),e=e(),oe(),e),sd={key:0,class:"expander"},od=pn(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),nd=[od],ld={key:1,class:"expander"},rd=pn(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),id=[rd],cd={class:"row-details"},ud=I({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const s=t,o=jo(),n=y(()=>{var r;const u=o["row-details"];if(u){const i=(r=u()[0])==null?void 0:r.children;if(i)return i.length>0}return!1}),l=()=>{s("click",e.data)};return(u,r)=>{const i=Ct;return g(),A("div",{class:x(["row",{expanded:u.expanded}])},[p("div",{class:x(["row-data",{active:u.selected,expandable:a(n),"has-data":!!u.data}]),onClick:l},[u.data&&a(n)&&u.expandSide==="left"?(g(),A("div",sd,nd)):D("",!0),Z(u.$slots,"row",{},void 0,!0),u.data&&a(n)&&u.expandSide!=="left"?(g(),A("div",ld,id)):D("",!0)],2),u.data?(g(),P(i,{key:0,expanded:u.expanded},{default:w(()=>[p("div",cd,[Z(u.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):D("",!0)],2)}}}),dd=R(ud,[["__scopeId","data-v-16243365"]]),pd={class:"table"},md=["onClick"],vd={key:1,class:"no-data"},Ta=I({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=y(()=>{if(e.rowsMin===null)return[];const d=Math.max(0,e.rowsMin-e.rows.length);return new Array(d)}),l=y(()=>e.columns.map(d=>typeof d=="string"?{id:d,label:d}:d)),u=d=>{d&&o("selected",d)},r=d=>{const v=d+1;return!!(e.rows[d+1]&&e.rows.findIndex(b=>b===e.selectedRow)===v)},i=d=>e.sorting.column===d.id&&e.sorting.order==="asc",c=d=>e.sorting.column===d.id&&e.sorting.order==="desc",m=d=>{if(!d.sort)return;const v=d.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";o("sortColumn",d.id,v)};return(d,v)=>{const f=dd;return g(),A("div",pd,[d.columns.length>0?(g(),P(f,{key:0,class:x({"selected-below":r(-1)})},{row:w(()=>[(g(!0),A(J,null,ue(a(l),h=>(g(),A("div",{key:h.id,class:x(["column-header",{sortable:h.sort,sorting:h.sort&&d.sorting.column===h.id,[h.align||""]:!!h.align}]),onClick:b=>m(h)},[p("span",null,L(h.label),1),h.sort?(g(),A("i",{key:0,class:x(["sorting-arrow fa fa-caret-right",{asc:i(h),desc:c(h)}])},null,2)):D("",!0)],10,md))),128))]),_:1},8,["class"])):D("",!0),(g(!0),A(J,null,ue(d.rows,(h,b)=>(g(),P(f,{key:h,data:h,class:x({"selected-below":r(b)}),selected:d.selectedRow===h,expanded:d.expanded.includes(h),"expand-side":d.expandSide,onClick:u},{row:w(()=>[Z(d.$slots,"row",{item:h},void 0,!0)]),"row-details":w(()=>[Z(d.$slots,"row-details",{item:h},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(g(!0),A(J,null,ue(a(n),h=>(g(),P(f,{key:h}))),128)),!d.rowsMin&&(!d.rows||d.rows.length===0)?(g(),A("div",vd,[Z(d.$slots,"no-data",{},()=>[H(L(a(s)("no-data")),1)],!0)])):D("",!0),d.$slots["row-aggregation"]&&d.rows.length>0?(g(),P(f,{key:2,class:"aggregation"},{row:w(()=>[Z(d.$slots,"row-aggregation",{},void 0,!0)]),_:3})):D("",!0)])}}});function Za(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function Ja(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof Za=="function"&&Za(Ta);typeof Ja=="function"&&Ja(Ta);const ne=R(Ta,[["__scopeId","data-v-7585a93a"]]),_d={class:"contracts"},hd=["href"],fd=["href"],gd=["href"],mn=I({__name:"Code.page",setup(e){const{t}=F(),o=[{name:"veFunder",contracts:[{contract:sn,description:"gauge-factory"},{contract:on,description:"gauge-controller"}]}],n=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],l=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],u=r=>{switch(r.network){case"arbitrum":return r.gnosis?`https://app.safe.global/home?safe=arb1:${r.contract}`:`https://arbiscan.io/address/${r.contract}`;case"ethereum":default:return r.gnosis?`https://app.safe.global/home?safe=eth:${r.contract}`:`https://etherscan.io/address/${r.contract}`}};return(r,i)=>{const c=ne,m=U;return g(),A("div",_d,[_(m,{title:a(t)("repositories")},{default:w(()=>[_(c,{class:"repositories-table",rows:n,columns:[a(t)("repository"),a(t)("description")],title:"Yolo"},{row:w(d=>[p("div",null,[p("a",{href:d.item.url,target:"_blank"},L(d.item.name),9,hd)]),p("div",null,L(a(t)(d.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),_(m,{title:a(t)("apis")},{default:w(()=>[_(c,{class:"apis-table","columns-data":"apis-columns-data",rows:l,columns:[a(t)("api"),a(t)("description")]},{row:w(d=>[p("div",null,[p("a",{href:d.item.url,target:"_blank"},L(d.item.name),9,fd)]),p("div",null,L(a(t)(d.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),(g(),A(J,null,ue(o,(d,v)=>_(m,{key:v,title:a(t)(d.name)},{default:w(()=>[_(c,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:d.contracts,columns:[a(t)("contract"),a(t)("description")]},{row:w(f=>[p("div",null,[p("a",{href:u(f.item),target:"_blank"},L(f.item.contract),9,gd)]),p("div",null,L(a(t)(f.item.description)),1)]),_:2},1032,["rows","columns"])]),_:2},1032,["title"])),64))])}}});function es(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},apis:{t:0,b:{t:2,i:[{t:3}],s:"APIs"}},api:{t:0,b:{t:2,i:[{t:3}],s:"API"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},"repo-graphs":{t:0,b:{t:2,i:[{t:3}],s:"The Graph subgraphs related to Curve, Convex, Votium and more"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}},"gauge-factory":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Factory"}},"gauge-controller":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Controller"}}}})}typeof es=="function"&&es(mn);const bd=R(mn,[["__scopeId","data-v-437d5034"]]);function yd(){const e=La(),t=[{path:"/code",component:bd},...e.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:ad}];return ti({history:ai(),routes:t})}const wd="/assets/llama-cloud-transparant-BquaG1Iu.png",Cd={key:0,class:"value"},kd={key:1,class:"value"},$d=["innerHTML"],Sd={key:0,class:"value"},Ad={key:1,class:"value"},Ld=["innerHTML"],Td={class:"labels"},Id={class:"label"},Pd={class:"label-second"},Rd=I({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,s)=>{const o=Nt;return g(),A("div",{class:x(["kpi",{disabled:!t.hasValue}])},[p("div",{class:x(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[Z(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(g(),P(o,{key:0},{item:w(()=>[t.hasValue?(g(),A("span",Cd,L(t.value),1)):(g(),A("span",kd," ? "))]),default:w(()=>[Z(t.$slots,"tooltip",{},()=>[p("span",{innerHTML:t.tooltip},null,8,$d)],!0)]),_:3})):(g(),A(J,{key:1},[t.hasValue?(g(),A("span",Sd,L(t.value),1)):(g(),A("span",Ad," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(g(),P(o,{key:0},{default:w(()=>[p("span",{innerHTML:t.tooltip},null,8,Ld)]),_:1})):D("",!0)],2),p("div",Td,[Z(t.$slots,"label",{},()=>[p("div",Id,L(t.label),1)],!0),Z(t.$slots,"label-second",{},()=>[p("div",Pd,L(t.labelSecond),1)],!0)])],2)}}}),he=R(Rd,[["__scopeId","data-v-9ca23269"]]),Vd={key:0,class:"async-value"},qd="|/-\\",Y=I({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,s=0;const o=V("|"),n=y(()=>e.value?Q(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?o.value:"?"),l=y(()=>e.precision===1/0?"":!e.value||!e.type||!q.isFinite(e.value)?e.showUnit&&e.type?z(0,e.type):"":z(e.value,e.type));return N(()=>e.value,u=>{if(clearInterval(s),t=0,u)return;const r=()=>{t=(t+1)%4,o.value=qd[t]};s=window.setInterval(r,250)},{immediate:!0}),(u,r)=>u.inline?(g(),A(J,{key:1},[H(L(u.showSymbol&&u.type==="dollar"?"$":"")+L(a(n))+L(u.showUnit?a(l):""),1)],64)):(g(),A("div",Vd,L(u.showSymbol&&u.type==="dollar"?"$":"")+L(a(n))+L(u.showUnit?a(l):""),1))}}),Fd=["crvusd","lending","pools","router","dao"];function Le(e){const[t,s]=e.split("T"),[o,n,l]=t.split("-").map(Number),[u,r,i]=s.split(":").map(Number);return Date.UTC(o,n-1,l,u,r,i)/1e3}const Dd=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],Md=e=>e.data.map(t=>t.name).filter(t=>Dd.includes(t)),xd=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),Bd=e=>e.data.flatMap(t=>t.transactions.map(s=>({chain:t.chain,timestamp:Le(s.timestamp),type:s.type,transactions:s.transactions}))),Ud=e=>e.data.flatMap(t=>t.users.map(s=>({chain:t.chain,timestamp:Le(s.timestamp),type:s.type,users:s.users}))),Ft="https://prices.curve.fi";class Od extends Ae{async getSupportedChains(){const t=await this.fetch(`${Ft}/v1/chains/`);return Md(t)}async getChainInfo(t){const s=await this.fetch(`${Ft}/v1/chains/${t}?page=1&per_page=1`);return xd(s)}async getTxs(){const t=await this.fetch(`${Ft}/v1/chains/activity/transactions`);return Bd(t)}async getUsers(){const t=await this.fetch(`${Ft}/v1/chains/activity/users`);return Ud(t)}}const Ht=new Od;function Ia(){return{initialData:[],initialDataUpdatedAt:0}}function Ed(){return j({queryKey:["chains-supported"],queryFn:()=>Ht.getSupportedChains(),...Ia()})}function vn(e){return j({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Ht.getChainInfo(t),enabled:y(()=>!!e.value)})}function Wd(){return j({queryKey:["chains-txs"],queryFn:()=>Ht.getTxs(),...Ia()})}function Nd(){return j({queryKey:["chains-users"],queryFn:()=>Ht.getUsers(),...Ia()})}const Hd=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),Kd=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),zd=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),Qd=e=>({timestamp:Le(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),ts="https://api-py.llama.airforce/curve",Dt="https://prices.curve.fi";class jd extends Ae{async getMarkets(t,s){return(await this.fetch(`${Dt}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${s}&per_page=10`)).data.map(Hd)}async getSnapshots(t,s){return(await this.fetch(`${Dt}/v1/crvusd/markets/${t}/${s}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Kd)}async getCrvUsdPriceHistogram(){return this.fetch(`${ts}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${Dt}/v1/crvusd/markets/${t}/supply`)).data.map(Qd)}async getKeepers(t){return(await this.fetch(`${Dt}/v1/crvusd/pegkeepers/${t}`)).keepers.map(zd)}async getYield(){return this.fetch(`${ts}/v1/crvusd/yield`).then(t=>t.yields)}}const Gd=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),Xd="https://prices.curve.fi";class _n extends Ae{async getOHLC(t,s,o,n){const u=Math.floor(new Date().getTime()/1e3),r=Math.floor(u-72e5),i=`${Xd}/v1/ohlc/${t}/${Zt(s)}?main_token=${Zt(o)}&reference_token=${Zt(n)}&agg_number=1&agg_units=day&start=${r}&end=${u}`;return(await this.fetch(i)).data.map(Gd)}}const St=new jd,Yd=new _n;function Zd(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.address})}function Kt(){return{initialData:[],initialDataUpdatedAt:0}}function Jd(e,t){return{enabled:y(()=>!!e.value&&!0)}}function ep(){return j({queryKey:["crvusd-supply"],queryFn:()=>St.getCrvUsdSupply("ethereum"),...Kt()})}function tp(){return j({queryKey:["crvusd-price-deviation"],queryFn:()=>St.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function zt(e){return j({queryKey:["crvusd-market-snapshots",Zd(e)],queryFn:({queryKey:[,t]})=>St.getSnapshots("ethereum",t),...Jd(e),...Kt()})}function ap(e){return j({queryKey:["crvusd-keepers-prices",y(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async n=>{const l=n.pair.find(i=>i.symbol!=="crvUSD"),u=n.pair.find(i=>i.symbol==="crvUSD");return!l||!u?[]:(await Yd.getOHLC("ethereum",n.pool_address,l.address,u.address)).map(i=>({time:i.time,price:(i.high+i.low)/2,coin:l.symbol}))}),s=(await Promise.all(t)).flat(),o=q.chain(s).groupBy(n=>n.time).map((n,l)=>({timestamp:Number(l),...Object.fromEntries(n.map(u=>[u.coin,u.price]))})).value();return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function Pa(){return j({queryKey:["crvusd-markets"],queryFn:()=>St.getMarkets("ethereum",1),...Kt()})}function hn(){return j({queryKey:["crvusd-keepers"],queryFn:()=>St.getKeepers("ethereum"),...Kt()})}const sp={class:"kpis"},op=I({__name:"KPIs",setup(e){const t=new nn,{data:s}=Pa(),o=y(()=>s.value.reduce((i,c)=>i+c.borrowed,0)),{data:n}=vn(V("ethereum")),l=y(()=>{var i;return((i=n.value)==null?void 0:i.total.tvl)??0}),u=y(()=>{var i;return((i=n.value)==null?void 0:i.total.tradingVolume24h)??0}),{data:r}=j({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(i=>i.price),initialData:0,initialDataUpdatedAt:0});return(i,c)=>{const m=Y,d=he;return g(),A("div",sp,[_(d,{label:"CRV Price","has-value":!!a(r)},{default:w(()=>[_(m,{value:a(r),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(d,{label:"crvUSD Borrowed","has-value":!!a(o)},{default:w(()=>[_(m,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(d,{label:"Total Value Locked","has-value":!!a(l)},{default:w(()=>[_(m,{value:a(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),_(d,{label:"24h Volume","has-value":!!a(u)},{default:w(()=>[_(m,{value:a(u),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),np=R(op,[["__scopeId","data-v-1117c8d5"]]),pa=60,ma=pa*60,bt=ma*24,as=bt*7,ss=bt*30,os=bt*365;function lp(e,t){const o=Math.round(e.value/1e3)-t;return o<pa?`${Math.round(o)} seconds ago`:o<ma?`${Math.round(o/pa)} minutes ago`:o<bt?`${Math.round(o/ma)} hours ago`:o<as?`${Math.round(o/bt)} days ago`:o<ss?`${Math.round(o/as)} weeks ago`:o<os?`${Math.round(o/ss)} months ago`:`${Math.round(o/os)} years ago`}function Ge(){const e=V(Date.now());return pe(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:s=>lp(e,s)}}const ke=e=>(se("data-v-9a27b085"),e=e(),oe(),e),rp={class:"articles"},ip=ke(()=>p("div",{class:"title"},"Articles",-1)),cp={class:"articles-cards"},up={class:"article"},dp=ke(()=>p("div",{class:"title"},"Who are Curve's Users?",-1)),pp=ke(()=>p("div",{class:"description"}," A look at the differences between users of Curve's products ",-1)),mp={class:"date"},vp=ke(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/curve-users/",target:"_blank"}," Read now ")],-1)),_p={class:"article"},hp=ke(()=>p("div",{class:"title"},"How to Do Cheaper, Approval-Free Swaps",-1)),fp=ke(()=>p("div",{class:"description"}," A deep dive into the exchange_received function on NG pools which allows users to trade without approvals and can significantly reduce transaction gas costs. ",-1)),gp={class:"date"},bp=ke(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/exchange-received/",target:"_blank"}," Read now ")],-1)),yp={class:"article"},wp=ke(()=>p("div",{class:"title"},"Impact of Dynamic Fees on MEV Activity",-1)),Cp=ke(()=>p("div",{class:"description"}," This post compares MEV activity on StableSwap NG pools and pools with the original implementation. It explains dynamic fees and their impact on certain types of MEV activity. ",-1)),kp={class:"date"},$p=ke(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/ng-mev/",target:"_blank"}," Read now ")],-1)),Sp={class:"article"},Ap=ke(()=>p("div",{class:"title"},"Parameter Ramping",-1)),Lp=ke(()=>p("div",{class:"description"}," Why aren't parameter changes on Curve pools applied instantly? This post dwelves into the reasons behind gradual parameter changes. ",-1)),Tp={class:"date"},Ip=ke(()=>p("div",{class:"read"},[p("a",{href:"https://blog.curvemonitor.com/posts/parameter-ramping/",target:"_blank"}," Read now ")],-1)),Pp=I({__name:"Articles",setup(e){const{relativeTime:t}=Ge();function s(o){window.open(o,"_blank")}return(o,n)=>{const l=U;return g(),A("div",rp,[ip,p("div",cp,[_(l,{onClick:n[0]||(n[0]=u=>s("https://blog.curvemonitor.com/posts/curve-users/"))},{default:w(()=>[p("div",up,[dp,pp,p("div",mp,L(a(t)(1723586400)),1),vp])]),_:1}),_(l,{onClick:n[1]||(n[1]=u=>s("https://blog.curvemonitor.com/posts/exchange-received/"))},{default:w(()=>[p("div",_p,[hp,fp,p("div",gp,L(a(t)(1711234800)),1),bp])]),_:1}),_(l,{onClick:n[2]||(n[2]=u=>s("https://blog.curvemonitor.com/posts/ng-mev/"))},{default:w(()=>[p("div",yp,[wp,Cp,p("div",kp,L(a(t)(1710025200)),1),$p])]),_:1}),_(l,{onClick:n[3]||(n[3]=u=>s("https://blog.curvemonitor.com/posts/parameter-ramping/"))},{default:w(()=>[p("div",Sp,[Ap,Lp,p("div",Tp,L(a(t)(1707606e3)),1),Ip])]),_:1})])])}}}),Rp=R(Pp,[["__scopeId","data-v-9a27b085"]]),fn=e=>(se("data-v-4e525708"),e=e(),oe(),e),Vp={class:"home"},qp=fn(()=>p("div",{class:"description"},[p("span",{class:"title"},"Curve Monitor"),p("span",{class:"tag"}," Airdropping knowledge bombs about the Curve ecosystem. ")],-1)),Fp=fn(()=>p("img",{class:"llama",src:wd},null,-1)),Dp=I({__name:"Home.page",setup(e){return(t,s)=>(g(),A("div",Vp,[qp,Fp,_(np,{style:{"grid-area":"kpis"}}),_(Rp,{style:{"grid-area":"articles"}})]))}}),Mp=R(Dp,[["__scopeId","data-v-4e525708"]]),xp="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Bp="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",Up="/assets/arbitrum-Z8VMulXH.png",Op="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Ep="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Wp="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",Np="/assets/moonbeam-CHDPiRRO.png",Hp="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",Kp="/assets/optimism-CcABTbCu.png",zp="/assets/base-AohAhS4D.webp",Qp="/assets/polygon-GPEdhIuq.png",jp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function ns(e){return{ethereum:xp,arbitrum:Up,optimism:Kp,fantom:Op,avalanche:Bp,xdai:Ep,matic:Hp,harmony:Wp,moonbeam:Np,base:zp,polygon:Qp,fraxtal:jp,all:""}[e]}const Gp={key:0,class:"item"},Xp=["src"],Yp={key:1,class:"empty"},Zp={class:"label"},Jp=I({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const s=t,o=V(!1),n=y(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(c=>!e.chains||e.chains.includes(c.chain))),l=y(()=>n.value.find(c=>c.chain===e.chain)??null),u=c=>c.label,r=()=>{o.value=!o.value},i=c=>{s("select-chain",c.chain)};return(c,m)=>{const d=$t;return g(),P(d,{class:"select",options:a(n),selected:a(l),open:a(o),onOpen:r,onClose:m[0]||(m[0]=v=>o.value=!1),onInput:i},{item:w(v=>[v.item?(g(),A("div",Gp,[a(ns)(v.item.chain)?(g(),A("img",{key:0,src:a(ns)(v.item.chain)},null,8,Xp)):(g(),A("div",Yp)),p("div",Zp,L(u(v.item)),1)])):D("",!0)]),_:1},8,["options","selected","open"])}}}),At=R(Jp,[["__scopeId","data-v-3c45b34e"]]),em=I({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const s=t,o=V(void 0);let n,l=null;N(o,(i,c)=>{e.target&&(i?u(e.target,i):c&&n&&r(e.target,n,c))});function u(i,c){n=i.parentNode,l=i.nextSibling,n&&(s("enterBefore",c),n.removeChild(i),c.appendChild(i),s("enter",c))}function r(i,c,m){s("exitBefore",m),m.removeChild(i),l?c.insertBefore(i,l):c.appendChild(i),s("exit",m)}return(i,c)=>{const m=Sa;return g(),P(m,null,{default:w(()=>[p("div",{ref_key:"modalRef",ref:o,class:"fullscreen-content"},null,512)]),_:1})}}}),gn=R(em,[["__scopeId","data-v-f56cfee9"]]),tm=p("i",{class:"fas fa-expand"},null,-1),rt=I({__name:"BtnChartLWFullscreen",props:Ke({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue");let s=0,o=0;function n(){const u=e.chart.chartElement().parentElement;s=(u==null?void 0:u.clientHeight)??0,o=(u==null?void 0:u.clientWidth)??0}function l(){e.chart.applyOptions({height:s,width:o})}return(u,r)=>{const i=gn,c=we;return g(),P(c,{disabled:!u.chart,onClick:r[1]||(r[1]=m=>t.value=!t.value)},{default:w(()=>[tm,_(i,{target:u.target,show:t.value,onClose:r[0]||(r[0]=m=>t.value=!1),onEnterBefore:n,onExit:l},null,8,["target","show"])]),_:1},8,["disabled"])}}}),am=(e,t)=>{const{colors:s}=t;return{width:e.clientWidth,height:e.clientHeight,layout:{background:{type:si.Solid,color:s.backgroundColor},textColor:s.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:s.level4,style:oi.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ee(e,t,s){const o=am(e,t),n=(l,u)=>{if(typeof u=="object"){q.mergeWith(l,u,n);return}else return l||u};return q.mergeWith(s,o,n)}function te(e){const{recreateChartTrigger:t,createChartOptions:s,series:o}=e,n={},l=Array.isArray(o)?o:[o],u=ua(void 0),r=ua(void 0);let i=null;pe(async()=>{if(!u.value)return;await ni();const c=li(u.value,s(u.value));r.value=c;for(const m of l){const d=sm(c,m);n[m.name]=d}i=new ResizeObserver(m=>{const d=m[0].target;r.value&&u.value&&(r.value.applyOptions({width:d.clientWidth,height:d.clientHeight}),r.value.timeScale().fitContent())}),u.value.parentElement&&i.observe(u.value.parentElement)}),ga(()=>{r.value&&(r.value.remove(),r.value=void 0),i&&(i.disconnect(),i=null)}),N(t,()=>{u.value&&r.value&&r.value.applyOptions(s(u.value))});for(const{name:c,options:m}of l)N(m,d=>{const v=n[c];v==null||v.applyOptions(d)});return{chart:r,chartRef:u,series:n}}function sm(e,{type:t,options:s}){return{Area:e.addAreaSeries.bind(e),Bar:e.addBarSeries.bind(e),Baseline:e.addBaselineSeries.bind(e),Line:e.addLineSeries.bind(e),Candlestick:e.addCandlestickSeries.bind(e),Histogram:e.addHistogramSeries.bind(e)}[t](s.value)}const om={class:"actions"},bn=I({__name:"ChartTxs",props:{txs:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1),n=V(void 0),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{height:c.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"txs",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${Q(c,0,"dollar")}${z(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});Et(i);function i(){if(!l.value||!r.txs)return;const c=q.chain(e.txs).map(m=>({time:m.timestamp,value:m.count})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();r.txs.setData(c),l.value.timeScale().fitContent()}return(c,m)=>{const d=U;return g(),P(d,{ref_key:"chartCard",ref:n,class:x(["chart-card",{fullscreen:a(o)}]),title:a(t)("title")},{actions:w(()=>{var v;return[p("div",om,[_(a(rt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>le(o)?o.value=f:null),chart:a(l),target:(v=a(n))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}}}})}typeof ls=="function"&&ls(bn);const nm=R(bn,[["__scopeId","data-v-9936a583"]]),lm={class:"actions"},yn=I({__name:"ChartUsers",props:{users:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1),n=V(void 0),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{height:c.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"users",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`${Q(c,0,"dollar")}${z(c,"dollar")}`,minMove:.01},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});Et(i);function i(){if(!l.value||!r.users)return;const c=q.chain(e.users).map(m=>({time:m.timestamp,value:m.count})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();r.users.setData(c),l.value.timeScale().fitContent()}return(c,m)=>{const d=U;return g(),P(d,{ref_key:"chartCard",ref:n,class:x(["chart-card",{fullscreen:a(o)}]),title:a(t)("title")},{actions:w(()=>{var v;return[p("div",lm,[_(a(rt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>le(o)?o.value=f:null),chart:a(l),target:(v=a(n))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function rs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof rs=="function"&&rs(yn);const rm=R(yn,[["__scopeId","data-v-4e282463"]]),im=I({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,s)=>{const o=lt("apexchart");return g(),P(o,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),Qt=R(im,[["__scopeId","data-v-1e57adb0"]]),cm=I({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,s)=>{const o=Qt,n=U;return g(),P(n,{class:"cart-chart",title:t.title,loading:t.loading},{actions:w(()=>[Z(t.$slots,"actions",{},void 0,!0)]),default:w(()=>[_(o,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),Z(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),me=R(cm,[["__scopeId","data-v-51bb8302"]]),um={class:"legend"},dm=["onClick"],pm={class:"label"},mm=I({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const s=t;return(o,n)=>(g(),A("div",um,[(g(!0),A(J,null,ue(o.items,l=>(g(),A("div",{key:l.id,class:x(["item",{togglable:l.togglable,disabled:o.disabled.includes(l.id)}]),onClick:u=>{l.togglable&&s("toggle",l.id)}},[p("div",{class:"color",style:Ce({"background-color":l.color})},null,4),p("div",pm,L(l.label),1)],10,dm))),128))]))}}),Ve=R(mm,[["__scopeId","data-v-d25d58a4"]]),vm=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function re(e,t){const s=vm(e),o=(n,l)=>{if(typeof l=="object"){q.mergeWith(n,l,o);return}else return n||l};return q.mergeWith(t,s,o)}function qe(e){const t=y(e),s=ri(ii(Object.fromEntries(t.value.map(n=>[n.id,!0])))),o=y(()=>t.value.filter(n=>!s[n.id].value).map(n=>n.id));return{items:t,toggles:s,disabled:o}}const _m={class:"actions"},wn=I({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=y(()=>`${t("title")} (${e.type==="all"?"All Types":q.capitalize(e.type)})`),{items:n,toggles:l,disabled:u}=qe(()=>{const{blue:b,yellow:C}=s.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:C,togglable:!0}]});function r(b){return q.chain(b).groupBy(C=>C.chain).mapValues((C,k)=>{const $=C.reduce((S,T)=>S+T.value,0);return{chain:k,count:$}}).values().orderBy(C=>C.count,"desc").value()}const i=y(()=>{const{colors:b}=s.value;return re(s.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:d.value,labels:{formatter:f}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>l.txs.value?r(e.txs):[]),m=y(()=>l.users.value?r(e.users):[]),d=y(()=>q.chain(c.value).concat(m.value).orderBy(b=>b.count,"desc").map(b=>b.chain).uniq().value()),v=y(()=>{const b=d.value.map(k=>{const $=c.value.find(S=>S.chain===k);return $?$.count:0}),C=d.value.map(k=>{const $=m.value.find(S=>S.chain===k);return $?$.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?C:[]}]}),f=b=>b,h=b=>`${Q(b,0,"dollar")}${z(b,"dollar")}`;return(b,C)=>{const k=Ve,$=me;return g(),P($,{class:"chart",title:a(o),options:a(i),series:a(v)},{actions:w(()=>[p("div",_m,[_(k,{items:a(n),disabled:a(u),onToggle:C[0]||(C[0]=S=>a(l)[S].value=!a(l)[S].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function is(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Chains"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof is=="function"&&is(wn);const hm=R(wn,[["__scopeId","data-v-fd8ee8d7"]]),fm={class:"actions"},Cn=I({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=y(()=>`${t("title")} (${e.chain==="all"?"All Chains":q.capitalize(e.chain)})`),{items:n,toggles:l,disabled:u}=qe(()=>{const{blue:b,yellow:C}=s.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:C,togglable:!0}]});function r(b){return q.chain(b).groupBy(C=>C.type).mapValues((C,k)=>{const $=C.reduce((S,T)=>S+T.value,0);return{type:k,count:$}}).values().orderBy(C=>C.count,"desc").value()}const i=y(()=>{const{colors:b}=s.value;return re(s.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:d.value,labels:{formatter:f}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),c=y(()=>l.txs.value?r(e.txs):[]),m=y(()=>l.users.value?r(e.users):[]),d=y(()=>q.chain(c.value).concat(m.value).orderBy(b=>b.count,"desc").map(b=>b.type).uniq().value()),v=y(()=>{const b=d.value.map(k=>{const $=c.value.find(S=>S.type===k);return $?$.count:0}),C=d.value.map(k=>{const $=m.value.find(S=>S.type===k);return $?$.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?C:[]}]}),f=b=>b,h=b=>`${Q(b,0,"dollar")}${z(b,"dollar")}`;return(b,C)=>{const k=Ve,$=me;return g(),P($,{class:"chart",title:a(o),options:a(i),series:a(v)},{actions:w(()=>[p("div",fm,[_(k,{items:a(n),disabled:a(u),onToggle:C[0]||(C[0]=S=>a(l)[S].value=!a(l)[S].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Types"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof cs=="function"&&cs(Cn);const gm=R(Cn,[["__scopeId","data-v-8f0a89d5"]]),bm={class:"item"},ym={class:"label"},kn=I({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:s}=F(),o=["all",...Fd],n=t,l=V(!1),u=V("all"),r=()=>{l.value=!l.value},i=c=>{u.value=c,n("select",u.value)};return(c,m)=>{const d=$t;return g(),P(d,{class:"select",options:o.map(v=>v),selected:a(u),open:a(l),onOpen:r,onClose:m[0]||(m[0]=v=>l.value=!1),onInput:i},{item:w(v=>[p("div",bm,[p("div",ym,L(a(s)(v.item)),1)])]),_:1},8,["options","selected","open"])}}});function us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All Types"}},crvusd:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD"}},lending:{t:0,b:{t:2,i:[{t:3}],s:"Lending"}},pools:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}},router:{t:0,b:{t:2,i:[{t:3}],s:"Router"}},dao:{t:0,b:{t:2,i:[{t:3}],s:"DAO"}}}})}typeof us=="function"&&us(kn);const wm=R(kn,[["__scopeId","data-v-18a389a3"]]),Cm={class:"chains"},km={class:"toolbar"},$m={class:"activity"},$n=I({__name:"Chains.page",setup(e){const{t}=F(),{show:s}=E(Fe());pe(()=>{s.value=!1});const o=ye("chain"),n=y({get(){return o.value?o.value:"all"},set(G){o.value=G}}),l=y(()=>{const G=q.chain(m.value.map(ie=>ie.chain)).concat(v.value.map(ie=>ie.chain)).concat(n.value!=="all"?[n.value]:[]).uniq().orderBy(ie=>ie).value(),fe=["ethereum"],ve=q.chain(G).difference(fe).orderBy(ie=>ie).value();return["all",...fe,...ve]}),u=ye("type"),r=y({get(){return u.value?u.value:"all"},set(G){u.value=G}}),i=G=>{r.value=G},{isFetching:c,data:m}=Wd(),{isFetching:d,data:v}=Nd();function f(G,fe,ve,ie){return q.chain(G).filter(ce=>fe==="all"?!0:ce.chain===fe).filter(ce=>ve==="all"?!0:ce.type===ve).groupBy(ce=>ce.timestamp).mapValues((ce,Xe)=>{const We=ce.reduce((_t,Xt)=>_t+ie(Xt),0);return{timestamp:Number(Xe),count:We}}).values().value()}const h=y(()=>f(m.value,n.value,r.value,G=>G.transactions)),b=y(()=>f(v.value,n.value,r.value,G=>G.users));function C(G){const ie=Math.floor(Date.now()/1e3)-7*24*60*60,Xe=G.filter(We=>We.timestamp>=ie).reduce((We,_t)=>We+_t.count,0);return Math.round(Xe/7)}const k=y(()=>{var G;return((G=q.last(h.value))==null?void 0:G.count)??0}),$=y(()=>C(h.value)),S=y(()=>{var G;return((G=q.last(b.value))==null?void 0:G.count)??0}),T=y(()=>C(b.value));function O(G,fe,ve,ie){return q.chain(G).filter(ce=>fe==="all"?!0:ce.chain===fe).filter(ce=>ve==="all"?!0:ce.type===ve).map(ce=>({chain:ce.chain,type:ce.type,value:ie(ce)})).value()}const M=y(()=>O(m.value,"all",r.value,G=>G.transactions)),W=y(()=>O(v.value,"all",r.value,G=>G.users)),ae=y(()=>O(m.value,n.value,"all",G=>G.transactions)),vt=y(()=>O(v.value,n.value,"all",G=>G.users));return(G,fe)=>{const ve=Y,ie=he;return g(),A("div",Cm,[(g(),P(Ot,{to:"#toolbar"},[p("div",km,[_(a(wm),{style:{"grid-area":"type"},onSelect:i}),_(At,{style:{"grid-area":"chain"},class:"chain-select",chain:a(n),chains:a(l),all:!0,onSelectChain:fe[0]||(fe[0]=ce=>n.value=ce)},null,8,["chain","chains"])])])),p("div",$m,[_(ie,{style:{"grid-area":"kpi1"},label:a(t)("txs-today"),"has-value":!!a(c)},{default:w(()=>[_(ve,{type:"dollar",value:a(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi2"},label:a(t)("txs-avg"),"has-value":!!a(c)},{default:w(()=>[_(ve,{type:"dollar",value:a($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi3"},label:a(t)("users-today"),"has-value":!!a(d)},{default:w(()=>[_(ve,{type:"dollar",value:a(S),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(ie,{style:{"grid-area":"kpi4"},label:a(t)("users-avg"),"has-value":!!a(d)},{default:w(()=>[_(ve,{type:"dollar",value:a(T),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),_(a(nm),{style:{"grid-area":"txs"},txs:a(h),loading:a(c)},null,8,["txs","loading"]),_(a(rm),{style:{"grid-area":"users"},users:a(b),loading:a(d)},null,8,["users","loading"]),_(a(hm),{style:{"grid-area":"top-chains"},type:a(r),txs:a(M),users:a(W),loading:a(c)||a(d)},null,8,["type","txs","users","loading"]),_(a(gm),{style:{"grid-area":"top-types"},chain:a(n),txs:a(ae),users:a(vt),loading:a(c)||a(d)},null,8,["chain","txs","users","loading"])])])}}});function ds(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"txs-today":{t:0,b:{t:2,i:[{t:3}],s:"Transactions Today"}},"txs-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Transactions / 7 Days"}},"users-today":{t:0,b:{t:2,i:[{t:3}],s:"Users Today"}},"users-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Users / 7 Days"}}}})}typeof ds=="function"&&ds($n);const Sm=R($n,[["__scopeId","data-v-06a6d454"]]),Am=e=>(se("data-v-ae7c4228"),e=e(),oe(),e),Lm={class:"input-text"},Tm={key:0,class:"icon"},Im=Am(()=>p("i",{class:"fas fa-search"},null,-1)),Pm=[Im],Rm=["type","value","placeholder"],Vm=["onClick"],qm=I({__name:"InputText",props:Ke({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Ke(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const s=wt(e,"modelValue"),o=t,n=y(()=>{const u=e.options.filter(i=>e.filter(s.value,i));return e.sort?[...u].sort(e.sort):u}),l=u=>{const r=u.target.value;s.value=r,o("input",r)};return(u,r)=>(g(),A("div",Lm,[u.search?(g(),A("span",Tm,Pm)):D("",!0),p("input",{type:u.search?"search":"text",value:s.value,placeholder:u.placeholder,onInput:Te(l,["stop"]),onSelect:r[0]||(r[0]=Te(()=>{},["stop"]))},null,40,Rm),u.options&&u.autoComplete?(g(),A("div",{key:1,class:x(["items",{selectHide:!u.autoComplete}])},[(g(!0),A(J,null,ue(a(n),(i,c)=>(g(),A("div",{key:c,onClick:m=>o("select",i)},[Z(u.$slots,"item",{item:i,idx:c},()=>[H(L(i),1)],!0)],8,Vm))),128))],2)):D("",!0)]))}}),Ie=R(qm,[["__scopeId","data-v-ae7c4228"]]),Fm=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),ps=e=>{var t,s;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((s=e.pool_methods)==null?void 0:s.map(o=>o))??[]}},Dm=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),Mm=e=>({timestamp:e.timestamp,tvlUSD:e.tvl_usd??0}),ea="https://prices.curve.fi";let xm=class extends je{async getPools(t){const s=await this.getHost(),o=await this.fetch(`${s}/chains/${t}`);return{chain:o.chain,totals:Fm(o.total),pools:o.data.map(ps)}}async getPool(t,s){const o=await this.fetch(`${ea}/v1/pools/${t}/${s}`);return ps(o)}async getVolume(t,s){const n=Math.floor(new Date().getTime()/1e3),l=Math.floor(n-72e5);return(await this.fetch(`${ea}/v1/volume/usd/${t}/${s}?interval=day&start=${l}&end=${n}`)).data.map(Dm)}async getTvl(t,s){const n=Math.floor(new Date().getTime()/1e3),l=Math.floor(n-72e5);return(await this.fetch(`${ea}/v1/snapshots/${t}/${s}/tvl?interval=day&start=${l}&end=${n}`)).data.map(Mm)}};const Bm=["cb","laf","cm","pm","pm-lrt"];function Um(){const e="cm";if(!Bm.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Re({text:t,type:"error"}),new Error(t)}return e}const Mt={};function Om(e){return mc[e]}async function ze(e){const t=Um(),s=t;if(Mt[s])return Promise.resolve(Mt[s]);const o=Om(t);return Mt[s]=o,Mt[s]}const Lt=new xm(ze());function Em(e){return j({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>Lt.getPools(t),placeholderData:Wt,enabled:y(()=>!!e.value)})}function Wm(e,t){return j({queryKey:["curve-pool",t],queryFn:async({queryKey:[,s]})=>Lt.getPool(e.value,s),enabled:y(()=>!!e.value)})}function Nm(e,t){const s=y(()=>t.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>Lt.getPool(e.value,o),enabled:y(()=>!!e.value)})));return ci({queries:s})}function Hm(e,t){return j({queryKey:["curve-pool-volume",t],queryFn:async({queryKey:[,s]})=>Lt.getVolume(e.value,s),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}function Km(e,t){return j({queryKey:["curve-pool-tvl",t],queryFn:async({queryKey:[,s]})=>Lt.getTvl(e.value,s),enabled:y(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const zm=["src"],Qm=["href"],jm=["src"],Gm=I({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=V("");function s(l){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${l}.png`}const o=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};N(()=>e.address,l=>{t.value=s(l.toLowerCase())},{immediate:!0});const n=y(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(l,u)=>l.clickable?(g(),A("a",{key:1,target:"_blank",href:a(n)},[p("img",{src:t.value,onError:o},null,40,jm)],8,Qm)):(g(),A("img",{key:0,src:t.value,onError:o},null,40,zm))}}),Be=R(Gm,[["__scopeId","data-v-e4d8b79d"]]),Ra=e=>(se("data-v-c920758b"),e=e(),oe(),e),Xm={key:0},Ym=Ra(()=>p("button",null,"1",-1)),Zm=[Ym],Jm=Ra(()=>p("button",null,[p("i",{class:"fas fa-chevron-left"})],-1)),ev=[Jm],tv=["onClick"],av=Ra(()=>p("button",null,[p("i",{class:"fas fa-chevron-right"})],-1)),sv=[av],ov=I({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const s=t,o=y(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),n=y(()=>{const d=[...Array(12).keys()].map(k=>k-6+e.page).filter(k=>k>=1&&k<=o.value),v=d.findIndex(k=>k===e.page),f=[],h=[],b=e.page!==1&&e.page!==o.value?[e.page]:[];let C=1;for(;;){const k=d[v-C];if(k&&k!==1&&f.unshift(k),f.length+h.length+b.length>=5||C>d.length)break;const $=d[v+C];if($&&$!==o.value&&h.push($),C++,f.length+h.length+b.length>=5||C>d.length)break}return[...f,...b,...h]});N(n,()=>{const c=l(e.page,1,o.value);e.page!==c&&s("page",c)});const l=(c,m,d)=>(d<m&&(d=m),Math.min(Math.max(c,m),d)),u=()=>s("page",l(e.page-1,1,o.value)),r=()=>s("page",l(e.page+1,1,o.value)),i=c=>s("page",l(c,1,o.value));return(c,m)=>a(o)>1?(g(),A("ul",Xm,[p("li",{class:x({active:c.page===1}),onClick:m[0]||(m[0]=d=>i(1))},Zm,2),a(o)>2?(g(),A("li",{key:0,onClick:u},ev)):D("",!0),(g(!0),A(J,null,ue(a(n),(d,v)=>(g(),A("li",{key:v,class:x({active:d===c.page}),onClick:f=>i(d)},[p("button",null,L(d),1)],10,tv))),128)),a(o)>2?(g(),A("li",{key:1,onClick:r},sv)):D("",!0),a(o)>1?(g(),A("li",{key:2,class:x({active:c.page===a(o)}),onClick:m[1]||(m[1]=d=>i(a(o)))},[p("button",null,L(a(o)),1)],2)):D("",!0)])):D("",!0)}}),Ue=R(ov,[["__scopeId","data-v-c920758b"]]);function Tt(e,t){const s=V(e),o=V("desc"),n=(u,r)=>{s.value=u,o.value=r},l=y(()=>({column:s.value,order:o.value}));return{sortColumn:s,sortOrder:o,sorting:l,onSort:n}}function jt(e,t){const s=V(1),o=y(()=>q.chain(e.value).drop((s.value-1)*t).take(t).value()),n=l=>{s.value=l};return N(o,l=>{l.length===0&&(s.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:s,rowsPage:o,onPage:n}}function Va(){const e=V(1);return{page:e,onPage:s=>{e.value=s}}}const nv={class:"tokens"},lv={class:"end"},rv={class:"end"},iv={class:"end"},ms=20,Sn=I({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:l,onSort:u}=Tt("tvl"),r=y(()=>q.chain(e.pools).orderBy(v=>{switch(l.value.column){case"name":return v.name;case"volume":return v.tradingVolume24h;case"tvl":return v.tvlUsd;case"util":return d(v);default:return v.tvlUsd}},l.value.order).value()),{page:i,rowsPage:c,onPage:m}=jt(r,ms);function d(v){return v.tvlUsd!==0?100*v.tradingVolume24h/v.tvlUsd:0}return(v,f)=>{const h=Ue,b=Be,C=Y,k=ne,$=U;return g(),P($,{title:a(s)("title")},{actions:w(()=>[_(h,{"items-count":v.pools.length,"items-per-page":ms,page:a(i),onPage:a(m)},null,8,["items-count","page","onPage"])]),default:w(()=>[_(k,{class:"pools-table","expand-side":"left",rows:a(c),columns:n,sorting:a(l),onSortColumn:a(u),onSelected:f[0]||(f[0]=S=>o("selected",S))},{row:w(({item:S})=>[p("div",nv,[(g(!0),A(J,null,ue(S.coins,T=>(g(),P(b,{key:T.address,chain:v.chain,address:T.address},null,8,["chain","address"]))),128))]),p("div",null,L(S.name),1),p("div",lv,[_(C,{value:S.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",rv,[_(C,{value:S.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",iv,[_(C,{value:d(S),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":w(()=>[H("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function vs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}}}})}typeof vs=="function"&&vs(Sn);const cv=R(Sn,[["__scopeId","data-v-b39ce8ec"]]),uv={class:"pools"},dv={class:"toolbar"},An=I({__name:"Pools.page",setup(e){const{t}=F(),s=["ethereum","arbitrum"],o=ye("chain"),n=y({get(){return o.value?o.value:"ethereum"},set(b){o.value=b}}),l=V(""),{isFetching:u,data:r}=vn(n),{isFetching:i,data:c}=Em(n),m=y(()=>{var b;return(((b=c.value)==null?void 0:b.pools)??[]).filter(C=>{const k=l.value.toLocaleLowerCase().split(" "),$=S=>k.some(T=>S.toLocaleLowerCase().includes(T));return $(C.name)||$(C.address)})}),{show:d,crumbs:v}=E(Fe());pe(()=>{d.value=!0,v.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const f=xe(),h=async b=>{await f.push({name:"poolspool",params:{tab:"",chain:n.value,poolAddr:b.address}})};return(b,C)=>{const k=Ie,$=Y,S=he;return g(),A("div",uv,[(g(),P(Ot,{to:"#toolbar"},[p("div",dv,[_(k,{modelValue:a(l),"onUpdate:modelValue":C[0]||(C[0]=T=>le(l)?l.value=T:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(At,{class:"chain-select",chain:a(n),chains:s,onSelectChain:C[1]||(C[1]=T=>n.value=T==="all"?"ethereum":T)},null,8,["chain"])])])),_(S,{style:{"grid-area":"kpi1"},label:a(t)("tvl"),"has-value":!a(u)},{default:w(()=>{var T;return[_($,{value:((T=a(r))==null?void 0:T.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(S,{style:{"grid-area":"kpi2"},label:a(t)("volume"),"has-value":!a(u)},{default:w(()=>{var T;return[_($,{value:((T=a(r))==null?void 0:T.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(S,{style:{"grid-area":"kpi3"},label:a(t)("fee-trading"),"has-value":!a(u)},{default:w(()=>{var T;return[_($,{value:((T=a(r))==null?void 0:T.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(S,{style:{"grid-area":"kpi4"},label:a(t)("fee-liquidity"),"has-value":!a(u)},{default:w(()=>{var T;return[_($,{value:((T=a(r))==null?void 0:T.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(a(cv),{style:{"grid-area":"pools"},chain:a(n),pools:a(m),loading:a(i),onSelected:h},null,8,["chain","pools","loading"])])}}});function _s(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},"fee-trading":{t:0,b:{t:2,i:[{t:3}],s:"Fees Trading (24h)"}},"fee-liquidity":{t:0,b:{t:2,i:[{t:3}],s:"Fees Liquidity (24h)"}}}})}typeof _s=="function"&&_s(An);const pv=R(An,[["__scopeId","data-v-4ededc1d"]]),mv={class:"tab-view"},vv={class:"tab-headers"},_v=["onClick"],hv={class:"tabs"},fv=I({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const s=t,o=V(null),n=jo(),l=y(()=>(n!=null&&n.default?n.default():[]).filter(i=>i.props));N(()=>e.active,r=>{o.value=r,s("tab",{tab:l.value[r],index:o.value})},{immediate:!0});const u=(r,i)=>{r.props.disabled||(o.value=i,s("tab",{tab:l.value[i],index:o.value}))};return(r,i)=>(g(),A("div",mv,[p("ul",vv,[(g(!0),A(J,null,ue(a(l),(c,m)=>(g(),A("li",{key:m,class:x(["tab-header",{active:a(o)===m,disabled:c.props.disabled}]),onClick:d=>u(c,m)},L(c.props.header),11,_v))),128))]),p("div",hv,[(g(!0),A(J,null,ue(a(l),(c,m)=>ba((g(),A("div",{key:m,class:"tab"},[(g(),P(ha(c)))])),[[ui,a(o)===m]])),128))])]))}}),Oe=R(fv,[["__scopeId","data-v-cb076fcc"]]),Ee=I({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,s)=>Z(t.$slots,"default")}}),gv=new _n;function bv(e,t,s,o){return j({queryKey:["curve-token-price",t,s,o],queryFn:({queryKey:[,n,l,u]})=>gv.getOHLC(e.value,n,l,u),enabled:y(()=>!!e.value&&!!t.value&&!!s.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const yv=I({__name:"ButtonToggle",props:Ke({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Ke(["change"],["update:modelValue"]),setup(e,{emit:t}){const s=wt(e,"modelValue"),o=t,n=()=>{const l=!s.value;s.value=l,o("change",l)};return(l,u)=>(g(),A("button",{class:x({toggled:s.value}),onClick:n},[Z(l.$slots,"default",{},()=>[l.icon?(g(),A("i",{key:0,class:x(["icon",l.icon])},null,2)):D("",!0),H(" "+L(l.value),1)],!0)],2))}}),It=R(yv,[["__scopeId","data-v-293e52b8"]]),wv={class:"controls"},Ln=I({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1);let n=1,l=0;const{chart:u,chartRef:r,series:i}=te({recreateChartTrigger:s,createChartOptions:d=>ee(d,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:d}=s.value;return{priceFormat:{type:"custom",formatter:m},upColor:d.green,borderUpColor:d.green,wickUpColor:d.green,downColor:d.red,borderDownColor:d.red,wickDownColor:d.red}})}});N([B(()=>e.ohlc),u,o],c);function c([d,v,f]){if(!v||!i.ohlc)return;const h=f?-1:1,b=q.chain(d).map(C=>({time:C.time,open:Math.pow(C.open,h),high:Math.pow(C.high,h),low:Math.pow(C.low,h),close:Math.pow(C.close,h)})).uniqWith((C,k)=>C.time===k.time).orderBy(C=>C.time,"asc").value();b.length>0&&(i.ohlc.setData(b),l=Math.min(...b.map(C=>C.low)),n=Math.max(...b.map(C=>C.high))),v.timeScale().fitContent()}function m(d){const v=n-l,f=v>1?v-Math.floor(v):v,h=-Math.floor(Math.log10(f)+1)+2;return`${Q(d,h,"dollar")}${z(d,"dollar")}`}return(d,v)=>{const f=It,h=U;return g(),P(h,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",wv,[_(f,{value:"Invert","model-value":a(o),onClick:v[0]||(v[0]=b=>o.value=!a(o))},null,8,["model-value"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof hs=="function"&&hs(Ln);const Cv=R(Ln,[["__scopeId","data-v-8a2e2e25"]]),Tn=I({__name:"ChartVolume",props:{volume:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`$${Q(r,1,"dollar")}${z(r,"dollar")}`},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.volume),o],u);function u([r,i]){if(!i||!l.volume)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.volume})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.volume.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=U;return g(),P(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function fs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof fs=="function"&&fs(Tn);const kv=R(Tn,[["__scopeId","data-v-a1ed9f01"]]),In=I({__name:"ChartTvl",props:{tvl:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"tvl",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`$${Q(r,1,"dollar")}${z(r,"dollar")}`},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.tvl),o],u);function u([r,i]){if(!i||!l.tvl)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.tvl})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.tvl.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=U;return g(),P(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function gs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof gs=="function"&&gs(In);const $v=R(In,[["__scopeId","data-v-5d9c7453"]]),Sv={class:"pool-overview"},Av={class:"tokens"},Pn=I({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const{t}=F(),s=y(()=>{var f;return(f=e.pool)==null?void 0:f.address}),o=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[0].address}),n=y(()=>{var f;return(f=e.pool)==null?void 0:f.coins[1].address}),{isFetching:l,data:u}=bv(B(()=>e.chain),s,o,n),{isFetching:r,data:i}=Hm(B(()=>e.chain),s),{isFetching:c,data:m}=Km(B(()=>e.chain),s),d=y(()=>i.value.map(f=>({timestamp:f.timestamp,volume:f.volume}))),v=y(()=>m.value.map(f=>({timestamp:f.timestamp,tvl:f.tvlUSD})));return(f,h)=>{const b=Be,C=he,k=Y;return g(),A("div",Sv,[_(C,{style:{"grid-area":"kpi1"},label:a(t)("tokens"),"has-value":!!f.pool},{default:w(()=>{var $;return[p("div",Av,[(g(!0),A(J,null,ue((($=f.pool)==null?void 0:$.coins)??[],S=>(g(),P(b,{key:S.address,chain:f.chain,address:S.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),_(C,{style:{"grid-area":"kpi2"},label:a(t)("tvl"),"has-value":!!f.pool},{default:w(()=>{var $;return[_(k,{value:(($=f.pool)==null?void 0:$.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(C,{style:{"grid-area":"kpi3"},label:a(t)("volume"),"has-value":!!f.pool},{default:w(()=>{var $;return[_(k,{value:(($=f.pool)==null?void 0:$.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(C,{style:{"grid-area":"kpi4"},label:a(t)("fees"),"has-value":!!f.pool},{default:w(()=>{var $;return[_(k,{value:(($=f.pool)==null?void 0:$.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(a(Cv),{style:{"grid-area":"price"},ohlc:a(u),loading:a(l)},null,8,["ohlc","loading"]),_(a(kv),{style:{"grid-area":"volume"},volume:a(d),loading:a(r)},null,8,["volume","loading"]),_(a($v),{style:{"grid-area":"tvl"},tvl:a(v),loading:a(c)},null,8,["tvl","loading"])])}}});function bs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{tokens:{t:0,b:{t:2,i:[{t:3}],s:"Tokens"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees (24h)"}}}})}typeof bs=="function"&&bs(Pn);const Lv=R(Pn,[["__scopeId","data-v-d17aca14"]]),Tv={},Iv={class:"mev"};function Pv(e,t){return g(),A("div",Iv,"MEV goes here")}const Rv=R(Tv,[["render",Pv],["__scopeId","data-v-284efb34"]]);function it(e,t,s){const o=xe(),n=ye("tab",e[0]),l=V(-1);return N(n,u=>l.value=e.findIndex(r=>r===u),{immediate:!0}),N(l,async u=>{u===-1&&(u=0),await o.push({name:t,params:{tab:e[u],...(s==null?void 0:s())??{}},replace:n.value===""})},{immediate:!0}),{tabActive:n,tabActiveIndex:l}}const Vv={class:"pool"},qv=I({__name:"Pool.page",setup(e){const{show:t,crumbs:s}=E(Fe()),o=ye("chain"),n=ye("poolAddr"),{isFetching:l,data:u}=Wm(o,n.value);N(u,c=>{s.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:i}=it(["overview","mev"],"poolspool",()=>({chain:o.value,poolAddr:n.value}));return(c,m)=>{const d=Qe,v=Ee,f=Oe;return g(),A("div",Vv,[_(d,{class:x(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(u)?(g(),P(f,{key:0,active:a(i),onTab:m[0]||(m[0]=h=>i.value=h.index)},{default:w(()=>[_(v,{header:"Overview"},{default:w(()=>[(g(),P(ge,null,[a(r)==="overview"?(g(),P(Lv,{key:0,pool:a(u),chain:a(o)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1}),_(v,{header:"MEV"},{default:w(()=>[(g(),P(ge,null,[a(r)==="mev"?(g(),P(Rv,{key:0,pool:a(u),chain:a(o)},null,8,["pool","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),Fv=R(qv,[["__scopeId","data-v-4b11359e"]]),qa=yt("curveStore",()=>{const e=V([]),t=V({}),s=V({});function o(l,u){t.value[l]=u}function n(l,u){s.value[l]=u}return{gauges:e,emissions:t,fees:s,setEmissions:o,setFees:n}});function Ze(e){const t=e.reduce((s,{timeStamp:o,value:n})=>s.set(o,(s.get(o)??0)+n),new Map);return Array.from(t).map(s=>({timeStamp:s[0],value:s[1]}))}const Rn=I({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(e){const{t}=F(),s=qa(),{theme:o}=E(K()),n=y(()=>{let h=t("title");return h+=` - ${Me(e.gaugeSelected.name)}`,h}),l=y(()=>s.emissions[e.gaugeSelected.name]??[]),u=y(()=>s.fees[e.gaugeSelected.name]??[]),r=y(()=>Math.min(...Ze(l.value).map(h=>h.value).concat(Ze(u.value).map(h=>h.value)))),i=y(()=>Math.max(...Ze(l.value).map(h=>h.value).concat(Ze(u.value).map(h=>h.value)).map(h=>Math.abs(h)))),c=y(()=>re(o.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>d(h)},min:r,max:i},{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>v(h)},show:!1,min:r,max:i}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const b=h.w.globals.initialSeries[0].data[h.dataPointIndex].y,C=h.w.globals.initialSeries[1].data[h.dataPointIndex]?h.w.globals.initialSeries[1].data[h.dataPointIndex].y:0;return[`<div><b>${t("emissions")}</b>:</div><div>${d(b)}</div>`,`<div><b>${t("fees")}</b>:</div><div>${v(C)}</div>`,`<div><b>${t("ratio")}</b>:</div><div>${f(C/b)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(h){return h}}})),m=y(()=>{const h=Ze(l.value),b=Ze(u.value),C=Object.assign({},...b.map(k=>({[k.timeStamp]:k.value})));return[{name:t("emissions"),type:"line",data:h.map(k=>({x:k.timeStamp*1e3,y:k.value}))},{name:t("fees"),type:"line",data:h.map(k=>({x:k.timeStamp*1e3,y:C[k.timeStamp]?Math.abs(C[k.timeStamp]):0}))}]}),d=h=>`$${Q(Math.abs(h),1,"dollar")}${z(h,"dollar")}`,v=h=>`$${Q(h,1,"dollar")}${z(h,"dollar")}`,f=h=>Ne(h,2);return(h,b)=>{const C=me;return g(),P(C,{class:"emissions",title:a(n),options:a(c),series:a(m)},null,8,["title","options","series"])}}});function ys(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Emissions & Revenues"}},emissions:{t:0,b:{t:2,i:[{t:3}],s:"Emissions"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof ys=="function"&&ys(Rn);const Dv=R(Rn,[["__scopeId","data-v-25c34347"]]),Mv={class:"end"},xv={key:0,class:"charts"},Bv={key:1},Vn=I({__name:"TableGauges",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const s=t,{t:o}=F(),n=qa(),l=y(()=>["",{id:"name",label:o("name"),sort:!0},{id:"tvl",label:o("tvl"),sort:!0,align:"end"}]),{sorting:u,onSort:r}=Tt("tvl"),i=y(()=>q.orderBy(n.gauges,c=>{switch(u.value.column){case"name":return Me(c.name);case"tvl":return c.tvl;default:return c.tvl}},u.value.order));return(c,m)=>{const d=Y,v=ne,f=U;return g(),P(f,{title:a(o)("title")},{default:w(()=>[_(v,{class:"gauges-tables",rows:a(i),columns:a(l),sorting:a(u),expanded:c.expanded,onSortColumn:a(r),onSelected:m[0]||(m[0]=h=>s("selected",h))},{row:w(h=>[p("div",null,L(a(Me)(h.item.name)),1),p("div",Mv,[_(d,{value:h.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":w(h=>[c.expanded.includes(h.item)?(g(),A("div",xv,[_(Dv,{class:"fees-and-emissions","gauge-selected":h.item},null,8,["gauge-selected"])])):(g(),A("span",Bv))]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function ws(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},title:{t:0,b:{t:2,i:[{t:3}],s:"Curve Pools"}}}})}typeof ws=="function"&&ws(Vn);const Uv=R(Vn,[["__scopeId","data-v-6c09e87d"]]);class Ov extends je{async get(){const t=await this.getHost();return this.fetch(`${t}/curvepool`)}}class Ev extends je{async get(t){const s=await this.getHost();return this.fetch(`${s}/curvepoolsnapshots`,{pool:t.name})}}function Gt(){const e=V([]);return{expanded:e,toggleExpansion:s=>{const o=e.value.findIndex(n=>n===s);return o===-1?(e.value.push(s),!0):(e.value.splice(o,1),!1)}}}const Wv={class:"gauges"},Nv=I({__name:"Gauges.page",setup(e){let t=!1;const s=new Ov(ze()),o=new Ev(ze()),n=qa(),l=xe(),u=ye("gauge"),{expanded:r,toggleExpansion:i}=Gt();pe(async()=>{t=!0;const v=await gt(s.get());if(v){const f=v.pools;if(f.sort((h,b)=>b.tvl-h.tvl),n.gauges=f,!t)return;u.value&&m(u.value)}}),ya(()=>{t=!1});const c=async v=>{if(!v||n.fees[v.name]&&n.emissions[v.name])return;const f=await gt(o.get(v),500);if(f){const h=f.data.feeSnapshots,b=f.data.emissionSnapshots;n.setFees(v.name,h),n.setEmissions(v.name,b)}},m=v=>{const f=$a(v),h=n.gauges.find(b=>b.name===f);h&&i(h)&&c(h)},d=async v=>{i(v)&&(c(v),await l.push({name:"curvegauges",params:{gauge:Me(v.name)}}))};return(v,f)=>(g(),A("div",Wv,[_(Uv,{class:"gauges-table",expanded:a(r),onSelected:d},null,8,["expanded"])]))}}),Hv=R(Nv,[["__scopeId","data-v-db56f60d"]]),Kv=e=>({week:e.week,label:e.label,total_fees:e.total_fees}),zv=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),Qv=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),jv=e=>({timestamp:Le(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),Gv=e=>({timestamp:Le(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),Xv=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),Yv=e=>({timestamp:Le(e.timestamp),feesUsd:e.fees_usd}),Zv=e=>({timestamp:Le(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),ta="https://api-py.llama.airforce/curve/v1",aa="https://prices.curve.fi";class Jv extends je{async getBreakdown(t){return(await this.fetch(`${ta}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(Kv)}async getByChain(t){return(await this.fetch(`${ta}/protocol/revenue/chains`,void 0,t)).revenue.map(zv)}async getTopPools(t,s=10){const o=t==="ethereum"?"mainnet":t;return(await this.fetch(`${ta}/protocol/revenue/${o}/toppools/${s}`)).revenue.map(Qv)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(jv)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(Gv)}async getCushions(t){return(await this.fetch(`${aa}/v1/dao/fees/${t}/pending`)).data.map(Xv)}async getDistributions(){return await en(o=>this.fetch(`${aa}/v1/dao/fees/distributions?page=${o}&per_page=100`).then(n=>n.distributions.map(Yv)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${aa}/v1/dao/fees/settlements${t?"?timestamp="+t.toString():""}`)).data.map(Zv)}}const ct=new Jv(ze());function Pt(){return{initialData:[],initialDataUpdatedAt:0}}function e_(e){return j({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>ct.getCushions(t).then(s=>s.sort((o,n)=>n.usdValue-o.usdValue)),...Pt()})}function t_(e){return j({queryKey:["curve-revenue-top-pools",e],queryFn:({queryKey:[,t]})=>ct.getTopPools(t),...Pt()})}function a_(){return j({queryKey:["curve-revenue-chain"],queryFn:()=>ct.getByChain().then(e=>e.sort((t,s)=>s.totalDailyFeesUSD-t.totalDailyFeesUSD)),...Pt()})}function s_(){return j({queryKey:["curve-revenue-breakdown"],queryFn:()=>ct.getBreakdown(),...Pt()})}function o_(){return j({queryKey:["curve-revenue-distributions"],queryFn:()=>ct.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function n_(){return j({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>ct.getCowSwapSettlements(),...Pt()})}const l_={class:"actions"},qn=I({__name:"ChartBreakdown",setup(e){const{t}=F(),{theme:s}=E(K()),{items:o}=qe(()=>[{id:"dao",label:"DAO",color:s.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:s.value.colorsArray[1]}]),{isFetching:n,data:l}=s_(),u=y(()=>{const{colors:f,colorsArray:h}={colors:s.value.colors,colorsArray:[s.value.colorsArray[0],v(s.value.colorsArray[0],10),v(s.value.colorsArray[0],20),s.value.colorsArray[1],v(s.value.colorsArray[1],10)]};return re({colors:f,colorsArray:h},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:i.value,labels:{formatter:m,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:d},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),r=y(()=>q.chain(l.value).groupBy(f=>f.week).map(f=>({week:f[0].week,numLabels:f.length})).orderBy(f=>f.week,"asc").dropWhile(f=>f.numLabels<3).map(f=>f.week).value()),i=y(()=>q.chain(r.value).map(f=>new Date(f*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),c=y(()=>q.chain(l.value).groupBy(f=>f.label).map((f,h)=>({name:h,data:q.chain(r.value).map(b=>({week:b,breakdown:f.find(C=>C.week===b)})).map(b=>{var C;return{x:new Date(b.week*1e3).toLocaleDateString(),y:((C=b.breakdown)==null?void 0:C.total_fees)??0}}).value()})).orderBy(f=>f.name).value()),m=f=>f,d=f=>`$${Q(f,0,"dollar")}${z(f,"dollar")}`,v=(f,h)=>{let[b,C,k]=[f.slice(1,3),f.slice(3,5),f.slice(5,7)].map(S=>parseInt(S,16));const $=(S,T)=>Math.min(255,Math.max(0,T+Math.round(2.55*S)));return b=$(h,b),C=$(h,C),k=$(h,k),`#${b.toString(16).padStart(2,"0")}${C.toString(16).padStart(2,"0")}${k.toString(16).padStart(2,"0")}`};return(f,h)=>{const b=Ve,C=Nt,k=me;return g(),P(k,{class:"chart",options:a(u),series:a(c),loading:a(n),title:a(t)("title")},{actions:w(()=>[p("div",l_,[_(b,{items:a(o)},null,8,["items"]),_(C,{placement:"left"},{default:w(()=>[p("div",null,L(a(t)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function Cs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Revenue breakdown by source"}},"legend-explanation":{t:0,b:{t:2,i:[{t:3}],s:"DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"}}}})}typeof Cs=="function"&&Cs(qn);const r_=R(qn,[["__scopeId","data-v-b3f99584"]]),Fn=I({__name:"ChartChain",setup(e){const{t}=F(),{theme:s}=E(K()),{isFetching:o,data:n}=a_(),l=y(()=>re(s.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:i=>{const c=i.w.globals.labels[i.seriesIndex],m=i.series[i.seriesIndex][0];return[`<div><b>${c}</b>:</div><div>${r(m)}</div>`].join("")}},labels:n.value.map(i=>i.chain)})),u=y(()=>n.value.map(i=>i.totalDailyFeesUSD)),r=i=>`$${Q(Math.abs(i),1,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=me;return g(),P(m,{class:"chart",options:a(l),series:a(u),loading:a(o),title:a(t)("title")},null,8,["options","series","loading","title"])}}});function ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total revenue by chain"}}}})}typeof ks=="function"&&ks(Fn);const i_=R(Fn,[["__scopeId","data-v-c6af6b9d"]]),Dn=I({__name:"ChartTopPools",setup(e){const{t}=F(),{theme:s}=E(K()),o=V("ethereum"),{isFetching:n,data:l}=t_(o),u=y(()=>re(s.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(m=>m.name),labels:{formatter:i}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:i,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));pe(()=>{c("ethereum")});const r=y(()=>[{data:l.value.map(m=>m.totalDailyFeesUSD)}]),i=m=>`$${Q(Math.abs(m),1,"dollar")}${z(m,"dollar")}`,c=m=>{m!=="all"&&(o.value=m)};return(m,d)=>{const v=me;return g(),P(v,{class:"graph",options:a(u),series:a(r),loading:a(n),title:a(t)("title")},{actions:w(()=>[p("div",{class:x(["selector",{loading:a(n)}])},[_(At,{chain:a(o),onSelectChain:c},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function $s(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 pools by revenue (last 7 days)"}}}})}typeof $s=="function"&&$s(Dn);const c_=R(Dn,[["__scopeId","data-v-85cc9eab"]]),u_={class:"revenue-charts"},d_=I({__name:"Dashboard",setup(e){return(t,s)=>(g(),A("div",u_,[_(i_,{style:{"grid-area":"chain"},class:"chain"}),_(c_,{style:{"grid-area":"top-pools"}}),_(r_,{style:{"grid-area":"breakdown"},class:"breakdown"})]))}}),p_=R(d_,[["__scopeId","data-v-3ec72074"]]),m_={class:"end"},Mn=I({__name:"TableDistributions",props:{distributions:{}},setup(e){const{t}=F(),s=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:o,onSort:n}=Tt("timestamp"),l=y(()=>q.chain(e.distributions).orderBy(r=>{switch(o.value.column){case"timestamp":return r.timestamp;case"fees":return r.feesUsd;default:return r.timestamp}},o.value.order).value());function u(r){return new Date(r*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(r,i)=>{const c=Y,m=ne,d=U;return g(),P(d,{title:a(t)("title")},{default:w(()=>[_(m,{class:"distributions-table",rows:a(l),columns:s,sorting:a(o),onSortColumn:a(n)},{row:w(({item:{timestamp:v,feesUsd:f}})=>[p("div",null,L(u(v)),1),p("div",m_,[_(c,{value:f,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function Ss(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}}}})}typeof Ss=="function"&&Ss(Mn);const v_=R(Mn,[["__scopeId","data-v-5bda332d"]]),__={class:"actions"},xn=I({__name:"ChartDistributions",props:{distributions:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1),n=V(void 0),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}}),series:{type:"Histogram",name:"distributions",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${z(c,"dollar")}`,minMove:.01},color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.distributions),l],i);function i([c,m]){if(!m||!r.distributions)return;const d=q.chain(c).map(v=>({time:v.timestamp,value:v.feesUsd})).uniqWith((v,f)=>v.time===f.time).orderBy(v=>v.time,"asc").takeRight(52).value();if(d.length>0){r.distributions.setData(d);const v=d[0].time,f=d[d.length-1].time;m.timeScale().setVisibleRange({from:v,to:f})}}return(c,m)=>{const d=U;return g(),P(d,{ref_key:"chartCard",ref:n,class:x(["chart-card",{fullscreen:a(o)}]),title:a(t)("title")},{actions:w(()=>{var v;return[p("div",__,[_(a(rt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>le(o)?o.value=f:null),chart:a(l),target:(v=a(n))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function As(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions (1y)"}}}})}typeof As=="function"&&As(xn);const h_=R(xn,[["__scopeId","data-v-1a09f544"]]),f_={class:"actions"},Bn=I({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1),n=V(void 0),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:s,createChartOptions:c=>ee(c,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}}),series:{type:"Histogram",name:"deltas",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${z(c,"dollar")}`,minMove:.01},color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.distributions),l],i);function i([c,m]){if(!m||!r.deltas)return;const{colors:d}=s.value,v=q.chain(c).map(f=>({time:f.timestamp,value:f.feesUsd})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").takeRight(53).reduce((f,h,b,C)=>{if(b===0)return f;const k=h.value-C[b-1].value,$=k<0?d.red:d.green;return f.push({time:h.time,value:k,color:$}),f},[]).value();if(v.length>0){r.deltas.setData(v);const f=v[0].time,h=v[v.length-1].time;m.timeScale().setVisibleRange({from:f,to:h})}}return(c,m)=>{const d=U;return g(),P(d,{ref_key:"chartCard",ref:n,class:x(["chart-card",{fullscreen:a(o)}]),title:a(t)("title")},{actions:w(()=>{var v;return[p("div",f_,[_(a(rt),{modelValue:a(o),"onUpdate:modelValue":m[0]||(m[0]=f=>le(o)?o.value=f:null),chart:a(l),target:(v=a(n))==null?void 0:v.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function Ls(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions Change (1y)"}}}})}typeof Ls=="function"&&Ls(Bn);const g_=R(Bn,[["__scopeId","data-v-9a72cccb"]]),b_={class:"distributions"},Un=I({__name:"Distributions",setup(e){const{t}=F(),{isFetching:s,data:o}=o_(),n=y(()=>q.chain(o.value).sumBy(r=>r.feesUsd).value()),l=y(()=>q.chain(o.value).orderBy(r=>r.timestamp,"desc").take(52).meanBy(r=>r.feesUsd).value()),u=y(()=>{const r=q.chain(o.value).orderBy(m=>m.timestamp,"desc").take(52).map(m=>m.feesUsd).value(),i=q.mean(r),c=r.map(m=>Math.pow(m-i,2));return Math.sqrt(q.sum(c)/(r.length-1))});return(r,i)=>{const c=Y,m=he;return g(),A("div",b_,[_(m,{style:{"grid-area":"kpi1"},label:a(t)("total"),"has-value":a(o).length>0},{default:w(()=>[_(c,{value:a(n),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(m,{style:{"grid-area":"kpi2"},label:a(t)("avg"),"has-value":a(o).length>0},{default:w(()=>[_(c,{value:a(l),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(m,{style:{"grid-area":"kpi3"},label:a(t)("stddev"),"has-value":a(o).length>0},{default:w(()=>[_(c,{value:a(u),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(h_,{style:{"grid-area":"chart"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"]),_(g_,{style:{"grid-area":"delta"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"]),_(v_,{style:{"grid-area":"table"},distributions:a(o),loading:a(s)},null,8,["distributions","loading"])])}}});function Ts(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},avg:{t:0,b:{t:2,i:[{t:3}],s:"Average (1y)"}},stddev:{t:0,b:{t:2,i:[{t:3}],s:"Standard Deviation (1y)"}}}})}typeof Ts=="function"&&Ts(Un);const y_=R(Un,[["__scopeId","data-v-1f9012bc"]]),On=e=>(se("data-v-7ae800dc"),e=e(),oe(),e),w_=["href"],C_={class:"end"},k_=On(()=>p("div",null,null,-1)),$_=On(()=>p("div",null,null,-1)),S_={class:"end"},En=I({__name:"TableCushions",setup(e){const{t}=F(),s=V(""),o=y(()=>u.value||c.value),n=V("ethereum"),{data:l,isFetching:u}=Ed(),r=y(()=>q.chain(i.value).filter(d=>d.usdValue>100).filter(d=>{const v=s.value.toLocaleLowerCase().split(" "),f=h=>v.some(b=>h.toLocaleLowerCase().includes(b));return f(d.pool)||f(d.name)}).value()),{data:i,isFetching:c}=e_(n),m=d=>`https://etherscan.io/address/${d}`;return(d,v)=>{const f=Ie,h=Y,b=ne,C=U;return g(),P(C,{class:"cushions-card",title:a(t)("title"),loading:a(o)},{actions:w(()=>[_(At,{class:"chain-select",chain:a(n),chains:a(l),onSelectChain:v[0]||(v[0]=k=>n.value=k==="all"?"ethereum":k)},null,8,["chain","chains"]),_(f,{modelValue:a(s),"onUpdate:modelValue":v[1]||(v[1]=k=>le(s)?s.value=k:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_(b,{class:"cushions-table",rows:a(r),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:w(k=>[p("div",null,L(k.item.name),1),p("div",null,[p("a",{class:"font-mono",href:m(k.item.pool),target:"_blank"},L(k.item.pool),9,w_)]),p("div",C_,[_(h,{value:k.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[k_,$_,p("div",S_,[_(h,{value:a(r).reduce((k,$)=>k+$.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Is(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cushions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Is=="function"&&Is(En);const A_=R(En,[["__scopeId","data-v-7ae800dc"]]),L_={class:"cushions"},T_=I({__name:"Cushions",setup(e){return(t,s)=>(g(),A("div",L_,[_(A_)]))}}),I_=R(T_,[["__scopeId","data-v-8d09f656"]]),P_=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[s,o])=>(t[s]=BigInt(o),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((s,[o,n])=>(s[o]=BigInt(n),s),{}),orders:t.orders.map(s=>({id:s.id,sellAmount:BigInt(s.sellAmount),buyAmount:BigInt(s.buyAmount)}))}))}),R_="https://api.cow.fi";class V_ extends Ae{async getCompetition(t){const s=await this.fetch(`${R_}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return P_(s)}}const q_=new V_;function F_(e){return j({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>q_.getCompetition(t)})}const D_=e=>(se("data-v-57b0c683"),e=e(),oe(),e),M_={class:"settlement-details-body"},x_={class:"info col"},B_={class:"buttons"},U_=D_(()=>p("i",{class:"fas fa-expand"},null,-1)),O_={class:"font-mono json"},E_={key:0,class:"fas fa-trophy"},W_={key:1},N_=["href"],H_=I({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:s}=F_(B(()=>e.settlement.txHash)),o=y(()=>t.value?JSON.stringify(t.value,(d,v)=>typeof v=="bigint"?v.toString():v,2):"no data"),n=y(()=>t.value?q.chain(t.value.solutions).orderBy(d=>d.ranking,"asc").value():[]);function l(d){return`https://etherscan.io/address/${d}`}async function u(d){await navigator.clipboard.writeText(d)}async function r(){await navigator.clipboard.writeText(o.value)}function i(d){switch(d){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const c=V(!1),m=V(void 0);return(d,v)=>{const f=he,h=we,b=gn,C=U,k=ne;return g(),P(C,{class:"settlement-details"},{default:w(()=>[p("div",M_,[p("div",x_,[_(f,{label:"Auction Start Block","has-value":!a(s)},{default:w(()=>{var $;return[H(L((($=a(t))==null?void 0:$.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),_(f,{label:"Solvers","has-value":!a(s)},{default:w(()=>{var $,S;return[H(L(((S=($=a(t))==null?void 0:$.solutions)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),_(f,{label:"Orders","has-value":!a(s)},{default:w(()=>{var $,S;return[H(L(((S=($=a(t))==null?void 0:$.orders)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),_(C,{ref_key:"cardJson",ref:m,class:x(["card-json col",{fullscreen:a(c)}]),title:"Json"},{actions:w(()=>[p("div",B_,[_(h,{icon:"fas fa-link",onClick:v[0]||(v[0]=$=>r())}),_(h,{onClick:v[2]||(v[2]=$=>c.value=!a(c))},{default:w(()=>{var $;return[U_,_(b,{target:($=a(m))==null?void 0:$.$el,show:a(c),onClose:v[1]||(v[1]=S=>c.value=!1)},null,8,["target","show"])]}),_:1})])]),default:w(()=>[p("div",O_,L(a(o)),1)]),_:1},8,["class"])]),_(C,{class:"col",title:"Solvers"},{default:w(()=>[_(k,{class:"solvers-table col",rows:a(n)},{row:w(({item:{solver:$,solverAddress:S,ranking:T,score:O}})=>[p("div",{class:x(["trophy",i(T)])},[T<=3?(g(),A("i",E_)):(g(),A("span",W_,L(T),1))],2),p("div",null,[p("a",{class:"font-mono",href:l(S),target:"_blank"},L($),9,N_)]),p("div",null,L(O),1),p("div",null,[_(h,{icon:"fas fa-link",onClick:M=>u(S)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),K_=R(H_,[["__scopeId","data-v-57b0c683"]]),z_=e=>(se("data-v-bf7319ed"),e=e(),oe(),e),Q_={class:"header-content"},j_={class:"token"},G_=["href"],X_={class:"end"},Y_={class:"end"},Z_={class:"end"},J_={class:"end profit"},eh={class:"end"},th=["href"],ah={class:"end"},sh=z_(()=>p("div",{class:"empty"},null,-1)),Ps=15,Wn=I({__name:"TableSettlements",props:{settlements:{}},setup(e){const{t}=F(),s=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:o,onSort:n}=Tt("timestamp"),l=y(()=>q.chain(e.settlements).orderBy(b=>{switch(o.value.column){case"amount":return b.amountReceived;case"quote":return b.routerReceived;case"profit":return v(b);case"profitPct":return f(b);case"timestamp":default:return b.timestamp}},o.value.order).value()),{page:u,rowsPage:r,onPage:i}=jt(l,Ps),{expanded:c,toggleExpansion:m}=Gt(),{relativeTime:d}=Ge();function v(b){return b.amountReceived-b.routerReceived}function f(b){return 100*b.amountReceived/b.routerReceived-100}function h(b){const C=b.coin.symbol;return C.includes(":")?C.split(":")[1]:C}return(b,C)=>{const k=Ue,$=Be,S=Y,T=ne,O=U;return g(),P(O,{title:a(t)("title")},{actions:w(()=>[p("div",Q_,[_(k,{"items-count":a(l).length,"items-per-page":Ps,page:a(u),onPage:a(i)},null,8,["items-count","page","onPage"])])]),default:w(()=>[_(T,{class:"settlements-table",rows:a(r),columns:s,sorting:a(o),expanded:a(c),"expand-side":"right",onSortColumn:a(n),onSelected:a(m)},{row:w(({item:M})=>[p("div",j_,[_($,{address:M.coin.address},null,8,["address"]),p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${M.coin.address}`},L(h(M)),9,G_)]),p("div",X_,[_(S,{value:M.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",Y_,[_(S,{value:M.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),p("div",Z_,[M.routerReceived>1?(g(),P(S,{key:0,value:v(M),precision:2,inline:!1,type:"dollar"},null,8,["value"])):D("",!0)]),p("div",J_,[M.routerReceived>1?(g(),P(S,{key:0,class:x(["pct",{green:f(M)>0}]),value:f(M),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):D("",!0)]),p("div",eh,[p("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${M.txHash}`,target:"_blank",onClick:C[0]||(C[0]=Te(()=>{},["stop"]))},L(a(Se)(M.txHash)),9,th)]),p("div",ah,L(a(d)(M.timestamp)),1)]),"row-details":w(({item:M})=>[sh,a(c).includes(M)?(g(),P(K_,{key:0,settlement:M},null,8,["settlement"])):D("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1},8,["title"])}}});function Rs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"CowSwap Settlements"}}}})}typeof Rs=="function"&&Rs(Wn);const oh=R(Wn,[["__scopeId","data-v-bf7319ed"]]),nh={class:"settlements"},lh=I({__name:"Settlements",setup(e){const{isFetching:t,data:s}=n_();return(o,n)=>(g(),A("div",nh,[_(oh,{style:{"grid-area":"table"},settlements:a(s),loading:a(t)},null,8,["settlements","loading"])]))}}),rh=R(lh,[["__scopeId","data-v-c2696ab1"]]),ih={class:"revenue"},ch=I({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:s}=it(["overview","distributions","cushions","settlements"],"revenue");return(o,n)=>{const l=Ee,u=Oe;return g(),A("div",ih,[_(u,{active:a(s),onTab:n[0]||(n[0]=r=>s.value=r.index)},{default:w(()=>[_(l,{header:"Revenue"},{default:w(()=>[(g(),P(ge,null,[a(t)==="overview"?(g(),P(p_,{key:0})):D("",!0)],1024))]),_:1}),_(l,{header:"Distributions"},{default:w(()=>[(g(),P(ge,null,[a(t)==="distributions"?(g(),P(y_,{key:0})):D("",!0)],1024))]),_:1}),_(l,{header:"Cushions"},{default:w(()=>[(g(),P(ge,null,[a(t)==="cushions"?(g(),P(I_,{key:0})):D("",!0)],1024))]),_:1}),_(l,{header:"Settlements"},{default:w(()=>[(g(),P(ge,null,[a(t)==="settlements"?(g(),P(rh,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),uh=R(ch,[["__scopeId","data-v-206449c4"]]),dh=e=>(se("data-v-280fb392"),e=e(),oe(),e),ph={class:"end"},mh={class:"end"},vh={class:"end"},_h={class:"end"},hh=dh(()=>p("div",null,null,-1)),fh={class:"end"},gh={class:"end"},bh={class:"end"},yh={class:"end"},Nn=I({__name:"TablePegkeepers",setup(e){const{t}=F(),s=V(""),o=y(()=>d.value||u.value),n=y(()=>q.chain(r.value).map(h=>{const b=v.value.find(C=>h.pool_address===C.address);if(b)return{...b,...h}}).filter(ic).orderBy(h=>h.tvlUsd,"desc").value()),l=y(()=>q.chain(n.value).filter(h=>{const b=s.value.toLocaleLowerCase().split(" "),C=k=>b.some($=>k.toLocaleLowerCase().includes($));return C(h.name)||C(h.address)}).value()),{isFetching:u,data:r}=hn(),i=h=>`${h.pair[1].symbol} / ${h.pair[0].symbol}`,c=y(()=>r.value.map(h=>h.pool_address)),m=Nm(V("ethereum"),c),d=y(()=>m.value.some(h=>h.isFetching)),v=y(()=>m.value.filter(h=>h.data).map(h=>h.data)),f=h=>h>=1e6?2:0;return(h,b)=>{const C=Ie,k=Y,$=ne,S=U;return g(),P(S,{class:"pegkeepers-card",title:a(t)("title"),loading:a(o)},{actions:w(()=>[_(C,{modelValue:a(s),"onUpdate:modelValue":b[0]||(b[0]=T=>le(s)?s.value=T:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_($,{class:"pegkeepers-table",rows:a(l),columns:["Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:w(T=>[p("div",null,L(i(T.item)),1),p("div",ph,[_(k,{value:T.item.total_debt,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",mh,[_(k,{value:T.item.tvlUsd,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",vh,[_(k,{value:T.item.tradingVolume24h,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",_h,[_(k,{value:T.item.total_profit,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[hh,p("div",fh,[_(k,{value:a(l).reduce((T,O)=>T+O.total_debt,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",gh,[_(k,{value:a(l).reduce((T,O)=>T+O.tvlUsd,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",bh,[_(k,{value:a(l).reduce((T,O)=>T+O.tradingVolume24h,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),p("div",yh,[_(k,{value:a(l).reduce((T,O)=>T+O.total_profit,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Vs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pegkeepers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Vs=="function"&&Vs(Nn);const wh=R(Nn,[["__scopeId","data-v-280fb392"]]),Fa=e=>(se("data-v-62c333b4"),e=e(),oe(),e),Ch={class:"end"},kh={class:"end"},$h={class:"end"},Sh={class:"end"},Ah={class:"end"},Lh={class:"end"},Th=Fa(()=>p("div",null,null,-1)),Ih=Fa(()=>p("div",null,null,-1)),Ph={class:"end"},Rh=Fa(()=>p("div",null,null,-1)),Vh={class:"end"},qh={class:"end"},Fh={class:"end"},Dh={class:"end"},Hn=I({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=V(""),l=y(()=>q.chain(r.value).filter(c=>{const m=n.value.toLocaleLowerCase().split(" "),d=v=>m.some(f=>v.toLocaleLowerCase().includes(f));return d(c.name)||d(c.address)}).orderBy(c=>c.borrowed,"desc").value()),{isFetching:u,data:r}=Pa(),i=c=>c>=1e6?2:0;return(c,m)=>{const d=Ie,v=Y,f=ne,h=U;return g(),P(h,{class:"markets-card",title:a(s)("title"),loading:a(u)},{actions:w(()=>[_(d,{modelValue:a(n),"onUpdate:modelValue":m[0]||(m[0]=b=>le(n)?n.value=b:null),search:!0,placeholder:a(s)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:w(()=>[_(f,{class:"markets-table","expand-side":"left",rows:a(l),columns:["","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:m[1]||(m[1]=b=>o("selected",b))},{row:w(b=>[p("div",null,L(b.item.name),1),p("div",Ch,L(b.item.loans),1),p("div",kh,[_(v,{value:b.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),p("div",$h,[_(v,{value:b.item.borrowed,precision:i,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",Sh,[_(v,{value:b.item.collateralUsd,precision:i,type:"dollar"},null,8,["value"])]),p("div",Ah,[_(v,{value:b.item.fees.pending,precision:i,type:"dollar"},null,8,["value"])]),p("div",Lh,[_(v,{value:b.item.fees.collected,precision:i,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":w(()=>[Th,Ih,p("div",Ph,L(a(l).reduce((b,C)=>b+C.loans,0)),1),Rh,p("div",Vh,[_(v,{value:a(l).reduce((b,C)=>b+C.borrowed,0),precision:i,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",qh,[_(v,{value:a(l).reduce((b,C)=>b+C.collateralUsd,0),precision:i,type:"dollar"},null,8,["value"])]),p("div",Fh,[_(v,{value:a(l).reduce((b,C)=>b+C.fees.pending,0),precision:i,type:"dollar"},null,8,["value"])]),p("div",Dh,[_(v,{value:a(l).reduce((b,C)=>b+C.fees.collected,0),precision:i,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":w(()=>[H("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Markets"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof qs=="function"&&qs(Hn);const Mh=R(Hn,[["__scopeId","data-v-62c333b4"]]),xh=I({__name:"ChartCrvUsdPriceHistogram",setup(e){const{theme:t}=E(K()),{isFetching:s,data:o}=tp(),n=y(()=>re(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:r},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:c=>{const m=l.value[c.dataPointIndex],d=c.series[0][c.dataPointIndex];return[`<div><b>${m}</b>:</div><div>${i(d)}</div>`].join("")}}})),l=y(()=>o.value.x.map(c=>c.toString())),u=y(()=>[{data:o.value.y}]),r=c=>{const m=c-1;return m<0?`-$${m.toString().substring(2,7)}`:`$${m.toString().substring(1,6)}`},i=c=>{var v,f;const m=((f=(v=u.value[0])==null?void 0:v.data)==null?void 0:f.reduce((h,b)=>h+b,0))??1,d=c/m*100;return`${Q(d,0,"dollar")}${z(d,"percentage")}`};return(c,m)=>{const d=me;return g(),P(d,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:a(s),options:a(n),series:a(u)},null,8,["loading","options","series"])}}}),Bh=R(xh,[["__scopeId","data-v-15de2c83"]]),Uh={class:"actions"},Oh={class:"chart-types"},Kn=I({__name:"ChartCrvUsdSupply",setup(e){const{t}=F(),{theme:s}=E(K()),o=V("line"),{items:n}=qe(()=>[{id:"supply",label:"Supply",color:s.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:s.value.colorsArray[1]}]),{isFetching:l,data:u}=ep(),r=i=>{o.value!==i&&(o.value=i)};return(i,c)=>{const m=Ve,d=It,v=U;return g(),P(v,{class:"chart-container",title:a(t)("title"),loading:a(l)},{actions:w(()=>[p("div",Uh,[a(o)==="line"?(g(),P(m,{key:0,items:a(n)},null,8,["items"])):D("",!0),p("div",Oh,[_(d,{value:"Line","model-value":a(o)==="line",onClick:c[0]||(c[0]=f=>r("line"))},null,8,["model-value"]),_(d,{value:"Breakdown","model-value":a(o)==="breakdown",onClick:c[1]||(c[1]=f=>r("breakdown"))},null,8,["model-value"])])])]),default:w(()=>[(g(),P(ge,null,[a(o)==="line"?(g(),P(a(Hh),{key:0,data:a(u)},null,8,["data"])):D("",!0)],1024)),(g(),P(ge,null,[a(o)==="breakdown"?(g(),P(a(Nh),{key:0,data:a(u)},null,8,["data"])):D("",!0)],1024))]),_:1},8,["title","loading"])}}});function Fs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD Supply"}}}})}typeof Fs=="function"&&Fs(Kn);const Eh=R(Kn,[["__scopeId","data-v-fcb2d6a5"]]),Wh=I({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=E(K()),s=y(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>q.chain(e.data).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,c)=>c%8===0?i:"").value()),n=y(()=>q.chain(e.data).groupBy(i=>i.market).map((i,c)=>({name:c,data:q.chain(i).groupBy(m=>m.timestamp).map((m,d)=>({x:new Date(parseInt(d,10)*1e3).toLocaleDateString(),y:m.reduce((v,f)=>v+f.supply,0)})).orderBy(m=>m.x,"asc").value()})).value()),l=y(()=>Math.max(...q.chain(e.data).groupBy(i=>i.timestamp).map(i=>i.reduce((c,m)=>c+m.supply,0)).value())*1.1),u=i=>i,r=i=>`${Q(i,1,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=Qt;return g(),P(m,{class:"chart",options:a(s),series:a(n)},null,8,["options","series"])}}}),Nh=R(Wh,[["__scopeId","data-v-533c01eb"]]),Hh=I({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){const{theme:t}=E(K()),{chart:s,chartRef:o,series:n}=te({recreateChartTrigger:t,createChartOptions:r=>ee(r,t.value,{height:r.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:[{type:"Area",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:de.WithSteps,lineColor:t.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:de.WithSteps,color:t.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});N([()=>e.data,s],l);function l([r,i]){if(!i||!n.debt||!n.supply)return;const c=q.chain(r).groupBy(d=>d.timestamp).mapValues(d=>{var v;return{time:d[0].timestamp,value:d.reduce((f,h)=>f+h.supply,0),debt:((v=d.find(f=>f.market==="Keepers debt"))==null?void 0:v.supply)??0}}).entries().map(d=>d[1]).uniqWith((d,v)=>d.time===v.time).orderBy(d=>d.time,"asc").value(),m=c.map(d=>({time:d.time,value:d.value-d.debt}));c.length>0&&n.supply.setData(c),m.length>0&&n.debt.setData(m),i.timeScale().fitContent()}function u(r){return`${Q(r,0,"dollar")}${z(r,"dollar")}`}return(r,i)=>(g(),A("div",{ref_key:"chartRef",ref:o,class:"chart"},null,512))}}),zn=I({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=zt(B(()=>e.market)),{theme:n}=E(K()),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:n,createChartOptions:c=>ee(c,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"available",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${z(c,"dollar")}`},lineWidth:2,lineType:de.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([o,l],i);function i([c,m]){if(!m||!r.available)return;const d=q.chain(c).map(v=>({time:v.timestamp,value:v.borrowable})).uniqWith((v,f)=>v.time===f.time).orderBy(v=>v.time,"asc").dropWhile(v=>v.value===0).value();d.length>0&&r.available.setData(d),m.timeScale().fitContent()}return(c,m)=>{const d=U;return g(),P(d,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ds(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable & Debt Ceiling"}}}})}typeof Ds=="function"&&Ds(zn);const Kh=R(zn,[["__scopeId","data-v-06af4e85"]]),Qn=I({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=zt(B(()=>e.market)),{theme:n}=E(K()),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:n,createChartOptions:c=>ee(c,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:m=>Math.round(m).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:n.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});N([o,l],i);function i([c,m]){if(!m||!r.loans)return;const d=q.chain(c).map(v=>({time:v.timestamp,value:v.nLoans})).uniqWith((v,f)=>v.time===f.time).orderBy(v=>v.time,"asc").value();if(d.length>0){r.loans.setData(d);const v=d[0].time,f=d[d.length-1].time;m.timeScale().setVisibleRange({from:v,to:f})}}return(c,m)=>{const d=U;return g(),P(d,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Ms(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Ms=="function"&&Ms(Qn);const zh=R(Qn,[["__scopeId","data-v-229de177"]]),Qh=["min","max"],jh=I({__name:"InputNumber",props:Ke({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue");return N(t,s=>{s===""?t.value=null:typeof s=="number"&&(t.value=Math.min(Math.max(s,e.min),e.max))}),(s,o)=>ba((g(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.value=n),type:"number",min:s.min,max:s.max},null,8,Qh)),[[Go,t.value]])}}),jn=R(jh,[["__scopeId","data-v-f442b732"]]),Gh={class:"actions"},Gn=I({__name:"ChartMarketRates",props:{market:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=zt(B(()=>e.market)),{theme:n}=E(K()),l=V(null),{chart:u,chartRef:r,series:i}=te({recreateChartTrigger:n,createChartOptions:v=>ee(v,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:[{type:"Area",name:"rates",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:de.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"ema",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,lineType:de.WithSteps,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});N([o,u],c),N(l,()=>{c([o.value,u.value])});function c([v,f]){if(!f||!i.rates||!i.ema)return;const h=q.chain(v).map(k=>({time:k.timestamp,value:k.rate})).uniqWith((k,$)=>k.time===$.time).orderBy(k=>k.time,"asc").value(),b=d(h.map(k=>k.value),l.value??31),C=q.chain(b).zip(h).map(k=>({time:k[1].time,value:k[0]})).value();if(C.length>0&&i.ema.setData(C),h.length>0){i.rates.setData(h);const k=h[0].time,$=h[h.length-1].time;f.timeScale().setVisibleRange({from:k,to:$})}}function m(v){return`${Q(v*100,0,"percentage")}${z(v,"percentage")}`}const d=(v,f=7)=>v.map((h,b)=>{const C=Math.max(b-(f-1),0),k=b+1,$=v.slice(C,k);return $.reduce((T,O)=>T+O,0)/$.length});return(v,f)=>{const h=jn,b=U;return g(),P(b,{class:"chart-container",title:a(t)("title"),loading:a(s)},{actions:w(()=>[p("div",Gh,[_(h,{modelValue:a(l),"onUpdate:modelValue":f[0]||(f[0]=C=>le(l)?l.value=C:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}}}})}typeof xs=="function"&&xs(Gn);const Xh=R(Gn,[["__scopeId","data-v-9d8011f8"]]),Yh=e=>{const t=e.provider.toLocaleLowerCase(),s=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,o=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,n=e.block_number,l=e.timestamp,u=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:s,withdrawal:o,block_number:n,timestamp:l,transaction_hash:u}},Zh=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),Jh=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),sa="https://prices.curve.fi";class ef extends Ae{async getEvents(t,s,o,n){const l=await this.fetch(`${sa}/v1/${t}/llamma_events/${s}/${o}?page=${n}&per_page=10`);return{events:l.data.map(Yh),count:l.count}}async getTrades(t,s,o,n){const l=await this.fetch(`${sa}/v1/${t}/llamma_trades/${s}/${o}?page=${n}&per_page=10`);return{trades:l.data.map(Zh),count:l.count}}async getOHLC(t,s,o){const n=Math.floor(new Date().getTime()/1e3),l=n-10*24*60*60;return(await this.fetch(`${sa}/v1/${t}/llamma_ohlc/${s}/${o}?agg_number=1&agg_units=hour&start=${l}&end=${n}`)).data.map(Jh)}}const Da=new ef;function Xn(e,t,s,o){return j({queryKey:["llamma-market-events",t,o],queryFn:({queryKey:[,n,l]})=>Da.getEvents(e.value,s.value,n,l),placeholderData:Wt,enabled:y(()=>!!t.value&&!!s.value)})}function Yn(e,t,s,o){return j({queryKey:["llamma-market-trades",t,o],queryFn:({queryKey:[,n,l]})=>Da.getTrades(e.value,s.value,n,l),placeholderData:Wt,enabled:y(()=>!!t.value&&!!s.value)})}function Ma(e,t,s){return j({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,o]})=>Da.getOHLC(e.value,s.value,o),enabled:y(()=>!!t.value&&!!s.value)})}const Zn=I({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=Ma(B("crvusd"),y(()=>{var c;return(c=e.market)==null?void 0:c.llamma}),B(()=>e.chain)),{theme:n}=E(K()),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:n,createChartOptions:c=>ee(c,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"volume",options:y(()=>({priceFormat:{type:"custom",formatter:c=>`$${Q(c,0,"dollar")}${z(c,"dollar")}`},lineWidth:2,lineType:de.WithSteps,lineColor:n.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([o,l],i);function i([c,m]){if(!m||!r.volume)return;const d=q.chain(c).map(v=>({time:v.time,value:v.volume})).uniqWith((v,f)=>v.time===f.time).orderBy(v=>v.time,"asc").value();d.length>0&&r.volume.setData(d),m.timeScale().fitContent()}return(c,m)=>{const d=U;return g(),P(d,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Bs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof Bs=="function"&&Bs(Zn);const tf=R(Zn,[["__scopeId","data-v-01134969"]]),af={class:"actions"},Jn=I({__name:"ChartKeeperPrices",setup(e){const{t}=F(),{theme:s}=E(K()),o=["USDC","USDT","TUSD","USDP"],{items:n,toggles:l,disabled:u}=qe(()=>o.map(($,S)=>({id:$,label:$,color:s.value.colorsArray[S],togglable:!0}))),r=y(()=>i.value||m.value),{isFetching:i,data:c}=hn(),{isFetching:m,data:d}=ap(c),v=V(!1),f=V(void 0),{chart:h,chartRef:b,series:C}=te({recreateChartTrigger:s,createChartOptions:$=>ee($,s.value,{height:$.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:o.map(($,S)=>({type:"Line",name:$,options:y(()=>({priceFormat:{type:"custom",formatter:T=>`${Q(T,3,"dollar")}${z(T,"dollar")}`},lineWidth:2,lineType:de.WithSteps,color:s.value.colorsArray[S],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:T=>{const O=T();return O!==null&&(O.priceRange.minValue=Math.max(.98,O.priceRange.minValue),O.priceRange.maxValue=Math.min(1.02,O.priceRange.maxValue)),O}}))}))});Et(k);function k(){var $,S;if(!(!h.value||Object.values(C).length<0)){for(const[,T]of o.entries()){if(!l[T].value){($=C[T])==null||$.setData([]);continue}const O=q.chain(d.value).map(M=>({time:M.timestamp,value:M[T]})).uniqWith((M,W)=>M.time===W.time).orderBy(M=>M.time,"asc").value();O.length>0&&((S=C[T])==null||S.setData(O))}h.value.timeScale().fitContent()}}return($,S)=>{const T=Ve,O=U;return g(),P(O,{ref_key:"chartCard",ref:f,class:x(["chart-container",{fullscreen:a(v)}]),title:a(t)("title"),loading:a(r)},{actions:w(()=>{var M;return[p("div",af,[_(T,{items:a(n),disabled:a(u),onToggle:S[0]||(S[0]=W=>a(l)[W].value=!a(l)[W].value)},null,8,["items","disabled"]),_(a(rt),{modelValue:a(v),"onUpdate:modelValue":S[1]||(S[1]=W=>le(v)?v.value=W:null),chart:a(h),target:(M=a(f))==null?void 0:M.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function Us(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Stablecoin Prices of Pegkeepers"}}}})}typeof Us=="function"&&Us(Jn);const sf=R(Jn,[["__scopeId","data-v-f266b993"]]),of={class:"crvusd"},nf={class:"col"},lf={class:"col"},rf=I({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:s}=E(Fe());pe(()=>{t.value=!0,s.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=xe(),n=async l=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,u)=>(g(),A("div",of,[_(a(Mh),{style:{"grid-column":"1 / -1"},onSelected:n}),p("div",nf,[_(a(wh)),_(a(sf))]),p("div",lf,[_(a(Eh)),_(a(Bh))])]))}}),cf=R(rf,[["__scopeId","data-v-5900dc0c"]]),uf=["href"],df={key:1},el=I({__name:"Addresses",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var l,u,r;return[{description:"controller",address:(l=e.market)==null?void 0:l.address},{description:"factory",address:(u=e.market)==null?void 0:u.factory},{description:"llamma",address:(r=e.market)==null?void 0:r.llamma}]}),o=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,u)=>{const r=we,i=ne,c=U;return g(),P(c,{class:"addresses",title:a(t)("addresses")},{default:w(()=>[_(i,{class:"addresses-table",rows:a(s)},{row:w(({item:{description:m,address:d}})=>[p("div",null,L(a(t)(m)),1),p("div",null,[d?(g(),A("a",{key:0,class:"font-mono",href:o(d),target:"_blank"},L(d),9,uf)):(g(),A("span",df,"?"))]),p("div",null,[_(r,{icon:"fas fa-link",onClick:v=>n(d)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Os(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},factory:{t:0,b:{t:2,i:[{t:3}],s:"Factory"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}}}})}typeof Os=="function"&&Os(el);const pf=R(el,[["__scopeId","data-v-2cdb66c5"]]),mf={key:0},vf={class:"token-info"},_f=["href"],hf={key:1},tl=I({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=F();function s(r){return typeof r=="object"&&r.type==="token"}function o(r,i){return i?r==="collateral"?{type:"token",symbol:i.collateral_token.symbol,address:i.collateral_token.address}:{type:"token",symbol:i.stablecoin_token.symbol,address:i.stablecoin_token.address}:{type:"token",symbol:"?",address:"?"}}const n=y(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),l=r=>`https://etherscan.io/address/${r}`,u=async r=>{await navigator.clipboard.writeText(r)};return(r,i)=>{const c=Be,m=we,d=ne,v=U;return g(),P(v,{class:"properties",title:a(t)("properties")},{default:w(()=>[_(d,{class:"properties-table",rows:a(n)},{row:w(({item:{description:f,value:h}})=>[p("div",null,L(a(t)(f)),1),s(h)?(g(),A("div",mf,[p("div",vf,[_(c,{chain:r.chain,address:h.address},null,8,["chain","address"]),p("div",null,L(h.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(h.address),target:"_blank"},L(h.address),9,_f)]),p("div",null,[_(m,{icon:"fas fa-link",onClick:b=>u(h.address)},null,8,["onClick"])])])])):(g(),A("div",hf,L(h),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Es(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof Es=="function"&&Es(tl);const ff=R(tl,[["__scopeId","data-v-4c18c6a7"]]),gf={class:"market"},al=I({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=F();return(s,o)=>{const n=Y,l=he;return g(),A("div",gf,[_(l,{style:{"grid-area":"kpi1"},label:a(t)("borrow-rate"),"has-value":!!s.market},{default:w(()=>{var u;return[_(n,{value:100*(((u=s.market)==null?void 0:u.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi2"},label:a(t)("borrowed"),"has-value":!!s.market},{default:w(()=>{var u;return[_(n,{value:(u=s.market)==null?void 0:u.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi3"},label:a(t)("borrowable"),"has-value":!!s.market},{default:w(()=>{var u;return[_(n,{value:(u=s.market)==null?void 0:u.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(l,{style:{"grid-area":"kpi4"},label:a(t)("loans"),"has-value":!!s.market},{default:w(()=>{var u;return[H(L(((u=s.market)==null?void 0:u.loans)??0),1)]}),_:1},8,["label","has-value"]),_(a(Xh),{style:{"grid-area":"rates"},market:s.market},null,8,["market"]),_(a(Kh),{style:{"grid-area":"cap"},market:s.market},null,8,["market"]),_(a(zh),{style:{"grid-area":"loans"},market:s.market},null,8,["market"]),_(a(tf),{style:{"grid-area":"volume"},market:s.market,chain:s.chain},null,8,["market","chain"]),_(a(ff),{style:{"grid-area":"properties"},market:s.market,chain:s.chain},null,8,["market","chain"]),_(a(pf),{style:{"grid-area":"addresses"},market:s.market,chain:s.chain},null,8,["market","chain"])])}}});function Ws(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-rate":{t:0,b:{t:2,i:[{t:3}],s:"Borrow Rate"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},borrowable:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Ws=="function"&&Ws(al);const bf=R(al,[["__scopeId","data-v-0122bf85"]]),yf=e=>({timestamp:Le(e.timestamp),proportion:e.proportion/100}),wf=e=>({timestamp:Le(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),Cf=e=>({timestamp:Le(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),kf=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),$f=e=>({timestamp:Le(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),Sf=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),Je="https://prices.curve.fi";class Af extends Ae{async getSoftLiqRatios(t,s,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/soft_liquidation_ratio`)).data.map(yf)}async getLiqsDetailed(t,s,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/history/detailed`)).data.map(wf)}async getLiqsAggregate(t,s,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/history/aggregated`)).data.map(Cf)}async getLiqOverview(t,s,o){const n=await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/overview?fetch_on_chain=true`);return kf(n)}async getLiqLosses(t,s,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/losses/history`)).data.map($f)}async getLiqHealthDeciles(t,s,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${s}/${o}/health/distribution`)).data.map(Sf)}}const ut=new Af;function Rt(){return{initialData:[],initialDataUpdatedAt:0}}function dt(e,t){return{enabled:y(()=>!!e.value&&(t?!!t.value:!0))}}function sl(e,t,s){return j({queryKey:["liqs-soft-liqs",s],queryFn:({queryKey:[,o]})=>ut.getSoftLiqRatios(e.value,t.value,o),...dt(s,t),...Rt()})}function ol(e,t,s){return j({queryKey:["liqs-detailed",s],queryFn:({queryKey:[,o]})=>ut.getLiqsDetailed(e.value,t.value,o),...dt(s,t),...Rt()})}function nl(e,t,s){return j({queryKey:["liqs-aggregate",s],queryFn:({queryKey:[,o]})=>ut.getLiqsAggregate(e.value,t.value,o),...dt(s,t),...Rt()})}function ll(e,t,s){return j({queryKey:["liqs-overview",s],queryFn:({queryKey:[,o]})=>ut.getLiqOverview(e.value,t.value,o),...dt(s,t)})}function rl(e,t,s){return j({queryKey:["liqs-losses",s],queryFn:({queryKey:[,o]})=>ut.getLiqLosses(e.value,t.value,o),...dt(s,t),...Rt()})}function il(e,t,s){return j({queryKey:["liqs-health-deciles",s],queryFn:({queryKey:[,o]})=>ut.getLiqHealthDeciles(e.value,t.value,o),...dt(s,t),...Rt()})}const Lf={class:"actions"},Tf={class:"chart-types"},cl=I({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const{t}=F(),s=V("count"),o=n=>{s.value!==n&&(s.value=n)};return(n,l)=>{const u=It,r=U;return g(),P(r,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",Lf,[p("div",Tf,[_(u,{value:"Count","model-value":a(s)==="count",onClick:l[0]||(l[0]=i=>o("count"))},null,8,["model-value"]),_(u,{value:"Value","model-value":a(s)==="value",onClick:l[1]||(l[1]=i=>o("value"))},null,8,["model-value"])])])]),default:w(()=>[a(s)==="count"?(g(),P(a(Pf),{key:0,liqs:n.liqs},null,8,["liqs"])):(g(),P(a(Vf),{key:1,liqs:n.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Ns(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Self & Hard Liquidations"}}}})}typeof Ns=="function"&&Ns(cl);const ul=R(cl,[["__scopeId","data-v-bb3ee8e9"]]),If=I({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=E(K()),s=y(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>q.chain(e.liqs).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,c)=>c%8===0?i:"").value()),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardCount}))}]),l=y(()=>Math.max(...q.chain(e.liqs).groupBy(i=>i.timestamp).map(i=>i.reduce((c,m)=>c+m.selfCount+m.hardCount,0)).value())*1.1),u=i=>i,r=i=>`${Q(i,1,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=Qt;return g(),P(m,{class:"chart",options:a(s),series:a(n)},null,8,["options","series"])}}}),Pf=R(If,[["__scopeId","data-v-a106b06c"]]),Rf=I({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=E(K()),s=y(()=>re(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:u,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=y(()=>q.chain(e.liqs).orderBy(i=>i.timestamp,"asc").groupBy(i=>i.timestamp).map((i,c)=>new Date(parseInt(c,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((i,c)=>c%8===0?i:"").value()),n=y(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(i=>({x:new Date(i.timestamp*1e3).toLocaleDateString(),y:i.hardValue}))}]),l=y(()=>Math.max(...q.chain(e.liqs).groupBy(i=>i.timestamp).map(i=>i.reduce((c,m)=>c+m.selfValue+m.hardValue,0)).value())*1.1),u=i=>i,r=i=>`${Q(i,1,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=Qt;return g(),P(m,{class:"chart",options:a(s),series:a(n)},null,8,["options","series"])}}}),Vf=R(Rf,[["__scopeId","data-v-55b5b475"]]),dl=I({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${Q(r,0,"percentage")}${z(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.losses),o],u);function u([r,i]){if(!i||!l.losses)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.pctLossMedian})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.losses.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=U;return g(),P(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function Hs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Median Loss % Among Loans with Losses"}}}})}typeof Hs=="function"&&Hs(dl);const pl=R(dl,[["__scopeId","data-v-00714159"]]),ml=I({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"losses",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${Q(r,0,"percentage")}${z(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.losses),o],u);function u([r,i]){if(!i||!l.losses)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.numTotalUsers>0?100*m.numUsersWithLosses/m.numTotalUsers:0})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.losses.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=U;return g(),P(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ks(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Proportion of Loans with Losses"}}}})}typeof Ks=="function"&&Ks(ml);const vl=R(ml,[["__scopeId","data-v-38999148"]]),qf=I({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=E(K()),s=y(()=>re(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:u}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:r=>{const i=r.series[0][r.dataPointIndex],c=r.series[1][r.dataPointIndex],m=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${u(c)}</div>`,`<div><b>Debt</b>: ${u(i)}</div>`,`<div><b>Stablecoin</b>: ${u(m)}</div>`].join("")}}})),o=y(()=>e.deciles.map(r=>r.decile)),n=y(()=>[{name:"Debt",data:Object.values(e.deciles).map(r=>r.debt)},{name:"Collateral",data:Object.values(e.deciles).map(r=>r.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(r=>r.stablecoin)}]),l=r=>r,u=r=>`$${Q(r,0,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"chart",title:"Debt & Assets per Health Deciles",options:a(s),series:a(n)},null,8,["options","series"])}}}),_l=R(qf,[["__scopeId","data-v-fd998f1d"]]),Ff={class:"actions"},hl=I({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{items:o}=qe(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:s.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:s.value.colorsArray[1]}]),{chart:n,chartRef:l,series:u}=te({recreateChartTrigger:s,createChartOptions:i=>ee(i,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),series:[{type:"Area",name:"price",options:y(()=>({priceFormat:{type:"custom",formatter:i=>`$${Q(i,2,"dollar")}${z(i,"dollar")}`},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"ratio",options:y(()=>({priceFormat:{type:"custom",formatter:i=>`${Q(i,0,"percentage")}${z(i,"percentage")}`},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});N([B(()=>e.ratios),B(()=>e.pricesOracle),n],r);function r([i,c,m]){if(!m||!u.price||!u.ratio)return;const d=q.chain(i).map(h=>({time:h.timestamp,value:h.proportion})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value(),v=d.length>0?d[0].time:0,f=q.chain(c).filter(h=>h.timestamp>=v).map(h=>({time:h.timestamp,value:h.priceOracle})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();f.length>0&&u.price.setData(f),d.length>0&&u.ratio.setData(d),m.timeScale().fitContent()}return(i,c)=>{const m=Ve,d=U;return g(),P(d,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",Ff,[_(m,{items:a(o)},null,8,["items"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Soft Liquidations Ratio"}}}})}typeof zs=="function"&&zs(hl);const fl=R(hl,[["__scopeId","data-v-583bbe4d"]]),Df={class:"actions"},gl=I({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{items:o}=qe(()=>[{id:"revenue",label:"Liquidator Revenue",color:s.value.colorsArray[0]},{id:"discount",label:"Discount",color:s.value.colorsArray[1]}]),{chart:n,chartRef:l,series:u}=te({recreateChartTrigger:s,createChartOptions:i=>ee(i,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}}),series:[{type:"Area",name:"revenue",options:y(()=>({priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))},{type:"Area",name:"discount",options:y(()=>({priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}]});N([B(()=>e.discounts),B(()=>e.liqs),n],r);function r([i,c,m]){if(!m||!u.discount||!u.revenue)return;const d=q.chain(c).map(h=>({time:h.timestamp,value:h.debt})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").reduce((h,b)=>{const C=h.length>0?h[h.length-1].value:0;return h.push({time:b.time,value:b.value+C}),h},[]).value(),v=d.length>0?d[0].time:0,f=q.chain(i).filter(h=>h.timestamp>=v).map(h=>({time:h.timestamp,value:h.discount*100})).uniqWith((h,b)=>h.time===b.time).orderBy(h=>h.time,"asc").value();d.length>0&&u.revenue.setData(d),f.length>0&&u.discount.setData(f),m.timeScale().fitContent()}return(i,c)=>{const m=Ve,d=U;return g(),P(d,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",Df,[_(m,{items:a(o)},null,8,["items"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Qs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidator Revenue"}}}})}typeof Qs=="function"&&Qs(gl);const bl=R(gl,[["__scopeId","data-v-f585ef3f"]]),Mf={key:0,class:"end"},xf={key:1,class:"end"},Bf={key:2},yl=I({__name:"TableLiqOverview",props:{overview:{}},setup(e){const{t}=F(),s=y(()=>{if(!e.overview)return[];const n=e.overview.liqableDebtUsd,l=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,u=n-l;return u<=0?[]:[{description:"Bad debt",value:u,type:"bad-debt"}]}),o=y(()=>{var n,l,u,r,i,c,m;return[{description:"Users in soft liquidation",value:((n=e.overview)==null?void 0:n.softLiqUsers)??0,type:"number"},{description:"Median health",value:((l=e.overview)==null?void 0:l.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((u=e.overview)==null?void 0:u.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((r=e.overview)==null?void 0:r.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((i=e.overview)==null?void 0:i.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((c=e.overview)==null?void 0:c.liqableCollatUsd)??0,((m=e.overview)==null?void 0:m.liqableBorrowedUsd)??0],type:"collateral"},...s.value]});return(n,l)=>{const u=Y,r=ne,i=U;return g(),P(i,{title:a(t)("title")},{default:w(()=>[_(r,{class:"liq-overview-table",rows:a(o)},{row:w(({item:{description:c,value:m,type:d}})=>[p("div",null,L(c),1),d==="collateral"?(g(),A("div",Mf,[_(u,{value:m[0],"show-zero":!0,type:"dollar"},null,8,["value"]),H(" / "),_(u,{value:m[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(g(),A("div",xf,[d==="bad-debt"?(g(),P(u,{key:0,class:"red",value:m,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):d!=="number"?(g(),P(u,{key:1,value:m,"show-zero":!0,type:d},null,8,["value","type"])):(g(),A("span",Bf,L(m),1))]))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"General Health Metrics"}}}})}typeof js=="function"&&js(yl);const wl=R(yl,[["__scopeId","data-v-cd132533"]]),Uf={class:"address"},Of=["href"],Ef={class:"end"},Wf={class:"end"},Cl=I({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const{t}=F(),s=y(()=>q.chain(e.liqs).groupBy(o=>o.liquidator).map((o,n)=>({liquidator:n,count:o.length,value:o.reduce((l,u)=>l+u.collateralReceivedUsd,0)})).orderBy(o=>o.value,"desc").take(5).value());return(o,n)=>{const l=Y,u=ne,r=U;return g(),P(r,{title:a(t)("title")},{default:w(()=>[_(u,{class:"liquidators-table",rows:a(s),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:w(i=>[p("div",Uf,[p("a",{href:`https://etherscan.io/address/${i.item.liquidator}`,target:"_blank"},L(a(Se)(i.item.liquidator,8)),9,Of)]),p("div",Ef,[_(l,{value:i.item.count,precision:0,"show-zero":!0},null,8,["value"])]),p("div",Wf,[_(l,{value:i.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Gs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Liquidators"}}}})}typeof Gs=="function"&&Gs(Cl);const kl=R(Cl,[["__scopeId","data-v-fb04d8f5"]]),$l=I({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Area",name:"ratios",options:y(()=>({priceFormat:{type:"custom",formatter:r=>`${Q(r,0,"percentage")}${z(r,"percentage")}`,minMove:.1},lineWidth:2,lineType:de.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}))}});N([B(()=>e.ratios),o],u);function u([r,i]){if(!i||!l.ratios)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.ratio*100})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.ratios.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=U;return g(),P(c,{class:"chart-container",title:a(t)("title")},{default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function Xs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral Ratio"}}}})}typeof Xs=="function"&&Xs($l);const Sl=R($l,[["__scopeId","data-v-627af1cb"]]),Nf={class:"actions"},Hf=["innerHTML"],Al=I({__name:"ChartEquity",props:{equity:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{chart:o,chartRef:n,series:l}=te({recreateChartTrigger:s,createChartOptions:r=>ee(r,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:{type:"Baseline",name:"equity",options:y(()=>{const{colors:r}=s.value;return{priceFormat:{type:"custom",formatter:i=>`$${Q(i,0,"dollar")}${z(i,"dollar")}`,minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:r.green,bottomLineColor:r.red,lastValueVisible:!1,priceLineVisible:!1}})}});N([B(()=>e.equity),o],u);function u([r,i]){if(!i||!l.equity)return;const c=q.chain(r).map(m=>({time:m.timestamp,value:m.equity})).uniqWith((m,d)=>m.time===d.time).orderBy(m=>m.time,"asc").value();c.length>0&&l.equity.setData(c),i.timeScale().fitContent()}return(r,i)=>{const c=Nt,m=U;return g(),P(m,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",Nf,[_(c,null,{default:w(()=>[p("span",{innerHTML:a(t)("tooltip")},null,8,Hf)]),_:1})])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:n,class:"chart"},null,512)]),_:1},8,["title"])}}});function Ys(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Equity"}},tooltip:{t:0,b:{t:2,i:[{t:3}],s:"This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."}}}})}typeof Ys=="function"&&Ys(Al);const Kf=R(Al,[["__scopeId","data-v-e608c477"]]),zf=I({__name:"ChartLoanDistribution",props:{distribution:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=y(()=>re(s.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:n.value,labels:{formatter:u,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:i=>{const c=i.series[0][i.dataPointIndex],m=i.series[1][i.dataPointIndex],d=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${r(m)}</div>`,`<div><b>Debt</b>: ${r(c)}</div>`,`<div><b>Stablecoin</b>: ${r(d)}</div>`].join("")}}})),n=y(()=>e.distribution.debt.map(i=>i.label)),l=y(()=>[{name:"Debt",data:e.distribution.debt.map(i=>i.value)}]),u=i=>i,r=i=>`$${Q(i,0,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=me;return g(),P(m,{class:"chart",title:a(t)("title"),options:a(o),series:a(l)},null,8,["title","options","series"])}}});function Zs(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loan Distribution"}}}})}typeof Zs=="function"&&Zs(zf);const Qf={class:"liquidations"},jf=I({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var S;return(S=e.market)==null?void 0:S.address}),{isFetching:s,data:o}=ll(V("crvusd"),B(()=>e.chain),t),{isFetching:n,data:l}=zt(B(()=>e.market)),u=y(()=>l.value.map(({timestamp:S,priceOracle:T})=>({timestamp:S,priceOracle:T}))),r=y(()=>l.value.map(({timestamp:S,discountLiquidation:T})=>({timestamp:S,discount:T}))),i=y(()=>l.value.map(({timestamp:S,totalCollateralUsd:T,totalDebt:O})=>({timestamp:S,ratio:T/O}))),{isFetching:c,data:m}=sl(V("crvusd"),B(()=>e.chain),t),{isFetching:d,data:v}=nl(V("crvusd"),B(()=>e.chain),t),{isFetching:f,data:h}=ol(V("crvusd"),B(()=>e.chain),t),{isFetching:b,data:C}=il(V("crvusd"),B(()=>e.chain),t),{isFetching:k,data:$}=rl(V("crvusd"),B(()=>e.chain),t);return(S,T)=>(g(),A("div",Qf,[_(a(wl),{overview:a(o),loading:a(s)},null,8,["overview","loading"]),_(a(fl),{ratios:a(m),"prices-oracle":a(u),loading:a(c)||a(n)},null,8,["ratios","prices-oracle","loading"]),_(a(pl),{losses:a($),loading:a(k)},null,8,["losses","loading"]),_(a(vl),{losses:a($),loading:a(k)},null,8,["losses","loading"]),_(a(_l),{deciles:a(C),loading:a(b)},null,8,["deciles","loading"]),_(a(Sl),{ratios:a(i),loading:a(n)},null,8,["ratios","loading"]),_(a(ul),{liqs:a(v),loading:a(d)},null,8,["liqs","loading"]),_(a(kl),{liqs:a(h),loading:a(f)},null,8,["liqs","loading"]),_(a(bl),{discounts:a(r),liqs:a(h),loading:a(n)||a(f)},null,8,["discounts","liqs","loading"])]))}}),Gf=R(jf,[["__scopeId","data-v-9817d8d9"]]),Xf={class:"controls"},Ll=I({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{t}=F(),{theme:s}=E(K()),o=V(!1),n=V(!1);let l=1,u=0;const{chart:r,chartRef:i,series:c}=te({recreateChartTrigger:s,createChartOptions:v=>ee(v,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:f=>d(f)}}),series:[{type:"Candlestick",name:"ohlc",options:y(()=>{const{colors:v}=s.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:v.green,borderUpColor:v.green,wickUpColor:v.green,downColor:v.red,borderDownColor:v.red,wickDownColor:v.red}})},{type:"Line",name:"oracle",options:y(()=>({priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:de.WithSteps,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))}]});N([B(()=>e.ohlc),r,o,n],m);function m([v,f,h,b]){if(!f||!c.ohlc||!c.oracle)return;const C=h?-1:1,k=q.chain(v).map(S=>({time:S.time,open:Math.pow(S.open,C),high:Math.pow(S.high,C),low:Math.pow(S.low,C),close:Math.pow(S.close,C)})).uniqWith((S,T)=>S.time===T.time).orderBy(S=>S.time,"asc").value();k.length>0&&(c.ohlc.setData(k),u=Math.min(...k.map(S=>S.low)),l=Math.max(...k.map(S=>S.high)));const $=q.chain(v).map(S=>({time:S.time,value:Math.pow(S.oracle_price,C)})).uniqWith((S,T)=>S.time===T.time).orderBy(S=>S.time,"asc").value();$.length>0&&c.oracle.setData($),c.oracle.applyOptions({visible:b}),f.timeScale().fitContent()}const d=v=>{const f=l-u,h=f>1?f-Math.floor(f):f,b=-Math.floor(Math.log10(h)+1)+2;return`${Q(v,b,"dollar")}${z(v,"dollar")}`};return(v,f)=>{const h=It,b=U;return g(),P(b,{class:"chart-container",title:a(t)("title")},{actions:w(()=>[p("div",Xf,[_(h,{value:"Oracle Price","model-value":a(n),onClick:f[0]||(f[0]=C=>n.value=!a(n))},null,8,["model-value"]),_(h,{value:"Invert","model-value":a(o),onClick:f[1]||(f[1]=C=>o.value=!a(o))},null,8,["model-value"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Js(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof Js=="function"&&Js(Ll);const Tl=R(Ll,[["__scopeId","data-v-a283c547"]]),Yf=e=>(se("data-v-f0353948"),e=e(),oe(),e),Zf={class:"end"},Jf=Yf(()=>p("div",null,null,-1)),eg=["href"],tg={class:"end"},ag=["href"],Il=I({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const{t:s}=F(),o=t,{page:n,onPage:l}=Va(),u=Ut(n,200);N(u,d=>{o("page",d)});const{relativeTime:r}=Ge(),i=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2),c=d=>{var v,f;return i(((v=d.deposit)==null?void 0:v.amount)??((f=d.withdrawal)==null?void 0:f.amount_collateral)??0)},m=d=>d.deposit?s("deposit"):d.withdrawal?s("withdrawal"):s("unknown");return(d,v)=>{const f=Ue,h=ne,b=U;return g(),P(b,{title:a(s)("title")},{actions:w(()=>[_(f,{"items-count":d.count,"items-per-page":10,page:a(n),onPage:a(l)},null,8,["items-count","page","onPage"])]),default:w(()=>[_(h,{class:"events-table",rows:d.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:w(({item:C})=>[p("div",null,L(m(C)),1),p("div",Zf,L(c(C)),1),Jf,p("div",null,[p("a",{href:`https://etherscan.io/address/${C.provider}`,target:"_blank",onClick:v[0]||(v[0]=Te(()=>{},["stop"]))},L(a(Se)(C.provider)),9,eg)]),p("div",tg,[p("a",{href:`https://etherscan.io/tx/${C.transaction_hash}`,target:"_blank",onClick:v[1]||(v[1]=Te(()=>{},["stop"]))},L(a(r)(C.timestamp)),9,ag)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Events"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawal"}},unknown:{t:0,b:{t:2,i:[{t:3}],s:"Unknown"}}}})}typeof eo=="function"&&eo(Il);const Pl=R(Il,[["__scopeId","data-v-f0353948"]]),sg={class:"end"},og=["href"],ng={class:"end"},lg=["href"],rg=["href"],ig={class:"end"},cg=["href"],Rl=I({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const{t:s}=F(),o=t,{page:n,onPage:l}=Va(),u=Ut(n,200);N(u,c=>{o("page",c)});const{relativeTime:r}=Ge(),i=c=>c<1?c.toFixed(4):c>1e3?c.toFixed(0):c.toFixed(2);return(c,m)=>{const d=Ue,v=Be,f=ne,h=U;return g(),P(h,{title:a(s)("title")},{actions:w(()=>[_(d,{"items-count":c.count,"items-per-page":10,page:a(n),onPage:a(l)},null,8,["items-count","page","onPage"])]),default:w(()=>[_(f,{class:"trades-table",rows:c.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:w(({item:b})=>[p("div",sg,L(i(b.amount_bought)),1),_(v,{chain:c.chain,address:b.token_bought.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_bought.address}`},L(b.token_bought.symbol),9,og)]),p("div",ng,L(i(b.amount_sold)),1),_(v,{chain:c.chain,address:b.token_sold.address},null,8,["chain","address"]),p("div",null,[p("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_sold.address}`},L(b.token_sold.symbol),9,lg)]),p("div",null,[p("a",{href:`https://etherscan.io/address/${b.buyer}`,target:"_blank",onClick:m[0]||(m[0]=Te(()=>{},["stop"]))},L(a(Se)(b.buyer)),9,rg)]),p("div",ig,[p("a",{href:`https://etherscan.io/tx/${b.transaction_hash}`,target:"_blank",onClick:m[1]||(m[1]=Te(()=>{},["stop"]))},L(a(r)(b.timestamp)),9,cg)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function to(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Trades"}}}})}typeof to=="function"&&to(Rl);const Vl=R(Rl,[["__scopeId","data-v-5acb370a"]]),ug={class:"trading"},ql=I({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=y(()=>{var m;return(m=e.market)==null?void 0:m.llamma}),{isFetching:s,data:o}=Ma(V("crvusd"),t,B(()=>e.chain)),n=V(1),{isFetching:l,data:u}=Yn(V("crvusd"),t,B(()=>e.chain),n),r=V(1),{isFetching:i,data:c}=Xn(V("crvusd"),t,B(()=>e.chain),r);return(m,d)=>{var v,f,h,b;return g(),A("div",ug,[_(a(Tl),{style:{"grid-area":"ohlc"},ohlc:a(o)??[],loading:a(s)},null,8,["ohlc","loading"]),_(a(Vl),{style:{"grid-area":"trades"},trades:((v=a(u))==null?void 0:v.trades)??[],count:((f=a(u))==null?void 0:f.count)??0,chain:m.chain,loading:a(l),onPage:d[0]||(d[0]=C=>n.value=C)},null,8,["trades","count","chain","loading"]),_(a(Pl),{style:{"grid-area":"events"},events:((h=a(c))==null?void 0:h.events)??[],count:((b=a(c))==null?void 0:b.count)??0,loading:a(i),onPage:d[1]||(d[1]=C=>r.value=C)},null,8,["events","count","loading"])])}}});function ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof ao=="function"&&ao(ql);const dg=R(ql,[["__scopeId","data-v-3c540325"]]),pg={class:"market-overview"},mg=I({__name:"Market.page",setup(e){const{show:t,crumbs:s}=E(Fe()),o=ye("marketAddr"),{isFetching:n,data:l}=Pa(),u=y(()=>l.value.find(c=>c.address===o.value));N(u,c=>{s.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(c==null?void 0:c.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:i}=it(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(c,m)=>{const d=Qe,v=Ee,f=Oe;return g(),A("div",pg,[_(d,{class:x(["spinner",{loading:a(n)}])},null,8,["class"]),!a(n)&&a(u)?(g(),P(f,{key:0,active:a(i),onTab:m[0]||(m[0]=h=>i.value=h.index)},{default:w(()=>[_(v,{header:"Overview"},{default:w(()=>[(g(),P(ge,null,[a(r)==="overview"?(g(),P(bf,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),_(v,{header:"Trading"},{default:w(()=>[(g(),P(ge,null,[a(r)==="trading"?(g(),P(dg,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1}),_(v,{header:"Liquidations"},{default:w(()=>[(g(),P(ge,null,[a(r)==="liquidations"?(g(),P(Gf,{key:0,market:a(u),chain:"ethereum"},null,8,["market"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),vg=R(mg,[["__scopeId","data-v-77146060"]]);function ot(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const _g=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),hg=e=>{const t=parseFloat(e.rate),s=parseFloat(e.borrow_apy)/100,o=parseFloat(e.lend_apy)/100,n=e.n_loans,l=parseFloat(e.price_oracle),u=parseFloat(e.amm_price),r=parseFloat(e.total_debt),i=parseFloat(e.total_debt_usd),c=parseFloat(e.total_assets),m=parseFloat(e.total_assets_usd),d=parseFloat(e.minted),v=parseFloat(e.redeemed),f=parseFloat(e.collateral_balance),h=parseFloat(e.collateral_balance_usd),b=parseFloat(e.borrowed_balance),C=parseFloat(e.borrowed_balance_usd),k=Le(e.timestamp),$=e.liquidation_discount,S=e.loan_discount;return{rate:t,borrowApy:s,lendApy:o,numLoans:n,priceOracle:l,ammPrice:u,totalDebt:r,totalDebtUsd:i,totalAssets:c,totalAssetsUsd:m,minted:d,redeemed:v,collateralBalance:f,collateralBalanceUsd:h,borrowedBalance:b,borrowedBalanceUsd:C,timestamp:k,discountLiquidation:$,discountLoan:S}},oa="https://prices.curve.fi";class fg extends Ae{async getChains(){return this.fetch(`${oa}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${oa}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(_g)}async getSnapshots(t,s){return(await this.fetch(`${oa}/v1/lending/markets/${t}/${s}/snapshots?fetch_on_chain=true&agg=day`)).data.map(hg)}}const xa=new fg;function gg(e){return y(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function bg(){return{initialData:[],initialDataUpdatedAt:0}}function yg(){return j({queryKey:["llama-markets-chains"],queryFn:()=>xa.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Fl(e){return j({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>xa.getMarkets(t)})}function pt(e,t){return j({queryKey:["llama-market-snapshots",gg(e)],queryFn:({queryKey:[,s]})=>xa.getSnapshots(t.value,s),...bg(),enabled:y(()=>!!e.value&&!!t.value)})}const Vt=e=>(se("data-v-f037fc5d"),e=e(),oe(),e),wg={class:"end"},Cg={class:"end"},kg={class:"end"},$g={class:"end"},Sg=Vt(()=>p("div",null,null,-1)),Ag=Vt(()=>p("div",null,null,-1)),Lg=Vt(()=>p("div",null,null,-1)),Tg=Vt(()=>p("div",null,null,-1)),Ig=Vt(()=>p("div",null,null,-1)),Pg={class:"end"},Rg={class:"end"},Dl=I({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=y(()=>s(e.type==="long"?"title-long":"title-short")),l=y(()=>q.chain(e.pairs).map(i=>({count:(i.long?1:0)+(i.short?1:0),...i})).orderBy(["count",({long:i,short:c})=>ot(i)+ot(c)],["desc","desc"]).map(({long:i,short:c})=>e.type==="long"?i:c).value());function u(i){return i.name.replace(/(-long|-short)/i,"")}const r=i=>e.type==="long"?i.collateral_token.address:i.borrowed_token.address;return(i,c)=>{const m=Be,d=Y,v=ne,f=U;return g(),P(f,{title:a(n),loading:i.loading},{default:w(()=>[_(v,{class:"markets-table","expand-side":"left",rows:a(l),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:c[0]||(c[0]=h=>o("selected",h))},{row:w(({item:h})=>[h?(g(),A(J,{key:0},[_(m,{chain:i.chain,address:r(h)},null,8,["chain","address"]),p("div",null,L(u(h)),1),p("div",wg,[h.borrow_apy?(g(),P(d,{key:0,value:h.borrow_apy,type:"percentage"},null,8,["value"])):D("",!0)]),p("div",Cg,[h.lend_apy?(g(),P(d,{key:0,value:h.lend_apy,type:"percentage"},null,8,["value"])):D("",!0)]),p("div",kg,[a(ot)(h)?(g(),P(d,{key:0,value:a(ot)(h),type:"dollar"},null,8,["value"])):D("",!0)]),p("div",$g,L(h.n_loans),1)],64)):D("",!0)]),"row-aggregation":w(()=>[Sg,Ag,Lg,Tg,Ig,p("div",Pg,[_(d,{value:a(l).filter(h=>h).map(h=>h).reduce((h,b)=>h+a(ot)(b),0),type:"dollar"},null,8,["value"])]),p("div",Rg,L(a(l).filter(h=>h).map(h=>h).reduce((h,b)=>h+b.n_loans,0)),1)]),"row-details":w(()=>[H("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function so(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"title-long":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Long"}},"title-short":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Short"}}}})}typeof so=="function"&&so(Dl);const oo=R(Dl,[["__scopeId","data-v-f037fc5d"]]),Vg={class:"llamalend"},qg={class:"toolbar"},Fg={class:"markets"},Dg={class:"kpis"},Mg={class:"markets"},xg={class:"kpis"},Ml=I({__name:"LlamaLend.page",setup(e){const{t}=F(),s=ye("chain"),o=y({get(){return s.value?s.value:"ethereum"},set(C){s.value=C}}),n=V(""),l=y(()=>q.chain(u.value).filter(({long:C,short:k})=>{const $=n.value.toLocaleLowerCase().split(" ");return(T=>$.some(O=>T.toLocaleLowerCase().includes(O)))(`${(C==null?void 0:C.name)??""}${(k==null?void 0:k.name)??""}`)}).value()),u=y(()=>{const C=["crvusd"],k=(i.value??[]).map(T=>({market:T,isLong:C.includes(T.borrowed_token.symbol.toLocaleLowerCase()),isShort:C.includes(T.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:T,isShort:O})=>T||O),$=[],S=new Set;for(const{market:T,isLong:O,isShort:M}of k){if(S.has(T.controller))continue;S.add(T.controller);const W=k.find(ae=>ae.market.borrowed_token.address===T.collateral_token.address&&ae.market.collateral_token.address===T.borrowed_token.address);W&&S.add(W.market.controller),$.push({long:O?T:W==null?void 0:W.market,short:M?T:W==null?void 0:W.market})}return $}),{isFetching:r,data:i}=Fl(o),{data:c}=yg(),{show:m,crumbs:d}=E(Fe());pe(()=>{m.value=!0,d.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:"Select market for details",hint:!0}]});const v=xe(),f=async C=>{C&&await v.push({name:"llamalendmarket",params:{tab:"",chain:o.value,marketAddr:C.controller}})},h=C=>l.value.map(k=>C==="long"?k.long:k.short).filter(k=>!!k).reduce((k,$)=>k+$.total_debt_usd,0),b=C=>{const k=l.value.map($=>C==="long"?$.long:$.short).filter($=>!!$).reduce(({debt:$,assets:S},T)=>({debt:$+T.total_debt_usd,assets:S+T.total_assets_usd}),{debt:0,assets:0});return k.assets===0?0:k.debt/k.assets*100};return(C,k)=>{const $=Ie,S=Y,T=he;return g(),A("div",Vg,[(g(),P(Ot,{to:"#toolbar"},[p("div",qg,[_($,{modelValue:a(n),"onUpdate:modelValue":k[0]||(k[0]=O=>le(n)?n.value=O:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(At,{class:"chain-select",chain:a(o),chains:a(c),onSelectChain:k[1]||(k[1]=O=>o.value=O==="all"?"ethereum":O)},null,8,["chain","chains"])])])),p("div",Fg,[p("div",Dg,[_(T,{label:a(t)("open-interest"),"has-value":!a(r)},{default:w(()=>[_(S,{value:h("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(T,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(r),tooltip:a(t)("avg-util-rate-tooltip")},{default:w(()=>[_(S,{value:b("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(a(oo),{style:{"grid-column":"1"},type:"long",pairs:a(l),loading:a(r),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])]),p("div",Mg,[p("div",xg,[_(T,{label:a(t)("open-interest"),"has-value":!a(r)},{default:w(()=>[_(S,{value:h("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(T,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(r),tooltip:a(t)("avg-util-rate-tooltip")},{default:w(()=>[_(S,{value:b("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),_(a(oo),{style:{"grid-column":"2"},type:"short",pairs:a(l),loading:a(r),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])])])}}});function no(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"open-interest":{t:0,b:{t:2,i:[{t:3}],s:"Open Interest"}},"avg-util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Average Utilization Rate"}},"avg-util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Aggregate debt divided by aggregate assets"}}}})}typeof no=="function"&&no(Ml);const Bg=R(Ml,[["__scopeId","data-v-ae8d4d7d"]]),Ug={class:"actions"},xl=I({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{t}=F(),{theme:s,themeId:o}=E(K()),{items:n,toggles:l,disabled:u}=qe(()=>{const{blue:b,yellow:C,purple:k}=s.value.colors;return[{id:"supply",label:t("supply"),color:b},{id:"debt",label:t("debt"),color:C},{id:"util",label:t("util"),color:k,togglable:!0}]}),{isFetching:r,data:i}=pt(B(()=>e.market),B(()=>e.chain)),c=V(!1),m=V(void 0),{chart:d,chartRef:v,series:f}=te({recreateChartTrigger:y(()=>`${o.value}-${l.util.value}`),createChartOptions:b=>ee(b,s.value,{height:b.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:l.util.value}}),series:[{type:"Line",name:"supply",options:y(()=>({priceFormat:{type:"custom",formatter:b=>`$${Q(b,0,"dollar")}${z(b,"dollar")}`,minMove:.01},lineWidth:2,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"debt",options:y(()=>({priceFormat:{type:"custom",formatter:b=>`$${Q(b,0,"dollar")}${z(b,"dollar")}`,minMove:.01},lineWidth:2,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"util",options:y(()=>({priceFormat:{type:"custom",formatter:b=>`${Math.round(b*100)}%`,minMove:.01},priceScaleId:"left",lineWidth:2,color:s.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}))}]});Et(h);function h(){var $,S,T,O;if(!d.value||!f.supply||!f.debt||!f.util)return;const b=q.chain(i.value).map(M=>({time:M.timestamp,value:M.totalAssetsUsd})).uniqWith((M,W)=>M.time===W.time).orderBy(M=>M.time,"asc").value(),C=q.chain(i.value).map(M=>({time:M.timestamp,value:M.totalDebtUsd})).uniqWith((M,W)=>M.time===W.time).orderBy(M=>M.time,"asc").value(),k=q.chain(l.util.value?b:[]).zip(C).filter(M=>!!M[1]).map(([M,W])=>({time:W.time,value:M&&M.value>0?W.value/M.value:0})).uniqWith((M,W)=>M.time===W.time).orderBy(M=>M.time,"asc").value();if(f.supply.setData(b),f.debt.setData(C),f.util.setData(k),f.util.applyOptions({visible:l.util.value}),b.length>0||C.length>0){const M=Math.min((($=b.at(0))==null?void 0:$.time)??1/0,((S=C.at(0))==null?void 0:S.time)??1/0),W=Math.max(((T=b.at(-1))==null?void 0:T.time)??-1/0,((O=C.at(-1))==null?void 0:O.time)??-1/0);d.value.timeScale().setVisibleRange({from:M,to:W})}}return(b,C)=>{const k=Ve,$=U;return g(),P($,{ref_key:"chartCard",ref:m,class:x(["chart-card",{fullscreen:a(c)}]),title:a(t)("title"),loading:a(r)},{actions:w(()=>{var S;return[p("div",Ug,[_(k,{items:a(n),disabled:a(u),onToggle:C[0]||(C[0]=T=>a(l)[T].value=!a(l)[T].value)},null,8,["items","disabled"]),_(a(rt),{modelValue:a(c),"onUpdate:modelValue":C[1]||(C[1]=T=>le(c)?c.value=T:null),chart:a(d),target:(S=a(m))==null?void 0:S.$el},null,8,["modelValue","chart","target"])])]}),default:w(()=>[p("div",{ref_key:"chartRef",ref:v,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply & Debt"}},supply:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}},util:{t:0,b:{t:2,i:[{t:3}],s:"Util (%)"}}}})}typeof lo=="function"&&lo(xl);const Og=R(xl,[["__scopeId","data-v-984618d0"]]),Eg={class:"actions"},Bl=I({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=pt(B(()=>e.market),B(()=>e.chain)),{theme:n}=E(K()),l=y(()=>e.market?e.market.collateral_token.symbol:"?"),u=y(()=>e.market?e.market.borrowed_token.symbol:"?"),{items:r}=qe(()=>[{id:l.value,label:l.value,color:n.value.colors.blue},{id:u.value,label:u.value,color:n.value.colors.yellow}]),i=V(!0),{chart:c,chartRef:m,series:d}=te({recreateChartTrigger:n,createChartOptions:h=>ee(h,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}}),series:[{type:"Line",name:"collateral",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"borrowed",options:y(()=>({priceFormat:{type:"custom",formatter:f},lineWidth:2,color:n.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}))}]});N([o,c,i],v);function v([h,b,C]){var S,T,O,M;if(!b||!d.collateral||!d.borrowed)return;const k=q.chain(h).map(W=>({time:W.timestamp,value:C?W.collateralBalanceUsd:W.collateralBalance})).uniqWith((W,ae)=>W.time===ae.time).orderBy(W=>W.time,"asc").value(),$=q.chain(h).map(W=>({time:W.timestamp,value:C?W.borrowedBalanceUsd:W.borrowedBalance})).uniqWith((W,ae)=>W.time===ae.time).orderBy(W=>W.time,"asc").value();if(k.length>0&&d.collateral.setData(k),$.length>0&&d.borrowed.setData($),k.length>0||$.length>0){const W=Math.min(((S=k.at(0))==null?void 0:S.time)??1/0,((T=$.at(0))==null?void 0:T.time)??1/0),ae=Math.max(((O=k.at(-1))==null?void 0:O.time)??-1/0,((M=$.at(-1))==null?void 0:M.time)??-1/0);b.timeScale().setVisibleRange({from:W,to:ae})}}function f(h){return`${i.value?"$":""}${Q(h,0,"dollar")}${z(h,"dollar")}`}return(h,b)=>{const C=Ve,k=It,$=U;return g(),P($,{class:"chart-container",title:a(t)("title"),loading:a(s)},{actions:w(()=>[p("div",Eg,[_(C,{items:a(r)},null,8,["items"]),_(k,{value:"Dollars","model-value":a(i),onClick:b[0]||(b[0]=S=>i.value=!a(i))},null,8,["model-value"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:m,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}}}})}typeof ro=="function"&&ro(Bl);const Wg=R(Bl,[["__scopeId","data-v-b43fb349"]]),Ul=I({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=pt(B(()=>e.market),B(()=>e.chain)),{theme:n}=E(K()),{chart:l,chartRef:u,series:r}=te({recreateChartTrigger:n,createChartOptions:c=>ee(c,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:m=>Math.round(m).toString()}}),series:{type:"Histogram",name:"loans",options:y(()=>({color:n.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}))}});N([o,l],i);function i([c,m]){if(!m||!r.loans)return;const d=q.chain(c).map(v=>({time:v.timestamp,value:v.numLoans})).uniqWith((v,f)=>v.time===f.time).orderBy(v=>v.time,"asc").value();if(d.length>0){r.loans.setData(d);const v=d[0].time,f=d[d.length-1].time;m.timeScale().setVisibleRange({from:v,to:f})}}return(c,m)=>{const d=U;return g(),P(d,{class:"chart-container",title:a(t)("title"),loading:a(s)},{default:w(()=>[p("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof io=="function"&&io(Ul);const Ng=R(Ul,[["__scopeId","data-v-09b673db"]]),Hg={class:"actions"},Ol=I({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{t}=F(),{theme:s}=E(K()),{items:o}=qe(()=>[{id:"borrow",label:t("borrow-apy"),color:s.value.colors.red},{id:"lend",label:t("lend-apy"),color:s.value.colors.green}]),{isFetching:n,data:l}=pt(B(()=>e.market),B(()=>e.chain)),{chart:u,chartRef:r,series:i}=te({recreateChartTrigger:s,createChartOptions:d=>ee(d,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:v=>m(v)}}),series:[{type:"Line",name:"borrowApy",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:s.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}))},{type:"Line",name:"lendApy",options:y(()=>({priceFormat:{type:"custom",formatter:m},lineWidth:2,color:s.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}))}]});N([l,u],c);function c([d,v]){var b,C,k,$;if(!v||!i.borrowApy||!i.lendApy)return;const f=q.chain(d).map(S=>({time:S.timestamp,value:S.borrowApy})).uniqWith((S,T)=>S.time===T.time).orderBy(S=>S.time,"asc").value(),h=q.chain(d).map(S=>({time:S.timestamp,value:S.lendApy})).uniqWith((S,T)=>S.time===T.time).orderBy(S=>S.time,"asc").value();if(f.length>0&&i.borrowApy.setData(f),h.length>0&&i.lendApy.setData(h),f.length>0||h.length>0){const S=Math.min(((b=f.at(0))==null?void 0:b.time)??1/0,((C=h.at(0))==null?void 0:C.time)??1/0),T=Math.max(((k=f.at(-1))==null?void 0:k.time)??-1/0,(($=h.at(-1))==null?void 0:$.time)??-1/0);v.timeScale().setVisibleRange({from:S,to:T})}}function m(d){return`${Q(d*100,0,"percentage")}${z(d,"percentage")}`}return(d,v)=>{const f=Ve,h=U;return g(),P(h,{class:"chart-container",title:a(t)("title"),loading:a(n)},{actions:w(()=>[p("div",Hg,[_(f,{items:a(o)},null,8,["items"])])]),default:w(()=>[p("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}},"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}}}})}typeof co=="function"&&co(Ol);const Kg=R(Ol,[["__scopeId","data-v-0b8c6873"]]),zg=["href"],Qg={key:1},El=I({__name:"Addresses",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var l,u,r,i,c;return[{description:"controller",address:(l=e.market)==null?void 0:l.controller},{description:"vault",address:(u=e.market)==null?void 0:u.vault},{description:"llamma",address:(r=e.market)==null?void 0:r.llamma},{description:"policy",address:(i=e.market)==null?void 0:i.policy},{description:"oracle",address:(c=e.market)==null?void 0:c.oracle}]}),o=l=>`https://etherscan.io/address/${l}`,n=async l=>{await navigator.clipboard.writeText(l)};return(l,u)=>{const r=we,i=ne,c=U;return g(),P(c,{title:a(t)("addresses"),class:"addresses"},{default:w(()=>[_(i,{class:"addresses-table",rows:a(s)},{row:w(({item:{description:m,address:d}})=>[p("div",null,L(a(t)(m)),1),p("div",null,[d?(g(),A("a",{key:0,class:"font-mono",href:o(d),target:"_blank"},L(d),9,zg)):(g(),A("span",Qg,"?"))]),p("div",null,[_(r,{icon:"fas fa-link",onClick:v=>n(d)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},vault:{t:0,b:{t:2,i:[{t:3}],s:"Vault"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}},policy:{t:0,b:{t:2,i:[{t:3}],s:"Policy"}},oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle"}}}})}typeof uo=="function"&&uo(El);const jg=R(El,[["__scopeId","data-v-a64f77fe"]]),Gg={class:"usage"},Xg={class:"two-sides"},Yg={class:"collateral"},Zg={class:"two-sides"},Jg={class:"two-sides"},Wl=I({__name:"KPIUsage",props:{market:{}},setup(e){const{t}=F(),s=y(()=>{var l,u;return(((l=e.market)==null?void 0:l.collateral_balance_usd)??0)+(((u=e.market)==null?void 0:u.borrowed_balance_usd)??0)}),o=y(()=>{var i,c;const l=t("collateral"),u=((i=e.market)==null?void 0:i.collateral_token.symbol)??"?",r=((c=e.market)==null?void 0:c.borrowed_token.symbol)??"?";return`${l} (${u} / ${r})`}),n=y(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(l,u)=>{var c,m;const r=Y,i=he;return g(),A("div",Gg,[_(i,{label:a(o),"has-value":!!l.market},{default:w(()=>{var d,v;return[p("div",Xg,[p("div",Yg,[_(r,{value:(d=l.market)==null?void 0:d.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),H(" / "),_(r,{value:(v=l.market)==null?void 0:v.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),_(r,{value:a(s),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(i,{label:a(t)("borrowed")+` (${((c=l.market)==null?void 0:c.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:w(()=>{var d,v;return[p("div",Zg,[_(r,{value:(d=l.market)==null?void 0:d.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(r,{value:(v=l.market)==null?void 0:v.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(i,{label:a(t)("supplied")+` (${((m=l.market)==null?void 0:m.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:w(()=>{var d,v;return[p("div",Jg,[_(r,{value:(d=l.market)==null?void 0:d.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),_(r,{value:(v=l.market)==null?void 0:v.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),_(i,{"tooltip-type":"icon",label:a(t)("util-rate"),"has-value":!!l.market,tooltip:a(t)("util-rate-tooltip")},{default:w(()=>[_(r,{value:a(n)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},supplied:{t:0,b:{t:2,i:[{t:3}],s:"Supplied"}},"util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Utilization Rate"}},"util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Utilization rate is total supplied divided by total borrowed"}}}})}typeof po=="function"&&po(Wl);const eb=R(Wl,[["__scopeId","data-v-7c3eebd2"]]),tb={key:0},ab={class:"token-info"},sb=["href"],ob={key:1},Nl=I({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=F();function s(r){return typeof r=="object"&&r.type==="token"}function o(r,i){return i?r==="collateral"?{type:"token",symbol:i.collateral_token.symbol,address:i.collateral_token.address}:{type:"token",symbol:i.borrowed_token.symbol,address:i.borrowed_token.address}:{type:"token",symbol:"?",address:"?"}}const n=y(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),l=r=>`https://etherscan.io/address/${r}`,u=async r=>{await navigator.clipboard.writeText(r)};return(r,i)=>{const c=Be,m=we,d=ne,v=U;return g(),P(v,{class:"properties",title:a(t)("properties")},{default:w(()=>[_(d,{class:"properties-table",rows:a(n)},{row:w(({item:{description:f,value:h}})=>[p("div",null,L(a(t)(f)),1),s(h)?(g(),A("div",tb,[p("div",ab,[_(c,{chain:r.chain,address:h.address},null,8,["chain","address"]),p("div",null,L(h.symbol),1),p("div",null,[p("a",{class:"font-mono",href:l(h.address),target:"_blank"},L(h.address),9,sb)]),p("div",null,[_(m,{icon:"fas fa-link",onClick:b=>u(h.address)},null,8,["onClick"])])])])):(g(),A("div",ob,L(h),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof mo=="function"&&mo(Nl);const nb=R(Nl,[["__scopeId","data-v-93da691b"]]),lb={class:"market"},Hl=I({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=F(),{isFetching:s,data:o}=pt(B(()=>e.market),B(()=>e.chain)),n=y(()=>o.value.map(({timestamp:u,collateralBalanceUsd:r,borrowedBalanceUsd:i,totalDebtUsd:c})=>({timestamp:u,ratio:c>0?(r+i)/c:0}))),l=y(()=>o.value.map(({timestamp:u,collateralBalanceUsd:r,borrowedBalanceUsd:i,totalDebtUsd:c})=>({timestamp:u,equity:r+i-c})));return(u,r)=>{const i=Y,c=he;return g(),A("div",lb,[_(c,{style:{"grid-area":"kpi1"},label:a(t)("borrow-apy"),"has-value":!!u.market},{default:w(()=>{var m;return[_(i,{value:(m=u.market)==null?void 0:m.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(c,{style:{"grid-area":"kpi2"},label:a(t)("lend-apy"),"has-value":!!u.market},{default:w(()=>{var m;return[_(i,{value:(m=u.market)==null?void 0:m.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(c,{style:{"grid-area":"kpi3"},label:a(t)("loans"),"has-value":!!u.market},{default:w(()=>{var m;return[H(L(((m=u.market)==null?void 0:m.n_loans)??0),1)]}),_:1},8,["label","has-value"]),_(c,{style:{"grid-area":"kpi4"},label:a(t)("tvl"),"has-value":!!u.market},{default:w(()=>[_(i,{value:a(ot)(u.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(a(Og),{style:{"grid-area":"supply"},market:u.market,chain:u.chain},null,8,["market","chain"]),_(a(Wg),{style:{"grid-area":"collateral"},market:u.market,chain:u.chain},null,8,["market","chain"]),_(a(Sl),{style:{"grid-area":"colratio"},ratios:a(n),loading:a(s)},null,8,["ratios","loading"]),_(a(Kf),{style:{"grid-area":"equity"},equity:a(l),loading:a(s)},null,8,["equity","loading"]),_(a(Kg),{style:{"grid-area":"rates"},market:u.market,chain:u.chain},null,8,["market","chain"]),_(a(Ng),{style:{"grid-area":"loans"},market:u.market,chain:u.chain},null,8,["market","chain"]),_(a(jg),{style:{"grid-area":"addresses"},market:u.market},null,8,["market"]),_(a(nb),{style:{"grid-area":"properties"},market:u.market,chain:u.chain},null,8,["market","chain"]),_(a(eb),{style:{"grid-area":"usage"},market:u.market},null,8,["market"])])}}});function vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof vo=="function"&&vo(Hl);const rb=R(Hl,[["__scopeId","data-v-a35de963"]]),ib={class:"trading"},Kl=I({__name:"Trading",props:{market:{},chain:{}},setup(e){const{t}=F(),s=y(()=>{var d;return(d=e.market)==null?void 0:d.llamma}),{isFetching:o,data:n}=Ma(V("lending"),s,B(()=>e.chain)),l=V(1),{isFetching:u,data:r}=Yn(V("lending"),s,B(()=>e.chain),l),i=V(1),{isFetching:c,data:m}=Xn(V("lending"),s,B(()=>e.chain),i);return(d,v)=>{var b,C,k,$;const f=Y,h=he;return g(),A("div",ib,[_(h,{style:{"grid-area":"oracle"},label:a(t)("oracle"),"has-value":!!d.market},{default:w(()=>{var S;return[_(f,{value:(S=d.market)==null?void 0:S.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(h,{style:{"grid-area":"amm"},label:a(t)("amm"),"has-value":!!d.market},{default:w(()=>{var S;return[_(f,{value:(S=d.market)==null?void 0:S.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),_(a(Tl),{style:{"grid-area":"ohlc"},ohlc:a(n)??[],loading:a(o)},null,8,["ohlc","loading"]),_(a(Vl),{style:{"grid-area":"trades"},trades:((b=a(r))==null?void 0:b.trades)??[],count:((C=a(r))==null?void 0:C.count)??0,chain:d.chain,loading:a(u),onPage:v[0]||(v[0]=S=>l.value=S)},null,8,["trades","count","chain","loading"]),_(a(Pl),{style:{"grid-area":"events"},events:((k=a(m))==null?void 0:k.events)??[],count:(($=a(m))==null?void 0:$.count)??0,loading:a(c),onPage:v[1]||(v[1]=S=>i.value=S)},null,8,["events","count","loading"])])}}});function _o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof _o=="function"&&_o(Kl);const cb=R(Kl,[["__scopeId","data-v-7436bded"]]),ub={class:"liquidations"},db=I({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=y(()=>{var S;return(S=e.market)==null?void 0:S.controller}),{isFetching:s,data:o}=pt(B(()=>e.market),B(()=>e.chain)),n=y(()=>o.value.map(({timestamp:S,priceOracle:T})=>({timestamp:S,priceOracle:T}))),l=y(()=>o.value.map(({timestamp:S,discountLiquidation:T})=>({timestamp:S,discount:T}))),{isFetching:u,data:r}=nl(V("lending"),B(()=>e.chain),t),{isFetching:i,data:c}=ol(V("lending"),B(()=>e.chain),t),{isFetching:m,data:d}=sl(V("lending"),B(()=>e.chain),t),v=y(()=>d.value.map(({timestamp:S,proportion:T})=>({timestamp:S,proportion:T*100}))),{isFetching:f,data:h}=ll(V("lending"),B(()=>e.chain),t),{isFetching:b,data:C}=rl(V("lending"),B(()=>e.chain),t),{isFetching:k,data:$}=il(V("lending"),B(()=>e.chain),t);return(S,T)=>(g(),A("div",ub,[_(a(wl),{overview:a(h),loading:a(f)},null,8,["overview","loading"]),_(a(fl),{ratios:a(v),"prices-oracle":a(n),loading:a(m)||a(s)},null,8,["ratios","prices-oracle","loading"]),_(a(pl),{losses:a(C),loading:a(b)},null,8,["losses","loading"]),_(a(vl),{losses:a(C),loading:a(b)},null,8,["losses","loading"]),_(a(_l),{deciles:a($),loading:a(k)},null,8,["deciles","loading"]),_(a(ul),{liqs:a(r),loading:a(u)},null,8,["liqs","loading"]),_(a(kl),{liqs:a(c),loading:a(i)},null,8,["liqs","loading"]),_(a(bl),{discounts:a(l),liqs:a(c),loading:a(s)||a(i)},null,8,["discounts","liqs","loading"])]))}}),pb=R(db,[["__scopeId","data-v-f2820630"]]),mb={class:"market-overview"},vb=I({__name:"Market.page",setup(e){const{show:t,crumbs:s}=E(Fe()),o=ye("chain"),n=ye("marketAddr"),{isFetching:l,data:u}=Fl(o),r=y(()=>{var m;return(m=u.value)==null?void 0:m.find(d=>d.controller===n.value)});N(r,m=>{s.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(m==null?void 0:m.name)??"?"}`}]},{immediate:!0}),pe(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:c}=it(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:n.value}));return(m,d)=>{const v=Qe,f=Ee,h=Oe;return g(),A("div",mb,[_(v,{class:x(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(r)?(g(),P(h,{key:0,active:a(c),onTab:d[0]||(d[0]=b=>c.value=b.index)},{default:w(()=>[_(f,{header:"Overview"},{default:w(()=>[(g(),P(ge,null,[a(i)==="overview"?(g(),P(rb,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),_(f,{header:"Trading"},{default:w(()=>[(g(),P(ge,null,[a(i)==="trading"?(g(),P(cb,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1}),_(f,{header:"Liquidations"},{default:w(()=>[(g(),P(ge,null,[a(i)==="liquidations"?(g(),P(pb,{key:0,market:a(r),chain:a(o)},null,8,["market","chain"])):D("",!0)],1024))]),_:1})]),_:1},8,["active"])):D("",!0)])}}}),_b=R(vb,[["__scopeId","data-v-a093387c"]]);function zl(e){const{url:t,connectOnMount:s=!0}=e,o=ua(null),n=V("");function l(){return o.value&&d(),n.value=typeof t=="function"?t():t,di(`${n.value}`,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",f=>{Re({text:`Socket.IO error: ${f.message}`,type:"error"})})}const u=V(!1),r=V(!1);function i(){u.value=!1,r.value=!0}function c(){Re({text:`Failed to connect to ${n.value}`,type:"error"}),u.value=!1}function m(){o.value=null,r.value=!1}function d(){var f,h,b,C;(f=o.value)==null||f.off("connect",i),(h=o.value)==null||h.off("connect_error",c),(b=o.value)==null||b.off("disconnect",m),(C=o.value)==null||C.disconnect(),m()}function v(){u.value||(o.value&&d(),o.value=l(),o.value.on("connect",i),o.value.on("connect_error",c),o.value.on("disconnect",m),u.value=!0,o.value.connect())}return s&&pe(v),{socket:o,connecting:u,isConnected:r,connect:v,disconnect:d,url:n}}var $e=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))($e||{});let na;function Ql(){return na||(na=zl({url:"wss://api.curvemonitor.com/main"})),na}function la(e,t,s,...o){return e?new Promise(n=>{e.once(s,n),e.emit(t,...o)}):Promise.reject(new Error("No socket connection"))}function hb(e,t,s){return new pi(o=>{const n=l=>o.next(l);return e.on(t,n),()=>e.off(t,n)}).pipe(mi())}class jl{constructor(t){this.socket=t}getSandwiches(){return la(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return la(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return la(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function Gl(){const{socket:e,isConnected:t,url:s}=Ql(),o=y(()=>e.value?new jl(e.value):null),n=y(()=>["mev-labels",s.value]);return j({queryKey:n,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.getLabels()},enabled:t})}function fb(){const{socket:e,isConnected:t,url:s}=Ql(),o=y(()=>e.value?new jl(e.value):null),n=y(()=>["mev-sandwiches-tx",s.value]);return j({queryKey:n,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.getSandwiches()},enabled:t})}const gb=I({__name:"LabelsWorstRelative",setup(e){const{theme:t}=E(K()),{data:s,isFetching:o}=Gl(),n=c=>(c??[]).filter(m=>m.numOfAllTx>=12).map(m=>({...m,ratio:Number((m.occurrences/m.numOfAllTx*100).toFixed(2))})).sort((m,d)=>d.ratio-m.ratio).slice(0,10),l=y(()=>n(s.value).map(c=>c.label)),u=y(()=>n(s.value).map(c=>c.ratio)),r=y(()=>re(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const m=c.w.globals.labels[c.seriesIndex],d=c.series[c.seriesIndex];return[`<div><b>${m}</b>:</div><div>Ratio: ${i(d)}</div>`].join("")}},labels:l.value})),i=c=>`${c}%`;return(c,m)=>{const d=me;return g(),P(d,{class:"mevLabels",title:"Worst relative offenders",options:a(r),series:a(u),loading:a(o)},null,8,["options","series","loading"])}}}),bb=R(gb,[["__scopeId","data-v-a26be601"]]),yb=I({__name:"LabelsWorstAbsolute",setup(e){const{theme:t}=E(K()),{data:s,isFetching:o}=Gl(),n=c=>(c??[]).filter(m=>m.numOfAllTx>=12).map(m=>({...m,occurrences:m.occurrences})).sort((m,d)=>d.occurrences-m.occurrences).slice(0,10),l=y(()=>n(s.value).map(c=>c.label)),u=y(()=>n(s.value).map(c=>c.occurrences)),r=y(()=>re(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:c=>{const m=c.w.globals.labels[c.seriesIndex],d=c.series[c.seriesIndex];return[`<div><b>${m}</b>:</div><div>Occurences: ${i(d)}</div>`].join("")}},labels:l.value})),i=c=>`${c}`;return(c,m)=>{const d=me;return g(),P(d,{class:"mevLabels",title:"Worst absolute offenders",options:a(r),series:a(u),loading:a(o)},null,8,["options","series","loading"])}}}),wb=R(yb,[["__scopeId","data-v-6742c526"]]),Cb={style:{display:"grid","grid-template-columns":"auto auto"}},kb={style:{display:"flex",gap:"1rem"}},$b={key:0,class:"fas fa-arrow-up"},Sb={key:1,class:"fas fa-arrow-down"},Ab={key:2,class:"fas fa-exchange-alt"},Lb={key:0,class:"end"},Tb=["href"],Ib=["href"],Pb=["href"],Rb=["innerHTML"],Vb={key:1,class:"end"},ho=10,Xl=I({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{t}=F(),{relativeTime:s}=Ge(),o=V(""),n=V([$e.Swap,$e.Deposit,$e.Remove]),l=y(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),u=y(()=>q.chain(e.txs).filter(v=>n.value.includes(v.transaction_type)).filter(v=>{const f=o.value.toLocaleLowerCase().split(" "),h=b=>f.some(C=>b.toLocaleLowerCase().includes(C));return h(v.block_number.toString())||h(v.trader)||h(v.tx_hash)}).value()),{page:r,rowsPage:i,onPage:c}=jt(u,ho),m=v=>{if(v.transaction_type===$e.Swap){const f=v.coins_leaving_wallet[0],h=v.coins_entering_wallet[0],b=He(parseFloat(f.amount.toString())),C=He(parseFloat(h.amount.toString())),k=`<span>${b} ${f.name}</span>`,$="<i class='fas fa-arrow-right'></i>",S=`<span style='justify-self: end;'>${C} ${h.name}</span>`;return`${k}${$}${S}`}else if(v.transaction_type===$e.Deposit){const f=v.coins_entering_wallet[0];return`${He(parseFloat(f.amount.toString()))} ${f.name}`}else{const f=v.coins_leaving_wallet[0];return`${He(parseFloat(f.amount.toString()))} ${f.name}`}},d=v=>{v===0?n.value=[$e.Swap,$e.Deposit,$e.Remove]:v===1?n.value=[$e.Swap]:v===2?n.value=[$e.Deposit]:v===3?n.value=[$e.Remove]:n.value=[]};return(v,f)=>{const h=Ee,b=Oe,C=Ie,k=Ue,$=ne,S=U;return g(),P(S,{class:"trades-card",title:a(t)("title")},vi({default:w(()=>[_($,{class:x(["trades-table",{compact:v.compact,time:v.time}]),rows:a(i),columns:a(l)},{row:w(T=>[p("div",{class:x(["type",{deposit:T.item.transaction_type==="deposit",remove:T.item.transaction_type==="remove",swap:T.item.transaction_type==="swap"}])},[T.item.transaction_type==="deposit"?(g(),A("i",$b)):T.item.transaction_type==="remove"?(g(),A("i",Sb)):(g(),A("i",Ab)),H(" "+L(a(t)(T.item.transaction_type)),1)],2),v.time?(g(),A("div",Lb,[p("a",{class:"vote-link",href:`https://etherscan.io/block/${T.item.block_number}`,target:"_blank"},L(T.item.block_number),9,Tb)])):D("",!0),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/tx/${T.item.tx_hash}`,target:"_blank",onClick:f[2]||(f[2]=Te(()=>{},["stop"]))},L(a(Se)(T.item.tx_hash)),9,Ib)]),p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${T.item.trader}`,target:"_blank",onClick:f[3]||(f[3]=Te(()=>{},["stop"]))},L(a(Se)(T.item.trader)),9,Pb)]),p("div",{class:x(["assets",{swap:T.item.transaction_type==="swap"}]),innerHTML:m(T.item)},null,10,Rb),v.time?(g(),A("div",Vb,L(a(s)(T.item.block_unixtime)),1)):D("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[v.header?{name:"actions",fn:w(()=>[p("div",Cb,[_(b,{class:"types",onTab:f[0]||(f[0]=T=>d(T.index))},{default:w(()=>[_(h,{header:"All"}),_(h,{header:"Swaps"}),_(h,{header:"Deposits"}),_(h,{header:"Removals"})]),_:1})]),p("div",kb,[_(C,{modelValue:a(o),"onUpdate:modelValue":f[1]||(f[1]=T=>le(o)?o.value=T:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),_(k,{class:"pagination","items-count":a(u).length,"items-per-page":ho,page:a(r),onPage:a(c)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["title"])}}});function fo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},remove:{t:0,b:{t:2,i:[{t:3}],s:"Remove"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof fo=="function"&&fo(Xl);const qb=R(Xl,[["__scopeId","data-v-4ad3dbab"]]),Fb={style:{display:"flex",gap:"1rem"}},Db=["href"],Mb={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},xb=["href"],Bb={class:"end"},ra=10,Yl=I({__name:"Sandwiches",setup(e){const{t}=F(),s=V(1),{data:o,isFetching:n}=fb(),{expanded:l,toggleExpansion:u}=Gt(),{relativeTime:r}=Ge(),i=V(""),c=y(()=>{var v;return((v=o.value)==null?void 0:v.totalPages)??0*ra}),m=y(()=>{var v;return q.chain(((v=o.value)==null?void 0:v.data)??[]).filter(f=>{const h=i.value.toLocaleLowerCase().split(" "),b=C=>h.some(k=>C.toLocaleLowerCase().includes(k));return b(f.poolName)||b(f.poolAddress)||b(f.label)}).orderBy([f=>f.frontrun.block_unixtime,f=>f.frontrun.tx_position],"desc").value()}),d=v=>q.orderBy([v.frontrun,...v.center,v.backrun],[f=>f.block_unixtime,f=>f.tx_position]);return(v,f)=>{const h=Ie,b=Ue,C=ne,k=U;return g(),P(k,{class:"sandwiches-card",title:a(t)("title"),loading:a(n)},{actions:w(()=>[p("div",Fb,[_(h,{modelValue:a(i),"onUpdate:modelValue":f[0]||(f[0]=$=>le(i)?i.value=$:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(c)>ra?(g(),P(b,{key:0,class:"pagination","items-count":a(c),"items-per-page":ra,page:a(s),onPage:f[1]||(f[1]=$=>s.value=$)},null,8,["items-count","page"])):D("",!0)])]),default:w(()=>[_(C,{class:"sandwiches-table",rows:a(m),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:a(l),onSelected:f[2]||(f[2]=$=>a(u)($))},{row:w($=>[p("div",null,[p("a",{class:"vote-link",href:`https://etherscan.io/address/${$.item.poolAddress}`,target:"_blank"},L($.item.poolName),9,Db)]),p("div",null,[p("div",Mb,[p("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${$.item.center[0].trader}`},L(a(Se)($.item.center[0].trader)),9,xb),p("span",null," lost "+L(a(He)($.item.user_losses_details.reduce((S,T)=>S+T.amount,0)))+" "+L($.item.user_losses_details[0].unit),1),p("span",null,L(a(He)(-$.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+L(a(He)($.item.lossInUsd)),1)])]),p("div",null,L($.item.label),1),p("div",Bb,L(a(r)($.item.frontrun.block_unixtime)),1)]),"row-details":w($=>[_(qb,{class:"transactions",txs:d($.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["title","loading"])}}});function go(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Sandwiches"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof go=="function"&&go(Yl);const Ub=R(Yl,[["__scopeId","data-v-5816bda6"]]),Ob={class:"mev"},Eb=I({__name:"MEV",setup(e){return(t,s)=>(g(),A("div",Ob,[_(Ub,{style:{"grid-area":"sws"}}),_(bb,{style:{"grid-area":"relative"}}),_(wb,{style:{"grid-area":"absolute"}})]))}}),Wb=R(Eb,[["__scopeId","data-v-f6873b0a"]]),Nb={class:"monitor"},Hb=I({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:s}=it(["mev"],"monitor");return(o,n)=>{const l=Ee,u=Oe;return g(),A("div",Nb,[_(u,{active:a(s),onTab:n[0]||(n[0]=r=>s.value=r.index)},{default:w(()=>[_(l,{header:"MEV"},{default:w(()=>[(g(),P(ge,null,[a(t)==="mev"?(g(),P(Wb,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Kb=R(Hb,[["__scopeId","data-v-4481e5f5"]]),zb=["all","ownership","parameter","other"];function nt(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":er(e)&&Jl(e)&&Zl(e)?"passed":"denied"}function Zl(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function Jl(e){return e.votesFor>e.quorum*e.totalSupply}function er(e){return e.votesFor>e.votesAgainst}const tr=e=>{var b;const t=e.vote_id,s=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(b=e.metadata)!=null&&b.startsWith('"')?e.metadata.substring(1):e.metadata??"",n=e.creator.toLocaleLowerCase(),l=e.snapshot_block,u=e.start_date,r=u+604800,i=De(BigInt(e.min_accept_quorum),18n),c=De(BigInt(e.support_required),18n),m=e.vote_count,d=De(BigInt(e.votes_for),18n),v=De(BigInt(e.votes_against),18n),f=e.executed,h=De(BigInt(e.total_supply),18n);return{id:t,type:s,metadata:o,proposer:n,block:l,start:u,end:r,quorum:i,support:c,voteCount:m,votesFor:d,votesAgainst:v,executed:f,totalSupply:h}},Qb=e=>{const t=tr(e),s=e.script,o=e.votes.map(n=>({voter:n.voter.toLocaleLowerCase(),supports:n.supports,votingPower:De(BigInt(n.voting_power),18n)}));return{...t,script:s,votes:o}},bo="https://prices.curve.fi";class jb extends Ae{async getProposals(t,s,o,n){const l=await this.fetch(`${bo}/v1/dao/proposals?pagination=10&page=${t}&search_string=${s}&type_filter=${o}&status_filter=${n}`);return{proposals:l.proposals.map(tr),count:l.count}}async getProposal(t,s){const o=await this.fetch(`${bo}/v1/dao/proposals/details/${s}/${t}`);return Qb(o)}}const ar=new jb;function sr(e,t,s){return j({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,o,n]})=>ar.getProposal(o,n),...s&&{enabled:s}})}function Gb(e,t,s,o){return j({queryKey:["curve-proposals",e,o,t,s],queryFn:({queryKey:[,n,l,u,r]})=>ar.getProposals(n,l,u,r),placeholderData:Wt})}const or=I({__name:"Status",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>{if(nt(e.proposal)==="denied")if(Jl(e.proposal))if(er(e.proposal)){if(!Zl(e.proposal))return t("no-support")}else return t("no-win");else return t("no-quorum");return""}),o=y(()=>{switch(nt(e.proposal)){case"active":return t("active");case"denied":return t("denied");case"passed":return t("passed");case"executed":return t("executed");default:return"Unk. Status"}});return(n,l)=>{const u=Nt,r=he;return g(),P(r,{class:"status","tooltip-type":"underline",label:a(t)("status"),"has-value":!0,tooltip:a(s)},{default:w(()=>[a(s)?(g(),P(u,{key:0},{item:w(()=>[p("span",{class:x(["status-value",a(nt)(n.proposal)])},L(a(o)),3)]),default:w(()=>[H(" "+L(a(s)),1)]),_:1})):(g(),A("span",{key:1,class:x(["status-value",a(nt)(n.proposal)])},L(a(o)),3))]),_:1},8,["label","tooltip"])}}});function yo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached (yes votes need to pass this number)"}},"no-support":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was reached and 'for' won, but not enough for support"}},"no-win":{t:0,b:{t:2,i:[{t:3}],s:"More 'against' votes than 'for' votes"}}}})}typeof yo=="function"&&yo(or);const Xb=R(or,[["__scopeId","data-v-9e86fade"]]),nr=I({__name:"Type",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>{switch(e.proposal.type){case"ownership":return t("ownership");case"parameter":return t("parameter");case"other":return t("other");default:return"Unk. Type"}});return(o,n)=>{const l=he;return g(),P(l,{class:"type",label:a(t)("type"),value:a(s),"has-value":!0},null,8,["label","value"])}}});function wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{type:{t:0,b:{t:2,i:[{t:3}],s:"Type"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof wo=="function"&&wo(nr);const Yb=["href"],lr=I({__name:"Proposer",props:{proposal:{}},setup(e){const{t}=F();return(s,o)=>{const n=he;return g(),P(n,{class:"proposer",label:a(t)("proposer"),"has-value":!0},{default:w(()=>[p("a",{href:`https://etherscan.io/address/${s.proposal.proposer}`,target:"_blank"},L(a(Se)(s.proposal.proposer)),9,Yb)]),_:1},8,["label"])}}});function Co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof Co=="function"&&Co(lr);const va=I({__name:"Date",props:{proposal:{},type:{}},setup(e){const{t}=F();let s;const o=V(""),n=y(()=>{switch(e.type){case"start":return t("start");case"end":return t("end");default:return"Unk. Type"}}),l=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const i=new Date(e.proposal.end*1e3);return i>new Date?o.value:i.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),u=y(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});pe(()=>{r()});const r=()=>{const i=new Date(e.proposal.end*1e3);s&&clearInterval(s),s=setInterval(()=>{o.value=cc(i)})};return(i,c)=>{const m=he;return g(),P(m,{class:"date","tooltip-type":"underline",label:a(n),value:a(l),"has-value":!0,tooltip:a(u)},null,8,["label","value","tooltip"])}}});function ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof ko=="function"&&ko(va);const rr=e=>(se("data-v-88e3f7d0"),e=e(),oe(),e),Zb=rr(()=>p("i",{class:"fas fa-link"},null,-1)),Jb={class:"metadata"},e0={class:"row"},t0=rr(()=>p("i",{class:"fas fa-chevron-up"},null,-1)),a0=[t0],ir=I({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=y(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(u,r)=>{const i=lt("router-link");return g(),A("div",{class:"proposal-summary",onClick:r[0]||(r[0]=c=>o("toggleExpand"))},[p("div",{class:x(["title",{"no-title":!u.proposal.metadata}])},[_(i,{to:a(n),class:"id",onClick:l},{default:w(()=>[Zb,H(" "+L(u.proposal.id),1)]),_:1},8,["to"]),p("div",Jb,L(u.proposal.metadata||a(s)("no-title")),1)],2),p("div",e0,[_(Xb,{class:"item",proposal:u.proposal},null,8,["proposal"]),_(nr,{class:"item",proposal:u.proposal},null,8,["proposal"]),_(lr,{class:"item",proposal:u.proposal},null,8,["proposal"]),_(va,{class:"item",proposal:u.proposal,type:"start"},null,8,["proposal"]),_(va,{class:"item",proposal:u.proposal,type:"end"},null,8,["proposal"]),p("div",{class:x(["item expander",{expanded:u.expanded}])},a0,2)])])}}});function $o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof $o=="function"&&$o(ir);const s0=R(ir,[["__scopeId","data-v-88e3f7d0"]]),mt=e=>(se("data-v-d48830ac"),e=e(),oe(),e),o0={class:"results"},n0={class:"heading"},l0={class:"choice"},r0={class:"label"},i0={class:"amount"},c0={class:"left"},u0=mt(()=>p("span",null," veCRV",-1)),d0={class:"right"},p0=mt(()=>p("span",null,"(",-1)),m0=mt(()=>p("span",null,")",-1)),v0={class:"choice"},_0={class:"label"},h0={class:"amount"},f0={class:"left"},g0=mt(()=>p("span",null," veCRV",-1)),b0={class:"right"},y0=mt(()=>p("span",null,"(",-1)),w0=mt(()=>p("span",null,")",-1)),So=4,cr=I({__name:"VotingResults",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>e.proposal.votesFor+e.proposal.votesAgainst),o=y(()=>e.proposal.votesFor/s.value*100),n=y(()=>e.proposal.votesAgainst/s.value*100);return(l,u)=>{const r=Y;return g(),A("div",o0,[p("div",n0,L(a(t)("results")),1),p("div",l0,[p("div",r0,L(a(t)("for")),1),p("div",i0,[p("div",c0,[_(r,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),u0]),p("div",d0,[p0,_(r,{value:a(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),m0])]),p("div",{class:"bar",style:Ce({width:`${Math.max(So,a(o))}%`})},null,4)]),p("div",v0,[p("div",_0,L(a(t)("against")),1),p("div",h0,[p("div",f0,[_(r,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),g0]),p("div",b0,[y0,_(r,{value:a(n),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),w0])]),p("div",{class:"bar",style:Ce({width:`${Math.max(So,a(n))}%`})},null,4)])])}}});function Ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{results:{t:0,b:{t:2,i:[{t:3}],s:"Results"}},for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Ao=="function"&&Ao(cr);const C0=R(cr,[["__scopeId","data-v-d48830ac"]]),k0=e=>(se("data-v-7c213e10"),e=e(),oe(),e),$0={class:"quorum"},S0={class:"heading"},A0={class:"amount"},L0={class:"bar"},T0={class:"percentages"},I0=k0(()=>p("div",{class:"zero"},"0%",-1)),P0={class:"quorum"},ur=I({__name:"VotingQuorum",props:{proposal:{}},setup(e){const{t}=F(),s=y(()=>e.proposal.votesFor),o=y(()=>e.proposal.quorum*e.proposal.totalSupply),n=y(()=>s.value/o.value*100);return(l,u)=>{const r=Y;return g(),A("div",$0,[p("div",S0,L(a(t)("quorum")),1),p("div",A0,[_(r,{value:a(s),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),H(" / "),_(r,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),H(" veCRV ")]),p("div",L0,[p("div",{class:"support",style:Ce({width:`${a(n)}%`})},null,4),p("div",{class:"quorum",style:Ce({width:`${100-a(n)}%`})},null,4)]),p("div",T0,[I0,p("div",P0,[_(r,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Lo=="function"&&Lo(ur);const R0=R(ur,[["__scopeId","data-v-7c213e10"]]),V0=["min","max"],q0=I({__name:"Slider",props:Ke({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue",{set(s){return Number(s)}});return(s,o)=>ba((g(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=n=>t.value=n),type:"range",min:s.min,max:s.max},null,8,V0)),[[Go,t.value]])}}),F0=R(q0,[["__scopeId","data-v-e358da62"]]),D0=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],et=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],M0={class:"buttons"},x0={class:"vecrv"},B0={class:"info"},U0={class:"kpis"},O0={class:"description"},E0={class:"title"},W0={class:"options"},N0={class:"label"},H0={class:"middle"},K0=["contenteditable","textContent"],z0={class:"label"},dr=I({__name:"VotingButtons",props:{proposal:{}},setup(e){const{t}=F(),{address:s}=kt(),o=V(!1),n=V(50),l=V(null),u=V(!1),r=y(()=>{var X;return u.value?`${n.value}.`:n.value===0&&((X=l.value)==null?void 0:X.textContent)!=="0"?"":n.value.toString()}),i=y(()=>(O.value??0n)>0n&&!Xe.value&&d.value&&T.value===0),c=y(()=>i.value?"submit":Xe.value?"voting":d.value?T.value!==0?"voted":"not-enough-voting-power":"voting-closed"),m=y(()=>De(O.value??0n,18n)),d=y(()=>nt(e.proposal)==="active"),v=y(()=>nt(e.proposal)==="passed"),f=()=>{const X=window.getSelection();return X&&X.rangeCount>0?X.getRangeAt(0).startOffset:0},h=X=>{if(l.value){const _e=document.createRange();_e.setStart(l.value.firstChild??l.value,X),_e.collapse(!0);const be=window.getSelection();be&&(be.removeAllRanges(),be.addRange(_e))}},b=()=>{n.value=0,l.value&&(l.value.textContent="0")},C=()=>{n.value=100,l.value&&(l.value.textContent="100")},k=X=>{X.target===X.currentTarget&&l.value&&l.value.focus()},$=()=>{if(l.value){const X=l.value.textContent??"",_e=f();if(/^\d*(\.\d*)?$/.test(X))if(u.value=X.endsWith("."),X){const be=parseFloat(X);be>=0&&be<=100?n.value=be:(l.value.textContent=r.value,h(_e-1))}else n.value=0;else l.value.textContent=r.value,h(_e-1)}},{data:S}=ht({abi:et,address:Ye,functionName:"token",query:{enabled:o}}),{data:T}=ht({abi:et,address:Ye,functionName:"getVoterState",args:y(()=>[BigInt(e.proposal.id),s.value]),query:{enabled:y(()=>!!s.value&&o.value),initialData:0,initialDataUpdatedAt:0}}),{data:O}=ht({abi:D0,address:S,functionName:"balanceOfAt",args:y(()=>[s.value,BigInt(e.proposal.block)]),query:{enabled:y(()=>!!S.value&&!!s.value&&o.value),initialData:0n,initialDataUpdatedAt:0}}),{data:M,refetch:W}=ht({abi:et,address:Ye,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:y(()=>v.value&&o.value),initialData:!1,initialDataUpdatedAt:0}}),{data:ae}=ht({abi:et,address:Ye,functionName:"PCT_BASE",query:{enabled:o}}),{data:vt,error:G,isPending:fe,writeContract:ve}=Oa(),{isLoading:ie,isSuccess:ce}=Ea({hash:vt}),Xe=y(()=>fe.value||ie.value);function We(){if(!ae.value){Re({text:xt("Missing PCT_BASE"),type:"error"});return}const X=BigInt(Math.log10(Number(ae.value))),_e=ka(n.value/100,X),be=ae.value-_e;ve({abi:et,address:Ye,functionName:"votePct",args:[BigInt(e.proposal.id),_e,be,!1]})}N(G,X=>{X&&Re({text:xt(X),type:"error"})}),N(ce,X=>{X&&Re({text:"Voted",type:"success"})});const{data:_t,error:Xt,isPending:qr,writeContract:Fr}=Oa(),{isLoading:Dr,isSuccess:Mr}=Ea({hash:_t}),Ba=y(()=>qr.value||Dr.value);function xr(){Fr({abi:et,address:Ye,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),W()}return N(Xt,X=>{X&&Re({text:xt(X),type:"error"})}),N(Mr,X=>{X&&Re({text:"Executed proposal",type:"success"})}),(X,_e)=>{const be=we,Br=Y,Ua=he,Ur=F0,Or=U,Er=Sa;return g(),A(J,null,[p("div",M0,[_(be,{value:a(t)("vote"),primary:!0,onClick:_e[0]||(_e[0]=Yt=>o.value=!0)},null,8,["value"]),a(v)?(g(),P(be,{key:0,value:a(t)(a(Ba)?"executing":"execute"),primary:!0,disabled:!a(M)||a(Ba),onClick:xr},null,8,["value","disabled"])):D("",!0)]),_(Er,{show:a(o),onClose:_e[2]||(_e[2]=Yt=>o.value=!1)},{default:w(()=>[_(Or,{title:a(t)("vote-with-vecrv"),class:"vote-content"},{default:w(()=>[p("div",x0,[p("div",B0,[p("div",U0,[_(Ua,{label:a(t)("voting-power"),"has-value":!0},{default:w(()=>[_(Br,{value:a(m),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),H(" veCRV ")]),_:1},8,["label"]),_(Ua,{label:a(t)("block"),value:X.proposal.block,"has-value":!0},null,8,["label","value"])]),p("div",O0,[p("span",E0,L(a(t)("description"))+": ",1),p("span",null,L(X.proposal.metadata),1)])]),p("div",W0,[_(be,{class:x(["no",{winning:a(n)<50}]),disabled:!a(i),onClick:b},{default:w(()=>[p("span",N0,L(a(t)("no")),1)]),_:1},8,["class","disabled"]),p("div",H0,[p("i",{class:x(["fas fa-times",{winning:a(n)<50}])},null,2),p("div",{class:x(["value",{disabled:!a(i)}]),onClick:k},[p("span",{ref_key:"editor",ref:l,contenteditable:a(i),onInput:$,textContent:L(a(r))},null,40,K0),H(" % ")],2),p("i",{class:x(["fas fa-check",{winning:a(n)>50}])},null,2)]),_(be,{class:x(["yes",{winning:a(n)>50}]),disabled:!a(i),onClick:C},{default:w(()=>[p("span",z0,L(a(t)("yes")),1)]),_:1},8,["class","disabled"])]),_(Ur,{modelValue:a(n),"onUpdate:modelValue":_e[1]||(_e[1]=Yt=>le(n)?n.value=Yt:null),class:"slider",disabled:!a(i),min:0,max:100},null,8,["modelValue","disabled"]),_(be,{class:"submit",value:a(t)(a(c)),primary:!0,disabled:!a(i),web3:!0,onClick:We},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function To(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-vecrv":{t:0,b:{t:2,i:[{t:3}],s:"Vote with veCRV"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough veCRV voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof To=="function"&&To(dr);const Q0=R(dr,[["__scopeId","data-v-15177465"]]),j0={class:"voting"},G0=I({__name:"Voting",props:{proposal:{}},setup(e){return(t,s)=>(g(),A("div",j0,[_(R0,{proposal:t.proposal},null,8,["proposal"]),_(C0,{proposal:t.proposal},null,8,["proposal"]),_(Q0,{proposal:t.proposal},null,8,["proposal"])]))}}),X0=R(G0,[["__scopeId","data-v-35456808"]]),Y0={class:"voters"},Z0={class:"for"},J0={class:"title"},e1={class:"address"},t1=["href"],a1={class:"amount"},s1={class:"percentage"},o1={class:"against"},n1={class:"title"},l1={class:"percentage"},r1={class:"amount"},i1={class:"address"},c1=["href"],pr=I({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{t}=F(),{address:s}=kt(),o=y(()=>e.proposalDetails?q.chain(e.proposalDetails.votes).filter(i=>i.supports).orderBy(i=>i.votingPower,"desc").value():null),n=y(()=>e.proposalDetails?q.chain(e.proposalDetails.votes).filter(i=>!i.supports).orderBy(i=>i.votingPower,"desc").value():null),l=i=>i==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":i==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":i==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Se(i,12),u=i=>i/(e.proposal.votesFor+e.proposal.votesAgainst)*100,r=i=>i===s.value;return(i,c)=>{const m=Y;return g(),A("div",Y0,[p("div",Z0,[p("div",J0,L(a(t)("for")),1),(g(!0),A(J,null,ue(a(o),d=>(g(),A("div",{key:d.voter,class:"vote"},[p("div",e1,[p("a",{target:"_blank",href:`https://etherscan.io/address/${d.voter}`,class:x({you:r(d.voter)})},L(l(d.voter)),11,t1)]),p("div",a1,[_(m,{value:d.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",s1,[_(m,{value:u(d.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),p("div",o1,[p("div",n1,L(a(t)("against")),1),(g(!0),A(J,null,ue(a(n),d=>(g(),A("div",{key:d.voter,class:"vote"},[p("div",l1,[_(m,{value:u(d.votingPower),precision:0,type:"percentage"},null,8,["value"])]),p("div",r1,[_(m,{value:d.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),p("div",i1,[p("a",{target:"_blank",href:`https://etherscan.io/address/${d.voter}`,class:x({you:r(d.voter)})},L(l(d.voter)),11,c1)])]))),128))])])}}});function Io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof Io=="function"&&Io(pr);const u1=R(pr,[["__scopeId","data-v-76cb5457"]]),d1={class:"technicals"},p1={class:"technical"},m1={class:"heading"},v1={class:"description"},_1={class:"technical"},h1={class:"technical"},f1=["innerHTML"],mr=I({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const{t}=F(),s=V(!0),o=V(e.proposal.voteCount>0),{data:n}=sr(B(()=>e.proposal.id),B(()=>e.proposal.type),B(()=>e.expanded)),l=y(()=>n.value?q.uniqWith(n.value.votes,(r,i)=>r.voter===i.voter).length:null),u=y(()=>n.value?n.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,r=>/[A-F]/g.test(r)&&wa(r)?`<a href='https://etherscan.io/address/${r}'>${r}</a>`:r):null);return(r,i)=>{const c=Ct;return g(),A("div",d1,[p("div",p1,[p("div",m1,L(a(t)("description")),1),p("div",v1,L(r.proposal.metadata),1)]),p("div",_1,[p("div",{class:"heading",onClick:i[0]||(i[0]=m=>o.value=!a(o))},[H(L(a(t)("voters"))+" ("+L(a(l)??"?")+") ",1),p("i",{class:x(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),_(c,{expanded:a(o)},{default:w(()=>[a(n)?(g(),P(u1,{key:0,class:"voters",proposal:r.proposal,"proposal-details":a(n)},null,8,["proposal","proposal-details"])):D("",!0)]),_:1},8,["expanded"])]),p("div",h1,[p("div",{class:"heading",onClick:i[1]||(i[1]=m=>s.value=!a(s))},[H(L(a(t)("calldata"))+" ",1),p("i",{class:x(["fas fa-chevron-up expander",{expandedCallData:a(s)}])},null,2)]),_(c,{expanded:a(s)},{default:w(()=>[a(n)?(g(),A("div",{key:0,class:"calldata",innerHTML:a(u)},null,8,f1)):D("",!0)]),_:1},8,["expanded"])])])}}});function Po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof Po=="function"&&Po(mr);const g1=R(mr,[["__scopeId","data-v-15f6af53"]]),b1={class:"proposal-details"},y1={class:"proposal-details-container"},w1=I({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,s)=>(g(),A("div",b1,[p("div",y1,[_(g1,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),_(X0,{proposal:t.proposal},null,8,["proposal"])])]))}}),C1=R(w1,[["__scopeId","data-v-7028e69e"]]),k1=I({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=V(e.initExpanded);return(s,o)=>{const n=Ct,l=U;return g(),P(l,{class:"proposal",compact:!0},{default:w(()=>[_(s0,{proposal:s.proposal,expanded:a(t),onToggleExpand:o[0]||(o[0]=u=>t.value=!a(t))},null,8,["proposal","expanded"]),_(n,{class:"proposal-details-collapsible",expanded:a(t)},{default:w(()=>[_(C1,{proposal:s.proposal,expanded:a(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),vr=R(k1,[["__scopeId","data-v-acab9946"]]),$1={class:"item"},S1={class:"label"},_r=I({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:s}=F(),o=[...zb].filter(c=>c!=="other"),n=t,l=V(!1),u=V("all"),r=()=>{l.value=!l.value},i=c=>{u.value=c,n("select",u.value)};return(c,m)=>{const d=$t;return g(),P(d,{class:"select",options:a(o).map(v=>v),selected:a(u),open:a(l),onOpen:r,onClose:m[0]||(m[0]=v=>l.value=!1),onInput:i},{item:w(v=>[p("div",$1,[p("div",S1,L(a(s)(v.item)),1)])]),_:1},8,["options","selected","open"])}}});function Ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof Ro=="function"&&Ro(_r);const A1=R(_r,[["__scopeId","data-v-3d847865"]]),L1={class:"proposals"},T1={class:"filters"},I1={style:{display:"flex",gap:"1rem"}},P1={class:"proposals-content"},R1={key:0},hr=I({__name:"Proposals.page",setup(e){const{t}=F(),s=V(0),{page:o,onPage:n}=Va(),l=Ut(o,200),u=V(t("search-placeholder")),r=V(""),i=Ut(r,300),c=V("all"),m=y(()=>{switch(s.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),d=y(()=>i.value.toLocaleLowerCase()),v=y(()=>{var k;return((k=b.value)==null?void 0:k.count)??0}),f=y(()=>{var k;return q.orderBy(((k=b.value)==null?void 0:k.proposals)??[],$=>$.start,"desc")}),{isFetching:h,data:b}=Gb(l,c,m,d),C=k=>{c.value=k};return(k,$)=>{const S=Ee,T=Oe,O=Ie,M=Ue,W=Qe;return g(),A("div",L1,[_(T,{onTab:$[0]||($[0]=ae=>s.value=ae.index)},{default:w(()=>[_(S,{header:a(t)("all")},null,8,["header"]),_(S,{header:a(t)("active")},null,8,["header"]),_(S,{header:a(t)("passed")},null,8,["header"]),_(S,{header:a(t)("denied")},null,8,["header"]),_(S,{header:a(t)("executed")},null,8,["header"])]),_:1}),p("div",T1,[_(O,{modelValue:a(r),"onUpdate:modelValue":$[1]||($[1]=ae=>le(r)?r.value=ae:null),class:"search",placeholder:a(u),search:!0},null,8,["modelValue","placeholder"]),p("div",I1,[_(A1,{style:{"flex-grow":"1"},onSelect:C}),_(M,{class:"pagination","items-count":a(v),"items-per-page":10,page:a(o),onPage:a(n)},null,8,["items-count","page","onPage"])])]),p("div",P1,[(g(!0),A(J,null,ue(a(f),ae=>(g(),P(vr,{key:ae.id,proposal:ae,class:x({loading:a(h)})},null,8,["proposal","class"]))),128)),_(M,{class:"pagination","items-count":a(v),"items-per-page":10,page:a(o),onPage:a(n)},null,8,["items-count","page","onPage"]),a(f).length===0?(g(),A("div",R1,L(a(t)("no-proposals")),1)):D("",!0),_(W,{class:x(["spinner",{loading:a(h)}])},null,8,["class"])])])}}});function Vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}},all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Vo=="function"&&Vo(hr);const V1=R(hr,[["__scopeId","data-v-288924ec"]]),q1={class:"proposal-container"},F1=I({__name:"Proposal.page",setup(e){const t=ye("proposalId",0,{transform:Number}),s=ye("proposalType"),{isFetching:o,data:n}=sr(t,s);return(l,u)=>{const r=Qe;return g(),A("div",q1,[_(r,{class:x(["spinner",{loading:a(o)}])},null,8,["class"]),!a(o)&&a(n)?(g(),P(vr,{key:0,proposal:a(n),"init-expanded":!0},null,8,["proposal"])):D("",!0)])}}}),D1=R(F1,[["__scopeId","data-v-b5eb5204"]]),M1=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],x1={class:"form"},B1={class:"field"},U1={class:"label"},O1={class:"value"},E1={class:"field"},W1={class:"label"},N1={class:"value"},fr=I({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=V(!1),l=V(""),u=V(0),r=y(()=>an),i=y(()=>wa(l.value.toLocaleLowerCase())&&u.value>0),c=Ca();async function m(){if(!l.value||!u.value)return;const d=l.value.toLocaleLowerCase();typeof u.value=="string"&&(u.value=parseFloat(u.value));const v=ka(u.value,18n);return ln(n,async()=>{const{result:f,request:h}=await _i(c,{abi:M1,address:sn,functionName:"deploy_gauge",args:[d,v]}),b=await Xo(c,h);await Yo(c,{hash:b}),o("gauge",f)})}return(d,v)=>{const f=Ie,h=jn,b=we,C=U;return g(),P(C,{class:"add-new",title:"Gauge Creation"},{default:w(()=>[p("div",x1,[p("div",B1,[p("div",U1,L(a(s)("receiver"))+":",1),p("div",O1,[_(f,{modelValue:a(l),"onUpdate:modelValue":v[0]||(v[0]=k=>le(l)?l.value=k:null),placeholder:a(r)},null,8,["modelValue","placeholder"])])]),p("div",E1,[p("div",W1,L(a(s)("amount"))+":",1),p("div",N1,[_(h,{modelValue:a(u),"onUpdate:modelValue":v[1]||(v[1]=k=>le(u)?u.value=k:null),min:1,max:3303030299},null,8,["modelValue"])])])]),_(b,{class:"action-button request",value:a(s)("submit"),disabled:!a(i)||a(n),primary:!0,web3:!0,onClick:m},null,8,["value","disabled"])]),_:1})}}});function qo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{receiver:{t:0,b:{t:2,i:[{t:3}],s:"Receiver"}},amount:{t:0,b:{t:2,i:[{t:3}],s:"CRV Amount (Max)"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Fundraising Gauge"}}}})}typeof qo=="function"&&qo(fr);const H1=R(fr,[["__scopeId","data-v-9c06f3ce"]]),K1=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],z1=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],Q1=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],j1={class:"form"},G1={class:"field"},X1={class:"label"},Y1={class:"value"},Z1={class:"field"},J1={class:"label"},ey={class:"value"},gr=I({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=V(!1),l=V(""),u=V(s("placeholder")),r=y(()=>an),i=y(()=>wa(l.value)&&!!u.value),c=y(()=>i.value&&!n.value);N(()=>e.gauge,f=>{l.value=f.toLocaleLowerCase()});async function m(){if(l.value)return ln(n,async()=>{await v(),o("request")})}const d=Ca();async function v(){const f="0xe478de485ad2fe566d49342cbd03e49ed7db3356",h="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",b=(fe,ve)=>String(fe).padStart(ve,"0"),C=Wa({abi:Q1,functionName:"add_gauge",args:[l.value,10n,0n]});let k="0x00000001";const $=Wa({abi:K1,functionName:"execute",args:[on,0n,C]}).substring(2),S=b((Math.floor($.length)/2).toString(16),8);k=`${k}${h.substring(2)}${S}${$}`;const T=new FormData,M={text:u.value.replace(/(\r\n|\n|\r)/gm,"")};T.append("file",JSON.stringify(M));const vt=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:T})).json()).Hash,G=await Xo(d,{abi:z1,address:f,functionName:"newVote",args:[k,`ipfs:${vt}`,!1,!1]});await Yo(d,{hash:G})}return(f,h)=>{const b=Ie,C=we,k=U;return g(),P(k,{class:"add-new",title:"Gauge Addition Vote"},{default:w(()=>[p("div",j1,[p("div",G1,[p("div",X1,L(a(s)("gauge"))+":",1),p("div",Y1,[_(b,{modelValue:a(l),"onUpdate:modelValue":h[0]||(h[0]=$=>le(l)?l.value=$:null),placeholder:a(r)},null,8,["modelValue","placeholder"])])]),p("div",Z1,[p("div",J1,L(a(s)("description"))+":",1),p("div",ey,[_(b,{modelValue:a(u),"onUpdate:modelValue":h[1]||(h[1]=$=>le(u)?u.value=$:null)},null,8,["modelValue"])])])]),_(C,{class:"action-button request",value:a(s)("submit"),disabled:!a(c),primary:!0,web3:!0,onClick:m},null,8,["value","disabled"])]),_:1})}}});function Fo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{gauge:{t:0,b:{t:2,i:[{t:3}],s:"Gauge Address"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Vote Description"}},placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Add a grant gauge: "}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Gauge Addition Vote"}}}})}typeof Fo=="function"&&Fo(gr);const ty=R(gr,[["__scopeId","data-v-a001424b"]]),ay={class:"ve-funder"},sy={class:"explanation"},oy={class:"step-one"},ny=["innerHTML"],ly=["innerHTML"],ry={class:"step-two"},iy=["innerHTML"],cy={href:"https://gov.curve.fi/",target:"_blank"},uy={class:"forms"},br=I({__name:"VeFunder.page",setup(e){const{t}=F(),s=V(""),o=n=>{s.value=n};return(n,l)=>{const u=U;return g(),A("div",ay,[p("div",sy,[_(u,null,{default:w(()=>[p("div",oy,[p("span",{innerHTML:a(t)("process")},null,8,ny),p("ol",null,[p("li",null,L(a(t)("process-1")),1),p("li",{innerHTML:a(t)("process-2")},null,8,ly)])]),p("div",ry,[p("span",{innerHTML:a(t)("requirements")},null,8,iy),p("ol",null,[p("li",null,[H(L(a(t)("requirements-1a"))+" ",1),p("a",cy,L(a(t)("requirements-1b")),1)]),p("li",null,L(a(t)("requirements-2")),1)])])]),_:1})]),p("div",uy,[_(H1,{onGauge:o}),_(ty,{gauge:a(s)},null,8,["gauge"])])])}}});function Do(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{process:{t:0,b:{t:2,i:[{t:3}],s:"<strong>veFunder</strong> process:"}},"process-1":{t:0,b:{t:2,i:[{t:3}],s:"Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."}},"process-2":{t:0,b:{t:2,i:[{t:3}],s:"Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."}},requirements:{t:0,b:{t:2,i:[{t:3}],s:"<strong>Gauge vote requirements:</strong>"}},"requirements-1a":{t:0,b:{t:2,i:[{t:3}],s:"New gauge votes must have a vote on the governance forum"}},"requirements-1b":{t:0,b:{t:2,i:[{t:3}],s:"at this address"}},"requirements-2":{t:0,b:{t:2,i:[{t:3}],s:"You must have a minimum of 2,500 veCRV to create this vote"}}}})}typeof Do=="function"&&Do(br);const dy=R(br,[["__scopeId","data-v-9854e2e0"]]),py="/assets/header--BhHUuM7.png",my={},vy=e=>(se("data-v-80c6610f"),e=e(),oe(),e),_y={class:"header"},hy=vy(()=>p("img",{class:"header-image",src:py},null,-1)),fy=[hy];function gy(e,t){return g(),A("div",_y,fy)}const by=R(my,[["render",gy],["__scopeId","data-v-80c6610f"]]),yy={class:"general"},wy=["innerHTML"],yr=I({__name:"General",props:{model:{}},setup(e){const{t}=F(),s=y(()=>{var i;return(i=e.model)==null?void 0:i.crvLockedDollars}),o=y(()=>{var i;return(i=e.model)==null?void 0:i.crvLockedDollarsMonthly}),n=y(()=>{var i;return(i=e.model)==null?void 0:i.cvxTvl}),l=y(()=>{var i;return(i=e.model)==null?void 0:i.cvxVotingPercentage}),u=y(()=>{var i;return(i=e.model)==null?void 0:i.cvxMarketCap}),r=y(()=>{var i;return(i=e.model)==null?void 0:i.cvxMarketCapFullyDiluted});return(i,c)=>{const m=Y;return g(),A("div",yy,[p("div",{class:"title",innerHTML:a(t)("description")},null,8,wy),p("ul",null,[p("li",null,[_(m,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("locked-1"))+" ",1),_(m,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("locked-2")),1)]),p("li",null,[_(m,{value:a(n),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("locked-2"))+" ",1),_(m,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),H(" "+L(a(t)("locked-3")),1)]),p("li",null,[H(L(a(t)("mcap-1"))+" ",1),_(m,{value:a(u),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("mcap-2"))+" ",1),_(m,{value:a(r),precision:0,type:"dollar"},null,8,["value"]),H(". ")])])])}}});function Mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Total locked value, incentives &amp; market cap"}},"locked-1":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract, and is continuing to see a rate of about"}},"locked-2":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract per month."}},"locked-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"tvl-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex currently has about"}},"tvl-2":{t:0,b:{t:2,i:[{t:3}],s:"TVL and controls close to"}},"tvl-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"mcap-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex's market cap is just"}},"mcap-2":{t:0,b:{t:2,i:[{t:3}],s:"with a fully diluted valuation of"}}}})}typeof Mo=="function"&&Mo(yr);const Cy=R(yr,[["__scopeId","data-v-c68342f5"]]),ky={class:"bribes"},$y={class:"title"},wr=I({__name:"Bribes",props:{model:{}},setup(e){const{t}=F(),s=y(()=>{var n;return(n=e.model)==null?void 0:n.bribesIncomeAnnually}),o=y(()=>{var n;return(n=e.model)==null?void 0:n.bribesIncomeBiWeekly});return(n,l)=>{const u=Y;return g(),A("div",ky,[p("div",$y,L(a(t)("incentives")),1),p("ul",null,[p("li",null,L(a(t)("description")),1),p("li",null,[H(L(a(t)("annual-1"))+" ",1),_(u,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("annual-2")),1)]),p("li",null,[H(L(a(t)("biweek-1"))+" ",1),_(u,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),H(" "+L(a(t)("biweek-2")),1)])])])}}});function xo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{incentives:{t:0,b:{t:2,i:[{t:3}],s:"Incentives"}},description:{t:0,b:{t:2,i:[{t:3}],s:"CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."}},"annual-1":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders will potentially earn over"}},"annual-2":{t:0,b:{t:2,i:[{t:3}],s:"in incentives over a 1 year period."}},"biweek-1":{t:0,b:{t:2,i:[{t:3}],s:"Incentives to CVX holders are very likely to reach"}},"biweek-2":{t:0,b:{t:2,i:[{t:3}],s:"biweekly in the coming weeks (based on total rewards paid by Votium app)"}}}})}typeof xo=="function"&&xo(wr);const Sy=R(wr,[["__scopeId","data-v-6ddf569b"]]),Ay="/assets/cvx-PJG1_7yb.png",Ly="/assets/cvxcrv-B_jSbKBn.png",Cr=e=>(se("data-v-1cb9eeb6"),e=e(),oe(),e),Ty={class:"farm"},Iy={class:"title"},Py={class:"values"},Ry={class:"cvx"},Vy={class:"content"},qy={class:"value"},Fy={class:"description"},Dy=Cr(()=>p("img",{class:"logo",src:Ay},null,-1)),My={class:"crv"},xy=Cr(()=>p("img",{class:"logo",src:Ly},null,-1)),By={class:"content"},Uy={class:"value"},Oy={class:"description"},kr=I({__name:"Farm",props:{model:{}},setup(e){const{t}=F(),s=new nn,{address:o}=kt(),n=Ca(),l=V(void 0),u=y(()=>{var r;return(r=e.model)==null?void 0:r.cvxApr});return N(o,async()=>{const r=hi(n);if(!r)throw Error("Cannot create public viem client");const c=(await fc(r,s)).reduce((m,d)=>m+d,0)/2;l.value=c*100},{immediate:!0}),(r,i)=>{const c=Y;return g(),A("div",Ty,[p("div",Iy,L(a(t)("income")),1),p("div",Py,[p("div",Ry,[p("div",Vy,[p("span",qy,[_(c,{value:a(u),precision:0,type:"percentage"},null,8,["value"]),H(" "+L(a(t)("apr")),1)]),p("span",Fy,[H(L(a(t)("apr-1"))+" ",1),_(c,{value:a(u),precision:0,type:"percentage"},null,8,["value"]),H(" "+L(a(t)("apr-2")),1)])]),Dy]),p("div",My,[xy,p("div",By,[p("span",Uy,[_(c,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),H(" "+L(a(t)("apr")),1)]),p("span",Oy,[H(L(a(t)("staked"))+" ",1),_(c,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),H(" "+L(a(t)("apr"))+". ",1)])])])])])}}});function Bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{income:{t:0,b:{t:2,i:[{t:3}],s:"Income"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}},"apr-1":{t:0,b:{t:2,i:[{t:3}],s:"Locked CVX earns"}},"apr-2":{t:0,b:{t:2,i:[{t:3}],s:"APR with incentives."}},staked:{t:0,b:{t:2,i:[{t:3}],s:"Staked cvxCRV earns"}}}})}typeof Bo=="function"&&Bo(kr);const Ey=R(kr,[["__scopeId","data-v-1cb9eeb6"]]);class Wy extends je{async getConvex(){const t="flyer-convex",s=await this.getHost();return this.fetch(`${s}/dashboard/${t}`)}async getAura(){const t="flyer-aura",s=await this.getHost();return this.fetch(`${s}/dashboard/${t}`)}}const Ny={class:"flyer"},Hy={class:"flyer-items"},Ky=I({__name:"Flyer.page",setup(e){const t=new Wy(ze()),s=V(null);return pe(async()=>{const o=await gt(t.getConvex());o.statusCode===200&&o.dashboard&&(s.value=o.dashboard)}),(o,n)=>(g(),A("div",Ny,[p("div",Hy,[_(by),_(Ey,{model:a(s)},null,8,["model"]),_(Cy,{model:a(s)},null,8,["model"]),_(Sy,{model:a(s)},null,8,["model"])])]))}}),zy=R(Ky,[["__scopeId","data-v-33341a13"]]),Qy={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},jy={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},Pe=yt("convexStore",()=>{const e=V([]),t=V({}),s=V(Qy),o=V([jy]);function n(l,u){t.value[l.name]=u}return{pools:e,snapshots:t,revenue:s,historicalRevenue:o,setSnapshots:n}});function Gy(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const $r=I({__name:"ChartApr",props:{poolSelected:{}},setup(e){const{t}=F(),s=Pe(),{theme:o}=E(K()),n=y(()=>s.snapshots[e.poolSelected.name]??[]),l=y(()=>re(o.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:i=>r(i)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const c=i.w.globals.initialSeries[i.seriesIndex].data[i.dataPointIndex].snapshot;return[`<div><b>${t("base")}</b>:</div><div>${r(c.baseApr)}</div>`,`<div><b>${t("crv")}</b>:</div><div>${r(c.crvApr)}</div>`,`<div><b>${t("cvx")}</b>:</div><div>${r(c.cvxApr)}</div>`,`<div><b>${t("extra")}</b>:</div><div>${r(c.extraRewardsApr)}</div>`].join("")}}})),u=y(()=>[{name:"APR",data:n.value.map(i=>({x:i.timeStamp*1e3,y:Gy(i),snapshot:i}))}]),r=i=>(i*=100,`${Q(i,1,"percentage")}${z(i,"percentage")}`);return(i,c)=>{const m=me;return g(),P(m,{class:"apr",title:a(t)("title"),options:a(l),series:a(u)},null,8,["title","options","series"])}}});function Uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Annual Percentage Rate"}},base:{t:0,b:{t:2,i:[{t:3}],s:"Base"}},crv:{t:0,b:{t:2,i:[{t:3}],s:"CRV"}},cvx:{t:0,b:{t:2,i:[{t:3}],s:"CVX"}},exta:{t:0,b:{t:2,i:[{t:3}],s:"Extra"}}}})}typeof Uo=="function"&&Uo($r);const Xy=R($r,[["__scopeId","data-v-6621c950"]]),Sr=I({__name:"ChartTvl",props:{poolSelected:{}},setup(e){const{t}=F(),s=Pe(),{theme:o}=E(K()),n=y(()=>s.snapshots[e.poolSelected.name]??[]),l=y(()=>re(o.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:i=>r(i)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const c=i.w.globals.initialSeries[i.seriesIndex].data[i.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${r(c)}</div>`}}})),u=y(()=>[{name:"tvl",data:n.value.map(i=>({x:i.timeStamp*1e3,y:i.tvl}))}]),r=i=>`$${Q(i,1,"dollar")}${z(i,"dollar")}`;return(i,c)=>{const m=me;return g(),P(m,{class:"tvl",title:a(t)("title"),options:a(l),series:a(u)},null,8,["title","options","series"])}}});function Oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total Value Locked"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Oo=="function"&&Oo(Sr);const Yy=R(Sr,[["__scopeId","data-v-0f174696"]]);function Eo(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const Zy={class:"end"},Jy={class:"end"},e2={key:0,class:"charts"},Ar=I({__name:"TablePools",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const{t:s}=F(),o=t,n=Pe(),l=y(()=>["",{id:"name",label:s("name"),sort:!0},{id:"apr",label:s("apr"),sort:!0,align:"end"},{id:"tvl",label:s("tvl"),sort:!0,align:"end"}]),{sorting:u,onSort:r}=Tt("tvl"),i=y(()=>q.orderBy(n.pools.filter(c=>!uc(c.name)),c=>{switch(u.value.column){case"name":return Me(c.name);case"apr":return Eo(c);case"tvl":return c.tvl;default:return c.tvl}},u.value.order));return(c,m)=>{const d=Y,v=ne,f=U;return g(),P(f,{title:a(s)("title")},{default:w(()=>[_(v,{class:"pools-table",rows:a(i),columns:a(l),sorting:a(u),expanded:c.expanded,onSortColumn:a(r),onSelected:m[0]||(m[0]=h=>o("selected",h))},{row:w(h=>[p("div",null,L(a(Me)(h.item.name)),1),p("div",Zy,[_(d,{value:a(Eo)(h.item)*100,precision:1,type:"percentage"},null,8,["value"])]),p("div",Jy,[_(d,{value:h.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":w(h=>[c.expanded.includes(h.item)?(g(),A("div",e2,[_(a(Yy),{class:"tvl","pool-selected":h.item},null,8,["pool-selected"]),_(a(Xy),{class:"apr","pool-selected":h.item},null,8,["pool-selected"])])):D("",!0)]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function Wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Convex Pools"}},name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Wo=="function"&&Wo(Ar);const t2=R(Ar,[["__scopeId","data-v-54469965"]]);class a2 extends je{async get(){const t=await this.getHost();return this.fetch(`${t}/pool`)}}class s2 extends je{async get(t){const s=await this.getHost();return this.fetch(`${s}/poolsnapshots`,{pool:t.name})}}const o2={class:"pools"},n2={class:"dashboard"},l2=I({__name:"Pools.page",setup(e){let t=!1;const s=new a2(ze()),o=new s2(ze()),n=Pe(),l=ye("pool"),u=xe(),{expanded:r,toggleExpansion:i}=Gt();pe(async()=>{t=!0;const v=await gt(s.get());if(v){const f=v.pools;if(f.sort((h,b)=>b.tvl-h.tvl),n.pools=f.filter(h=>h.tvl>1e3),!t)return;l.value&&m(l.value)}}),ya(()=>{t=!1});const c=async v=>{if(!v||n.snapshots[v.name])return;const f=await gt(o.get(v),500);if(f){const h=f.data.snapshots;n.setSnapshots(v,h)}},m=v=>{const f=$a(v),h=n.pools.find(b=>b.name===f);h&&i(h)&&c(h)},d=async v=>{i(v)&&(c(v),await u.push({name:"convexpools",params:{pool:Me(v.name)}}))};return(v,f)=>(g(),A("div",o2,[p("div",n2,[_(t2,{class:"pools-table",expanded:a(r),onSelected:d},null,8,["expanded"])])]))}}),r2=R(l2,[["__scopeId","data-v-b823e160"]]),i2="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",c2="https://api-py.llama.airforce/convex/v1/platform/revenue";class u2 extends Ae{get(){return this.fetch(c2).then(t=>t.revenue[0])}}class d2 extends Ae{get(){return this.fetch(i2).then(t=>t.revenue)}}const p2=I({__name:"RevenueSources",setup(e){const t=Pe(),{theme:s}=E(K()),o=y(()=>[{source:"CRV",value:t.revenue.totalCrvRevenue},{source:"3CRV",value:t.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:t.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:t.revenue.totalOtherRevenue},{source:"Bribes",value:t.revenue.totalBribeRevenue}]),n=y(()=>{const{colors:r}=s.value;return re(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(i){return Math.round(i).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[r.blue,r.green,r.purple,r.yellow,r.red],labels:o.value.map(i=>i.source)})}),l=y(()=>o.value.map(r=>r.value)),u=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"breakdown-revenue",options:a(n),series:a(l)},null,8,["options","series"])}}}),m2=I({__name:"LPRevenue",setup(e){const t=Pe(),{theme:s}=E(K()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToLpProvidersAmount)},{name:"CVX",data:t.historicalRevenue.map(r=>r.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToLpProvidersAmount)}]),n=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),l=y(()=>{const{colors:r}=s.value;return re(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(i=>i.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.yellow,r.purple],labels:o.value.map(i=>i.name)})}),u=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"lp-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),v2=I({__name:"HolderRevenue",setup(e){const t=Pe(),{theme:s}=E(K()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToCvxStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(r=>r.bribeRevenue)}]),n=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),l=y(()=>{const{colors:r}=s.value;return re(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(i=>i.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.purple,r.red],labels:o.value.map(i=>i.name)})}),u=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"holder-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),_2=I({__name:"HistoricalRevenue",setup(e){const t=Pe(),{theme:s}=E(K()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.totalCrvRevenue)},{name:"FXS",data:t.historicalRevenue.map(r=>r.totalFxsRevenue)},{name:"3CRV",data:t.historicalRevenue.map(r=>r.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(r=>r.bribeRevenue)},{name:"Others",data:t.historicalRevenue.map(r=>r.otherRevenue)}]),n=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),l=y(()=>{const{colors:r}=s.value;return re(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(i=>i.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.purple,r.green,r.red,r.yellow],labels:o.value.map(i=>i.name)})}),u=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"historical-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),h2=I({__name:"LiquidRevenue",setup(e){const t=Pe(),{theme:s}=E(K()),o=y(()=>[{name:"CRV",data:t.historicalRevenue.map(r=>r.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:t.historicalRevenue.map(r=>r.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:t.historicalRevenue.map(r=>r.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(r=>r.fxsRevenueToCvxFxsStakersAmount)}]),n=y(()=>t.historicalRevenue.map(r=>new Date(r.timestamp*1e3))),l=y(()=>{const{colors:r}=s.value;return re(s.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:n.value.map(i=>i.toISOString().split("T")[0])},yaxis:{labels:{formatter:u}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:u}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[r.blue,r.yellow,r.green,r.purple],labels:o.value.map(i=>i.name)})}),u=r=>`$${Q(Math.abs(r),1,"dollar")}${z(r,"dollar")}`;return(r,i)=>{const c=me;return g(),P(c,{class:"liquid-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),f2={class:"summary"},Lr=I({__name:"Summary",setup(e){const{t}=F(),s=Pe(),o=y(()=>s.revenue.totalBribeRevenue+s.revenue.totalThreeCrvRevenueToCvxCrvStakers+s.revenue.totalCrvRevenue+s.revenue.totalFxsRevenue+s.revenue.totalOtherRevenue),n=y(()=>s.revenue.totalCrvRevenueToLpProviders+s.revenue.totalFxsRevenueToLpProviders+s.revenue.totalCvxRevenueToLpProviders),l=y(()=>s.revenue.totalCrvRevenueToPlatform+s.revenue.totalFxsRevenueToPlatform+s.revenue.totalFxsRevenueToCallers+s.revenue.totalOtherRevenue),u=y(()=>s.revenue.totalBribeRevenue+s.revenue.totalCrvRevenueToCvxStakers+s.revenue.totalFxsRevenueToCvxStakers),r=y(()=>s.revenue.totalCrvRevenueToCvxCrvStakers+s.revenue.totalCvxRevenueToCvxCrvStakers+s.revenue.totalFxsRevenueToCvxFxsStakers+s.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(i,c)=>{const m=Y,d=he;return g(),A("div",f2,[_(d,{class:"all-time-revenue",label:a(t)("all-time-revenue"),"has-value":!!a(o)},{default:w(()=>[_(m,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(d,{class:"lp-revenue",label:a(t)("lp-revenue"),"has-value":!!a(n)},{default:w(()=>[_(m,{value:a(n),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(d,{class:"holder",label:a(t)("holder-revenue"),"has-value":!!a(u)},{default:w(()=>[_(m,{value:a(u),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(d,{class:"liquid-revenue",label:a(t)("liquid-revenue"),"has-value":!!a(r)},{default:w(()=>[_(m,{value:a(r),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),_(d,{class:"protocol-revenue",label:a(t)("protocol-revenue"),"has-value":!!a(l)},{default:w(()=>[_(m,{value:a(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function No(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"all-time-revenue":{t:0,b:{t:2,i:[{t:3}],s:"All time total revenue"}},"lp-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for LPs (incl. CVX emissions)"}},"protocol-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue directed to Convex treasury"}},"holder-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for CVX lockers"}},"liquid-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for liquid lockers (cvxCRV, cvxFXS)"}}}})}typeof No=="function"&&No(Lr);const g2=R(Lr,[["__scopeId","data-v-12aa5999"]]),b2={class:"revenue"},y2={class:"revenue-charts"},Tr=I({__name:"Revenue.page",setup(e){const{t}=F(),s=new u2,o=new d2;let n=!1;const l=Pe(),u=V(!1);return fi(async()=>{if(n)return;n=!0,u.value=!0;const r=await s.get();r&&(l.revenue=r);const i=await o.get();i&&(l.historicalRevenue=i),u.value=!1,n=!1}),ya(()=>{n=!1}),(r,i)=>{const c=Qe;return g(),A("div",b2,[p("div",{class:x(["dashboard",{loading:a(u)}])},[a(u)?(g(),P(c,{key:0,class:"spinner"})):D("",!0),p("div",y2,[_(g2,{class:"summary"}),_(p2,{class:"chart-revenue-sources",title:a(t)("revenue-breakdown")},null,8,["title"]),_(_2,{class:"chart-historical-revenue",title:a(t)("revenue-historical")},null,8,["title"]),_(m2,{class:"chart-lp-revenue",title:a(t)("revenue-lp")},null,8,["title"]),_(v2,{class:"chart-holder-revenue",title:a(t)("revenue-holder")},null,8,["title"]),_(h2,{class:"chart-liquid-revenue",title:a(t)("revenue-liquid")},null,8,["title"])])],2)])}}});function Ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"revenue-breakdown":{t:0,b:{t:2,i:[{t:3}],s:"Breakdown of total revenue by source"}},"revenue-lp":{t:0,b:{t:2,i:[{t:3}],s:"Liquidity providers rewards breakdown"}},"revenue-holder":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders rewards breakdown"}},"revenue-historical":{t:0,b:{t:2,i:[{t:3}],s:"Historical total revenue breakdown"}},"revenue-liquid":{t:0,b:{t:2,i:[{t:3}],s:"Liquid lockers rewards breakdown"}}}})}typeof Ho=="function"&&Ho(Tr);const w2=R(Tr,[["__scopeId","data-v-6b254c5a"]]);let ia;function C2(){return ia||(ia=zl({url:"wss://api.defimonitor.com/main"})),ia}class k2{constructor(t,s){this.socket=t,this.transfers$=(s==null?void 0:s.transers$)??hb(t,"NewTransfersUSDC")}subTransfers(){this.socket.emit("connectToUSDCLivestream")}}const _a=new Map,Ir=new gi(void 0);function $2({queryKey:e,queryFn:t,enabled:s,observable:o,setQueryData:n,resetOnSubscribe:l}){const u=Zo(),r=y(()=>JSON.stringify(e.value)),i=y(()=>s.value&&!!o.value),c=j({queryKey:e,queryFn:()=>new Promise((m,d)=>{var f;l&&u.setQueryData(e.value,null);let v=_a.get(r.value);(f=v==null?void 0:v.subscription)==null||f.unsubscribe(),v={subscription:o.value.subscribe({next:h=>{const b=u.getQueryData(e),C=n(b,h);u.setQueryData(e.value,C),m(C)},error:h=>{d(h instanceof Error?h:new Error(String(h)))}}),users:new Set},_a.set(r.value,v),Ir.next(v),t()}),enabled:i,staleTime:1/0});return N(o,async(m,d)=>{d&&m!==d&&await u.invalidateQueries({queryKey:e})}),S2(e,r,i),c}function S2(e,t,s){const o=Zo(),n=q.uniqueId();let l;const u=Ir.subscribe(i=>{l=i,l&&s.value&&l.users.add(n)});N(s,async i=>{i?l&&l.users.add(n):await r()});async function r(){l&&(l.users.delete(n),l.users.size===0&&(l.subscription.unsubscribe(),_a.delete(t.value),await o.invalidateQueries({queryKey:e})))}return ga(async()=>{await r(),u.unsubscribe()}),r}function A2(){const{socket:e,isConnected:t,url:s}=C2(),o=y(()=>e.value?new k2(e.value):null),n=y(()=>["defimonitor-transfers",s.value]);return $2({queryKey:n,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.subTransfers()},enabled:t,observable:y(()=>{var l;return(l=o.value)==null?void 0:l.transfers$}),setQueryData:(l,u)=>[...l??[],...u.transfers.flat()],resetOnSubscribe:!0})}const L2={style:{display:"flex",gap:"1rem"}},T2={class:"hash"},I2=["href"],P2=["href"],R2=["href"],V2=["href"],q2={class:"token"},F2=["href"],D2={class:"end"},M2=["href"],ca=10,Pr=I({__name:"TableTransfers",setup(e){const{t}=F(),{data:s,isFetching:o}=A2(),{relativeTime:n}=Ge(),l=V(""),u=y(()=>q.chain(s.value??[]).filter(v=>{const f=l.value.toLocaleLowerCase().split(" "),h=k=>f.some($=>k.toLocaleLowerCase().includes($)),b=f.length===1?parseFloat(f[0]):NaN,C=isNaN(b)?0:b;return h(v.transferFrom)||h(v.transferTo)||C>0&&v.parsedAmount>=C}).orderBy([v=>v.blockUnixtime,v=>v.positionInBlock],"desc").value()),{page:r,rowsPage:i,onPage:c}=jt(u,ca),m=v=>v<1?v.toFixed(4):v>1e3?v.toFixed(0):v.toFixed(2),d=async v=>{await navigator.clipboard.writeText(v)};return(v,f)=>{const h=Ie,b=Ue,C=we,k=Be,$=ne,S=U;return g(),P(S,{class:"transfers-card",title:a(t)("title"),loading:a(o)},{actions:w(()=>[p("div",L2,[_(h,{modelValue:a(l),"onUpdate:modelValue":f[0]||(f[0]=T=>le(l)?l.value=T:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(u).length>ca?(g(),P(b,{key:0,"items-count":a(u).length,"items-per-page":ca,page:a(r),onPage:a(c)},null,8,["items-count","page","onPage"])):D("",!0)])]),default:w(()=>[_($,{class:"transfers-table",rows:a(i),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}]},{row:w(({item:T})=>[p("div",T2,[p("a",{class:"font-mono",href:`https://etherscan.io/tx/${T.txHash}`,target:"_blank"},L(a(Rc)(T.txHash,10)),9,I2),_(C,{icon:"fas fa-link",onClick:O=>d(T.txHash)},null,8,["onClick"])]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/block/${T.blockNumber}`,target:"_blank"},L(T.blockNumber),9,P2)]),p("div",null,L(T.gasInGwei),1),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/address/${T.transferFrom}`,target:"_blank"},L(a(Se)(T.transferFrom,10)),9,R2)]),p("div",null,[p("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${T.transferTo}`,target:"_blank"},L(a(Se)(T.transferTo,10)),9,V2)]),p("div",null,L(m(T.parsedAmount)),1),p("div",q2,[_(k,{chain:"ethereum",address:T.coinAddress},null,8,["address"]),p("a",{target:"_blank",href:`https://etherscan.io/address/${T.coinAddress}`},L(T.coinSymbol),9,F2)]),p("div",D2,[p("a",{href:`https://etherscan.io/tx/${T.txHash}`,target:"_blank",onClick:f[1]||(f[1]=Te(()=>{},["stop"]))},L(a(n)(T.blockUnixtime)),9,M2)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transfers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Ko=="function"&&Ko(Pr);const x2=R(Pr,[["__scopeId","data-v-a904cc64"]]),B2={class:"transfers"},U2=I({__name:"Transfers",setup(e){return(t,s)=>(g(),A("div",B2,[_(x2,{style:{"grid-area":"transfers"}})]))}}),O2=R(U2,[["__scopeId","data-v-d77940cd"]]),E2={class:"monitor"},W2=I({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:s}=it(["transfers"],"defimonitor");return(o,n)=>{const l=Ee,u=Oe;return g(),A("div",E2,[_(u,{active:a(s),onTab:n[0]||(n[0]=r=>s.value=r.index)},{default:w(()=>[_(l,{header:"Transfers"},{default:w(()=>[(g(),P(ge,null,[a(t)==="transfers"?(g(),P(O2,{key:0})):D("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),N2=R(W2,[["__scopeId","data-v-f9561d29"]]),H2=[{path:"/",component:Mp},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:Sm},{path:"/platform/pools/:chain?",name:"pools",component:pv},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:Fv},{path:"/platform/gauges/old",component:Hv},{path:"/platform/revenue/:tab?",name:"revenue",component:uh},{path:"/platform/crvusd",name:"crvusd",component:cf},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:vg},{path:"/platform/lending/:chain?",name:"llamalend",component:Bg},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:_b},{path:"/platform/monitor",name:"monitor",component:Kb},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:V1},{path:"/dao/proposal/:proposalType/:proposalId",component:D1},{path:"/dao/vefunder",component:dy},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:zy},{path:"/convex/pools/:pool?",name:"convexpools",component:r2},{path:"/convex/revenue",name:"convexrevenue",component:w2},{path:"/defimonitor",name:"defimonitor",component:N2}],K2={titleRoute:"/",menuItems:[{label:"Articles",url:"https://blog.curvemonitor.com/"},{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]};let Rr="http://localhost:8545";Rr=void 0;const z2=bi({chains:[ft],connectors:[Na(),yi({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),wi(),Ci()],transports:{[ft.id]:ki([Ha(Rr,{batch:{wait:100}}),$i(Na),Ha("https://eth.llamarpc.com",{batch:{wait:200}})])}});function Q2(e){const t=Si(e),s=Ai({legacy:!1,locale:"en",fallbackLocale:"en"});t.use(s);const o=Li();t.use(o);const n=new Ti({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ii}},queryCache:new Pi({onError:(l,u)=>{l.message.includes("Connector not connected")||l.message.includes("connector2.getAccounts is not a function")||l.message.includes("getAccounts is not a function")||Re({text:`Failed querying ${u.queryHash} >>> ${l.message}`,type:"error"})}})});return t.use(Ri).use(Vi,{queryClient:n}).use(qi).use(Fi,{config:z2}),{app:t,pinia:o}}const{app:j2}=Q2(Xu),G2=[K2],X2=[H2],Vr=La();Vr.pages=G2;Vr.routes=X2;const Y2=yd();j2.use(Y2).mount("#app");

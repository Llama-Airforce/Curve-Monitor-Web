import{o as g,c as A,p as pe,a as me,b as m,d as P,e as I,n as U,f as O,r as ae,g as z,t as T,w as C,h as v,T as Fr,F as oe,i as ve,j as ma,k as yt,l as R,u as Oe,m as lt,q as a,V as Dr,s as xr,v as Mr,x as Br,y as D,z as Or,D as Re,A as va,B as w,C as B,E as Ur,G as Er,H as Wr,I as ft,J as Eo,K as Te,L as x,M as Wo,N as he,O as _a,P as Ot,Q as Hr,R as Kr,S as Nr,U as zr,W as Se,X as Ho,Y as Qr,Z as jr,_ as Qe,$ as wt,a0 as Z,a1 as Jt,a2 as K,a3 as ue,a4 as Gr,a5 as Xr,a6 as Yr,a7 as Zr,a8 as Ut,a9 as _e,aa as Jr,ab as ei,ac as Ce,ad as Et,ae as ti,af as ha,ag as ai,ah as H,ai as ye,aj as fa,ak as Ko,al as Bt,am as ni,an as oi,ao as si,ap as li,aq as ri,ar as ht,as as Ma,at as Ba,au as ba,av as ga,aw as ii,ax as No,ay as zo,az as Oa,aA as ci,aB as ui,aC as di,aD as Qo,aE as pi,aF as Ua,aG as mi,aH as vi,aI as _i,aJ as hi,aK as Ea,aL as fi,aM as bi,aN as gi,aO as yi,aP as wi,aQ as Ci,aR as $i,aS as ki,aT as Si,aU as Li,aV as Ai}from"./vendor-DhXnIlGH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();const V=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n},Ti={},jo=e=>(pe("data-v-ad2adcec"),e=e(),me(),e),Pi={class:"lds-ripple"},Ii=jo(()=>m("div",null,null,-1)),Vi=jo(()=>m("div",null,null,-1)),Ri=[Ii,Vi];function qi(e,t){return g(),A("div",Pi,Ri)}const Ge=V(Ti,[["render",qi],["__scopeId","data-v-ad2adcec"]]),Fi=["inert"],Di={key:0,class:"title"},xi=P({__name:"Card",props:{title:{default:""},icon:{default:""},compact:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},loading:{type:Boolean,default:null}},setup(e){return(t,n)=>{const o=Ge;return g(),A("div",{class:U(["card",{loading:t.loading}]),inert:!!t.loading},[t.loading!==null?(g(),I(o,{key:0,class:U(["loader",{loading:t.loading}])},null,8,["class"])):O("",!0),t.title||t.$slots.title||t.$slots.actions?(g(),A("div",{key:1,class:U(["card-header",{collapsible:t.collapsible}])},[ae(t.$slots,"title",{},()=>[t.title?(g(),A("div",Di,[t.icon?(g(),A("i",{key:0,class:U(["icon",t.icon])},null,2)):O("",!0),z(" "+T(t.title),1)])):O("",!0)],!0),ae(t.$slots,"actions",{},void 0,!0)],2)):(g(),A("div",{key:2,class:U(["card-no-header",{compact:t.compact}])},null,2)),m("div",{class:U(["card-body",{compact:t.compact,collapsed:t.collapsed}])},[ae(t.$slots,"default",{},void 0,!0)],2)],10,Fi)}}}),W=V(xi,[["__scopeId","data-v-34217620"]]),Mi={key:0,class:"fas fa-chevron-right"},Bi=P({__name:"Breadcrumb",props:{crumbs:{},active:{}},emits:["crumb"],setup(e,{emit:t}){const n=t,o=l=>{var i;const c=e.active?e.active.id===l.id:((i=e.crumbs.filter(r=>!r.hint).at(-1))==null?void 0:i.id)===l.id;return l.hint??c},s=l=>{var c;return((c=e.crumbs.at(-1))==null?void 0:c.id)===l.id};return(l,c)=>{const i=W;return g(),I(i,null,{default:C(()=>[v(Fr,{name:"fade",tag:"ul"},{default:C(()=>[(g(!0),A(oe,null,ve(l.crumbs,r=>(g(),A("li",{key:r.id},[(g(),I(ma(o(r)?"span":"a"),{class:U({active:o(r),hint:r.hint}),onClick:u=>n("crumb",r)},{default:C(()=>[z(T(r.label),1)]),_:2},1032,["class","onClick"])),!s(r)||l.crumbs.length===1?(g(),A("i",Mi)):O("",!0)]))),128))]),_:1})]),_:1})}}}),Oi=V(Bi,[["__scopeId","data-v-1c1116d3"]]),De=yt("breadcrumbStore",()=>{const e=R([]),t=R(!1);return{crumbs:e,show:t}}),Ui=e=>(pe("data-v-a9017ae5"),e=e(),me(),e),Ei={class:"root"},Wi={class:"toolbar-container"},Hi=Ui(()=>m("div",{id:"toolbar",class:"toolbar-teleport"},null,-1)),Ki={class:"content"},Ni=P({__name:"Layout",setup(e){const t=De(),n=Oe(),o=async s=>{s.pathName&&await n.push({name:s.pathName,...s.params&&{params:s.params()}})};return(s,l)=>{const c=lt("notifications"),i=Oi,r=lt("router-view");return g(),A("div",Ei,[v(c,{width:600,duration:-1}),v(a(Dr)),ae(s.$slots,"navigation",{},void 0,!0),m("main",null,[m("div",Wi,[a(t).show?(g(),I(i,{key:0,class:"breadcrumb",crumbs:a(t).crumbs,onCrumb:o},null,8,["crumbs"])):O("",!0),Hi]),m("div",Ki,[v(r,null,{default:C(({Component:u})=>[v(xr,{name:"fade",mode:"out-in"},{default:C(()=>[(g(),I(ma(u)))]),_:2},1024)]),_:1})])])])}}}),zi=V(Ni,[["__scopeId","data-v-a9017ae5"]]),Qi={class:"collapsible-inside"},ji=P({__name:"Collapsible",props:{expanded:{type:Boolean,default:!0}},setup(e){return(t,n)=>(g(),A("div",{class:U(["collapsible-outside",{expanded:t.expanded}])},[m("div",Qi,[ae(t.$slots,"default",{},void 0,!0)])],2))}}),Ct=V(ji,[["__scopeId","data-v-25b74378"]]),Gi={class:"badge"},Xi={class:"label"},Yi=P({__name:"Badge",props:{label:{default:""}},setup(e){return(t,n)=>(g(),A("div",Gi,[m("div",Xi,T(t.label),1)]))}}),Zi=V(Yi,[["__scopeId","data-v-79abf25e"]]);function Rt(e){return(e==null?void 0:e.children)!==void 0}function Wa(e){return(e==null?void 0:e.to)!==void 0}function Ji(e,t,n){return e.reduce((o,s)=>({...o,[t(s)]:n(s)}),{})}function ec(e){return e!=null}function tc(e){function t(_){return _<10?"0"+_.toString():_.toString()}const n=e.getTime()-new Date().getTime();if(n<=0)return"00:00:00:00";const o=1e3,s=o*60,l=s*60,c=l*24,i=Math.floor(n/c),r=Math.floor(n%c/l),u=Math.floor(n%l/s),p=Math.floor(n%s/o);return t(i)+":"+t(r)+":"+t(u)+":"+t(p)}function Ne(e,t=0,n=".",o=","){const s=isFinite(+e)?+e:0,l=isFinite(+t)?Math.abs(t):0,c=typeof o>"u"?",":o,i=typeof n>"u"?".":n,r=function(p,_){const d=Math.pow(10,_);return Math.round(p*d)/d},u=(l?r(s,l):Math.round(s)).toString().split(".");return u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(u[1]||"").length<l&&(u[1]=u[1]||"",u[1]+=new Array(l-u[1].length+1).join("0")),u.join(i)}function X(e,t){const n=Math.abs(e);return t==="percentage"?"%":t==="dollar"?n>=1*10**12?"t":n>=1*10**9?"b":n>=1*10**6?"m":n>=1*10**3?"k":"":""}function Y(e,t,n){const o=Math.abs(e);return t===1/0?e.toLocaleString():n==="percentage"?Ne(e,t):n==="dollar"?o>=1*10**12?Ne(e/10**12,t):o>=1*10**9?Ne(e/10**9,t):o>=1*10**6?Ne(e/10**6,t):o>=1*10**3?Ne(e/10**3,t):Ne(e,t):e.toString()}function ze(e){return Number(e.toFixed(e>100?0:2)).toLocaleString()}function Me(e,t){return parseFloat(Mr(e,Number(t)))}function ya(e,t){const n=Number(t),o=Number.isInteger(e)?e.toString():e.toFixed(n);return Br(o,n)}async function Go(e,t=0,n=1e3){const o=await e(t,n),s=await(o.length>=n?Go(e,t+1,n):Promise.resolve([]));return o.concat(s)}const Xo={"Curve.fi Factory USD Metapool: Magic Internet Money 3Pool":"mim","Curve.fi Factory Plain Pool: cvxCRV":"cvxcrv","Curve.fi Factory Plain Pool: ibJPY-sJPY":"ibJPY/sJPY","Curve.fi Factory Plain Pool: ibGBP-sGBP":"ibGBP/sGBP","Curve.fi Factory Plain Pool: ibAUD-sAUD":"ibAUD/sAUD","Curve.fi Factory Plain Pool: ibEUR-sEUR":"ibEUR/sEUR","Curve.fi Factory Plain Pool: ibCHF-sCHF":"ibCHF/sCHF","Curve.fi Factory Plain Pool: ibKRW-sKRW":"ibKRW/sKRW",ib:"ironbank",aeth:"ankreth","Curve.fi Factory USD Metapool: USDM":"usdm","Curve.fi Factory Plain Pool: Neutrino EUR":"eurn","Curve.fi Factory Pool: alETH":"aleth","Curve.fi Factory Plain Pool: MIM-UST":"mim-ust","Curve.fi Factory BTC Metapool: ibBTCT":"ibBTCT","Curve.fi Factory USD Metapool: Paxos Dollar (USDP)":"paxos-dollar","Curve.fi Factory Plain Pool: d3pool":"d3pool","Curve.fi Factory USD Metapool: Origin Dollar":"ousd","Curve.fi Factory USD Metapool: wormhole v2 UST-3Pool":"wormhole-ust","Curve.fi Factory BTC Metapool: ibBTC":"ibBTC","Curve.fi Factory Plain Pool: 3EURpool":"3eur-pool","Curve EURS-USDC":"eursusdc","Curve EURT-3Crv":"eurtusd","Curve CVX-ETH":"cvx","Curve CRV-ETH":"crv",RAI3CRV:"rai","Curve XAUT-3Crv":"xaut","Curve.fi Factory USD Metapool: DOLA-3pool Curve LP":"dola","Curve T-ETH":"teth","Curve.fi Factory Crypto Pool: YFI-ETH":"yfieth","Curve SPELL-ETH":"spelleth","Curve.fi Factory Crypto Pool: FXS-ETH":"fxseth","Curve.fi Factory USD Metapool: FEI Metapool":"FEI Metapool","Curve.fi Factory Plain Pool: agEUR-ibEUR":"agEUR/ibEUR","Curve.fi Factory BTC Metapool: tbtc2":"tbtc2"},ea=["tricrypto","usdm"];function Be(e){const t=Xo[e];return t||e}function wa(e){const t=D.invert(Xo)[e];return t||e}function ac(e){return!!(ea.find(t=>t===e)??ea.find(t=>t===Be(e))??ea.find(t=>t===wa(e)))}async function bt(e,t=250){const n=new Promise(s=>setTimeout(()=>{s(null)},t)),[,o]=await Promise.all([n,e]);return o}function ua(e,t){return(Array.isArray(e)?e:[e]).some(o=>t.path.startsWith(o))}const Yo="0x9bc7c6ad7e7cf3a6fcb58fb21e27752ac1e53f99",Ha="0x62b9c7356a2dc64a1969e19c23e4f579f9810aa7",Zo="0x696B5D296a8AeF7482B726FCf0616E32fe72A53d",Jo="0x2f50d538606fa9edd2b11e2446beb18c9d5846bb",Ye="0xe478de485ad2fe566d49342cbd03e49ed7db3356",nc="0xadd2f542f9ff06405fabf8cae4a74bd0fe29c673",oc=[{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountExtraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"accountRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"},{internalType:"uint256",name:"_priceOfReward",type:"uint256"},{internalType:"uint256",name:"_priceOfDeposit",type:"uint256"}],name:"apr",outputs:[{internalType:"uint256",name:"_apr",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"extraRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"mainRewardRates",outputs:[{internalType:"address[]",name:"tokens",type:"address[]"},{internalType:"uint256[]",name:"rates",type:"uint256[]"},{internalType:"uint256[]",name:"groups",type:"uint256[]"}],stateMutability:"view",type:"function"}],sc={laf:"https://api.llama.airforce",cb:void 0,cm:"https://api2.curvemonitor.com",pm:void 0,"pm-lrt":void 0};class lc extends Error{constructor(t,n){super(n),this.status=t}}async function rc(e,t,n){try{const o=await fetch(e,{method:t?"POST":"GET",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t),signal:n});if(o.ok)return o;throw new lc(o.status,`Fetch error ${o.status} for URL: ${e}`)}catch(o){throw o instanceof Error?o:new Error("Unknown fetch error")}}async function ic(e,t,n){return await(await rc(e,t,n)).json()}class Ae{async fetch(t,n,o){return ic(t,n,o)}}class Xe extends Ae{constructor(t){super(),this.host=t}async getHost(){return await this.host}}class es extends Ae{async getPrice(t){const n=`ethereum:${t}`;return this.fetch(`https://coins.llama.fi/prices/current/${n}`).then(o=>o.coins[n])}async getPrices(t){const n=t.map(o=>`ethereum:${o}`).join(",");return this.fetch(`https://coins.llama.fi/prices/current/${n}`).then(o=>o.coins)}}async function cc(e,t,n){const o=Or({abi:oc,address:nc,client:e}),s=await o.read.mainRewardRates().then(([_,d])=>D.zip(_,d)),l=await o.read.extraRewardRates().then(([_,d])=>D.zip(_,d)),c=D.chain(s).concat(l).filter(_=>_[1]>0).groupBy(_=>_[0]).map((_,d)=>({address:d,rate:_.reduce((f,h)=>f+h[1],BigInt(0))})).value(),i=D.chain(c).map(_=>_.address).concat([Ha]).uniq().value(),r=await t.getPrices(i).then(_=>Ji(Object.keys(_).map(d=>({address:d.replace("ethereum:","").toLocaleLowerCase(),price:_[d].price})),d=>d.address,d=>ya(d.price,18n))),u=[],p=r[Ha];for(const _ of c){const d=await o.read.apr([_.rate,r[_.address.toLocaleLowerCase()],p]),f=Me(d,18n);u.push(f)}return u}function xt(e){return e instanceof Error?e.message.includes("Exchange resulted in fewer coins than expected")||e.message.includes("Slippage")?"Transaction failed because slippage was set too low. A slight increase of one or two percent could help, but don't make it too high to ensure your protection. We also highly recommend using MEVBlocker for extra safety.":e.message.includes("HTTP request failed")&&e.message.includes("eth_call")?"The RPC returned an error, probably a rate-limit. Try again layer or try a different wallet.":e.message:JSON.stringify(e)}async function ts(e,t){e.value=!0;try{return await t()}catch(n){Re({text:xt(n),type:"error"});return}finally{e.value=!1}}const uc={key:0},dc={class:"nav-link-container"},pc={class:"nav-link-container"},mc={class:"left"},vc={key:0,class:"icon"},_c={class:"right"},hc=P({__name:"MenuItem",props:{item:{}},emits:["navigated"],setup(e,{emit:t}){const n=t,o=va(),s=R(!0),l=w(()=>Wa(e.item)?[e.item]:Rt(e.item)?e.item.children:[]),c=()=>{Rt(e.item)&&e.item.children.filter(p=>ua(p.to,o)).length>0&&(s.value=!0)},i=u=>typeof u.label=="string"?u.label:u.label();B(()=>e.item,u=>{Rt(u)&&(s.value=!u.initCollapsed),c()},{immediate:!0}),B(()=>o.fullPath,()=>{c()},{immediate:!0});const r=()=>{s.value=!s.value};return(u,p)=>{const _=Zi,d=lt("router-link"),f=Ct;return g(),A(oe,null,[a(Rt)(u.item)?(g(),A("li",uc,[m("a",{class:"nav-link node",onClick:r},[m("div",dc,[z(T(u.item.label)+" ",1),m("i",{class:U(["expander fas fa-chevron-up",{expanded:a(s)}])},null,2)])])])):O("",!0),v(f,{class:"items",expanded:a(s)},{default:C(()=>[m("ul",null,[(g(!0),A(oe,null,ve(a(l),h=>(g(),A("li",{key:i(h)},[a(Wa)(h)?(g(),I(d,{key:0,to:h.to,class:U(["nav-link leaf",{"router-link-active":a(ua)(h.to,a(o))}]),onClick:p[0]||(p[0]=b=>n("navigated"))},{default:C(()=>[m("div",pc,[m("div",mc,[h.icon?(g(),A("div",vc,[m("i",{class:U(h.icon)},null,2)])):O("",!0),z(" "+T(i(h)),1)]),m("div",_c,[h.tag?(g(),I(_,{key:0,label:h.tag},null,8,["label"])):O("",!0)])])]),_:2},1032,["to","class"])):O("",!0)]))),128))])]),_:1},8,["expanded"])],64)}}}),fc=V(hc,[["__scopeId","data-v-35101021"]]),bc=P({__name:"Menu",props:{pages:{default:()=>[]}},emits:["navigated"],setup(e,{emit:t}){const n=t,o=va(),s=w(()=>e.pages.find(i=>ua(i.titleRoute,o))),l=w(()=>{var i;return((i=s.value)==null?void 0:i.menuItems)??[]}),c=i=>typeof i.label=="string"?i.label:i.label();return(i,r)=>(g(),A("nav",null,[(g(!0),A(oe,null,ve(a(l),u=>(g(),A("ul",{key:c(u)},[v(fc,{item:u,onNavigated:r[0]||(r[0]=p=>n("navigated"))},null,8,["item"])]))),128))]))}}),gc=V(bc,[["__scopeId","data-v-c045c67c"]]);function $t(){const{address:e,isConnected:t,chainId:n}=Ur(),o=Er(),s=w(()=>o.data.value&&e.value?e.value.toLocaleLowerCase():void 0),l=w(()=>{switch(n.value){case ft.id:return"ethereum";case Wr.id:return"base";default:return}});return{isConnected:t,network:l,address:s}}function Le(e,t=6){if(!e)return"0x000...000";const n=t/2+2,o=e.length-t/2;return`${e.substring(0,n)}...${e.substring(o)}`}function yc(e,t=6){if(!e)return"0x000";const n=Math.min(e.length,t+2);return e.length>n?`${e.substring(0,n)}...`:e}const wc=P({__name:"Button",props:{icon:{default:""},value:{default:""},primary:{type:Boolean,default:!1},web3:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=t,{network:o}=$t(),{switchChain:s}=Eo(),l=c=>{c.stopImmediatePropagation(),e.web3&&o.value!=="ethereum"&&s({chainId:ft.id}),n("click")};return(c,i)=>(g(),A("button",{class:U({primary:c.primary}),onClick:l},[ae(c.$slots,"default",{},()=>[c.icon?(g(),A("i",{key:0,class:U(["icon",[c.icon,{noValue:!!c.value}]])},null,2)):O("",!0),z(" "+T(c.value),1)],!0)],2))}}),$e=V(wc,[["__scopeId","data-v-a01f98b9"]]),Cc="/assets/crv-CKEIQw2g.png",$c="/assets/hat-D1qfnSjv.png",kc={},as=e=>(pe("data-v-873449c5"),e=e(),me(),e),Sc={class:"logo"},Lc=as(()=>m("div",{class:"visual"},[m("img",{src:Cc}),m("img",{src:$c})],-1)),Ac=as(()=>m("span",null,"curve.monitor",-1)),Tc=[Lc,Ac];function Pc(e,t){return g(),A("div",Sc,Tc)}const Ic=V(kc,[["render",Pc],["__scopeId","data-v-873449c5"]]),Vc={class:"header"},Rc={class:"buttons"},qc=P({__name:"Header",emits:["toggle-expansion","navigated"],setup(e,{emit:t}){const n=t;return(o,s)=>{const l=lt("router-link"),c=$e;return g(),A("div",Vc,[v(l,{class:"logo",to:"/",onClick:s[0]||(s[0]=i=>n("navigated"))},{default:C(()=>[v(Ic,{class:"logo"})]),_:1}),m("div",Rc,[v(c,{icon:"fas fa-bars",onClick:s[1]||(s[1]=i=>n("toggle-expansion"))})])])}}}),Fc=V(qc,[["__scopeId","data-v-edc55270"]]),Dc=e=>(pe("data-v-9d368235"),e=e(),me(),e),xc={class:"select"},Mc={class:"item"},Bc={key:0,class:"label"},Oc=["onClick"],Uc=Dc(()=>m("div",{class:"chevrons"},[m("i",{class:"fas fa-chevron-up"}),m("i",{class:"fas fa-chevron-down"})],-1)),Ec=P({__name:"Select",props:{options:{default:()=>[]},open:{type:Boolean,default:!1},selected:{default:null},label:{}},emits:["open","close","input"],setup(e,{emit:t}){const n=t;return(o,s)=>(g(),A("div",{class:"select-container",tabindex:"0",onClick:s[0]||(s[0]=Te(l=>n("open"),["stop"])),onBlur:s[1]||(s[1]=l=>n("close"))},[m("div",xc,[m("div",{class:U(["selected",{open:o.open}])},[ae(o.$slots,"item",{item:o.selected},()=>[m("div",Mc,T(o.selected),1)],!0),o.label?(g(),A("div",Bc,T(o.label),1)):O("",!0)],2),m("div",{class:U(["items",{selectHide:!o.open}])},[(g(!0),A(oe,null,ve(o.options,(l,c)=>(g(),A("div",{key:c,onClick:i=>n("input",l)},[ae(o.$slots,"item",{item:l},()=>[z(T(l),1)],!0)],8,Oc))),128))],2)]),Uc],32))}}),kt=V(Ec,[["__scopeId","data-v-9d368235"]]),Wc=["en","zh","fr"],Hc={class:"item"},Kc={class:"label"},Nc="locale",ns=P({__name:"SelectLanguage",props:{locales:{default:()=>Wc},direction:{default:"up"}},setup(e){const{t}=x(),n=Wo(Nc,"en"),{locale:o}=x({useScope:"global"});he(()=>{c(n.value)});const s=R(!1),l=()=>{s.value=!s.value},c=i=>{n.value=i,o.value=n.value};return(i,r)=>{const u=kt;return g(),I(u,{class:U(["select",{"direction-up":i.direction==="up"}]),options:i.locales.map(p=>p),selected:a(n),open:a(s),onOpen:l,onClose:r[0]||(r[0]=p=>s.value=!1),onInput:c},{item:C(p=>[m("div",Hc,[m("div",Kc,T(a(t)(p.item)),1)])]),_:1},8,["class","options","selected","open"])}}});function Ka(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{en:{t:0,b:{t:2,i:[{t:3}],s:"English"}},zh:{t:0,b:{t:2,i:[{t:3}],s:"中文"}},fr:{t:0,b:{t:2,i:[{t:3}],s:"Français"}}}})}typeof Ka=="function"&&Ka(ns);const zc=V(ns,[["__scopeId","data-v-1e04f93c"]]),Qc={key:0,class:"modal"},jc={class:"modal-popup"},Gc=P({__name:"Modal",props:{show:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:t}){const n=t,o=s=>{s.code==="Escape"&&n("close")};return he(()=>{document.addEventListener("keydown",o)}),_a(()=>{document.removeEventListener("keydown",o)}),B(()=>e.show,s=>{document.body.style.overflow=s?"hidden":""}),(s,l)=>(g(),I(Ot,{to:"body"},[s.show?(g(),A("div",Qc,[m("div",{class:"modal-mask",onClick:l[0]||(l[0]=c=>n("close"))}),m("div",jc,[ae(s.$slots,"default",{},void 0,!0)])])):O("",!0)]))}}),Ca=V(Gc,[["__scopeId","data-v-b0df9b35"]]),Xc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTM0A1t6AAACSklEQVRIS7WVTUhUURTHT4sWgZS4aNFGSgqTmUqiKNAoFMWhqbQ2gX1BGdKUChW1EEqiULEsDNSFOBJiaZHQ9EE1pGik6DAzYYsUochFoEExCIGPf/e8e4d5b+ZJb4bxwm/x3j3n/O69j3cPidEomF4hOgU0/Wec8DeUZoIEUfuXLuAXnVcJBx2Ery8I+JIac+8JblGjpVo+mwQ8ceUI4e6FWMLPYXvwajm+t4FQVUQozrEQ8MpbPXJ7PFldStiTtwWufQX/xZFJ+D1G0KYID2sJ4QELAb+IwsWv11yE3THs98OpJMY6loLvbwkF2xwqVY6O+62oO3/OxLVLHkQiERUBdLe349YZG4JvbwgVJcUqDQhOTmB/NmGky0yL+FYsio6Xg4NoOJ2CYGx0FB6XOZEJ9ImjPHVCRSUp2JSVibbmJp3aqrOWgk89KQoWJwneejPhp3LuQQ1hcxZhV85q7MjOQCgQUOUB3/Nn9gTLwcXLiwqhaZoqGRsL8/PYup4QFMdmzLEt+PGOkL9xg6n4x6EhPO7xos/r1YuPP0rMsy2Y8REqD7tVaWAqHIJznfwxmeiPFU/KgpEPflyusI41kpRg7SrCyaPlOgd25qdXsBgg+O6ZmX1lHWvEtoB3kCF2cNzt0inc7kj/ERm/AV9uSQu4WfTeJCyJKzc+kAVriHCsrERnb16upUATPLkdOz6T4JBTNos2cZ/HJy59lgswEplIjBu4I45x9zINhzsZT4T6ExPtMvta1rhRKZ9jAtXy0k1U0CFYWBmo/x+ShmnKzYg0NQAAAABJRU5ErkJggg==",Yc={key:1,src:Xc},Zc=P({__name:"Tooltip",props:{icon:{default:""}},emits:["show"],setup(e,{emit:t}){const n=t,o=R(!1);return B(o,s=>n("show",s)),(s,l)=>(g(),I(a(Hr),{class:"tooltip",show:a(o)},{content:C(()=>[ae(s.$slots,"default",{},void 0,!0)]),default:C(()=>[m("div",{onMouseover:l[0]||(l[0]=c=>o.value=!0),onMouseleave:l[1]||(l[1]=c=>o.value=!1)},[ae(s.$slots,"item",{},()=>[s.icon?(g(),A("i",{key:0,class:U(s.icon)},null,2)):(g(),A("img",Yc))],!0)],32)]),_:3},8,["show"]))}}),Wt=V(Zc,[["__scopeId","data-v-ee2caf15"]]),Jc="/assets/injected-DW80ouY-.webp",eu="/assets/rabby-CG__llS3.svg",tu="/assets/walletconnect-BCBhrtde.webp",au="/assets/coinbase-CsqSq8Nj.webp",nu="data:image/webp;base64,UklGRuIJAABXRUJQVlA4INYJAABQTwCdASqQAZABPkkgi0WioYlv2BQCQllbuFzQQgaf+g1rnpf5Gfur/ouv54K8GftNl2/Iv+A/Lv+3/Az1Ffcz7gf6Qf4LqV+YD+Z/2j/X/5v3gP83/o/ap6AH6q9aL6AH6semp+ynwiftr+y3s0/f/sx/jj/K9rf94xtMRTr//O/0r3AdkOwdvIcINKVNH8k/1iFbtMZi3As2twLNrcCza3As2twLNrcCza3As2twLNrcCza3As2tv86K1Sn/lbircVbircVbircVvo+IuhKkUafH59MV0gaw7C4+BzmPvHSW19fTgrGhKkSavYZD9pi/odhBF0JUijT47/hKMBg+fEb2gVzAs2tv88VcYiCllb49nsYQU1OCoBuAYWxJTK6cAvmfF6ToV7TGYkChDXyhoIkIRefRbJzvwLNrcCgnFP2Q/qkUafZFGn2P2US1ujrAirQMy1GK9Rjtp3BWNCVIkguMYjQL8M0GC7rHYbpNhf7Pw/cNK9pjMW4InVWnB4X/Kux77oDrFRGA+nT9H3cLoHzKdTqvBI0ZmiFTZzgrGhe7JLHUqtRM0GoBm2fCx0NugEP4Rn0lYykUafZFEMb9XAMGmNg8NzQm1BviRj+a6sMp+fEqfnxKtY/jPIfd/PiVPz4lT89GHSxN0ChpiKYqCfZSKNPr0Cy/vRpI4ZobI5q9FrQ7HbiAYSfscvCdtHiI1LF0afZFEPlvIHHNrbK+oZB6WMmD/NwLNpR9oFY0HwmFm1uBZtZ4tcDAyFpj3As2s8cdym6UbW4Fm1uBPk2pFmhsjmr0Xk0kBP/PGNCVIo0+yKNPsijT7Io0+yKNPsijT7Io0+yKNPsijT7Io0+yKNNwAP7+Aa32O9NQP//+aiQ85uGbqX8qAMi2gBYHvABBejSCKVRwlwknSwekmWw/oN2DsM0EyRQhkdL8kDDzLGrtwD6vLGeABMYegTk2Uhde+N7ONK/joLprkk/CDZQKaf54kh4UalPgPeBRnphxNDfOSDkDVCjac4840+IEuJYs5IkjOs6sImPzP0b8iCttGKBb+kij60c3ifxYrl/3Xv0hjWIIbeyJ2o61OrdedMz7G8Y+V4d9G9FLwH4MaY8Y8GCnyJMfxZ/ULhYb9VE+x6juTHAyXvX0FlIEFkNBTxfTwLvKkP+0UCZqgugNIBLQog7iPFBonuG3MFiSKD6lVo+qTy4vaslgcrz/GSqAwXnyPxj6CxBfLlZb0ij+0uKoaIGm9ZUEFPEaXdz+BeVqg1I/os1mC7iKu5/rbDGjzB6c3akCTpY0OHZ4wR5PSRELDEuHkb6phpM+RGlLuVN8v26i5wH2ak8KmhBqp3SL8shBam1arJwsvNX69fdGsJSjMBX5NQZZCENAuE9vUvdMwSfJz9D3nS3aDmtVmxKjE6qy0Qsdtpcp0jWe1gU46CQbpsIDYqafR7LzcRxMTEoEGE5H8xdsFKPU/KG3jtjtylNoYQiqmdXcQokdTTxrjLzdzwWB9RiSKFM5v22/GI09Yr8fYSBKmGyQbaBUor/bu578Nm9OI5RhfMKnO09YxqD3x0/cTv53sZVEU7c/jELa5JY+uFXVME91SWsLQOTI63bx+3BV8gt7fCiHffGMMr4/SLihamFOtV+QYZUWHd5XuLXKEQTNG9GCtDao7iJVnWLlxqfnhP5kn54xJCx/gADSvAEDQwIomE3NQANF6/ZkVDu/MVcXcHOw8c3bGk+vuhT6f3Tr4NnUPPpa8+hG7YsyedNHK7l4qjvRnFSDhXEhuLq0Ah9hv8Sdlo1R6Sn/Ag112n1U82sWkpSk5IU6PdNFfaBXK8GR7C2Nm/KMWhnQ9pELP9TVr2XpJfuLJOB4Ttqh2aro90aus+ZPOyTlimgP8jVgUzy5hdO9HMwCPjxHGeyTJKQlxScBGPnU1PjBEgEyOWts0CE8V9x7E1+ee3gjyOCiDLhnYELTSKgdhhCbsf6NMjutWZ5XL1O/+Dd06WT62e38YKgGhhGBI07PXacDqA/XTdThkPYNCOFF26Dz2HMCt2/9Rel4gnmQKJjVIQLnEZeF2Nka2MsRuKmjNAAvaWTbVZe91xRYaCd2ml43cOr1YfxmlJ9hCpBPUZIkE6u07L8owldqs4TigKOZK0I7sng62s8U95/t3/oo6sA2eUUmedjAefrskjQjH5qsbhLJyesMEv9jxGV+GOtLyrtsxaWkPNcHBXXj3iZYGxZN6nIcLqaLlHPLPMnZjQQ8BojhDnKHz1lXMfMEHFe4hkgIyYE4KANL9hLLuv69qnxteZIG9m41ampmUsQlEpx3GFeIMX682UDHk1MHDLGoacoeaYSvz5rZF/WWYAlwl0nsB6gkKRihBrxfbKRJWbOQkodXo9nFAHN55srKEDIkskmsFAhtB8JlWPNfjOILKEFwQ2+LTmoG1KLs/Z6ltBt5TvPtEPzcGsLhbjXYk9Mnx7fWMkjrXZ+E0zX38b3zr9OjFrbOf+GZeo0PLtD+ZxcjEf5XqHI+ptX1Sj9yt27SwlUh2Pc9+QHOag7bIYxKtmp8wV39OP8RJb8Ag5x7IAXkgCSOxdcjFb0PKVaxWKyHQJf68yCmeyzp5vGQ/z1Mxgo8CmZl3OKn0onEfx2GWQgRCFQd7t5jx6j0JEET/agi2LjNP2FvxLe3d+6VlTrs+AGqrBPrK1v4bLgqvYwdPUgwDkeJ1gY/y+d4AuoSo8tkciHJQ/RQ//G0yHoqE/HoH6QfVTaZaXR68fqHs6uCDKayag/cIlpHpr31w1QBHu17ohviYmrFjwJ16jGU5hvY+wfq2w1s20oI9emMn0GkxN5IYpm57T8e0ntXyu1xKfsokhV+HWRUF3uC+mZHMVKCT194/Gz2DVqRfi3W8wvYwilf/bWjHFksIGs3HEaW+hESm6ciT3tfLhohZB9NnVtHS/aUk39m9cNCfFx/zzHzqZXOfLrSs0+rfugDRzcz7/vP93ksdi0Ks8xLNInhwkKzmmG8Dbyvw9p1osUJ/jxCjQtG1DxDBJIkD8AWIHnzPVugs+uZ47tknMAEfstIKysdwA/y3uep1Nfl2IZtm6NgIEZfQbTiEbWeXLX5DVgN+wG8TRnpGvH5Bkiuh1OCkaVtDapxLkFplC11AFeIPMSI2lwFalrsCGHC0obfjxkqbNcF3fPXO2KKbMLYG1ub7jWhiwhjMLPPPp2bzQPV89uu2MW0ZwcPPg7FzufEJPxJ/0RNeHAtpWafTVSeYerO76P+whWDfkOsC0UpaqMIceALU2CB+bc66l6aRePCvq+JW5q6SQYanHeHkhKZKiShTc7zKkksZXIyuRlcjKaUUkKEFrCTYCBipRk3lgB8IZ24X/CwgQAAAAAAAAAA",ou={class:"buttons"},su={class:"connectors-body"},lu={class:"title"},ru={class:"connectors"},iu=["src"],cu={key:1,class:"empty"},uu={class:"name"},$a=P({__name:"WalletConnectButton",setup(e){const{t}=x(),{connect:n}=Kr(),o=Nr(),s=["injected","walletConnect","coinbaseWalletSDK","safe"],l=w(()=>o.value.filter(p=>s.includes(p.id))),c=R(!1);function i(p){switch(p.id){case"injected":return Jc;case"walletConnect":return tu;case"coinbaseWalletSDK":return au;case"safe":return nu;case"io.rabby":return eu;default:return""}}function r(p){return p.id==="injected"?"Browser Extension":p.name}function u(p){n({connector:p}),c.value=!1}return(p,_)=>{const d=$e,f=W,h=Ca;return g(),A("div",ou,[v(d,{class:"button",primary:!0,onClick:_[0]||(_[0]=b=>c.value=!0)},{default:C(()=>[z(T(a(t)("connect-your-wallet")),1)]),_:1}),O("",!0),v(h,{show:a(c),onClose:_[1]||(_[1]=b=>c.value=!1)},{default:C(()=>[v(f,null,{default:C(()=>[m("div",su,[m("div",lu,T(a(t)("connect-your-wallet")),1),m("div",ru,[(g(!0),A(oe,null,ve(a(l),b=>(g(),A("div",{key:b.id,class:"connector"},[v(d,{onClick:y=>u(b)},{default:C(()=>[i(b)?(g(),A("img",{key:0,src:i(b)},null,8,iu)):(g(),A("div",cu)),m("div",uu,T(r(b)),1)]),_:2},1032,["onClick"])]))),128))])])]),_:1})]),_:1},8,["show"])])}}});function Na(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"Connect Wallet"}}}})}function za(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"connect-your-wallet":{t:0,b:{t:2,i:[{t:3}],s:"连接你的钱包"}}}})}typeof Na=="function"&&Na($a);typeof za=="function"&&za($a);const du=V($a,[["__scopeId","data-v-3c15f258"]]),pu={class:"wallet"},mu={key:0,class:"connected"},vu={key:0,class:"unsupportedNetwork"},_u={class:"info"},hu={key:1,class:"notConnected"},fu={key:0,class:"info"},os=P({__name:"Wallet",props:{labelPleaseConnect:{}},setup(e){const{t}=x(),{disconnect:n}=zr(),{isConnected:o,network:s,address:l}=$t(),{switchChain:c}=Eo(),i=w(()=>s.value==="ethereum"),r=()=>c({chainId:ft.id});return(u,p)=>{const _=$e;return g(),A("div",pu,[a(o)?(g(),A("div",mu,[a(i)?O("",!0):(g(),A("div",vu,[v(_,{class:"changeNetwork",value:"Change Network",primary:!0,onClick:r}),m("span",_u,T(a(t)("incorrect-network")),1)])),v(_,{class:"disconnect",icon:"fas fa-check",value:a(Le)(a(l)),onClick:a(n)},null,8,["value","onClick"])])):(g(),A("div",hu,[v(du),u.labelPleaseConnect?(g(),A("span",fu,T(u.labelPleaseConnect),1)):O("",!0)]))])}}});function Qa(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"incorrect-network":{t:0,b:{t:2,i:[{t:3}],s:"You are not on the correct network; should be Ethereum"}}}})}typeof Qa=="function"&&Qa(os);const bu=V(os,[["__scopeId","data-v-610d17cd"]]),tt={blue:"#5a74f6",yellow:"#f6f15a",green:"#5af662",red:"#f65a5a",purple:"#bd5af6",backgroundColor:"#292929",level1:"#292929",level2:"#3c3c3c",level3:"#535353",level4:"#6a6a6a",level5:"#949494",level6:"#aea8af",text:"#ffffff"},gu=[tt.blue,tt.yellow,tt.green,tt.red,tt.purple],at={blue:"#5baefb",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f7f7f7",level1:"#f7f7f7",level2:"#efefef",level3:"#e8e8e8",level4:"#d8d8d8",level5:"#6e6e77",level6:"#212124",text:"#000000"},yu=[at.blue,at.yellow,at.green,at.red,at.purple],nt={blue:"#1a8df9",yellow:"#f9ab1a",green:"#05c70c",red:"#f9341a",purple:"#be1af9",backgroundColor:"#f5f5f5",level1:"#fafafa",level2:"#f2f2f2",level3:"#ebebeb",level4:"#a1a1a1",level5:"#27272a",level6:"#212124",text:"#333333"},wu=[nt.blue,nt.yellow,nt.green,nt.red,nt.purple];function Mt(e){switch(e){case"chad":return nt;case"light":return at;default:return tt}}function Cu(e){switch(e){case"chad":return wu;case"light":return yu;default:return gu}}const Q=yt("settingsStore",()=>{const e=R("light"),t=w(()=>({colors:Mt(e.value),colorsArray:Cu(e.value)}));return{themeId:e,theme:t}}),$u={class:"theme"},ku={class:"label"},Su={class:"colors"},Lu="theme",Au=P({__name:"SelectTheme",setup(e){const t=[{id:"chad",colors:Mt("chad")},{id:"dark",colors:Mt("dark")},{id:"light",colors:Mt("light")}],n=Q(),s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",l=Wo(Lu,t.find(u=>u.id===s)??t[0],void 0,{serializer:{read:u=>t.find(p=>p.id===u)??t[0],write:u=>u.id}});he(()=>{r(l.value)});const c=R(!1),i=()=>{c.value=!c.value},r=u=>{l.value=u,window.document.documentElement.setAttribute("data-theme",u.id),n.themeId=u.id};return(u,p)=>{const _=kt;return g(),I(_,{class:"select direction-up",options:t.map(d=>d),selected:a(l),open:a(c),onOpen:i,onClose:p[0]||(p[0]=d=>c.value=!1),onInput:r},{item:C(d=>[m("div",$u,[m("div",ku,T(d.item.id),1),m("div",Su,[m("div",{class:"color",style:Se({"background-color":d.item.colors.backgroundColor})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.level1})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.level2})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.blue})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.yellow})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.green})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.red})},null,4),m("div",{class:"color",style:Se({"background-color":d.item.colors.purple})},null,4)])])]),_:1},8,["options","selected","open"])}}}),Tu=V(Au,[["__scopeId","data-v-caaa7fab"]]),Pu={class:"bottom"},Iu={class:"buttons"},Vu={href:"https://twitter.com/0xAlunara",target:"_blank"},Ru={href:"https://github.com/Llama-Airforce/Llama-Airforce",target:"_blank"},qu={class:"selectors"},Fu=P({__name:"Bottom",setup(e){const t=Oe(),n=async()=>{await navigator.clipboard.writeText(window.location.href)};return(o,s)=>{const l=$e,c=zc;return g(),A("div",Pu,[m("div",Iu,[v(l,{class:"copy",icon:"fas fa-link",onClick:n}),m("a",Vu,[v(l,{icon:"fab fa-twitter"})]),m("a",Ru,[v(l,{icon:"fab fa-github"})]),v(l,{icon:"fas fa-code",onClick:s[0]||(s[0]=i=>a(t).push("/code"))})]),m("div",qu,[v(Tu,{class:"themes"}),v(c,{class:"langs",locales:["en"]})]),v(bu)])}}}),Du=V(Fu,[["__scopeId","data-v-464b5569"]]),ka=()=>yt("pageStore",()=>{const e=R([]),t=R([]);return{pages:e,routes:t}})(),xu=P({__name:"Navigation",emits:["navigated"],setup(e,{emit:t}){const n=t,o=ka(),s=R(!1),l=()=>{s.value=!1,n("navigated")};return(c,i)=>{const r=gc,u=Ct;return g(),A("div",{class:U(["menu-desktop",{expanded:a(s)}])},[v(Fc,{onToggleExpansion:i[0]||(i[0]=p=>s.value=!a(s)),onNavigated:l}),v(u,{class:"menu-content",expanded:a(s)},{default:C(()=>[v(r,{pages:a(o).pages,onNavigated:l},null,8,["pages"]),v(Du,{onNavigated:l})]),_:1},8,["expanded"])],2)}}}),Mu=V(xu,[["__scopeId","data-v-3e40060f"]]),Bu=P({__name:"App",setup(e){const t=De(),n=va();return B(()=>n.fullPath,o=>{["/platform/crvusd","/platform/lending","/platform/pools"].some(l=>o.startsWith(l))||(t.show=!1)}),(o,s)=>{const l=zi;return g(),I(l,null,{navigation:C(()=>[v(Mu,{class:"navigation"})]),_:1})}}}),Ou=V(Bu,[["__scopeId","data-v-1d99b6b8"]]),Uu="/assets/404-DGbqGNxT.png",Eu=e=>(pe("data-v-3987f8f8"),e=e(),me(),e),Wu={class:"not-found"},Hu={class:"not-found-container"},Ku=Eu(()=>m("img",{src:Uu},null,-1)),ss=P({__name:"NotFound.page",setup(e){const{t}=x();return(n,o)=>{const s=W;return g(),A("div",Wu,[m("div",Hu,[v(s,null,{default:C(()=>[z(T(a(t)("404")),1)]),_:1}),Ku])])}}});function ja(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{404:{t:0,b:{t:2,i:[{t:3}],s:"Where are you going, pilot? Page not found, please return home fren."}}}})}typeof ja=="function"&&ja(ss);const Nu=V(ss,[["__scopeId","data-v-3987f8f8"]]),ls=e=>(pe("data-v-16243365"),e=e(),me(),e),zu={key:0,class:"expander"},Qu=ls(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),ju=[Qu],Gu={key:1,class:"expander"},Xu=ls(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),Yu=[Xu],Zu={class:"row-details"},Ju=P({__name:"TableRow",props:{data:{},selected:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},expandSide:{default:"right"}},emits:["click"],setup(e,{emit:t}){const n=t,o=Ho(),s=w(()=>{var i;const c=o["row-details"];if(c){const r=(i=c()[0])==null?void 0:i.children;if(r)return r.length>0}return!1}),l=()=>{n("click",e.data)};return(c,i)=>{const r=Ct;return g(),A("div",{class:U(["row",{expanded:c.expanded}])},[m("div",{class:U(["row-data",{active:c.selected,expandable:a(s),"has-data":!!c.data}]),onClick:l},[c.data&&a(s)&&c.expandSide==="left"?(g(),A("div",zu,ju)):O("",!0),ae(c.$slots,"row",{},void 0,!0),c.data&&a(s)&&c.expandSide!=="left"?(g(),A("div",Gu,Yu)):O("",!0)],2),c.data?(g(),I(r,{key:0,expanded:c.expanded},{default:C(()=>[m("div",Zu,[ae(c.$slots,"row-details",{},void 0,!0)])]),_:3},8,["expanded"])):O("",!0)],2)}}}),ed=V(Ju,[["__scopeId","data-v-16243365"]]),td={class:"table"},ad=["onClick"],nd={key:1,class:"no-data"},Sa=P({__name:"Table",props:{columns:{default:()=>[]},rows:{default:()=>[]},rowsMin:{default:null},selectedRow:{default:null},expanded:{default:()=>[]},expandSide:{default:"right"},sorting:{default:()=>({order:"asc"})},icon:{}},emits:["selected","sortColumn"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=w(()=>{if(e.rowsMin===null)return[];const _=Math.max(0,e.rowsMin-e.rows.length);return new Array(_)}),l=w(()=>e.columns.map(_=>typeof _=="string"?{id:_,label:_}:_)),c=_=>{_&&o("selected",_)},i=_=>{const d=_+1;return!!(e.rows[_+1]&&e.rows.findIndex(b=>b===e.selectedRow)===d)},r=_=>e.sorting.column===_.id&&e.sorting.order==="asc",u=_=>e.sorting.column===_.id&&e.sorting.order==="desc",p=_=>{if(!_.sort)return;const d=_.id===e.sorting.column&&e.sorting.order==="asc"?"desc":"asc";o("sortColumn",_.id,d)};return(_,d)=>{const f=ed;return g(),A("div",td,[_.columns.length>0?(g(),I(f,{key:0,class:U({"selected-below":i(-1)})},{row:C(()=>[(g(!0),A(oe,null,ve(a(l),h=>(g(),A("div",{key:h.id,class:U(["column-header",{sortable:h.sort,sorting:h.sort&&_.sorting.column===h.id,[h.align||""]:!!h.align}]),onClick:b=>p(h)},[m("span",null,T(h.label),1),h.sort?(g(),A("i",{key:0,class:U(["sorting-arrow fa fa-caret-right",{asc:r(h),desc:u(h)}])},null,2)):O("",!0)],10,ad))),128))]),_:1},8,["class"])):O("",!0),(g(!0),A(oe,null,ve(_.rows,(h,b)=>(g(),I(f,{key:h,data:h,class:U({"selected-below":i(b)}),selected:_.selectedRow===h,expanded:_.expanded.includes(h),"expand-side":_.expandSide,onClick:c},{row:C(()=>[ae(_.$slots,"row",{item:h},void 0,!0)]),"row-details":C(()=>[ae(_.$slots,"row-details",{item:h},void 0,!0)]),_:2},1032,["data","class","selected","expanded","expand-side"]))),128)),(g(!0),A(oe,null,ve(a(s),h=>(g(),I(f,{key:h}))),128)),!_.rowsMin&&(!_.rows||_.rows.length===0)?(g(),A("div",nd,[ae(_.$slots,"no-data",{},()=>[z(T(a(n)("no-data")),1)],!0)])):O("",!0),_.$slots["row-aggregation"]&&_.rows.length>0?(g(),I(f,{key:2,class:"aggregation"},{row:C(()=>[ae(_.$slots,"row-aggregation",{},void 0,!0)]),_:3})):O("",!0)])}}});function Ga(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"No data :("}}}})}function Xa(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"zh",resource:{"no-data":{t:0,b:{t:2,i:[{t:3}],s:"没有数据 :("}}}})}typeof Ga=="function"&&Ga(Sa);typeof Xa=="function"&&Xa(Sa);const re=V(Sa,[["__scopeId","data-v-7585a93a"]]),od={class:"contracts"},sd=["href"],ld=["href"],rd=["href"],rs=P({__name:"Code.page",setup(e){const{t}=x(),o=[{name:"veFunder",contracts:[{contract:Zo,description:"gauge-factory"},{contract:Jo,description:"gauge-controller"}]}],s=[{name:"Llama Airforce",url:"https://github.com/Llama-Airforce/Llama-Airforce",description:"repo-laf"},{name:"Phil's CurveMonitor",url:"https://github.com/phil-svg/CurveMonitor",description:"Phil's code for CurveMonitor"},{name:"Subgraphs",url:"https://github.com/convex-community/convex-subgraph",description:"repo-graphs"},{name:"Tickets",url:"https://github.com/orgs/curve-data-analytics/projects",description:"Tickets"}],l=[{name:"Curve Prices API",url:"https://prices.curve.fi/feeds-docs",description:"Curve utility API co-developed by CurveMonitor"},{name:"LAF / Curve API (Legacy)",url:"https://api-py.llama.airforce/curve/v1/docs",description:"Custom analytics API"}],c=i=>{switch(i.network){case"arbitrum":return i.gnosis?`https://app.safe.global/home?safe=arb1:${i.contract}`:`https://arbiscan.io/address/${i.contract}`;case"ethereum":default:return i.gnosis?`https://app.safe.global/home?safe=eth:${i.contract}`:`https://etherscan.io/address/${i.contract}`}};return(i,r)=>{const u=re,p=W;return g(),A("div",od,[v(p,{title:a(t)("repositories")},{default:C(()=>[v(u,{class:"repositories-table",rows:s,columns:[a(t)("repository"),a(t)("description")],title:"Yolo"},{row:C(_=>[m("div",null,[m("a",{href:_.item.url,target:"_blank"},T(_.item.name),9,sd)]),m("div",null,T(a(t)(_.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),v(p,{title:a(t)("apis")},{default:C(()=>[v(u,{class:"apis-table","columns-data":"apis-columns-data",rows:l,columns:[a(t)("api"),a(t)("description")]},{row:C(_=>[m("div",null,[m("a",{href:_.item.url,target:"_blank"},T(_.item.name),9,ld)]),m("div",null,T(a(t)(_.item.description)),1)]),_:1},8,["columns"])]),_:1},8,["title"]),(g(),A(oe,null,ve(o,(_,d)=>v(p,{key:d,title:a(t)(_.name)},{default:C(()=>[v(u,{class:"contracts-table","columns-header":"1fr","columns-data":"contracts-columns-data",rows:_.contracts,columns:[a(t)("contract"),a(t)("description")]},{row:C(f=>[m("div",null,[m("a",{href:c(f.item),target:"_blank"},T(f.item.contract),9,rd)]),m("div",null,T(a(t)(f.item.description)),1)]),_:2},1032,["rows","columns"])]),_:2},1032,["title"])),64))])}}});function Ya(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{repositories:{t:0,b:{t:2,i:[{t:3}],s:"Repositories"}},repository:{t:0,b:{t:2,i:[{t:3}],s:"Repository"}},apis:{t:0,b:{t:2,i:[{t:3}],s:"APIs"}},api:{t:0,b:{t:2,i:[{t:3}],s:"API"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},contract:{t:0,b:{t:2,i:[{t:3}],s:"Contract"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}},"repo-laf":{t:0,b:{t:2,i:[{t:3}],s:"This website's front-end, excluding the Union"}},"repo-graphs":{t:0,b:{t:2,i:[{t:3}],s:"The Graph subgraphs related to Curve, Convex, Votium and more"}},multisig:{t:0,b:{t:2,i:[{t:3}],s:"Multisig"}},treasury:{t:0,b:{t:2,i:[{t:3}],s:"Treasury"}},"treasury-arbitrum":{t:0,b:{t:2,i:[{t:3}],s:"Treasury Arbitrum"}},"gauge-factory":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Factory"}},"gauge-controller":{t:0,b:{t:2,i:[{t:3}],s:"Gauge Controller"}}}})}typeof Ya=="function"&&Ya(rs);const id=V(rs,[["__scopeId","data-v-437d5034"]]);function cd(){const e=ka(),t=[{path:"/code",component:id},...e.routes.flatMap(o=>o),{path:"/:pathMatch(.*)*",name:"NotFound",component:Nu}];return Qr({history:jr(),routes:t})}const ud=e=>(pe("data-v-ae7c4228"),e=e(),me(),e),dd={class:"input-text"},pd={key:0,class:"icon"},md=ud(()=>m("i",{class:"fas fa-search"},null,-1)),vd=[md],_d=["type","value","placeholder"],hd=["onClick"],fd=P({__name:"InputText",props:Qe({placeholder:{default:""},options:{default:()=>[]},search:{type:Boolean,default:!1},autoComplete:{type:Boolean,default:!1},filter:{type:Function,default:()=>()=>!0},sort:{type:Function,default:null}},{modelValue:{required:!0},modelModifiers:{}}),emits:Qe(["input","select"],["update:modelValue"]),setup(e,{emit:t}){const n=wt(e,"modelValue"),o=t,s=w(()=>{const c=e.options.filter(r=>e.filter(n.value,r));return e.sort?[...c].sort(e.sort):c}),l=c=>{const i=c.target.value;n.value=i,o("input",i)};return(c,i)=>(g(),A("div",dd,[c.search?(g(),A("span",pd,vd)):O("",!0),m("input",{type:c.search?"search":"text",value:n.value,placeholder:c.placeholder,onInput:Te(l,["stop"]),onSelect:i[0]||(i[0]=Te(()=>{},["stop"]))},null,40,_d),c.options&&c.autoComplete?(g(),A("div",{key:1,class:U(["items",{selectHide:!c.autoComplete}])},[(g(!0),A(oe,null,ve(a(s),(r,u)=>(g(),A("div",{key:u,onClick:p=>o("select",r)},[ae(c.$slots,"item",{item:r,idx:u},()=>[z(T(r),1)],!0)],8,hd))),128))],2)):O("",!0)]))}}),Pe=V(fd,[["__scopeId","data-v-ae7c4228"]]),bd={key:0,class:"value"},gd={key:1,class:"value"},yd=["innerHTML"],wd={key:0,class:"value"},Cd={key:1,class:"value"},$d=["innerHTML"],kd={class:"labels"},Sd={class:"label"},Ld={class:"label-second"},Ad=P({__name:"KPI",props:{label:{default:""},labelSecond:{default:""},tooltip:{default:""},tooltipType:{default:"icon"},value:{},hasValue:{type:Boolean,default:!1}},setup(e){return(t,n)=>{const o=Wt;return g(),A("div",{class:U(["kpi",{disabled:!t.hasValue}])},[m("div",{class:U(["value-container",{underline:t.tooltip&&t.tooltipType==="underline"}])},[ae(t.$slots,"default",{},()=>[t.tooltip&&t.tooltipType==="underline"?(g(),I(o,{key:0},{item:C(()=>[t.hasValue?(g(),A("span",bd,T(t.value),1)):(g(),A("span",gd," ? "))]),default:C(()=>[ae(t.$slots,"tooltip",{},()=>[m("span",{innerHTML:t.tooltip},null,8,yd)],!0)]),_:3})):(g(),A(oe,{key:1},[t.hasValue?(g(),A("span",wd,T(t.value),1)):(g(),A("span",Cd," ? "))],64))],!0),t.tooltip&&t.tooltipType==="icon"?(g(),I(o,{key:0},{default:C(()=>[m("span",{innerHTML:t.tooltip},null,8,$d)]),_:1})):O("",!0)],2),m("div",kd,[ae(t.$slots,"label",{},()=>[m("div",Sd,T(t.label),1)],!0),ae(t.$slots,"label-second",{},()=>[m("div",Ld,T(t.labelSecond),1)],!0)])],2)}}}),ge=V(Ad,[["__scopeId","data-v-9ca23269"]]),Td={key:0,class:"async-value"},Pd="|/-\\",te=P({__name:"AsyncValue",props:{value:{default:null},type:{default:null},precision:{type:[Number,Function],default:2},showUnit:{type:Boolean,default:!0},showSymbol:{type:Boolean,default:!0},showZero:{type:Boolean,default:!1},inline:{type:Boolean,default:!0}},setup(e){let t=0,n=0;const o=R("|"),s=w(()=>e.value?Y(e.value,typeof e.precision=="function"?e.precision(e.value):e.precision,e.type??""):e.value===0&&e.showZero?"0":e.value===null||e.value===void 0?o.value:"?"),l=w(()=>e.precision===1/0?"":!e.value||!e.type||!D.isFinite(e.value)?e.showUnit&&e.type?X(0,e.type):"":X(e.value,e.type));return B(()=>e.value,c=>{if(clearInterval(n),t=0,c)return;const i=()=>{t=(t+1)%4,o.value=Pd[t]};n=window.setInterval(i,250)},{immediate:!0}),(c,i)=>c.inline?(g(),A(oe,{key:1},[z(T(c.showSymbol&&c.type==="dollar"?"$":"")+T(a(s))+T(c.showUnit?a(l):""),1)],64)):(g(),A("div",Td,T(c.showSymbol&&c.type==="dollar"?"$":"")+T(a(s))+T(c.showUnit?a(l):""),1))}}),Id=["crvusd","lending","pools","router","dao"];function Ie(e){const[t,n]=e.split("T"),[o,s,l]=t.split("-").map(Number),[c,i,r]=n.split(":").map(Number);return Date.UTC(o,s-1,l,c,i,r)/1e3}const Vd=["ethereum","arbitrum","optimism","fantom","avalanche","xdai","matic","harmony","moonbeam","base","polygon","fraxtal"],Rd=e=>e.data.map(t=>t.name).filter(t=>Vd.includes(t)),qd=e=>({chain:e.chain,total:{tvl:e.total.total_tvl,tradingVolume24h:e.total.trading_volume_24h,tradingFee24h:e.total.trading_fee_24h,liquidityVolume24h:e.total.liquidity_volume_24h,liquidityFee24h:e.total.liquidity_fee_24h}}),Fd=e=>e.data.flatMap(t=>t.transactions.map(n=>({chain:t.chain,timestamp:Ie(n.timestamp),type:n.type,transactions:n.transactions}))),Dd=e=>e.data.flatMap(t=>t.users.map(n=>({chain:t.chain,timestamp:Ie(n.timestamp),type:n.type,users:n.users}))),qt="https://prices.curve.fi";class xd extends Ae{async getSupportedChains(){const t=await this.fetch(`${qt}/v1/chains/`);return Rd(t)}async getChainInfo(t){const n=await this.fetch(`${qt}/v1/chains/${t}?page=1&per_page=1`);return qd(n)}async getTxs(){const t=await this.fetch(`${qt}/v1/chains/activity/transactions`);return Fd(t)}async getUsers(){const t=await this.fetch(`${qt}/v1/chains/activity/users`);return Dd(t)}}const Ht=new xd;function La(){return{initialData:[],initialDataUpdatedAt:0}}function Md(){return Z({queryKey:["chains-supported"],queryFn:()=>Ht.getSupportedChains(),...La()})}function is(e){return Z({queryKey:["chain-info",e],queryFn:({queryKey:[,t]})=>Ht.getChainInfo(t),enabled:w(()=>!!e.value)})}function Bd(){return Z({queryKey:["chains-txs"],queryFn:()=>Ht.getTxs(),...La()})}function Od(){return Z({queryKey:["chains-users"],queryFn:()=>Ht.getUsers(),...La()})}const Ud=e=>({name:e.collateral_token.symbol,address:e.address.toLocaleLowerCase(),factory:e.factory_address.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),rate:e.rate,borrowed:e.total_debt,borrowable:e.borrowable,collateral:e.collateral_amount,collateralUsd:e.collateral_amount_usd,loans:e.n_loans,collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},stablecoin_token:{symbol:e.stablecoin_token.symbol,address:e.stablecoin_token.address.toLocaleLowerCase()},fees:{pending:e.pending_fees,collected:e.collected_fees}}),Ed=e=>({timestamp:new Date(e.dt).getTime()/1e3,rate:e.rate,nLoans:e.n_loans,minted:e.minted,redeemed:e.redeemed,totalCollateral:e.total_collateral,totalCollateralUsd:e.total_collateral_usd,totalStablecoin:e.total_stablecoin,totalDebt:e.total_debt,priceAMM:e.amm_price,priceOracle:e.price_oracle,borrowable:e.borrowable,discountLiquidation:e.liquidation_discount,discountLoan:e.loan_discount}),Wd=e=>({address:e.address.toLocaleLowerCase(),pool:e.pool,pool_address:e.pool_address.toLocaleLowerCase(),pair:e.pair.map(t=>({symbol:t.symbol,address:t.address.toLocaleLowerCase()})),active:e.active,total_debt:e.total_debt,total_profit:e.total_profit}),Hd=e=>({timestamp:Ie(e.timestamp),market:e.market,supply:e.supply,borrowable:e.borrowable}),Za="https://api-py.llama.airforce/curve",Ft="https://prices.curve.fi";class Kd extends Ae{async getMarkets(t,n){return(await this.fetch(`${Ft}/v1/crvusd/markets/${t}?fetch_on_chain=true&page=${n}&per_page=10`)).data.map(Ud)}async getSnapshots(t,n){return(await this.fetch(`${Ft}/v1/crvusd/markets/${t}/${n}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Ed)}async getCrvUsdPriceHistogram(){return this.fetch(`${Za}/v1/crvusd/prices/hist`)}async getCrvUsdSupply(t){return(await this.fetch(`${Ft}/v1/crvusd/markets/${t}/supply`)).data.map(Hd)}async getKeepers(t){return(await this.fetch(`${Ft}/v1/crvusd/pegkeepers/${t}`)).keepers.map(Wd)}async getYield(){return this.fetch(`${Za}/v1/crvusd/yield`).then(t=>t.yields)}}const Nd=e=>({time:e.time,open:e.open,high:e.high,low:e.low,close:e.close}),zd="https://prices.curve.fi";class cs extends Ae{async getOHLC(t,n,o,s){const c=Math.floor(new Date().getTime()/1e3),i=Math.floor(c-72e5),r=`${zd}/v1/ohlc/${t}/${Jt(n)}?main_token=${Jt(o)}&reference_token=${Jt(s)}&agg_number=1&agg_units=day&start=${i}&end=${c}`;return(await this.fetch(r)).data.map(Nd)}}const St=new Kd,Qd=new cs;function jd(e){return w(()=>{var t;return(t=e.value)==null?void 0:t.address})}function Kt(){return{initialData:[],initialDataUpdatedAt:0}}function Gd(e,t){return{enabled:w(()=>!!e.value&&!0)}}function Xd(){return Z({queryKey:["crvusd-supply"],queryFn:()=>St.getCrvUsdSupply("ethereum"),...Kt()})}function Yd(){return Z({queryKey:["crvusd-price-deviation"],queryFn:()=>St.getCrvUsdPriceHistogram(),initialData:{x:[],y:[]},initialDataUpdatedAt:0})}function Nt(e){return Z({queryKey:["crvusd-market-snapshots",jd(e)],queryFn:({queryKey:[,t]})=>St.getSnapshots("ethereum",t),...Gd(e),...Kt()})}function Zd(e){return Z({queryKey:["crvusd-keepers-prices",w(()=>e.value.map(t=>t.pool_address))],queryFn:async()=>{const t=e.value.map(async s=>{const l=s.pair.find(r=>r.symbol!=="crvUSD"),c=s.pair.find(r=>r.symbol==="crvUSD");return!l||!c?[]:(await Qd.getOHLC("ethereum",s.pool_address,l.address,c.address)).map(r=>({time:r.time,price:(r.high+r.low)/2,coin:l.symbol}))}),n=(await Promise.all(t)).flat(),o=D.chain(n).groupBy(s=>s.time).map((s,l)=>({timestamp:Number(l),...Object.fromEntries(s.map(c=>[c.coin,c.price]))})).value();return o.length>0?o:[{timestamp:0}]},initialData:[{timestamp:0}],initialDataUpdatedAt:0})}function Aa(){return Z({queryKey:["crvusd-markets"],queryFn:()=>St.getMarkets("ethereum",1),...Kt()})}function us(){return Z({queryKey:["crvusd-keepers"],queryFn:()=>St.getKeepers("ethereum"),...Kt()})}const Jd={class:"kpis"},ep=P({__name:"KPIs",setup(e){const t=new es,{data:n}=Aa(),o=w(()=>{var r;return((r=n.value)==null?void 0:r.reduce((u,p)=>u+p.borrowed,0))??0}),{data:s}=is(R("ethereum")),l=w(()=>{var r;return((r=s==null?void 0:s.value)==null?void 0:r.total.tvl)??0}),c=w(()=>{var r;return((r=s==null?void 0:s.value)==null?void 0:r.total.tradingVolume24h)??0}),{data:i}=Z({queryKey:["crv-price"],queryFn:()=>t.getPrice("0xd533a949740bb3306d119cc777fa900ba034cd52").then(r=>r.price),initialData:0,initialDataUpdatedAt:0});return(r,u)=>{const p=te,_=ge;return g(),A("div",Jd,[v(_,{label:"CRV Price","has-value":!!a(i)},{default:C(()=>[v(p,{value:a(i),precision:3,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(_,{label:"crvUSD Borrowed","has-value":!!a(o)},{default:C(()=>[v(p,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(_,{label:"Total Value Locked","has-value":!!a(l)},{default:C(()=>[v(p,{value:a(l),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"]),v(_,{label:"7-day Volume","has-value":!!a(c)},{default:C(()=>[v(p,{value:a(c),precision:1,type:"dollar"},null,8,["value"])]),_:1},8,["has-value"])])}}}),tp=V(ep,[["__scopeId","data-v-ef04efe7"]]),ap=P({__name:"ChartApex",props:{options:{},series:{}},setup(e){return(t,n)=>{const o=lt("apexchart");return g(),I(o,{class:"chart",height:"100%",options:t.options,series:t.series},null,8,["options","series"])}}}),zt=V(ap,[["__scopeId","data-v-1e57adb0"]]),np=P({__name:"CardChart",props:{title:{default:""},loading:{type:Boolean,default:!1},options:{},series:{}},setup(e){return(t,n)=>{const o=zt,s=W;return g(),I(s,{class:"cart-chart",title:t.title,loading:t.loading},{actions:C(()=>[ae(t.$slots,"actions",{},void 0,!0)]),default:C(()=>[v(o,{height:"100%",options:t.options,series:t.series},null,8,["options","series"]),ae(t.$slots,"default",{},void 0,!0)]),_:3},8,["title","loading"])}}}),de=V(np,[["__scopeId","data-v-51bb8302"]]),op=e=>({chart:{id:"chart",background:"transparant",foreColor:e.colors.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace",toolbar:{autoSelected:"zoom",tools:{download:!1,pan:!1}},zoom:{autoScaleYaxis:!0}},colors:e.colorsArray,grid:{borderColor:e.colors.level5,strokeDashArray:4,xaxis:{lines:{show:!1}}},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",width:2},theme:{mode:"dark"},xaxis:{type:"category",axisBorder:{color:e.colors.level5,height:1},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}},yaxis:{tickAmount:4,axisBorder:{color:e.colors.level5},axisTicks:{color:e.colors.level5},title:{color:e.colors.level5}}});function se(e,t){const n=op(e),o=(s,l)=>{if(typeof l=="object"){D.mergeWith(s,l,o);return}else return s||l};return D.mergeWith(t,n,o)}const sp=e=>({pool:e.pool,chain:e.chain,name:e.name,liq_use:e.liq_use}),lp=e=>({pool:e.pool,chain:e.chain,name:e.name,tx:e.tx,value:e.value}),rp=e=>({pool:e.pool,chain:e.chain,name:e.name,tvl_growth:e.tvl_growth}),ip=e=>({pool:e.pool,chain:e.chain,name:e.name,tvl_growth:e.tvl_growth}),cp=e=>({type:e.type,tvl:e.tvl}),up=e=>({chain:e.chain,tvl:e.tvl}),dp=e=>({type:e.type,volumeUSD:e.volumeUSD}),pp=e=>({chain:e.chain,volumeUSD:e.volumeUSD}),xe="https://api-py.llama.airforce/curve/v1";class mp extends Ae{async getLiquidityTop(){return(await this.fetch(`${xe}/protocol/liquidity/top`)).liquidity_use.map(sp)}async getTradesLarge(){return(await this.fetch(`${xe}/protocol/size/trades`)).large_trades.map(lp)}async getTvlGainers(){return(await this.fetch(`${xe}/protocol/tvl/gainers`)).tvl_gainers.map(rp)}async getTvlLosers(){return(await this.fetch(`${xe}/protocol/tvl/losers`)).tvl_losers.map(ip)}async getTvlBreakdownType(){return(await this.fetch(`${xe}/protocol/tvl/type_breakdown`)).tvl_breakdown_type.map(cp)}async getTvlBreakdownChain(){return(await this.fetch(`${xe}/protocol/tvl/chain_breakdown`)).tvl_breakdown_chain.map(up)}async getVolumeBreakdownType(){return(await this.fetch(`${xe}/protocol/volume/type_breakdown`)).volume_breakdown_type.map(dp)}async getVolumeBreakdownChain(){return(await this.fetch(`${xe}/protocol/volume/chain_breakdown`)).volume_breakdown_chain.map(pp)}}const gt=new mp;function Qt(){return{initialData:[],initialDataUpdatedAt:0}}function vp(){return Z({queryKey:["curve-tvl-breakdown"],queryFn:()=>gt.getTvlBreakdownChain().then(e=>e.sort((t,n)=>n.tvl-t.tvl)),...Qt()})}function _p(){return Z({queryKey:["curve-tvl-gainers-losers"],queryFn:async()=>{const e=gt.getTvlGainers(),t=gt.getTvlLosers(),[n,o]=[await e,await t];return[...n,...o].sort((s,l)=>l.tvl_growth-s.tvl_growth)},...Qt()})}function hp(){return Z({queryKey:["curve-liquidity-top"],queryFn:()=>gt.getLiquidityTop().then(e=>e.sort((t,n)=>n.liq_use-t.liq_use)),...Qt()})}function fp(){return Z({queryKey:["curve-trades-large"],queryFn:()=>gt.getTradesLarge().then(e=>e.sort((t,n)=>n.value-t.value)).then(e=>e.slice(0,10)),...Qt()})}const bp=P({__name:"ChartChainType",setup(e){const{theme:t}=K(Q()),{isFetching:n,data:o}=vp(),s=w(()=>se(t.value,{chart:{type:"bar",stacked:!0,stackType:"100%",animations:{enabled:!1}},legend:{position:"top"},xaxis:{categories:["TVL","Volume"]},grid:{yaxis:{lines:{show:!1}}},plotOptions:{bar:{horizontal:!0,barHeight:"50%"}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:i=>{const r=l.value[i.seriesIndex].name,u=i.series[i.seriesIndex][i.dataPointIndex];return[`<div><b>${r}</b>:</div><div>${c(u[0])}</div>`].join("")}}})),l=w(()=>[...o.value.map(i=>({name:i.chain,data:[i.tvl,i.tvl]}))]),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"chart",title:"TVL & Volume per Chain",loading:a(n),options:a(s),series:a(l)},null,8,["loading","options","series"])}}}),gp=V(bp,[["__scopeId","data-v-79b06fc1"]]),yp=P({__name:"ChartLiquidityTop",setup(e){const{theme:t}=K(Q()),{isFetching:n,data:o}=hp(),s=w(()=>se(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},plotOptions:{bar:{horizontal:!0}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:u=>{var h;const p=l.value[u.dataPointIndex],_=u.series[0][u.dataPointIndex],d=(h=o.value.find(b=>b.name===p))==null?void 0:h.chain;return`
            <div><b>${p}</b>:</div>
            <div>${i(_)}</div>
            <div>${d}<div>`}}})),l=w(()=>o.value.map(u=>u.name)),c=w(()=>[{data:o.value.map(u=>u.liq_use)}]),i=u=>`${Y(Math.abs(u),2,"dollar")}`,r=u=>u.toString().substring(0,12);return(u,p)=>{const _=de;return g(),I(_,{class:"chart",title:"Liquidity Usage",loading:a(n),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),wp=V(yp,[["__scopeId","data-v-275adb9a"]]),Cp=P({__name:"ChartRanking",setup(e){const{theme:t}=K(Q()),{isFetching:n,data:o}=_p(),s=w(()=>{const{colors:u}=t.value;return se(t.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[p=>p.value<0?u.red:u.green],xaxis:{categories:l.value,labels:{formatter:i}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:p=>{var b;const _=l.value[p.dataPointIndex],d=p.series[0][p.dataPointIndex],f=(b=o.value.find(y=>y.name===_))==null?void 0:b.chain;return`
            <div><b>${_}</b>:</div>
            <div>${r(d)}</div>
            <div>${f}<div>`}}})}),l=w(()=>o.value.map(u=>u.name)),c=w(()=>[{data:o.value.map(u=>u.tvl_growth)}]),i=u=>u.toString().substring(0,12),r=u=>`${Y(u,0,"dollar")}${X(u,"percentage")}`;return(u,p)=>{const _=de;return g(),I(_,{class:"chart",title:"TVL Gainers & Losers",loading:a(n),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),$p=V(Cp,[["__scopeId","data-v-c50b10c0"]]),kp=["href"],Sp={class:"end"},Lp=P({__name:"TableTrades",setup(e){const{data:t}=fp();return(n,o)=>{const s=te,l=re,c=W;return g(),I(c,{title:"Largest Trades"},{default:C(()=>[v(l,{class:"trades-trades",rows:a(t),columns:["Tx","Name",{label:"Value",align:"end"}]},{row:C(i=>[m("div",null,[m("a",{class:"vote-link font-mono",href:`https://etherscan.io/tx/${i.item.tx}`,target:"_blank",onClick:o[0]||(o[0]=Te(()=>{},["stop"]))},T(a(Le)(i.item.tx)),9,kp)]),m("div",null,T(i.item.name),1),m("div",Sp,[v(s,{value:i.item.value,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1})}}}),Ap=V(Lp,[["__scopeId","data-v-1389a82e"]]),Tp={class:"home"},Pp={class:"controls-container"},Ip={class:"data-1"},Vp={class:"data-2"},Rp=P({__name:"Home.page",setup(e){const t=R("");return(n,o)=>{const s=Pe;return g(),A("div",Tp,[m("div",Pp,[v(s,{modelValue:a(t),"onUpdate:modelValue":o[0]||(o[0]=l=>ue(t)?t.value=l:null),class:"search",placeholder:"Search for a pool: enter a space here",search:!0},null,8,["modelValue"])]),m("div",Ip,[v(tp),v(a(gp)),v(a(wp))]),m("div",Vp,[v(Ap),v(a($p))])])}}}),qp=V(Rp,[["__scopeId","data-v-94e93c6d"]]),Fp="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_103_26)'%3e%3cpath%20d='M11.9974%200L11.8364%200.546928V16.4161L11.9974%2016.5767L19.3636%2012.2225L11.9974%200Z'%20fill='%23343434'/%3e%3cpath%20d='M11.9977%200L4.63135%2012.2225L11.9977%2016.5767V8.87428V0Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9975%2017.9713L11.9067%2018.082V23.7348L11.9975%2023.9997L19.3681%2013.6194L11.9975%2017.9713Z'%20fill='%233C3C3B'/%3e%3cpath%20d='M11.9977%2023.9997V17.9713L4.63135%2013.6194L11.9977%2023.9997Z'%20fill='%238C8C8C'/%3e%3cpath%20d='M11.9976%2016.5767L19.3637%2012.2225L11.9976%208.87427V16.5767Z'%20fill='%23141414'/%3e%3cpath%20d='M4.63135%2012.2225L11.9977%2016.5767V8.87427L4.63135%2012.2225Z'%20fill='%23393939'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_103_26'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Dp="data:image/svg+xml,%3csvg%20width='1503'%20height='1504'%20viewBox='0%200%201503%201504'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='287'%20y='258'%20width='928'%20height='844'%20fill='white'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M1502.5%20752C1502.5%201166.77%201166.27%201503%20751.5%201503C336.734%201503%200.5%201166.77%200.5%20752C0.5%20337.234%20336.734%201%20751.5%201C1166.27%201%201502.5%20337.234%201502.5%20752ZM538.688%201050.86H392.94C362.314%201050.86%20347.186%201050.86%20337.962%201044.96C327.999%201038.5%20321.911%201027.8%20321.173%201015.99C320.619%201005.11%20328.184%20991.822%20343.312%20965.255L703.182%20330.935C718.495%20303.999%20726.243%20290.531%20736.021%20285.55C746.537%20280.2%20759.083%20280.2%20769.599%20285.55C779.377%20290.531%20787.126%20303.999%20802.438%20330.935L876.42%20460.079L876.797%20460.738C893.336%20489.635%20901.723%20504.289%20905.385%20519.669C909.443%20536.458%20909.443%20554.169%20905.385%20570.958C901.695%20586.455%20893.393%20601.215%20876.604%20630.549L687.573%20964.702L687.084%20965.558C670.436%20994.693%20661.999%201009.46%20650.306%201020.6C637.576%201032.78%20622.263%201041.63%20605.474%201046.62C590.161%201050.86%20573.004%201050.86%20538.688%201050.86ZM906.75%201050.86H1115.59C1146.4%201050.86%201161.9%201050.86%201171.13%201044.78C1181.09%201038.32%201187.36%201027.43%201187.92%201015.63C1188.45%201005.1%201181.05%20992.33%201166.55%20967.307C1166.05%20966.455%201165.55%20965.588%201165.04%20964.706L1060.43%20785.75L1059.24%20783.735C1044.54%20758.877%201037.12%20746.324%201027.59%20741.472C1017.08%20736.121%201004.71%20736.121%20994.199%20741.472C984.605%20746.453%20976.857%20759.552%20961.544%20785.934L857.306%20964.891L856.949%20965.507C841.69%20991.847%20834.064%201005.01%20834.614%201015.81C835.352%201027.62%20841.44%201038.5%20851.402%201044.96C860.443%201050.86%20875.94%201050.86%20906.75%201050.86Z'%20fill='%23E84142'/%3e%3c/svg%3e",xp="/assets/arbitrum-Z8VMulXH.png",Mp="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%2032%2032'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:%23fff;fill-rule:evenodd;}.cls-2{fill:%2313b5ec;}.cls-3{mask:url(%23mask);}%3c/style%3e%3cmask%20id='mask'%20x='10'%20y='6'%20width='93.1'%20height='20'%20maskUnits='userSpaceOnUse'%3e%3cg%20id='a'%3e%3cpath%20class='cls-1'%20d='M10,6h93.1V26H10Z'/%3e%3c/g%3e%3c/mask%3e%3c/defs%3e%3ctitle%3efa%3c/title%3e%3cg%20id='Layer_2'%20data-name='Layer%202'%3e%3cg%20id='Layer_1-2'%20data-name='Layer%201'%3e%3ccircle%20class='cls-2'%20cx='16'%20cy='16'%20r='16'/%3e%3cg%20class='cls-3'%3e%3cpath%20class='cls-1'%20d='M17.2,12.9l3.6-2.1V15Zm3.6,9L16,24.7l-4.8-2.8V17L16,19.8,20.8,17ZM11.2,10.8l3.6,2.1L11.2,15Zm5.4,3.1L20.2,16l-3.6,2.1Zm-1.2,4.2L11.8,16l3.6-2.1Zm4.8-8.3L16,12.2,11.8,9.8,16,7.3ZM10,9.4V22.5l6,3.4,6-3.4V9.4L16,6Z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Bp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAoESURBVHgB7Z3PTxzZEcerXoNBOc0eN5KhfYgUrY2MN9iyLBvP3pLTQpRgJ5fFh0iwewD/BYZbcjIrJVmUHAyXxGZXMpyinDzAKrEUogySiXzbBuWeueyKX91vq970DDP983VPT9NgPpLFuH/3d6rr1at6rwehINyeGjN7obeMgKYUOAgSTAQw3dWmZ/Ma/5MAFv9FKbcl2lX7WFj/+POXVSgACKeEEtLpGwMD7tNFlGlRCbKBBa+CDWu2dCqnJXSuwpZnx0rO4aUZKbHsipkHFqBcOnTE8uvF5xbkRC7C3p36RRnReJKjmIGQJVdAOsubi18uQZfpqrBFETQAS0pnvpsCd0XYjAS1VOOEqoFqRyp/XEKQ9BeHIT2WtOXjzT+trELGZCqs8qEHfU/o42yiHUFWQcp1CUb1iB7XpL7wzm9+PWz0HJsUHZQliutJv1CJsHTk4HyWPjgzYe9NT4xRqPQMNFt35e+o5TZ+cLBUWVitQYaUpx6aNouL8mO6wTHN3TJ1Dx0Lm9BKa2Qen4v+/YWsxQyjITKi5Gs047Zn6zUuHTzu9Po6EpYv2hHOS7qaOD+Xu6BB3Jt6OKkpsHUo8aNOXENqYdmv9fTYLyH6IgshqJd70w9m6cZnIPrareNjZzxtByOVsNzqCzRY1FB/yj70SOKjPIPyJKinDZw5QPwkckMhJzf+sLIMCUks7OhnE5+Ag0sRm3CXcn7zixcLcAZw3cNTiGp0U4ibSFj38f9PxCb0+Bj0+PylEIkQXZT1onwFUa4hobjawronZ1GDv1mUVXHp8KMi+dIkcHRjH/Q9iwrPHGrQvl58XgENtISN/UYlLlMDNXtWRW1ldOrBAqkyE7K6RtHCDZ12Q0vY0ekH30CYqGSpG39cuQHnCIoaXkX03izRd3AjzogE6EAWGbFuePTTiSdwTuB7iewSkxY6T6YBGuxuvakMjgxRjzXshFgevHUVdv+1sw5nGGUgEudCN5A4v7H4fA400BKWOe/iZikqE+oKuJX0LlMHphNA+MnnzqJbSCtqkEYNAi2We1Zg9/7t/ZGhtf9tvWnzJ+fNclOLypGSbfzz8sjQ9t7WG8u7PtBiqbvK6T/zEoVYt+kA3vXnxXI7EtUNPwXKZ0G7+iy23sWDSfe/JQNh7DxabhaiuotKAyMf7O5t/bett+mzWDet1sq5s9wMRVUgCt89tlmsWwWYAj/nxnKzFtWlNPDh1e29f++8bSzwWCyGdeWYM2+5XRK1jtGundG6M1ldXKpPWe6Vuz9atl6/3W9dUXTL7SSk4tYfYqoOPByKIoT1RoTQtFjbkXpFt4guXVEtt5Pgn++V8sufgwYC7KaGTYs1b137K8RXWK2NxRfjURsUzXKz6FHtbe28Hrh5rYxxtTLEH+9u7fyOPyqLLdf9ZvROfA1UHgYNimK5WXZTZdT9nFC6O/WwzB+UxV7+8OokCvhpzE7W5uLKo9YF/IVcvnn15Q/JtxQtWuikoRq49cGr938y9PfWe2LfqWO1CHKXrLZS97EGfAwxBFkrtZQznGIrWrTQcetPqdDegB6VjtVKxPv8VwlL4sSOfzoCo+K9CDgZpFGYUCyrkIoN5s5nPx9s3aanf597V5G5WNaSIwlx59NfsqhxjVbVW46w/cngUxc36zi1x+5pc31uhBBXKC3Bt72mMCSaEIeEXe8igU6Q+zg1cbsT/PtH+KCEbYjBNmCYkjPxbkCNBvTgAIZZee7idq1HhXDddygnYFipbzcWNmBnHUR065ibuF3tpga5SIEalWhhigjL65Sui9tlUZl05XyEQSE0OgagRk77lumMdumauDmIyviFdaSOIZaE1BooLEzvEqnhxF0yFzcnUXmsrM94qCNlxu9JwoKOsAj3vYscEBXQJzNx8xJVcSzX/IfXapNKODr9QGpsGDhuKWbESBChA3pHpx7Ogb96cQLKOfU3L1E54fTFiysBx/lGZ2e9kTBqQ6fsXaaZmGilI8vNUdTALrydwIi0haWU2Iy3jq4sWOrlKltIL24YWYuKsBQ0yQOjnigPAiE+4HUpOfuXZr0LKT87Gzm2K5jsxM1YVB7kx5M7vIu5ep3gWDV9i1UnxZkQMSZTWS5PDAlAW9yIfKpdz06ZkAQejhowxpe/pCTWCiyso2+xTKk3ZIACWy75XE5aWKABP26HjgitRmj43MgktcHXIqXuk2RJkONsIEFlJ1qnNZXpZHuwcHRqYil2goOfBWoxH4et5Cw613/cWYJmywl5uvt6kklzgdFCgsx/+2Q6aUKzpylrPBvSAWM1apR2bHgXhIQ1FpZnjqTJKkWKmyVt4iYQtePzphGVkXIe3VkjzyAFWU45UlOchHjK7iE0zgXXRXhw34PwilzRchazdfh48rDvKfUuJyEF0pbjmCToDaGjOajqJvbpJk7GiyWaFdgQtTE7stMvO8HsxVDEsXMD+QP1vv4Pnb86RAnMJRydm6pPwhOULMfJgHNriesVtRVuHKVjL3+9+FUFYlAzZr7rm+TaX8KeZBA1cpHvKWHvT0+8lIB6AzZ0oFiQjldFR+5Si2o1FwOaVGy7rvkOmEhxo0T1oMopyNP2HcqlCqfeaDqihIYcVFXk+GPoQw0XRUhjPeocNq6jAdkJSxeqCpTI1W9sW4X6R2l0InziJhCVKakvErGMqtjvhu6GezVamRJ9JDirzbMYAlehmPh6aAlFzZ1GNbtpQCkyVXmi3EJ//36tyKISVfKvas5bs0vLPgiKi7LcgovKGbFmt74prOg/7Dj+6zJmkUVlWge1NIV1ByNU4IJUcHjX2si2ZbdkmlzoBQoK5doSPr7op+CNWFHxlXF8+dgLq01OUBknMF6/sNoEhLxWILCCcGG1+oQl6wOFrRcJtbPv7yzeSKCV0JoXxbVcOEw3dundwOL3IYatDBW2HtfKR3BBINxgRaU1I18Esbe183Zw5Np71MTdhgtOoIr05uLKb6M2iS1/i/6DOc2Rhe8KlhpLEUOssOwShFQtnwUXqCybzobaeWf3LXE8sqRbA5WLjvY7txjtkTD8Wr13uTFzJI4nKVBqv8WI4cZsYGRolyou2ZVxzgA8wodi+0RVlkTCMntbb6oDN69uUy2Lp4j2w/mmRpb6s6SiMglqe+1ovpj3LNPRm0VTC8ukHipZdCixEjYiR/sQkAExb7A8W1Dwz7H7qb78vJUshuacMpZTb6QqkAGJG68wuFG7MjK0RiEZdYGLXfTzUbfSX238/qu3kBGZWWwrdd/Lo7WLLTAXTzn3nJWVttIVYRsU1T10U9AGXRW2QX2EtzOZYuR4puQhaINchG1w8vMkzkxebqKbv2kTRa7CtuL5oR0W2YRsqFHJZBWOYTtvMVs5NWG9KKHRGeYXU5z8GKX6vS71211wklWruf/qk0WQPpOIYEjrSIpqUX4p5HsIBnqmjYFrhwAAAABJRU5ErkJggg==",Op="data:image/svg+xml,%3csvg%20id='Layer_1'%20data-name='Layer%201'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20180%20179.51'%3e%3cdefs%3e%3clinearGradient%20id='linear-gradient'%20x1='202.93'%20y1='544.7'%20x2='203.8'%20y2='545.57'%20gradientTransform='matrix(180,%200,%200,%20-179.51,%20-36456,%2098005.23)'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0'%20stop-color='%2300aee9'/%3e%3cstop%20offset='1'%20stop-color='%2369fabd'/%3e%3c/linearGradient%3e%3c/defs%3e%3ctitle%3eharmony-one-logo%3c/title%3e%3cpath%20id='Shape'%20d='M201.17,60a38.81,38.81,0,0,0-38.84,38.71v42.92c-4,.27-8.09.44-12.33,0.44s-8.31.17-12.33,0.41V98.71a38.84,38.84,0,0,0-77.67,0V201.29a38.84,38.84,0,0,0,77.67,0V158.37c4-.27,8.09-0.44,12.33-0.44s8.31-.17,12.33-0.41v43.77a38.84,38.84,0,0,0,77.67,0V98.71A38.81,38.81,0,0,0,201.17,60ZM98.83,75.86a22.91,22.91,0,0,1,22.92,22.85v45.45a130.64,130.64,0,0,0-33,9.33,60,60,0,0,0-12.8,7.64V98.71A22.91,22.91,0,0,1,98.83,75.86Zm22.92,125.43a22.92,22.92,0,1,1-45.84,0V191c0-9.09,7.2-17.7,19.27-23.06a113,113,0,0,1,26.57-7.77v41.12Zm79.42,22.85a22.91,22.91,0,0,1-22.92-22.85V155.84a130.64,130.64,0,0,0,33-9.33,60,60,0,0,0,12.8-7.64v62.42A22.91,22.91,0,0,1,201.17,224.14ZM204.82,132a113,113,0,0,1-26.57,7.77V98.71a22.92,22.92,0,1,1,45.84,0V109C224.09,118.05,216.89,126.66,204.82,132Z'%20transform='translate(-60%20-60)'%20style='fill:url(%23linear-gradient)'/%3e%3c/svg%3e",Up="/assets/moonbeam-CHDPiRRO.png",Ep="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%2038.4%2033.5'%20style='enable-background:new%200%200%2038.4%2033.5;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%238247E5;}%20%3c/style%3e%3cg%3e%3cpath%20class='st0'%20d='M29,10.2c-0.7-0.4-1.6-0.4-2.4,0L21,13.5l-3.8,2.1l-5.5,3.3c-0.7,0.4-1.6,0.4-2.4,0L5,16.3%20c-0.7-0.4-1.2-1.2-1.2-2.1v-5c0-0.8,0.4-1.6,1.2-2.1l4.3-2.5c0.7-0.4,1.6-0.4,2.4,0L16,7.2c0.7,0.4,1.2,1.2,1.2,2.1v3.3l3.8-2.2V7%20c0-0.8-0.4-1.6-1.2-2.1l-8-4.7c-0.7-0.4-1.6-0.4-2.4,0L1.2,5C0.4,5.4,0,6.2,0,7v9.4c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l5.5-3.2l3.8-2.2l5.5-3.2c0.7-0.4,1.6-0.4,2.4,0l4.3,2.5c0.7,0.4,1.2,1.2,1.2,2.1v5c0,0.8-0.4,1.6-1.2,2.1%20L29,28.8c-0.7,0.4-1.6,0.4-2.4,0l-4.3-2.5c-0.7-0.4-1.2-1.2-1.2-2.1V21l-3.8,2.2v3.3c0,0.8,0.4,1.6,1.2,2.1l8.1,4.7%20c0.7,0.4,1.6,0.4,2.4,0l8.1-4.7c0.7-0.4,1.2-1.2,1.2-2.1V17c0-0.8-0.4-1.6-1.2-2.1L29,10.2z'/%3e%3c/g%3e%3c/svg%3e",Wp="/assets/optimism-CcABTbCu.png",Hp="/assets/base-AohAhS4D.webp",Kp="/assets/polygon-GPEdhIuq.png",Np="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAABI1BMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AAAD////8/PzHx8fb29swMDDz8/P19fWzs7NHR0fm5ua2trYdHR3R0dHY2NhdXV3t7e3p6end3d2Ojo47Ozv5+fnNzc2/v78iIiJbW1tzc3P39/fk5ORZWVkzMzMVFRWtra2lpaXh4eHT09OGhoZOTk4/Pz84ODjw8PCioqKfn5+SkpJ5eXm7u7t6enpxcXFoaGihoaFjY2Po6OjLy8soKCgLCwuAgIDCwsKXl5dsbGzr6+vV1dVQUFBM4z+pAAAAI3RSTlMAzvr08ejf2dW3lJGNTUlGIA0KBiTIxLqsppZxX1tTLiwnGBXchpcAAAbqSURBVHjavJdpW9pQEIXDpsiireC+tDongQCypBEiKCggbohKta1Ln/r/f0UTQgEJIeQS+n6FJ+fcyZ05E46FSDS8FVxf9fu8bsDt9flX14Nb4WiE+x982gmseDASz0pg5xM3S5YXA/OwYD6wuMzNhEh4w4seihw7KqZr9cfHei1dPIrJCnp4N8LOv429kA9dbhrJ/HGVhqge55ONG3TxhfYclV9agE4i25RoDFIzm4DOwpJj8rsudBCFiwxZkrkQRHRw7Toiv6jL87lWiSak1MrxuoXFqeW/rumlL0pkC6mYgMba16nkP4fcUBGTV2Sbq6QIFXfo8xR3bw4q5XSBmCiky1CZW2IdO5tQ4YVLYuZS4KGyyTSavvihUrmjqbirQMX/xb7+tkc7frJEU1JK8gA823b1g1D50SYHaP+AStDe7e9MPiFOjhAXOpPRRjfsuwAot+QYtwoA1/7Eka9lrvhADvIgakk94bIQ1bpflshRJBnAXHSi82v65ylymNS55mCCGuxr9T+8Jse5PtTewr7l/Xdp+nG2q/ZTp2nSDJoDl1UvLGj1Zzy/AJ0jsxqca91oPX/kFM3GAKVkq4m0DUCUaFYGSBIBbI/JHw+gPNDsDNCDAnhMk2lZy79bmqUButWy0SydtfwXyHEDxj9tmuw/Wv7FZ20grmXj0sgJMAfwbZq1AWrzwNyoaRACkKTZG6AkgNCI/dsNHJT+h4HSAeA2butrAD/d/vc9NpkBuuOBNcP3z5QdUKjJ+Acfa1UtSzX8zeQCyuz793NdxAcOXsZu62XANfT9CSDNnvU5GCiWyJw0gN3hAogFYuRUxghiY55XEIdKsDRNCx5/gxGLrSI5NI0WgMSVw/pA9pnMuEp82Az2ABQd1weaZEoRwN7gEOQlxvc/qC8L6fusiB4J876S+IFxGPEBOVZ9Q+v9avYtjClrDvBFOJ0wgBaxcDmgn/1FXd4r6FI23y5bAMKczgYgsqXAzwH9zMAV6/Vl7aRP9WMiiMBGdxHysk7hZ7GvXxqa9kYKhnnsXe7FwAWxkFGM59dpWBu46AVCAEhkiImKiT69WRvIJIAApzEPZImNNxN9OrY2QFlgXtP/pE8MNuplgH811u+atzbQBKB9rO4AkIiVq3zrlIy8T1ABCcCOfgVuyGkuJjBAN/olWAEaLEe/a73lT84s1kPwfQwGGsCKOoc9DEl88irz0OAr99/JyJMCnVi8z6hM9kS4KIA82eLlEIPkTmiIs/PeJKQx5AFEO0FwTDY4EzAE/xr/+I9Y75f3sUneiYMtQKnayb8DGKmcGvWtF/SqAmxxQUBmzf8+305H6StPNBYZCHLrQGz6/ae/T8T7+paXOwasc6vAEfP5+/Apo37MKmGOgFXODxTZzl8Wy+jze7j+OLBcc4uAn/MBaQZ9MflUpUz7PgEd5dqgnyIr0oCP8wI1+/X/8+/plzl0EBj0qQZ4OTdQt3F+Q/5mBKg04tr7t6lPdcDNAXi0c35j/rdryRdi0adHAH9ZNdechKEoCO/ATcj7lRBEDAaIQMFISEq0SRHE/e/CH0pHL7f5PCd0AzNt7z2PmREB4/uP0lNzqBpu/P4ioF9gw3+afd/0fTGCmPD1C3QIAT+Yf9vn05j9NKg7E74Ooa6h7f8nkkPa2206q9jwdQ3/U4g6p8vzF7QkM74KEZfieT3A18jD+FyKuRktYvcvmzrxw2bE7bjTit7/dZTBLMDndswDSa9k//uIKEOrcPDkgQRHsvmmbP9rpMH20XyLaDI0kuFQuiu+bn55PQ8twQ/ahtfXUBofy4+94ikkwKiO+7hO+93BYLZq70xvr7E8vphEhMfkmouTFhOtZkQgvSa0VjMtp0RgGdEnlv2k9uqB1nKq9dxGQP3/wSOuaD2XQAEE1DDC/r/JzdASKCTRIIFuHN+lL0mikUiFBCrvJfiVo19CuCmT6dKhHhWiAF8bgfmRTMdC5f5UbJpqGZo/nSKvhEqWaheCej6X4MTQf0GqZbF61NQyNp7kt/lkPDXgo1jNcv3yzxLaqprmD5br2bCY193zHxgWbNlIlPfjs2XDplW28eGDaQW2HQpDQ9r/wbYzGZeNQzWURFLSP8i4NFq3k8/qb/gV1T+0bu3mdVYrqnIvIww2rx32/f3ZjWMItu/tAQY/AQ4wcITDT4AjHBxi8RPgEAvHePwEOMbDQSY/AQ4ycZTLTwCjXMYwm58Ah9k4zucnwHE+DjT6CXCgkSOdfgIQ6XSHWl++mrdjGwBgGIZhR/b/Xzp06B4gEP2EF/G8TY7gR6161tuHzX3a3cftfd7fA4eeeADIpWc+PXTqqReA3XruB4BHgHwC6BVgvwB8Bui3gN83+P8FeDI7nekABC8AAAAASUVORK5CYII=";function Ja(e){return{ethereum:Fp,arbitrum:xp,optimism:Wp,fantom:Mp,avalanche:Dp,xdai:Bp,matic:Ep,harmony:Op,moonbeam:Up,base:Hp,polygon:Kp,fraxtal:Np,all:""}[e]}const zp={key:0,class:"item"},Qp=["src"],jp={key:1,class:"empty"},Gp={class:"label"},Xp=P({__name:"SelectChain",props:{chain:{default:null},chains:{default:null},all:{type:Boolean,default:!1}},emits:["select-chain"],setup(e,{emit:t}){const n=t,o=R(!1),s=w(()=>[...e.all?[{chain:"all",label:"All Chains"}]:[],{chain:"ethereum",label:"Ethereum"},{chain:"avalanche",label:"Avalanche"},{chain:"arbitrum",label:"Arbitrum"},{chain:"fantom",label:"Fantom"},{chain:"xdai",label:"Gnosis (xDai)"},{chain:"harmony",label:"Harmony"},{chain:"moonbeam",label:"Moonbeam"},{chain:"matic",label:"Polygon"},{chain:"optimism",label:"Optimism"},{chain:"base",label:"Base"},{chain:"polygon",label:"Polygon"},{chain:"fraxtal",label:"Fraxtal"}].filter(u=>!e.chains||e.chains.includes(u.chain))),l=w(()=>s.value.find(u=>u.chain===e.chain)??null),c=u=>u.label,i=()=>{o.value=!o.value},r=u=>{n("select-chain",u.chain)};return(u,p)=>{const _=kt;return g(),I(_,{class:"select",options:a(s),selected:a(l),open:a(o),onOpen:i,onClose:p[0]||(p[0]=d=>o.value=!1),onInput:r},{item:C(d=>[d.item?(g(),A("div",zp,[a(Ja)(d.item.chain)?(g(),A("img",{key:0,src:a(Ja)(d.item.chain)},null,8,Qp)):(g(),A("div",jp)),m("div",Gp,T(c(d.item)),1)])):O("",!0)]),_:1},8,["options","selected","open"])}}}),Lt=V(Xp,[["__scopeId","data-v-3c45b34e"]]),Yp=P({__name:"ModalFullscreen",props:{target:{}},emits:["enterBefore","enter","exitBefore","exit"],setup(e,{emit:t}){const n=t,o=R(void 0);let s,l=null;B(o,(r,u)=>{e.target&&(r?c(e.target,r):u&&s&&i(e.target,s,u))});function c(r,u){s=r.parentNode,l=r.nextSibling,s&&(n("enterBefore",u),s.removeChild(r),u.appendChild(r),n("enter",u))}function i(r,u,p){n("exitBefore",p),p.removeChild(r),l?u.insertBefore(r,l):u.appendChild(r),n("exit",p)}return(r,u)=>{const p=Ca;return g(),I(p,null,{default:C(()=>[m("div",{ref_key:"modalRef",ref:o,class:"fullscreen-content"},null,512)]),_:1})}}}),ds=V(Yp,[["__scopeId","data-v-f56cfee9"]]),Zp=m("i",{class:"fas fa-expand"},null,-1),rt=P({__name:"BtnChartLWFullscreen",props:Qe({chart:{},target:{}},{modelValue:{type:Boolean,required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue");let n=0,o=0;function s(){var i;const c=(i=e.chart.chartElement())==null?void 0:i.parentElement;n=(c==null?void 0:c.clientHeight)??0,o=(c==null?void 0:c.clientWidth)??0}function l(){e.chart.applyOptions({height:n,width:o})}return(c,i)=>{const r=ds,u=$e;return g(),I(u,{disabled:!c.chart,onClick:i[1]||(i[1]=p=>t.value=!t.value)},{default:C(()=>[Zp,v(r,{target:c.target,show:t.value,onClose:i[0]||(i[0]=p=>t.value=!1),onEnterBefore:s,onExit:l},null,8,["target","show"])]),_:1},8,["disabled"])}}}),Jp=(e,t)=>{const{colors:n}=t;return{width:e.clientWidth,height:e.clientHeight,layout:{background:{type:Gr.Solid,color:n.backgroundColor},textColor:n.level5,fontFamily:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Monaco, Consolas, monospace"},grid:{vertLines:{visible:!1},horzLines:{color:n.level4,style:Xr.SparseDotted}},rightPriceScale:{borderVisible:!1},timeScale:{borderVisible:!1,fixLeftEdge:!0,fixRightEdge:!0},handleScale:!1,handleScroll:!1}};function ie(e,t,n){const o=Jp(e,t),s=(l,c)=>{if(typeof c=="object"){D.mergeWith(l,c,s);return}else return l||c};return D.mergeWith(n,o,s)}function ce(e,t,n){const o=R(void 0),s=R(void 0);let l=null;return he(async()=>{if(!o.value)return;await Yr();const c=Zr(o.value,t(o.value));s.value=c,n==null||n(c),l=new ResizeObserver(i=>{const r=i[0].target;s.value&&o.value&&(s.value.applyOptions({width:r.clientWidth,height:r.clientHeight}),s.value.timeScale().fitContent())}),o.value.parentElement&&l.observe(o.value.parentElement)}),_a(()=>{s.value&&(s.value.remove(),s.value=void 0),l&&(l.disconnect(),l=null)}),B(e,()=>{o.value&&s.value&&s.value.applyOptions(t(o.value))}),{chart:s,chartRef:o}}const em={class:"actions"},ps=P({__name:"ChartTxs",props:{txs:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),s=R(!1),l=R(void 0),{chart:c,chartRef:i}=ce(o,r,d=>{n=d.addAreaSeries(u())});B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:d.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:d=>_(d),minMove:.01},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Ut(p);function p(){if(!c.value||!n)return;const d=D.chain(e.txs).map(f=>({time:f.timestamp,value:f.count})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();n.setData(d),c.value.timeScale().fitContent()}const _=d=>`${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{ref_key:"chartCard",ref:l,class:U(["chart-card",{fullscreen:a(s)}]),title:a(t)("title")},{actions:C(()=>{var b;return[m("div",em,[v(a(rt),{modelValue:a(s),"onUpdate:modelValue":f[0]||(f[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(b=a(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function en(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}}}})}typeof en=="function"&&en(ps);const tm=V(ps,[["__scopeId","data-v-ced16887"]]),am={class:"actions"},ms=P({__name:"ChartUsers",props:{users:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),s=R(!1),l=R(void 0),{chart:c,chartRef:i}=ce(o,r,d=>{n=d.addAreaSeries(u())});B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:d.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:d=>_(d),minMove:.01},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}Ut(p);function p(){if(!c.value||!n)return;const d=D.chain(e.users).map(f=>({time:f.timestamp,value:f.count})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();n.setData(d),c.value.timeScale().fitContent()}const _=d=>`${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{ref_key:"chartCard",ref:l,class:U(["chart-card",{fullscreen:a(s)}]),title:a(t)("title")},{actions:C(()=>{var b;return[m("div",am,[v(a(rt),{modelValue:a(s),"onUpdate:modelValue":f[0]||(f[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(b=a(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function tn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof tn=="function"&&tn(ms);const nm=V(ms,[["__scopeId","data-v-52ec739c"]]),om={class:"legend"},sm=["onClick"],lm={class:"label"},rm=P({__name:"Legend",props:{items:{},disabled:{default:()=>[]}},emits:["toggle"],setup(e,{emit:t}){const n=t;return(o,s)=>(g(),A("div",om,[(g(!0),A(oe,null,ve(o.items,l=>(g(),A("div",{key:l.id,class:U(["item",{togglable:l.togglable,disabled:o.disabled.includes(l.id)}]),onClick:c=>{l.togglable&&n("toggle",l.id)}},[m("div",{class:"color",style:Se({"background-color":l.color})},null,4),m("div",lm,T(l.label),1)],10,sm))),128))]))}}),qe=V(rm,[["__scopeId","data-v-d25d58a4"]]);function Fe(e){const t=w(e),n=Jr(ei(Object.fromEntries(t.value.map(s=>[s.id,!0])))),o=w(()=>t.value.filter(s=>!n[s.id].value).map(s=>s.id));return{items:t,toggles:n,disabled:o}}const im={class:"actions"},vs=P({__name:"ChartRankingChains",props:{type:{},txs:{},users:{}},setup(e){const{t}=x(),{theme:n}=K(Q()),o=w(()=>`${t("title")} (${e.type==="all"?"All Types":D.capitalize(e.type)})`),{items:s,toggles:l,disabled:c}=Fe(()=>{const{blue:b,yellow:y}=n.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:y,togglable:!0}]});function i(b){return D.chain(b).groupBy(y=>y.chain).mapValues((y,$)=>{const k=y.reduce((S,L)=>S+L.value,0);return{chain:$,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:b}=n.value;return se(n.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:_.value,labels:{formatter:f}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),u=w(()=>l.txs.value?i(e.txs):[]),p=w(()=>l.users.value?i(e.users):[]),_=w(()=>D.chain(u.value).concat(p.value).orderBy(b=>b.count,"desc").map(b=>b.chain).uniq().value()),d=w(()=>{const b=_.value.map($=>{const k=u.value.find(S=>S.chain===$);return k?k.count:0}),y=_.value.map($=>{const k=p.value.find(S=>S.chain===$);return k?k.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?y:[]}]}),f=b=>b,h=b=>`${Y(b,0,"dollar")}${X(b,"dollar")}`;return(b,y)=>{const $=qe,k=de;return g(),I(k,{class:"chart",title:a(o),options:a(r),series:a(d)},{actions:C(()=>[m("div",im,[v($,{items:a(s),disabled:a(c),onToggle:y[0]||(y[0]=S=>a(l)[S].value=!a(l)[S].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function an(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Chains"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof an=="function"&&an(vs);const cm=V(vs,[["__scopeId","data-v-fd8ee8d7"]]),um={class:"actions"},_s=P({__name:"ChartRankingTypes",props:{chain:{},txs:{},users:{}},setup(e){const{t}=x(),{theme:n}=K(Q()),o=w(()=>`${t("title")} (${e.chain==="all"?"All Chains":D.capitalize(e.chain)})`),{items:s,toggles:l,disabled:c}=Fe(()=>{const{blue:b,yellow:y}=n.value.colors;return[{id:"txs",label:t("txs"),color:b,togglable:!0},{id:"users",label:t("users"),color:y,togglable:!0}]});function i(b){return D.chain(b).groupBy(y=>y.type).mapValues((y,$)=>{const k=y.reduce((S,L)=>S+L.value,0);return{type:$,count:k}}).values().orderBy(y=>y.count,"desc").value()}const r=w(()=>{const{colors:b}=n.value;return se(n.value,{chart:{type:"bar",animations:{enabled:!1}},colors:[b.blue,b.yellow],xaxis:{categories:_.value,labels:{formatter:f}},yaxis:{labels:{formatter:h}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{enabled:!1}})}),u=w(()=>l.txs.value?i(e.txs):[]),p=w(()=>l.users.value?i(e.users):[]),_=w(()=>D.chain(u.value).concat(p.value).orderBy(b=>b.count,"desc").map(b=>b.type).uniq().value()),d=w(()=>{const b=_.value.map($=>{const k=u.value.find(S=>S.type===$);return k?k.count:0}),y=_.value.map($=>{const k=p.value.find(S=>S.type===$);return k?k.count:0});return[{data:l.txs.value?b:[]},{data:l.users.value?y:[]}]}),f=b=>b,h=b=>`${Y(b,0,"dollar")}${X(b,"dollar")}`;return(b,y)=>{const $=qe,k=de;return g(),I(k,{class:"chart",title:a(o),options:a(r),series:a(d)},{actions:C(()=>[m("div",um,[v($,{items:a(s),disabled:a(c),onToggle:y[0]||(y[0]=S=>a(l)[S].value=!a(l)[S].value)},null,8,["items","disabled"])])]),_:1},8,["title","options","series"])}}});function nn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Types"}},txs:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},users:{t:0,b:{t:2,i:[{t:3}],s:"Users"}}}})}typeof nn=="function"&&nn(_s);const dm=V(_s,[["__scopeId","data-v-8f0a89d5"]]),pm={class:"item"},mm={class:"label"},hs=P({__name:"ActivityTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:n}=x(),o=["all",...Id],s=t,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=u=>{c.value=u,s("select",c.value)};return(u,p)=>{const _=kt;return g(),I(_,{class:"select",options:o.map(d=>d),selected:a(c),open:a(l),onOpen:i,onClose:p[0]||(p[0]=d=>l.value=!1),onInput:r},{item:C(d=>[m("div",pm,[m("div",mm,T(a(n)(d.item)),1)])]),_:1},8,["options","selected","open"])}}});function on(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All Types"}},crvusd:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD"}},lending:{t:0,b:{t:2,i:[{t:3}],s:"Lending"}},pools:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}},router:{t:0,b:{t:2,i:[{t:3}],s:"Router"}},dao:{t:0,b:{t:2,i:[{t:3}],s:"DAO"}}}})}typeof on=="function"&&on(hs);const vm=V(hs,[["__scopeId","data-v-18a389a3"]]),_m={class:"chains"},hm={class:"toolbar"},fm={class:"activity"},fs=P({__name:"Chains.page",setup(e){const{t}=x(),{show:n}=K(De());he(()=>{n.value=!1});const o=Ce("chain"),s=w({get(){return o.value?o.value:"all"},set(N){o.value=N}}),l=w(()=>{const N=D.chain(p.value.map(le=>le.chain)).concat(d.value.map(le=>le.chain)).concat(s.value!==void 0&&s.value!=="all"?[s.value]:[]).uniq().orderBy(le=>le).value(),G=["ethereum"],J=D.chain(N).difference(G).orderBy(le=>le).value();return["all",...G,...J]}),c=Ce("type"),i=w({get(){return c.value?c.value:"all"},set(N){c.value=N}}),r=N=>{i.value=N},{isFetching:u,data:p}=Bd(),{isFetching:_,data:d}=Od();function f(N,G,J,le){return D.chain(N).filter(j=>G==="all"?!0:j.chain===G).filter(j=>J==="all"?!0:j.type===J).groupBy(j=>j.timestamp).mapValues((j,fe)=>{const Ke=j.reduce((_t,Yt)=>_t+le(Yt),0);return{timestamp:Number(fe),count:Ke}}).values().value()}const h=w(()=>f(p.value,s.value,i.value,N=>N.transactions)),b=w(()=>f(d.value,s.value,i.value,N=>N.users));function y(N){const le=Math.floor(Date.now()/1e3)-7*24*60*60,fe=N.filter(Ke=>Ke.timestamp>=le).reduce((Ke,_t)=>Ke+_t.count,0);return Math.round(fe/7)}const $=w(()=>{var N;return((N=D.last(h.value))==null?void 0:N.count)??0}),k=w(()=>y(h.value)),S=w(()=>{var N;return((N=D.last(b.value))==null?void 0:N.count)??0}),L=w(()=>y(b.value));function F(N,G,J,le){return D.chain(N).filter(j=>G==="all"?!0:j.chain===G).filter(j=>J==="all"?!0:j.type===J).map(j=>({chain:j.chain,type:j.type,value:le(j)})).value()}const M=w(()=>F(p.value,"all",i.value,N=>N.transactions)),q=w(()=>F(d.value,"all",i.value,N=>N.users)),E=w(()=>F(p.value,s.value,"all",N=>N.transactions)),ne=w(()=>F(d.value,s.value,"all",N=>N.users));return(N,G)=>{const J=te,le=ge;return g(),A("div",_m,[(g(),I(Ot,{to:"#toolbar"},[m("div",hm,[v(a(vm),{style:{"grid-area":"type"},onSelect:r}),v(Lt,{style:{"grid-area":"chain"},class:"chain-select",chain:a(s),chains:a(l),all:!0,onSelectChain:G[0]||(G[0]=j=>s.value=j)},null,8,["chain","chains"])])])),m("div",fm,[v(le,{style:{"grid-area":"kpi1"},label:a(t)("txs-today"),"has-value":!!a(u)},{default:C(()=>[v(J,{type:"dollar",value:a($),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(le,{style:{"grid-area":"kpi2"},label:a(t)("txs-avg"),"has-value":!!a(u)},{default:C(()=>[v(J,{type:"dollar",value:a(k),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(le,{style:{"grid-area":"kpi3"},label:a(t)("users-today"),"has-value":!!a(_)},{default:C(()=>[v(J,{type:"dollar",value:a(S),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(le,{style:{"grid-area":"kpi4"},label:a(t)("users-avg"),"has-value":!!a(_)},{default:C(()=>[v(J,{type:"dollar",value:a(L),"show-symbol":!1,"show-zero":!0},null,8,["value"])]),_:1},8,["label","has-value"]),v(a(tm),{style:{"grid-area":"txs"},txs:a(h),loading:a(u)},null,8,["txs","loading"]),v(a(nm),{style:{"grid-area":"users"},users:a(b),loading:a(_)},null,8,["users","loading"]),v(a(cm),{style:{"grid-area":"top-chains"},type:a(i),txs:a(M),users:a(q),loading:a(u)||a(_)},null,8,["type","txs","users","loading"]),v(a(dm),{style:{"grid-area":"top-types"},chain:a(s),txs:a(E),users:a(ne),loading:a(u)||a(_)},null,8,["chain","txs","users","loading"])])])}}});function sn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"txs-today":{t:0,b:{t:2,i:[{t:3}],s:"Transactions Today"}},"txs-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Transactions / 7 Days"}},"users-today":{t:0,b:{t:2,i:[{t:3}],s:"Users Today"}},"users-avg":{t:0,b:{t:2,i:[{t:3}],s:"Avg Users / 7 Days"}}}})}typeof sn=="function"&&sn(fs);const bm=V(fs,[["__scopeId","data-v-23fc3398"]]),gm=e=>({tvl:e.total_tvl,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h}),ln=e=>{var t,n;return{name:e.name,address:e.address.toLocaleLowerCase(),numCoins:e.n_coins,tvlUsd:e.tvl_usd,tradingVolume24h:e.trading_volume_24h,tradingFee24h:e.trading_fee_24h,liquidityVolume24h:e.liquidity_volume_24h,liquidityFee24h:e.liquidity_fee_24h,coins:((t=e.coins)==null?void 0:t.map(o=>({poolIndex:o.pool_index,symbol:o.symbol,address:o.address.toLocaleLowerCase()})))??[],baseDailyApr:e.base_daily_apr,baseWeeklyApr:e.base_weekly_apr,virtualPrice:e.virtual_price,poolMethods:((n=e.pool_methods)==null?void 0:n.map(o=>o))??[]}},ym=e=>({timestamp:e.timestamp,volume:e.volume,fees:e.fees}),rn="https://prices.curve.fi";let wm=class extends Xe{async getPools(t){const n=await this.getHost(),o=await this.fetch(`${n}/chains/${t}`);return{chain:o.chain,totals:gm(o.total),pools:o.data.map(ln)}}async getPool(t,n){const o=await this.fetch(`${rn}/v1/pools/${t}/${n}`);return ln(o)}async getVolume(t,n){const s=Math.floor(new Date().getTime()/1e3),l=Math.floor(s-72e5);return(await this.fetch(`${rn}/v1/volume/usd/${t}/${n}?interval=day&start=${l}&end=${s}`)).data.map(ym)}};const Cm=["cb","laf","cm","pm","pm-lrt"];function $m(){const e="cm";if(!Cm.includes(e)){const t=`Unknown app for useApp(): ${e}`;throw Re({text:t,type:"error"}),new Error(t)}return e}const Dt={};function km(e){return sc[e]}async function je(e){const t=$m(),n=t;if(Dt[n])return Promise.resolve(Dt[n]);const o=km(t);return Dt[n]=o,Dt[n]}const jt=new wm(je());function Sm(e){return Z({queryKey:["curve-pools",e],queryFn:async({queryKey:[,t]})=>jt.getPools(t),placeholderData:Et,enabled:w(()=>!!e.value)})}function Lm(e,t){return Z({queryKey:["curve-pool",t],queryFn:async({queryKey:[,n]})=>jt.getPool(e.value,n),enabled:w(()=>!!e.value)})}function Am(e,t){const n=w(()=>t.value.map(o=>({queryKey:["curve-pool",o],queryFn:()=>jt.getPool(e.value,o),enabled:w(()=>!!e.value)})));return ti({queries:n})}function Tm(e,t){return Z({queryKey:["curve-volume",t],queryFn:async({queryKey:[,n]})=>jt.getVolume(e.value,n),enabled:w(()=>!!e.value&&!!t.value),initialData:[],initialDataUpdatedAt:0})}const Pm=["src"],Im=["href"],Vm=["src"],Rm=P({__name:"TokenIcon",props:{chain:{default:"ethereum"},address:{},clickable:{type:Boolean,default:!1}},setup(e){const t=R("");function n(l){return`https://cdn.jsdelivr.net/gh/curvefi/curve-assets/images/assets${e.chain!=="ethereum"?`-${e.chain}`:""}/${l}.png`}const o=()=>{t.value="https://lend.curve.fi/images/default-crypto.png"};B(()=>e.address,l=>{t.value=n(l.toLowerCase())},{immediate:!0});const s=w(()=>{switch(e.chain){case"arbitrum":return`https://arbiscan.io/address/${e.address}`;case"ethereum":default:return`https://etherscan.io/address/${e.address}`}});return(l,c)=>l.clickable?(g(),A("a",{key:1,target:"_blank",href:a(s)},[m("img",{src:t.value,onError:o},null,40,Vm)],8,Im)):(g(),A("img",{key:0,src:t.value,onError:o},null,40,Pm))}}),Ue=V(Rm,[["__scopeId","data-v-e4d8b79d"]]),Ta=e=>(pe("data-v-c920758b"),e=e(),me(),e),qm={key:0},Fm=Ta(()=>m("button",null,"1",-1)),Dm=[Fm],xm=Ta(()=>m("button",null,[m("i",{class:"fas fa-chevron-left"})],-1)),Mm=[xm],Bm=["onClick"],Om=Ta(()=>m("button",null,[m("i",{class:"fas fa-chevron-right"})],-1)),Um=[Om],Em=P({__name:"Pagination",props:{page:{},itemsCount:{},itemsPerPage:{}},emits:["page"],setup(e,{emit:t}){const n=t,o=w(()=>Math.ceil(e.itemsCount/e.itemsPerPage)),s=w(()=>{const _=[...Array(12).keys()].map($=>$-6+e.page).filter($=>$>=1&&$<=o.value),d=_.findIndex($=>$===e.page),f=[],h=[],b=e.page!==1&&e.page!==o.value?[e.page]:[];let y=1;for(;;){const $=_[d-y];if($&&$!==1&&f.unshift($),f.length+h.length+b.length>=5||y>_.length)break;const k=_[d+y];if(k&&k!==o.value&&h.push(k),y++,f.length+h.length+b.length>=5||y>_.length)break}return[...f,...b,...h]});B(s,()=>{const u=l(e.page,1,o.value);e.page!==u&&n("page",u)});const l=(u,p,_)=>(_<p&&(_=p),Math.min(Math.max(u,p),_)),c=()=>n("page",l(e.page-1,1,o.value)),i=()=>n("page",l(e.page+1,1,o.value)),r=u=>n("page",l(u,1,o.value));return(u,p)=>a(o)>1?(g(),A("ul",qm,[m("li",{class:U({active:u.page===1}),onClick:p[0]||(p[0]=_=>r(1))},Dm,2),a(o)>2?(g(),A("li",{key:0,onClick:c},Mm)):O("",!0),(g(!0),A(oe,null,ve(a(s),(_,d)=>(g(),A("li",{key:d,class:U({active:_===u.page}),onClick:f=>r(_)},[m("button",null,T(_),1)],10,Bm))),128)),a(o)>2?(g(),A("li",{key:1,onClick:i},Um)):O("",!0),a(o)>1?(g(),A("li",{key:2,class:U({active:u.page===a(o)}),onClick:p[1]||(p[1]=_=>r(a(o)))},[m("button",null,T(a(o)),1)],2)):O("",!0)])):O("",!0)}}),Ee=V(Em,[["__scopeId","data-v-c920758b"]]);function At(e,t){const n=R(e),o=R("desc"),s=(c,i)=>{n.value=c,o.value=i},l=w(()=>({column:n.value,order:o.value}));return{sortColumn:n,sortOrder:o,sorting:l,onSort:s}}function Gt(e,t){const n=R(1),o=w(()=>D.chain(e.value).drop((n.value-1)*t).take(t).value()),s=l=>{n.value=l};return B(o,l=>{l.length===0&&(n.value=Math.max(1,Math.ceil(e.value.length/t)))}),{page:n,rowsPage:o,onPage:s}}function Pa(){const e=R(1);return{page:e,onPage:n=>{e.value=n}}}const Wm={class:"tokens"},Hm={class:"end"},Km={class:"end"},Nm={class:"end"},cn=20,bs=P({__name:"TablePools",props:{chain:{},pools:{}},emits:["selected"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=["","",{id:"name",label:"Name",sort:!0},{id:"volume",label:"Volume (24h)",sort:!0,align:"end"},{id:"tvl",label:"TVL",sort:!0,align:"end"},{id:"util",label:"Util",sort:!0,align:"end"}],{sorting:l,onSort:c}=At("tvl"),i=w(()=>D.chain(e.pools).orderBy(d=>{switch(l.value.column){case"name":return d.name;case"volume":return d.tradingVolume24h;case"tvl":return d.tvlUsd;case"util":return _(d);default:return d.tvlUsd}},l.value.order).value()),{page:r,rowsPage:u,onPage:p}=Gt(i,cn);function _(d){return d.tvlUsd!==0?100*d.tradingVolume24h/d.tvlUsd:0}return(d,f)=>{const h=Ee,b=Ue,y=te,$=re,k=W;return g(),I(k,{title:a(n)("title")},{actions:C(()=>[v(h,{"items-count":d.pools.length,"items-per-page":cn,page:a(r),onPage:a(p)},null,8,["items-count","page","onPage"])]),default:C(()=>[v($,{class:"pools-table","expand-side":"left",rows:a(u),columns:s,sorting:a(l),onSortColumn:a(c),onSelected:f[0]||(f[0]=S=>o("selected",S))},{row:C(({item:S})=>[m("div",Wm,[(g(!0),A(oe,null,ve(S.coins,L=>(g(),I(b,{key:L.address,chain:d.chain,address:L.address},null,8,["chain","address"]))),128))]),m("div",null,T(S.name),1),m("div",Hm,[v(y,{value:S.tradingVolume24h,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Km,[v(y,{value:S.tvlUsd,precision:2,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Nm,[v(y,{value:_(S),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"])])]),"row-details":C(()=>[z("   ")]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function un(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pools"}}}})}typeof un=="function"&&un(bs);const zm=V(bs,[["__scopeId","data-v-b39ce8ec"]]),Qm={class:"pools"},jm={class:"toolbar"},gs=P({__name:"Pools.page",setup(e){const{t}=x(),n=["ethereum","arbitrum"],o=Ce("chain"),s=w({get(){return o.value?o.value:"ethereum"},set(b){o.value=b}}),l=R(""),{isFetching:c,data:i}=is(s),{isFetching:r,data:u}=Sm(s),p=w(()=>{var b;return(((b=u.value)==null?void 0:b.pools)??[]).filter(y=>{const $=l.value.toLocaleLowerCase().split(" "),k=S=>$.some(L=>S.toLocaleLowerCase().includes(L));return k(y.name)||k(y.address)})}),{show:_,crumbs:d}=K(De());he(()=>{_.value=!0,d.value=[{id:"pools",label:"Pools",pathName:"pools"},{id:"pool",label:"Select pool for details",hint:!0}]});const f=Oe(),h=async b=>{await f.push({name:"poolspool",params:{tab:"",chain:s.value,poolAddr:b.address}})};return(b,y)=>{const $=Pe,k=te,S=ge;return g(),A("div",Qm,[(g(),I(Ot,{to:"#toolbar"},[m("div",jm,[v($,{modelValue:a(l),"onUpdate:modelValue":y[0]||(y[0]=L=>ue(l)?l.value=L:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v(Lt,{class:"chain-select",chain:a(s),chains:n,onSelectChain:y[1]||(y[1]=L=>s.value=L==="all"?"ethereum":L)},null,8,["chain"])])])),v(S,{style:{"grid-area":"kpi1"},label:a(t)("tvl"),"has-value":!a(c)},{default:C(()=>{var L;return[v(k,{value:((L=a(i))==null?void 0:L.total.tvl)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(S,{style:{"grid-area":"kpi2"},label:a(t)("volume"),"has-value":!a(c)},{default:C(()=>{var L;return[v(k,{value:((L=a(i))==null?void 0:L.total.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(S,{style:{"grid-area":"kpi3"},label:a(t)("fee-trading"),"has-value":!a(c)},{default:C(()=>{var L;return[v(k,{value:((L=a(i))==null?void 0:L.total.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(S,{style:{"grid-area":"kpi4"},label:a(t)("fee-liquidity"),"has-value":!a(c)},{default:C(()=>{var L;return[v(k,{value:((L=a(i))==null?void 0:L.total.liquidityFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(zm),{style:{"grid-area":"pools"},chain:a(s),pools:a(p),loading:a(r),onSelected:h},null,8,["chain","pools","loading"])])}}});function dn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},"fee-trading":{t:0,b:{t:2,i:[{t:3}],s:"Fees Trading (24h)"}},"fee-liquidity":{t:0,b:{t:2,i:[{t:3}],s:"Fees Liquidity (24h)"}}}})}typeof dn=="function"&&dn(gs);const Gm=V(gs,[["__scopeId","data-v-4ededc1d"]]),Xm={class:"tab-view"},Ym={class:"tab-headers"},Zm=["onClick"],Jm={class:"tabs"},ev=P({__name:"TabView",props:{active:{default:0}},emits:["tab"],setup(e,{emit:t}){const n=t,o=R(null),s=Ho(),l=w(()=>(s!=null&&s.default?s.default():[]).filter(r=>r.props));B(()=>e.active,i=>{o.value=i,n("tab",{tab:l.value[i],index:o.value})},{immediate:!0});const c=(i,r)=>{i.props.disabled||(o.value=r,n("tab",{tab:l.value[r],index:o.value}))};return(i,r)=>(g(),A("div",Xm,[m("ul",Ym,[(g(!0),A(oe,null,ve(a(l),(u,p)=>(g(),A("li",{key:p,class:U(["tab-header",{active:a(o)===p,disabled:u.props.disabled}]),onClick:_=>c(u,p)},T(u.props.header),11,Zm))),128))]),m("div",Jm,[(g(!0),A(oe,null,ve(a(l),(u,p)=>ha((g(),A("div",{key:p,class:"tab"},[(g(),I(ma(u)))])),[[ai,a(o)===p]])),128))])]))}}),We=V(ev,[["__scopeId","data-v-cb076fcc"]]),He=P({__name:"TabItem",props:{header:{default:""},disabled:{type:Boolean,default:!1}},setup(e){return(t,n)=>ae(t.$slots,"default")}}),tv=new cs;function av(e,t,n,o){return Z({queryKey:["curve-token-price",t,n,o],queryFn:({queryKey:[,s,l,c]})=>tv.getOHLC(e.value,s,l,c),enabled:w(()=>!!e.value&&!!t.value&&!!n.value&&!!o.value),initialData:[],initialDataUpdatedAt:0})}const nv=P({__name:"ButtonToggle",props:Qe({icon:{default:""},value:{default:""}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:Qe(["change"],["update:modelValue"]),setup(e,{emit:t}){const n=wt(e,"modelValue"),o=t,s=()=>{const l=!n.value;n.value=l,o("change",l)};return(l,c)=>(g(),A("button",{class:U({toggled:n.value}),onClick:s},[ae(l.$slots,"default",{},()=>[l.icon?(g(),A("i",{key:0,class:U(["icon",l.icon])},null,2)):O("",!0),z(" "+T(l.value),1)],!0)],2))}}),Tt=V(nv,[["__scopeId","data-v-293e52b8"]]),ov={class:"controls"},ys=P({__name:"ChartPrice",props:{ohlc:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),s=R(!1);let l=1,c=0;const{chart:i,chartRef:r}=ce(o,u,f=>{n=f.addCandlestickSeries(p())});B([H(()=>e.ohlc),i,s],_),B(o,()=>{n==null||n.applyOptions(p())});function u(f){return ie(f,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function p(){const{colors:f}=o.value;return{priceFormat:{type:"custom",formatter:d},upColor:f.green,borderUpColor:f.green,wickUpColor:f.green,downColor:f.red,borderDownColor:f.red,wickDownColor:f.red}}function _([f,h,b]){if(!h||!n)return;const y=b?-1:1,$=D.chain(f).map(k=>({time:k.time,open:Math.pow(k.open,y),high:Math.pow(k.high,y),low:Math.pow(k.low,y),close:Math.pow(k.close,y)})).uniqWith((k,S)=>k.time===S.time).orderBy(k=>k.time,"asc").value();$.length>0&&(n.setData($),c=Math.min(...$.map(k=>k.low)),l=Math.max(...$.map(k=>k.high))),h.timeScale().fitContent()}const d=f=>{const h=l-c,b=h>1?h-Math.floor(h):h,y=-Math.floor(Math.log10(b)+1)+2;return`${Y(f,y,"dollar")}${X(f,"dollar")}`};return(f,h)=>{const b=Tt,y=W;return g(),I(y,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",ov,[v(b,{value:"Invert","model-value":a(s),onClick:h[0]||(h[0]=$=>s.value=!a(s))},null,8,["model-value"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:r,class:"chart"},null,512)]),_:1},8,["title"])}}});function pn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof pn=="function"&&pn(ys);const sv=V(ys,[["__scopeId","data-v-0033147b"]]),ws=P({__name:"ChartVolume",props:{volume:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,p=>{n=p.addAreaSeries(i())});B([H(()=>e.volume),s],r),B(o,()=>n.applyOptions(i()));function c(p){return ie(p,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([p,_]){if(!_||!n)return;const d=D.chain(p).map(f=>({time:f.timestamp,value:f.volume})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();d.length>0&&n.setData(d),_.timeScale().fitContent()}const u=p=>`$${Y(p,1,"dollar")}${X(p,"dollar")}`;return(p,_)=>{const d=W;return g(),I(d,{class:"chart-container",title:a(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function mn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof mn=="function"&&mn(ws);const lv=V(ws,[["__scopeId","data-v-bf31681f"]]),rv={class:"pool-overview"},iv={class:"tokens"},Cs=P({__name:"PoolOverview",props:{pool:{},chain:{}},setup(e){const{t}=x(),n=w(()=>{var p;return(p=e.pool)==null?void 0:p.address}),o=w(()=>{var p;return(p=e.pool)==null?void 0:p.coins[0].address}),s=w(()=>{var p;return(p=e.pool)==null?void 0:p.coins[1].address}),{isFetching:l,data:c}=av(H(()=>e.chain),n,o,s),{isFetching:i,data:r}=Tm(H(()=>e.chain),n),u=w(()=>r.value.map(p=>({timestamp:p.timestamp,volume:p.volume})));return(p,_)=>{const d=Ue,f=ge,h=te;return g(),A("div",rv,[v(f,{style:{"grid-area":"kpi1"},label:a(t)("tokens"),"has-value":!!p.pool},{default:C(()=>{var b;return[m("div",iv,[(g(!0),A(oe,null,ve(((b=p.pool)==null?void 0:b.coins)??[],y=>(g(),I(d,{key:y.address,chain:p.chain,address:y.address,clickable:!0},null,8,["chain","address"]))),128))])]}),_:1},8,["label","has-value"]),v(f,{style:{"grid-area":"kpi2"},label:a(t)("tvl"),"has-value":!!p.pool},{default:C(()=>{var b;return[v(h,{value:((b=p.pool)==null?void 0:b.tvlUsd)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(f,{style:{"grid-area":"kpi3"},label:a(t)("volume"),"has-value":!!p.pool},{default:C(()=>{var b;return[v(h,{value:((b=p.pool)==null?void 0:b.tradingVolume24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(f,{style:{"grid-area":"kpi4"},label:a(t)("fees"),"has-value":!!p.pool},{default:C(()=>{var b;return[v(h,{value:((b=p.pool)==null?void 0:b.tradingFee24h)??0,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(sv),{style:{"grid-area":"price"},ohlc:a(c),loading:a(l)},null,8,["ohlc","loading"]),v(a(lv),{style:{"grid-area":"volume"},volume:a(u),loading:a(i)},null,8,["volume","loading"])])}}});function vn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{tokens:{t:0,b:{t:2,i:[{t:3}],s:"Tokens"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},volume:{t:0,b:{t:2,i:[{t:3}],s:"Volume (24h)"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees (24h)"}}}})}typeof vn=="function"&&vn(Cs);const cv=V(Cs,[["__scopeId","data-v-f9bd0840"]]),uv={},dv={class:"mev"};function pv(e,t){return g(),A("div",dv,"MEV goes here")}const mv=V(uv,[["render",pv],["__scopeId","data-v-284efb34"]]);function it(e,t,n){const o=Oe(),s=Ce("tab",e[0]),l=R(-1);return B(s,c=>l.value=e.findIndex(i=>i===c),{immediate:!0}),B(l,async c=>{c===-1&&(c=0),await o.push({name:t,params:{tab:e[c],...(n==null?void 0:n())??{}},replace:s.value===""})},{immediate:!0}),{tabActive:s,tabActiveIndex:l}}const vv={class:"pool"},_v=P({__name:"Pool.page",setup(e){const{show:t,crumbs:n}=K(De()),o=Ce("chain"),s=Ce("poolAddr"),{isFetching:l,data:c}=Lm(o,s.value);B(c,u=>{n.value=[{id:"pools",label:"Pools",pathName:"pools",params:()=>({chain:o.value})},{id:"pool",label:`Pool: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),he(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:r}=it(["overview","mev"],"poolspool",()=>({chain:o.value,poolAddr:s.value}));return(u,p)=>{const _=Ge,d=He,f=We;return g(),A("div",vv,[v(_,{class:U(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(c)?(g(),I(f,{key:0,active:a(r),onTab:p[0]||(p[0]=h=>r.value=h.index)},{default:C(()=>[v(d,{header:"Overview"},{default:C(()=>[(g(),I(ye,null,[a(i)==="overview"?(g(),I(cv,{key:0,pool:a(c),chain:a(o)},null,8,["pool","chain"])):O("",!0)],1024))]),_:1}),v(d,{header:"MEV"},{default:C(()=>[(g(),I(ye,null,[a(i)==="mev"?(g(),I(mv,{key:0,pool:a(c),chain:a(o)},null,8,["pool","chain"])):O("",!0)],1024))]),_:1})]),_:1},8,["active"])):O("",!0)])}}}),hv=V(_v,[["__scopeId","data-v-4b11359e"]]),Ia=yt("curveStore",()=>{const e=R([]),t=R({}),n=R({});function o(l,c){t.value[l]=c}function s(l,c){n.value[l]=c}return{gauges:e,emissions:t,fees:n,setEmissions:o,setFees:s}});function Ze(e){const t=e.reduce((n,{timeStamp:o,value:s})=>n.set(o,(n.get(o)??0)+s),new Map);return Array.from(t).map(n=>({timeStamp:n[0],value:n[1]}))}const $s=P({__name:"ChartEmissions",props:{gaugeSelected:{}},setup(e){const{t}=x(),n=Ia(),{theme:o}=K(Q()),s=w(()=>{let h=t("title");return e.gaugeSelected&&(h+=` - ${Be(e.gaugeSelected.name)}`),h}),l=w(()=>e.gaugeSelected?n.emissions[e.gaugeSelected.name]??[]:[]),c=w(()=>e.gaugeSelected?n.fees[e.gaugeSelected.name]??[]:[]),i=w(()=>Math.min(...Ze(l.value).map(h=>h.value).concat(Ze(c.value).map(h=>h.value)))),r=w(()=>Math.max(...Ze(l.value).map(h=>h.value).concat(Ze(c.value).map(h=>h.value)).map(h=>Math.abs(h)))),u=w(()=>se(o.value,{chart:{id:"curve-emissions",animations:{enabled:!1},toolbar:{tools:{download:!0}}},xaxis:{type:"datetime"},yaxis:[{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>_(h)},min:i,max:r},{seriesName:"emissions",tickAmount:4,labels:{formatter:h=>d(h)},show:!1,min:i,max:r}],plotOptions:{bar:{distributed:!1,dataLabels:{position:"top",hideOverflowingLabels:!1}}},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:h=>{const b=h.w.globals.initialSeries[0].data[h.dataPointIndex].y,y=h.w.globals.initialSeries[1].data[h.dataPointIndex]?h.w.globals.initialSeries[1].data[h.dataPointIndex].y:0;return[`<div><b>${t("emissions")}</b>:</div><div>${_(b)}</div>`,`<div><b>${t("fees")}</b>:</div><div>${d(y)}</div>`,`<div><b>${t("ratio")}</b>:</div><div>${f(y/b)}</div>`].join("")}},dataLabels:{enabled:!1},csv:{filename:"emissions.csv",columnDelimiter:",",headerCategory:"category",headerValue:"value",dateFormatter(h){return h}}})),p=w(()=>{const h=Ze(l.value),b=Ze(c.value),y=Object.assign({},...b.map($=>({[$.timeStamp]:$.value})));return[{name:t("emissions"),type:"line",data:h.map($=>({x:$.timeStamp*1e3,y:$.value}))},{name:t("fees"),type:"line",data:h.map($=>({x:$.timeStamp*1e3,y:y[$.timeStamp]?Math.abs(y[$.timeStamp]):0}))}]}),_=h=>`$${Y(Math.abs(h),1,"dollar")}${X(h,"dollar")}`,d=h=>`$${Y(h,1,"dollar")}${X(h,"dollar")}`,f=h=>`${Ne(h,2)}`;return(h,b)=>{const y=de;return g(),I(y,{class:"emissions",title:a(s),options:a(u),series:a(p)},null,8,["title","options","series"])}}});function _n(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Emissions & Revenues"}},emissions:{t:0,b:{t:2,i:[{t:3}],s:"Emissions"}},fees:{t:0,b:{t:2,i:[{t:3}],s:"Fees"}},ratio:{t:0,b:{t:2,i:[{t:3}],s:"Ratio"}}}})}typeof _n=="function"&&_n($s);const fv=V($s,[["__scopeId","data-v-f214c6ee"]]),bv={class:"end"},gv={key:0,class:"charts"},yv={key:1},ks=P({__name:"TableGauges",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const n=t,{t:o}=x(),s=Ia(),l=w(()=>["",{id:"name",label:o("name"),sort:!0},{id:"tvl",label:o("tvl"),sort:!0,align:"end"}]),{sorting:c,onSort:i}=At("tvl"),r=w(()=>D.orderBy(s.gauges,u=>{switch(c.value.column){case"name":return Be(u.name);case"tvl":return u.tvl;default:return u.tvl}},c.value.order));return(u,p)=>{const _=te,d=re,f=W;return g(),I(f,{title:a(o)("title")},{default:C(()=>[v(d,{class:"gauges-tables",rows:a(r),columns:a(l),sorting:a(c),expanded:u.expanded,onSortColumn:a(i),onSelected:p[0]||(p[0]=h=>n("selected",h))},{row:C(h=>[m("div",null,T(a(Be)(h.item.name)),1),m("div",bv,[v(_,{value:h.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":C(h=>[u.expanded.includes(h.item)?(g(),A("div",gv,[v(fv,{class:"fees-and-emissions","gauge-selected":h.item},null,8,["gauge-selected"])])):(g(),A("span",yv))]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function hn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},title:{t:0,b:{t:2,i:[{t:3}],s:"Curve Pools"}}}})}typeof hn=="function"&&hn(ks);const wv=V(ks,[["__scopeId","data-v-6c09e87d"]]);class Cv extends Xe{async get(){const t=await this.getHost();return this.fetch(`${t}/curvepool`)}}class $v extends Xe{async get(t){const n=await this.getHost();return this.fetch(`${n}/curvepoolsnapshots`,{pool:t.name})}}function Xt(){const e=R([]);return{expanded:e,toggleExpansion:n=>{const o=e.value.findIndex(s=>s===n);return o===-1?(e.value.push(n),!0):(e.value.splice(o,1),!1)}}}const kv={class:"gauges"},Sv=P({__name:"Gauges.page",setup(e){let t=!1;const n=new Cv(je()),o=new $v(je()),s=Ia(),l=Oe(),c=Ce("gauge"),{expanded:i,toggleExpansion:r}=Xt();he(async()=>{t=!0;const d=await bt(n.get());if(d){const f=d.pools;if(f.sort((h,b)=>b.tvl-h.tvl),s.gauges=f,!t)return;c.value&&p(c.value)}}),fa(()=>{t=!1});const u=async d=>{if(!d||s.fees[d.name]&&s.emissions[d.name])return;const f=await bt(o.get(d),500);if(f){const h=f.data.feeSnapshots,b=f.data.emissionSnapshots;s.setFees(d.name,h),s.setEmissions(d.name,b)}},p=d=>{const f=wa(d),h=s.gauges.find(b=>b.name===f);h&&r(h)&&u(h)},_=async d=>{r(d)&&(u(d),await l.push({name:"curvegauges",params:{gauge:Be(d.name)}}))};return(d,f)=>(g(),A("div",kv,[v(wv,{class:"gauges-table",expanded:a(i),onSelected:_},null,8,["expanded"])]))}}),Lv=V(Sv,[["__scopeId","data-v-d352b6c0"]]),Av=e=>({week:e.week,label:e.label,total_fees:e.total_fees}),Tv=e=>({chain:e.chain,totalDailyFeesUSD:e.totalDailyFeesUSD}),Pv=e=>({name:e.name,totalDailyFeesUSD:e.totalDailyFeesUSD}),Iv=e=>({timestamp:Ie(e.timestamp),controller:e.controller.toLocaleLowerCase(),collateral:e.collateral,feesUsd:e.fees_usd}),Vv=e=>({timestamp:Ie(e.timestamp),chain:e.chain,feesUsd:e.fees_usd}),Rv=e=>({pool:e.pool.toLocaleLowerCase(),name:e.name,adminFees:e.admin_fees,usdValue:e.usd_value}),qv=e=>({timestamp:Ie(e.timestamp),feesUsd:e.fees_usd}),Fv=e=>({timestamp:Ie(e.dt),coin:{lpToken:e.coin.lp_token,symbol:e.coin.symbol,address:e.coin.address.toLocaleLowerCase(),precision:e.coin.precision},amount:BigInt(e.amount),amountFee:BigInt(e.fee_amount),amountReceived:e.amount_received,routerReceived:e.router_received,epoch:e.epoch,txHash:e.tx_hash.toLocaleLowerCase(),blockNumber:e.block_number}),ta="https://api-py.llama.airforce/curve/v1",aa="https://prices.curve.fi";class Dv extends Xe{async getBreakdown(t){return(await this.fetch(`${ta}/protocol/revenue/historical/breakdown?from=1686750777`,void 0,t)).revenue.map(Av)}async getByChain(t){return(await this.fetch(`${ta}/protocol/revenue/chains`,void 0,t)).revenue.map(Tv)}async getTopPools(t,n=10){const o=t==="ethereum"?"mainnet":t;return(await this.fetch(`${ta}/protocol/revenue/${o}/toppools/${n}`)).revenue.map(Pv)}async getCrvUsdWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/crvusdweekly`)).fees.map(Iv)}async getPoolsWeekly(){const t=await this.getHost();return(await this.fetch(`${t}/revenue/pools`)).fees.map(Vv)}async getCushions(t){return(await this.fetch(`${aa}/v1/dao/fees/${t}/pending`)).data.map(Rv)}async getDistributions(){return await Go(o=>this.fetch(`${aa}/v1/dao/fees/distributions?page=${o}&per_page=100`).then(s=>s.distributions.map(qv)),1,100)}async getCowSwapSettlements(t){return(await this.fetch(`${aa}/v1/dao/fees/settlements${t?"?timestamp="+t:""}`)).data.map(Fv)}}const ct=new Dv(je());function Pt(){return{initialData:[],initialDataUpdatedAt:0}}function xv(e){return Z({queryKey:["curve-cushions",e],queryFn:({queryKey:[,t]})=>ct.getCushions(t).then(n=>n.sort((o,s)=>s.usdValue-o.usdValue)),...Pt()})}function Mv(e){return Z({queryKey:["curve-revenue-top-pools",e],queryFn:({queryKey:[,t]})=>ct.getTopPools(t),...Pt()})}function Bv(){return Z({queryKey:["curve-revenue-chain"],queryFn:()=>ct.getByChain().then(e=>e.sort((t,n)=>n.totalDailyFeesUSD-t.totalDailyFeesUSD)),...Pt()})}function Ov(){return Z({queryKey:["curve-revenue-breakdown"],queryFn:()=>ct.getBreakdown(),...Pt()})}function Uv(){return Z({queryKey:["curve-revenue-distributions"],queryFn:()=>ct.getDistributions(),initialData:[],initialDataUpdatedAt:0})}function Ev(){return Z({queryKey:["curve-revenue-cow-settlements"],queryFn:()=>ct.getCowSwapSettlements(),...Pt()})}const Wv={class:"actions"},Ss=P({__name:"ChartBreakdown",setup(e){const{t}=x(),{theme:n}=K(Q()),{items:o}=Fe(()=>[{id:"dao",label:"DAO",color:n.value.colorsArray[0]},{id:"lps",label:"Liquidity Providers",color:n.value.colorsArray[1]}]),{isFetching:s,data:l}=Ov(),c=w(()=>{const{colors:f,colorsArray:h}={colors:n.value.colors,colorsArray:[n.value.colorsArray[0],d(n.value.colorsArray[0],10),d(n.value.colorsArray[0],20),n.value.colorsArray[1],d(n.value.colorsArray[1],10)]};return se({colors:f,colorsArray:h},{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:r.value,labels:{formatter:p,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:_},min:0},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})}),i=w(()=>D.chain(l.value).groupBy(f=>f.week).map(f=>({week:f[0].week,numLabels:f.length})).orderBy(f=>f.week,"asc").dropWhile(f=>f.numLabels<3).map(f=>f.week).value()),r=w(()=>D.chain(i.value).map(f=>new Date(f*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).value()),u=w(()=>D.chain(l.value).groupBy(f=>f.label).map((f,h)=>({name:h,data:D.chain(i.value).map(b=>({week:b,breakdown:f.find(y=>y.week===b)})).map(b=>{var y;return{x:new Date(b.week*1e3).toLocaleDateString(),y:((y=b.breakdown)==null?void 0:y.total_fees)??0}}).value()})).orderBy(f=>f.name).value()),p=f=>f,_=f=>`$${Y(f,0,"dollar")}${X(f,"dollar")}`,d=(f,h)=>{let[b,y,$]=[f.slice(1,3),f.slice(3,5),f.slice(5,7)].map(S=>parseInt(S,16));const k=(S,L)=>Math.min(255,Math.max(0,L+Math.round(2.55*S)));return b=k(h,b),y=k(h,y),$=k(h,$),`#${b.toString(16).padStart(2,"0")}${y.toString(16).padStart(2,"0")}${$.toString(16).padStart(2,"0")}`};return(f,h)=>{const b=qe,y=Wt,$=de;return g(),I($,{class:"chart",options:a(c),series:a(u),loading:a(s),title:a(t)("title")},{actions:C(()=>[m("div",Wv,[v(b,{items:a(o)},null,8,["items"]),v(y,{placement:"left"},{default:C(()=>[m("div",null,T(a(t)("legend-explanation")),1)]),_:1})])]),_:1},8,["options","series","loading","title"])}}});function fn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Revenue breakdown by source"}},"legend-explanation":{t:0,b:{t:2,i:[{t:3}],s:"DAO revenue goes to veCRV lockers, Liquidity Provider revenue goes to people that LP"}}}})}typeof fn=="function"&&fn(Ss);const Hv=V(Ss,[["__scopeId","data-v-b3f99584"]]),Ls=P({__name:"ChartChain",setup(e){const{t}=x(),{theme:n}=K(Q()),{isFetching:o,data:s}=Bv(),l=w(()=>se(n.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},legend:{inverseOrder:!0},stroke:{width:.5},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:r=>{const u=r.w.globals.labels[r.seriesIndex],p=r.series[r.seriesIndex][0];return[`<div><b>${u}</b>:</div><div>${i(p)}</div>`].join("")}},labels:s.value.map(r=>r.chain)})),c=w(()=>s.value.map(r=>r.totalDailyFeesUSD)),i=r=>`$${Y(Math.abs(r),1,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=de;return g(),I(p,{class:"chart",options:a(l),series:a(c),loading:a(o),title:a(t)("title")},null,8,["options","series","loading","title"])}}});function bn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total revenue by chain"}}}})}typeof bn=="function"&&bn(Ls);const Kv=V(Ls,[["__scopeId","data-v-c6af6b9d"]]),As=P({__name:"ChartTopPools",setup(e){const{t}=x(),{theme:n}=K(Q()),o=R("ethereum"),{isFetching:s,data:l}=Mv(o),c=w(()=>se(n.value,{chart:{id:"chainRevenues",type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value.map(p=>p.name),labels:{formatter:r}},plotOptions:{bar:{horizontal:!0}},dataLabels:{style:{fontSize:"11px"},formatter:r,dropShadow:!1},grid:{yaxis:{lines:{show:!1}},xaxis:{lines:{show:!0}}},tooltip:{enabled:!1}}));he(()=>{u("ethereum")});const i=w(()=>[{data:l.value.map(p=>p.totalDailyFeesUSD)}]),r=p=>`$${Y(Math.abs(p),1,"dollar")}${X(p,"dollar")}`,u=p=>{p!=="all"&&(o.value=p)};return(p,_)=>{const d=de;return g(),I(d,{class:"graph",options:a(c),series:a(i),loading:a(s),title:a(t)("title")},{actions:C(()=>[m("div",{class:U(["selector",{loading:a(s)}])},[v(Lt,{chain:a(o),onSelectChain:u},null,8,["chain"])],2)]),_:1},8,["options","series","loading","title"])}}});function gn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top 10 pools by revenue (last 7 days)"}}}})}typeof gn=="function"&&gn(As);const Nv=V(As,[["__scopeId","data-v-85cc9eab"]]),zv={class:"revenue-charts"},Qv=P({__name:"Dashboard",setup(e){return(t,n)=>(g(),A("div",zv,[v(Kv,{style:{"grid-area":"chain"},class:"chain"}),v(Nv,{style:{"grid-area":"top-pools"}}),v(Hv,{style:{"grid-area":"breakdown"},class:"breakdown"})]))}}),jv=V(Qv,[["__scopeId","data-v-3ec72074"]]),Gv={class:"end"},Ts=P({__name:"TableDistributions",props:{distributions:{}},setup(e){const{t}=x(),n=[{id:"timestamp",label:"Date",sort:!0},{id:"fees",label:"Fees",sort:!0,align:"end"}],{sorting:o,onSort:s}=At("timestamp"),l=w(()=>D.chain(e.distributions).orderBy(i=>{switch(o.value.column){case"timestamp":return i.timestamp;case"fees":return i.feesUsd;default:return i.timestamp}},o.value.order).value());function c(i){return new Date(i*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}return(i,r)=>{const u=te,p=re,_=W;return g(),I(_,{title:a(t)("title")},{default:C(()=>[v(p,{class:"distributions-table",rows:a(l),columns:n,sorting:a(o),onSortColumn:a(s)},{row:C(({item:{timestamp:d,feesUsd:f}})=>[m("div",null,T(c(d)),1),m("div",Gv,[v(u,{value:f,precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows","sorting","onSortColumn"])]),_:1},8,["title"])}}});function yn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}}}})}typeof yn=="function"&&yn(Ts);const Xv=V(Ts,[["__scopeId","data-v-5bda332d"]]),Yv={class:"actions"},Ps=P({__name:"ChartDistributions",props:{distributions:{}},setup(e){const{t}=x(),{theme:n}=K(Q());let o;const s=R(!1),l=R(void 0),{chart:c,chartRef:i}=ce(n,r,d=>{o=d.addHistogramSeries(u())});B([H(()=>e.distributions),c],p),B(n,()=>o.applyOptions(u()));function r(d){return ie(d,n.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:d=>_(d),minMove:.01},color:n.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function p([d,f]){if(!f||!o)return;const h=D.chain(d).map(b=>({time:b.timestamp,value:b.feesUsd})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").takeRight(52).value();if(h.length>0){o.setData(h);const b=h[0].time,y=h[h.length-1].time;f.timeScale().setVisibleRange({from:b,to:y})}}const _=d=>`$${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{ref_key:"chartCard",ref:l,class:U(["chart-card",{fullscreen:a(s)}]),title:a(t)("title")},{actions:C(()=>{var b;return[m("div",Yv,[v(a(rt),{modelValue:a(s),"onUpdate:modelValue":f[0]||(f[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(b=a(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function wn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions (1y)"}}}})}typeof wn=="function"&&wn(Ps);const Zv=V(Ps,[["__scopeId","data-v-b561fde2"]]),Jv={class:"actions"},Is=P({__name:"ChartDistributionsDelta",props:{distributions:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),s=R(!1),l=R(void 0),{chart:c,chartRef:i}=ce(o,r,d=>{n=d.addHistogramSeries(u())});B([H(()=>e.distributions),c],p),B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:d=>_(d),minMove:.01},color:o.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function p([d,f]){if(!f||!n)return;const{colors:h}=o.value,b=D.chain(d).map(y=>({time:y.timestamp,value:y.feesUsd})).uniqWith((y,$)=>y.time===$.time).orderBy(y=>y.time,"asc").takeRight(53).reduce((y,$,k,S)=>{if(k===0)return y;const L=$.value-S[k-1].value,F=L<0?h.red:h.green;return y.push({time:$.time,value:L,color:F}),y},[]).value();if(b.length>0){n.setData(b);const y=b[0].time,$=b[b.length-1].time;f.timeScale().setVisibleRange({from:y,to:$})}}const _=d=>`$${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{ref_key:"chartCard",ref:l,class:U(["chart-card",{fullscreen:a(s)}]),title:a(t)("title")},{actions:C(()=>{var b;return[m("div",Jv,[v(a(rt),{modelValue:a(s),"onUpdate:modelValue":f[0]||(f[0]=y=>ue(s)?s.value=y:null),chart:a(c),target:(b=a(l))==null?void 0:b.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title","class"])}}});function Cn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions Change (1y)"}}}})}typeof Cn=="function"&&Cn(Is);const e_=V(Is,[["__scopeId","data-v-df4a1561"]]),t_={class:"distributions"},Vs=P({__name:"Distributions",setup(e){const{t}=x(),{isFetching:n,data:o}=Uv(),s=w(()=>D.chain(o.value).sumBy(i=>i.feesUsd).value()),l=w(()=>D.chain(o.value).orderBy(i=>i.timestamp,"desc").take(52).meanBy(i=>i.feesUsd).value()),c=w(()=>{const i=D.chain(o.value).orderBy(p=>p.timestamp,"desc").take(52).map(p=>p.feesUsd).value(),r=D.mean(i),u=i.map(p=>Math.pow(p-r,2));return Math.sqrt(D.sum(u)/(i.length-1))});return(i,r)=>{const u=te,p=ge;return g(),A("div",t_,[v(p,{style:{"grid-area":"kpi1"},label:a(t)("total"),"has-value":a(o).length>0},{default:C(()=>[v(u,{value:a(s),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{style:{"grid-area":"kpi2"},label:a(t)("avg"),"has-value":a(o).length>0},{default:C(()=>[v(u,{value:a(l),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(p,{style:{"grid-area":"kpi3"},label:a(t)("stddev"),"has-value":a(o).length>0},{default:C(()=>[v(u,{value:a(c),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(Zv,{style:{"grid-area":"chart"},distributions:a(o),loading:a(n)},null,8,["distributions","loading"]),v(e_,{style:{"grid-area":"delta"},distributions:a(o),loading:a(n)},null,8,["distributions","loading"]),v(Xv,{style:{"grid-area":"table"},distributions:a(o),loading:a(n)},null,8,["distributions","loading"])])}}});function $n(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Distributions"}},total:{t:0,b:{t:2,i:[{t:3}],s:"Total"}},avg:{t:0,b:{t:2,i:[{t:3}],s:"Average (1y)"}},stddev:{t:0,b:{t:2,i:[{t:3}],s:"Standard Deviation (1y)"}}}})}typeof $n=="function"&&$n(Vs);const a_=V(Vs,[["__scopeId","data-v-1f9012bc"]]),Rs=e=>(pe("data-v-7ae800dc"),e=e(),me(),e),n_=["href"],o_={class:"end"},s_=Rs(()=>m("div",null,null,-1)),l_=Rs(()=>m("div",null,null,-1)),r_={class:"end"},qs=P({__name:"TableCushions",setup(e){const{t}=x(),n=R(""),o=w(()=>c.value||u.value),s=R("ethereum"),{data:l,isFetching:c}=Md(),i=w(()=>D.chain(r.value).filter(_=>_.usdValue>100).filter(_=>{const d=n.value.toLocaleLowerCase().split(" "),f=h=>d.some(b=>h.toLocaleLowerCase().includes(b));return f(_.pool)||f(_.name)}).value()),{data:r,isFetching:u}=xv(s),p=_=>`https://etherscan.io/address/${_}`;return(_,d)=>{const f=Pe,h=te,b=re,y=W;return g(),I(y,{class:"cushions-card",title:a(t)("title"),loading:a(o)},{actions:C(()=>[v(Lt,{class:"chain-select",chain:a(s),chains:a(l),onSelectChain:d[0]||(d[0]=$=>s.value=$==="all"?"ethereum":$)},null,8,["chain","chains"]),v(f,{modelValue:a(n),"onUpdate:modelValue":d[1]||(d[1]=$=>ue(n)?n.value=$:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:C(()=>[v(b,{class:"cushions-table",rows:a(i),columns:["Name","Address",{label:"Fees ($)",align:"end"}]},{row:C($=>[m("div",null,T($.item.name),1),m("div",null,[m("a",{class:"font-mono",href:p($.item.pool),target:"_blank"},T($.item.pool),9,n_)]),m("div",o_,[v(h,{value:$.item.usdValue,precision:2,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[s_,l_,m("div",r_,[v(h,{value:a(i).reduce(($,k)=>$+k.usdValue,0),precision:2,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function kn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Cushions"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof kn=="function"&&kn(qs);const i_=V(qs,[["__scopeId","data-v-7ae800dc"]]),c_={class:"cushions"},u_=P({__name:"Cushions",setup(e){return(t,n)=>(g(),A("div",c_,[v(i_)]))}}),d_=V(u_,[["__scopeId","data-v-8d09f656"]]),p_=e=>({auctionStartBlock:e.auctionStartBlock,orders:e.auction.orders.map(t=>t),prices:Object.entries(e.auction.prices).reduce((t,[n,o])=>(t[n]=BigInt(o),t),{}),solutions:e.solutions.map(t=>({solver:t.solver,solverAddress:t.solverAddress,score:BigInt(t.score),ranking:t.ranking,clearingPrices:Object.entries(t.clearingPrices).reduce((n,[o,s])=>(n[o]=BigInt(s),n),{}),orders:t.orders.map(n=>({id:n.id,sellAmount:BigInt(n.sellAmount),buyAmount:BigInt(n.buyAmount)}))}))}),m_="https://api.cow.fi";class v_ extends Ae{async getCompetition(t){const n=await this.fetch(`${m_}/mainnet/api/v1/solver_competition/by_tx_hash/${t}`);return p_(n)}}const __=new v_;function h_(e){return Z({queryKey:["solver-competition",e],queryFn:({queryKey:[,t]})=>__.getCompetition(t)})}const f_=e=>(pe("data-v-768c21bf"),e=e(),me(),e),b_={class:"settlement-details-body"},g_={class:"info col"},y_={class:"buttons"},w_=f_(()=>m("i",{class:"fas fa-expand"},null,-1)),C_={class:"font-mono json"},$_={key:0,class:"fas fa-trophy"},k_={key:1},S_=["href"],L_=P({__name:"SettlementDetails",props:{settlement:{}},setup(e){const{data:t,isPending:n}=h_(H(()=>e.settlement.txHash)),o=w(()=>t.value?JSON.stringify(t.value,(_,d)=>typeof d=="bigint"?d.toString():d,2):"no data"),s=w(()=>{var _,d;return(((d=(_=t.value)==null?void 0:_.solutions)==null?void 0:d.length)??0)===0?[]:D.chain(t.value.solutions).orderBy(f=>f.ranking,"asc").value()});function l(_){return`https://etherscan.io/address/${_}`}async function c(_){await navigator.clipboard.writeText(_)}async function i(){await navigator.clipboard.writeText(o.value)}function r(_){switch(_){case 1:return"gold";case 2:return"silver";case 3:return"bronze";default:return""}}const u=R(!1),p=R(void 0);return(_,d)=>{const f=ge,h=$e,b=ds,y=W,$=re;return g(),I(y,{class:"settlement-details"},{default:C(()=>[m("div",b_,[m("div",g_,[v(f,{label:"Auction Start Block","has-value":!a(n)},{default:C(()=>{var k;return[z(T(((k=a(t))==null?void 0:k.auctionStartBlock)??0),1)]}),_:1},8,["has-value"]),v(f,{label:"Solvers","has-value":!a(n)},{default:C(()=>{var k,S;return[z(T(((S=(k=a(t))==null?void 0:k.solutions)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),v(f,{label:"Orders","has-value":!a(n)},{default:C(()=>{var k,S;return[z(T(((S=(k=a(t))==null?void 0:k.orders)==null?void 0:S.length)??0),1)]}),_:1},8,["has-value"]),v(y,{ref_key:"cardJson",ref:p,class:U(["card-json col",{fullscreen:a(u)}]),title:"Json"},{actions:C(()=>[m("div",y_,[v(h,{icon:"fas fa-link",onClick:d[0]||(d[0]=k=>i())}),v(h,{onClick:d[2]||(d[2]=k=>u.value=!a(u))},{default:C(()=>{var k;return[w_,v(b,{target:(k=a(p))==null?void 0:k.$el,show:a(u),onClose:d[1]||(d[1]=S=>u.value=!1)},null,8,["target","show"])]}),_:1})])]),default:C(()=>[m("div",C_,T(a(o)),1)]),_:1},8,["class"])]),v(y,{class:"col",title:"Solvers"},{default:C(()=>[v($,{class:"solvers-table col",rows:a(s)},{row:C(({item:{solver:k,solverAddress:S,ranking:L,score:F}})=>[m("div",{class:U(["trophy",r(L)])},[L<=3?(g(),A("i",$_)):(g(),A("span",k_,T(L),1))],2),m("div",null,[m("a",{class:"font-mono",href:l(S),target:"_blank"},T(k),9,S_)]),m("div",null,T(F),1),m("div",null,[v(h,{icon:"fas fa-link",onClick:M=>c(S)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1})])]),_:1})}}}),A_=V(L_,[["__scopeId","data-v-768c21bf"]]);function T_(e,t){const o=Math.round(e.value/1e3)-t;return o<60?`${Math.round(o)} seconds ago`:o<60*60?`${Math.round(o/60)} minutes ago`:o<60*60*24?`${Math.round(o/(60*60))} hours ago`:`${Math.round(o/(60*60*24))} days ago`}function ut(){const e=R(Date.now());return he(()=>{setInterval(()=>{e.value=Date.now()})}),{relativeTime:n=>T_(e,n)}}const P_=e=>(pe("data-v-bf7319ed"),e=e(),me(),e),I_={class:"header-content"},V_={class:"token"},R_=["href"],q_={class:"end"},F_={class:"end"},D_={class:"end"},x_={class:"end profit"},M_={class:"end"},B_=["href"],O_={class:"end"},U_=P_(()=>m("div",{class:"empty"},null,-1)),Sn=15,Fs=P({__name:"TableSettlements",props:{settlements:{}},setup(e){const{t}=x(),n=[{id:"token",label:"Token",sort:!1},{id:"amount",label:"Amount",sort:!0,align:"end"},{id:"quote",label:"Quote",sort:!0,align:"end"},{id:"profit",label:"Profit",sort:!0,align:"end"},{id:"profitPct",label:"(%)",sort:!0,align:"end"},{id:"tx",label:"Transaction",sort:!1,align:"end"},{id:"timestamp",label:"Time",sort:!0,align:"end"}],{sorting:o,onSort:s}=At("timestamp"),l=w(()=>D.chain(e.settlements).orderBy(b=>{switch(o.value.column){case"amount":return b.amountReceived;case"quote":return b.routerReceived;case"profit":return d(b);case"profitPct":return f(b);case"timestamp":default:return b.timestamp}},o.value.order).value()),{page:c,rowsPage:i,onPage:r}=Gt(l,Sn),{expanded:u,toggleExpansion:p}=Xt(),{relativeTime:_}=ut();function d(b){return b.amountReceived-b.routerReceived}function f(b){return 100*b.amountReceived/b.routerReceived-100}function h(b){const y=b.coin.symbol;return y.includes(":")?y.split(":")[1]:y}return(b,y)=>{const $=Ee,k=Ue,S=te,L=re,F=W;return g(),I(F,{title:a(t)("title")},{actions:C(()=>[m("div",I_,[v($,{"items-count":a(l).length,"items-per-page":Sn,page:a(c),onPage:a(r)},null,8,["items-count","page","onPage"])])]),default:C(()=>[v(L,{class:"settlements-table",rows:a(i),columns:n,sorting:a(o),expanded:a(u),"expand-side":"right",onSortColumn:a(s),onSelected:a(p)},{row:C(({item:M})=>[m("div",V_,[v(k,{address:M.coin.address},null,8,["address"]),m("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${M.coin.address}`},T(h(M)),9,R_)]),m("div",q_,[v(S,{value:M.amountReceived,precision:2,type:"dollar"},null,8,["value"])]),m("div",F_,[v(S,{value:M.routerReceived,precision:2,type:"dollar"},null,8,["value"])]),m("div",D_,[M.routerReceived>1?(g(),I(S,{key:0,value:d(M),precision:2,inline:!1,type:"dollar"},null,8,["value"])):O("",!0)]),m("div",x_,[M.routerReceived>1?(g(),I(S,{key:0,class:U(["pct",{green:f(M)>0}]),value:f(M),precision:2,inline:!1,type:"percentage"},null,8,["value","class"])):O("",!0)]),m("div",M_,[m("a",{class:"font-mono",href:`https://explorer.cow.fi/tx/${M.txHash}`,target:"_blank",onClick:y[0]||(y[0]=Te(()=>{},["stop"]))},T(a(Le)(M.txHash)),9,B_)]),m("div",O_,T(a(_)(M.timestamp)),1)]),"row-details":C(({item:M})=>[U_,a(u).includes(M)?(g(),I(A_,{key:0,settlement:M},null,8,["settlement"])):O("",!0)]),_:1},8,["rows","sorting","expanded","onSortColumn","onSelected"])]),_:1},8,["title"])}}});function Ln(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"CowSwap Settlements"}}}})}typeof Ln=="function"&&Ln(Fs);const E_=V(Fs,[["__scopeId","data-v-bf7319ed"]]),W_={class:"settlements"},H_=P({__name:"Settlements",setup(e){const{isFetching:t,data:n}=Ev();return(o,s)=>(g(),A("div",W_,[v(E_,{style:{"grid-area":"table"},settlements:a(n),loading:a(t)},null,8,["settlements","loading"])]))}}),K_=V(H_,[["__scopeId","data-v-c2696ab1"]]),N_={class:"revenue"},z_=P({__name:"Revenue.page",setup(e){const{tabActive:t,tabActiveIndex:n}=it(["overview","distributions","cushions","settlements"],"revenue");return(o,s)=>{const l=He,c=We;return g(),A("div",N_,[v(c,{active:a(n),onTab:s[0]||(s[0]=i=>n.value=i.index)},{default:C(()=>[v(l,{header:"Revenue"},{default:C(()=>[(g(),I(ye,null,[a(t)==="overview"?(g(),I(jv,{key:0})):O("",!0)],1024))]),_:1}),v(l,{header:"Distributions"},{default:C(()=>[(g(),I(ye,null,[a(t)==="distributions"?(g(),I(a_,{key:0})):O("",!0)],1024))]),_:1}),v(l,{header:"Cushions"},{default:C(()=>[(g(),I(ye,null,[a(t)==="cushions"?(g(),I(d_,{key:0})):O("",!0)],1024))]),_:1}),v(l,{header:"Settlements"},{default:C(()=>[(g(),I(ye,null,[a(t)==="settlements"?(g(),I(K_,{key:0})):O("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),Q_=V(z_,[["__scopeId","data-v-206449c4"]]),j_=e=>(pe("data-v-280fb392"),e=e(),me(),e),G_={class:"end"},X_={class:"end"},Y_={class:"end"},Z_={class:"end"},J_=j_(()=>m("div",null,null,-1)),eh={class:"end"},th={class:"end"},ah={class:"end"},nh={class:"end"},Ds=P({__name:"TablePegkeepers",setup(e){const{t}=x(),n=R(""),o=w(()=>_.value||c.value),s=w(()=>D.chain(i.value).map(h=>{const b=d.value.find(y=>h.pool_address===y.address);if(b)return{...b,...h}}).filter(ec).orderBy(h=>h.tvlUsd,"desc").value()),l=w(()=>D.chain(s.value).filter(h=>{const b=n.value.toLocaleLowerCase().split(" "),y=$=>b.some(k=>$.toLocaleLowerCase().includes(k));return y(h.name)||y(h.address)}).value()),{isFetching:c,data:i}=us(),r=h=>`${h.pair[1].symbol} / ${h.pair[0].symbol}`,u=w(()=>i.value.map(h=>h.pool_address)),p=Am(R("ethereum"),u),_=w(()=>p.value.some(h=>h.isFetching)),d=w(()=>p.value.filter(h=>h.data).map(h=>h.data)),f=h=>h>=1e6?2:0;return(h,b)=>{const y=Pe,$=te,k=re,S=W;return g(),I(S,{class:"pegkeepers-card",title:a(t)("title"),loading:a(o)},{actions:C(()=>[v(y,{modelValue:a(n),"onUpdate:modelValue":b[0]||(b[0]=L=>ue(n)?n.value=L:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:C(()=>[v(k,{class:"pegkeepers-table",rows:a(l),columns:["Name",{label:"Debt",align:"end"},{label:"TVL",align:"end"},{label:"Volume",align:"end"},{label:"Fees",align:"end"}]},{row:C(L=>[m("div",null,T(r(L.item)),1),m("div",G_,[v($,{value:L.item.total_debt,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",X_,[v($,{value:L.item.tvlUsd,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Y_,[v($,{value:L.item.tradingVolume24h,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",Z_,[v($,{value:L.item.total_profit,precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[J_,m("div",eh,[v($,{value:a(l).reduce((L,F)=>L+F.total_debt,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",th,[v($,{value:a(l).reduce((L,F)=>L+F.tvlUsd,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",ah,[v($,{value:a(l).reduce((L,F)=>L+F.tradingVolume24h,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])]),m("div",nh,[v($,{value:a(l).reduce((L,F)=>L+F.total_profit,0),precision:f,"show-zero":!0,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function An(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Pegkeepers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof An=="function"&&An(Ds);const oh=V(Ds,[["__scopeId","data-v-280fb392"]]),Va=e=>(pe("data-v-62c333b4"),e=e(),me(),e),sh={class:"end"},lh={class:"end"},rh={class:"end"},ih={class:"end"},ch={class:"end"},uh={class:"end"},dh=Va(()=>m("div",null,null,-1)),ph=Va(()=>m("div",null,null,-1)),mh={class:"end"},vh=Va(()=>m("div",null,null,-1)),_h={class:"end"},hh={class:"end"},fh={class:"end"},bh={class:"end"},xs=P({__name:"TableMarkets",emits:["selected"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=R(""),l=w(()=>D.chain(i.value).filter(u=>{const p=s.value.toLocaleLowerCase().split(" "),_=d=>p.some(f=>d.toLocaleLowerCase().includes(f));return _(u.name)||_(u.address)}).orderBy(u=>u.borrowed,"desc").value()),{isFetching:c,data:i}=Aa(),r=u=>u>=1e6?2:0;return(u,p)=>{const _=Pe,d=te,f=re,h=W;return g(),I(h,{class:"markets-card",title:a(n)("title"),loading:a(c)},{actions:C(()=>[v(_,{modelValue:a(s),"onUpdate:modelValue":p[0]||(p[0]=b=>ue(s)?s.value=b:null),search:!0,placeholder:a(n)("search-placeholder")},null,8,["modelValue","placeholder"])]),default:C(()=>[v(f,{class:"markets-table","expand-side":"left",rows:a(l),columns:["","Name",{label:"Loans",align:"end"},{label:"Rate",align:"end"},{label:"Borrowed",align:"end"},{label:"Collateral",align:"end"},{label:"Fees Pending",align:"end"},{label:"Fees Collected",align:"end"}],onSelected:p[1]||(p[1]=b=>o("selected",b))},{row:C(b=>[m("div",null,T(b.item.name),1),m("div",sh,T(b.item.loans),1),m("div",lh,[v(d,{value:b.item.rate*100,precision:2,type:"percentage"},null,8,["value"])]),m("div",rh,[v(d,{value:b.item.borrowed,precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",ih,[v(d,{value:b.item.collateralUsd,precision:r,type:"dollar"},null,8,["value"])]),m("div",ch,[v(d,{value:b.item.fees.pending,precision:r,type:"dollar"},null,8,["value"])]),m("div",uh,[v(d,{value:b.item.fees.collected,precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-aggregation":C(()=>[dh,ph,m("div",mh,T(a(l).reduce((b,y)=>b+y.loans,0)),1),vh,m("div",_h,[v(d,{value:a(l).reduce((b,y)=>b+y.borrowed,0),precision:r,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",hh,[v(d,{value:a(l).reduce((b,y)=>b+y.collateralUsd,0),precision:r,type:"dollar"},null,8,["value"])]),m("div",fh,[v(d,{value:a(l).reduce((b,y)=>b+y.fees.pending,0),precision:r,type:"dollar"},null,8,["value"])]),m("div",bh,[v(d,{value:a(l).reduce((b,y)=>b+y.fees.collected,0),precision:r,"show-zero":!0,type:"dollar"},null,8,["value"])])]),"row-details":C(()=>[z("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Tn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Markets"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Tn=="function"&&Tn(xs);const gh=V(xs,[["__scopeId","data-v-62c333b4"]]),yh=P({__name:"ChartCrvUsdPriceHistogram",setup(e){const{theme:t}=K(Q()),{isFetching:n,data:o}=Yd(),s=w(()=>se(t.value,{chart:{type:"bar",animations:{enabled:!1}},xaxis:{categories:l.value,labels:{formatter:i},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r}},plotOptions:{bar:{columnWidth:"75%"}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,custom:u=>{const p=l.value[u.dataPointIndex],_=u.series[0][u.dataPointIndex];return[`<div><b>${p}</b>:</div><div>${r(_)}</div>`].join("")}}})),l=w(()=>o.value.x.map(u=>u.toString())),c=w(()=>[{data:o.value.y}]),i=u=>{const p=u-1;return p<0?`-$${p.toString().substring(2,7)}`:`$${p.toString().substring(1,6)}`},r=u=>{var d,f;const p=((f=(d=c.value[0])==null?void 0:d.data)==null?void 0:f.reduce((h,b)=>h+b,0))??1,_=u/p*100;return`${Y(_,0,"dollar")}${X(_,"percentage")}`};return(u,p)=>{const _=de;return g(),I(_,{class:"chart",title:"crvUSD Price Deviation from $1 Histogram",loading:a(n),options:a(s),series:a(c)},null,8,["loading","options","series"])}}}),wh=V(yh,[["__scopeId","data-v-15de2c83"]]),Ch={class:"actions"},$h={class:"chart-types"},Ms=P({__name:"ChartCrvUsdSupply",setup(e){const{t}=x(),{theme:n}=K(Q()),o=R("line"),{items:s}=Fe(()=>[{id:"supply",label:"Supply",color:n.value.colorsArray[0]},{id:"borrowed",label:"Borrowed",color:n.value.colorsArray[1]}]),{isFetching:l,data:c}=Xd(),i=r=>{o.value!==r&&(o.value=r)};return(r,u)=>{const p=qe,_=Tt,d=W;return g(),I(d,{class:"chart-container",title:a(t)("title"),loading:a(l)},{actions:C(()=>[m("div",Ch,[a(o)==="line"?(g(),I(p,{key:0,items:a(s)},null,8,["items"])):O("",!0),m("div",$h,[v(_,{value:"Line","model-value":a(o)==="line",onClick:u[0]||(u[0]=f=>i("line"))},null,8,["model-value"]),v(_,{value:"Breakdown","model-value":a(o)==="breakdown",onClick:u[1]||(u[1]=f=>i("breakdown"))},null,8,["model-value"])])])]),default:C(()=>[(g(),I(ye,null,[a(o)==="line"?(g(),I(a(Ah),{key:0,data:a(c)},null,8,["data"])):O("",!0)],1024)),(g(),I(ye,null,[a(o)==="breakdown"?(g(),I(a(Lh),{key:0,data:a(c)},null,8,["data"])):O("",!0)],1024))]),_:1},8,["title","loading"])}}});function Pn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"crvUSD Supply"}}}})}typeof Pn=="function"&&Pn(Ms);const kh=V(Ms,[["__scopeId","data-v-fcb2d6a5"]]),Sh=P({__name:"ChartCrvUsdSupplyBreakdown",props:{data:{default:()=>[]}},setup(e){const{theme:t}=K(Q()),n=w(()=>se(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!1},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(e.data).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,u)=>new Date(parseInt(u,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,u)=>u%8===0?r:"").value()),s=w(()=>D.chain(e.data).groupBy(r=>r.market).map((r,u)=>({name:u,data:D.chain(r).groupBy(p=>p.timestamp).map((p,_)=>({x:new Date(parseInt(_,10)*1e3).toLocaleDateString(),y:p.reduce((d,f)=>d+f.supply,0)})).orderBy(p=>p.x,"asc").value()})).value()),l=w(()=>Math.max(...D.chain(e.data).groupBy(r=>r.timestamp).map(r=>r.reduce((u,p)=>u+p.supply,0)).value())*1.1),c=r=>r,i=r=>`${Y(r,1,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=zt;return g(),I(p,{class:"chart",options:a(n),series:a(s)},null,8,["options","series"])}}}),Lh=V(Sh,[["__scopeId","data-v-533c01eb"]]),Ah=P({__name:"ChartCrvUsdSupplyLine",props:{data:{default:()=>[]}},setup(e){let t,n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,_=>{t=_.addAreaSeries(i()),n=_.addLineSeries(r())});B([()=>e.data,s],u),B(o,()=>{t.applyOptions(i()),n.applyOptions(r())});function c(_){return ie(_,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:p},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r(){return{priceFormat:{type:"custom",formatter:p},lineWidth:2,lineType:_e.WithSteps,color:o.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function u([_,d]){if(!d||!t)return;const f=D.chain(_).groupBy(b=>b.timestamp).mapValues(b=>{var y;return{time:b[0].timestamp,value:b.reduce(($,k)=>$+k.supply,0),debt:((y=b.find($=>$.market==="Keepers debt"))==null?void 0:y.supply)??0}}).entries().map(b=>b[1]).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value(),h=f.map(b=>({time:b.time,value:b.value-b.debt}));f.length>0&&t.setData(f),h.length>0&&n.setData(h),d.timeScale().fitContent()}const p=_=>`${Y(_,0,"dollar")}${X(_,"dollar")}`;return(_,d)=>(g(),A("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512))}}),Bs=P({__name:"ChartMarketAvailableCap",props:{market:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,r,d=>n=d.addAreaSeries(u())),{isFetching:c,data:i}=Nt(H(()=>e.market));B([i,s],p),B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:_},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function p([d,f]){if(!f||!n)return;const h=D.chain(d).map(b=>({time:b.timestamp,value:b.borrowable})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").dropWhile(b=>b.value===0).value();h.length>0&&n.setData(h),f.timeScale().fitContent()}const _=d=>`$${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{class:"chart-container",title:a(t)("title"),loading:a(c)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function In(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable & Debt Ceiling"}}}})}typeof In=="function"&&In(Bs);const Th=V(Bs,[["__scopeId","data-v-321cc502"]]),Os=P({__name:"ChartMarketLoans",props:{market:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,r,d=>{n=d.addHistogramSeries(u())}),{isFetching:c,data:i}=Nt(H(()=>e.market));B([i,s],p),B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:_}})}function u(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function p([d,f]){if(!f||!n)return;const h=D.chain(d).map(b=>({time:b.timestamp,value:b.nLoans})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();if(h.length>0){n.setData(h);const b=h[0].time,y=h[h.length-1].time;f.timeScale().setVisibleRange({from:b,to:y})}}const _=d=>Math.round(d).toString();return(d,f)=>{const h=W;return g(),I(h,{class:"chart-container",title:a(t)("title"),loading:a(c)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Vn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Vn=="function"&&Vn(Os);const Ph=V(Os,[["__scopeId","data-v-e8bb79c7"]]),Ih=["min","max"],Vh=P({__name:"InputNumber",props:Qe({min:{default:()=>-1/0},max:{default:()=>1/0}},{modelValue:{required:!0,default:null},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue");return B(t,n=>{n===""?t.value=null:typeof n=="number"&&(t.value=Math.min(Math.max(n,e.min),e.max))}),(n,o)=>ha((g(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),type:"number",min:n.min,max:n.max},null,8,Ih)),[[Ko,t.value]])}}),Us=V(Vh,[["__scopeId","data-v-f442b732"]]),Rh={class:"actions"},Es=P({__name:"ChartMarketRates",props:{market:{}},setup(e){const{t}=x();let n,o;const{theme:s}=K(Q()),{chart:l,chartRef:c}=ce(s,p,y=>{n=y.addAreaSeries(_()),o=y.addLineSeries(d())}),i=R(null),{isFetching:r,data:u}=Nt(H(()=>e.market));B([u,l],f),B(i,()=>f([u.value,l.value])),B(s,()=>{n.applyOptions(_()),o.applyOptions(d())});function p(y){return ie(y,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function _(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,lineType:_e.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function d(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,lineType:_e.WithSteps,color:s.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function f([y,$]){if(!$||!n)return;const k=D.chain(y).map(F=>({time:F.timestamp,value:F.rate})).uniqWith((F,M)=>F.time===M.time).orderBy(F=>F.time,"asc").value(),S=b(k.map(F=>F.value),i.value??31),L=D.chain(S).zip(k).map(F=>({time:F[1].time,value:F[0]})).value();if(L.length>0&&o.setData(L),k.length>0){n.setData(k);const F=k[0].time,M=k[k.length-1].time;$.timeScale().setVisibleRange({from:F,to:M})}}const h=y=>`${Y(y*100,0,"percentage")}${X(y,"percentage")}`,b=(y,$=7)=>y.map((k,S)=>{const L=Math.max(S-($-1),0),F=S+1,M=y.slice(L,F);return M.reduce((E,ne)=>E+ne,0)/M.length});return(y,$)=>{const k=Us,S=W;return g(),I(S,{class:"chart-container",title:a(t)("title"),loading:a(r)},{actions:C(()=>[m("div",Rh,[v(k,{modelValue:a(i),"onUpdate:modelValue":$[0]||($[0]=L=>ue(i)?i.value=L:null),class:"avg-span",placeholder:"Avg span (days)",min:1,max:1/0},null,8,["modelValue"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:c,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function Rn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}}}})}typeof Rn=="function"&&Rn(Es);const qh=V(Es,[["__scopeId","data-v-047cc5be"]]),Fh=e=>{const t=e.provider.toLocaleLowerCase(),n=e.deposit?{amount:e.deposit.amount,n1:e.deposit.n1,n2:e.deposit.n2}:null,o=e.withdrawal?{amount_borrowed:e.withdrawal.amount_borrowed,amount_collateral:e.withdrawal.amount_collateral}:null,s=e.block_number,l=e.timestamp,c=e.transaction_hash.toLocaleLowerCase();return{provider:t,deposit:n,withdrawal:o,block_number:s,timestamp:l,transaction_hash:c}},Dh=e=>({sold_id:e.sold_id,bought_id:e.bought_id,token_sold:{symbol:e.token_sold.symbol,address:e.token_sold.address.toLocaleLowerCase()},token_bought:{symbol:e.token_bought.symbol,address:e.token_bought.address.toLocaleLowerCase()},amount_sold:e.amount_sold,amount_bought:e.amount_bought,price:e.price,buyer:e.buyer.toLocaleLowerCase(),fee_x:e.fee_x,fee_y:e.fee_y,block_number:e.block_number,timestamp:e.timestamp,transaction_hash:e.transaction_hash}),xh=e=>({time:e.time,open:e.open,close:e.close,high:e.high,low:e.low,base_price:e.base_price,oracle_price:e.oracle_price,volume:e.volume}),na="https://prices.curve.fi";class Mh extends Ae{async getEvents(t,n,o,s){const l=await this.fetch(`${na}/v1/${t}/llamma_events/${n}/${o}?page=${s}&per_page=10`);return{events:l.data.map(Fh),count:l.count}}async getTrades(t,n,o,s){const l=await this.fetch(`${na}/v1/${t}/llamma_trades/${n}/${o}?page=${s}&per_page=10`);return{trades:l.data.map(Dh),count:l.count}}async getOHLC(t,n,o){const s=Math.floor(new Date().getTime()/1e3),l=s-10*24*60*60;return(await this.fetch(`${na}/v1/${t}/llamma_ohlc/${n}/${o}?agg_number=1&agg_units=hour&start=${l}&end=${s}`)).data.map(xh)}}const Ra=new Mh;function Ws(e,t,n,o){return Z({queryKey:["llamma-market-events",t,o],queryFn:({queryKey:[,s,l]})=>Ra.getEvents(e.value,n.value,s,l),placeholderData:Et,enabled:w(()=>!!t.value&&!!n.value)})}function Hs(e,t,n,o){return Z({queryKey:["llamma-market-trades",t,o],queryFn:({queryKey:[,s,l]})=>Ra.getTrades(e.value,n.value,s,l),placeholderData:Et,enabled:w(()=>!!t.value&&!!n.value)})}function qa(e,t,n){return Z({queryKey:["llamma-market-ohlc",t],queryFn:({queryKey:[,o]})=>Ra.getOHLC(e.value,n.value,o),enabled:w(()=>!!t.value&&!!n.value)})}const Ks=P({__name:"ChartMarketVolume",props:{market:{},chain:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,r,d=>{n=d.addAreaSeries(u())}),{isFetching:c,data:i}=qa(H("crvusd"),w(()=>{var d;return(d=e.market)==null?void 0:d.llamma}),H(()=>e.chain));B([i,s],p),B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:_},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function p([d,f]){if(!f||!n)return;const h=D.chain(d).map(b=>({time:b.time,value:b.volume})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();h.length>0&&n.setData(h),f.timeScale().fitContent()}const _=d=>`$${Y(d,0,"dollar")}${X(d,"dollar")}`;return(d,f)=>{const h=W;return g(),I(h,{class:"chart-container",title:a(t)("title"),loading:a(c)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function qn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Volume"}}}})}typeof qn=="function"&&qn(Ks);const Bh=V(Ks,[["__scopeId","data-v-cfa18ea9"]]),Oh={class:"actions"},Ns=P({__name:"ChartKeeperPrices",setup(e){const{t}=x();let n=[];const{theme:o}=K(Q()),s=["USDC","USDT","TUSD","USDP"],{items:l,toggles:c,disabled:i}=Fe(()=>s.map((M,q)=>({id:M,label:M,color:o.value.colorsArray[q],togglable:!0}))),r=w(()=>u.value||_.value),{isFetching:u,data:p}=us(),{isFetching:_,data:d}=Zd(p),f=R(!1),h=R(void 0),{chart:b,chartRef:y}=ce(o,$,()=>{S()});B(o,()=>{for(const[M,q]of n.entries())q.applyOptions(k(M))});function $(M){return ie(M,o.value,{height:M.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function k(M){return{priceFormat:{type:"custom",formatter:F},lineWidth:2,lineType:_e.WithSteps,color:o.value.colorsArray[M],lastValueVisible:!1,priceLineVisible:!1,autoscaleInfoProvider:q=>{const E=q();return E!==null&&(E.priceRange.minValue=Math.max(.98,E.priceRange.minValue),E.priceRange.maxValue=Math.min(1.02,E.priceRange.maxValue)),E}}}function S(){if(b.value){for(const M of n)b.value.removeSeries(M);n=[];for(let M=0;M<s.length;M++){const q=b.value.addLineSeries(k(M));n.push(q)}}}Ut(L);function L(){if(!(!b.value||n.length<0)){for(const[M,q]of s.entries()){if(!c[q].value){n[M].setData([]);continue}const E=D.chain(d.value).map(ne=>({time:ne.timestamp,value:ne[q]})).uniqWith((ne,N)=>ne.time===N.time).orderBy(ne=>ne.time,"asc").value();E.length>0&&n[M].setData(E)}b.value.timeScale().fitContent()}}const F=M=>`${Y(M,3,"dollar")}${X(M,"dollar")}`;return(M,q)=>{const E=qe,ne=W;return g(),I(ne,{ref_key:"chartCard",ref:h,class:U(["chart-container",{fullscreen:a(f)}]),title:a(t)("title"),loading:a(r)},{actions:C(()=>{var N;return[m("div",Oh,[v(E,{items:a(l),disabled:a(i),onToggle:q[0]||(q[0]=G=>a(c)[G].value=!a(c)[G].value)},null,8,["items","disabled"]),v(a(rt),{modelValue:a(f),"onUpdate:modelValue":q[1]||(q[1]=G=>ue(f)?f.value=G:null),chart:a(b),target:(N=a(h))==null?void 0:N.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:y,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function Fn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Stablecoin Prices of Pegkeepers"}}}})}typeof Fn=="function"&&Fn(Ns);const Uh=V(Ns,[["__scopeId","data-v-7e8fabf8"]]),Eh={class:"crvusd"},Wh={class:"col"},Hh={class:"col"},Kh=P({__name:"CrvUsd.page",setup(e){const{show:t,crumbs:n}=K(De());he(()=>{t.value=!0,n.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:"Select market for details",hint:!0}]});const o=Oe(),s=async l=>{await o.push({name:"crvusdmarket",params:{tab:"",marketAddr:l.address}})};return(l,c)=>(g(),A("div",Eh,[v(a(gh),{style:{"grid-column":"1 / -1"},onSelected:s}),m("div",Wh,[v(a(oh)),v(a(Uh))]),m("div",Hh,[v(a(kh)),v(a(wh))])]))}}),Nh=V(Kh,[["__scopeId","data-v-5900dc0c"]]),zh=["href"],Qh={key:1},zs=P({__name:"Addresses",props:{market:{}},setup(e){const{t}=x(),n=w(()=>{var l,c,i;return[{description:"controller",address:(l=e.market)==null?void 0:l.address},{description:"factory",address:(c=e.market)==null?void 0:c.factory},{description:"llamma",address:(i=e.market)==null?void 0:i.llamma}]}),o=l=>`https://etherscan.io/address/${l}`,s=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=$e,r=re,u=W;return g(),I(u,{class:"addresses",title:a(t)("addresses")},{default:C(()=>[v(r,{class:"addresses-table",rows:a(n)},{row:C(({item:{description:p,address:_}})=>[m("div",null,T(a(t)(p)),1),m("div",null,[_?(g(),A("a",{key:0,class:"font-mono",href:o(_),target:"_blank"},T(_),9,zh)):(g(),A("span",Qh,"?"))]),m("div",null,[v(i,{icon:"fas fa-link",onClick:d=>s(_)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Dn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},factory:{t:0,b:{t:2,i:[{t:3}],s:"Factory"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}}}})}typeof Dn=="function"&&Dn(zs);const jh=V(zs,[["__scopeId","data-v-2cdb66c5"]]),Gh={key:0},Xh={class:"token-info"},Yh=["href"],Zh={key:1},Qs=P({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=x();function n(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var u,p;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((u=r==null?void 0:r.collateral_token)==null?void 0:u.address)??""}:{type:"token",symbol:(r==null?void 0:r.stablecoin_token.symbol)??"?",address:((p=r==null?void 0:r.stablecoin_token)==null?void 0:p.address)??""}}const s=w(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const u=Ue,p=$e,_=re,d=W;return g(),I(d,{class:"properties",title:a(t)("properties")},{default:C(()=>[v(_,{class:"properties-table",rows:a(s)},{row:C(({item:{description:f,value:h}})=>[m("div",null,T(a(t)(f)),1),n(h)?(g(),A("div",Gh,[m("div",Xh,[v(u,{chain:i.chain,address:h.address},null,8,["chain","address"]),m("div",null,T(h.symbol),1),m("div",null,[m("a",{class:"font-mono",href:l(h.address),target:"_blank"},T(h.address),9,Yh)]),m("div",null,[v(p,{icon:"fas fa-link",onClick:b=>c(h.address)},null,8,["onClick"])])])])):(g(),A("div",Zh,T(h),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function xn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof xn=="function"&&xn(Qs);const Jh=V(Qs,[["__scopeId","data-v-c5d47390"]]),ef={class:"market"},js=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=x();return(n,o)=>{const s=te,l=ge;return g(),A("div",ef,[v(l,{style:{"grid-area":"kpi1"},label:a(t)("borrow-rate"),"has-value":!!n.market},{default:C(()=>{var c;return[v(s,{value:100*(((c=n.market)==null?void 0:c.rate)??0),type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(l,{style:{"grid-area":"kpi2"},label:a(t)("borrowed"),"has-value":!!n.market},{default:C(()=>{var c;return[v(s,{value:(c=n.market)==null?void 0:c.borrowed,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(l,{style:{"grid-area":"kpi3"},label:a(t)("borrowable"),"has-value":!!n.market},{default:C(()=>{var c;return[v(s,{value:(c=n.market)==null?void 0:c.borrowable,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(l,{style:{"grid-area":"kpi4"},label:a(t)("loans"),"has-value":!!n.market},{default:C(()=>{var c;return[z(T(((c=n.market)==null?void 0:c.loans)??0),1)]}),_:1},8,["label","has-value"]),v(a(qh),{style:{"grid-area":"rates"},market:n.market},null,8,["market"]),v(a(Th),{style:{"grid-area":"cap"},market:n.market},null,8,["market"]),v(a(Ph),{style:{"grid-area":"loans"},market:n.market},null,8,["market"]),v(a(Bh),{style:{"grid-area":"volume"},market:n.market,chain:n.chain},null,8,["market","chain"]),v(a(Jh),{style:{"grid-area":"properties"},market:n.market,chain:n.chain},null,8,["market","chain"]),v(a(jh),{style:{"grid-area":"addresses"},market:n.market,chain:n.chain},null,8,["market","chain"])])}}});function Mn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-rate":{t:0,b:{t:2,i:[{t:3}],s:"Borrow Rate"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},borrowable:{t:0,b:{t:2,i:[{t:3}],s:"Borrowable"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof Mn=="function"&&Mn(js);const tf=V(js,[["__scopeId","data-v-0122bf85"]]),af=e=>({timestamp:Ie(e.timestamp),proportion:e.proportion/100}),nf=e=>({timestamp:Ie(e.dt),user:e.user.toLocaleLowerCase(),liquidator:e.liquidator.toLocaleLowerCase(),self:e.self,collateralReceived:e.collateral_received,collateralReceivedUsd:e.collateral_received_usd,stablecoinReceived:e.stablecoin_received,priceOracle:e.oracle_price,debt:e.debt,n1:e.n1,n2:e.n2,tx:e.tx.toLocaleLowerCase(),block:e.block}),of=e=>({timestamp:Ie(e.timestamp),selfCount:e.self_count,hardCount:e.hard_count,selfValue:e.self_value,hardValue:e.hard_value,price:e.price}),sf=e=>({softLiqUsers:e.soft_liquidation_users,liqablePositions:e.liquidatable_positions,liqableDebtUsd:e.liquidatable_pos_debt_usd,liqableCollatUsd:e.liquidatable_collateral_usd,liqableBorrowedUsd:e.liquidatable_borrowed_usd,medianHealth:e.median_health,avgHealth:e.average_health,collatRatio:e.collat_ratio}),lf=e=>({timestamp:Ie(e.timestamp),pctLossAverage:e.avg_pct_loss,pctLossMedian:e.median_pct_loss,absoluteLossAverage:e.avg_abs_loss,absoluteLossMedian:e.median_abs_loss,numTotalUsers:e.total_users,numUsersWithLosses:e.users_with_losses,ratio:e.ratio}),rf=e=>({decile:e.health_decile,collateralUsdValue:e.collateral,debt:e.debt,stablecoin:e.stablecoin}),Je="https://prices.curve.fi";class cf extends Ae{async getSoftLiqRatios(t,n,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/soft_liquidation_ratio`)).data.map(af)}async getLiqsDetailed(t,n,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/history/detailed`)).data.map(nf)}async getLiqsAggregate(t,n,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/history/aggregated`)).data.map(of)}async getLiqOverview(t,n,o){const s=await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/overview?fetch_on_chain=true`);return sf(s)}async getLiqLosses(t,n,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/losses/history`)).data.map(lf)}async getLiqHealthDeciles(t,n,o){return(await this.fetch(`${Je}/v1/${t}/liquidations/${n}/${o}/health/distribution`)).data.map(rf)}}const dt=new cf;function It(){return{initialData:[],initialDataUpdatedAt:0}}function pt(e,t){return{enabled:w(()=>!!e.value&&(t?!!t.value:!0))}}function Gs(e,t,n){return Z({queryKey:["liqs-soft-liqs",n],queryFn:({queryKey:[,o]})=>dt.getSoftLiqRatios(e.value,t.value,o),...pt(n,t),...It()})}function Xs(e,t,n){return Z({queryKey:["liqs-detailed",n],queryFn:({queryKey:[,o]})=>dt.getLiqsDetailed(e.value,t.value,o),...pt(n,t),...It()})}function Ys(e,t,n){return Z({queryKey:["liqs-aggregate",n],queryFn:({queryKey:[,o]})=>dt.getLiqsAggregate(e.value,t.value,o),...pt(n,t),...It()})}function Zs(e,t,n){return Z({queryKey:["liqs-overview",n],queryFn:({queryKey:[,o]})=>dt.getLiqOverview(e.value,t.value,o),...pt(n,t)})}function Js(e,t,n){return Z({queryKey:["liqs-losses",n],queryFn:({queryKey:[,o]})=>dt.getLiqLosses(e.value,t.value,o),...pt(n,t),...It()})}function el(e,t,n){return Z({queryKey:["liqs-health-deciles",n],queryFn:({queryKey:[,o]})=>dt.getLiqHealthDeciles(e.value,t.value,o),...pt(n,t),...It()})}const uf={class:"actions"},df={class:"chart-types"},tl=P({__name:"ChartLiqs",props:{liqs:{default:()=>[]}},setup(e){const{t}=x(),n=R("count"),o=s=>{n.value!==s&&(n.value=s)};return(s,l)=>{const c=Tt,i=W;return g(),I(i,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",uf,[m("div",df,[v(c,{value:"Count","model-value":a(n)==="count",onClick:l[0]||(l[0]=r=>o("count"))},null,8,["model-value"]),v(c,{value:"Value","model-value":a(n)==="value",onClick:l[1]||(l[1]=r=>o("value"))},null,8,["model-value"])])])]),default:C(()=>[a(n)==="count"?(g(),I(a(mf),{key:0,liqs:s.liqs},null,8,["liqs"])):(g(),I(a(_f),{key:1,liqs:s.liqs},null,8,["liqs"]))]),_:1},8,["title"])}}});function Bn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Self & Hard Liquidations"}}}})}typeof Bn=="function"&&Bn(tl);const al=V(tl,[["__scopeId","data-v-bb3ee8e9"]]),pf=P({__name:"ChartLiqsCount",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=K(Q()),n=w(()=>se(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(e.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,u)=>new Date(parseInt(u,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,u)=>u%8===0?r:"").value()),s=w(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfCount}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardCount}))}]),l=w(()=>Math.max(...D.chain(e.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((u,p)=>u+p.selfCount+p.hardCount,0)).value())*1.1),c=r=>r,i=r=>`${Y(r,1,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=zt;return g(),I(p,{class:"chart",options:a(n),series:a(s)},null,8,["options","series"])}}}),mf=V(pf,[["__scopeId","data-v-a106b06c"]]),vf=P({__name:"ChartLiqsValue",props:{liqs:{default:()=>[]}},setup(e){const{theme:t}=K(Q()),n=w(()=>se(t.value,{chart:{type:"bar",stacked:!0,animations:{enabled:!1}},xaxis:{categories:o.value,labels:{formatter:c,rotate:0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:i},min:0,max:l.value},plotOptions:{bar:{columnWidth:"75%",dataLabels:{position:"top",hideOverflowingLabels:!1}}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0}})),o=w(()=>D.chain(e.liqs).orderBy(r=>r.timestamp,"asc").groupBy(r=>r.timestamp).map((r,u)=>new Date(parseInt(u,10)*1e3).toLocaleDateString(void 0,{day:"2-digit",month:"2-digit"})).map((r,u)=>u%8===0?r:"").value()),s=w(()=>[{name:"Self liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.selfValue}))},{name:"Hard liquidations",data:Object.values(e.liqs).map(r=>({x:new Date(r.timestamp*1e3).toLocaleDateString(),y:r.hardValue}))}]),l=w(()=>Math.max(...D.chain(e.liqs).groupBy(r=>r.timestamp).map(r=>r.reduce((u,p)=>u+p.selfValue+p.hardValue,0)).value())*1.1),c=r=>r,i=r=>`${Y(r,1,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=zt;return g(),I(p,{class:"chart",options:a(n),series:a(s)},null,8,["options","series"])}}}),_f=V(vf,[["__scopeId","data-v-55b5b475"]]),nl=P({__name:"ChartLiqsMedianLoss",props:{losses:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,p=>{n=p.addAreaSeries(i())});B([H(()=>e.losses),s],r),B(o,()=>n.applyOptions(i()));function c(p){return ie(p,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([p,_]){if(!_||!n)return;const d=D.chain(p).map(f=>({time:f.timestamp,value:f.pctLossMedian})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();d.length>0&&n.setData(d),_.timeScale().fitContent()}const u=p=>`${Y(p,0,"percentage")}${X(p,"percentage")}`;return(p,_)=>{const d=W;return g(),I(d,{class:"chart-container",title:a(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function On(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Median Loss % Among Loans with Losses"}}}})}typeof On=="function"&&On(nl);const ol=V(nl,[["__scopeId","data-v-71119fa4"]]),sl=P({__name:"ChartLiqsLosersProportion",props:{losses:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,p=>{n=p.addAreaSeries(i())});B([H(()=>e.losses),s],r),B(o,()=>n.applyOptions(i()));function c(p){return ie(p,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([p,_]){if(!_||!n)return;const d=D.chain(p).map(f=>({time:f.timestamp,value:f.numTotalUsers>0?100*f.numUsersWithLosses/f.numTotalUsers:0})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();d.length>0&&n.setData(d),_.timeScale().fitContent()}const u=p=>`${Y(p,0,"percentage")}${X(p,"percentage")}`;return(p,_)=>{const d=W;return g(),I(d,{class:"chart-container",title:a(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Un(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Proportion of Loans with Losses"}}}})}typeof Un=="function"&&Un(sl);const ll=V(sl,[["__scopeId","data-v-e82cc18c"]]),hf=P({__name:"ChartLiqsHealthDeciles",props:{deciles:{}},setup(e){const{theme:t}=K(Q()),n=w(()=>se(t.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:o.value,labels:{formatter:l,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:c}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!0,custom:i=>{const r=i.series[0][i.dataPointIndex],u=i.series[1][i.dataPointIndex],p=i.series[2][i.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${c(u)}</div>`,`<div><b>Debt</b>: ${c(r)}</div>`,`<div><b>Stablecoin</b>: ${c(p)}</div>`].join("")}}})),o=w(()=>e.deciles.map(i=>i.decile)),s=w(()=>[{name:"Debt",data:Object.values(e.deciles).map(i=>i.debt)},{name:"Collateral",data:Object.values(e.deciles).map(i=>i.collateralUsdValue)},{name:"Stablecoin",data:Object.values(e.deciles).map(i=>i.stablecoin)}]),l=i=>i,c=i=>`$${Y(i,0,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"chart",title:"Debt & Assets per Health Deciles",options:a(n),series:a(s)},null,8,["options","series"])}}}),rl=V(hf,[["__scopeId","data-v-fd998f1d"]]),ff={class:"actions"},il=P({__name:"ChartLiqsSoftLiqRatio",props:{ratios:{},pricesOracle:{}},setup(e){const{t}=x();let n,o;const{theme:s}=K(Q()),{items:l}=Fe(()=>[{id:"percentage",label:"% of loans in soft liquidation",color:s.value.colorsArray[0]},{id:"collateral-price",label:"Collateral price ($)",color:s.value.colorsArray[1]}]),{chart:c,chartRef:i}=ce(s,r,h=>{n=h.addAreaSeries(p()),o=h.addAreaSeries(u())});B([H(()=>e.ratios),H(()=>e.pricesOracle),c],_),B(s,()=>{n.applyOptions(p()),o.applyOptions(u())});function r(h){return ie(h,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"custom",formatter:d},lineWidth:2,lineType:_e.WithSteps,lineColor:s.value.colors.yellow,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function p(){return{priceFormat:{type:"custom",formatter:f},lineWidth:2,lineType:_e.WithSteps,lineColor:s.value.colors.blue,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function _([h,b,y]){var L;if(!y||!n)return;const $=D.chain(h).map(F=>({time:F.timestamp,value:F.proportion})).uniqWith((F,M)=>F.time===M.time).orderBy(F=>F.time,"asc").value(),k=((L=$[0])==null?void 0:L.time)??0,S=D.chain(b).filter(F=>F.timestamp>=k).map(F=>({time:F.timestamp,value:F.priceOracle})).uniqWith((F,M)=>F.time===M.time).orderBy(F=>F.time,"asc").value();S.length>0&&o.setData(S),$.length>0&&n.setData($),y.timeScale().fitContent()}const d=h=>`$${Y(h,2,"dollar")}${X(h,"dollar")}`,f=h=>`${Y(h,0,"percentage")}${X(h,"percentage")}`;return(h,b)=>{const y=qe,$=W;return g(),I($,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",ff,[v(y,{items:a(l)},null,8,["items"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function En(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Soft Liquidations Ratio"}}}})}typeof En=="function"&&En(il);const cl=V(il,[["__scopeId","data-v-ef282403"]]),bf={class:"actions"},ul=P({__name:"ChartLiquidatorRevenue",props:{discounts:{},liqs:{}},setup(e){const{t}=x();let n,o;const{theme:s}=K(Q()),{items:l}=Fe(()=>[{id:"revenue",label:"Liquidator Revenue",color:s.value.colorsArray[0]},{id:"discount",label:"Discount",color:s.value.colorsArray[1]}]),{chart:c,chartRef:i}=ce(s,r,d=>{n=d.addAreaSeries(p()),o=d.addAreaSeries(u())});B([H(()=>e.discounts),H(()=>e.liqs),c],_),B(s,()=>{n.applyOptions(p()),o.applyOptions(u())});function r(d){return ie(d,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:!0,scaleMargins:{top:.1,bottom:.1}}})}function u(){return{priceFormat:{type:"price",precision:0,minMove:1},lineWidth:2,lineType:_e.WithSteps,lineColor:s.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function p(){return{priceFormat:{type:"percent",precision:6,minMove:1e-6},lineWidth:2,lineType:_e.WithSteps,lineColor:s.value.colors.yellow,priceScaleId:"left",topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function _([d,f,h]){var k;if(!h||!n||!o)return;const b=D.chain(f).map(S=>({time:S.timestamp,value:S.debt})).uniqWith((S,L)=>S.time===L.time).orderBy(S=>S.time,"asc").reduce((S,L)=>{const F=S.length>0?S[S.length-1].value:0;return S.push({time:L.time,value:L.value+F}),S},[]).value(),y=((k=b[0])==null?void 0:k.time)??0,$=D.chain(d).filter(S=>S.timestamp>=y).map(S=>({time:S.timestamp,value:S.discount*100})).uniqWith((S,L)=>S.time===L.time).orderBy(S=>S.time,"asc").value();b.length>0&&o.setData(b),$.length>0&&n.setData($),h.timeScale().fitContent()}return(d,f)=>{const h=qe,b=W;return g(),I(b,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",bf,[v(h,{items:a(l)},null,8,["items"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:i,class:"chart"},null,512)]),_:1},8,["title"])}}});function Wn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Liquidator Revenue"}}}})}typeof Wn=="function"&&Wn(ul);const dl=V(ul,[["__scopeId","data-v-672ebc0a"]]),gf={key:0,class:"end"},yf={key:1,class:"end"},wf={key:2},pl=P({__name:"TableLiqOverview",props:{overview:{}},setup(e){const{t}=x(),n=w(()=>{if(!e.overview)return[];const s=e.overview.liqableDebtUsd,l=e.overview.liqableCollatUsd+e.overview.liqableBorrowedUsd,c=s-l;return c<=0?[]:[{description:"Bad debt",value:c,type:"bad-debt"}]}),o=w(()=>{var s,l,c,i,r,u,p;return[{description:"Users in soft liquidation",value:((s=e.overview)==null?void 0:s.softLiqUsers)??0,type:"number"},{description:"Median health",value:((l=e.overview)==null?void 0:l.medianHealth)??0,type:"percentage"},{description:"Collaterization ratio",value:((c=e.overview)==null?void 0:c.collatRatio)??0,type:"percentage"},{description:"Liquidatable positions",value:((i=e.overview)==null?void 0:i.liqablePositions)??0,type:"number"},{description:"Liquidatable positions' debt",value:((r=e.overview)==null?void 0:r.liqableDebtUsd)??0,type:"dollar"},{description:"Liquidatable collateral (token / crvUSD)",value:[((u=e.overview)==null?void 0:u.liqableCollatUsd)??0,((p=e.overview)==null?void 0:p.liqableBorrowedUsd)??0],type:"collateral"},...n.value]});return(s,l)=>{const c=te,i=re,r=W;return g(),I(r,{title:a(t)("title")},{default:C(()=>[v(i,{class:"liq-overview-table",rows:a(o)},{row:C(({item:{description:u,value:p,type:_}})=>[m("div",null,T(u),1),_==="collateral"?(g(),A("div",gf,[v(c,{value:p[0],"show-zero":!0,type:"dollar"},null,8,["value"]),z(" / "),v(c,{value:p[1],"show-zero":!0,type:"dollar"},null,8,["value"])])):(g(),A("div",yf,[_==="bad-debt"?(g(),I(c,{key:0,class:"red",value:p,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])):_!=="number"?(g(),I(c,{key:1,value:p,"show-zero":!0,type:_},null,8,["value","type"])):(g(),A("span",wf,T(p),1))]))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Hn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"General Health Metrics"}}}})}typeof Hn=="function"&&Hn(pl);const ml=V(pl,[["__scopeId","data-v-cd132533"]]),Cf={class:"address"},$f=["href"],kf={class:"end"},Sf={class:"end"},vl=P({__name:"TableTopLiquidators",props:{liqs:{}},setup(e){const{t}=x(),n=w(()=>D.chain(e.liqs).groupBy(o=>o.liquidator).map((o,s)=>({liquidator:s,count:o.length,value:o.reduce((l,c)=>l+c.collateralReceivedUsd,0)})).orderBy(o=>o.value,"desc").take(5).value());return(o,s)=>{const l=te,c=re,i=W;return g(),I(i,{title:a(t)("title")},{default:C(()=>[v(c,{class:"liquidators-table",rows:a(n),columns:["Address",{label:"Count",align:"end"},{label:"Value",align:"end"}]},{row:C(r=>[m("div",Cf,[m("a",{href:`https://etherscan.io/address/${r.item.liquidator}`,target:"_blank"},T(a(Le)(r.item.liquidator,8)),9,$f)]),m("div",kf,[v(l,{value:r.item.count,precision:0,"show-zero":!0},null,8,["value"])]),m("div",Sf,[v(l,{value:r.item.value,precision:1,type:"dollar"},null,8,["value"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Kn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Top Liquidators"}}}})}typeof Kn=="function"&&Kn(vl);const _l=V(vl,[["__scopeId","data-v-fb04d8f5"]]),hl=P({__name:"ChartCollateralRatio",props:{ratios:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,p=>{n=p.addAreaSeries(i())});B([H(()=>e.ratios),s],r),B(o,()=>n.applyOptions(i()));function c(p){return ie(p,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){return{priceFormat:{type:"custom",formatter:u,minMove:.1},lineWidth:2,lineType:_e.WithSteps,lineColor:o.value.colors.blue,topColor:"rgb(32, 129, 240, 0.2)",bottomColor:"rgba(32, 129, 240, 0)",lastValueVisible:!1,priceLineVisible:!1}}function r([p,_]){if(!_||!n)return;const d=D.chain(p).map(f=>({time:f.timestamp,value:f.ratio*100})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();d.length>0&&n.setData(d),_.timeScale().fitContent()}const u=p=>`${Y(p,0,"percentage")}${X(p,"percentage")}`;return(p,_)=>{const d=W;return g(),I(d,{class:"chart-container",title:a(t)("title")},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function Nn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral Ratio"}}}})}typeof Nn=="function"&&Nn(hl);const fl=V(hl,[["__scopeId","data-v-58161ec8"]]),Lf={class:"actions"},Af=["innerHTML"],bl=P({__name:"ChartEquity",props:{equity:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,c,p=>{n=p.addBaselineSeries(i())});B([H(()=>e.equity),s],r),B(o,()=>n.applyOptions(i()));function c(p){return ie(p,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function i(){const{colors:p}=o.value;return{priceFormat:{type:"custom",formatter:_=>u(_),minMove:.01},lineWidth:2,baseValue:{type:"price",price:0},topLineColor:p.green,bottomLineColor:p.red,lastValueVisible:!1,priceLineVisible:!1}}function r([p,_]){if(!_||!n)return;const d=D.chain(p).map(f=>({time:f.timestamp,value:f.equity})).uniqWith((f,h)=>f.time===h.time).orderBy(f=>f.time,"asc").value();d.length>0&&n.setData(d),_.timeScale().fitContent()}const u=p=>`$${Y(p,0,"dollar")}${X(p,"dollar")}`;return(p,_)=>{const d=Wt,f=W;return g(),I(f,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",Lf,[v(d,null,{default:C(()=>[m("span",{innerHTML:a(t)("tooltip")},null,8,Af)]),_:1})])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title"])}}});function zn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Equity"}},tooltip:{t:0,b:{t:2,i:[{t:3}],s:"This chart shows the difference between the value of the collateral and the debt.<br /><br /> Positive values indicate net equity (collateral exceeds debt),<br /> while negative values indicate a deficit (debt exceeds collateral, also known as bad debt)."}}}})}typeof zn=="function"&&zn(bl);const Tf=V(bl,[["__scopeId","data-v-880ecf0d"]]),Pf=P({__name:"ChartLoanDistribution",props:{distribution:{}},setup(e){const{t}=x(),{theme:n}=K(Q()),o=w(()=>se(n.value,{chart:{type:"bar",animations:{enabled:!1},toolbar:{show:!1}},xaxis:{categories:s.value,labels:{formatter:c,rotate:-60},tickPlacement:"on"},yaxis:{labels:{formatter:i}},plotOptions:{bar:{columnWidth:"50%"}},legend:{show:!0},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!1,intersect:!0,custom:r=>{const u=r.series[0][r.dataPointIndex],p=r.series[1][r.dataPointIndex],_=r.series[2][r.dataPointIndex];return[`<div><b>Collat. (USD)</b>: ${i(p)}</div>`,`<div><b>Debt</b>: ${i(u)}</div>`,`<div><b>Stablecoin</b>: ${i(_)}</div>`].join("")}}})),s=w(()=>e.distribution.debt.map(r=>r.label)),l=w(()=>[{name:"Debt",data:e.distribution.debt.map(r=>r.value)}]),c=r=>r,i=r=>`$${Y(r,0,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=de;return g(),I(p,{class:"chart",title:a(t)("title"),options:a(o),series:a(l)},null,8,["title","options","series"])}}});function Qn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loan Distribution"}}}})}typeof Qn=="function"&&Qn(Pf);const If={class:"liquidations"},Vf=P({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=w(()=>{var S;return(S=e.market)==null?void 0:S.address}),{isFetching:n,data:o}=Zs(R("crvusd"),H(()=>e.chain),t),{isFetching:s,data:l}=Nt(H(()=>e.market)),c=w(()=>l.value.map(({timestamp:S,priceOracle:L})=>({timestamp:S,priceOracle:L}))),i=w(()=>l.value.map(({timestamp:S,discountLiquidation:L})=>({timestamp:S,discount:L}))),r=w(()=>l.value.map(({timestamp:S,totalCollateralUsd:L,totalDebt:F})=>({timestamp:S,ratio:L/F}))),{isFetching:u,data:p}=Gs(R("crvusd"),H(()=>e.chain),t),{isFetching:_,data:d}=Ys(R("crvusd"),H(()=>e.chain),t),{isFetching:f,data:h}=Xs(R("crvusd"),H(()=>e.chain),t),{isFetching:b,data:y}=el(R("crvusd"),H(()=>e.chain),t),{isFetching:$,data:k}=Js(R("crvusd"),H(()=>e.chain),t);return(S,L)=>(g(),A("div",If,[v(a(ml),{overview:a(o),loading:a(n)},null,8,["overview","loading"]),v(a(cl),{ratios:a(p),"prices-oracle":a(c),loading:a(u)||a(s)},null,8,["ratios","prices-oracle","loading"]),v(a(ol),{losses:a(k),loading:a($)},null,8,["losses","loading"]),v(a(ll),{losses:a(k),loading:a($)},null,8,["losses","loading"]),v(a(rl),{deciles:a(y),loading:a(b)},null,8,["deciles","loading"]),v(a(fl),{ratios:a(r),loading:a(s)},null,8,["ratios","loading"]),v(a(al),{liqs:a(d),loading:a(_)},null,8,["liqs","loading"]),v(a(_l),{liqs:a(h),loading:a(f)},null,8,["liqs","loading"]),v(a(dl),{discounts:a(i),liqs:a(h),loading:a(s)||a(f)},null,8,["discounts","liqs","loading"])]))}}),Rf=V(Vf,[["__scopeId","data-v-9817d8d9"]]),qf={class:"controls"},gl=P({__name:"ChartOHLC",props:{ohlc:{}},setup(e){const{t}=x();let n,o;const{theme:s}=K(Q()),l=R(!1),c=R(!1);let i=1,r=0;const{chart:u,chartRef:p}=ce(s,_,y=>{n=y.addCandlestickSeries(d()),o=y.addLineSeries(f())});B([H(()=>e.ohlc),u,l,c],h),B(s,()=>{n==null||n.applyOptions(d()),o==null||o.applyOptions(f())});function _(y){return ie(y,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:$=>b($)}})}function d(){const{colors:y}=s.value;return{priceFormat:{type:"price",precision:6,minMove:1e-6},upColor:y.green,borderUpColor:y.green,wickUpColor:y.green,downColor:y.red,borderDownColor:y.red,wickDownColor:y.red}}function f(){return{priceFormat:{type:"price",precision:6,minMove:1e-6},lineWidth:2,lineType:_e.WithSteps,color:s.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function h([y,$,k,S]){if(!$||!n)return;const L=k?-1:1,F=D.chain(y).map(q=>({time:q.time,open:Math.pow(q.open,L),high:Math.pow(q.high,L),low:Math.pow(q.low,L),close:Math.pow(q.close,L)})).uniqWith((q,E)=>q.time===E.time).orderBy(q=>q.time,"asc").value();F.length>0&&(n.setData(F),r=Math.min(...F.map(q=>q.low)),i=Math.max(...F.map(q=>q.high)));const M=D.chain(y).map(q=>({time:q.time,value:Math.pow(q.oracle_price,L)})).uniqWith((q,E)=>q.time===E.time).orderBy(q=>q.time,"asc").value();M.length>0&&o.setData(M),o.applyOptions({visible:S}),$.timeScale().fitContent()}const b=y=>{const $=i-r,k=$>1?$-Math.floor($):$,S=-Math.floor(Math.log10(k)+1)+2;return`${Y(y,S,"dollar")}${X(y,"dollar")}`};return(y,$)=>{const k=Tt,S=W;return g(),I(S,{class:"chart-container",title:a(t)("title")},{actions:C(()=>[m("div",qf,[v(k,{value:"Oracle Price","model-value":a(c),onClick:$[0]||($[0]=L=>c.value=!a(c))},null,8,["model-value"]),v(k,{value:"Invert","model-value":a(l),onClick:$[1]||($[1]=L=>l.value=!a(l))},null,8,["model-value"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:p,class:"chart"},null,512)]),_:1},8,["title"])}}});function jn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Price"}}}})}typeof jn=="function"&&jn(gl);const yl=V(gl,[["__scopeId","data-v-1c0ede8a"]]),Ff=e=>(pe("data-v-b3020b4b"),e=e(),me(),e),Df={class:"end"},xf=Ff(()=>m("div",null,null,-1)),Mf=["href"],Bf={class:"end"},Of=["href"],wl=P({__name:"TableEvents",props:{events:{},count:{}},emits:["page"],setup(e,{emit:t}){const{t:n}=x(),o=t,{page:s,onPage:l}=Pa(),c=Bt(s,200);B(c,_=>o("page",_));const{relativeTime:i}=ut(),r=_=>_<1?_.toFixed(4):_>1e3?_.toFixed(0):_.toFixed(2),u=_=>{var d,f;return r(((d=_.deposit)==null?void 0:d.amount)??((f=_.withdrawal)==null?void 0:f.amount_collateral)??0)},p=_=>_.deposit?n("deposit"):_.withdrawal?n("withdrawal"):n("unknown");return(_,d)=>{const f=Ee,h=re,b=W;return g(),I(b,{title:a(n)("title")},{actions:C(()=>[v(f,{"items-count":_.count,"items-per-page":10,page:a(s),onPage:a(l)},null,8,["items-count","page","onPage"])]),default:C(()=>[v(h,{class:"events-table",rows:_.events,columns:["Type",{label:"Amount",align:"end"},"","Provider",{label:"Time",align:"end"}]},{row:C(({item:y})=>[m("div",null,T(p(y)),1),m("div",Df,T(u(y)),1),xf,m("div",null,[m("a",{href:`https://etherscan.io/address/${y.provider}`,target:"_blank",onClick:d[0]||(d[0]=Te(()=>{},["stop"]))},T(a(Le)(y.provider)),9,Mf)]),m("div",Bf,[m("a",{href:`https://etherscan.io/tx/${y.transaction_hash}`,target:"_blank",onClick:d[1]||(d[1]=Te(()=>{},["stop"]))},T(a(i)(y.timestamp)),9,Of)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Gn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Events"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},withdrawal:{t:0,b:{t:2,i:[{t:3}],s:"Withdrawal"}},unknown:{t:0,b:{t:2,i:[{t:3}],s:"Unknown"}}}})}typeof Gn=="function"&&Gn(wl);const Cl=V(wl,[["__scopeId","data-v-b3020b4b"]]),Uf={class:"end"},Ef=["href"],Wf={class:"end"},Hf=["href"],Kf=["href"],Nf={class:"end"},zf=["href"],$l=P({__name:"TableTrades",props:{trades:{},count:{},chain:{}},emits:["page"],setup(e,{emit:t}){const{t:n}=x(),o=t,{page:s,onPage:l}=Pa(),c=Bt(s,200);B(c,u=>o("page",u));const{relativeTime:i}=ut(),r=u=>u<1?u.toFixed(4):u>1e3?u.toFixed(0):u.toFixed(2);return(u,p)=>{const _=Ee,d=Ue,f=re,h=W;return g(),I(h,{title:a(n)("title")},{actions:C(()=>[v(_,{"items-count":u.count,"items-per-page":10,page:a(s),onPage:a(l)},null,8,["items-count","page","onPage"])]),default:C(()=>[v(f,{class:"trades-table",rows:u.trades,columns:[{label:"Bought",align:"end"},"","",{label:"Sold",align:"end"},"","","Market Maker",{label:"Time",align:"end"}]},{row:C(({item:b})=>[m("div",Uf,T(r(b.amount_bought)),1),v(d,{chain:u.chain,address:b.token_bought.address},null,8,["chain","address"]),m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_bought.address}`},T(b.token_bought.symbol),9,Ef)]),m("div",Wf,T(r(b.amount_sold)),1),v(d,{chain:u.chain,address:b.token_sold.address},null,8,["chain","address"]),m("div",null,[m("a",{class:"font-mono",target:"_blank",href:`https://etherscan.io/address/${b.token_sold.address}`},T(b.token_sold.symbol),9,Hf)]),m("div",null,[m("a",{href:`https://etherscan.io/address/${b.buyer}`,target:"_blank",onClick:p[0]||(p[0]=Te(()=>{},["stop"]))},T(a(Le)(b.buyer)),9,Kf)]),m("div",Nf,[m("a",{href:`https://etherscan.io/tx/${b.transaction_hash}`,target:"_blank",onClick:p[1]||(p[1]=Te(()=>{},["stop"]))},T(a(i)(b.timestamp)),9,zf)])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function Xn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Trades"}}}})}typeof Xn=="function"&&Xn($l);const kl=V($l,[["__scopeId","data-v-28df06d6"]]),Qf={class:"trading"},Sl=P({__name:"Trading",props:{market:{},chain:{}},setup(e){const t=w(()=>{var p;return(p=e.market)==null?void 0:p.llamma}),{isFetching:n,data:o}=qa(R("crvusd"),t,H(()=>e.chain)),s=R(1),{isFetching:l,data:c}=Hs(R("crvusd"),t,H(()=>e.chain),s),i=R(1),{isFetching:r,data:u}=Ws(R("crvusd"),t,H(()=>e.chain),i);return(p,_)=>{var d,f,h,b;return g(),A("div",Qf,[v(a(yl),{style:{"grid-area":"ohlc"},ohlc:a(o)??[],loading:a(n)},null,8,["ohlc","loading"]),v(a(kl),{style:{"grid-area":"trades"},trades:((d=a(c))==null?void 0:d.trades)??[],count:((f=a(c))==null?void 0:f.count)??0,chain:p.chain,loading:a(l),onPage:_[0]||(_[0]=y=>s.value=y)},null,8,["trades","count","chain","loading"]),v(a(Cl),{style:{"grid-area":"events"},events:((h=a(u))==null?void 0:h.events)??[],count:((b=a(u))==null?void 0:b.count)??0,loading:a(r),onPage:_[1]||(_[1]=y=>i.value=y)},null,8,["events","count","loading"])])}}});function Yn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof Yn=="function"&&Yn(Sl);const jf=V(Sl,[["__scopeId","data-v-3c540325"]]),Gf={class:"market-overview"},Xf=P({__name:"Market.page",setup(e){const{show:t,crumbs:n}=K(De()),o=Ce("marketAddr"),{isFetching:s,data:l}=Aa(),c=w(()=>l.value.find(u=>u.address===o.value));B(c,u=>{n.value=[{id:"crvusd",label:"crvUSD",pathName:"crvusd"},{id:"market",label:`Market: ${(u==null?void 0:u.name)??"?"}`}]},{immediate:!0}),he(()=>{t.value=!0});const{tabActive:i,tabActiveIndex:r}=it(["overview","trading","liquidations"],"crvusdmarket",()=>({marketAddr:o.value}));return(u,p)=>{const _=Ge,d=He,f=We;return g(),A("div",Gf,[v(_,{class:U(["spinner",{loading:a(s)}])},null,8,["class"]),!a(s)&&a(c)?(g(),I(f,{key:0,active:a(r),onTab:p[0]||(p[0]=h=>r.value=h.index)},{default:C(()=>[v(d,{header:"Overview"},{default:C(()=>[(g(),I(ye,null,[a(i)==="overview"?(g(),I(tf,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):O("",!0)],1024))]),_:1}),v(d,{header:"Trading"},{default:C(()=>[(g(),I(ye,null,[a(i)==="trading"?(g(),I(jf,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):O("",!0)],1024))]),_:1}),v(d,{header:"Liquidations"},{default:C(()=>[(g(),I(ye,null,[a(i)==="liquidations"?(g(),I(Rf,{key:0,market:a(c),chain:"ethereum"},null,8,["market"])):O("",!0)],1024))]),_:1})]),_:1},8,["active"])):O("",!0)])}}}),Yf=V(Xf,[["__scopeId","data-v-77146060"]]);function ot(e){return e?e.total_assets_usd+e.collateral_balance_usd:0}const Zf=e=>({name:e.name,controller:e.controller.toLocaleLowerCase(),vault:e.vault.toLocaleLowerCase(),llamma:e.llamma.toLocaleLowerCase(),policy:e.policy.toLocaleLowerCase(),oracle:e.oracle.toLocaleLowerCase(),rate:parseFloat(e.rate),borrow_apy:parseFloat(e.borrow_apy),lend_apy:parseFloat(e.lend_apy),n_loans:e.n_loans,price_oracle:parseFloat(e.price_oracle),amm_price:parseFloat(e.amm_price),total_debt:parseFloat(e.total_debt),total_assets:parseFloat(e.total_assets),total_debt_usd:parseFloat(e.total_debt_usd),total_assets_usd:parseFloat(e.total_assets_usd),minted:parseFloat(e.minted),redeemed:parseFloat(e.redeemed),minted_usd:parseFloat(e.minted_usd),redeemed_usd:parseFloat(e.redeemed_usd),collateral_balance:parseFloat(e.collateral_balance),borrowed_balance:parseFloat(e.borrowed_balance),collateral_balance_usd:parseFloat(e.collateral_balance_usd),borrowed_balance_usd:parseFloat(e.borrowed_balance_usd),collateral_token:{symbol:e.collateral_token.symbol,address:e.collateral_token.address.toLocaleLowerCase()},borrowed_token:{symbol:e.borrowed_token.symbol,address:e.borrowed_token.address.toLocaleLowerCase()}}),Jf=e=>{const t=parseFloat(e.rate),n=parseFloat(e.borrow_apy)/100,o=parseFloat(e.lend_apy)/100,s=e.n_loans,l=parseFloat(e.price_oracle),c=parseFloat(e.amm_price),i=parseFloat(e.total_debt),r=parseFloat(e.total_debt_usd),u=parseFloat(e.total_assets),p=parseFloat(e.total_assets_usd),_=parseFloat(e.minted),d=parseFloat(e.redeemed),f=parseFloat(e.collateral_balance),h=parseFloat(e.collateral_balance_usd),b=parseFloat(e.borrowed_balance),y=parseFloat(e.borrowed_balance_usd),$=Ie(e.timestamp),k=e.liquidation_discount,S=e.loan_discount;return{rate:t,borrowApy:n,lendApy:o,numLoans:s,priceOracle:l,ammPrice:c,totalDebt:i,totalDebtUsd:r,totalAssets:u,totalAssetsUsd:p,minted:_,redeemed:d,collateralBalance:f,collateralBalanceUsd:h,borrowedBalance:b,borrowedBalanceUsd:y,timestamp:$,discountLiquidation:k,discountLoan:S}},oa="https://prices.curve.fi";class eb extends Ae{async getChains(){return this.fetch(`${oa}/v1/lending/chains`).then(t=>t.data)}async getMarkets(t){return(await this.fetch(`${oa}/v1/lending/markets/${t}?fetch_on_chain=true&page=1&per_page=100`)).data.map(Zf)}async getSnapshots(t,n){return(await this.fetch(`${oa}/v1/lending/markets/${t}/${n}/snapshots?fetch_on_chain=true&agg=day`)).data.map(Jf)}}const Fa=new eb;function tb(e){return w(()=>{var t;return(t=e.value)==null?void 0:t.controller})}function ab(){return{initialData:[],initialDataUpdatedAt:0}}function nb(){return Z({queryKey:["llama-markets-chains"],queryFn:()=>Fa.getChains(),initialData:["ethereum"],initialDataUpdatedAt:0})}function Ll(e){return Z({queryKey:["llama-markets",e],queryFn:({queryKey:[,t]})=>Fa.getMarkets(t)})}function mt(e,t){return Z({queryKey:["llama-market-snapshots",tb(e)],queryFn:({queryKey:[,n]})=>Fa.getSnapshots(t.value,n),...ab(),enabled:w(()=>!!e.value&&!!t.value)})}const Vt=e=>(pe("data-v-f037fc5d"),e=e(),me(),e),ob={class:"end"},sb={class:"end"},lb={class:"end"},rb={class:"end"},ib=Vt(()=>m("div",null,null,-1)),cb=Vt(()=>m("div",null,null,-1)),ub=Vt(()=>m("div",null,null,-1)),db=Vt(()=>m("div",null,null,-1)),pb=Vt(()=>m("div",null,null,-1)),mb={class:"end"},vb={class:"end"},Al=P({__name:"TableMarkets",props:{pairs:{default:()=>[]},loading:{type:Boolean},type:{},chain:{}},emits:["selected"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=w(()=>n(e.type==="long"?"title-long":"title-short")),l=w(()=>D.chain(e.pairs).map(r=>({count:(r.long?1:0)+(r.short?1:0),...r})).orderBy(["count",({long:r,short:u})=>ot(r)+ot(u)],["desc","desc"]).map(({long:r,short:u})=>e.type==="long"?r:u).value());function c(r){return r.name.replace(/(-long|-short)/i,"")}const i=r=>e.type==="long"?r.collateral_token.address:r.borrowed_token.address;return(r,u)=>{const p=Ue,_=te,d=re,f=W;return g(),I(f,{title:a(s),loading:r.loading},{default:C(()=>[v(d,{class:"markets-table","expand-side":"left",rows:a(l),columns:["","","Name",{label:"Borrow Rate",align:"end"},{label:"Lend Rate",align:"end"},{label:"TVL",align:"end"},{label:"Loans",align:"end"}],onSelected:u[0]||(u[0]=h=>o("selected",h))},{row:C(({item:h})=>[h?(g(),A(oe,{key:0},[v(p,{chain:r.chain,address:i(h)},null,8,["chain","address"]),m("div",null,T(c(h)),1),m("div",ob,[h.borrow_apy?(g(),I(_,{key:0,value:h.borrow_apy,type:"percentage"},null,8,["value"])):O("",!0)]),m("div",sb,[h.lend_apy?(g(),I(_,{key:0,value:h.lend_apy,type:"percentage"},null,8,["value"])):O("",!0)]),m("div",lb,[a(ot)(h)?(g(),I(_,{key:0,value:a(ot)(h),type:"dollar"},null,8,["value"])):O("",!0)]),m("div",rb,T(h.n_loans),1)],64)):O("",!0)]),"row-aggregation":C(()=>[ib,cb,ub,db,pb,m("div",mb,[v(_,{value:a(l).filter(h=>h).map(h=>h).reduce((h,b)=>h+a(ot)(b),0),type:"dollar"},null,8,["value"])]),m("div",vb,T(a(l).filter(h=>h).map(h=>h).reduce((h,b)=>h+b.n_loans,0)),1)]),"row-details":C(()=>[z("   ")]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Zn(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"title-long":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Long"}},"title-short":{t:0,b:{t:2,i:[{t:3}],s:"Markets - Short"}}}})}typeof Zn=="function"&&Zn(Al);const Jn=V(Al,[["__scopeId","data-v-f037fc5d"]]),_b={class:"llamalend"},hb={class:"toolbar"},fb={class:"markets"},bb={class:"kpis"},gb={class:"markets"},yb={class:"kpis"},Tl=P({__name:"LlamaLend.page",setup(e){const{t}=x(),n=Ce("chain"),o=w({get(){return n.value?n.value:"ethereum"},set(y){n.value=y}}),s=R(""),l=w(()=>D.chain(c.value).filter(({long:y,short:$})=>{const k=s.value.toLocaleLowerCase().split(" ");return(L=>k.some(F=>L.toLocaleLowerCase().includes(F)))(`${(y==null?void 0:y.name)??""}${($==null?void 0:$.name)??""}`)}).value()),c=w(()=>{const y=["crvusd"],$=(r.value??[]).map(L=>({market:L,isLong:y.includes(L.borrowed_token.symbol.toLocaleLowerCase()),isShort:y.includes(L.collateral_token.symbol.toLocaleLowerCase())})).filter(({isLong:L,isShort:F})=>L||F),k=[],S=new Set;for(const{market:L,isLong:F,isShort:M}of $){if(S.has(L.controller))continue;S.add(L.controller);const q=$.find(E=>E.market.borrowed_token.address===L.collateral_token.address&&E.market.collateral_token.address===L.borrowed_token.address);q&&S.add(q.market.controller),k.push({long:F?L:q==null?void 0:q.market,short:M?L:q==null?void 0:q.market})}return k}),{isFetching:i,data:r}=Ll(o),{data:u}=nb(),{show:p,crumbs:_}=K(De());he(()=>{p.value=!0,_.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:"Select market for details",hint:!0}]});const d=Oe(),f=async y=>{y&&await d.push({name:"llamalendmarket",params:{tab:"",chain:o.value,marketAddr:y.controller}})},h=y=>l.value.map($=>y==="long"?$.long:$.short).filter($=>!!$).reduce(($,k)=>$+k.total_debt_usd,0),b=y=>{const $=l.value.map(k=>y==="long"?k.long:k.short).filter(k=>!!k).reduce(({debt:k,assets:S},L)=>({debt:k+L.total_debt_usd,assets:S+L.total_assets_usd}),{debt:0,assets:0});return $.assets===0?0:$.debt/$.assets*100};return(y,$)=>{const k=Pe,S=te,L=ge;return g(),A("div",_b,[(g(),I(Ot,{to:"#toolbar"},[m("div",hb,[v(k,{modelValue:a(s),"onUpdate:modelValue":$[0]||($[0]=F=>ue(s)?s.value=F:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v(Lt,{class:"chain-select",chain:a(o),chains:a(u),onSelectChain:$[1]||($[1]=F=>o.value=F==="all"?"ethereum":F)},null,8,["chain","chains"])])])),m("div",fb,[m("div",bb,[v(L,{label:a(t)("open-interest"),"has-value":!a(i)},{default:C(()=>[v(S,{value:h("long"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(L,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(i),tooltip:a(t)("avg-util-rate-tooltip")},{default:C(()=>[v(S,{value:b("long"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),v(a(Jn),{style:{"grid-column":"1"},type:"long",pairs:a(l),loading:a(i),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])]),m("div",gb,[m("div",yb,[v(L,{label:a(t)("open-interest"),"has-value":!a(i)},{default:C(()=>[v(S,{value:h("short"),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(L,{"tooltip-type":"icon",label:a(t)("avg-util-rate"),"has-value":!a(i),tooltip:a(t)("avg-util-rate-tooltip")},{default:C(()=>[v(S,{value:b("short"),type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])]),v(a(Jn),{style:{"grid-column":"2"},type:"short",pairs:a(l),loading:a(i),chain:a(o),onSelected:f},null,8,["pairs","loading","chain"])])])}}});function eo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}},"open-interest":{t:0,b:{t:2,i:[{t:3}],s:"Open Interest"}},"avg-util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Average Utilization Rate"}},"avg-util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Aggregate debt divided by aggregate assets"}}}})}typeof eo=="function"&&eo(Tl);const wb=V(Tl,[["__scopeId","data-v-ae8d4d7d"]]),Cb={class:"actions"},Pl=P({__name:"ChartMarketSupply",props:{market:{},chain:{}},setup(e){const{t}=x();let n,o,s;const{theme:l,themeId:c}=K(Q()),{items:i,toggles:r,disabled:u}=Fe(()=>{const{blue:q,yellow:E,purple:ne}=l.value.colors;return[{id:"supply",label:t("supply"),color:q},{id:"debt",label:t("debt"),color:E},{id:"util",label:t("util"),color:ne,togglable:!0}]}),{isFetching:p,data:_}=mt(H(()=>e.market),H(()=>e.chain)),d=R(!1),f=R(void 0),{chart:h,chartRef:b}=ce(w(()=>`${c.value}-${r.util.value}`),y,q=>{n=q.addLineSeries($()),o=q.addLineSeries(k()),s=q.addLineSeries(S())});B(l,()=>{n.applyOptions($()),o.applyOptions(k()),s.applyOptions(S())});function y(q){return ie(q,l.value,{height:q.clientHeight||300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},leftPriceScale:{visible:r.util.value}})}function $(){return{priceFormat:{type:"custom",formatter:q=>F(q),minMove:.01},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function k(){return{priceFormat:{type:"custom",formatter:q=>F(q),minMove:.01},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function S(){return{priceFormat:{type:"custom",formatter:q=>M(q),minMove:.01},priceScaleId:"left",lineWidth:2,color:l.value.colors.purple,lastValueVisible:!1,priceLineVisible:!1}}Ut(L);function L(){var N,G,J,le;if(!h.value||!n||!o)return;const q=D.chain(_.value).map(j=>({time:j.timestamp,value:j.totalAssetsUsd})).uniqWith((j,fe)=>j.time===fe.time).orderBy(j=>j.time,"asc").value(),E=D.chain(_.value).map(j=>({time:j.timestamp,value:j.totalDebtUsd})).uniqWith((j,fe)=>j.time===fe.time).orderBy(j=>j.time,"asc").value(),ne=D.chain(r.util.value?q:[]).zip(E).filter(j=>!!j[1]).map(([j,fe])=>({time:fe.time,value:j&&j.value>0?fe.value/j.value:0})).uniqWith((j,fe)=>j.time===fe.time).orderBy(j=>j.time,"asc").value();if(n.setData(q),o.setData(E),s.setData(ne),s.applyOptions({visible:r.util.value}),q.length>0||E.length>0){const j=Math.min(((N=q[0])==null?void 0:N.time)??1/0,((G=E[0])==null?void 0:G.time)??1/0),fe=Math.max(((J=q[q.length-1])==null?void 0:J.time)??-1/0,((le=E[E.length-1])==null?void 0:le.time)??-1/0);h.value.timeScale().setVisibleRange({from:j,to:fe})}}const F=q=>`$${Y(q,0,"dollar")}${X(q,"dollar")}`,M=q=>`${Math.round(q*100)}%`;return(q,E)=>{const ne=qe,N=W;return g(),I(N,{ref_key:"chartCard",ref:f,class:U(["chart-card",{fullscreen:a(d)}]),title:a(t)("title"),loading:a(p)},{actions:C(()=>{var G;return[m("div",Cb,[v(ne,{items:a(i),disabled:a(u),onToggle:E[0]||(E[0]=J=>a(r)[J].value=!a(r)[J].value)},null,8,["items","disabled"]),v(a(rt),{modelValue:a(d),"onUpdate:modelValue":E[1]||(E[1]=J=>ue(d)?d.value=J:null),chart:a(h),target:(G=a(f))==null?void 0:G.$el},null,8,["modelValue","chart","target"])])]}),default:C(()=>[m("div",{ref_key:"chartRef",ref:b,class:"chart"},null,512)]),_:1},8,["title","loading","class"])}}});function to(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Supply & Debt"}},supply:{t:0,b:{t:2,i:[{t:3}],s:"Supply"}},debt:{t:0,b:{t:2,i:[{t:3}],s:"Debt"}},util:{t:0,b:{t:2,i:[{t:3}],s:"Util (%)"}}}})}typeof to=="function"&&to(Pl);const $b=V(Pl,[["__scopeId","data-v-7af239e3"]]),kb={class:"actions"},Il=P({__name:"ChartMarketCollateral",props:{market:{},chain:{}},setup(e){const{t}=x();let n,o;const s=R(!0),{theme:l}=K(Q()),c=w(()=>{var k,S;return((S=(k=e.market)==null?void 0:k.collateral_token)==null?void 0:S.symbol)??"?"}),i=w(()=>{var k,S;return((S=(k=e.market)==null?void 0:k.borrowed_token)==null?void 0:S.symbol)??"?"}),{items:r}=Fe(()=>[{id:c.value,label:c.value,color:l.value.colors.blue},{id:i.value,label:i.value,color:l.value.colors.yellow}]),{isFetching:u,data:p}=mt(H(()=>e.market),H(()=>e.chain)),{chart:_,chartRef:d}=ce(l,f,k=>{n=k.addLineSeries(h()),o=k.addLineSeries(b())});B([p,_,s],y),B(l,()=>{n.applyOptions(h()),o.applyOptions(b())});function f(k){return ie(k,l.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}}})}function h(){return{priceFormat:{type:"custom",formatter:$},lineWidth:2,color:l.value.colors.blue,lastValueVisible:!1,priceLineVisible:!1}}function b(){return{priceFormat:{type:"custom",formatter:$},lineWidth:2,color:l.value.colors.yellow,lastValueVisible:!1,priceLineVisible:!1}}function y([k,S,L]){var q,E,ne,N;if(!S||!n||!o)return;const F=D.chain(k).map(G=>({time:G.timestamp,value:L?G.collateralBalanceUsd:G.collateralBalance})).uniqWith((G,J)=>G.time===J.time).orderBy(G=>G.time,"asc").value(),M=D.chain(k).map(G=>({time:G.timestamp,value:L?G.borrowedBalanceUsd:G.borrowedBalance})).uniqWith((G,J)=>G.time===J.time).orderBy(G=>G.time,"asc").value();if(F.length>0&&n.setData(F),M.length>0&&o.setData(M),F.length>0||M.length>0){const G=Math.min(((q=F[0])==null?void 0:q.time)??1/0,((E=M[0])==null?void 0:E.time)??1/0),J=Math.max(((ne=F[F.length-1])==null?void 0:ne.time)??-1/0,((N=M[M.length-1])==null?void 0:N.time)??-1/0);S.timeScale().setVisibleRange({from:G,to:J})}}const $=k=>`${s.value?"$":""}${Y(k,0,"dollar")}${X(k,"dollar")}`;return(k,S)=>{const L=qe,F=Tt,M=W;return g(),I(M,{class:"chart-container",title:a(t)("title"),loading:a(u)},{actions:C(()=>[m("div",kb,[v(L,{items:a(r)},null,8,["items"]),v(F,{value:"Dollars","model-value":a(s),onClick:S[0]||(S[0]=q=>s.value=!a(s))},null,8,["model-value"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:d,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}}}})}typeof ao=="function"&&ao(Il);const Sb=V(Il,[["__scopeId","data-v-bee42147"]]),Vl=P({__name:"ChartMarketLoans",props:{market:{},chain:{}},setup(e){const{t}=x();let n;const{theme:o}=K(Q()),{chart:s,chartRef:l}=ce(o,r,d=>{n=d.addHistogramSeries(u())}),{isFetching:c,data:i}=mt(H(()=>e.market),H(()=>e.chain));B([i,s],p),B(o,()=>n.applyOptions(u()));function r(d){return ie(d,o.value,{height:300,rightPriceScale:{scaleMargins:{top:.15,bottom:.1}},localization:{priceFormatter:_}})}function u(){return{color:o.value.colors.yellow,lastValueVisible:!1,priceFormat:{type:"volume"},priceLineVisible:!1}}function p([d,f]){if(!f||!n)return;const h=D.chain(d).map(b=>({time:b.timestamp,value:b.numLoans})).uniqWith((b,y)=>b.time===y.time).orderBy(b=>b.time,"asc").value();if(h.length>0){n.setData(h);const b=h[0].time,y=h[h.length-1].time;f.timeScale().setVisibleRange({from:b,to:y})}}const _=d=>Math.round(d).toString();return(d,f)=>{const h=W;return g(),I(h,{class:"chart-container",title:a(t)("title"),loading:a(c)},{default:C(()=>[m("div",{ref_key:"chartRef",ref:l,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function no(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}}}})}typeof no=="function"&&no(Vl);const Lb=V(Vl,[["__scopeId","data-v-aa0b2529"]]),Ab={class:"actions"},Rl=P({__name:"ChartMarketRates",props:{market:{},chain:{}},setup(e){const{t}=x();let n,o;const{theme:s}=K(Q()),{items:l}=Fe(()=>[{id:"borrow",label:t("borrow-apy"),color:s.value.colors.red},{id:"lend",label:t("lend-apy"),color:s.value.colors.green}]),{isFetching:c,data:i}=mt(H(()=>e.market),H(()=>e.chain)),{chart:r,chartRef:u}=ce(s,p,b=>{n=b.addLineSeries(_()),o=b.addLineSeries(d())});B([i,r],f),B(s,()=>{n.applyOptions(_()),o.applyOptions(d())});function p(b){return ie(b,s.value,{height:300,rightPriceScale:{scaleMargins:{top:.1,bottom:.1}},localization:{priceFormatter:y=>h(y)}})}function _(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,color:s.value.colors.red,lastValueVisible:!1,priceLineVisible:!1}}function d(){return{priceFormat:{type:"custom",formatter:h},lineWidth:2,color:s.value.colors.green,lastValueVisible:!1,priceLineVisible:!1}}function f([b,y]){var S,L,F,M;if(!y||!n||!o)return;const $=D.chain(b).map(q=>({time:q.timestamp,value:q.borrowApy})).uniqWith((q,E)=>q.time===E.time).orderBy(q=>q.time,"asc").value(),k=D.chain(b).map(q=>({time:q.timestamp,value:q.lendApy})).uniqWith((q,E)=>q.time===E.time).orderBy(q=>q.time,"asc").value();if($.length>0&&n.setData($),k.length>0&&o.setData(k),$.length>0||k.length>0){const q=Math.min(((S=$[0])==null?void 0:S.time)??1/0,((L=k[0])==null?void 0:L.time)??1/0),E=Math.max(((F=$[$.length-1])==null?void 0:F.time)??-1/0,((M=k[k.length-1])==null?void 0:M.time)??-1/0);y.timeScale().setVisibleRange({from:q,to:E})}}const h=b=>`${Y(b*100,0,"percentage")}${X(b,"percentage")}`;return(b,y)=>{const $=qe,k=W;return g(),I(k,{class:"chart-container",title:a(t)("title"),loading:a(c)},{actions:C(()=>[m("div",Ab,[v($,{items:a(l)},null,8,["items"])])]),default:C(()=>[m("div",{ref_key:"chartRef",ref:u,class:"chart"},null,512)]),_:1},8,["title","loading"])}}});function oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Rates"}},"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}}}})}typeof oo=="function"&&oo(Rl);const Tb=V(Rl,[["__scopeId","data-v-a7e167ba"]]),Pb=["href"],Ib={key:1},ql=P({__name:"Addresses",props:{market:{}},setup(e){const{t}=x(),n=w(()=>{var l,c,i,r,u;return[{description:"controller",address:(l=e.market)==null?void 0:l.controller},{description:"vault",address:(c=e.market)==null?void 0:c.vault},{description:"llamma",address:(i=e.market)==null?void 0:i.llamma},{description:"policy",address:(r=e.market)==null?void 0:r.policy},{description:"oracle",address:(u=e.market)==null?void 0:u.oracle}]}),o=l=>`https://etherscan.io/address/${l}`,s=async l=>{await navigator.clipboard.writeText(l)};return(l,c)=>{const i=$e,r=re,u=W;return g(),I(u,{title:a(t)("addresses"),class:"addresses"},{default:C(()=>[v(r,{class:"addresses-table",rows:a(n)},{row:C(({item:{description:p,address:_}})=>[m("div",null,T(a(t)(p)),1),m("div",null,[_?(g(),A("a",{key:0,class:"font-mono",href:o(_),target:"_blank"},T(_),9,Pb)):(g(),A("span",Ib,"?"))]),m("div",null,[v(i,{icon:"fas fa-link",onClick:d=>s(_)},null,8,["onClick"])])]),_:1},8,["rows"])]),_:1},8,["title"])}}});function so(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},address:{t:0,b:{t:2,i:[{t:3}],s:"Address"}},addresses:{t:0,b:{t:2,i:[{t:3}],s:"Addresses"}},controller:{t:0,b:{t:2,i:[{t:3}],s:"Controller"}},vault:{t:0,b:{t:2,i:[{t:3}],s:"Vault"}},llamma:{t:0,b:{t:2,i:[{t:3}],s:"Llamma"}},policy:{t:0,b:{t:2,i:[{t:3}],s:"Policy"}},oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle"}}}})}typeof so=="function"&&so(ql);const Vb=V(ql,[["__scopeId","data-v-a64f77fe"]]),Rb={class:"usage"},qb={class:"two-sides"},Fb={class:"collateral"},Db={class:"two-sides"},xb={class:"two-sides"},Fl=P({__name:"KPIUsage",props:{market:{}},setup(e){const{t}=x(),n=w(()=>{var l,c;return(((l=e.market)==null?void 0:l.collateral_balance_usd)??0)+(((c=e.market)==null?void 0:c.borrowed_balance_usd)??0)}),o=w(()=>{var r,u;const l=t("collateral"),c=((r=e.market)==null?void 0:r.collateral_token.symbol)??"?",i=((u=e.market)==null?void 0:u.borrowed_token.symbol)??"?";return`${l} (${c} / ${i})`}),s=w(()=>e.market?e.market.total_assets_usd===0?0:e.market.total_debt_usd/e.market.total_assets_usd:0);return(l,c)=>{var u,p;const i=te,r=ge;return g(),A("div",Rb,[v(r,{label:a(o),"has-value":!!l.market},{default:C(()=>{var _,d;return[m("div",qb,[m("div",Fb,[v(i,{value:(_=l.market)==null?void 0:_.collateral_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),z(" / "),v(i,{value:(d=l.market)==null?void 0:d.borrowed_balance,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"])]),v(i,{value:a(n),"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(r,{label:a(t)("borrowed")+` (${((u=l.market)==null?void 0:u.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:C(()=>{var _,d;return[m("div",Db,[v(i,{value:(_=l.market)==null?void 0:_.total_debt,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),v(i,{value:(d=l.market)==null?void 0:d.total_debt_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(r,{label:a(t)("supplied")+` (${((p=l.market)==null?void 0:p.borrowed_token.symbol)??"?"})`,"has-value":!!l.market},{default:C(()=>{var _,d;return[m("div",xb,[v(i,{value:(_=l.market)==null?void 0:_.total_assets,"show-symbol":!1,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"]),v(i,{value:(d=l.market)==null?void 0:d.total_assets_usd,"show-zero":!0,inline:!1,type:"dollar"},null,8,["value"])])]}),_:1},8,["label","has-value"]),v(r,{"tooltip-type":"icon",label:a(t)("util-rate"),"has-value":!!l.market,tooltip:a(t)("util-rate-tooltip")},{default:C(()=>[v(i,{value:a(s)*100,"show-zero":!0,type:"percentage"},null,8,["value"])]),_:1},8,["label","has-value","tooltip"])])}}});function lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}},supplied:{t:0,b:{t:2,i:[{t:3}],s:"Supplied"}},"util-rate":{t:0,b:{t:2,i:[{t:3}],s:"Utilization Rate"}},"util-rate-tooltip":{t:0,b:{t:2,i:[{t:3}],s:"Utilization rate is total supplied divided by total borrowed"}}}})}typeof lo=="function"&&lo(Fl);const Mb=V(Fl,[["__scopeId","data-v-7c3eebd2"]]),Bb={key:0},Ob={class:"token-info"},Ub=["href"],Eb={key:1},Dl=P({__name:"Properties",props:{market:{},chain:{}},setup(e){const{t}=x();function n(i){return typeof i=="object"&&(i==null?void 0:i.type)==="token"}function o(i,r){var u,p;return i==="collateral"?{type:"token",symbol:(r==null?void 0:r.collateral_token.symbol)??"?",address:((u=r==null?void 0:r.collateral_token)==null?void 0:u.address)??""}:{type:"token",symbol:(r==null?void 0:r.borrowed_token.symbol)??"?",address:((p=r==null?void 0:r.borrowed_token)==null?void 0:p.address)??""}}const s=w(()=>[{description:"collateral",value:o("collateral",e.market)},{description:"borrowed",value:o("borrowed",e.market)}]),l=i=>`https://etherscan.io/address/${i}`,c=async i=>{await navigator.clipboard.writeText(i)};return(i,r)=>{const u=Ue,p=$e,_=re,d=W;return g(),I(d,{class:"properties",title:a(t)("properties")},{default:C(()=>[v(_,{class:"properties-table",rows:a(s)},{row:C(({item:{description:f,value:h}})=>[m("div",null,T(a(t)(f)),1),n(h)?(g(),A("div",Bb,[m("div",Ob,[v(u,{chain:i.chain,address:h.address},null,8,["chain","address"]),m("div",null,T(h.symbol),1),m("div",null,[m("a",{class:"font-mono",href:l(h.address),target:"_blank"},T(h.address),9,Ub)]),m("div",null,[v(p,{icon:"fas fa-link",onClick:b=>c(h.address)},null,8,["onClick"])])])])):(g(),A("div",Eb,T(h),1))]),_:1},8,["rows"])]),_:1},8,["title"])}}});function ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{properties:{t:0,b:{t:2,i:[{t:3}],s:"Properties"}},oracleamm:{t:0,b:{t:2,i:[{t:3}],s:"Oracle / AMM Prices"}},collateral:{t:0,b:{t:2,i:[{t:3}],s:"Collateral"}},borrowed:{t:0,b:{t:2,i:[{t:3}],s:"Borrowed"}}}})}typeof ro=="function"&&ro(Dl);const Wb=V(Dl,[["__scopeId","data-v-f443bfce"]]),Hb={class:"market"},xl=P({__name:"MarketOverview",props:{market:{},chain:{}},setup(e){const{t}=x(),{isFetching:n,data:o}=mt(H(()=>e.market),H(()=>e.chain)),s=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:u})=>({timestamp:c,ratio:u>0?(i+r)/u:0}))),l=w(()=>o.value.map(({timestamp:c,collateralBalanceUsd:i,borrowedBalanceUsd:r,totalDebtUsd:u})=>({timestamp:c,equity:i+r-u})));return(c,i)=>{const r=te,u=ge;return g(),A("div",Hb,[v(u,{style:{"grid-area":"kpi1"},label:a(t)("borrow-apy"),"has-value":!!c.market},{default:C(()=>{var p;return[v(r,{value:(p=c.market)==null?void 0:p.borrow_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(u,{style:{"grid-area":"kpi2"},label:a(t)("lend-apy"),"has-value":!!c.market},{default:C(()=>{var p;return[v(r,{value:(p=c.market)==null?void 0:p.lend_apy,type:"percentage"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(u,{style:{"grid-area":"kpi3"},label:a(t)("loans"),"has-value":!!c.market},{default:C(()=>{var p;return[z(T(((p=c.market)==null?void 0:p.n_loans)??0),1)]}),_:1},8,["label","has-value"]),v(u,{style:{"grid-area":"kpi4"},label:a(t)("tvl"),"has-value":!!c.market},{default:C(()=>[v(r,{value:a(ot)(c.market),type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(a($b),{style:{"grid-area":"supply"},market:c.market,chain:c.chain},null,8,["market","chain"]),v(a(Sb),{style:{"grid-area":"collateral"},market:c.market,chain:c.chain},null,8,["market","chain"]),v(a(fl),{style:{"grid-area":"colratio"},ratios:a(s),loading:a(n)},null,8,["ratios","loading"]),v(a(Tf),{style:{"grid-area":"equity"},equity:a(l),loading:a(n)},null,8,["equity","loading"]),v(a(Tb),{style:{"grid-area":"rates"},market:c.market,chain:c.chain},null,8,["market","chain"]),v(a(Lb),{style:{"grid-area":"loans"},market:c.market,chain:c.chain},null,8,["market","chain"]),v(a(Vb),{style:{"grid-area":"addresses"},market:c.market},null,8,["market"]),v(a(Wb),{style:{"grid-area":"properties"},market:c.market,chain:c.chain},null,8,["market","chain"]),v(a(Mb),{style:{"grid-area":"usage"},market:c.market},null,8,["market"])])}}});function io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"borrow-apy":{t:0,b:{t:2,i:[{t:3}],s:"Borrow APY"}},"lend-apy":{t:0,b:{t:2,i:[{t:3}],s:"Lend APY"}},loans:{t:0,b:{t:2,i:[{t:3}],s:"Loans"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof io=="function"&&io(xl);const Kb=V(xl,[["__scopeId","data-v-a35de963"]]),Nb={class:"trading"},Ml=P({__name:"Trading",props:{market:{},chain:{}},setup(e){const{t}=x(),n=w(()=>{var _;return(_=e.market)==null?void 0:_.llamma}),{isFetching:o,data:s}=qa(R("lending"),n,H(()=>e.chain)),l=R(1),{isFetching:c,data:i}=Hs(R("lending"),n,H(()=>e.chain),l),r=R(1),{isFetching:u,data:p}=Ws(R("lending"),n,H(()=>e.chain),r);return(_,d)=>{var b,y,$,k;const f=te,h=ge;return g(),A("div",Nb,[v(h,{style:{"grid-area":"oracle"},label:a(t)("oracle"),"has-value":!!_.market},{default:C(()=>{var S;return[v(f,{value:(S=_.market)==null?void 0:S.price_oracle,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(h,{style:{"grid-area":"amm"},label:a(t)("amm"),"has-value":!!_.market},{default:C(()=>{var S;return[v(f,{value:(S=_.market)==null?void 0:S.amm_price,type:"dollar"},null,8,["value"])]}),_:1},8,["label","has-value"]),v(a(yl),{style:{"grid-area":"ohlc"},ohlc:a(s)??[],loading:a(o)},null,8,["ohlc","loading"]),v(a(kl),{style:{"grid-area":"trades"},trades:((b=a(i))==null?void 0:b.trades)??[],count:((y=a(i))==null?void 0:y.count)??0,chain:_.chain,loading:a(c),onPage:d[0]||(d[0]=S=>l.value=S)},null,8,["trades","count","chain","loading"]),v(a(Cl),{style:{"grid-area":"events"},events:(($=a(p))==null?void 0:$.events)??[],count:((k=a(p))==null?void 0:k.count)??0,loading:a(u),onPage:d[1]||(d[1]=S=>r.value=S)},null,8,["events","count","loading"])])}}});function co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{oracle:{t:0,b:{t:2,i:[{t:3}],s:"Oracle price"}},amm:{t:0,b:{t:2,i:[{t:3}],s:"AMM price"}}}})}typeof co=="function"&&co(Ml);const zb=V(Ml,[["__scopeId","data-v-7436bded"]]),Qb={class:"liquidations"},jb=P({__name:"Liquidations",props:{market:{},chain:{}},setup(e){const t=w(()=>{var S;return(S=e.market)==null?void 0:S.controller}),{isFetching:n,data:o}=mt(H(()=>e.market),H(()=>e.chain)),s=w(()=>o.value.map(({timestamp:S,priceOracle:L})=>({timestamp:S,priceOracle:L}))),l=w(()=>o.value.map(({timestamp:S,discountLiquidation:L})=>({timestamp:S,discount:L}))),{isFetching:c,data:i}=Ys(R("lending"),H(()=>e.chain),t),{isFetching:r,data:u}=Xs(R("lending"),H(()=>e.chain),t),{isFetching:p,data:_}=Gs(R("lending"),H(()=>e.chain),t),d=w(()=>_.value.map(({timestamp:S,proportion:L})=>({timestamp:S,proportion:L*100}))),{isFetching:f,data:h}=Zs(R("lending"),H(()=>e.chain),t),{isFetching:b,data:y}=Js(R("lending"),H(()=>e.chain),t),{isFetching:$,data:k}=el(R("lending"),H(()=>e.chain),t);return(S,L)=>(g(),A("div",Qb,[v(a(ml),{overview:a(h),loading:a(f)},null,8,["overview","loading"]),v(a(cl),{ratios:a(d),"prices-oracle":a(s),loading:a(p)||a(n)},null,8,["ratios","prices-oracle","loading"]),v(a(ol),{losses:a(y),loading:a(b)},null,8,["losses","loading"]),v(a(ll),{losses:a(y),loading:a(b)},null,8,["losses","loading"]),v(a(rl),{deciles:a(k),loading:a($)},null,8,["deciles","loading"]),v(a(al),{liqs:a(i),loading:a(c)},null,8,["liqs","loading"]),v(a(_l),{liqs:a(u),loading:a(r)},null,8,["liqs","loading"]),v(a(dl),{discounts:a(l),liqs:a(u),loading:a(n)||a(r)},null,8,["discounts","liqs","loading"])]))}}),Gb=V(jb,[["__scopeId","data-v-f2820630"]]),Xb={class:"market-overview"},Yb=P({__name:"Market.page",setup(e){const{show:t,crumbs:n}=K(De()),o=Ce("chain"),s=Ce("marketAddr"),{isFetching:l,data:c}=Ll(o),i=w(()=>{var p;return(p=c.value)==null?void 0:p.find(_=>_.controller===s.value)});B(i,p=>{n.value=[{id:"llamalend",label:"Llama Lend",pathName:"llamalend",params:()=>({chain:o.value})},{id:"market",label:`Market: ${(p==null?void 0:p.name)??"?"}`}]},{immediate:!0}),he(()=>{t.value=!0});const{tabActive:r,tabActiveIndex:u}=it(["overview","trading","liquidations"],"llamalendmarket",()=>({chain:o.value,marketAddr:s.value}));return(p,_)=>{const d=Ge,f=He,h=We;return g(),A("div",Xb,[v(d,{class:U(["spinner",{loading:a(l)}])},null,8,["class"]),!a(l)&&a(i)?(g(),I(h,{key:0,active:a(u),onTab:_[0]||(_[0]=b=>u.value=b.index)},{default:C(()=>[v(f,{header:"Overview"},{default:C(()=>[(g(),I(ye,null,[a(r)==="overview"?(g(),I(Kb,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):O("",!0)],1024))]),_:1}),v(f,{header:"Trading"},{default:C(()=>[(g(),I(ye,null,[a(r)==="trading"?(g(),I(zb,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):O("",!0)],1024))]),_:1}),v(f,{header:"Liquidations"},{default:C(()=>[(g(),I(ye,null,[a(r)==="liquidations"?(g(),I(Gb,{key:0,market:a(i),chain:a(o)},null,8,["market","chain"])):O("",!0)],1024))]),_:1})]),_:1},8,["active"])):O("",!0)])}}}),Zb=V(Yb,[["__scopeId","data-v-a093387c"]]);function Bl(e){const{url:t,connectOnMount:n=!0}=e,o=ni(null),s=R("");function l(){return o.value&&_(),s.value=typeof t=="function"?t():t,oi(`${s.value}`,{autoConnect:!1,secure:!0,reconnection:!1}).on("error",f=>{Re({text:`Socket.IO error: ${f.message}`,type:"error"})})}const c=R(!1),i=R(!1);function r(){c.value=!1,i.value=!0}function u(){Re({text:`Failed to connect to ${s.value}`,type:"error"}),c.value=!1}function p(){o.value=null,i.value=!1}function _(){var f,h,b,y;(f=o.value)==null||f.off("connect",r),(h=o.value)==null||h.off("connect_error",u),(b=o.value)==null||b.off("disconnect",p),(y=o.value)==null||y.disconnect(),p()}function d(){c.value||(o.value&&_(),o.value=l(),o.value.on("connect",r),o.value.on("connect_error",u),o.value.on("disconnect",p),c.value=!0,o.value.connect())}return n&&he(d),{socket:o,connecting:c,isConnected:i,connect:d,disconnect:_,url:s}}var ke=(e=>(e.Swap="swap",e.Deposit="deposit",e.Remove="remove",e))(ke||{});let sa;function Ol(){return sa||(sa=Bl({url:"wss://api.curvemonitor.com/main"})),sa}function la(e,t,n,...o){return e?new Promise(s=>{e.once(n,s),e.emit(t,...o)}):Promise.reject(new Error("No socket connection"))}function Jb(e,t,n){return new si(o=>{const s=l=>o.next(l);return e.on(t,s),()=>e.off(t,s)}).pipe(li())}class Ul{constructor(t){this.socket=t}getSandwiches(){return la(this.socket,"getFullSandwichTableContent","fullSandwichTableContent","full",1)}getLabels(){return la(this.socket,"getSandwichLabelOccurrences","sandwichLabelOccurrences")}getLabelsRanking(){return la(this.socket,"getAbsoluteLabelsRanking","absoluteLabelsRanking")}}function El(){const{socket:e,isConnected:t,url:n}=Ol(),o=w(()=>e.value?new Ul(e.value):null),s=w(()=>["mev-labels",n.value]);return Z({queryKey:s,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.getLabels()},enabled:t})}function e0(){const{socket:e,isConnected:t,url:n}=Ol(),o=w(()=>e.value?new Ul(e.value):null),s=w(()=>["mev-sandwiches-tx",n.value]);return Z({queryKey:s,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.getSandwiches()},enabled:t})}const t0=P({__name:"LabelsWorstRelative",setup(e){const{theme:t}=K(Q()),{data:n,isFetching:o}=El(),s=u=>(u??[]).filter(p=>p.numOfAllTx>=12).map(p=>({...p,ratio:Number((p.occurrences/p.numOfAllTx*100).toFixed(2))})).sort((p,_)=>_.ratio-p.ratio).slice(0,10),l=w(()=>s(n.value).map(u=>u.label)),c=w(()=>s(n.value).map(u=>u.ratio)),i=w(()=>se(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:u=>{const p=u.w.globals.labels[u.seriesIndex],_=u.series[u.seriesIndex];return[`<div><b>${p}</b>:</div><div>Ratio: ${r(_)}</div>`].join("")}},labels:l.value})),r=u=>`${u}%`;return(u,p)=>{const _=de;return g(),I(_,{class:"mevLabels",title:"Worst relative offenders",options:a(i),series:a(c),loading:a(o)},null,8,["options","series","loading"])}}}),a0=V(t0,[["__scopeId","data-v-a26be601"]]),n0=P({__name:"LabelsWorstAbsolute",setup(e){const{theme:t}=K(Q()),{data:n,isFetching:o}=El(),s=u=>(u??[]).filter(p=>p.numOfAllTx>=12).map(p=>({...p,occurrences:p.occurrences})).sort((p,_)=>_.occurrences-p.occurrences).slice(0,10),l=w(()=>s(n.value).map(u=>u.label)),c=w(()=>s(n.value).map(u=>u.occurrences)),i=w(()=>se(t.value,{chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},plotOptions:{pie:{donut:{size:"60%"}}},dataLabels:{enabled:!1},tooltip:{custom:u=>{const p=u.w.globals.labels[u.seriesIndex],_=u.series[u.seriesIndex];return[`<div><b>${p}</b>:</div><div>Occurences: ${r(_)}</div>`].join("")}},labels:l.value})),r=u=>`${u}`;return(u,p)=>{const _=de;return g(),I(_,{class:"mevLabels",title:"Worst absolute offenders",options:a(i),series:a(c),loading:a(o)},null,8,["options","series","loading"])}}}),o0=V(n0,[["__scopeId","data-v-6742c526"]]),s0={style:{display:"grid","grid-template-columns":"auto auto"}},l0={style:{display:"flex",gap:"1rem"}},r0={key:0,class:"fas fa-arrow-up"},i0={key:1,class:"fas fa-arrow-down"},c0={key:2,class:"fas fa-exchange-alt"},u0={key:0,class:"end"},d0=["href"],p0=["href"],m0=["href"],v0=["innerHTML"],_0={key:1,class:"end"},uo=10,Wl=P({__name:"Transactions",props:{txs:{default:null},header:{type:Boolean,default:!0},compact:{type:Boolean,default:!1},time:{type:Boolean,default:!0}},setup(e){const{t}=x(),{relativeTime:n}=ut(),o=R(""),s=R([ke.Swap,ke.Deposit,ke.Remove]),l=w(()=>e.time?["Type","Block","Tx","Trader","Assets","Time"]:["Type","Tx","Trader","Assets"]),c=w(()=>D.chain(e.txs).filter(d=>s.value.includes(d.transaction_type)).filter(d=>{const f=o.value.toLocaleLowerCase().split(" "),h=b=>f.some(y=>b.toLocaleLowerCase().includes(y));return h(d.block_number.toString())||h(d.trader)||h(d.tx_hash)}).value()),{page:i,rowsPage:r,onPage:u}=Gt(c,uo),p=d=>{if(d.transaction_type===ke.Swap){const f=d.coins_leaving_wallet[0],h=d.coins_entering_wallet[0],b=ze(parseFloat(f.amount.toString())),y=ze(parseFloat(h.amount.toString())),$=`<span>${b} ${f.name}</span>`,k="<i class='fas fa-arrow-right'></i>",S=`<span style='justify-self: end;'>${y} ${h.name}</span>`;return`${$}${k}${S}`}else if(d.transaction_type===ke.Deposit){const f=d.coins_entering_wallet[0];return`${ze(parseFloat(f.amount.toString()))} ${f.name}`}else if(d.transaction_type===ke.Remove){const f=d.coins_leaving_wallet[0];return`${ze(parseFloat(f.amount.toString()))} ${f.name}`}return"???"},_=d=>{d===0?s.value=[ke.Swap,ke.Deposit,ke.Remove]:d===1?s.value=[ke.Swap]:d===2?s.value=[ke.Deposit]:d===3?s.value=[ke.Remove]:s.value=[]};return(d,f)=>{const h=He,b=We,y=Pe,$=Ee,k=re,S=W;return g(),I(S,{class:"trades-card",title:a(t)("title")},ri({default:C(()=>[v(k,{class:U(["trades-table",{compact:d.compact,time:d.time}]),rows:a(r),columns:a(l)},{row:C(L=>[m("div",{class:U(["type",{deposit:L.item.transaction_type==="deposit",remove:L.item.transaction_type==="remove",swap:L.item.transaction_type==="swap"}])},[L.item.transaction_type==="deposit"?(g(),A("i",r0)):L.item.transaction_type==="remove"?(g(),A("i",i0)):(g(),A("i",c0)),z(" "+T(a(t)(L.item.transaction_type)),1)],2),d.time?(g(),A("div",u0,[m("a",{class:"vote-link",href:`https://etherscan.io/block/${L.item.block_number}`,target:"_blank"},T(L.item.block_number),9,d0)])):O("",!0),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/tx/${L.item.tx_hash}`,target:"_blank",onClick:f[2]||(f[2]=Te(()=>{},["stop"]))},T(a(Le)(L.item.tx_hash)),9,p0)]),m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/address/${L.item.trader}`,target:"_blank",onClick:f[3]||(f[3]=Te(()=>{},["stop"]))},T(a(Le)(L.item.trader)),9,m0)]),m("div",{class:U(["assets",{swap:L.item.transaction_type==="swap"}]),innerHTML:p(L.item)},null,10,v0),d.time?(g(),A("div",_0,T(a(n)(L.item.block_unixtime)),1)):O("",!0)]),_:1},8,["class","rows","columns"])]),_:2},[d.header?{name:"actions",fn:C(()=>[m("div",s0,[v(b,{class:"types",onTab:f[0]||(f[0]=L=>_(L.index))},{default:C(()=>[v(h,{header:"All"}),v(h,{header:"Swaps"}),v(h,{header:"Deposits"}),v(h,{header:"Removals"})]),_:1})]),m("div",l0,[v(y,{modelValue:a(o),"onUpdate:modelValue":f[1]||(f[1]=L=>ue(o)?o.value=L:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),v($,{class:"pagination","items-count":a(c).length,"items-per-page":uo,page:a(i),onPage:a(u)},null,8,["items-count","page","onPage"])])]),key:"0"}:void 0]),1032,["title"])}}});function po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transactions"}},swap:{t:0,b:{t:2,i:[{t:3}],s:"Swap"}},deposit:{t:0,b:{t:2,i:[{t:3}],s:"Deposit"}},remove:{t:0,b:{t:2,i:[{t:3}],s:"Remove"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof po=="function"&&po(Wl);const h0=V(Wl,[["__scopeId","data-v-b815b848"]]),f0={style:{display:"flex",gap:"1rem"}},b0=["href"],g0={style:{display:"grid",gap:"1ch","grid-template-columns":"auto 16ch 1fr"}},y0=["href"],w0={class:"end"},ra=10,Hl=P({__name:"Sandwiches",setup(e){const{t}=x(),n=R(1),{data:o,isFetching:s}=e0(),{expanded:l,toggleExpansion:c}=Xt(),{relativeTime:i}=ut(),r=R(""),u=w(()=>{var d;return((d=o.value)==null?void 0:d.totalPages)??0*ra}),p=w(()=>{var d;return D.chain(((d=o.value)==null?void 0:d.data)??[]).filter(f=>{const h=r.value.toLocaleLowerCase().split(" "),b=y=>h.some($=>y.toLocaleLowerCase().includes($));return b(f.poolName)||b(f.poolAddress)||b(f.label)}).orderBy([f=>f.frontrun.block_unixtime,f=>f.frontrun.tx_position],"desc").value()}),_=d=>D.orderBy([d.frontrun,...d.center,d.backrun],[f=>f.block_unixtime,f=>f.tx_position]);return(d,f)=>{const h=Pe,b=Ee,y=re,$=W;return g(),I($,{class:"sandwiches-card",title:a(t)("title"),loading:a(s)},{actions:C(()=>[m("div",f0,[v(h,{modelValue:a(r),"onUpdate:modelValue":f[0]||(f[0]=k=>ue(r)?r.value=k:null),class:"search",search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(u)>ra?(g(),I(b,{key:0,class:"pagination","items-count":a(u),"items-per-page":ra,page:a(n),onPage:f[1]||(f[1]=k=>n.value=k)},null,8,["items-count","page"])):O("",!0)])]),default:C(()=>[v(y,{class:"sandwiches-table",rows:a(p),columns:["Pool","Action","Affected Contract",{label:"Time",align:"end"}],expanded:a(l),onSelected:f[2]||(f[2]=k=>a(c)(k))},{row:C(k=>[m("div",null,[m("a",{class:"vote-link",href:`https://etherscan.io/address/${k.item.poolAddress}`,target:"_blank"},T(k.item.poolName),9,b0)]),m("div",null,[m("div",g0,[m("a",{class:"vote-link font-mono",target:"_blank",href:`https://etherscan.io/address/${k.item.center[0].trader}`},T(a(Le)(k.item.center[0].trader)),9,y0),m("span",null," lost "+T(a(ze)(k.item.user_losses_details.reduce((S,L)=>S+L.amount,0)))+" "+T(k.item.user_losses_details[0].unit),1),m("span",null,T(a(ze)(-k.item.user_losses_details[0].lossInPercentage))+"% slippage, or $"+T(a(ze)(k.item.lossInUsd)),1)])]),m("div",null,T(k.item.label),1),m("div",w0,T(a(i)(k.item.frontrun.block_unixtime)),1)]),"row-details":C(k=>[v(h0,{class:"transactions",txs:_(k.item),header:!1,compact:!0,time:!1},null,8,["txs"])]),_:1},8,["rows","expanded"])]),_:1},8,["title","loading"])}}});function mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Sandwiches"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof mo=="function"&&mo(Hl);const C0=V(Hl,[["__scopeId","data-v-5816bda6"]]),$0={class:"mev"},k0=P({__name:"MEV",setup(e){return(t,n)=>(g(),A("div",$0,[v(C0,{style:{"grid-area":"sws"}}),v(a0,{style:{"grid-area":"relative"}}),v(o0,{style:{"grid-area":"absolute"}})]))}}),S0=V(k0,[["__scopeId","data-v-f6873b0a"]]),L0={class:"monitor"},A0=P({__name:"Monitor.page",setup(e){const{tabActive:t,tabActiveIndex:n}=it(["mev"],"monitor");return(o,s)=>{const l=He,c=We;return g(),A("div",L0,[v(c,{active:a(n),onTab:s[0]||(s[0]=i=>n.value=i.index)},{default:C(()=>[v(l,{header:"MEV"},{default:C(()=>[(g(),I(ye,null,[a(t)==="mev"?(g(),I(S0,{key:0})):O("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),T0=V(A0,[["__scopeId","data-v-4481e5f5"]]),P0=["all","ownership","parameter","other"];function st(e){return e.executed?"executed":e.end>new Date().getTime()/1e3?"active":zl(e)&&Nl(e)&&Kl(e)?"passed":"denied"}function Kl(e){return e.votesFor>e.support*e.quorum*e.totalSupply}function Nl(e){return e.votesFor>e.quorum*e.totalSupply}function zl(e){return e.votesFor>e.votesAgainst}const Ql=e=>{var b;const t=e.vote_id,n=e.vote_type.toLocaleLowerCase()==="parameter"?"parameter":"ownership",o=(b=e.metadata)!=null&&b.startsWith('"')?e.metadata.substring(1):e.metadata??"",s=e.creator.toLocaleLowerCase(),l=e.snapshot_block,c=e.start_date,i=c+604800,r=Me(BigInt(e.min_accept_quorum),18n),u=Me(BigInt(e.support_required),18n),p=e.vote_count,_=Me(BigInt(e.votes_for),18n),d=Me(BigInt(e.votes_against),18n),f=e.executed,h=Me(BigInt(e.total_supply),18n);return{id:t,type:n,metadata:o,proposer:s,block:l,start:c,end:i,quorum:r,support:u,voteCount:p,votesFor:_,votesAgainst:d,executed:f,totalSupply:h}},I0=e=>{const t=Ql(e),n=e.script,o=e.votes.map(s=>({voter:s.voter.toLocaleLowerCase(),supports:s.supports,votingPower:Me(BigInt(s.voting_power),18n)}));return{...t,script:n,votes:o}},vo="https://prices.curve.fi";class V0 extends Ae{async getProposals(t,n,o,s){const l=await this.fetch(`${vo}/v1/dao/proposals?pagination=10&page=${t}&search_string=${n}&type_filter=${o}&status_filter=${s}`);return{proposals:l.proposals.map(Ql),count:l.count}}async getProposal(t,n){const o=await this.fetch(`${vo}/v1/dao/proposals/details/${n}/${t}`);return I0(o)}}const jl=new V0;function Gl(e,t,n){return Z({queryKey:["curve-proposal",e,t],queryFn:({queryKey:[,o,s]})=>jl.getProposal(o,s),...n&&{enabled:n}})}function R0(e,t,n,o){return Z({queryKey:["curve-proposals",e,o,t,n],queryFn:({queryKey:[,s,l,c,i]})=>jl.getProposals(s,l,c,i),placeholderData:Et})}const Xl=P({__name:"Status",props:{proposal:{}},setup(e){const{t}=x(),n=w(()=>{if(st(e.proposal)==="denied")if(Nl(e.proposal))if(zl(e.proposal)){if(!Kl(e.proposal))return t("no-support")}else return t("no-win");else return t("no-quorum");return""}),o=w(()=>{switch(st(e.proposal)){case"active":return t("active");case"denied":return t("denied");case"passed":return t("passed");case"executed":return t("executed");default:return"Unk. Status"}});return(s,l)=>{const c=Wt,i=ge;return g(),I(i,{class:"status","tooltip-type":"underline",label:a(t)("status"),"has-value":!0,tooltip:a(n)},{default:C(()=>[a(n)?(g(),I(c,{key:0},{item:C(()=>[m("span",{class:U(["status-value",a(st)(s.proposal)])},T(a(o)),3)]),default:C(()=>[z(" "+T(a(n)),1)]),_:1})):(g(),A("span",{key:1,class:U(["status-value",a(st)(s.proposal)])},T(a(o)),3))]),_:1},8,["label","tooltip"])}}});function _o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{status:{t:0,b:{t:2,i:[{t:3}],s:"Status"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}},"no-quorum":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was not reached (yes votes need to pass this number)"}},"no-support":{t:0,b:{t:2,i:[{t:3}],s:"Quorum was reached and 'for' won, but not enough for support"}},"no-win":{t:0,b:{t:2,i:[{t:3}],s:"More 'against' votes than 'for' votes"}}}})}typeof _o=="function"&&_o(Xl);const q0=V(Xl,[["__scopeId","data-v-9e86fade"]]),Yl=P({__name:"Type",props:{proposal:{}},setup(e){const{t}=x(),n=w(()=>{switch(e.proposal.type){case"ownership":return t("ownership");case"parameter":return t("parameter");case"other":return t("other");default:return"Unk. Type"}});return(o,s)=>{const l=ge;return g(),I(l,{class:"type",label:a(t)("type"),value:a(n),"has-value":!0},null,8,["label","value"])}}});function ho(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{type:{t:0,b:{t:2,i:[{t:3}],s:"Type"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof ho=="function"&&ho(Yl);const F0=["href"],Zl=P({__name:"Proposer",props:{proposal:{}},setup(e){const{t}=x();return(n,o)=>{const s=ge;return g(),I(s,{class:"proposer",label:a(t)("proposer"),"has-value":!0},{default:C(()=>[m("a",{href:`https://etherscan.io/address/${n.proposal.proposer}`,target:"_blank"},T(a(Le)(n.proposal.proposer)),9,F0)]),_:1},8,["label"])}}});function fo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{proposer:{t:0,b:{t:2,i:[{t:3}],s:"Proposer"}}}})}typeof fo=="function"&&fo(Zl);const da=P({__name:"Date",props:{proposal:{},type:{}},setup(e){const{t}=x();let n;const o=R(""),s=w(()=>{switch(e.type){case"start":return t("start");case"end":return t("end");default:return"Unk. Type"}}),l=w(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString();case"end":{const r=new Date(e.proposal.end*1e3);return r>new Date?o.value:r.toLocaleDateString()}default:return new Date(0).toLocaleDateString()}}),c=w(()=>{switch(e.type){case"start":return new Date(e.proposal.start*1e3).toLocaleDateString()+" "+new Date(e.proposal.start*1e3).toTimeString();case"end":return new Date(e.proposal.end*1e3).toLocaleDateString()+" "+new Date(e.proposal.end*1e3).toTimeString();default:return new Date(0).toLocaleDateString()}});he(()=>{i()});const i=()=>{const r=new Date(e.proposal.end*1e3);n&&clearInterval(n),n=setInterval(()=>{o.value=tc(r)})};return(r,u)=>{const p=ge;return g(),I(p,{class:"date","tooltip-type":"underline",label:a(s),value:a(l),"has-value":!0,tooltip:a(c)},null,8,["label","value","tooltip"])}}});function bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{start:{t:0,b:{t:2,i:[{t:3}],s:"Start"}},end:{t:0,b:{t:2,i:[{t:3}],s:"End"}}}})}typeof bo=="function"&&bo(da);const Jl=e=>(pe("data-v-88e3f7d0"),e=e(),me(),e),D0=Jl(()=>m("i",{class:"fas fa-link"},null,-1)),x0={class:"metadata"},M0={class:"row"},B0=Jl(()=>m("i",{class:"fas fa-chevron-up"},null,-1)),O0=[B0],er=P({__name:"ProposalSummary",props:{proposal:{},expanded:{type:Boolean}},emits:["toggleExpand"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=w(()=>`/dao/proposal/${e.proposal.type}/${e.proposal.id}`),l=async()=>{await navigator.clipboard.writeText(`${window.location.origin}/#/dao/proposal/${e.proposal.type}/${e.proposal.id}`)};return(c,i)=>{const r=lt("router-link");return g(),A("div",{class:"proposal-summary",onClick:i[0]||(i[0]=u=>o("toggleExpand"))},[m("div",{class:U(["title",{"no-title":!c.proposal.metadata}])},[v(r,{to:a(s),class:"id",onClick:l},{default:C(()=>[D0,z(" "+T(c.proposal.id),1)]),_:1},8,["to"]),m("div",x0,T(c.proposal.metadata||a(n)("no-title")),1)],2),m("div",M0,[v(q0,{class:"item",proposal:c.proposal},null,8,["proposal"]),v(Yl,{class:"item",proposal:c.proposal},null,8,["proposal"]),v(Zl,{class:"item",proposal:c.proposal},null,8,["proposal"]),v(da,{class:"item",proposal:c.proposal,type:"start"},null,8,["proposal"]),v(da,{class:"item",proposal:c.proposal,type:"end"},null,8,["proposal"]),m("div",{class:U(["item expander",{expanded:c.expanded}])},O0,2)])])}}});function go(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"no-title":{t:0,b:{t:2,i:[{t:3}],s:"< No Title >"}}}})}typeof go=="function"&&go(er);const U0=V(er,[["__scopeId","data-v-88e3f7d0"]]),vt=e=>(pe("data-v-d48830ac"),e=e(),me(),e),E0={class:"results"},W0={class:"heading"},H0={class:"choice"},K0={class:"label"},N0={class:"amount"},z0={class:"left"},Q0=vt(()=>m("span",null," veCRV",-1)),j0={class:"right"},G0=vt(()=>m("span",null,"(",-1)),X0=vt(()=>m("span",null,")",-1)),Y0={class:"choice"},Z0={class:"label"},J0={class:"amount"},eg={class:"left"},tg=vt(()=>m("span",null," veCRV",-1)),ag={class:"right"},ng=vt(()=>m("span",null,"(",-1)),og=vt(()=>m("span",null,")",-1)),yo=4,tr=P({__name:"VotingResults",props:{proposal:{}},setup(e){const{t}=x(),n=w(()=>e.proposal.votesFor+e.proposal.votesAgainst),o=w(()=>e.proposal.votesFor/n.value*100),s=w(()=>e.proposal.votesAgainst/n.value*100);return(l,c)=>{const i=te;return g(),A("div",E0,[m("div",W0,T(a(t)("results")),1),m("div",H0,[m("div",K0,T(a(t)("for")),1),m("div",N0,[m("div",z0,[v(i,{value:l.proposal.votesFor,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),Q0]),m("div",j0,[G0,v(i,{value:a(o),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),X0])]),m("div",{class:"bar",style:Se({width:`${Math.max(yo,a(o))}%`})},null,4)]),m("div",Y0,[m("div",Z0,T(a(t)("against")),1),m("div",J0,[m("div",eg,[v(i,{value:l.proposal.votesAgainst,precision:0,"show-symbol":!1,"show-zero":!0,type:"dollar"},null,8,["value"]),tg]),m("div",ag,[ng,v(i,{value:a(s),precision:2,"show-zero":!0,type:"percentage"},null,8,["value"]),og])]),m("div",{class:"bar",style:Se({width:`${Math.max(yo,a(s))}%`})},null,4)])])}}});function wo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{results:{t:0,b:{t:2,i:[{t:3}],s:"Results"}},for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof wo=="function"&&wo(tr);const sg=V(tr,[["__scopeId","data-v-d48830ac"]]),lg=e=>(pe("data-v-7c213e10"),e=e(),me(),e),rg={class:"quorum"},ig={class:"heading"},cg={class:"amount"},ug={class:"bar"},dg={class:"percentages"},pg=lg(()=>m("div",{class:"zero"},"0%",-1)),mg={class:"quorum"},ar=P({__name:"VotingQuorum",props:{proposal:{}},setup(e){const{t}=x(),n=w(()=>e.proposal.votesFor),o=w(()=>e.proposal.quorum*e.proposal.totalSupply),s=w(()=>n.value/o.value*100);return(l,c)=>{const i=te;return g(),A("div",rg,[m("div",ig,T(a(t)("quorum")),1),m("div",cg,[v(i,{value:a(n),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),z(" / "),v(i,{value:a(o),precision:0,"show-symbol":!1,type:"dollar"},null,8,["value"]),z(" veCRV ")]),m("div",ug,[m("div",{class:"support",style:Se({width:`${a(s)}%`})},null,4),m("div",{class:"quorum",style:Se({width:`${100-a(s)}%`})},null,4)]),m("div",dg,[pg,m("div",mg,[v(i,{value:l.proposal.quorum*100,precision:0,type:"percentage"},null,8,["value"])])])])}}});function Co(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{quorum:{t:0,b:{t:2,i:[{t:3}],s:"Quorum"}}}})}typeof Co=="function"&&Co(ar);const vg=V(ar,[["__scopeId","data-v-7c213e10"]]),_g=["min","max"],hg=P({__name:"Slider",props:Qe({min:{},max:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=wt(e,"modelValue",{set(n){return Number(n)}});return(n,o)=>ha((g(),A("input",{"onUpdate:modelValue":o[0]||(o[0]=s=>t.value=s),type:"range",min:n.min,max:n.max},null,8,_g)),[[Ko,t.value]])}}),fg=V(hg,[["__scopeId","data-v-e358da62"]]),bg=[{name:"balanceOfAt",outputs:[{type:"uint256",name:""}],inputs:[{type:"address",name:"addr"},{type:"uint256",name:"_block"}],stateMutability:"view",type:"function"}],et=[{constant:!1,inputs:[{name:"_voteId",type:"uint256"},{name:"_yeaPct",type:"uint256"},{name:"_nayPct",type:"uint256"},{name:"_executesIfDecided",type:"bool"}],name:"votePct",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"getVoterState",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"getVote",outputs:[{name:"open",type:"bool"},{name:"executed",type:"bool"},{name:"startDate",type:"uint64"},{name:"snapshotBlock",type:"uint64"},{name:"supportRequired",type:"uint64"},{name:"minAcceptQuorum",type:"uint64"},{name:"yea",type:"uint256"},{name:"nay",type:"uint256"},{name:"votingPower",type:"uint256"},{name:"script",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"}],name:"canExecute",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_voteId",type:"uint256"},{name:"_voter",type:"address"}],name:"canVote",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"token",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"PCT_BASE",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_voteId",type:"uint256"}],name:"executeVote",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],gg={class:"buttons"},yg={class:"vecrv"},wg={class:"info"},Cg={class:"kpis"},$g={class:"description"},kg={class:"title"},Sg={class:"options"},Lg={class:"label"},Ag={class:"middle"},Tg=["contenteditable","textContent"],Pg={class:"label"},nr=P({__name:"VotingButtons",props:{proposal:{}},setup(e){const{t}=x(),{address:n}=$t(),o=R(!1),s=R(50),l=R(null),c=R(!1),i=w(()=>{var ee;return c.value?`${s.value}.`:s.value===0&&!c.value&&((ee=l.value)==null?void 0:ee.textContent)!=="0"?"":s.value.toString()}),r=w(()=>(F.value??0n)>0n&&!fe.value&&_.value&&L.value===0),u=w(()=>r.value?"submit":fe.value?"voting":_.value?L.value!==0?"voted":"not-enough-voting-power":"voting-closed"),p=w(()=>Me(F.value??0n,18n)),_=w(()=>st(e.proposal)==="active"),d=w(()=>st(e.proposal)==="passed"),f=()=>{const ee=window.getSelection();return ee&&ee.rangeCount>0?ee.getRangeAt(0).startOffset:0},h=ee=>{if(l.value){const be=document.createRange();be.setStart(l.value.firstChild??l.value,ee),be.collapse(!0);const we=window.getSelection();we&&(we.removeAllRanges(),we.addRange(be))}},b=()=>{s.value=0,l.value&&(l.value.textContent="0")},y=()=>{s.value=100,l.value&&(l.value.textContent="100")},$=ee=>{ee.target===ee.currentTarget&&l.value&&l.value.focus()},k=()=>{if(l.value){const ee=l.value.textContent??"",be=f();if(/^\d*(\.\d*)?$/.test(ee))if(c.value=ee.endsWith("."),ee){const we=parseFloat(ee);we>=0&&we<=100?s.value=we:(l.value.textContent=i.value,h(be-1))}else s.value=0;else l.value.textContent=i.value,h(be-1)}},{data:S}=ht({abi:et,address:Ye,functionName:"token",query:{enabled:o}}),{data:L}=ht({abi:et,address:Ye,functionName:"getVoterState",args:w(()=>[BigInt(e.proposal.id),n.value]),query:{enabled:w(()=>!!n.value&&o.value),initialData:0,initialDataUpdatedAt:0}}),{data:F}=ht({abi:bg,address:S,functionName:"balanceOfAt",args:w(()=>[n.value,BigInt(e.proposal.block)]),query:{enabled:w(()=>!!S.value&&!!n.value&&o.value),initialData:0n,initialDataUpdatedAt:0}}),{data:M,refetch:q}=ht({abi:et,address:Ye,functionName:"canExecute",args:[BigInt(e.proposal.id)],query:{enabled:w(()=>d.value&&o.value),initialData:!1,initialDataUpdatedAt:0}}),{data:E}=ht({abi:et,address:Ye,functionName:"PCT_BASE",query:{enabled:o}}),{data:ne,error:N,isPending:G,writeContract:J}=Ma(),{isLoading:le,isSuccess:j}=Ba({hash:ne}),fe=w(()=>G.value||le.value);function Ke(){if(!E.value){Re({text:xt("Missing PCT_BASE"),type:"error"});return}const ee=BigInt(Math.log10(Number(E.value))),be=ya(s.value/100,ee),we=E.value-be;J({abi:et,address:Ye,functionName:"votePct",args:[BigInt(e.proposal.id),be,we,!1]})}B(N,ee=>{ee&&Re({text:xt(ee),type:"error"})}),B(j,ee=>{ee&&Re({text:"Voted",type:"success"})});const{data:_t,error:Yt,isPending:Sr,writeContract:Lr}=Ma(),{isLoading:Ar,isSuccess:Tr}=Ba({hash:_t}),Da=w(()=>Sr.value||Ar.value);function Pr(){Lr({abi:et,address:Ye,functionName:"executeVote",args:[BigInt(e.proposal.id)]}),q()}return B(Yt,ee=>{ee&&Re({text:xt(ee),type:"error"})}),B(Tr,ee=>{ee&&Re({text:"Executed proposal",type:"success"})}),(ee,be)=>{const we=$e,Ir=te,xa=ge,Vr=fg,Rr=W,qr=Ca;return g(),A(oe,null,[m("div",gg,[v(we,{value:a(t)("vote"),primary:!0,onClick:be[0]||(be[0]=Zt=>o.value=!0)},null,8,["value"]),a(d)?(g(),I(we,{key:0,value:a(t)(a(Da)?"executing":"execute"),primary:!0,disabled:!a(M)||a(Da),onClick:Pr},null,8,["value","disabled"])):O("",!0)]),v(qr,{show:a(o),onClose:be[2]||(be[2]=Zt=>o.value=!1)},{default:C(()=>[v(Rr,{title:a(t)("vote-with-vecrv"),class:"vote-content"},{default:C(()=>[m("div",yg,[m("div",wg,[m("div",Cg,[v(xa,{label:a(t)("voting-power"),"has-value":!0},{default:C(()=>[v(Ir,{value:a(p),precision:2,type:"dollar","show-symbol":!1,"show-zero":!0},null,8,["value"]),z(" veCRV ")]),_:1},8,["label"]),v(xa,{label:a(t)("block"),value:ee.proposal.block,"has-value":!0},null,8,["label","value"])]),m("div",$g,[m("span",kg,T(a(t)("description"))+": ",1),m("span",null,T(ee.proposal.metadata),1)])]),m("div",Sg,[v(we,{class:U(["no",{winning:a(s)<50}]),disabled:!a(r),onClick:b},{default:C(()=>[m("span",Lg,T(a(t)("no")),1)]),_:1},8,["class","disabled"]),m("div",Ag,[m("i",{class:U(["fas fa-times",{winning:a(s)<50}])},null,2),m("div",{class:U(["value",{disabled:!a(r)}]),onClick:$},[m("span",{ref_key:"editor",ref:l,contenteditable:a(r),onInput:k,textContent:T(a(i))},null,40,Tg),z(" % ")],2),m("i",{class:U(["fas fa-check",{winning:a(s)>50}])},null,2)]),v(we,{class:U(["yes",{winning:a(s)>50}]),disabled:!a(r),onClick:y},{default:C(()=>[m("span",Pg,T(a(t)("yes")),1)]),_:1},8,["class","disabled"])]),v(Vr,{modelValue:a(s),"onUpdate:modelValue":be[1]||(be[1]=Zt=>ue(s)?s.value=Zt:null),class:"slider",disabled:!a(r),min:0,max:100},null,8,["modelValue","disabled"]),v(we,{class:"submit",value:a(t)(a(u)),primary:!0,disabled:!a(r),web3:!0,onClick:Ke},null,8,["value","disabled"])])]),_:1},8,["title"])]),_:1},8,["show"])],64)}}});function $o(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{vote:{t:0,b:{t:2,i:[{t:3}],s:"Vote"}},"vote-with-vecrv":{t:0,b:{t:2,i:[{t:3}],s:"Vote with veCRV"}},voting:{t:0,b:{t:2,i:[{t:3}],s:"Voting..."}},"voting-closed":{t:0,b:{t:2,i:[{t:3}],s:"Voting closed"}},voted:{t:0,b:{t:2,i:[{t:3}],s:"You've already voted"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},"voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Voting power"}},block:{t:0,b:{t:2,i:[{t:3}],s:"Block"}},yes:{t:0,b:{t:2,i:[{t:3}],s:"Yes"}},no:{t:0,b:{t:2,i:[{t:3}],s:"No"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Submit"}},"not-enough-voting-power":{t:0,b:{t:2,i:[{t:3}],s:"Not enough veCRV voting power"}},execute:{t:0,b:{t:2,i:[{t:3}],s:"Execute"}},executing:{t:0,b:{t:2,i:[{t:3}],s:"Executing..."}}}})}typeof $o=="function"&&$o(nr);const Ig=V(nr,[["__scopeId","data-v-8fec8e74"]]),Vg={class:"voting"},Rg=P({__name:"Voting",props:{proposal:{}},setup(e){return(t,n)=>(g(),A("div",Vg,[v(vg,{proposal:t.proposal},null,8,["proposal"]),v(sg,{proposal:t.proposal},null,8,["proposal"]),v(Ig,{proposal:t.proposal},null,8,["proposal"])]))}}),qg=V(Rg,[["__scopeId","data-v-35456808"]]),Fg={class:"voters"},Dg={class:"for"},xg={class:"title"},Mg={class:"address"},Bg=["href"],Og={class:"amount"},Ug={class:"percentage"},Eg={class:"against"},Wg={class:"title"},Hg={class:"percentage"},Kg={class:"amount"},Ng={class:"address"},zg=["href"],or=P({__name:"Voters",props:{proposal:{},proposalDetails:{}},setup(e){const{t}=x(),{address:n}=$t(),o=w(()=>e.proposalDetails?D.chain(e.proposalDetails.votes).filter(r=>r.supports).orderBy(r=>r.votingPower,"desc").value():null),s=w(()=>e.proposalDetails?D.chain(e.proposalDetails.votes).filter(r=>!r.supports).orderBy(r=>r.votingPower,"desc").value():null),l=r=>r==="0x989aeb4d175e16225e39e87d0d97a3360524ad80"?"Convex":r==="0x52f541764e6e90eebc5c21ff570de0e2d63766b6"?"StakeDAO":r==="0xf147b8125d2ef93fb6965db97d6746952a133934"?"Yearn":Le(r,12),c=r=>r/(e.proposal.votesFor+e.proposal.votesAgainst)*100,i=r=>r===n.value;return(r,u)=>{const p=te;return g(),A("div",Fg,[m("div",Dg,[m("div",xg,T(a(t)("for")),1),(g(!0),A(oe,null,ve(a(o),_=>(g(),A("div",{key:_.voter,class:"vote"},[m("div",Mg,[m("a",{target:"_blank",href:`https://etherscan.io/address/${_.voter}`,class:U({you:i(_.voter)})},T(l(_.voter)),11,Bg)]),m("div",Og,[v(p,{value:_.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",Ug,[v(p,{value:c(_.votingPower),precision:0,type:"percentage"},null,8,["value"])])]))),128))]),m("div",Eg,[m("div",Wg,T(a(t)("against")),1),(g(!0),A(oe,null,ve(a(s),_=>(g(),A("div",{key:_.voter,class:"vote"},[m("div",Hg,[v(p,{value:c(_.votingPower),precision:0,type:"percentage"},null,8,["value"])]),m("div",Kg,[v(p,{value:_.votingPower,precision:2,"show-symbol":!1,type:"dollar"},null,8,["value"])]),m("div",Ng,[m("a",{target:"_blank",href:`https://etherscan.io/address/${_.voter}`,class:U({you:i(_.voter)})},T(l(_.voter)),11,zg)])]))),128))])])}}});function ko(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{for:{t:0,b:{t:2,i:[{t:3}],s:"For"}},against:{t:0,b:{t:2,i:[{t:3}],s:"Against"}}}})}typeof ko=="function"&&ko(or);const Qg=V(or,[["__scopeId","data-v-091c77d3"]]),jg={class:"technicals"},Gg={class:"technical"},Xg={class:"heading"},Yg={class:"description"},Zg={class:"technical"},Jg={class:"technical"},e1=["innerHTML"],sr=P({__name:"Technicals",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){const{t}=x(),n=R(!0),o=R(e.proposal.voteCount>0),{data:s}=Gl(H(()=>e.proposal.id),H(()=>e.proposal.type),H(()=>e.expanded)),l=w(()=>s.value?D.uniqWith(s.value.votes,(i,r)=>i.voter===r.voter).length:null),c=w(()=>s.value?s.value.script.replace(/(?:\r\n|\r|\n)/g,"<br>").replace("/├/g","├").replace("/─/g","─").replace(/0x[a-fA-F0-9]{40}/g,i=>/[A-F]/g.test(i)&&ba(i)?`<a href='https://etherscan.io/address/${i}'>${i}</a>`:i):null);return(i,r)=>{const u=Ct;return g(),A("div",jg,[m("div",Gg,[m("div",Xg,T(a(t)("description")),1),m("div",Yg,T(i.proposal.metadata),1)]),m("div",Zg,[m("div",{class:"heading",onClick:r[0]||(r[0]=p=>o.value=!a(o))},[z(T(a(t)("voters"))+" ("+T(a(l)??"?")+") ",1),m("i",{class:U(["fas fa-chevron-up expander",{expandedVoters:a(o)}])},null,2)]),v(u,{expanded:a(o)},{default:C(()=>[a(s)?(g(),I(Qg,{key:0,class:"voters",proposal:i.proposal,"proposal-details":a(s)},null,8,["proposal","proposal-details"])):O("",!0)]),_:1},8,["expanded"])]),m("div",Jg,[m("div",{class:"heading",onClick:r[1]||(r[1]=p=>n.value=!a(n))},[z(T(a(t)("calldata"))+" ",1),m("i",{class:U(["fas fa-chevron-up expander",{expandedCallData:a(n)}])},null,2)]),v(u,{expanded:a(n)},{default:C(()=>[a(s)?(g(),A("div",{key:0,class:"calldata",innerHTML:a(c)},null,8,e1)):O("",!0)]),_:1},8,["expanded"])])])}}});function So(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Description"}},calldata:{t:0,b:{t:2,i:[{t:3}],s:"Calldata"}},voters:{t:0,b:{t:2,i:[{t:3}],s:"Voters"}}}})}typeof So=="function"&&So(sr);const t1=V(sr,[["__scopeId","data-v-15f6af53"]]),a1={class:"proposal-details"},n1={class:"proposal-details-container"},o1=P({__name:"ProposalDetails",props:{proposal:{},expanded:{type:Boolean,default:!1}},setup(e){return(t,n)=>(g(),A("div",a1,[m("div",n1,[v(t1,{proposal:t.proposal,expanded:t.expanded},null,8,["proposal","expanded"]),v(qg,{proposal:t.proposal},null,8,["proposal"])])]))}}),s1=V(o1,[["__scopeId","data-v-7028e69e"]]),l1=P({__name:"Proposal",props:{proposal:{},initExpanded:{type:Boolean,default:!1}},setup(e){const t=R(e.initExpanded);return(n,o)=>{const s=Ct,l=W;return g(),I(l,{class:"proposal",compact:!0},{default:C(()=>[v(U0,{proposal:n.proposal,expanded:a(t),onToggleExpand:o[0]||(o[0]=c=>t.value=!a(t))},null,8,["proposal","expanded"]),v(s,{class:"proposal-details-collapsible",expanded:a(t)},{default:C(()=>[v(s1,{proposal:n.proposal,expanded:a(t)},null,8,["proposal","expanded"])]),_:1},8,["expanded"])]),_:1})}}}),lr=V(l1,[["__scopeId","data-v-acab9946"]]),r1={class:"item"},i1={class:"label"},rr=P({__name:"ProposalTypeSelect",emits:["select"],setup(e,{emit:t}){const{t:n}=x(),o=[...P0].filter(u=>u!=="other"),s=t,l=R(!1),c=R("all"),i=()=>{l.value=!l.value},r=u=>{c.value=u,s("select",c.value)};return(u,p)=>{const _=kt;return g(),I(_,{class:"select",options:a(o).map(d=>d),selected:a(c),open:a(l),onOpen:i,onClose:p[0]||(p[0]=d=>l.value=!1),onInput:r},{item:C(d=>[m("div",r1,[m("div",i1,T(a(n)(d.item)),1)])]),_:1},8,["options","selected","open"])}}});function Lo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},ownership:{t:0,b:{t:2,i:[{t:3}],s:"Ownership"}},parameter:{t:0,b:{t:2,i:[{t:3}],s:"Parameter"}},other:{t:0,b:{t:2,i:[{t:3}],s:"Other"}}}})}typeof Lo=="function"&&Lo(rr);const c1=V(rr,[["__scopeId","data-v-3d847865"]]),u1={class:"proposals"},d1={class:"filters"},p1={style:{display:"flex",gap:"1rem"}},m1={class:"proposals-content"},v1={key:0},ir=P({__name:"Proposals.page",setup(e){const{t}=x(),n=R(0),{page:o,onPage:s}=Pa(),l=Bt(o,200),c=R(t("search-placeholder")),i=R(""),r=Bt(i,300),u=R("all"),p=w(()=>{switch(n.value){case 0:return"all";case 1:return"active";case 2:return"passed";case 3:return"denied";case 4:return"executed";default:return"all"}}),_=w(()=>r.value.toLocaleLowerCase()),d=w(()=>{var $;return(($=b.value)==null?void 0:$.count)??0}),f=w(()=>{var $;return D.orderBy((($=b.value)==null?void 0:$.proposals)??[],k=>k.start,"desc")}),{isFetching:h,data:b}=R0(l,u,p,_),y=$=>{u.value=$};return($,k)=>{const S=He,L=We,F=Pe,M=Ee,q=Ge;return g(),A("div",u1,[v(L,{onTab:k[0]||(k[0]=E=>n.value=E.index)},{default:C(()=>[v(S,{header:a(t)("all")},null,8,["header"]),v(S,{header:a(t)("active")},null,8,["header"]),v(S,{header:a(t)("passed")},null,8,["header"]),v(S,{header:a(t)("denied")},null,8,["header"]),v(S,{header:a(t)("executed")},null,8,["header"])]),_:1}),m("div",d1,[v(F,{modelValue:a(i),"onUpdate:modelValue":k[1]||(k[1]=E=>ue(i)?i.value=E:null),class:"search",placeholder:a(c),search:!0},null,8,["modelValue","placeholder"]),m("div",p1,[v(c1,{style:{"flex-grow":"1"},onSelect:y}),v(M,{class:"pagination","items-count":a(d),"items-per-page":10,page:a(o),onPage:a(s)},null,8,["items-count","page","onPage"])])]),m("div",m1,[(g(!0),A(oe,null,ve(a(f),E=>(g(),I(lr,{key:E.id,proposal:E,class:U({loading:a(h)})},null,8,["proposal","class"]))),128)),v(M,{class:"pagination","items-count":a(d),"items-per-page":10,page:a(o),onPage:a(s)},null,8,["items-count","page","onPage"]),a(f).length===0?(g(),A("div",v1,T(a(t)("no-proposals")),1)):O("",!0),v(q,{class:U(["spinner",{loading:a(h)}])},null,8,["class"])])])}}});function Ao(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for Curve proposals"}},"no-proposals":{t:0,b:{t:2,i:[{t:3}],s:"No proposals could be found."}},all:{t:0,b:{t:2,i:[{t:3}],s:"All"}},active:{t:0,b:{t:2,i:[{t:3}],s:"Active"}},passed:{t:0,b:{t:2,i:[{t:3}],s:"Passed"}},denied:{t:0,b:{t:2,i:[{t:3}],s:"Denied"}},executed:{t:0,b:{t:2,i:[{t:3}],s:"Executed"}}}})}typeof Ao=="function"&&Ao(ir);const _1=V(ir,[["__scopeId","data-v-288924ec"]]),h1={class:"proposal-container"},f1=P({__name:"Proposal.page",setup(e){const t=Ce("proposalId",0,{transform:Number}),n=Ce("proposalType"),{isFetching:o,data:s}=Gl(t,n);return(l,c)=>{const i=Ge;return g(),A("div",h1,[v(i,{class:U(["spinner",{loading:a(o)}])},null,8,["class"]),!a(o)&&a(s)?(g(),I(lr,{key:0,proposal:a(s),"init-expanded":!0},null,8,["proposal"])):O("",!0)])}}}),b1=V(f1,[["__scopeId","data-v-b5eb5204"]]),g1=[{stateMutability:"nonpayable",type:"function",name:"deploy_gauge",inputs:[{name:"_receiver",type:"address"},{name:"_max_emissions",type:"uint256"}],outputs:[{name:"",type:"address"}]}],y1={class:"form"},w1={class:"field"},C1={class:"label"},$1={class:"value"},k1={class:"field"},S1={class:"label"},L1={class:"value"},cr=P({__name:"DeployGauge",emits:["gauge"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=R(!1),l=R(""),c=R(0),i=w(()=>Yo),r=w(()=>ba(l.value.toLocaleLowerCase())&&c.value>0),u=ga();async function p(){if(!l.value||!c.value)return;const _=l.value.toLocaleLowerCase();typeof c.value=="string"&&(c.value=parseFloat(c.value));const d=ya(c.value,18n);return ts(s,async()=>{const{result:f,request:h}=await ii(u,{abi:g1,address:Zo,functionName:"deploy_gauge",args:[_,d]}),b=await No(u,h);await zo(u,{hash:b}),o("gauge",f)})}return(_,d)=>{const f=Pe,h=Us,b=$e,y=W;return g(),I(y,{class:"add-new",title:"Gauge Creation"},{default:C(()=>[m("div",y1,[m("div",w1,[m("div",C1,T(a(n)("receiver"))+":",1),m("div",$1,[v(f,{modelValue:a(l),"onUpdate:modelValue":d[0]||(d[0]=$=>ue(l)?l.value=$:null),placeholder:a(i)},null,8,["modelValue","placeholder"])])]),m("div",k1,[m("div",S1,T(a(n)("amount"))+":",1),m("div",L1,[v(h,{modelValue:a(c),"onUpdate:modelValue":d[1]||(d[1]=$=>ue(c)?c.value=$:null),min:1,max:3303030299},null,8,["modelValue"])])])]),v(b,{class:"action-button request",value:a(n)("submit"),disabled:!a(r)||a(s),primary:!0,web3:!0,onClick:p},null,8,["value","disabled"])]),_:1})}}});function To(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{receiver:{t:0,b:{t:2,i:[{t:3}],s:"Receiver"}},amount:{t:0,b:{t:2,i:[{t:3}],s:"CRV Amount (Max)"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Fundraising Gauge"}}}})}typeof To=="function"&&To(cr);const A1=V(cr,[["__scopeId","data-v-9c06f3ce"]]),T1=[{constant:!1,inputs:[{name:"_target",type:"address"},{name:"_ethValue",type:"uint256"},{name:"_data",type:"bytes"}],name:"execute",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],P1=[{constant:!1,inputs:[{name:"_executionScript",type:"bytes"},{name:"_metadata",type:"string"},{name:"_castVote",type:"bool"},{name:"_executesIfDecided",type:"bool"}],name:"newVote",outputs:[{name:"voteId",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"}],I1=[{name:"add_gauge",outputs:[],inputs:[{type:"address",name:"addr"},{type:"int128",name:"gauge_type"},{type:"uint256",name:"weight"}],stateMutability:"nonpayable",type:"function"}],V1={class:"form"},R1={class:"field"},q1={class:"label"},F1={class:"value"},D1={class:"field"},x1={class:"label"},M1={class:"value"},ur=P({__name:"GaugeVote",props:{gauge:{default:""}},emits:["request"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=R(!1),l=R(""),c=R(n("placeholder")),i=w(()=>Yo),r=w(()=>ba(l.value)&&!!c.value),u=w(()=>r.value&&!s.value);B(()=>e.gauge,f=>{l.value=f.toLocaleLowerCase()});async function p(){if(l.value)return ts(s,async()=>{await d(),o("request")})}const _=ga();async function d(){const f="0xe478de485ad2fe566d49342cbd03e49ed7db3356",h="0x40907540d8a6c65c637785e8f8b742ae6b0b9968",b=(G,J)=>String(G).padStart(J,"0"),y=Oa({abi:I1,functionName:"add_gauge",args:[l.value,10n,0n]});let $="0x00000001";const k=Oa({abi:T1,functionName:"execute",args:[Jo,0n,y]}).substring(2),S=b((Math.floor(k.length)/2).toString(16),8);$=`${$}${h.substring(2)}${S}${k}`;const L=new FormData,M={text:c.value.replace(/(\r\n|\n|\r)/gm,"")};L.append("file",JSON.stringify(M));const ne=(await(await fetch("https://ipfs.infura.io:5001/api/v0/add",{method:"POST",body:L})).json()).Hash,N=await No(_,{abi:P1,address:f,functionName:"newVote",args:[$,`ipfs:${ne}`,!1,!1]});await zo(_,{hash:N})}return(f,h)=>{const b=Pe,y=$e,$=W;return g(),I($,{class:"add-new",title:"Gauge Addition Vote"},{default:C(()=>[m("div",V1,[m("div",R1,[m("div",q1,T(a(n)("gauge"))+":",1),m("div",F1,[v(b,{modelValue:a(l),"onUpdate:modelValue":h[0]||(h[0]=k=>ue(l)?l.value=k:null),placeholder:a(i)},null,8,["modelValue","placeholder"])])]),m("div",D1,[m("div",x1,T(a(n)("description"))+":",1),m("div",M1,[v(b,{modelValue:a(c),"onUpdate:modelValue":h[1]||(h[1]=k=>ue(c)?c.value=k:null)},null,8,["modelValue"])])])]),v(y,{class:"action-button request",value:a(n)("submit"),disabled:!a(u),primary:!0,web3:!0,onClick:p},null,8,["value","disabled"])]),_:1})}}});function Po(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{gauge:{t:0,b:{t:2,i:[{t:3}],s:"Gauge Address"}},description:{t:0,b:{t:2,i:[{t:3}],s:"Vote Description"}},placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Add a grant gauge: "}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Create Gauge Addition Vote"}}}})}typeof Po=="function"&&Po(ur);const B1=V(ur,[["__scopeId","data-v-a001424b"]]),O1={class:"ve-funder"},U1={class:"explanation"},E1={class:"step-one"},W1=["innerHTML"],H1=["innerHTML"],K1={class:"step-two"},N1=["innerHTML"],z1={href:"https://gov.curve.fi/",target:"_blank"},Q1={class:"forms"},dr=P({__name:"VeFunder.page",setup(e){const{t}=x(),n=R(""),o=s=>{n.value=s};return(s,l)=>{const c=W;return g(),A("div",O1,[m("div",U1,[v(c,null,{default:C(()=>[m("div",E1,[m("span",{innerHTML:a(t)("process")},null,8,W1),m("ol",null,[m("li",null,T(a(t)("process-1")),1),m("li",{innerHTML:a(t)("process-2")},null,8,H1)])]),m("div",K1,[m("span",{innerHTML:a(t)("requirements")},null,8,N1),m("ol",null,[m("li",null,[z(T(a(t)("requirements-1a"))+" ",1),m("a",z1,T(a(t)("requirements-1b")),1)]),m("li",null,T(a(t)("requirements-2")),1)])])]),_:1})]),m("div",Q1,[v(A1,{onGauge:o}),v(B1,{gauge:a(n)},null,8,["gauge"])])])}}});function Io(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{process:{t:0,b:{t:2,i:[{t:3}],s:"<strong>veFunder</strong> process:"}},"process-1":{t:0,b:{t:2,i:[{t:3}],s:"Create a fundraising gauge contract that allows a receiver to get a certain amount of CRV."}},"process-2":{t:0,b:{t:2,i:[{t:3}],s:"Request a vote to add the gauge to the controller.<br />When passed, the newly created gauge can be voted on during gauge votes and can then receive gauge emissions."}},requirements:{t:0,b:{t:2,i:[{t:3}],s:"<strong>Gauge vote requirements:</strong>"}},"requirements-1a":{t:0,b:{t:2,i:[{t:3}],s:"New gauge votes must have a vote on the governance forum"}},"requirements-1b":{t:0,b:{t:2,i:[{t:3}],s:"at this address"}},"requirements-2":{t:0,b:{t:2,i:[{t:3}],s:"You must have a minimum of 2,500 veCRV to create this vote"}}}})}typeof Io=="function"&&Io(dr);const j1=V(dr,[["__scopeId","data-v-9854e2e0"]]),G1="/assets/header--BhHUuM7.png",X1={},Y1=e=>(pe("data-v-80c6610f"),e=e(),me(),e),Z1={class:"header"},J1=Y1(()=>m("img",{class:"header-image",src:G1},null,-1)),ey=[J1];function ty(e,t){return g(),A("div",Z1,ey)}const ay=V(X1,[["render",ty],["__scopeId","data-v-80c6610f"]]),ny={class:"general"},oy=["innerHTML"],pr=P({__name:"General",props:{model:{}},setup(e){const{t}=x(),n=w(()=>{var r;return(r=e.model)==null?void 0:r.crvLockedDollars}),o=w(()=>{var r;return(r=e.model)==null?void 0:r.crvLockedDollarsMonthly}),s=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxTvl}),l=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxVotingPercentage}),c=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxMarketCap}),i=w(()=>{var r;return(r=e.model)==null?void 0:r.cvxMarketCapFullyDiluted});return(r,u)=>{const p=te;return g(),A("div",ny,[m("div",{class:"title",innerHTML:a(t)("description")},null,8,oy),m("ul",null,[m("li",null,[v(p,{value:a(n),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("locked-1"))+" ",1),v(p,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("locked-2")),1)]),m("li",null,[v(p,{value:a(s),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("locked-2"))+" ",1),v(p,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(a(t)("locked-3")),1)]),m("li",null,[z(T(a(t)("mcap-1"))+" ",1),v(p,{value:a(c),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("mcap-2"))+" ",1),v(p,{value:a(i),precision:0,type:"dollar"},null,8,["value"]),z(". ")])])])}}});function Vo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{description:{t:0,b:{t:2,i:[{t:3}],s:"Total locked value, incentives &amp; market cap"}},"locked-1":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract, and is continuing to see a rate of about"}},"locked-2":{t:0,b:{t:2,i:[{t:3}],s:"worth of CRV permanently locked in its contract per month."}},"locked-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"tvl-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex currently has about"}},"tvl-2":{t:0,b:{t:2,i:[{t:3}],s:"TVL and controls close to"}},"tvl-3":{t:0,b:{t:2,i:[{t:3}],s:"of the voting power of Curve."}},"mcap-1":{t:0,b:{t:2,i:[{t:3}],s:"Convex's market cap is just"}},"mcap-2":{t:0,b:{t:2,i:[{t:3}],s:"with a fully diluted valuation of"}}}})}typeof Vo=="function"&&Vo(pr);const sy=V(pr,[["__scopeId","data-v-c68342f5"]]),ly={class:"bribes"},ry={class:"title"},mr=P({__name:"Bribes",props:{model:{}},setup(e){const{t}=x(),n=w(()=>{var s;return(s=e.model)==null?void 0:s.bribesIncomeAnnually}),o=w(()=>{var s;return(s=e.model)==null?void 0:s.bribesIncomeBiWeekly});return(s,l)=>{const c=te;return g(),A("div",ly,[m("div",ry,T(a(t)("incentives")),1),m("ul",null,[m("li",null,T(a(t)("description")),1),m("li",null,[z(T(a(t)("annual-1"))+" ",1),v(c,{value:a(n),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("annual-2")),1)]),m("li",null,[z(T(a(t)("biweek-1"))+" ",1),v(c,{value:a(o),precision:0,type:"dollar"},null,8,["value"]),z(" "+T(a(t)("biweek-2")),1)])])])}}});function Ro(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{incentives:{t:0,b:{t:2,i:[{t:3}],s:"Incentives"}},description:{t:0,b:{t:2,i:[{t:3}],s:"CVX acts as a union controlling CRV rewards for Curve LP pools. To receive rewards, incentives must be paid to locked CVX holders."}},"annual-1":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders will potentially earn over"}},"annual-2":{t:0,b:{t:2,i:[{t:3}],s:"in incentives over a 1 year period."}},"biweek-1":{t:0,b:{t:2,i:[{t:3}],s:"Incentives to CVX holders are very likely to reach"}},"biweek-2":{t:0,b:{t:2,i:[{t:3}],s:"biweekly in the coming weeks (based on total rewards paid by Votium app)"}}}})}typeof Ro=="function"&&Ro(mr);const iy=V(mr,[["__scopeId","data-v-6ddf569b"]]),cy="/assets/cvx-PJG1_7yb.png",uy="/assets/cvxcrv-B_jSbKBn.png",vr=e=>(pe("data-v-1cb9eeb6"),e=e(),me(),e),dy={class:"farm"},py={class:"title"},my={class:"values"},vy={class:"cvx"},_y={class:"content"},hy={class:"value"},fy={class:"description"},by=vr(()=>m("img",{class:"logo",src:cy},null,-1)),gy={class:"crv"},yy=vr(()=>m("img",{class:"logo",src:uy},null,-1)),wy={class:"content"},Cy={class:"value"},$y={class:"description"},_r=P({__name:"Farm",props:{model:{}},setup(e){const{t}=x(),n=new es,{address:o}=$t(),s=ga(),l=R(void 0),c=w(()=>{var i;return(i=e.model)==null?void 0:i.cvxApr});return B(o,async()=>{const i=ci(s);if(!i)throw Error("Cannot create public viem client");const u=(await cc(i,n)).reduce((p,_)=>p+_,0)/2;l.value=u*100},{immediate:!0}),(i,r)=>{const u=te;return g(),A("div",dy,[m("div",py,T(a(t)("income")),1),m("div",my,[m("div",vy,[m("div",_y,[m("span",hy,[v(u,{value:a(c),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(a(t)("apr")),1)]),m("span",fy,[z(T(a(t)("apr-1"))+" ",1),v(u,{value:a(c),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(a(t)("apr-2")),1)])]),by]),m("div",gy,[yy,m("div",wy,[m("span",Cy,[v(u,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(a(t)("apr")),1)]),m("span",$y,[z(T(a(t)("staked"))+" ",1),v(u,{value:a(l),precision:0,type:"percentage"},null,8,["value"]),z(" "+T(a(t)("apr"))+". ",1)])])])])])}}});function qo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{income:{t:0,b:{t:2,i:[{t:3}],s:"Income"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}},"apr-1":{t:0,b:{t:2,i:[{t:3}],s:"Locked CVX earns"}},"apr-2":{t:0,b:{t:2,i:[{t:3}],s:"APR with incentives."}},staked:{t:0,b:{t:2,i:[{t:3}],s:"Staked cvxCRV earns"}}}})}typeof qo=="function"&&qo(_r);const ky=V(_r,[["__scopeId","data-v-1cb9eeb6"]]);class Sy extends Xe{async getConvex(){const t="flyer-convex",n=await this.getHost();return this.fetch(`${n}/dashboard/${t}`)}async getAura(){const t="flyer-aura",n=await this.getHost();return this.fetch(`${n}/dashboard/${t}`)}}const Ly={class:"flyer"},Ay={class:"flyer-items"},Ty=P({__name:"Flyer.page",setup(e){const t=new Sy(je()),n=R(null);return he(async()=>{const o=await bt(t.getConvex());o.statusCode===200&&o.dashboard&&(n.value=o.dashboard)}),(o,s)=>(g(),A("div",Ly,[m("div",Ay,[v(ay),v(ky,{model:a(n)},null,8,["model"]),v(sy,{model:a(n)},null,8,["model"]),v(iy,{model:a(n)},null,8,["model"])])]))}}),Py=V(Ty,[["__scopeId","data-v-33341a13"]]),Iy={totalCrvRevenueToLpProviders:0,totalCvxRevenueToLpProviders:0,totalFxsRevenueToLpProviders:0,totalCrvRevenueToCvxCrvStakers:0,totalCvxRevenueToCvxCrvStakers:0,totalThreeCrvRevenueToCvxCrvStakers:0,totalFxsRevenueToCvxFxsStakers:0,totalCrvRevenueToCvxStakers:0,totalFxsRevenueToCvxStakers:0,totalCrvRevenueToCallers:0,totalFxsRevenueToCallers:0,totalCrvRevenueToPlatform:0,totalFxsRevenueToPlatform:0,totalCrvRevenue:0,totalFxsRevenue:0,totalBribeRevenue:0,totalOtherRevenue:0},Vy={crvRevenueToLpProvidersAmount:0,cvxRevenueToLpProvidersAmount:0,crvRevenueToCvxCrvStakersAmount:0,cvxRevenueToCvxCrvStakersAmount:0,threeCrvRevenueToCvxCrvStakersAmount:0,crvRevenueToCvxStakersAmount:0,crvRevenueToCallersAmount:0,crvRevenueToPlatformAmount:0,totalCrvRevenue:0,fxsRevenueToCvxStakersAmount:0,fxsRevenueToCvxFxsStakersAmount:0,fxsRevenueToLpProvidersAmount:0,fxsRevenueToCallersAmount:0,fxsRevenueToPlatformAmount:0,totalFxsRevenue:0,bribeRevenue:0,otherRevenue:0,timestamp:0},Ve=yt("convexStore",()=>{const e=R([]),t=R({}),n=R(Iy),o=R([Vy]);function s(l,c){t.value[l.name]=c}return{pools:e,snapshots:t,revenue:n,historicalRevenue:o,setSnapshots:s}});function Ry(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const hr=P({__name:"ChartApr",props:{poolSelected:{}},setup(e){const{t}=x(),n=Ve(),{theme:o}=K(Q()),s=w(()=>e.poolSelected?n.snapshots[e.poolSelected.name]??[]:[]),l=w(()=>se(o.value,{chart:{id:"convex-apr",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const u=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].snapshot;return[`<div><b>${t("base")}</b>:</div><div>${i(u.baseApr)}</div>`,`<div><b>${t("crv")}</b>:</div><div>${i(u.crvApr)}</div>`,`<div><b>${t("cvx")}</b>:</div><div>${i(u.cvxApr)}</div>`,`<div><b>${t("extra")}</b>:</div><div>${i(u.extraRewardsApr)}</div>`].join("")}}})),c=w(()=>[{name:"APR",data:s.value.map(r=>({x:r.timeStamp*1e3,y:Ry(r),snapshot:r}))}]),i=r=>(r*=100,`${Y(r,1,"percentage")}${X(r,"percentage")}`);return(r,u)=>{const p=de;return g(),I(p,{class:"apr",title:a(t)("title"),options:a(l),series:a(c)},null,8,["title","options","series"])}}});function Fo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Annual Percentage Rate"}},base:{t:0,b:{t:2,i:[{t:3}],s:"Base"}},crv:{t:0,b:{t:2,i:[{t:3}],s:"CRV"}},cvx:{t:0,b:{t:2,i:[{t:3}],s:"CVX"}},exta:{t:0,b:{t:2,i:[{t:3}],s:"Extra"}}}})}typeof Fo=="function"&&Fo(hr);const qy=V(hr,[["__scopeId","data-v-91b3cbe3"]]),fr=P({__name:"ChartTvl",props:{poolSelected:{}},setup(e){const{t}=x(),n=Ve(),{theme:o}=K(Q()),s=w(()=>e.poolSelected?n.snapshots[e.poolSelected.name]??[]:[]),l=w(()=>se(o.value,{chart:{id:"convex-tvl",type:"area",animations:{enabled:!1}},xaxis:{type:"datetime"},yaxis:{labels:{formatter:r=>i(r)}},fill:{type:"gradient",gradient:{type:"vertical",shadeIntensity:0,inverseColors:!1,opacityFrom:.5,opacityTo:0,stops:[0,90,100]}},dataLabels:{enabled:!1},tooltip:{followCursor:!1,enabled:!0,intersect:!1,custom:r=>{const u=r.w.globals.initialSeries[r.seriesIndex].data[r.dataPointIndex].y;return`<div><b>${t("tvl")}</b>:</div><div>${i(u)}</div>`}}})),c=w(()=>[{name:"tvl",data:s.value.map(r=>({x:r.timeStamp*1e3,y:r.tvl}))}]),i=r=>`$${Y(r,1,"dollar")}${X(r,"dollar")}`;return(r,u)=>{const p=de;return g(),I(p,{class:"tvl",title:a(t)("title"),options:a(l),series:a(c)},null,8,["title","options","series"])}}});function Do(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Total Value Locked"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}}}})}typeof Do=="function"&&Do(fr);const Fy=V(fr,[["__scopeId","data-v-51afb198"]]);function xo(e){return e.baseApr+e.crvApr+e.cvxApr+e.extraRewardsApr}const Dy={class:"end"},xy={class:"end"},My={key:0,class:"charts"},br=P({__name:"TablePools",props:{expanded:{default:()=>[]}},emits:["selected"],setup(e,{emit:t}){const{t:n}=x(),o=t,s=Ve(),l=w(()=>["",{id:"name",label:n("name"),sort:!0},{id:"apr",label:n("apr"),sort:!0,align:"end"},{id:"tvl",label:n("tvl"),sort:!0,align:"end"}]),{sorting:c,onSort:i}=At("tvl"),r=w(()=>D.orderBy(s.pools.filter(u=>!ac(u.name)),u=>{switch(c.value.column){case"name":return Be(u.name);case"apr":return xo(u);case"tvl":return u.tvl;default:return u.tvl}},c.value.order));return(u,p)=>{const _=te,d=re,f=W;return g(),I(f,{title:a(n)("title")},{default:C(()=>[v(d,{class:"pools-table",rows:a(r),columns:a(l),sorting:a(c),expanded:u.expanded,onSortColumn:a(i),onSelected:p[0]||(p[0]=h=>o("selected",h))},{row:C(h=>[m("div",null,T(a(Be)(h.item.name)),1),m("div",Dy,[v(_,{value:a(xo)(h.item)*100,precision:1,type:"percentage"},null,8,["value"])]),m("div",xy,[v(_,{value:h.item.tvl,precision:1,type:"dollar"},null,8,["value"])])]),"row-details":C(h=>[u.expanded.includes(h.item)?(g(),A("div",My,[v(a(Fy),{class:"tvl","pool-selected":h.item},null,8,["pool-selected"]),v(a(qy),{class:"apr","pool-selected":h.item},null,8,["pool-selected"])])):O("",!0)]),_:1},8,["rows","columns","sorting","expanded","onSortColumn"])]),_:1},8,["title"])}}});function Mo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Convex Pools"}},name:{t:0,b:{t:2,i:[{t:3}],s:"Name"}},tvl:{t:0,b:{t:2,i:[{t:3}],s:"TVL"}},apr:{t:0,b:{t:2,i:[{t:3}],s:"APR"}}}})}typeof Mo=="function"&&Mo(br);const By=V(br,[["__scopeId","data-v-54469965"]]);class Oy extends Xe{async get(){const t=await this.getHost();return this.fetch(`${t}/pool`)}}class Uy extends Xe{async get(t){const n=await this.getHost();return this.fetch(`${n}/poolsnapshots`,{pool:t.name})}}const Ey={class:"pools"},Wy={class:"dashboard"},Hy=P({__name:"Pools.page",setup(e){let t=!1;const n=new Oy(je()),o=new Uy(je()),s=Ve(),l=Ce("pool"),c=Oe(),{expanded:i,toggleExpansion:r}=Xt();he(async()=>{t=!0;const d=await bt(n.get());if(d){const f=d.pools;if(f.sort((h,b)=>b.tvl-h.tvl),s.pools=f.filter(h=>h.tvl>1e3),!t)return;l.value&&p(l.value)}}),fa(()=>{t=!1});const u=async d=>{if(!d||s.snapshots[d.name])return;const f=await bt(o.get(d),500);if(f){const h=f.data.snapshots;s.setSnapshots(d,h)}},p=d=>{const f=wa(d),h=s.pools.find(b=>b.name===f);h&&r(h)&&u(h)},_=async d=>{r(d)&&(u(d),await c.push({name:"convexpools",params:{pool:Be(d.name)}}))};return(d,f)=>(g(),A("div",Ey,[m("div",Wy,[v(By,{class:"pools-table",expanded:a(i),onSelected:_},null,8,["expanded"])])]))}}),Ky=V(Hy,[["__scopeId","data-v-70401c09"]]),Ny="https://api-py.llama.airforce/convex/v1/platform/revenue/snapshots?groupby=m",zy="https://api-py.llama.airforce/convex/v1/platform/revenue";class Qy extends Ae{get(){return this.fetch(zy).then(t=>t.revenue[0])}}class jy extends Ae{get(){return this.fetch(Ny).then(t=>t.revenue)}}const Gy=P({__name:"RevenueSources",setup(e){const t=Ve(),{theme:n}=K(Q()),o=w(()=>[{source:"CRV",value:t.revenue.totalCrvRevenue},{source:"3CRV",value:t.revenue.totalThreeCrvRevenueToCvxCrvStakers},{source:"FXS",value:t.revenue.totalFxsRevenue},{source:"Others (POL, Votemarket)",value:t.revenue.totalOtherRevenue},{source:"Bribes",value:t.revenue.totalBribeRevenue}]),s=w(()=>{const{colors:i}=n.value;return se(n.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{pie:{donut:{size:"60%"},dataLabels:{offset:5,minAngleToShowLabel:3}}},dataLabels:{style:{fontSize:"12px"},formatter:function(r){return Math.round(r).toString()+"%"},dropShadow:!1},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"donut",animations:{enabled:!1}},colors:[i.blue,i.green,i.purple,i.yellow,i.red],labels:o.value.map(r=>r.source)})}),l=w(()=>o.value.map(i=>i.value)),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"breakdown-revenue",options:a(s),series:a(l)},null,8,["options","series"])}}}),Xy=P({__name:"LPRevenue",setup(e){const t=Ve(),{theme:n}=K(Q()),o=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToLpProvidersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToLpProvidersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToLpProvidersAmount)}]),s=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=n.value;return se(n.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"lp-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Yy=P({__name:"HolderRevenue",setup(e){const t=Ve(),{theme:n}=K(Q()),o=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)}]),s=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=n.value;return se(n.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.red],labels:o.value.map(r=>r.name)})}),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"holder-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Zy=P({__name:"HistoricalRevenue",setup(e){const t=Ve(),{theme:n}=K(Q()),o=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.totalCrvRevenue)},{name:"FXS",data:t.historicalRevenue.map(i=>i.totalFxsRevenue)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"Bribes",data:t.historicalRevenue.map(i=>i.bribeRevenue)},{name:"Others",data:t.historicalRevenue.map(i=>i.otherRevenue)}]),s=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=n.value;return se(n.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.purple,i.green,i.red,i.yellow],labels:o.value.map(r=>r.name)})}),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"historical-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),Jy=P({__name:"LiquidRevenue",setup(e){const t=Ve(),{theme:n}=K(Q()),o=w(()=>[{name:"CRV",data:t.historicalRevenue.map(i=>i.crvRevenueToCvxCrvStakersAmount)},{name:"CVX",data:t.historicalRevenue.map(i=>i.cvxRevenueToCvxCrvStakersAmount)},{name:"3CRV",data:t.historicalRevenue.map(i=>i.threeCrvRevenueToCvxCrvStakersAmount)},{name:"FXS",data:t.historicalRevenue.map(i=>i.fxsRevenueToCvxFxsStakersAmount)}]),s=w(()=>t.historicalRevenue.map(i=>new Date(i.timestamp*1e3))),l=w(()=>{const{colors:i}=n.value;return se(n.value,{legend:{inverseOrder:!0},stroke:{width:.5},fill:{type:"solid",opacity:.9},plotOptions:{bar:{horizontal:!1}},xaxis:{categories:s.value.map(r=>r.toISOString().split("T")[0])},yaxis:{labels:{formatter:c}},tooltip:{inverseOrder:!0,style:{fontSize:"10px"},y:{formatter:c}},chart:{id:"chainRevenues",type:"bar",stacked:!0,animations:{enabled:!1}},dataLabels:{enabled:!1},colors:[i.blue,i.yellow,i.green,i.purple],labels:o.value.map(r=>r.name)})}),c=i=>`$${Y(Math.abs(i),1,"dollar")}${X(i,"dollar")}`;return(i,r)=>{const u=de;return g(),I(u,{class:"liquid-revenue",options:a(l),series:a(o)},null,8,["options","series"])}}}),e2={class:"summary"},gr=P({__name:"Summary",setup(e){const{t}=x(),n=Ve(),o=w(()=>n.revenue.totalBribeRevenue+n.revenue.totalThreeCrvRevenueToCvxCrvStakers+n.revenue.totalCrvRevenue+n.revenue.totalFxsRevenue+n.revenue.totalOtherRevenue),s=w(()=>n.revenue.totalCrvRevenueToLpProviders+n.revenue.totalFxsRevenueToLpProviders+n.revenue.totalCvxRevenueToLpProviders),l=w(()=>n.revenue.totalCrvRevenueToPlatform+n.revenue.totalFxsRevenueToPlatform+n.revenue.totalFxsRevenueToCallers+n.revenue.totalOtherRevenue),c=w(()=>n.revenue.totalBribeRevenue+n.revenue.totalCrvRevenueToCvxStakers+n.revenue.totalFxsRevenueToCvxStakers),i=w(()=>n.revenue.totalCrvRevenueToCvxCrvStakers+n.revenue.totalCvxRevenueToCvxCrvStakers+n.revenue.totalFxsRevenueToCvxFxsStakers+n.revenue.totalThreeCrvRevenueToCvxCrvStakers);return(r,u)=>{const p=te,_=ge;return g(),A("div",e2,[v(_,{class:"all-time-revenue",label:a(t)("all-time-revenue"),"has-value":!!a(o)},{default:C(()=>[v(p,{value:a(o),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(_,{class:"lp-revenue",label:a(t)("lp-revenue"),"has-value":!!a(s)},{default:C(()=>[v(p,{value:a(s),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(_,{class:"holder",label:a(t)("holder-revenue"),"has-value":!!a(c)},{default:C(()=>[v(p,{value:a(c),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(_,{class:"liquid-revenue",label:a(t)("liquid-revenue"),"has-value":!!a(i)},{default:C(()=>[v(p,{value:a(i),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"]),v(_,{class:"protocol-revenue",label:a(t)("protocol-revenue"),"has-value":!!a(l)},{default:C(()=>[v(p,{value:a(l),precision:2,type:"dollar"},null,8,["value"])]),_:1},8,["label","has-value"])])}}});function Bo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"all-time-revenue":{t:0,b:{t:2,i:[{t:3}],s:"All time total revenue"}},"lp-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for LPs (incl. CVX emissions)"}},"protocol-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue directed to Convex treasury"}},"holder-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for CVX lockers"}},"liquid-revenue":{t:0,b:{t:2,i:[{t:3}],s:"Revenue for liquid lockers (cvxCRV, cvxFXS)"}}}})}typeof Bo=="function"&&Bo(gr);const t2=V(gr,[["__scopeId","data-v-12aa5999"]]),a2={class:"revenue"},n2={class:"revenue-charts"},yr=P({__name:"Revenue.page",setup(e){const{t}=x(),n=new Qy,o=new jy;let s=!1;const l=Ve(),c=R(!1);return ui(async()=>{if(s)return;s=!0,c.value=!0;const i=await n.get();i&&(l.revenue=i);const r=await o.get();r&&(l.historicalRevenue=r),c.value=!1,s=!1}),fa(()=>{s=!1}),(i,r)=>{const u=Ge;return g(),A("div",a2,[m("div",{class:U(["dashboard",{loading:a(c)}])},[a(c)?(g(),I(u,{key:0,class:"spinner"})):O("",!0),m("div",n2,[v(t2,{class:"summary"}),v(Gy,{class:"chart-revenue-sources",title:a(t)("revenue-breakdown")},null,8,["title"]),v(Zy,{class:"chart-historical-revenue",title:a(t)("revenue-historical")},null,8,["title"]),v(Xy,{class:"chart-lp-revenue",title:a(t)("revenue-lp")},null,8,["title"]),v(Yy,{class:"chart-holder-revenue",title:a(t)("revenue-holder")},null,8,["title"]),v(Jy,{class:"chart-liquid-revenue",title:a(t)("revenue-liquid")},null,8,["title"])])],2)])}}});function Oo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{"revenue-breakdown":{t:0,b:{t:2,i:[{t:3}],s:"Breakdown of total revenue by source"}},"revenue-lp":{t:0,b:{t:2,i:[{t:3}],s:"Liquidity providers rewards breakdown"}},"revenue-holder":{t:0,b:{t:2,i:[{t:3}],s:"CVX holders rewards breakdown"}},"revenue-historical":{t:0,b:{t:2,i:[{t:3}],s:"Historical total revenue breakdown"}},"revenue-liquid":{t:0,b:{t:2,i:[{t:3}],s:"Liquid lockers rewards breakdown"}}}})}typeof Oo=="function"&&Oo(yr);const o2=V(yr,[["__scopeId","data-v-6b254c5a"]]);let ia;function s2(){return ia||(ia=Bl({url:"wss://api.defimonitor.com/main"})),ia}class l2{constructor(t,n){this.socket=t,this.transfers$=(n==null?void 0:n.transers$)??Jb(t,"NewTransfersUSDC")}subTransfers(){this.socket.emit("connectToUSDCLivestream")}}const pa=new Map,wr=new di(void 0);function r2({queryKey:e,queryFn:t,enabled:n,observable:o,setQueryData:s,resetOnSubscribe:l}){const c=Qo(),i=w(()=>JSON.stringify(e.value)),r=w(()=>n.value&&!!o.value),u=Z({queryKey:e,queryFn:()=>new Promise((p,_)=>{var f;l&&c.setQueryData(e.value,null);let d=pa.get(i.value);(f=d==null?void 0:d.subscription)==null||f.unsubscribe(),d={subscription:o.value.subscribe({next:h=>{const b=c.getQueryData(e),y=s(b,h);c.setQueryData(e.value,y),p(y)},error:h=>{_(h instanceof Error?h:new Error(String(h)))}}),users:new Set},pa.set(i.value,d),wr.next(d),t()}),enabled:r,staleTime:1/0});return B(o,async(p,_)=>{_&&p!==_&&await c.invalidateQueries({queryKey:e})}),i2(e,i,r),u}function i2(e,t,n){const o=Qo(),s=D.uniqueId();let l;const c=wr.subscribe(r=>{l=r,l&&n.value&&l.users.add(s)});B(n,async r=>{r?l&&l.users.add(s):await i()});async function i(){l&&(l.users.delete(s),l.users.size===0&&(l.subscription.unsubscribe(),pa.delete(t.value),await o.invalidateQueries({queryKey:e})))}return _a(async()=>{await i(),c.unsubscribe()}),i}function c2(){const{socket:e,isConnected:t,url:n}=s2(),o=w(()=>e.value?new l2(e.value):null),s=w(()=>["defimonitor-transfers",n.value]);return r2({queryKey:s,queryFn:()=>{var l;return(l=o.value)==null?void 0:l.subTransfers()},enabled:t,observable:w(()=>{var l;return(l=o.value)==null?void 0:l.transfers$}),setQueryData:(l,c)=>[...l??[],...c.transfers.flat()],resetOnSubscribe:!0})}const u2={style:{display:"flex",gap:"1rem"}},d2={class:"hash"},p2=["href"],m2=["href"],v2=["href"],_2=["href"],h2={class:"token"},f2=["href"],b2={class:"end"},g2=["href"],ca=10,Cr=P({__name:"TableTransfers",setup(e){const{t}=x(),{data:n,isFetching:o}=c2(),{relativeTime:s}=ut(),l=R(""),c=w(()=>D.chain(n.value??[]).filter(d=>{const f=l.value.toLocaleLowerCase().split(" "),h=$=>f.some(k=>$.toLocaleLowerCase().includes(k)),b=f.length===1?parseFloat(f[0]):NaN,y=isNaN(b)?0:b;return h(d.transferFrom)||h(d.transferTo)||y>0&&d.parsedAmount>=y}).orderBy([d=>d.blockUnixtime,d=>d.positionInBlock],"desc").value()),{page:i,rowsPage:r,onPage:u}=Gt(c,ca),p=d=>d<1?d.toFixed(4):d>1e3?d.toFixed(0):d.toFixed(2),_=async d=>{await navigator.clipboard.writeText(d)};return(d,f)=>{const h=Pe,b=Ee,y=$e,$=Ue,k=re,S=W;return g(),I(S,{class:"transfers-card",title:a(t)("title"),loading:a(o)},{actions:C(()=>[m("div",u2,[v(h,{modelValue:a(l),"onUpdate:modelValue":f[0]||(f[0]=L=>ue(l)?l.value=L:null),search:!0,placeholder:a(t)("search-placeholder")},null,8,["modelValue","placeholder"]),a(c).length>ca?(g(),I(b,{key:0,"items-count":a(c).length,"items-per-page":ca,page:a(i),onPage:a(u)},null,8,["items-count","page","onPage"])):O("",!0)])]),default:C(()=>[v(k,{class:"transfers-table",rows:a(r),columns:["Hash","Block","Gas","From","To","Amount","Token",{label:"Age",align:"end"}]},{row:C(({item:L})=>[m("div",d2,[m("a",{class:"font-mono",href:`https://etherscan.io/tx/${L.txHash}`,target:"_blank"},T(a(yc)(L.txHash,10)),9,p2),v(y,{icon:"fas fa-link",onClick:F=>_(L.txHash)},null,8,["onClick"])]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/block/${L.blockNumber}`,target:"_blank"},T(L.blockNumber),9,m2)]),m("div",null,T(L.gasInGwei),1),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/address/${L.transferFrom}`,target:"_blank"},T(a(Le)(L.transferFrom,10)),9,v2)]),m("div",null,[m("a",{class:"font-mono",href:`https://etherscan.io/addr ess/${L.transferTo}`,target:"_blank"},T(a(Le)(L.transferTo,10)),9,_2)]),m("div",null,T(p(L.parsedAmount)),1),m("div",h2,[v($,{chain:"ethereum",address:L.coinAddress},null,8,["address"]),m("a",{target:"_blank",href:`https://etherscan.io/address/${L.coinAddress}`},T(L.coinSymbol),9,f2)]),m("div",b2,[m("a",{href:`https://etherscan.io/tx/${L.txHash}`,target:"_blank",onClick:f[1]||(f[1]=Te(()=>{},["stop"]))},T(a(s)(L.blockUnixtime)),9,g2)])]),_:1},8,["rows"])]),_:1},8,["title","loading"])}}});function Uo(e){const t=e;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"en",resource:{title:{t:0,b:{t:2,i:[{t:3}],s:"Transfers"}},"search-placeholder":{t:0,b:{t:2,i:[{t:3}],s:"Search for..."}}}})}typeof Uo=="function"&&Uo(Cr);const y2=V(Cr,[["__scopeId","data-v-a904cc64"]]),w2={class:"transfers"},C2=P({__name:"Transfers",setup(e){return(t,n)=>(g(),A("div",w2,[v(y2,{style:{"grid-area":"transfers"}})]))}}),$2=V(C2,[["__scopeId","data-v-d77940cd"]]),k2={class:"monitor"},S2=P({__name:"DefiMonitor.page",setup(e){const{tabActive:t,tabActiveIndex:n}=it(["transfers"],"defimonitor");return(o,s)=>{const l=He,c=We;return g(),A("div",k2,[v(c,{active:a(n),onTab:s[0]||(s[0]=i=>n.value=i.index)},{default:C(()=>[v(l,{header:"Transfers"},{default:C(()=>[(g(),I(ye,null,[a(t)==="transfers"?(g(),I($2,{key:0})):O("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),L2=V(S2,[["__scopeId","data-v-f9561d29"]]),A2=[{path:"/",component:qp},{path:"/platform",redirect:{name:"revenue"}},{path:"/platform/chains/:chain?/:type?",name:"chains",component:bm},{path:"/platform/pools/:chain?",name:"pools",component:Gm},{path:"/platform/pools/:chain/:poolAddr/:tab?",name:"poolspool",component:hv},{path:"/platform/gauges/old",component:Lv},{path:"/platform/revenue/:tab?",name:"revenue",component:Q_},{path:"/platform/crvusd",name:"crvusd",component:Nh},{path:"/platform/crvusd/market/:marketAddr/:tab?",name:"crvusdmarket",component:Yf},{path:"/platform/lending/:chain?",name:"llamalend",component:wb},{path:"/platform/lending/:chain/:marketAddr/:tab?",name:"llamalendmarket",component:Zb},{path:"/platform/monitor",name:"monitor",component:T0},{path:"/dao",redirect:{name:"proposals"}},{path:"/dao/proposals",name:"proposals",component:_1},{path:"/dao/proposal/:proposalType/:proposalId",component:b1},{path:"/dao/vefunder",component:j1},{path:"/convex",redirect:{name:"flyer"}},{path:"/convex/flyer",name:"flyer",component:Py},{path:"/convex/pools/:pool?",name:"convexpools",component:Ky},{path:"/convex/revenue",name:"convexrevenue",component:o2},{path:"/defimonitor",name:"defimonitor",component:L2}],T2={titleRoute:"/",menuItems:[{label:"Platform",children:[{to:"/platform/chains",label:"Chains"},{to:"/platform/pools",label:"Pools",tag:"alpha"},{to:"/platform/revenue",label:"Revenue"},{to:"/platform/crvusd",label:"crvUSD"},{to:"/platform/lending",label:"Lending"},{to:"/platform/monitor",label:"Monitor",tag:"beta"}]},{label:"DAO",children:[{to:"/dao/proposals",label:"Proposals"},{to:"/dao/vefunder",label:"VeFunder"}]},{label:"Convex",initCollapsed:!0,children:[{to:"/convex/flyer",label:"Flyer"},{to:"/convex/pools",label:"Pools"},{to:"/convex/revenue",label:"Revenue"}]}]};let $r="http://localhost:8545";$r=void 0;const P2=pi({chains:[ft],connectors:[Ua(),mi({projectId:"7a61bbd683f613a5308ca86fd4cb14f7",showQrModal:!0,qrModalOptions:{themeMode:"dark"}}),vi(),_i()],transports:{[ft.id]:hi([Ea($r,{batch:{wait:100}}),fi(Ua),Ea("https://eth.llamarpc.com",{batch:{wait:200}})])}});function I2(e){const t=bi(e),n=gi({legacy:!1,locale:"en",fallbackLocale:"en"});t.use(n);const o=yi();t.use(o);const s=new wi({defaultOptions:{queries:{staleTime:1e3*60*5,queryKeyHashFn:Ci}},queryCache:new $i({onError:(l,c)=>{l.message.includes("Connector not connected")||l.message.includes("connector2.getAccounts is not a function")||l.message.includes("getAccounts is not a function")||Re({text:`Failed querying ${c.queryHash} >>> ${l.message}`,type:"error"})}})});return t.use(ki).use(Si,{queryClient:s}).use(Li).use(Ai,{config:P2}),{app:t,pinia:o}}const{app:V2}=I2(Ou),R2=[T2],q2=[A2],kr=ka();kr.pages=R2;kr.routes=q2;const F2=cd();V2.use(F2).mount("#app");

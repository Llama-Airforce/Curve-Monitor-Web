import{_ as H,a as R}from"./TabItem.vue_vue_type_script_setup_true_lang-lNcA9AQG.js";import{d as f,h,o as l,w as d,b as _,u as t,a,j as $,t as n,Q as m,_ as V,a8 as A,e as k,c as S,a3 as Q,W as q}from"./index-BRHGtWW5.js";import{_ as x}from"./Table-cwMxYDg5.js";import{_ as D}from"./ChainIcon-CNU7GrUs.js";import{t as E,g as F,f as K}from"./timestamp-CoE2HNXc.js";import{u as L}from"./useQuery-Dyjqso2z.js";import{u as j}from"./UseRelativeTime-DNZyfopG.js";import{u as J}from"./UseTabNavigation-IChH235n.js";import"./index-DYfLpxFS.js";const P=c=>({lastRecordedBlock:c.last_recorded_block,oracles:c.oracles.map(({block_header:e,...o})=>({chain:o.chain,address:o.address,lastConfirmedBlockNumber:o.last_confirmed_block_number,blockHeader:{hashBlock:e.block_hash,hashParent:e.parent_hash,stateRoot:e.state_root,blockNumber:e.block_number,timestamp:E(e.timestamp)}}))});async function W(c){const e=F(c),o=await K(`${e}/v1/oracles/all`);return P(o)}function z(){return L({queryKey:["oracles-all"],queryFn:()=>W()})}const G={class:"icon"},M=["onClick"],U={class:"end"},X=["onClick"],Y=["onClick"],Z=["onClick"],ee={class:"end"},se=f({__name:"TableOracles",setup(c){const{isFetching:e,data:o}=z(),{relativeTime:v}=j();async function r(s){A({text:`Copied ${s}`,type:"success",duration:5e3}),await navigator.clipboard.writeText(s)}return(s,b)=>{const u=D,w=x,O=V;return l(),h(O,{title:"Oracles",loading:t(e)},{actions:d(()=>{var i;return[$(" Last Recorded Block: "+n((i=t(o))==null?void 0:i.lastRecordedBlock),1)]}),default:d(()=>{var i;return[_(w,{loading:t(e),rows:((i=t(o))==null?void 0:i.oracles)??[],columns:["Chain","Address",{label:"Last Block",align:"end"},"Block Hash","Parent Hash","State Root",{label:"Time",align:"end"}]},{row:d(({item:{chain:g,address:C,lastConfirmedBlockNumber:N,blockHeader:{hashBlock:B,hashParent:T,stateRoot:y,timestamp:I}}})=>[a("div",G,[_(u,{chain:g},null,8,["chain"]),$(" "+n(g),1)]),a("div",null,[a("a",{onClick:p=>r(C)},n(("addressShort"in s?s.addressShort:t(m))(C,12)),9,M)]),a("div",U,n(N),1),a("div",null,[a("a",{onClick:p=>r(B)},n(("addressShort"in s?s.addressShort:t(m))(B,12)),9,X)]),a("div",null,[a("a",{onClick:p=>r(T)},n(("addressShort"in s?s.addressShort:t(m))(T,12)),9,Y)]),a("div",null,[a("a",{onClick:p=>r(y)},n(("addressShort"in s?s.addressShort:t(m))(y,12)),9,Z)]),a("div",ee,n(t(v)(I.getTime())),1)]),_:1},8,["loading","rows"])]}),_:1},8,["loading"])}}}),oe=k(se,[["__scopeId","data-v-73433d40"]]),ae={class:"dashboard-grid"},te=f({__name:"BlockOracles",setup(c){return(e,o)=>(l(),S("div",ae,[_(oe,{style:{"grid-area":"oracles"}})]))}}),ne=k(te,[["__scopeId","data-v-bf881f2d"]]),ce={class:"dashboard"},re=f({__name:"CrossChain.page",setup(c){const{tabActive:e,tabActiveIndex:o}=J(["block-oracles"],"cross-chain");return(v,r)=>{const s=H,b=R;return l(),S("div",ce,[_(b,{active:t(o),onTab:r[0]||(r[0]=u=>o.value=u.index)},{default:d(()=>[_(s,{header:"Block Oracles"},{default:d(()=>[(l(),h(Q,null,[t(e)==="block-oracles"?(l(),h(ne,{key:0})):q("",!0)],1024))]),_:1})]),_:1},8,["active"])])}}}),ke=k(re,[["__scopeId","data-v-f7c09895"]]);export{ke as default};
